var rO=Object.defineProperty;var t1=e=>{throw TypeError(e)};var nO=(e,t,r)=>t in e?rO(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var ah=(e,t,r)=>nO(e,typeof t!="symbol"?t+"":t,r),hv=(e,t,r)=>t.has(e)||t1("Cannot "+r);var K=(e,t,r)=>(hv(e,t,"read from private field"),r?r.call(e):t.get(e)),Qe=(e,t,r)=>t.has(e)?t1("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),Me=(e,t,r,n)=>(hv(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),pt=(e,t,r)=>(hv(e,t,"access private method"),r);var ih=(e,t,r,n)=>({set _(a){Me(e,t,a,r)},get _(){return K(e,t,n)}});function sO(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var xs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function OS(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function aO(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}),r}var DS={exports:{}},Cp={},IS={exports:{}},_t={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xf=Symbol.for("react.element"),iO=Symbol.for("react.portal"),oO=Symbol.for("react.fragment"),lO=Symbol.for("react.strict_mode"),cO=Symbol.for("react.profiler"),dO=Symbol.for("react.provider"),uO=Symbol.for("react.context"),fO=Symbol.for("react.forward_ref"),hO=Symbol.for("react.suspense"),mO=Symbol.for("react.memo"),pO=Symbol.for("react.lazy"),r1=Symbol.iterator;function gO(e){return e===null||typeof e!="object"?null:(e=r1&&e[r1]||e["@@iterator"],typeof e=="function"?e:null)}var FS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},LS=Object.assign,$S={};function id(e,t,r){this.props=e,this.context=t,this.refs=$S,this.updater=r||FS}id.prototype.isReactComponent={};id.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};id.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function zS(){}zS.prototype=id.prototype;function M0(e,t,r){this.props=e,this.context=t,this.refs=$S,this.updater=r||FS}var A0=M0.prototype=new zS;A0.constructor=M0;LS(A0,id.prototype);A0.isPureReactComponent=!0;var n1=Array.isArray,US=Object.prototype.hasOwnProperty,O0={current:null},BS={key:!0,ref:!0,__self:!0,__source:!0};function qS(e,t,r){var n,a={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)US.call(t,n)&&!BS.hasOwnProperty(n)&&(a[n]=t[n]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];a.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:xf,type:e,key:i,ref:o,props:a,_owner:O0.current}}function vO(e,t){return{$$typeof:xf,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function D0(e){return typeof e=="object"&&e!==null&&e.$$typeof===xf}function xO(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var s1=/\/+/g;function mv(e,t){return typeof e=="object"&&e!==null&&e.key!=null?xO(""+e.key):t.toString(36)}function qh(e,t,r,n,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case xf:case iO:o=!0}}if(o)return o=e,a=a(o),e=n===""?"."+mv(o,0):n,n1(a)?(r="",e!=null&&(r=e.replace(s1,"$&/")+"/"),qh(a,t,r,"",function(d){return d})):a!=null&&(D0(a)&&(a=vO(a,r+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(s1,"$&/")+"/")+e)),t.push(a)),1;if(o=0,n=n===""?".":n+":",n1(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+mv(i,l);o+=qh(i,t,r,c,a)}else if(c=gO(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+mv(i,l++),o+=qh(i,t,r,c,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function oh(e,t,r){if(e==null)return e;var n=[],a=0;return qh(e,n,"","",function(i){return t.call(r,i,a++)}),n}function yO(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Nn={current:null},Vh={transition:null},wO={ReactCurrentDispatcher:Nn,ReactCurrentBatchConfig:Vh,ReactCurrentOwner:O0};function VS(){throw Error("act(...) is not supported in production builds of React.")}_t.Children={map:oh,forEach:function(e,t,r){oh(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return oh(e,function(){t++}),t},toArray:function(e){return oh(e,function(t){return t})||[]},only:function(e){if(!D0(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};_t.Component=id;_t.Fragment=oO;_t.Profiler=cO;_t.PureComponent=M0;_t.StrictMode=lO;_t.Suspense=hO;_t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wO;_t.act=VS;_t.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=LS({},e.props),a=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=O0.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)US.call(t,c)&&!BS.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];n.children=l}return{$$typeof:xf,type:e.type,key:a,ref:i,props:n,_owner:o}};_t.createContext=function(e){return e={$$typeof:uO,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:dO,_context:e},e.Consumer=e};_t.createElement=qS;_t.createFactory=function(e){var t=qS.bind(null,e);return t.type=e,t};_t.createRef=function(){return{current:null}};_t.forwardRef=function(e){return{$$typeof:fO,render:e}};_t.isValidElement=D0;_t.lazy=function(e){return{$$typeof:pO,_payload:{_status:-1,_result:e},_init:yO}};_t.memo=function(e,t){return{$$typeof:mO,type:e,compare:t===void 0?null:t}};_t.startTransition=function(e){var t=Vh.transition;Vh.transition={};try{e()}finally{Vh.transition=t}};_t.unstable_act=VS;_t.useCallback=function(e,t){return Nn.current.useCallback(e,t)};_t.useContext=function(e){return Nn.current.useContext(e)};_t.useDebugValue=function(){};_t.useDeferredValue=function(e){return Nn.current.useDeferredValue(e)};_t.useEffect=function(e,t){return Nn.current.useEffect(e,t)};_t.useId=function(){return Nn.current.useId()};_t.useImperativeHandle=function(e,t,r){return Nn.current.useImperativeHandle(e,t,r)};_t.useInsertionEffect=function(e,t){return Nn.current.useInsertionEffect(e,t)};_t.useLayoutEffect=function(e,t){return Nn.current.useLayoutEffect(e,t)};_t.useMemo=function(e,t){return Nn.current.useMemo(e,t)};_t.useReducer=function(e,t,r){return Nn.current.useReducer(e,t,r)};_t.useRef=function(e){return Nn.current.useRef(e)};_t.useState=function(e){return Nn.current.useState(e)};_t.useSyncExternalStore=function(e,t,r){return Nn.current.useSyncExternalStore(e,t,r)};_t.useTransition=function(){return Nn.current.useTransition()};_t.version="18.3.1";IS.exports=_t;var f=IS.exports;const he=OS(f),I0=sO({__proto__:null,default:he},[f]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bO=f,jO=Symbol.for("react.element"),_O=Symbol.for("react.fragment"),NO=Object.prototype.hasOwnProperty,SO=bO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,CO={key:!0,ref:!0,__self:!0,__source:!0};function WS(e,t,r){var n,a={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)NO.call(t,n)&&!CO.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:jO,type:e,key:i,ref:o,props:a,_owner:SO.current}}Cp.Fragment=_O;Cp.jsx=WS;Cp.jsxs=WS;DS.exports=Cp;var s=DS.exports,HS={exports:{}},ns={},KS={exports:{}},GS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(I,D){var C=I.length;I.push(D);e:for(;0<C;){var E=C-1>>>1,A=I[E];if(0<a(A,D))I[E]=D,I[C]=A,C=E;else break e}}function r(I){return I.length===0?null:I[0]}function n(I){if(I.length===0)return null;var D=I[0],C=I.pop();if(C!==D){I[0]=C;e:for(var E=0,A=I.length,Y=A>>>1;E<Y;){var k=2*(E+1)-1,z=I[k],ne=k+1,Q=I[ne];if(0>a(z,C))ne<A&&0>a(Q,z)?(I[E]=Q,I[ne]=C,E=ne):(I[E]=z,I[k]=C,E=k);else if(ne<A&&0>a(Q,C))I[E]=Q,I[ne]=C,E=ne;else break e}}return D}function a(I,D){var C=I.sortIndex-D.sortIndex;return C!==0?C:I.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,h=null,m=3,p=!1,w=!1,v=!1,g=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(I){for(var D=r(d);D!==null;){if(D.callback===null)n(d);else if(D.startTime<=I)n(d),D.sortIndex=D.expirationTime,t(c,D);else break;D=r(d)}}function _(I){if(v=!1,b(I),!w)if(r(c)!==null)w=!0,ee(N);else{var D=r(d);D!==null&&J(_,D.startTime-I)}}function N(I,D){w=!1,v&&(v=!1,y(T),T=-1),p=!0;var C=m;try{for(b(D),h=r(c);h!==null&&(!(h.expirationTime>D)||I&&!re());){var E=h.callback;if(typeof E=="function"){h.callback=null,m=h.priorityLevel;var A=E(h.expirationTime<=D);D=e.unstable_now(),typeof A=="function"?h.callback=A:h===r(c)&&n(c),b(D)}else n(c);h=r(c)}if(h!==null)var Y=!0;else{var k=r(d);k!==null&&J(_,k.startTime-D),Y=!1}return Y}finally{h=null,m=C,p=!1}}var P=!1,S=null,T=-1,U=5,q=-1;function re(){return!(e.unstable_now()-q<U)}function G(){if(S!==null){var I=e.unstable_now();q=I;var D=!0;try{D=S(!0,I)}finally{D?H():(P=!1,S=null)}}else P=!1}var H;if(typeof x=="function")H=function(){x(G)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,se=V.port2;V.port1.onmessage=G,H=function(){se.postMessage(null)}}else H=function(){g(G,0)};function ee(I){S=I,P||(P=!0,H())}function J(I,D){T=g(function(){I(e.unstable_now())},D)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(I){I.callback=null},e.unstable_continueExecution=function(){w||p||(w=!0,ee(N))},e.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<I?Math.floor(1e3/I):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(I){switch(m){case 1:case 2:case 3:var D=3;break;default:D=m}var C=m;m=D;try{return I()}finally{m=C}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(I,D){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var C=m;m=I;try{return D()}finally{m=C}},e.unstable_scheduleCallback=function(I,D,C){var E=e.unstable_now();switch(typeof C=="object"&&C!==null?(C=C.delay,C=typeof C=="number"&&0<C?E+C:E):C=E,I){case 1:var A=-1;break;case 2:A=250;break;case 5:A=1073741823;break;case 4:A=1e4;break;default:A=5e3}return A=C+A,I={id:u++,callback:D,priorityLevel:I,startTime:C,expirationTime:A,sortIndex:-1},C>E?(I.sortIndex=C,t(d,I),r(c)===null&&I===r(d)&&(v?(y(T),T=-1):v=!0,J(_,C-E))):(I.sortIndex=A,t(c,I),w||p||(w=!0,ee(N))),I},e.unstable_shouldYield=re,e.unstable_wrapCallback=function(I){var D=m;return function(){var C=m;m=D;try{return I.apply(this,arguments)}finally{m=C}}}})(GS);KS.exports=GS;var kO=KS.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EO=f,es=kO;function je(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var YS=new Set,Ru={};function pl(e,t){Lc(e,t),Lc(e+"Capture",t)}function Lc(e,t){for(Ru[e]=t,e=0;e<t.length;e++)YS.add(t[e])}var Qa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Rx=Object.prototype.hasOwnProperty,PO=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,a1={},i1={};function TO(e){return Rx.call(i1,e)?!0:Rx.call(a1,e)?!1:PO.test(e)?i1[e]=!0:(a1[e]=!0,!1)}function RO(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function MO(e,t,r,n){if(t===null||typeof t>"u"||RO(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Sn(e,t,r,n,a,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var tn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){tn[e]=new Sn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];tn[t]=new Sn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){tn[e]=new Sn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){tn[e]=new Sn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){tn[e]=new Sn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){tn[e]=new Sn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){tn[e]=new Sn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){tn[e]=new Sn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){tn[e]=new Sn(e,5,!1,e.toLowerCase(),null,!1,!1)});var F0=/[\-:]([a-z])/g;function L0(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(F0,L0);tn[t]=new Sn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(F0,L0);tn[t]=new Sn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(F0,L0);tn[t]=new Sn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){tn[e]=new Sn(e,1,!1,e.toLowerCase(),null,!1,!1)});tn.xlinkHref=new Sn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){tn[e]=new Sn(e,1,!1,e.toLowerCase(),null,!0,!0)});function $0(e,t,r,n){var a=tn.hasOwnProperty(t)?tn[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(MO(t,r,a,n)&&(r=null),n||a===null?TO(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var ii=EO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,lh=Symbol.for("react.element"),ec=Symbol.for("react.portal"),tc=Symbol.for("react.fragment"),z0=Symbol.for("react.strict_mode"),Mx=Symbol.for("react.profiler"),QS=Symbol.for("react.provider"),XS=Symbol.for("react.context"),U0=Symbol.for("react.forward_ref"),Ax=Symbol.for("react.suspense"),Ox=Symbol.for("react.suspense_list"),B0=Symbol.for("react.memo"),yi=Symbol.for("react.lazy"),ZS=Symbol.for("react.offscreen"),o1=Symbol.iterator;function $d(e){return e===null||typeof e!="object"?null:(e=o1&&e[o1]||e["@@iterator"],typeof e=="function"?e:null)}var mr=Object.assign,pv;function Jd(e){if(pv===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);pv=t&&t[1]||""}return`
`+pv+e}var gv=!1;function vv(e,t){if(!e||gv)return"";gv=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var n=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){n=d}e.call(t.prototype)}else{try{throw Error()}catch(d){n=d}e()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var a=d.stack.split(`
`),i=n.stack.split(`
`),o=a.length-1,l=i.length-1;1<=o&&0<=l&&a[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==i[l]){var c=`
`+a[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{gv=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Jd(e):""}function AO(e){switch(e.tag){case 5:return Jd(e.type);case 16:return Jd("Lazy");case 13:return Jd("Suspense");case 19:return Jd("SuspenseList");case 0:case 2:case 15:return e=vv(e.type,!1),e;case 11:return e=vv(e.type.render,!1),e;case 1:return e=vv(e.type,!0),e;default:return""}}function Dx(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case tc:return"Fragment";case ec:return"Portal";case Mx:return"Profiler";case z0:return"StrictMode";case Ax:return"Suspense";case Ox:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case XS:return(e.displayName||"Context")+".Consumer";case QS:return(e._context.displayName||"Context")+".Provider";case U0:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case B0:return t=e.displayName||null,t!==null?t:Dx(e.type)||"Memo";case yi:t=e._payload,e=e._init;try{return Dx(e(t))}catch{}}return null}function OO(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Dx(t);case 8:return t===z0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function to(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function JS(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function DO(e){var t=JS(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ch(e){e._valueTracker||(e._valueTracker=DO(e))}function eC(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=JS(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function mm(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ix(e,t){var r=t.checked;return mr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function l1(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=to(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function tC(e,t){t=t.checked,t!=null&&$0(e,"checked",t,!1)}function Fx(e,t){tC(e,t);var r=to(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Lx(e,t.type,r):t.hasOwnProperty("defaultValue")&&Lx(e,t.type,to(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function c1(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Lx(e,t,r){(t!=="number"||mm(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var eu=Array.isArray;function mc(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+to(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function $x(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(je(91));return mr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function d1(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(je(92));if(eu(r)){if(1<r.length)throw Error(je(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:to(r)}}function rC(e,t){var r=to(t.value),n=to(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function u1(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function nC(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function zx(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?nC(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var dh,sC=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(dh=dh||document.createElement("div"),dh.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=dh.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Mu(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var mu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},IO=["Webkit","ms","Moz","O"];Object.keys(mu).forEach(function(e){IO.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),mu[t]=mu[e]})});function aC(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||mu.hasOwnProperty(e)&&mu[e]?(""+t).trim():t+"px"}function iC(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=aC(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var FO=mr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ux(e,t){if(t){if(FO[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(je(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(je(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(je(61))}if(t.style!=null&&typeof t.style!="object")throw Error(je(62))}}function Bx(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qx=null;function q0(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Vx=null,pc=null,gc=null;function f1(e){if(e=bf(e)){if(typeof Vx!="function")throw Error(je(280));var t=e.stateNode;t&&(t=Rp(t),Vx(e.stateNode,e.type,t))}}function oC(e){pc?gc?gc.push(e):gc=[e]:pc=e}function lC(){if(pc){var e=pc,t=gc;if(gc=pc=null,f1(e),t)for(e=0;e<t.length;e++)f1(t[e])}}function cC(e,t){return e(t)}function dC(){}var xv=!1;function uC(e,t,r){if(xv)return e(t,r);xv=!0;try{return cC(e,t,r)}finally{xv=!1,(pc!==null||gc!==null)&&(dC(),lC())}}function Au(e,t){var r=e.stateNode;if(r===null)return null;var n=Rp(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(je(231,t,typeof r));return r}var Wx=!1;if(Qa)try{var zd={};Object.defineProperty(zd,"passive",{get:function(){Wx=!0}}),window.addEventListener("test",zd,zd),window.removeEventListener("test",zd,zd)}catch{Wx=!1}function LO(e,t,r,n,a,i,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(r,d)}catch(u){this.onError(u)}}var pu=!1,pm=null,gm=!1,Hx=null,$O={onError:function(e){pu=!0,pm=e}};function zO(e,t,r,n,a,i,o,l,c){pu=!1,pm=null,LO.apply($O,arguments)}function UO(e,t,r,n,a,i,o,l,c){if(zO.apply(this,arguments),pu){if(pu){var d=pm;pu=!1,pm=null}else throw Error(je(198));gm||(gm=!0,Hx=d)}}function gl(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function fC(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function h1(e){if(gl(e)!==e)throw Error(je(188))}function BO(e){var t=e.alternate;if(!t){if(t=gl(e),t===null)throw Error(je(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return h1(a),e;if(i===n)return h1(a),t;i=i.sibling}throw Error(je(188))}if(r.return!==n.return)r=a,n=i;else{for(var o=!1,l=a.child;l;){if(l===r){o=!0,r=a,n=i;break}if(l===n){o=!0,n=a,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=a;break}if(l===n){o=!0,n=i,r=a;break}l=l.sibling}if(!o)throw Error(je(189))}}if(r.alternate!==n)throw Error(je(190))}if(r.tag!==3)throw Error(je(188));return r.stateNode.current===r?e:t}function hC(e){return e=BO(e),e!==null?mC(e):null}function mC(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=mC(e);if(t!==null)return t;e=e.sibling}return null}var pC=es.unstable_scheduleCallback,m1=es.unstable_cancelCallback,qO=es.unstable_shouldYield,VO=es.unstable_requestPaint,Nr=es.unstable_now,WO=es.unstable_getCurrentPriorityLevel,V0=es.unstable_ImmediatePriority,gC=es.unstable_UserBlockingPriority,vm=es.unstable_NormalPriority,HO=es.unstable_LowPriority,vC=es.unstable_IdlePriority,kp=null,ua=null;function KO(e){if(ua&&typeof ua.onCommitFiberRoot=="function")try{ua.onCommitFiberRoot(kp,e,void 0,(e.current.flags&128)===128)}catch{}}var Us=Math.clz32?Math.clz32:QO,GO=Math.log,YO=Math.LN2;function QO(e){return e>>>=0,e===0?32:31-(GO(e)/YO|0)|0}var uh=64,fh=4194304;function tu(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function xm(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~a;l!==0?n=tu(l):(i&=o,i!==0&&(n=tu(i)))}else o=r&~a,o!==0?n=tu(o):i!==0&&(n=tu(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Us(t),a=1<<r,n|=e[r],t&=~a;return n}function XO(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ZO(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Us(i),l=1<<o,c=a[o];c===-1?(!(l&r)||l&n)&&(a[o]=XO(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function Kx(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function xC(){var e=uh;return uh<<=1,!(uh&4194240)&&(uh=64),e}function yv(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function yf(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Us(t),e[t]=r}function JO(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-Us(r),i=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~i}}function W0(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Us(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var $t=0;function yC(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var wC,H0,bC,jC,_C,Gx=!1,hh=[],zi=null,Ui=null,Bi=null,Ou=new Map,Du=new Map,ji=[],eD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function p1(e,t){switch(e){case"focusin":case"focusout":zi=null;break;case"dragenter":case"dragleave":Ui=null;break;case"mouseover":case"mouseout":Bi=null;break;case"pointerover":case"pointerout":Ou.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Du.delete(t.pointerId)}}function Ud(e,t,r,n,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},t!==null&&(t=bf(t),t!==null&&H0(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function tD(e,t,r,n,a){switch(t){case"focusin":return zi=Ud(zi,e,t,r,n,a),!0;case"dragenter":return Ui=Ud(Ui,e,t,r,n,a),!0;case"mouseover":return Bi=Ud(Bi,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return Ou.set(i,Ud(Ou.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,Du.set(i,Ud(Du.get(i)||null,e,t,r,n,a)),!0}return!1}function NC(e){var t=Oo(e.target);if(t!==null){var r=gl(t);if(r!==null){if(t=r.tag,t===13){if(t=fC(r),t!==null){e.blockedOn=t,_C(e.priority,function(){bC(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Wh(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Yx(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);qx=n,r.target.dispatchEvent(n),qx=null}else return t=bf(r),t!==null&&H0(t),e.blockedOn=r,!1;t.shift()}return!0}function g1(e,t,r){Wh(e)&&r.delete(t)}function rD(){Gx=!1,zi!==null&&Wh(zi)&&(zi=null),Ui!==null&&Wh(Ui)&&(Ui=null),Bi!==null&&Wh(Bi)&&(Bi=null),Ou.forEach(g1),Du.forEach(g1)}function Bd(e,t){e.blockedOn===t&&(e.blockedOn=null,Gx||(Gx=!0,es.unstable_scheduleCallback(es.unstable_NormalPriority,rD)))}function Iu(e){function t(a){return Bd(a,e)}if(0<hh.length){Bd(hh[0],e);for(var r=1;r<hh.length;r++){var n=hh[r];n.blockedOn===e&&(n.blockedOn=null)}}for(zi!==null&&Bd(zi,e),Ui!==null&&Bd(Ui,e),Bi!==null&&Bd(Bi,e),Ou.forEach(t),Du.forEach(t),r=0;r<ji.length;r++)n=ji[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<ji.length&&(r=ji[0],r.blockedOn===null);)NC(r),r.blockedOn===null&&ji.shift()}var vc=ii.ReactCurrentBatchConfig,ym=!0;function nD(e,t,r,n){var a=$t,i=vc.transition;vc.transition=null;try{$t=1,K0(e,t,r,n)}finally{$t=a,vc.transition=i}}function sD(e,t,r,n){var a=$t,i=vc.transition;vc.transition=null;try{$t=4,K0(e,t,r,n)}finally{$t=a,vc.transition=i}}function K0(e,t,r,n){if(ym){var a=Yx(e,t,r,n);if(a===null)Pv(e,t,n,wm,r),p1(e,n);else if(tD(a,e,t,r,n))n.stopPropagation();else if(p1(e,n),t&4&&-1<eD.indexOf(e)){for(;a!==null;){var i=bf(a);if(i!==null&&wC(i),i=Yx(e,t,r,n),i===null&&Pv(e,t,n,wm,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else Pv(e,t,n,null,r)}}var wm=null;function Yx(e,t,r,n){if(wm=null,e=q0(n),e=Oo(e),e!==null)if(t=gl(e),t===null)e=null;else if(r=t.tag,r===13){if(e=fC(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return wm=e,null}function SC(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(WO()){case V0:return 1;case gC:return 4;case vm:case HO:return 16;case vC:return 536870912;default:return 16}default:return 16}}var Di=null,G0=null,Hh=null;function CC(){if(Hh)return Hh;var e,t=G0,r=t.length,n,a="value"in Di?Di.value:Di.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===a[i-n];n++);return Hh=a.slice(e,1<n?1-n:void 0)}function Kh(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function mh(){return!0}function v1(){return!1}function ss(e){function t(r,n,a,i,o){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?mh:v1,this.isPropagationStopped=v1,this}return mr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=mh)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=mh)},persist:function(){},isPersistent:mh}),t}var od={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Y0=ss(od),wf=mr({},od,{view:0,detail:0}),aD=ss(wf),wv,bv,qd,Ep=mr({},wf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Q0,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==qd&&(qd&&e.type==="mousemove"?(wv=e.screenX-qd.screenX,bv=e.screenY-qd.screenY):bv=wv=0,qd=e),wv)},movementY:function(e){return"movementY"in e?e.movementY:bv}}),x1=ss(Ep),iD=mr({},Ep,{dataTransfer:0}),oD=ss(iD),lD=mr({},wf,{relatedTarget:0}),jv=ss(lD),cD=mr({},od,{animationName:0,elapsedTime:0,pseudoElement:0}),dD=ss(cD),uD=mr({},od,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),fD=ss(uD),hD=mr({},od,{data:0}),y1=ss(hD),mD={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vD(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=gD[e])?!!t[e]:!1}function Q0(){return vD}var xD=mr({},wf,{key:function(e){if(e.key){var t=mD[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Kh(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?pD[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Q0,charCode:function(e){return e.type==="keypress"?Kh(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Kh(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),yD=ss(xD),wD=mr({},Ep,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),w1=ss(wD),bD=mr({},wf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Q0}),jD=ss(bD),_D=mr({},od,{propertyName:0,elapsedTime:0,pseudoElement:0}),ND=ss(_D),SD=mr({},Ep,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),CD=ss(SD),kD=[9,13,27,32],X0=Qa&&"CompositionEvent"in window,gu=null;Qa&&"documentMode"in document&&(gu=document.documentMode);var ED=Qa&&"TextEvent"in window&&!gu,kC=Qa&&(!X0||gu&&8<gu&&11>=gu),b1=" ",j1=!1;function EC(e,t){switch(e){case"keyup":return kD.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function PC(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var rc=!1;function PD(e,t){switch(e){case"compositionend":return PC(t);case"keypress":return t.which!==32?null:(j1=!0,b1);case"textInput":return e=t.data,e===b1&&j1?null:e;default:return null}}function TD(e,t){if(rc)return e==="compositionend"||!X0&&EC(e,t)?(e=CC(),Hh=G0=Di=null,rc=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return kC&&t.locale!=="ko"?null:t.data;default:return null}}var RD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _1(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!RD[e.type]:t==="textarea"}function TC(e,t,r,n){oC(n),t=bm(t,"onChange"),0<t.length&&(r=new Y0("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var vu=null,Fu=null;function MD(e){UC(e,0)}function Pp(e){var t=ac(e);if(eC(t))return e}function AD(e,t){if(e==="change")return t}var RC=!1;if(Qa){var _v;if(Qa){var Nv="oninput"in document;if(!Nv){var N1=document.createElement("div");N1.setAttribute("oninput","return;"),Nv=typeof N1.oninput=="function"}_v=Nv}else _v=!1;RC=_v&&(!document.documentMode||9<document.documentMode)}function S1(){vu&&(vu.detachEvent("onpropertychange",MC),Fu=vu=null)}function MC(e){if(e.propertyName==="value"&&Pp(Fu)){var t=[];TC(t,Fu,e,q0(e)),uC(MD,t)}}function OD(e,t,r){e==="focusin"?(S1(),vu=t,Fu=r,vu.attachEvent("onpropertychange",MC)):e==="focusout"&&S1()}function DD(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Pp(Fu)}function ID(e,t){if(e==="click")return Pp(t)}function FD(e,t){if(e==="input"||e==="change")return Pp(t)}function LD(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var qs=typeof Object.is=="function"?Object.is:LD;function Lu(e,t){if(qs(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!Rx.call(t,a)||!qs(e[a],t[a]))return!1}return!0}function C1(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function k1(e,t){var r=C1(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=C1(r)}}function AC(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?AC(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function OC(){for(var e=window,t=mm();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=mm(e.document)}return t}function Z0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function $D(e){var t=OC(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&AC(r.ownerDocument.documentElement,r)){if(n!==null&&Z0(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!e.extend&&i>n&&(a=n,n=i,i=a),a=k1(r,i);var o=k1(r,n);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var zD=Qa&&"documentMode"in document&&11>=document.documentMode,nc=null,Qx=null,xu=null,Xx=!1;function E1(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Xx||nc==null||nc!==mm(n)||(n=nc,"selectionStart"in n&&Z0(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),xu&&Lu(xu,n)||(xu=n,n=bm(Qx,"onSelect"),0<n.length&&(t=new Y0("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=nc)))}function ph(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var sc={animationend:ph("Animation","AnimationEnd"),animationiteration:ph("Animation","AnimationIteration"),animationstart:ph("Animation","AnimationStart"),transitionend:ph("Transition","TransitionEnd")},Sv={},DC={};Qa&&(DC=document.createElement("div").style,"AnimationEvent"in window||(delete sc.animationend.animation,delete sc.animationiteration.animation,delete sc.animationstart.animation),"TransitionEvent"in window||delete sc.transitionend.transition);function Tp(e){if(Sv[e])return Sv[e];if(!sc[e])return e;var t=sc[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in DC)return Sv[e]=t[r];return e}var IC=Tp("animationend"),FC=Tp("animationiteration"),LC=Tp("animationstart"),$C=Tp("transitionend"),zC=new Map,P1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function go(e,t){zC.set(e,t),pl(t,[e])}for(var Cv=0;Cv<P1.length;Cv++){var kv=P1[Cv],UD=kv.toLowerCase(),BD=kv[0].toUpperCase()+kv.slice(1);go(UD,"on"+BD)}go(IC,"onAnimationEnd");go(FC,"onAnimationIteration");go(LC,"onAnimationStart");go("dblclick","onDoubleClick");go("focusin","onFocus");go("focusout","onBlur");go($C,"onTransitionEnd");Lc("onMouseEnter",["mouseout","mouseover"]);Lc("onMouseLeave",["mouseout","mouseover"]);Lc("onPointerEnter",["pointerout","pointerover"]);Lc("onPointerLeave",["pointerout","pointerover"]);pl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));pl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));pl("onBeforeInput",["compositionend","keypress","textInput","paste"]);pl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));pl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));pl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ru="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qD=new Set("cancel close invalid load scroll toggle".split(" ").concat(ru));function T1(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,UO(n,t,void 0,e),e.currentTarget=null}function UC(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==i&&a.isPropagationStopped())break e;T1(a,l,d),i=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==i&&a.isPropagationStopped())break e;T1(a,l,d),i=c}}}if(gm)throw e=Hx,gm=!1,Hx=null,e}function rr(e,t){var r=t[ry];r===void 0&&(r=t[ry]=new Set);var n=e+"__bubble";r.has(n)||(BC(t,e,2,!1),r.add(n))}function Ev(e,t,r){var n=0;t&&(n|=4),BC(r,e,n,t)}var gh="_reactListening"+Math.random().toString(36).slice(2);function $u(e){if(!e[gh]){e[gh]=!0,YS.forEach(function(r){r!=="selectionchange"&&(qD.has(r)||Ev(r,!1,e),Ev(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[gh]||(t[gh]=!0,Ev("selectionchange",!1,t))}}function BC(e,t,r,n){switch(SC(t)){case 1:var a=nD;break;case 4:a=sD;break;default:a=K0}r=a.bind(null,t,r,e),a=void 0,!Wx||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function Pv(e,t,r,n,a){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=Oo(l),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}l=l.parentNode}}n=n.return}uC(function(){var d=i,u=q0(r),h=[];e:{var m=zC.get(e);if(m!==void 0){var p=Y0,w=e;switch(e){case"keypress":if(Kh(r)===0)break e;case"keydown":case"keyup":p=yD;break;case"focusin":w="focus",p=jv;break;case"focusout":w="blur",p=jv;break;case"beforeblur":case"afterblur":p=jv;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=x1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=oD;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=jD;break;case IC:case FC:case LC:p=dD;break;case $C:p=ND;break;case"scroll":p=aD;break;case"wheel":p=CD;break;case"copy":case"cut":case"paste":p=fD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=w1}var v=(t&4)!==0,g=!v&&e==="scroll",y=v?m!==null?m+"Capture":null:m;v=[];for(var x=d,b;x!==null;){b=x;var _=b.stateNode;if(b.tag===5&&_!==null&&(b=_,y!==null&&(_=Au(x,y),_!=null&&v.push(zu(x,_,b)))),g)break;x=x.return}0<v.length&&(m=new p(m,w,null,r,u),h.push({event:m,listeners:v}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",m&&r!==qx&&(w=r.relatedTarget||r.fromElement)&&(Oo(w)||w[Xa]))break e;if((p||m)&&(m=u.window===u?u:(m=u.ownerDocument)?m.defaultView||m.parentWindow:window,p?(w=r.relatedTarget||r.toElement,p=d,w=w?Oo(w):null,w!==null&&(g=gl(w),w!==g||w.tag!==5&&w.tag!==6)&&(w=null)):(p=null,w=d),p!==w)){if(v=x1,_="onMouseLeave",y="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(v=w1,_="onPointerLeave",y="onPointerEnter",x="pointer"),g=p==null?m:ac(p),b=w==null?m:ac(w),m=new v(_,x+"leave",p,r,u),m.target=g,m.relatedTarget=b,_=null,Oo(u)===d&&(v=new v(y,x+"enter",w,r,u),v.target=b,v.relatedTarget=g,_=v),g=_,p&&w)t:{for(v=p,y=w,x=0,b=v;b;b=Ol(b))x++;for(b=0,_=y;_;_=Ol(_))b++;for(;0<x-b;)v=Ol(v),x--;for(;0<b-x;)y=Ol(y),b--;for(;x--;){if(v===y||y!==null&&v===y.alternate)break t;v=Ol(v),y=Ol(y)}v=null}else v=null;p!==null&&R1(h,m,p,v,!1),w!==null&&g!==null&&R1(h,g,w,v,!0)}}e:{if(m=d?ac(d):window,p=m.nodeName&&m.nodeName.toLowerCase(),p==="select"||p==="input"&&m.type==="file")var N=AD;else if(_1(m))if(RC)N=FD;else{N=DD;var P=OD}else(p=m.nodeName)&&p.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(N=ID);if(N&&(N=N(e,d))){TC(h,N,r,u);break e}P&&P(e,m,d),e==="focusout"&&(P=m._wrapperState)&&P.controlled&&m.type==="number"&&Lx(m,"number",m.value)}switch(P=d?ac(d):window,e){case"focusin":(_1(P)||P.contentEditable==="true")&&(nc=P,Qx=d,xu=null);break;case"focusout":xu=Qx=nc=null;break;case"mousedown":Xx=!0;break;case"contextmenu":case"mouseup":case"dragend":Xx=!1,E1(h,r,u);break;case"selectionchange":if(zD)break;case"keydown":case"keyup":E1(h,r,u)}var S;if(X0)e:{switch(e){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else rc?EC(e,r)&&(T="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(T="onCompositionStart");T&&(kC&&r.locale!=="ko"&&(rc||T!=="onCompositionStart"?T==="onCompositionEnd"&&rc&&(S=CC()):(Di=u,G0="value"in Di?Di.value:Di.textContent,rc=!0)),P=bm(d,T),0<P.length&&(T=new y1(T,e,null,r,u),h.push({event:T,listeners:P}),S?T.data=S:(S=PC(r),S!==null&&(T.data=S)))),(S=ED?PD(e,r):TD(e,r))&&(d=bm(d,"onBeforeInput"),0<d.length&&(u=new y1("onBeforeInput","beforeinput",null,r,u),h.push({event:u,listeners:d}),u.data=S))}UC(h,t)})}function zu(e,t,r){return{instance:e,listener:t,currentTarget:r}}function bm(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=Au(e,r),i!=null&&n.unshift(zu(e,i,a)),i=Au(e,t),i!=null&&n.push(zu(e,i,a))),e=e.return}return n}function Ol(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function R1(e,t,r,n,a){for(var i=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,d=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&d!==null&&(l=d,a?(c=Au(r,i),c!=null&&o.unshift(zu(r,c,l))):a||(c=Au(r,i),c!=null&&o.push(zu(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var VD=/\r\n?/g,WD=/\u0000|\uFFFD/g;function M1(e){return(typeof e=="string"?e:""+e).replace(VD,`
`).replace(WD,"")}function vh(e,t,r){if(t=M1(t),M1(e)!==t&&r)throw Error(je(425))}function jm(){}var Zx=null,Jx=null;function ey(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ty=typeof setTimeout=="function"?setTimeout:void 0,HD=typeof clearTimeout=="function"?clearTimeout:void 0,A1=typeof Promise=="function"?Promise:void 0,KD=typeof queueMicrotask=="function"?queueMicrotask:typeof A1<"u"?function(e){return A1.resolve(null).then(e).catch(GD)}:ty;function GD(e){setTimeout(function(){throw e})}function Tv(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),Iu(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);Iu(t)}function qi(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function O1(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var ld=Math.random().toString(36).slice(2),ra="__reactFiber$"+ld,Uu="__reactProps$"+ld,Xa="__reactContainer$"+ld,ry="__reactEvents$"+ld,YD="__reactListeners$"+ld,QD="__reactHandles$"+ld;function Oo(e){var t=e[ra];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Xa]||r[ra]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=O1(e);e!==null;){if(r=e[ra])return r;e=O1(e)}return t}e=r,r=e.parentNode}return null}function bf(e){return e=e[ra]||e[Xa],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ac(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(je(33))}function Rp(e){return e[Uu]||null}var ny=[],ic=-1;function vo(e){return{current:e}}function sr(e){0>ic||(e.current=ny[ic],ny[ic]=null,ic--)}function Gt(e,t){ic++,ny[ic]=e.current,e.current=t}var ro={},fn=vo(ro),Ln=vo(!1),Yo=ro;function $c(e,t){var r=e.type.contextTypes;if(!r)return ro;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function $n(e){return e=e.childContextTypes,e!=null}function _m(){sr(Ln),sr(fn)}function D1(e,t,r){if(fn.current!==ro)throw Error(je(168));Gt(fn,t),Gt(Ln,r)}function qC(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(je(108,OO(e)||"Unknown",a));return mr({},r,n)}function Nm(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ro,Yo=fn.current,Gt(fn,e),Gt(Ln,Ln.current),!0}function I1(e,t,r){var n=e.stateNode;if(!n)throw Error(je(169));r?(e=qC(e,t,Yo),n.__reactInternalMemoizedMergedChildContext=e,sr(Ln),sr(fn),Gt(fn,e)):sr(Ln),Gt(Ln,r)}var Fa=null,Mp=!1,Rv=!1;function VC(e){Fa===null?Fa=[e]:Fa.push(e)}function XD(e){Mp=!0,VC(e)}function xo(){if(!Rv&&Fa!==null){Rv=!0;var e=0,t=$t;try{var r=Fa;for($t=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Fa=null,Mp=!1}catch(a){throw Fa!==null&&(Fa=Fa.slice(e+1)),pC(V0,xo),a}finally{$t=t,Rv=!1}}return null}var oc=[],lc=0,Sm=null,Cm=0,fs=[],hs=0,Qo=null,Ua=1,Ba="";function Po(e,t){oc[lc++]=Cm,oc[lc++]=Sm,Sm=e,Cm=t}function WC(e,t,r){fs[hs++]=Ua,fs[hs++]=Ba,fs[hs++]=Qo,Qo=e;var n=Ua;e=Ba;var a=32-Us(n)-1;n&=~(1<<a),r+=1;var i=32-Us(t)+a;if(30<i){var o=a-a%5;i=(n&(1<<o)-1).toString(32),n>>=o,a-=o,Ua=1<<32-Us(t)+a|r<<a|n,Ba=i+e}else Ua=1<<i|r<<a|n,Ba=e}function J0(e){e.return!==null&&(Po(e,1),WC(e,1,0))}function ew(e){for(;e===Sm;)Sm=oc[--lc],oc[lc]=null,Cm=oc[--lc],oc[lc]=null;for(;e===Qo;)Qo=fs[--hs],fs[hs]=null,Ba=fs[--hs],fs[hs]=null,Ua=fs[--hs],fs[hs]=null}var Zn=null,Qn=null,lr=!1,Ls=null;function HC(e,t){var r=ms(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function F1(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Zn=e,Qn=qi(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Zn=e,Qn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Qo!==null?{id:Ua,overflow:Ba}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=ms(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Zn=e,Qn=null,!0):!1;default:return!1}}function sy(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ay(e){if(lr){var t=Qn;if(t){var r=t;if(!F1(e,t)){if(sy(e))throw Error(je(418));t=qi(r.nextSibling);var n=Zn;t&&F1(e,t)?HC(n,r):(e.flags=e.flags&-4097|2,lr=!1,Zn=e)}}else{if(sy(e))throw Error(je(418));e.flags=e.flags&-4097|2,lr=!1,Zn=e}}}function L1(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Zn=e}function xh(e){if(e!==Zn)return!1;if(!lr)return L1(e),lr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ey(e.type,e.memoizedProps)),t&&(t=Qn)){if(sy(e))throw KC(),Error(je(418));for(;t;)HC(e,t),t=qi(t.nextSibling)}if(L1(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(je(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Qn=qi(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Qn=null}}else Qn=Zn?qi(e.stateNode.nextSibling):null;return!0}function KC(){for(var e=Qn;e;)e=qi(e.nextSibling)}function zc(){Qn=Zn=null,lr=!1}function tw(e){Ls===null?Ls=[e]:Ls.push(e)}var ZD=ii.ReactCurrentBatchConfig;function Vd(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(je(309));var n=r.stateNode}if(!n)throw Error(je(147,e));var a=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=a.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(je(284));if(!r._owner)throw Error(je(290,e))}return e}function yh(e,t){throw e=Object.prototype.toString.call(t),Error(je(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function $1(e){var t=e._init;return t(e._payload)}function GC(e){function t(y,x){if(e){var b=y.deletions;b===null?(y.deletions=[x],y.flags|=16):b.push(x)}}function r(y,x){if(!e)return null;for(;x!==null;)t(y,x),x=x.sibling;return null}function n(y,x){for(y=new Map;x!==null;)x.key!==null?y.set(x.key,x):y.set(x.index,x),x=x.sibling;return y}function a(y,x){return y=Ki(y,x),y.index=0,y.sibling=null,y}function i(y,x,b){return y.index=b,e?(b=y.alternate,b!==null?(b=b.index,b<x?(y.flags|=2,x):b):(y.flags|=2,x)):(y.flags|=1048576,x)}function o(y){return e&&y.alternate===null&&(y.flags|=2),y}function l(y,x,b,_){return x===null||x.tag!==6?(x=Lv(b,y.mode,_),x.return=y,x):(x=a(x,b),x.return=y,x)}function c(y,x,b,_){var N=b.type;return N===tc?u(y,x,b.props.children,_,b.key):x!==null&&(x.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===yi&&$1(N)===x.type)?(_=a(x,b.props),_.ref=Vd(y,x,b),_.return=y,_):(_=em(b.type,b.key,b.props,null,y.mode,_),_.ref=Vd(y,x,b),_.return=y,_)}function d(y,x,b,_){return x===null||x.tag!==4||x.stateNode.containerInfo!==b.containerInfo||x.stateNode.implementation!==b.implementation?(x=$v(b,y.mode,_),x.return=y,x):(x=a(x,b.children||[]),x.return=y,x)}function u(y,x,b,_,N){return x===null||x.tag!==7?(x=Go(b,y.mode,_,N),x.return=y,x):(x=a(x,b),x.return=y,x)}function h(y,x,b){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Lv(""+x,y.mode,b),x.return=y,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case lh:return b=em(x.type,x.key,x.props,null,y.mode,b),b.ref=Vd(y,null,x),b.return=y,b;case ec:return x=$v(x,y.mode,b),x.return=y,x;case yi:var _=x._init;return h(y,_(x._payload),b)}if(eu(x)||$d(x))return x=Go(x,y.mode,b,null),x.return=y,x;yh(y,x)}return null}function m(y,x,b,_){var N=x!==null?x.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return N!==null?null:l(y,x,""+b,_);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case lh:return b.key===N?c(y,x,b,_):null;case ec:return b.key===N?d(y,x,b,_):null;case yi:return N=b._init,m(y,x,N(b._payload),_)}if(eu(b)||$d(b))return N!==null?null:u(y,x,b,_,null);yh(y,b)}return null}function p(y,x,b,_,N){if(typeof _=="string"&&_!==""||typeof _=="number")return y=y.get(b)||null,l(x,y,""+_,N);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case lh:return y=y.get(_.key===null?b:_.key)||null,c(x,y,_,N);case ec:return y=y.get(_.key===null?b:_.key)||null,d(x,y,_,N);case yi:var P=_._init;return p(y,x,b,P(_._payload),N)}if(eu(_)||$d(_))return y=y.get(b)||null,u(x,y,_,N,null);yh(x,_)}return null}function w(y,x,b,_){for(var N=null,P=null,S=x,T=x=0,U=null;S!==null&&T<b.length;T++){S.index>T?(U=S,S=null):U=S.sibling;var q=m(y,S,b[T],_);if(q===null){S===null&&(S=U);break}e&&S&&q.alternate===null&&t(y,S),x=i(q,x,T),P===null?N=q:P.sibling=q,P=q,S=U}if(T===b.length)return r(y,S),lr&&Po(y,T),N;if(S===null){for(;T<b.length;T++)S=h(y,b[T],_),S!==null&&(x=i(S,x,T),P===null?N=S:P.sibling=S,P=S);return lr&&Po(y,T),N}for(S=n(y,S);T<b.length;T++)U=p(S,y,T,b[T],_),U!==null&&(e&&U.alternate!==null&&S.delete(U.key===null?T:U.key),x=i(U,x,T),P===null?N=U:P.sibling=U,P=U);return e&&S.forEach(function(re){return t(y,re)}),lr&&Po(y,T),N}function v(y,x,b,_){var N=$d(b);if(typeof N!="function")throw Error(je(150));if(b=N.call(b),b==null)throw Error(je(151));for(var P=N=null,S=x,T=x=0,U=null,q=b.next();S!==null&&!q.done;T++,q=b.next()){S.index>T?(U=S,S=null):U=S.sibling;var re=m(y,S,q.value,_);if(re===null){S===null&&(S=U);break}e&&S&&re.alternate===null&&t(y,S),x=i(re,x,T),P===null?N=re:P.sibling=re,P=re,S=U}if(q.done)return r(y,S),lr&&Po(y,T),N;if(S===null){for(;!q.done;T++,q=b.next())q=h(y,q.value,_),q!==null&&(x=i(q,x,T),P===null?N=q:P.sibling=q,P=q);return lr&&Po(y,T),N}for(S=n(y,S);!q.done;T++,q=b.next())q=p(S,y,T,q.value,_),q!==null&&(e&&q.alternate!==null&&S.delete(q.key===null?T:q.key),x=i(q,x,T),P===null?N=q:P.sibling=q,P=q);return e&&S.forEach(function(G){return t(y,G)}),lr&&Po(y,T),N}function g(y,x,b,_){if(typeof b=="object"&&b!==null&&b.type===tc&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case lh:e:{for(var N=b.key,P=x;P!==null;){if(P.key===N){if(N=b.type,N===tc){if(P.tag===7){r(y,P.sibling),x=a(P,b.props.children),x.return=y,y=x;break e}}else if(P.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===yi&&$1(N)===P.type){r(y,P.sibling),x=a(P,b.props),x.ref=Vd(y,P,b),x.return=y,y=x;break e}r(y,P);break}else t(y,P);P=P.sibling}b.type===tc?(x=Go(b.props.children,y.mode,_,b.key),x.return=y,y=x):(_=em(b.type,b.key,b.props,null,y.mode,_),_.ref=Vd(y,x,b),_.return=y,y=_)}return o(y);case ec:e:{for(P=b.key;x!==null;){if(x.key===P)if(x.tag===4&&x.stateNode.containerInfo===b.containerInfo&&x.stateNode.implementation===b.implementation){r(y,x.sibling),x=a(x,b.children||[]),x.return=y,y=x;break e}else{r(y,x);break}else t(y,x);x=x.sibling}x=$v(b,y.mode,_),x.return=y,y=x}return o(y);case yi:return P=b._init,g(y,x,P(b._payload),_)}if(eu(b))return w(y,x,b,_);if($d(b))return v(y,x,b,_);yh(y,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,x!==null&&x.tag===6?(r(y,x.sibling),x=a(x,b),x.return=y,y=x):(r(y,x),x=Lv(b,y.mode,_),x.return=y,y=x),o(y)):r(y,x)}return g}var Uc=GC(!0),YC=GC(!1),km=vo(null),Em=null,cc=null,rw=null;function nw(){rw=cc=Em=null}function sw(e){var t=km.current;sr(km),e._currentValue=t}function iy(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function xc(e,t){Em=e,rw=cc=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(In=!0),e.firstContext=null)}function ys(e){var t=e._currentValue;if(rw!==e)if(e={context:e,memoizedValue:t,next:null},cc===null){if(Em===null)throw Error(je(308));cc=e,Em.dependencies={lanes:0,firstContext:e}}else cc=cc.next=e;return t}var Do=null;function aw(e){Do===null?Do=[e]:Do.push(e)}function QC(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,aw(t)):(r.next=a.next,a.next=r),t.interleaved=r,Za(e,n)}function Za(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var wi=!1;function iw(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function XC(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Wa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Vi(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Tt&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,Za(e,r)}return a=n.interleaved,a===null?(t.next=t,aw(n)):(t.next=a.next,a.next=t),n.interleaved=t,Za(e,r)}function Gh(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,W0(e,r)}}function z1(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Pm(e,t,r,n){var a=e.updateQueue;wi=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?i=d:o.next=d,o=c;var u=e.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==o&&(l===null?u.firstBaseUpdate=d:l.next=d,u.lastBaseUpdate=c))}if(i!==null){var h=a.baseState;o=0,u=d=c=null,l=i;do{var m=l.lane,p=l.eventTime;if((n&m)===m){u!==null&&(u=u.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var w=e,v=l;switch(m=t,p=r,v.tag){case 1:if(w=v.payload,typeof w=="function"){h=w.call(p,h,m);break e}h=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=v.payload,m=typeof w=="function"?w.call(p,h,m):w,m==null)break e;h=mr({},h,m);break e;case 2:wi=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,m=a.effects,m===null?a.effects=[l]:m.push(l))}else p={eventTime:p,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(d=u=p,c=h):u=u.next=p,o|=m;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;m=l,l=m.next,m.next=null,a.lastBaseUpdate=m,a.shared.pending=null}}while(!0);if(u===null&&(c=h),a.baseState=c,a.firstBaseUpdate=d,a.lastBaseUpdate=u,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);Zo|=o,e.lanes=o,e.memoizedState=h}}function U1(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(je(191,a));a.call(n)}}}var jf={},fa=vo(jf),Bu=vo(jf),qu=vo(jf);function Io(e){if(e===jf)throw Error(je(174));return e}function ow(e,t){switch(Gt(qu,t),Gt(Bu,e),Gt(fa,jf),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:zx(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=zx(t,e)}sr(fa),Gt(fa,t)}function Bc(){sr(fa),sr(Bu),sr(qu)}function ZC(e){Io(qu.current);var t=Io(fa.current),r=zx(t,e.type);t!==r&&(Gt(Bu,e),Gt(fa,r))}function lw(e){Bu.current===e&&(sr(fa),sr(Bu))}var ur=vo(0);function Tm(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Mv=[];function cw(){for(var e=0;e<Mv.length;e++)Mv[e]._workInProgressVersionPrimary=null;Mv.length=0}var Yh=ii.ReactCurrentDispatcher,Av=ii.ReactCurrentBatchConfig,Xo=0,fr=null,Ir=null,qr=null,Rm=!1,yu=!1,Vu=0,JD=0;function an(){throw Error(je(321))}function dw(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!qs(e[r],t[r]))return!1;return!0}function uw(e,t,r,n,a,i){if(Xo=i,fr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Yh.current=e===null||e.memoizedState===null?nI:sI,e=r(n,a),yu){i=0;do{if(yu=!1,Vu=0,25<=i)throw Error(je(301));i+=1,qr=Ir=null,t.updateQueue=null,Yh.current=aI,e=r(n,a)}while(yu)}if(Yh.current=Mm,t=Ir!==null&&Ir.next!==null,Xo=0,qr=Ir=fr=null,Rm=!1,t)throw Error(je(300));return e}function fw(){var e=Vu!==0;return Vu=0,e}function Zs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qr===null?fr.memoizedState=qr=e:qr=qr.next=e,qr}function ws(){if(Ir===null){var e=fr.alternate;e=e!==null?e.memoizedState:null}else e=Ir.next;var t=qr===null?fr.memoizedState:qr.next;if(t!==null)qr=t,Ir=e;else{if(e===null)throw Error(je(310));Ir=e,e={memoizedState:Ir.memoizedState,baseState:Ir.baseState,baseQueue:Ir.baseQueue,queue:Ir.queue,next:null},qr===null?fr.memoizedState=qr=e:qr=qr.next=e}return qr}function Wu(e,t){return typeof t=="function"?t(e):t}function Ov(e){var t=ws(),r=t.queue;if(r===null)throw Error(je(311));r.lastRenderedReducer=e;var n=Ir,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var l=o=null,c=null,d=i;do{var u=d.lane;if((Xo&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:e(n,d.action);else{var h={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=h,o=n):c=c.next=h,fr.lanes|=u,Zo|=u}d=d.next}while(d!==null&&d!==i);c===null?o=n:c.next=l,qs(n,t.memoizedState)||(In=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do i=a.lane,fr.lanes|=i,Zo|=i,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Dv(e){var t=ws(),r=t.queue;if(r===null)throw Error(je(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);qs(i,t.memoizedState)||(In=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function JC(){}function ek(e,t){var r=fr,n=ws(),a=t(),i=!qs(n.memoizedState,a);if(i&&(n.memoizedState=a,In=!0),n=n.queue,hw(nk.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||qr!==null&&qr.memoizedState.tag&1){if(r.flags|=2048,Hu(9,rk.bind(null,r,n,a,t),void 0,null),Qr===null)throw Error(je(349));Xo&30||tk(r,t,a)}return a}function tk(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=fr.updateQueue,t===null?(t={lastEffect:null,stores:null},fr.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function rk(e,t,r,n){t.value=r,t.getSnapshot=n,sk(t)&&ak(e)}function nk(e,t,r){return r(function(){sk(t)&&ak(e)})}function sk(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!qs(e,r)}catch{return!0}}function ak(e){var t=Za(e,1);t!==null&&Bs(t,e,1,-1)}function B1(e){var t=Zs();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Wu,lastRenderedState:e},t.queue=e,e=e.dispatch=rI.bind(null,fr,e),[t.memoizedState,e]}function Hu(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=fr.updateQueue,t===null?(t={lastEffect:null,stores:null},fr.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function ik(){return ws().memoizedState}function Qh(e,t,r,n){var a=Zs();fr.flags|=e,a.memoizedState=Hu(1|t,r,void 0,n===void 0?null:n)}function Ap(e,t,r,n){var a=ws();n=n===void 0?null:n;var i=void 0;if(Ir!==null){var o=Ir.memoizedState;if(i=o.destroy,n!==null&&dw(n,o.deps)){a.memoizedState=Hu(t,r,i,n);return}}fr.flags|=e,a.memoizedState=Hu(1|t,r,i,n)}function q1(e,t){return Qh(8390656,8,e,t)}function hw(e,t){return Ap(2048,8,e,t)}function ok(e,t){return Ap(4,2,e,t)}function lk(e,t){return Ap(4,4,e,t)}function ck(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function dk(e,t,r){return r=r!=null?r.concat([e]):null,Ap(4,4,ck.bind(null,t,e),r)}function mw(){}function uk(e,t){var r=ws();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&dw(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function fk(e,t){var r=ws();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&dw(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function hk(e,t,r){return Xo&21?(qs(r,t)||(r=xC(),fr.lanes|=r,Zo|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,In=!0),e.memoizedState=r)}function eI(e,t){var r=$t;$t=r!==0&&4>r?r:4,e(!0);var n=Av.transition;Av.transition={};try{e(!1),t()}finally{$t=r,Av.transition=n}}function mk(){return ws().memoizedState}function tI(e,t,r){var n=Hi(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},pk(e))gk(t,r);else if(r=QC(e,t,r,n),r!==null){var a=_n();Bs(r,e,n,a),vk(r,t,n)}}function rI(e,t,r){var n=Hi(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(pk(e))gk(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(a.hasEagerState=!0,a.eagerState=l,qs(l,o)){var c=t.interleaved;c===null?(a.next=a,aw(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=QC(e,t,a,n),r!==null&&(a=_n(),Bs(r,e,n,a),vk(r,t,n))}}function pk(e){var t=e.alternate;return e===fr||t!==null&&t===fr}function gk(e,t){yu=Rm=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function vk(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,W0(e,r)}}var Mm={readContext:ys,useCallback:an,useContext:an,useEffect:an,useImperativeHandle:an,useInsertionEffect:an,useLayoutEffect:an,useMemo:an,useReducer:an,useRef:an,useState:an,useDebugValue:an,useDeferredValue:an,useTransition:an,useMutableSource:an,useSyncExternalStore:an,useId:an,unstable_isNewReconciler:!1},nI={readContext:ys,useCallback:function(e,t){return Zs().memoizedState=[e,t===void 0?null:t],e},useContext:ys,useEffect:q1,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Qh(4194308,4,ck.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Qh(4194308,4,e,t)},useInsertionEffect:function(e,t){return Qh(4,2,e,t)},useMemo:function(e,t){var r=Zs();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Zs();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=tI.bind(null,fr,e),[n.memoizedState,e]},useRef:function(e){var t=Zs();return e={current:e},t.memoizedState=e},useState:B1,useDebugValue:mw,useDeferredValue:function(e){return Zs().memoizedState=e},useTransition:function(){var e=B1(!1),t=e[0];return e=eI.bind(null,e[1]),Zs().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=fr,a=Zs();if(lr){if(r===void 0)throw Error(je(407));r=r()}else{if(r=t(),Qr===null)throw Error(je(349));Xo&30||tk(n,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,q1(nk.bind(null,n,i,e),[e]),n.flags|=2048,Hu(9,rk.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=Zs(),t=Qr.identifierPrefix;if(lr){var r=Ba,n=Ua;r=(n&~(1<<32-Us(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Vu++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=JD++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},sI={readContext:ys,useCallback:uk,useContext:ys,useEffect:hw,useImperativeHandle:dk,useInsertionEffect:ok,useLayoutEffect:lk,useMemo:fk,useReducer:Ov,useRef:ik,useState:function(){return Ov(Wu)},useDebugValue:mw,useDeferredValue:function(e){var t=ws();return hk(t,Ir.memoizedState,e)},useTransition:function(){var e=Ov(Wu)[0],t=ws().memoizedState;return[e,t]},useMutableSource:JC,useSyncExternalStore:ek,useId:mk,unstable_isNewReconciler:!1},aI={readContext:ys,useCallback:uk,useContext:ys,useEffect:hw,useImperativeHandle:dk,useInsertionEffect:ok,useLayoutEffect:lk,useMemo:fk,useReducer:Dv,useRef:ik,useState:function(){return Dv(Wu)},useDebugValue:mw,useDeferredValue:function(e){var t=ws();return Ir===null?t.memoizedState=e:hk(t,Ir.memoizedState,e)},useTransition:function(){var e=Dv(Wu)[0],t=ws().memoizedState;return[e,t]},useMutableSource:JC,useSyncExternalStore:ek,useId:mk,unstable_isNewReconciler:!1};function As(e,t){if(e&&e.defaultProps){t=mr({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function oy(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:mr({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Op={isMounted:function(e){return(e=e._reactInternals)?gl(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=_n(),a=Hi(e),i=Wa(n,a);i.payload=t,r!=null&&(i.callback=r),t=Vi(e,i,a),t!==null&&(Bs(t,e,a,n),Gh(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=_n(),a=Hi(e),i=Wa(n,a);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Vi(e,i,a),t!==null&&(Bs(t,e,a,n),Gh(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=_n(),n=Hi(e),a=Wa(r,n);a.tag=2,t!=null&&(a.callback=t),t=Vi(e,a,n),t!==null&&(Bs(t,e,n,r),Gh(t,e,n))}};function V1(e,t,r,n,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!Lu(r,n)||!Lu(a,i):!0}function xk(e,t,r){var n=!1,a=ro,i=t.contextType;return typeof i=="object"&&i!==null?i=ys(i):(a=$n(t)?Yo:fn.current,n=t.contextTypes,i=(n=n!=null)?$c(e,a):ro),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Op,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function W1(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Op.enqueueReplaceState(t,t.state,null)}function ly(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},iw(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=ys(i):(i=$n(t)?Yo:fn.current,a.context=$c(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(oy(e,t,i,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Op.enqueueReplaceState(a,a.state,null),Pm(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function qc(e,t){try{var r="",n=t;do r+=AO(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function Iv(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function cy(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var iI=typeof WeakMap=="function"?WeakMap:Map;function yk(e,t,r){r=Wa(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Om||(Om=!0,yy=n),cy(e,t)},r}function wk(e,t,r){r=Wa(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){cy(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){cy(e,t),typeof n!="function"&&(Wi===null?Wi=new Set([this]):Wi.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function H1(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new iI;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=wI.bind(null,e,t,r),t.then(e,e))}function K1(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function G1(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Wa(-1,1),t.tag=2,Vi(r,t,1))),r.lanes|=1),e)}var oI=ii.ReactCurrentOwner,In=!1;function gn(e,t,r,n){t.child=e===null?YC(t,null,r,n):Uc(t,e.child,r,n)}function Y1(e,t,r,n,a){r=r.render;var i=t.ref;return xc(t,a),n=uw(e,t,r,n,i,a),r=fw(),e!==null&&!In?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Ja(e,t,a)):(lr&&r&&J0(t),t.flags|=1,gn(e,t,n,a),t.child)}function Q1(e,t,r,n,a){if(e===null){var i=r.type;return typeof i=="function"&&!jw(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,bk(e,t,i,n,a)):(e=em(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:Lu,r(o,n)&&e.ref===t.ref)return Ja(e,t,a)}return t.flags|=1,e=Ki(i,n),e.ref=t.ref,e.return=t,t.child=e}function bk(e,t,r,n,a){if(e!==null){var i=e.memoizedProps;if(Lu(i,n)&&e.ref===t.ref)if(In=!1,t.pendingProps=n=i,(e.lanes&a)!==0)e.flags&131072&&(In=!0);else return t.lanes=e.lanes,Ja(e,t,a)}return dy(e,t,r,n,a)}function jk(e,t,r){var n=t.pendingProps,a=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Gt(uc,Hn),Hn|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Gt(uc,Hn),Hn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Gt(uc,Hn),Hn|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,Gt(uc,Hn),Hn|=n;return gn(e,t,a,r),t.child}function _k(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function dy(e,t,r,n,a){var i=$n(r)?Yo:fn.current;return i=$c(t,i),xc(t,a),r=uw(e,t,r,n,i,a),n=fw(),e!==null&&!In?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Ja(e,t,a)):(lr&&n&&J0(t),t.flags|=1,gn(e,t,r,a),t.child)}function X1(e,t,r,n,a){if($n(r)){var i=!0;Nm(t)}else i=!1;if(xc(t,a),t.stateNode===null)Xh(e,t),xk(t,r,n),ly(t,r,n,a),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,d=r.contextType;typeof d=="object"&&d!==null?d=ys(d):(d=$n(r)?Yo:fn.current,d=$c(t,d));var u=r.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==d)&&W1(t,o,n,d),wi=!1;var m=t.memoizedState;o.state=m,Pm(t,n,o,a),c=t.memoizedState,l!==n||m!==c||Ln.current||wi?(typeof u=="function"&&(oy(t,r,u,n),c=t.memoizedState),(l=wi||V1(t,r,l,n,m,c,d))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=d,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,XC(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:As(t.type,l),o.props=d,h=t.pendingProps,m=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=ys(c):(c=$n(r)?Yo:fn.current,c=$c(t,c));var p=r.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||m!==c)&&W1(t,o,n,c),wi=!1,m=t.memoizedState,o.state=m,Pm(t,n,o,a);var w=t.memoizedState;l!==h||m!==w||Ln.current||wi?(typeof p=="function"&&(oy(t,r,p,n),w=t.memoizedState),(d=wi||V1(t,r,d,n,m,w,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,w,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,w,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=w),o.props=n,o.state=w,o.context=c,n=d):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),n=!1)}return uy(e,t,r,n,i,a)}function uy(e,t,r,n,a,i){_k(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return a&&I1(t,r,!1),Ja(e,t,i);n=t.stateNode,oI.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=Uc(t,e.child,null,i),t.child=Uc(t,null,l,i)):gn(e,t,l,i),t.memoizedState=n.state,a&&I1(t,r,!0),t.child}function Nk(e){var t=e.stateNode;t.pendingContext?D1(e,t.pendingContext,t.pendingContext!==t.context):t.context&&D1(e,t.context,!1),ow(e,t.containerInfo)}function Z1(e,t,r,n,a){return zc(),tw(a),t.flags|=256,gn(e,t,r,n),t.child}var fy={dehydrated:null,treeContext:null,retryLane:0};function hy(e){return{baseLanes:e,cachePool:null,transitions:null}}function Sk(e,t,r){var n=t.pendingProps,a=ur.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Gt(ur,a&1),e===null)return ay(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Fp(o,n,0,null),e=Go(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=hy(r),t.memoizedState=fy,e):pw(t,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return lI(e,t,o,n,l,a,r);if(i){i=n.fallback,o=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Ki(a,c),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?i=Ki(l,i):(i=Go(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?hy(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=fy,n}return i=e.child,e=i.sibling,n=Ki(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function pw(e,t){return t=Fp({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function wh(e,t,r,n){return n!==null&&tw(n),Uc(t,e.child,null,r),e=pw(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function lI(e,t,r,n,a,i,o){if(r)return t.flags&256?(t.flags&=-257,n=Iv(Error(je(422))),wh(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,a=t.mode,n=Fp({mode:"visible",children:n.children},a,0,null),i=Go(i,a,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&Uc(t,e.child,null,o),t.child.memoizedState=hy(o),t.memoizedState=fy,i);if(!(t.mode&1))return wh(e,t,o,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(je(419)),n=Iv(i,n,void 0),wh(e,t,o,n)}if(l=(o&e.childLanes)!==0,In||l){if(n=Qr,n!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,Za(e,a),Bs(n,e,a,-1))}return bw(),n=Iv(Error(je(421))),wh(e,t,o,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=bI.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,Qn=qi(a.nextSibling),Zn=t,lr=!0,Ls=null,e!==null&&(fs[hs++]=Ua,fs[hs++]=Ba,fs[hs++]=Qo,Ua=e.id,Ba=e.overflow,Qo=t),t=pw(t,n.children),t.flags|=4096,t)}function J1(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),iy(e.return,t,r)}function Fv(e,t,r,n,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function Ck(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;if(gn(e,t,n.children,r),n=ur.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&J1(e,r,t);else if(e.tag===19)J1(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Gt(ur,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&Tm(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),Fv(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Tm(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}Fv(t,!0,r,null,i);break;case"together":Fv(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Xh(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ja(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Zo|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(je(153));if(t.child!==null){for(e=t.child,r=Ki(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Ki(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function cI(e,t,r){switch(t.tag){case 3:Nk(t),zc();break;case 5:ZC(t);break;case 1:$n(t.type)&&Nm(t);break;case 4:ow(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;Gt(km,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Gt(ur,ur.current&1),t.flags|=128,null):r&t.child.childLanes?Sk(e,t,r):(Gt(ur,ur.current&1),e=Ja(e,t,r),e!==null?e.sibling:null);Gt(ur,ur.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Ck(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Gt(ur,ur.current),n)break;return null;case 22:case 23:return t.lanes=0,jk(e,t,r)}return Ja(e,t,r)}var kk,my,Ek,Pk;kk=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};my=function(){};Ek=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,Io(fa.current);var i=null;switch(r){case"input":a=Ix(e,a),n=Ix(e,n),i=[];break;case"select":a=mr({},a,{value:void 0}),n=mr({},n,{value:void 0}),i=[];break;case"textarea":a=$x(e,a),n=$x(e,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=jm)}Ux(r,n);var o;r=null;for(d in a)if(!n.hasOwnProperty(d)&&a.hasOwnProperty(d)&&a[d]!=null)if(d==="style"){var l=a[d];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Ru.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in n){var c=n[d];if(l=a!=null?a[d]:void 0,n.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Ru.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&rr("scroll",e),i||l===c||(i=[])):(i=i||[]).push(d,c))}r&&(i=i||[]).push("style",r);var d=i;(t.updateQueue=d)&&(t.flags|=4)}};Pk=function(e,t,r,n){r!==n&&(t.flags|=4)};function Wd(e,t){if(!lr)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function on(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function dI(e,t,r){var n=t.pendingProps;switch(ew(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return on(t),null;case 1:return $n(t.type)&&_m(),on(t),null;case 3:return n=t.stateNode,Bc(),sr(Ln),sr(fn),cw(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(xh(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ls!==null&&(jy(Ls),Ls=null))),my(e,t),on(t),null;case 5:lw(t);var a=Io(qu.current);if(r=t.type,e!==null&&t.stateNode!=null)Ek(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(je(166));return on(t),null}if(e=Io(fa.current),xh(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[ra]=t,n[Uu]=i,e=(t.mode&1)!==0,r){case"dialog":rr("cancel",n),rr("close",n);break;case"iframe":case"object":case"embed":rr("load",n);break;case"video":case"audio":for(a=0;a<ru.length;a++)rr(ru[a],n);break;case"source":rr("error",n);break;case"img":case"image":case"link":rr("error",n),rr("load",n);break;case"details":rr("toggle",n);break;case"input":l1(n,i),rr("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},rr("invalid",n);break;case"textarea":d1(n,i),rr("invalid",n)}Ux(r,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&vh(n.textContent,l,e),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&vh(n.textContent,l,e),a=["children",""+l]):Ru.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&rr("scroll",n)}switch(r){case"input":ch(n),c1(n,i,!0);break;case"textarea":ch(n),u1(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=jm)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=nC(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[ra]=t,e[Uu]=n,kk(e,t,!1,!1),t.stateNode=e;e:{switch(o=Bx(r,n),r){case"dialog":rr("cancel",e),rr("close",e),a=n;break;case"iframe":case"object":case"embed":rr("load",e),a=n;break;case"video":case"audio":for(a=0;a<ru.length;a++)rr(ru[a],e);a=n;break;case"source":rr("error",e),a=n;break;case"img":case"image":case"link":rr("error",e),rr("load",e),a=n;break;case"details":rr("toggle",e),a=n;break;case"input":l1(e,n),a=Ix(e,n),rr("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=mr({},n,{value:void 0}),rr("invalid",e);break;case"textarea":d1(e,n),a=$x(e,n),rr("invalid",e);break;default:a=n}Ux(r,a),l=a;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?iC(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&sC(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Mu(e,c):typeof c=="number"&&Mu(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ru.hasOwnProperty(i)?c!=null&&i==="onScroll"&&rr("scroll",e):c!=null&&$0(e,i,c,o))}switch(r){case"input":ch(e),c1(e,n,!1);break;case"textarea":ch(e),u1(e);break;case"option":n.value!=null&&e.setAttribute("value",""+to(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?mc(e,!!n.multiple,i,!1):n.defaultValue!=null&&mc(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=jm)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return on(t),null;case 6:if(e&&t.stateNode!=null)Pk(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(je(166));if(r=Io(qu.current),Io(fa.current),xh(t)){if(n=t.stateNode,r=t.memoizedProps,n[ra]=t,(i=n.nodeValue!==r)&&(e=Zn,e!==null))switch(e.tag){case 3:vh(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&vh(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[ra]=t,t.stateNode=n}return on(t),null;case 13:if(sr(ur),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(lr&&Qn!==null&&t.mode&1&&!(t.flags&128))KC(),zc(),t.flags|=98560,i=!1;else if(i=xh(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(je(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(je(317));i[ra]=t}else zc(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;on(t),i=!1}else Ls!==null&&(jy(Ls),Ls=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||ur.current&1?zr===0&&(zr=3):bw())),t.updateQueue!==null&&(t.flags|=4),on(t),null);case 4:return Bc(),my(e,t),e===null&&$u(t.stateNode.containerInfo),on(t),null;case 10:return sw(t.type._context),on(t),null;case 17:return $n(t.type)&&_m(),on(t),null;case 19:if(sr(ur),i=t.memoizedState,i===null)return on(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)Wd(i,!1);else{if(zr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Tm(e),o!==null){for(t.flags|=128,Wd(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Gt(ur,ur.current&1|2),t.child}e=e.sibling}i.tail!==null&&Nr()>Vc&&(t.flags|=128,n=!0,Wd(i,!1),t.lanes=4194304)}else{if(!n)if(e=Tm(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Wd(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!lr)return on(t),null}else 2*Nr()-i.renderingStartTime>Vc&&r!==1073741824&&(t.flags|=128,n=!0,Wd(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Nr(),t.sibling=null,r=ur.current,Gt(ur,n?r&1|2:r&1),t):(on(t),null);case 22:case 23:return ww(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Hn&1073741824&&(on(t),t.subtreeFlags&6&&(t.flags|=8192)):on(t),null;case 24:return null;case 25:return null}throw Error(je(156,t.tag))}function uI(e,t){switch(ew(t),t.tag){case 1:return $n(t.type)&&_m(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Bc(),sr(Ln),sr(fn),cw(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return lw(t),null;case 13:if(sr(ur),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(je(340));zc()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return sr(ur),null;case 4:return Bc(),null;case 10:return sw(t.type._context),null;case 22:case 23:return ww(),null;case 24:return null;default:return null}}var bh=!1,dn=!1,fI=typeof WeakSet=="function"?WeakSet:Set,Le=null;function dc(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){xr(e,t,n)}else r.current=null}function py(e,t,r){try{r()}catch(n){xr(e,t,n)}}var e_=!1;function hI(e,t){if(Zx=ym,e=OC(),Z0(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,d=0,u=0,h=e,m=null;t:for(;;){for(var p;h!==r||a!==0&&h.nodeType!==3||(l=o+a),h!==i||n!==0&&h.nodeType!==3||(c=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)m=h,h=p;for(;;){if(h===e)break t;if(m===r&&++d===a&&(l=o),m===i&&++u===n&&(c=o),(p=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=p}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Jx={focusedElem:e,selectionRange:r},ym=!1,Le=t;Le!==null;)if(t=Le,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Le=e;else for(;Le!==null;){t=Le;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var v=w.memoizedProps,g=w.memoizedState,y=t.stateNode,x=y.getSnapshotBeforeUpdate(t.elementType===t.type?v:As(t.type,v),g);y.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(je(163))}}catch(_){xr(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,Le=e;break}Le=t.return}return w=e_,e_=!1,w}function wu(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&py(t,r,i)}a=a.next}while(a!==n)}}function Dp(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function gy(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Tk(e){var t=e.alternate;t!==null&&(e.alternate=null,Tk(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ra],delete t[Uu],delete t[ry],delete t[YD],delete t[QD])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Rk(e){return e.tag===5||e.tag===3||e.tag===4}function t_(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Rk(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function vy(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=jm));else if(n!==4&&(e=e.child,e!==null))for(vy(e,t,r),e=e.sibling;e!==null;)vy(e,t,r),e=e.sibling}function xy(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(xy(e,t,r),e=e.sibling;e!==null;)xy(e,t,r),e=e.sibling}var Zr=null,Is=!1;function ci(e,t,r){for(r=r.child;r!==null;)Mk(e,t,r),r=r.sibling}function Mk(e,t,r){if(ua&&typeof ua.onCommitFiberUnmount=="function")try{ua.onCommitFiberUnmount(kp,r)}catch{}switch(r.tag){case 5:dn||dc(r,t);case 6:var n=Zr,a=Is;Zr=null,ci(e,t,r),Zr=n,Is=a,Zr!==null&&(Is?(e=Zr,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Zr.removeChild(r.stateNode));break;case 18:Zr!==null&&(Is?(e=Zr,r=r.stateNode,e.nodeType===8?Tv(e.parentNode,r):e.nodeType===1&&Tv(e,r),Iu(e)):Tv(Zr,r.stateNode));break;case 4:n=Zr,a=Is,Zr=r.stateNode.containerInfo,Is=!0,ci(e,t,r),Zr=n,Is=a;break;case 0:case 11:case 14:case 15:if(!dn&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&py(r,t,o),a=a.next}while(a!==n)}ci(e,t,r);break;case 1:if(!dn&&(dc(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){xr(r,t,l)}ci(e,t,r);break;case 21:ci(e,t,r);break;case 22:r.mode&1?(dn=(n=dn)||r.memoizedState!==null,ci(e,t,r),dn=n):ci(e,t,r);break;default:ci(e,t,r)}}function r_(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new fI),t.forEach(function(n){var a=jI.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function Es(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Zr=l.stateNode,Is=!1;break e;case 3:Zr=l.stateNode.containerInfo,Is=!0;break e;case 4:Zr=l.stateNode.containerInfo,Is=!0;break e}l=l.return}if(Zr===null)throw Error(je(160));Mk(i,o,a),Zr=null,Is=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(d){xr(a,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Ak(t,e),t=t.sibling}function Ak(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Es(t,e),Xs(e),n&4){try{wu(3,e,e.return),Dp(3,e)}catch(v){xr(e,e.return,v)}try{wu(5,e,e.return)}catch(v){xr(e,e.return,v)}}break;case 1:Es(t,e),Xs(e),n&512&&r!==null&&dc(r,r.return);break;case 5:if(Es(t,e),Xs(e),n&512&&r!==null&&dc(r,r.return),e.flags&32){var a=e.stateNode;try{Mu(a,"")}catch(v){xr(e,e.return,v)}}if(n&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&tC(a,i),Bx(l,o);var d=Bx(l,i);for(o=0;o<c.length;o+=2){var u=c[o],h=c[o+1];u==="style"?iC(a,h):u==="dangerouslySetInnerHTML"?sC(a,h):u==="children"?Mu(a,h):$0(a,u,h,d)}switch(l){case"input":Fx(a,i);break;case"textarea":rC(a,i);break;case"select":var m=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?mc(a,!!i.multiple,p,!1):m!==!!i.multiple&&(i.defaultValue!=null?mc(a,!!i.multiple,i.defaultValue,!0):mc(a,!!i.multiple,i.multiple?[]:"",!1))}a[Uu]=i}catch(v){xr(e,e.return,v)}}break;case 6:if(Es(t,e),Xs(e),n&4){if(e.stateNode===null)throw Error(je(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(v){xr(e,e.return,v)}}break;case 3:if(Es(t,e),Xs(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Iu(t.containerInfo)}catch(v){xr(e,e.return,v)}break;case 4:Es(t,e),Xs(e);break;case 13:Es(t,e),Xs(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(xw=Nr())),n&4&&r_(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(dn=(d=dn)||u,Es(t,e),dn=d):Es(t,e),Xs(e),n&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!u&&e.mode&1)for(Le=e,u=e.child;u!==null;){for(h=Le=u;Le!==null;){switch(m=Le,p=m.child,m.tag){case 0:case 11:case 14:case 15:wu(4,m,m.return);break;case 1:dc(m,m.return);var w=m.stateNode;if(typeof w.componentWillUnmount=="function"){n=m,r=m.return;try{t=n,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(v){xr(n,r,v)}}break;case 5:dc(m,m.return);break;case 22:if(m.memoizedState!==null){s_(h);continue}}p!==null?(p.return=m,Le=p):s_(h)}u=u.sibling}e:for(u=null,h=e;;){if(h.tag===5){if(u===null){u=h;try{a=h.stateNode,d?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=aC("display",o))}catch(v){xr(e,e.return,v)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(v){xr(e,e.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Es(t,e),Xs(e),n&4&&r_(e);break;case 21:break;default:Es(t,e),Xs(e)}}function Xs(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Rk(r)){var n=r;break e}r=r.return}throw Error(je(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(Mu(a,""),n.flags&=-33);var i=t_(e);xy(e,i,a);break;case 3:case 4:var o=n.stateNode.containerInfo,l=t_(e);vy(e,l,o);break;default:throw Error(je(161))}}catch(c){xr(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function mI(e,t,r){Le=e,Ok(e)}function Ok(e,t,r){for(var n=(e.mode&1)!==0;Le!==null;){var a=Le,i=a.child;if(a.tag===22&&n){var o=a.memoizedState!==null||bh;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||dn;l=bh;var d=dn;if(bh=o,(dn=c)&&!d)for(Le=a;Le!==null;)o=Le,c=o.child,o.tag===22&&o.memoizedState!==null?a_(a):c!==null?(c.return=o,Le=c):a_(a);for(;i!==null;)Le=i,Ok(i),i=i.sibling;Le=a,bh=l,dn=d}n_(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,Le=i):n_(e)}}function n_(e){for(;Le!==null;){var t=Le;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:dn||Dp(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!dn)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:As(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&U1(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}U1(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&Iu(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(je(163))}dn||t.flags&512&&gy(t)}catch(m){xr(t,t.return,m)}}if(t===e){Le=null;break}if(r=t.sibling,r!==null){r.return=t.return,Le=r;break}Le=t.return}}function s_(e){for(;Le!==null;){var t=Le;if(t===e){Le=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Le=r;break}Le=t.return}}function a_(e){for(;Le!==null;){var t=Le;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Dp(4,t)}catch(c){xr(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(c){xr(t,a,c)}}var i=t.return;try{gy(t)}catch(c){xr(t,i,c)}break;case 5:var o=t.return;try{gy(t)}catch(c){xr(t,o,c)}}}catch(c){xr(t,t.return,c)}if(t===e){Le=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Le=l;break}Le=t.return}}var pI=Math.ceil,Am=ii.ReactCurrentDispatcher,gw=ii.ReactCurrentOwner,ps=ii.ReactCurrentBatchConfig,Tt=0,Qr=null,Tr=null,en=0,Hn=0,uc=vo(0),zr=0,Ku=null,Zo=0,Ip=0,vw=0,bu=null,On=null,xw=0,Vc=1/0,Oa=null,Om=!1,yy=null,Wi=null,jh=!1,Ii=null,Dm=0,ju=0,wy=null,Zh=-1,Jh=0;function _n(){return Tt&6?Nr():Zh!==-1?Zh:Zh=Nr()}function Hi(e){return e.mode&1?Tt&2&&en!==0?en&-en:ZD.transition!==null?(Jh===0&&(Jh=xC()),Jh):(e=$t,e!==0||(e=window.event,e=e===void 0?16:SC(e.type)),e):1}function Bs(e,t,r,n){if(50<ju)throw ju=0,wy=null,Error(je(185));yf(e,r,n),(!(Tt&2)||e!==Qr)&&(e===Qr&&(!(Tt&2)&&(Ip|=r),zr===4&&_i(e,en)),zn(e,n),r===1&&Tt===0&&!(t.mode&1)&&(Vc=Nr()+500,Mp&&xo()))}function zn(e,t){var r=e.callbackNode;ZO(e,t);var n=xm(e,e===Qr?en:0);if(n===0)r!==null&&m1(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&m1(r),t===1)e.tag===0?XD(i_.bind(null,e)):VC(i_.bind(null,e)),KD(function(){!(Tt&6)&&xo()}),r=null;else{switch(yC(n)){case 1:r=V0;break;case 4:r=gC;break;case 16:r=vm;break;case 536870912:r=vC;break;default:r=vm}r=Bk(r,Dk.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Dk(e,t){if(Zh=-1,Jh=0,Tt&6)throw Error(je(327));var r=e.callbackNode;if(yc()&&e.callbackNode!==r)return null;var n=xm(e,e===Qr?en:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Im(e,n);else{t=n;var a=Tt;Tt|=2;var i=Fk();(Qr!==e||en!==t)&&(Oa=null,Vc=Nr()+500,Ko(e,t));do try{xI();break}catch(l){Ik(e,l)}while(!0);nw(),Am.current=i,Tt=a,Tr!==null?t=0:(Qr=null,en=0,t=zr)}if(t!==0){if(t===2&&(a=Kx(e),a!==0&&(n=a,t=by(e,a))),t===1)throw r=Ku,Ko(e,0),_i(e,n),zn(e,Nr()),r;if(t===6)_i(e,n);else{if(a=e.current.alternate,!(n&30)&&!gI(a)&&(t=Im(e,n),t===2&&(i=Kx(e),i!==0&&(n=i,t=by(e,i))),t===1))throw r=Ku,Ko(e,0),_i(e,n),zn(e,Nr()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(je(345));case 2:To(e,On,Oa);break;case 3:if(_i(e,n),(n&130023424)===n&&(t=xw+500-Nr(),10<t)){if(xm(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){_n(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=ty(To.bind(null,e,On,Oa),t);break}To(e,On,Oa);break;case 4:if(_i(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var o=31-Us(n);i=1<<o,o=t[o],o>a&&(a=o),n&=~i}if(n=a,n=Nr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*pI(n/1960))-n,10<n){e.timeoutHandle=ty(To.bind(null,e,On,Oa),n);break}To(e,On,Oa);break;case 5:To(e,On,Oa);break;default:throw Error(je(329))}}}return zn(e,Nr()),e.callbackNode===r?Dk.bind(null,e):null}function by(e,t){var r=bu;return e.current.memoizedState.isDehydrated&&(Ko(e,t).flags|=256),e=Im(e,t),e!==2&&(t=On,On=r,t!==null&&jy(t)),e}function jy(e){On===null?On=e:On.push.apply(On,e)}function gI(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!qs(i(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function _i(e,t){for(t&=~vw,t&=~Ip,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Us(t),n=1<<r;e[r]=-1,t&=~n}}function i_(e){if(Tt&6)throw Error(je(327));yc();var t=xm(e,0);if(!(t&1))return zn(e,Nr()),null;var r=Im(e,t);if(e.tag!==0&&r===2){var n=Kx(e);n!==0&&(t=n,r=by(e,n))}if(r===1)throw r=Ku,Ko(e,0),_i(e,t),zn(e,Nr()),r;if(r===6)throw Error(je(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,To(e,On,Oa),zn(e,Nr()),null}function yw(e,t){var r=Tt;Tt|=1;try{return e(t)}finally{Tt=r,Tt===0&&(Vc=Nr()+500,Mp&&xo())}}function Jo(e){Ii!==null&&Ii.tag===0&&!(Tt&6)&&yc();var t=Tt;Tt|=1;var r=ps.transition,n=$t;try{if(ps.transition=null,$t=1,e)return e()}finally{$t=n,ps.transition=r,Tt=t,!(Tt&6)&&xo()}}function ww(){Hn=uc.current,sr(uc)}function Ko(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,HD(r)),Tr!==null)for(r=Tr.return;r!==null;){var n=r;switch(ew(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&_m();break;case 3:Bc(),sr(Ln),sr(fn),cw();break;case 5:lw(n);break;case 4:Bc();break;case 13:sr(ur);break;case 19:sr(ur);break;case 10:sw(n.type._context);break;case 22:case 23:ww()}r=r.return}if(Qr=e,Tr=e=Ki(e.current,null),en=Hn=t,zr=0,Ku=null,vw=Ip=Zo=0,On=bu=null,Do!==null){for(t=0;t<Do.length;t++)if(r=Do[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=a,n.next=o}r.pending=n}Do=null}return e}function Ik(e,t){do{var r=Tr;try{if(nw(),Yh.current=Mm,Rm){for(var n=fr.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}Rm=!1}if(Xo=0,qr=Ir=fr=null,yu=!1,Vu=0,gw.current=null,r===null||r.return===null){zr=1,Ku=t,Tr=null;break}e:{var i=e,o=r.return,l=r,c=t;if(t=en,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=l,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var m=u.alternate;m?(u.updateQueue=m.updateQueue,u.memoizedState=m.memoizedState,u.lanes=m.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=K1(o);if(p!==null){p.flags&=-257,G1(p,o,l,i,t),p.mode&1&&H1(i,d,t),t=p,c=d;var w=t.updateQueue;if(w===null){var v=new Set;v.add(c),t.updateQueue=v}else w.add(c);break e}else{if(!(t&1)){H1(i,d,t),bw();break e}c=Error(je(426))}}else if(lr&&l.mode&1){var g=K1(o);if(g!==null){!(g.flags&65536)&&(g.flags|=256),G1(g,o,l,i,t),tw(qc(c,l));break e}}i=c=qc(c,l),zr!==4&&(zr=2),bu===null?bu=[i]:bu.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var y=yk(i,c,t);z1(i,y);break e;case 1:l=c;var x=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof x.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Wi===null||!Wi.has(b)))){i.flags|=65536,t&=-t,i.lanes|=t;var _=wk(i,l,t);z1(i,_);break e}}i=i.return}while(i!==null)}$k(r)}catch(N){t=N,Tr===r&&r!==null&&(Tr=r=r.return);continue}break}while(!0)}function Fk(){var e=Am.current;return Am.current=Mm,e===null?Mm:e}function bw(){(zr===0||zr===3||zr===2)&&(zr=4),Qr===null||!(Zo&268435455)&&!(Ip&268435455)||_i(Qr,en)}function Im(e,t){var r=Tt;Tt|=2;var n=Fk();(Qr!==e||en!==t)&&(Oa=null,Ko(e,t));do try{vI();break}catch(a){Ik(e,a)}while(!0);if(nw(),Tt=r,Am.current=n,Tr!==null)throw Error(je(261));return Qr=null,en=0,zr}function vI(){for(;Tr!==null;)Lk(Tr)}function xI(){for(;Tr!==null&&!qO();)Lk(Tr)}function Lk(e){var t=Uk(e.alternate,e,Hn);e.memoizedProps=e.pendingProps,t===null?$k(e):Tr=t,gw.current=null}function $k(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=uI(r,t),r!==null){r.flags&=32767,Tr=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{zr=6,Tr=null;return}}else if(r=dI(r,t,Hn),r!==null){Tr=r;return}if(t=t.sibling,t!==null){Tr=t;return}Tr=t=e}while(t!==null);zr===0&&(zr=5)}function To(e,t,r){var n=$t,a=ps.transition;try{ps.transition=null,$t=1,yI(e,t,r,n)}finally{ps.transition=a,$t=n}return null}function yI(e,t,r,n){do yc();while(Ii!==null);if(Tt&6)throw Error(je(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(je(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(JO(e,i),e===Qr&&(Tr=Qr=null,en=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||jh||(jh=!0,Bk(vm,function(){return yc(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=ps.transition,ps.transition=null;var o=$t;$t=1;var l=Tt;Tt|=4,gw.current=null,hI(e,r),Ak(r,e),$D(Jx),ym=!!Zx,Jx=Zx=null,e.current=r,mI(r),VO(),Tt=l,$t=o,ps.transition=i}else e.current=r;if(jh&&(jh=!1,Ii=e,Dm=a),i=e.pendingLanes,i===0&&(Wi=null),KO(r.stateNode),zn(e,Nr()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(Om)throw Om=!1,e=yy,yy=null,e;return Dm&1&&e.tag!==0&&yc(),i=e.pendingLanes,i&1?e===wy?ju++:(ju=0,wy=e):ju=0,xo(),null}function yc(){if(Ii!==null){var e=yC(Dm),t=ps.transition,r=$t;try{if(ps.transition=null,$t=16>e?16:e,Ii===null)var n=!1;else{if(e=Ii,Ii=null,Dm=0,Tt&6)throw Error(je(331));var a=Tt;for(Tt|=4,Le=e.current;Le!==null;){var i=Le,o=i.child;if(Le.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(Le=d;Le!==null;){var u=Le;switch(u.tag){case 0:case 11:case 15:wu(8,u,i)}var h=u.child;if(h!==null)h.return=u,Le=h;else for(;Le!==null;){u=Le;var m=u.sibling,p=u.return;if(Tk(u),u===d){Le=null;break}if(m!==null){m.return=p,Le=m;break}Le=p}}}var w=i.alternate;if(w!==null){var v=w.child;if(v!==null){w.child=null;do{var g=v.sibling;v.sibling=null,v=g}while(v!==null)}}Le=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Le=o;else e:for(;Le!==null;){if(i=Le,i.flags&2048)switch(i.tag){case 0:case 11:case 15:wu(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,Le=y;break e}Le=i.return}}var x=e.current;for(Le=x;Le!==null;){o=Le;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,Le=b;else e:for(o=x;Le!==null;){if(l=Le,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Dp(9,l)}}catch(N){xr(l,l.return,N)}if(l===o){Le=null;break e}var _=l.sibling;if(_!==null){_.return=l.return,Le=_;break e}Le=l.return}}if(Tt=a,xo(),ua&&typeof ua.onPostCommitFiberRoot=="function")try{ua.onPostCommitFiberRoot(kp,e)}catch{}n=!0}return n}finally{$t=r,ps.transition=t}}return!1}function o_(e,t,r){t=qc(r,t),t=yk(e,t,1),e=Vi(e,t,1),t=_n(),e!==null&&(yf(e,1,t),zn(e,t))}function xr(e,t,r){if(e.tag===3)o_(e,e,r);else for(;t!==null;){if(t.tag===3){o_(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Wi===null||!Wi.has(n))){e=qc(r,e),e=wk(t,e,1),t=Vi(t,e,1),e=_n(),t!==null&&(yf(t,1,e),zn(t,e));break}}t=t.return}}function wI(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=_n(),e.pingedLanes|=e.suspendedLanes&r,Qr===e&&(en&r)===r&&(zr===4||zr===3&&(en&130023424)===en&&500>Nr()-xw?Ko(e,0):vw|=r),zn(e,t)}function zk(e,t){t===0&&(e.mode&1?(t=fh,fh<<=1,!(fh&130023424)&&(fh=4194304)):t=1);var r=_n();e=Za(e,t),e!==null&&(yf(e,t,r),zn(e,r))}function bI(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),zk(e,r)}function jI(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(je(314))}n!==null&&n.delete(t),zk(e,r)}var Uk;Uk=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ln.current)In=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return In=!1,cI(e,t,r);In=!!(e.flags&131072)}else In=!1,lr&&t.flags&1048576&&WC(t,Cm,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Xh(e,t),e=t.pendingProps;var a=$c(t,fn.current);xc(t,r),a=uw(null,t,n,e,a,r);var i=fw();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,$n(n)?(i=!0,Nm(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,iw(t),a.updater=Op,t.stateNode=a,a._reactInternals=t,ly(t,n,e,r),t=uy(null,t,n,!0,i,r)):(t.tag=0,lr&&i&&J0(t),gn(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Xh(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=NI(n),e=As(n,e),a){case 0:t=dy(null,t,n,e,r);break e;case 1:t=X1(null,t,n,e,r);break e;case 11:t=Y1(null,t,n,e,r);break e;case 14:t=Q1(null,t,n,As(n.type,e),r);break e}throw Error(je(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:As(n,a),dy(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:As(n,a),X1(e,t,n,a,r);case 3:e:{if(Nk(t),e===null)throw Error(je(387));n=t.pendingProps,i=t.memoizedState,a=i.element,XC(e,t),Pm(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=qc(Error(je(423)),t),t=Z1(e,t,n,r,a);break e}else if(n!==a){a=qc(Error(je(424)),t),t=Z1(e,t,n,r,a);break e}else for(Qn=qi(t.stateNode.containerInfo.firstChild),Zn=t,lr=!0,Ls=null,r=YC(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(zc(),n===a){t=Ja(e,t,r);break e}gn(e,t,n,r)}t=t.child}return t;case 5:return ZC(t),e===null&&ay(t),n=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,o=a.children,ey(n,a)?o=null:i!==null&&ey(n,i)&&(t.flags|=32),_k(e,t),gn(e,t,o,r),t.child;case 6:return e===null&&ay(t),null;case 13:return Sk(e,t,r);case 4:return ow(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Uc(t,null,n,r):gn(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:As(n,a),Y1(e,t,n,a,r);case 7:return gn(e,t,t.pendingProps,r),t.child;case 8:return gn(e,t,t.pendingProps.children,r),t.child;case 12:return gn(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,Gt(km,n._currentValue),n._currentValue=o,i!==null)if(qs(i.value,o)){if(i.children===a.children&&!Ln.current){t=Ja(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=Wa(-1,r&-r),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),iy(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(je(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),iy(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}gn(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,xc(t,r),a=ys(a),n=n(a),t.flags|=1,gn(e,t,n,r),t.child;case 14:return n=t.type,a=As(n,t.pendingProps),a=As(n.type,a),Q1(e,t,n,a,r);case 15:return bk(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:As(n,a),Xh(e,t),t.tag=1,$n(n)?(e=!0,Nm(t)):e=!1,xc(t,r),xk(t,n,a),ly(t,n,a,r),uy(null,t,n,!0,e,r);case 19:return Ck(e,t,r);case 22:return jk(e,t,r)}throw Error(je(156,t.tag))};function Bk(e,t){return pC(e,t)}function _I(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ms(e,t,r,n){return new _I(e,t,r,n)}function jw(e){return e=e.prototype,!(!e||!e.isReactComponent)}function NI(e){if(typeof e=="function")return jw(e)?1:0;if(e!=null){if(e=e.$$typeof,e===U0)return 11;if(e===B0)return 14}return 2}function Ki(e,t){var r=e.alternate;return r===null?(r=ms(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function em(e,t,r,n,a,i){var o=2;if(n=e,typeof e=="function")jw(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case tc:return Go(r.children,a,i,t);case z0:o=8,a|=8;break;case Mx:return e=ms(12,r,t,a|2),e.elementType=Mx,e.lanes=i,e;case Ax:return e=ms(13,r,t,a),e.elementType=Ax,e.lanes=i,e;case Ox:return e=ms(19,r,t,a),e.elementType=Ox,e.lanes=i,e;case ZS:return Fp(r,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case QS:o=10;break e;case XS:o=9;break e;case U0:o=11;break e;case B0:o=14;break e;case yi:o=16,n=null;break e}throw Error(je(130,e==null?e:typeof e,""))}return t=ms(o,r,t,a),t.elementType=e,t.type=n,t.lanes=i,t}function Go(e,t,r,n){return e=ms(7,e,n,t),e.lanes=r,e}function Fp(e,t,r,n){return e=ms(22,e,n,t),e.elementType=ZS,e.lanes=r,e.stateNode={isHidden:!1},e}function Lv(e,t,r){return e=ms(6,e,null,t),e.lanes=r,e}function $v(e,t,r){return t=ms(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function SI(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yv(0),this.expirationTimes=yv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yv(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function _w(e,t,r,n,a,i,o,l,c){return e=new SI(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=ms(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},iw(i),e}function CI(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ec,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function qk(e){if(!e)return ro;e=e._reactInternals;e:{if(gl(e)!==e||e.tag!==1)throw Error(je(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if($n(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(je(171))}if(e.tag===1){var r=e.type;if($n(r))return qC(e,r,t)}return t}function Vk(e,t,r,n,a,i,o,l,c){return e=_w(r,n,!0,e,a,i,o,l,c),e.context=qk(null),r=e.current,n=_n(),a=Hi(r),i=Wa(n,a),i.callback=t??null,Vi(r,i,a),e.current.lanes=a,yf(e,a,n),zn(e,n),e}function Lp(e,t,r,n){var a=t.current,i=_n(),o=Hi(a);return r=qk(r),t.context===null?t.context=r:t.pendingContext=r,t=Wa(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Vi(a,t,o),e!==null&&(Bs(e,a,o,i),Gh(e,a,o)),o}function Fm(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function l_(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Nw(e,t){l_(e,t),(e=e.alternate)&&l_(e,t)}function kI(){return null}var Wk=typeof reportError=="function"?reportError:function(e){console.error(e)};function Sw(e){this._internalRoot=e}$p.prototype.render=Sw.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(je(409));Lp(e,t,null,null)};$p.prototype.unmount=Sw.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Jo(function(){Lp(null,e,null,null)}),t[Xa]=null}};function $p(e){this._internalRoot=e}$p.prototype.unstable_scheduleHydration=function(e){if(e){var t=jC();e={blockedOn:null,target:e,priority:t};for(var r=0;r<ji.length&&t!==0&&t<ji[r].priority;r++);ji.splice(r,0,e),r===0&&NC(e)}};function Cw(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function zp(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function c_(){}function EI(e,t,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var d=Fm(o);i.call(d)}}var o=Vk(t,n,e,0,null,!1,!1,"",c_);return e._reactRootContainer=o,e[Xa]=o.current,$u(e.nodeType===8?e.parentNode:e),Jo(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var d=Fm(c);l.call(d)}}var c=_w(e,0,!1,null,null,!1,!1,"",c_);return e._reactRootContainer=c,e[Xa]=c.current,$u(e.nodeType===8?e.parentNode:e),Jo(function(){Lp(t,c,r,n)}),c}function Up(e,t,r,n,a){var i=r._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var l=a;a=function(){var c=Fm(o);l.call(c)}}Lp(t,o,e,a)}else o=EI(r,t,e,a,n);return Fm(o)}wC=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=tu(t.pendingLanes);r!==0&&(W0(t,r|1),zn(t,Nr()),!(Tt&6)&&(Vc=Nr()+500,xo()))}break;case 13:Jo(function(){var n=Za(e,1);if(n!==null){var a=_n();Bs(n,e,1,a)}}),Nw(e,1)}};H0=function(e){if(e.tag===13){var t=Za(e,134217728);if(t!==null){var r=_n();Bs(t,e,134217728,r)}Nw(e,134217728)}};bC=function(e){if(e.tag===13){var t=Hi(e),r=Za(e,t);if(r!==null){var n=_n();Bs(r,e,t,n)}Nw(e,t)}};jC=function(){return $t};_C=function(e,t){var r=$t;try{return $t=e,t()}finally{$t=r}};Vx=function(e,t,r){switch(t){case"input":if(Fx(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=Rp(n);if(!a)throw Error(je(90));eC(n),Fx(n,a)}}}break;case"textarea":rC(e,r);break;case"select":t=r.value,t!=null&&mc(e,!!r.multiple,t,!1)}};cC=yw;dC=Jo;var PI={usingClientEntryPoint:!1,Events:[bf,ac,Rp,oC,lC,yw]},Hd={findFiberByHostInstance:Oo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},TI={bundleType:Hd.bundleType,version:Hd.version,rendererPackageName:Hd.rendererPackageName,rendererConfig:Hd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ii.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=hC(e),e===null?null:e.stateNode},findFiberByHostInstance:Hd.findFiberByHostInstance||kI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _h=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_h.isDisabled&&_h.supportsFiber)try{kp=_h.inject(TI),ua=_h}catch{}}ns.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=PI;ns.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Cw(t))throw Error(je(200));return CI(e,t,null,r)};ns.createRoot=function(e,t){if(!Cw(e))throw Error(je(299));var r=!1,n="",a=Wk;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=_w(e,1,!1,null,null,r,!1,n,a),e[Xa]=t.current,$u(e.nodeType===8?e.parentNode:e),new Sw(t)};ns.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(je(188)):(e=Object.keys(e).join(","),Error(je(268,e)));return e=hC(t),e=e===null?null:e.stateNode,e};ns.flushSync=function(e){return Jo(e)};ns.hydrate=function(e,t,r){if(!zp(t))throw Error(je(200));return Up(null,e,t,!0,r)};ns.hydrateRoot=function(e,t,r){if(!Cw(e))throw Error(je(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",o=Wk;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=Vk(t,null,e,1,r??null,a,!1,i,o),e[Xa]=t.current,$u(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new $p(t)};ns.render=function(e,t,r){if(!zp(t))throw Error(je(200));return Up(null,e,t,!1,r)};ns.unmountComponentAtNode=function(e){if(!zp(e))throw Error(je(40));return e._reactRootContainer?(Jo(function(){Up(null,null,e,!1,function(){e._reactRootContainer=null,e[Xa]=null})}),!0):!1};ns.unstable_batchedUpdates=yw;ns.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!zp(r))throw Error(je(200));if(e==null||e._reactInternals===void 0)throw Error(je(38));return Up(e,t,r,!1,n)};ns.version="18.3.1-next-f1338f8080-20240426";function Hk(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Hk)}catch(e){console.error(e)}}Hk(),HS.exports=ns;var vl=HS.exports;const Kk=OS(vl);var Gk,d_=vl;Gk=d_.createRoot,d_.hydrateRoot;const RI=1,MI=1e6;let zv=0;function AI(){return zv=(zv+1)%Number.MAX_SAFE_INTEGER,zv.toString()}const Uv=new Map,u_=e=>{if(Uv.has(e))return;const t=setTimeout(()=>{Uv.delete(e),_u({type:"REMOVE_TOAST",toastId:e})},MI);Uv.set(e,t)},OI=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,RI)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?u_(r):e.toasts.forEach(n=>{u_(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},tm=[];let rm={toasts:[]};function _u(e){rm=OI(rm,e),tm.forEach(t=>{t(rm)})}function oe({...e}){const t=AI(),r=a=>_u({type:"UPDATE_TOAST",toast:{...a,id:t}}),n=()=>_u({type:"DISMISS_TOAST",toastId:t});return _u({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||n()}}}),{id:t,dismiss:n,update:r}}function Gs(){const[e,t]=f.useState(rm);return f.useEffect(()=>(tm.push(t),()=>{const r=tm.indexOf(t);r>-1&&tm.splice(r,1)}),[e]),{...e,toast:oe,dismiss:r=>_u({type:"DISMISS_TOAST",toastId:r})}}function Ce(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function f_(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function ei(...e){return t=>{let r=!1;const n=e.map(a=>{const i=f_(a,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<n.length;a++){const i=n[a];typeof i=="function"?i():f_(e[a],null)}}}}function ct(...e){return f.useCallback(ei(...e),e)}function DI(e,t){const r=f.createContext(t),n=i=>{const{children:o,...l}=i,c=f.useMemo(()=>l,Object.values(l));return s.jsx(r.Provider,{value:c,children:o})};n.displayName=e+"Provider";function a(i){const o=f.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,a]}function Cn(e,t=[]){let r=[];function n(i,o){const l=f.createContext(o),c=r.length;r=[...r,o];const d=h=>{var y;const{scope:m,children:p,...w}=h,v=((y=m==null?void 0:m[e])==null?void 0:y[c])||l,g=f.useMemo(()=>w,Object.values(w));return s.jsx(v.Provider,{value:g,children:p})};d.displayName=i+"Provider";function u(h,m){var v;const p=((v=m==null?void 0:m[e])==null?void 0:v[c])||l,w=f.useContext(p);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[d,u]}const a=()=>{const i=r.map(o=>f.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return f.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,II(a,...t)]}function II(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:d})=>{const h=c(i)[`__scope${d}`];return{...l,...h}},{});return f.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function no(e){const t=FI(e),r=f.forwardRef((n,a)=>{const{children:i,...o}=n,l=f.Children.toArray(i),c=l.find(LI);if(c){const d=c.props.children,u=l.map(h=>h===c?f.Children.count(d)>1?f.Children.only(null):f.isValidElement(d)?d.props.children:null:h);return s.jsx(t,{...o,ref:a,children:f.isValidElement(d)?f.cloneElement(d,void 0,u):null})}return s.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}var xl=no("Slot");function FI(e){const t=f.forwardRef((r,n)=>{const{children:a,...i}=r;if(f.isValidElement(a)){const o=zI(a),l=$I(i,a.props);return a.type!==f.Fragment&&(l.ref=n?ei(n,o):o),f.cloneElement(a,l)}return f.Children.count(a)>1?f.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Yk=Symbol("radix.slottable");function Qk(e){const t=({children:r})=>s.jsx(s.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=Yk,t}function LI(e){return f.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Yk}function $I(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function zI(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Bp(e){const t=e+"CollectionProvider",[r,n]=Cn(t),[a,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=v=>{const{scope:g,children:y}=v,x=he.useRef(null),b=he.useRef(new Map).current;return s.jsx(a,{scope:g,itemMap:b,collectionRef:x,children:y})};o.displayName=t;const l=e+"CollectionSlot",c=no(l),d=he.forwardRef((v,g)=>{const{scope:y,children:x}=v,b=i(l,y),_=ct(g,b.collectionRef);return s.jsx(c,{ref:_,children:x})});d.displayName=l;const u=e+"CollectionItemSlot",h="data-radix-collection-item",m=no(u),p=he.forwardRef((v,g)=>{const{scope:y,children:x,...b}=v,_=he.useRef(null),N=ct(g,_),P=i(u,y);return he.useEffect(()=>(P.itemMap.set(_,{ref:_,...b}),()=>void P.itemMap.delete(_))),s.jsx(m,{[h]:"",ref:N,children:x})});p.displayName=u;function w(v){const g=i(e+"CollectionConsumer",v);return he.useCallback(()=>{const x=g.collectionRef.current;if(!x)return[];const b=Array.from(x.querySelectorAll(`[${h}]`));return Array.from(g.itemMap.values()).sort((P,S)=>b.indexOf(P.ref.current)-b.indexOf(S.ref.current))},[g.collectionRef,g.itemMap])}return[{Provider:o,Slot:d,ItemSlot:p},w,n]}var UI=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ie=UI.reduce((e,t)=>{const r=no(`Primitive.${t}`),n=f.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function kw(e,t){e&&vl.flushSync(()=>e.dispatchEvent(t))}function yr(e){const t=f.useRef(e);return f.useEffect(()=>{t.current=e}),f.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function BI(e,t=globalThis==null?void 0:globalThis.document){const r=yr(e);f.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var qI="DismissableLayer",_y="dismissableLayer.update",VI="dismissableLayer.pointerDownOutside",WI="dismissableLayer.focusOutside",h_,Xk=f.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),yl=f.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,d=f.useContext(Xk),[u,h]=f.useState(null),m=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=f.useState({}),w=ct(t,S=>h(S)),v=Array.from(d.layers),[g]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),y=v.indexOf(g),x=u?v.indexOf(u):-1,b=d.layersWithOutsidePointerEventsDisabled.size>0,_=x>=y,N=KI(S=>{const T=S.target,U=[...d.branches].some(q=>q.contains(T));!_||U||(a==null||a(S),o==null||o(S),S.defaultPrevented||l==null||l())},m),P=GI(S=>{const T=S.target;[...d.branches].some(q=>q.contains(T))||(i==null||i(S),o==null||o(S),S.defaultPrevented||l==null||l())},m);return BI(S=>{x===d.layers.size-1&&(n==null||n(S),!S.defaultPrevented&&l&&(S.preventDefault(),l()))},m),f.useEffect(()=>{if(u)return r&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(h_=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(u)),d.layers.add(u),m_(),()=>{r&&d.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=h_)}},[u,m,r,d]),f.useEffect(()=>()=>{u&&(d.layers.delete(u),d.layersWithOutsidePointerEventsDisabled.delete(u),m_())},[u,d]),f.useEffect(()=>{const S=()=>p({});return document.addEventListener(_y,S),()=>document.removeEventListener(_y,S)},[]),s.jsx(Ie.div,{...c,ref:w,style:{pointerEvents:b?_?"auto":"none":void 0,...e.style},onFocusCapture:Ce(e.onFocusCapture,P.onFocusCapture),onBlurCapture:Ce(e.onBlurCapture,P.onBlurCapture),onPointerDownCapture:Ce(e.onPointerDownCapture,N.onPointerDownCapture)})});yl.displayName=qI;var HI="DismissableLayerBranch",Zk=f.forwardRef((e,t)=>{const r=f.useContext(Xk),n=f.useRef(null),a=ct(t,n);return f.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),s.jsx(Ie.div,{...e,ref:a})});Zk.displayName=HI;function KI(e,t=globalThis==null?void 0:globalThis.document){const r=yr(e),n=f.useRef(!1),a=f.useRef(()=>{});return f.useEffect(()=>{const i=l=>{if(l.target&&!n.current){let c=function(){Jk(VI,r,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function GI(e,t=globalThis==null?void 0:globalThis.document){const r=yr(e),n=f.useRef(!1);return f.useEffect(()=>{const a=i=>{i.target&&!n.current&&Jk(WI,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function m_(){const e=new CustomEvent(_y);document.dispatchEvent(e)}function Jk(e,t,r,{discrete:n}){const a=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?kw(a,i):a.dispatchEvent(i)}var YI=yl,QI=Zk,Cr=globalThis!=null&&globalThis.document?f.useLayoutEffect:()=>{},XI="Portal",cd=f.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[a,i]=f.useState(!1);Cr(()=>i(!0),[]);const o=r||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?Kk.createPortal(s.jsx(Ie.div,{...n,ref:t}),o):null});cd.displayName=XI;function ZI(e,t){return f.useReducer((r,n)=>t[r][n]??r,e)}var rn=e=>{const{present:t,children:r}=e,n=JI(t),a=typeof r=="function"?r({present:n.isPresent}):f.Children.only(r),i=ct(n.ref,e3(a));return typeof r=="function"||n.isPresent?f.cloneElement(a,{ref:i}):null};rn.displayName="Presence";function JI(e){const[t,r]=f.useState(),n=f.useRef(null),a=f.useRef(e),i=f.useRef("none"),o=e?"mounted":"unmounted",[l,c]=ZI(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return f.useEffect(()=>{const d=Nh(n.current);i.current=l==="mounted"?d:"none"},[l]),Cr(()=>{const d=n.current,u=a.current;if(u!==e){const m=i.current,p=Nh(d);e?c("MOUNT"):p==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(u&&m!==p?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),Cr(()=>{if(t){let d;const u=t.ownerDocument.defaultView??window,h=p=>{const v=Nh(n.current).includes(p.animationName);if(p.target===t&&v&&(c("ANIMATION_END"),!a.current)){const g=t.style.animationFillMode;t.style.animationFillMode="forwards",d=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=g)})}},m=p=>{p.target===t&&(i.current=Nh(n.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{u.clearTimeout(d),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:f.useCallback(d=>{n.current=d?getComputedStyle(d):null,r(d)},[])}}function Nh(e){return(e==null?void 0:e.animationName)||"none"}function e3(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var t3=I0[" useInsertionEffect ".trim().toString()]||Cr;function va({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[a,i,o]=r3({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:a;{const u=f.useRef(e!==void 0);f.useEffect(()=>{const h=u.current;h!==l&&console.warn(`${n} is changing from ${h?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=l},[l,n])}const d=f.useCallback(u=>{var h;if(l){const m=n3(u)?u(e):u;m!==e&&((h=o.current)==null||h.call(o,m))}else i(u)},[l,e,i,o]);return[c,d]}function r3({defaultProp:e,onChange:t}){const[r,n]=f.useState(e),a=f.useRef(r),i=f.useRef(t);return t3(()=>{i.current=t},[t]),f.useEffect(()=>{var o;a.current!==r&&((o=i.current)==null||o.call(i,r),a.current=r)},[r,a]),[r,n,i]}function n3(e){return typeof e=="function"}var e2=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),s3="VisuallyHidden",qp=f.forwardRef((e,t)=>s.jsx(Ie.span,{...e,ref:t,style:{...e2,...e.style}}));qp.displayName=s3;var a3=qp,Ew="ToastProvider",[Pw,i3,o3]=Bp("Toast"),[t2,zY]=Cn("Toast",[o3]),[l3,Vp]=t2(Ew),r2=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:a="right",swipeThreshold:i=50,children:o}=e,[l,c]=f.useState(null),[d,u]=f.useState(0),h=f.useRef(!1),m=f.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${Ew}\`. Expected non-empty \`string\`.`),s.jsx(Pw.Provider,{scope:t,children:s.jsx(l3,{scope:t,label:r,duration:n,swipeDirection:a,swipeThreshold:i,toastCount:d,viewport:l,onViewportChange:c,onToastAdd:f.useCallback(()=>u(p=>p+1),[]),onToastRemove:f.useCallback(()=>u(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:m,children:o})})};r2.displayName=Ew;var n2="ToastViewport",c3=["F8"],Ny="toast.viewportPause",Sy="toast.viewportResume",s2=f.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=c3,label:a="Notifications ({hotkey})",...i}=e,o=Vp(n2,r),l=i3(r),c=f.useRef(null),d=f.useRef(null),u=f.useRef(null),h=f.useRef(null),m=ct(t,h,o.onViewportChange),p=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),w=o.toastCount>0;f.useEffect(()=>{const g=y=>{var b;n.length!==0&&n.every(_=>y[_]||y.code===_)&&((b=h.current)==null||b.focus())};return document.addEventListener("keydown",g),()=>document.removeEventListener("keydown",g)},[n]),f.useEffect(()=>{const g=c.current,y=h.current;if(w&&g&&y){const x=()=>{if(!o.isClosePausedRef.current){const P=new CustomEvent(Ny);y.dispatchEvent(P),o.isClosePausedRef.current=!0}},b=()=>{if(o.isClosePausedRef.current){const P=new CustomEvent(Sy);y.dispatchEvent(P),o.isClosePausedRef.current=!1}},_=P=>{!g.contains(P.relatedTarget)&&b()},N=()=>{g.contains(document.activeElement)||b()};return g.addEventListener("focusin",x),g.addEventListener("focusout",_),g.addEventListener("pointermove",x),g.addEventListener("pointerleave",N),window.addEventListener("blur",x),window.addEventListener("focus",b),()=>{g.removeEventListener("focusin",x),g.removeEventListener("focusout",_),g.removeEventListener("pointermove",x),g.removeEventListener("pointerleave",N),window.removeEventListener("blur",x),window.removeEventListener("focus",b)}}},[w,o.isClosePausedRef]);const v=f.useCallback(({tabbingDirection:g})=>{const x=l().map(b=>{const _=b.ref.current,N=[_,...j3(_)];return g==="forwards"?N:N.reverse()});return(g==="forwards"?x.reverse():x).flat()},[l]);return f.useEffect(()=>{const g=h.current;if(g){const y=x=>{var N,P,S;const b=x.altKey||x.ctrlKey||x.metaKey;if(x.key==="Tab"&&!b){const T=document.activeElement,U=x.shiftKey;if(x.target===g&&U){(N=d.current)==null||N.focus();return}const G=v({tabbingDirection:U?"backwards":"forwards"}),H=G.findIndex(V=>V===T);Bv(G.slice(H+1))?x.preventDefault():U?(P=d.current)==null||P.focus():(S=u.current)==null||S.focus()}};return g.addEventListener("keydown",y),()=>g.removeEventListener("keydown",y)}},[l,v]),s.jsxs(QI,{ref:c,role:"region","aria-label":a.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:w?void 0:"none"},children:[w&&s.jsx(Cy,{ref:d,onFocusFromOutsideViewport:()=>{const g=v({tabbingDirection:"forwards"});Bv(g)}}),s.jsx(Pw.Slot,{scope:r,children:s.jsx(Ie.ol,{tabIndex:-1,...i,ref:m})}),w&&s.jsx(Cy,{ref:u,onFocusFromOutsideViewport:()=>{const g=v({tabbingDirection:"backwards"});Bv(g)}})]})});s2.displayName=n2;var a2="ToastFocusProxy",Cy=f.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...a}=e,i=Vp(a2,r);return s.jsx(qp,{"aria-hidden":!0,tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:o=>{var d;const l=o.relatedTarget;!((d=i.viewport)!=null&&d.contains(l))&&n()}})});Cy.displayName=a2;var _f="Toast",d3="toast.swipeStart",u3="toast.swipeMove",f3="toast.swipeCancel",h3="toast.swipeEnd",i2=f.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:a,onOpenChange:i,...o}=e,[l,c]=va({prop:n,defaultProp:a??!0,onChange:i,caller:_f});return s.jsx(rn,{present:r||l,children:s.jsx(g3,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:yr(e.onPause),onResume:yr(e.onResume),onSwipeStart:Ce(e.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ce(e.onSwipeMove,d=>{const{x:u,y:h}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:Ce(e.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ce(e.onSwipeEnd,d=>{const{x:u,y:h}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),c(!1)})})})});i2.displayName=_f;var[m3,p3]=t2(_f,{onClose(){}}),g3=f.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:a,open:i,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:d,onSwipeStart:u,onSwipeMove:h,onSwipeCancel:m,onSwipeEnd:p,...w}=e,v=Vp(_f,r),[g,y]=f.useState(null),x=ct(t,V=>y(V)),b=f.useRef(null),_=f.useRef(null),N=a||v.duration,P=f.useRef(0),S=f.useRef(N),T=f.useRef(0),{onToastAdd:U,onToastRemove:q}=v,re=yr(()=>{var se;(g==null?void 0:g.contains(document.activeElement))&&((se=v.viewport)==null||se.focus()),o()}),G=f.useCallback(V=>{!V||V===1/0||(window.clearTimeout(T.current),P.current=new Date().getTime(),T.current=window.setTimeout(re,V))},[re]);f.useEffect(()=>{const V=v.viewport;if(V){const se=()=>{G(S.current),d==null||d()},ee=()=>{const J=new Date().getTime()-P.current;S.current=S.current-J,window.clearTimeout(T.current),c==null||c()};return V.addEventListener(Ny,ee),V.addEventListener(Sy,se),()=>{V.removeEventListener(Ny,ee),V.removeEventListener(Sy,se)}}},[v.viewport,N,c,d,G]),f.useEffect(()=>{i&&!v.isClosePausedRef.current&&G(N)},[i,N,v.isClosePausedRef,G]),f.useEffect(()=>(U(),()=>q()),[U,q]);const H=f.useMemo(()=>g?h2(g):null,[g]);return v.viewport?s.jsxs(s.Fragment,{children:[H&&s.jsx(v3,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:H}),s.jsx(m3,{scope:r,onClose:re,children:vl.createPortal(s.jsx(Pw.ItemSlot,{scope:r,children:s.jsx(YI,{asChild:!0,onEscapeKeyDown:Ce(l,()=>{v.isFocusedToastEscapeKeyDownRef.current||re(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:s.jsx(Ie.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":v.swipeDirection,...w,ref:x,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Ce(e.onKeyDown,V=>{V.key==="Escape"&&(l==null||l(V.nativeEvent),V.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,re()))}),onPointerDown:Ce(e.onPointerDown,V=>{V.button===0&&(b.current={x:V.clientX,y:V.clientY})}),onPointerMove:Ce(e.onPointerMove,V=>{if(!b.current)return;const se=V.clientX-b.current.x,ee=V.clientY-b.current.y,J=!!_.current,I=["left","right"].includes(v.swipeDirection),D=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,C=I?D(0,se):0,E=I?0:D(0,ee),A=V.pointerType==="touch"?10:2,Y={x:C,y:E},k={originalEvent:V,delta:Y};J?(_.current=Y,Sh(u3,h,k,{discrete:!1})):p_(Y,v.swipeDirection,A)?(_.current=Y,Sh(d3,u,k,{discrete:!1}),V.target.setPointerCapture(V.pointerId)):(Math.abs(se)>A||Math.abs(ee)>A)&&(b.current=null)}),onPointerUp:Ce(e.onPointerUp,V=>{const se=_.current,ee=V.target;if(ee.hasPointerCapture(V.pointerId)&&ee.releasePointerCapture(V.pointerId),_.current=null,b.current=null,se){const J=V.currentTarget,I={originalEvent:V,delta:se};p_(se,v.swipeDirection,v.swipeThreshold)?Sh(h3,p,I,{discrete:!0}):Sh(f3,m,I,{discrete:!0}),J.addEventListener("click",D=>D.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),v3=e=>{const{__scopeToast:t,children:r,...n}=e,a=Vp(_f,t),[i,o]=f.useState(!1),[l,c]=f.useState(!1);return w3(()=>o(!0)),f.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:s.jsx(cd,{asChild:!0,children:s.jsx(qp,{...n,children:i&&s.jsxs(s.Fragment,{children:[a.label," ",r]})})})},x3="ToastTitle",o2=f.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return s.jsx(Ie.div,{...n,ref:t})});o2.displayName=x3;var y3="ToastDescription",l2=f.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return s.jsx(Ie.div,{...n,ref:t})});l2.displayName=y3;var c2="ToastAction",d2=f.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?s.jsx(f2,{altText:r,asChild:!0,children:s.jsx(Tw,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${c2}\`. Expected non-empty \`string\`.`),null)});d2.displayName=c2;var u2="ToastClose",Tw=f.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,a=p3(u2,r);return s.jsx(f2,{asChild:!0,children:s.jsx(Ie.button,{type:"button",...n,ref:t,onClick:Ce(e.onClick,a.onClose)})})});Tw.displayName=u2;var f2=f.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...a}=e;return s.jsx(Ie.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...a,ref:t})});function h2(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),b3(n)){const a=n.ariaHidden||n.hidden||n.style.display==="none",i=n.dataset.radixToastAnnounceExclude==="";if(!a)if(i){const o=n.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...h2(n))}}),t}function Sh(e,t,r,{discrete:n}){const a=r.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?kw(a,i):a.dispatchEvent(i)}var p_=(e,t,r=0)=>{const n=Math.abs(e.x),a=Math.abs(e.y),i=n>a;return t==="left"||t==="right"?i&&n>r:!i&&a>r};function w3(e=()=>{}){const t=yr(e);Cr(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function b3(e){return e.nodeType===e.ELEMENT_NODE}function j3(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Bv(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var _3=r2,m2=s2,p2=i2,g2=o2,v2=l2,x2=d2,y2=Tw;function w2(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=w2(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function b2(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=w2(e))&&(n&&(n+=" "),n+=t);return n}const g_=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,v_=b2,wl=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return v_(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:i}=t,o=Object.keys(a).map(d=>{const u=r==null?void 0:r[d],h=i==null?void 0:i[d];if(u===null)return null;const m=g_(u)||g_(h);return a[d][m]}),l=r&&Object.entries(r).reduce((d,u)=>{let[h,m]=u;return m===void 0||(d[h]=m),d},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((d,u)=>{let{class:h,className:m,...p}=u;return Object.entries(p).every(w=>{let[v,g]=w;return Array.isArray(g)?g.includes({...i,...l}[v]):{...i,...l}[v]===g})?[...d,h,m]:d},[]);return v_(e,o,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N3=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),j2=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var S3={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C3=f.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:o,...l},c)=>f.createElement("svg",{ref:c,...S3,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:j2("lucide",a),...l},[...o.map(([d,u])=>f.createElement(d,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const De=(e,t)=>{const r=f.forwardRef(({className:n,...a},i)=>f.createElement(C3,{ref:i,iconNode:t,className:j2(`lucide-${N3(e)}`,n),...a}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wp=De("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k3=De("BadgeCheck",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E3=De("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wn=De("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P3=De("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cs=De("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _2=De("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N2=De("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rw=De("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S2=De("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qv=De("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T3=De("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mw=De("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aw=De("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R3=De("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x_=De("Clock3",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16.5 12",key:"1aq6pp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C2=De("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y_=De("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nm=De("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lm=De("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gi=De("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M3=De("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xn=De("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fr=De("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A3=De("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fc=De("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sm=De("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vv=De("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wv=De("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O3=De("Handshake",[["path",{d:"m11 17 2 2a1 1 0 1 0 3-3",key:"efffak"}],["path",{d:"m14 14 2.5 2.5a1 1 0 1 0 3-3l-3.88-3.88a3 3 0 0 0-4.24 0l-.88.88a1 1 0 1 1-3-3l2.81-2.81a5.79 5.79 0 0 1 7.06-.87l.47.28a2 2 0 0 0 1.42.25L21 4",key:"9pr0kb"}],["path",{d:"m21 3 1 11h-2",key:"1tisrp"}],["path",{d:"M3 3 2 14l6.5 6.5a1 1 0 1 0 3-3",key:"1uvwmv"}],["path",{d:"M3 4h8",key:"1ep09j"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cn=De("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k2=De("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hc=De("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D3=De("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I3=De("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F3=De("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w_=De("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b_=De("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ch=De("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hp=De("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E2=De("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P2=De("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nf=De("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dl=De("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L3=De("MessageSquareText",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}],["path",{d:"M13 8H7",key:"14i4kc"}],["path",{d:"M17 12H7",key:"16if0g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kp=De("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nr=De("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $3=De("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wc=De("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nu=De("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z3=De("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j_=De("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const na=De("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U3=De("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __=De("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const am=De("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ha=De("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gp=De("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gn=De("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B3=De("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const su=De("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N_=De("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S_=De("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T2=De("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wc=De("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gu=De("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pr=De("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q3=De("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]),Ow="-",V3=e=>{const t=H3(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const l=o.split(Ow);return l[0]===""&&l.length!==1&&l.shift(),R2(l,t)||W3(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},R2=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),a=n?R2(e.slice(1),n):void 0;if(a)return a;if(t.validators.length===0)return;const i=e.join(Ow);return(o=t.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},C_=/^\[(.+)\]$/,W3=e=>{if(C_.test(e)){const t=C_.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},H3=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return G3(Object.entries(e.classGroups),r).forEach(([i,o])=>{ky(o,n,i,t)}),n},ky=(e,t,r,n)=>{e.forEach(a=>{if(typeof a=="string"){const i=a===""?t:k_(t,a);i.classGroupId=r;return}if(typeof a=="function"){if(K3(a)){ky(a(n),t,r,n);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([i,o])=>{ky(o,k_(t,i),r,n)})})},k_=(e,t)=>{let r=e;return t.split(Ow).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},K3=e=>e.isThemeGetter,G3=(e,t)=>t?e.map(([r,n])=>{const a=n.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[t+o,l])):i);return[r,a]}):e,Y3=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const a=(i,o)=>{r.set(i,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return a(i,o),o},set(i,o){r.has(i)?r.set(i,o):a(i,o)}}},M2="!",Q3=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,a=t[0],i=t.length,o=l=>{const c=[];let d=0,u=0,h;for(let g=0;g<l.length;g++){let y=l[g];if(d===0){if(y===a&&(n||l.slice(g,g+i)===t)){c.push(l.slice(u,g)),u=g+i;continue}if(y==="/"){h=g;continue}}y==="["?d++:y==="]"&&d--}const m=c.length===0?l:l.substring(u),p=m.startsWith(M2),w=p?m.substring(1):m,v=h&&h>u?h-u:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:w,maybePostfixModifierPosition:v}};return r?l=>r({className:l,parseClassName:o}):o},X3=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},Z3=e=>({cache:Y3(e.cacheSize),parseClassName:Q3(e),...V3(e)}),J3=/\s+/,eF=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a}=t,i=[],o=e.trim().split(J3);let l="";for(let c=o.length-1;c>=0;c-=1){const d=o[c],{modifiers:u,hasImportantModifier:h,baseClassName:m,maybePostfixModifierPosition:p}=r(d);let w=!!p,v=n(w?m.substring(0,p):m);if(!v){if(!w){l=d+(l.length>0?" "+l:l);continue}if(v=n(m),!v){l=d+(l.length>0?" "+l:l);continue}w=!1}const g=X3(u).join(":"),y=h?g+M2:g,x=y+v;if(i.includes(x))continue;i.push(x);const b=a(v,w);for(let _=0;_<b.length;++_){const N=b[_];i.push(y+N)}l=d+(l.length>0?" "+l:l)}return l};function tF(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=A2(t))&&(n&&(n+=" "),n+=r);return n}const A2=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=A2(e[n]))&&(r&&(r+=" "),r+=t);return r};function rF(e,...t){let r,n,a,i=o;function o(c){const d=t.reduce((u,h)=>h(u),e());return r=Z3(d),n=r.cache.get,a=r.cache.set,i=l,l(c)}function l(c){const d=n(c);if(d)return d;const u=eF(c,r);return a(c,u),u}return function(){return i(tF.apply(null,arguments))}}const tr=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},O2=/^\[(?:([a-z-]+):)?(.+)\]$/i,nF=/^\d+\/\d+$/,sF=new Set(["px","full","screen"]),aF=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,iF=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,oF=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,lF=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,cF=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Sa=e=>bc(e)||sF.has(e)||nF.test(e),di=e=>dd(e,"length",vF),bc=e=>!!e&&!Number.isNaN(Number(e)),Hv=e=>dd(e,"number",bc),Kd=e=>!!e&&Number.isInteger(Number(e)),dF=e=>e.endsWith("%")&&bc(e.slice(0,-1)),ht=e=>O2.test(e),ui=e=>aF.test(e),uF=new Set(["length","size","percentage"]),fF=e=>dd(e,uF,D2),hF=e=>dd(e,"position",D2),mF=new Set(["image","url"]),pF=e=>dd(e,mF,yF),gF=e=>dd(e,"",xF),Gd=()=>!0,dd=(e,t,r)=>{const n=O2.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},vF=e=>iF.test(e)&&!oF.test(e),D2=()=>!1,xF=e=>lF.test(e),yF=e=>cF.test(e),wF=()=>{const e=tr("colors"),t=tr("spacing"),r=tr("blur"),n=tr("brightness"),a=tr("borderColor"),i=tr("borderRadius"),o=tr("borderSpacing"),l=tr("borderWidth"),c=tr("contrast"),d=tr("grayscale"),u=tr("hueRotate"),h=tr("invert"),m=tr("gap"),p=tr("gradientColorStops"),w=tr("gradientColorStopPositions"),v=tr("inset"),g=tr("margin"),y=tr("opacity"),x=tr("padding"),b=tr("saturate"),_=tr("scale"),N=tr("sepia"),P=tr("skew"),S=tr("space"),T=tr("translate"),U=()=>["auto","contain","none"],q=()=>["auto","hidden","clip","visible","scroll"],re=()=>["auto",ht,t],G=()=>[ht,t],H=()=>["",Sa,di],V=()=>["auto",bc,ht],se=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ee=()=>["solid","dashed","dotted","double","none"],J=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],I=()=>["start","end","center","between","around","evenly","stretch"],D=()=>["","0",ht],C=()=>["auto","avoid","all","avoid-page","page","left","right","column"],E=()=>[bc,ht];return{cacheSize:500,separator:":",theme:{colors:[Gd],spacing:[Sa,di],blur:["none","",ui,ht],brightness:E(),borderColor:[e],borderRadius:["none","","full",ui,ht],borderSpacing:G(),borderWidth:H(),contrast:E(),grayscale:D(),hueRotate:E(),invert:D(),gap:G(),gradientColorStops:[e],gradientColorStopPositions:[dF,di],inset:re(),margin:re(),opacity:E(),padding:G(),saturate:E(),scale:E(),sepia:D(),skew:E(),space:G(),translate:G()},classGroups:{aspect:[{aspect:["auto","square","video",ht]}],container:["container"],columns:[{columns:[ui]}],"break-after":[{"break-after":C()}],"break-before":[{"break-before":C()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...se(),ht]}],overflow:[{overflow:q()}],"overflow-x":[{"overflow-x":q()}],"overflow-y":[{"overflow-y":q()}],overscroll:[{overscroll:U()}],"overscroll-x":[{"overscroll-x":U()}],"overscroll-y":[{"overscroll-y":U()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Kd,ht]}],basis:[{basis:re()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ht]}],grow:[{grow:D()}],shrink:[{shrink:D()}],order:[{order:["first","last","none",Kd,ht]}],"grid-cols":[{"grid-cols":[Gd]}],"col-start-end":[{col:["auto",{span:["full",Kd,ht]},ht]}],"col-start":[{"col-start":V()}],"col-end":[{"col-end":V()}],"grid-rows":[{"grid-rows":[Gd]}],"row-start-end":[{row:["auto",{span:[Kd,ht]},ht]}],"row-start":[{"row-start":V()}],"row-end":[{"row-end":V()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ht]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ht]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...I()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...I(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...I(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[g]}],mx:[{mx:[g]}],my:[{my:[g]}],ms:[{ms:[g]}],me:[{me:[g]}],mt:[{mt:[g]}],mr:[{mr:[g]}],mb:[{mb:[g]}],ml:[{ml:[g]}],"space-x":[{"space-x":[S]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[S]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ht,t]}],"min-w":[{"min-w":[ht,t,"min","max","fit"]}],"max-w":[{"max-w":[ht,t,"none","full","min","max","fit","prose",{screen:[ui]},ui]}],h:[{h:[ht,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ht,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ht,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ht,t,"auto","min","max","fit"]}],"font-size":[{text:["base",ui,di]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Hv]}],"font-family":[{font:[Gd]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ht]}],"line-clamp":[{"line-clamp":["none",bc,Hv]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Sa,ht]}],"list-image":[{"list-image":["none",ht]}],"list-style-type":[{list:["none","disc","decimal",ht]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ee(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Sa,di]}],"underline-offset":[{"underline-offset":["auto",Sa,ht]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:G()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ht]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ht]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...se(),hF]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",fF]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},pF]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...ee(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:ee()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...ee()]}],"outline-offset":[{"outline-offset":[Sa,ht]}],"outline-w":[{outline:[Sa,di]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:H()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[Sa,di]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",ui,gF]}],"shadow-color":[{shadow:[Gd]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...J(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":J()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",ui,ht]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[h]}],saturate:[{saturate:[b]}],sepia:[{sepia:[N]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[N]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ht]}],duration:[{duration:E()}],ease:[{ease:["linear","in","out","in-out",ht]}],delay:[{delay:E()}],animate:[{animate:["none","spin","ping","pulse","bounce",ht]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[Kd,ht]}],"translate-x":[{"translate-x":[T]}],"translate-y":[{"translate-y":[T]}],"skew-x":[{"skew-x":[P]}],"skew-y":[{"skew-y":[P]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ht]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ht]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":G()}],"scroll-mx":[{"scroll-mx":G()}],"scroll-my":[{"scroll-my":G()}],"scroll-ms":[{"scroll-ms":G()}],"scroll-me":[{"scroll-me":G()}],"scroll-mt":[{"scroll-mt":G()}],"scroll-mr":[{"scroll-mr":G()}],"scroll-mb":[{"scroll-mb":G()}],"scroll-ml":[{"scroll-ml":G()}],"scroll-p":[{"scroll-p":G()}],"scroll-px":[{"scroll-px":G()}],"scroll-py":[{"scroll-py":G()}],"scroll-ps":[{"scroll-ps":G()}],"scroll-pe":[{"scroll-pe":G()}],"scroll-pt":[{"scroll-pt":G()}],"scroll-pr":[{"scroll-pr":G()}],"scroll-pb":[{"scroll-pb":G()}],"scroll-pl":[{"scroll-pl":G()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ht]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Sa,di,Hv]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},bF=rF(wF);function le(...e){return bF(b2(e))}const jF=_3,I2=f.forwardRef(({className:e,...t},r)=>s.jsx(m2,{ref:r,className:le("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));I2.displayName=m2.displayName;const _F=wl("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),F2=f.forwardRef(({className:e,variant:t,...r},n)=>s.jsx(p2,{ref:n,className:le(_F({variant:t}),e),...r}));F2.displayName=p2.displayName;const NF=f.forwardRef(({className:e,...t},r)=>s.jsx(x2,{ref:r,className:le("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));NF.displayName=x2.displayName;const L2=f.forwardRef(({className:e,...t},r)=>s.jsx(y2,{ref:r,className:le("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:s.jsx(Pr,{className:"h-4 w-4"})}));L2.displayName=y2.displayName;const $2=f.forwardRef(({className:e,...t},r)=>s.jsx(g2,{ref:r,className:le("text-sm font-semibold",e),...t}));$2.displayName=g2.displayName;const z2=f.forwardRef(({className:e,...t},r)=>s.jsx(v2,{ref:r,className:le("text-sm opacity-90",e),...t}));z2.displayName=v2.displayName;function SF(){const{toasts:e}=Gs();return s.jsxs(jF,{children:[e.map(function({id:t,title:r,description:n,action:a,...i}){return s.jsxs(F2,{...i,children:[s.jsxs("div",{className:"grid gap-1",children:[r&&s.jsx($2,{children:r}),n&&s.jsx(z2,{children:n})]}),a,s.jsx(L2,{})]},t)}),s.jsx(I2,{})]})}var $m=["light","dark"],Dw="(prefers-color-scheme: dark)",CF=typeof window>"u",Iw=f.createContext(void 0),kF={setTheme:e=>{},themes:[]},as=()=>{var e;return(e=f.useContext(Iw))!=null?e:kF},EF=e=>f.useContext(Iw)?e.children:f.createElement(TF,{...e}),PF=["light","dark"],TF=({forcedTheme:e,disableTransitionOnChange:t=!1,enableSystem:r=!0,enableColorScheme:n=!0,storageKey:a="theme",themes:i=PF,defaultTheme:o=r?"system":"light",attribute:l="data-theme",value:c,children:d,nonce:u})=>{let[h,m]=f.useState(()=>E_(a,o)),[p,w]=f.useState(()=>E_(a)),v=c?Object.values(c):i,g=f.useCallback(_=>{let N=_;if(!N)return;_==="system"&&r&&(N=P_());let P=c?c[N]:N,S=t?MF():null,T=document.documentElement;if(l==="class"?(T.classList.remove(...v),P&&T.classList.add(P)):P?T.setAttribute(l,P):T.removeAttribute(l),n){let U=$m.includes(o)?o:null,q=$m.includes(N)?N:U;T.style.colorScheme=q}S==null||S()},[]),y=f.useCallback(_=>{let N=typeof _=="function"?_(_):_;m(N);try{localStorage.setItem(a,N)}catch{}},[e]),x=f.useCallback(_=>{let N=P_(_);w(N),h==="system"&&r&&!e&&g("system")},[h,e]);f.useEffect(()=>{let _=window.matchMedia(Dw);return _.addListener(x),x(_),()=>_.removeListener(x)},[x]),f.useEffect(()=>{let _=N=>{if(N.key!==a)return;let P=N.newValue||o;y(P)};return window.addEventListener("storage",_),()=>window.removeEventListener("storage",_)},[y]),f.useEffect(()=>{g(e??h)},[e,h]);let b=f.useMemo(()=>({theme:h,setTheme:y,forcedTheme:e,resolvedTheme:h==="system"?p:h,themes:r?[...i,"system"]:i,systemTheme:r?p:void 0}),[h,y,e,p,r,i]);return f.createElement(Iw.Provider,{value:b},f.createElement(RF,{forcedTheme:e,disableTransitionOnChange:t,enableSystem:r,enableColorScheme:n,storageKey:a,themes:i,defaultTheme:o,attribute:l,value:c,children:d,attrs:v,nonce:u}),d)},RF=f.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:a,defaultTheme:i,value:o,attrs:l,nonce:c})=>{let d=i==="system",u=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(w=>`'${w}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,h=a?$m.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",m=(w,v=!1,g=!0)=>{let y=o?o[w]:w,x=v?w+"|| ''":`'${y}'`,b="";return a&&g&&!v&&$m.includes(w)&&(b+=`d.style.colorScheme = '${w}';`),r==="class"?v||y?b+=`c.add(${x})`:b+="null":y&&(b+=`d[s](n,${x})`),b},p=e?`!function(){${u}${m(e)}}()`:n?`!function(){try{${u}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${d})){var t='${Dw}',m=window.matchMedia(t);if(m.media!==t||m.matches){${m("dark")}}else{${m("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${m(o?"x[e]":"e",!0)}}${d?"":"else{"+m(i,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${u}var e=localStorage.getItem('${t}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${m(o?"x[e]":"e",!0)}}else{${m(i,!1,!1)};}${h}}catch(t){}}();`;return f.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:p}})}),E_=(e,t)=>{if(CF)return;let r;try{r=localStorage.getItem(e)||void 0}catch{}return r||t},MF=()=>{let e=document.createElement("style");return e.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(e),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(e)},1)}},P_=e=>(e||(e=window.matchMedia(Dw)),e.matches?"dark":"light"),AF=e=>{switch(e){case"success":return IF;case"info":return LF;case"warning":return FF;case"error":return $F;default:return null}},OF=Array(12).fill(0),DF=({visible:e,className:t})=>he.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},he.createElement("div",{className:"sonner-spinner"},OF.map((r,n)=>he.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),IF=he.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},he.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),FF=he.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},he.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),LF=he.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},he.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),$F=he.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},he.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),zF=he.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},he.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),he.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),UF=()=>{let[e,t]=he.useState(document.hidden);return he.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},Ey=1,BF=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,a=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:Ey++,i=this.toasts.find(l=>l.id===a),o=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),i?this.toasts=this.toasts.map(l=>l.id===a?(this.publish({...l,...e,id:a,title:r}),{...l,...e,id:a,dismissible:o,title:r}):l):this.addToast({title:r,...n,dismissible:o,id:a}),a},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),a=r!==void 0,i,o=n.then(async c=>{if(i=["resolve",c],he.isValidElement(c))a=!1,this.create({id:r,type:"default",message:c});else if(VF(c)&&!c.ok){a=!1;let d=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,u=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:r,type:"error",message:d,description:u})}else if(t.success!==void 0){a=!1;let d=typeof t.success=="function"?await t.success(c):t.success,u=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"success",message:d,description:u})}}).catch(async c=>{if(i=["reject",c],t.error!==void 0){a=!1;let d=typeof t.error=="function"?await t.error(c):t.error,u=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"error",message:d,description:u})}}).finally(()=>{var c;a&&(this.dismiss(r),r=void 0),(c=t.finally)==null||c.call(t)}),l=()=>new Promise((c,d)=>o.then(()=>i[0]==="reject"?d(i[1]):c(i[1])).catch(d));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||Ey++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},An=new BF,qF=(e,t)=>{let r=(t==null?void 0:t.id)||Ey++;return An.addToast({title:e,...t,id:r}),r},VF=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",WF=qF,HF=()=>An.toasts,KF=()=>An.getActiveToasts();Object.assign(WF,{success:An.success,info:An.info,warning:An.warning,error:An.error,custom:An.custom,message:An.message,promise:An.promise,dismiss:An.dismiss,loading:An.loading},{getHistory:HF,getToasts:KF});function GF(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}GF(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function kh(e){return e.label!==void 0}var YF=3,QF="32px",XF="16px",T_=4e3,ZF=356,JF=14,eL=20,tL=200;function Ps(...e){return e.filter(Boolean).join(" ")}function rL(e){let[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}var nL=e=>{var t,r,n,a,i,o,l,c,d,u,h;let{invert:m,toast:p,unstyled:w,interacting:v,setHeights:g,visibleToasts:y,heights:x,index:b,toasts:_,expanded:N,removeToast:P,defaultRichColors:S,closeButton:T,style:U,cancelButtonStyle:q,actionButtonStyle:re,className:G="",descriptionClassName:H="",duration:V,position:se,gap:ee,loadingIcon:J,expandByDefault:I,classNames:D,icons:C,closeButtonAriaLabel:E="Close toast",pauseWhenPageIsHidden:A}=e,[Y,k]=he.useState(null),[z,ne]=he.useState(null),[Q,R]=he.useState(!1),[L,Z]=he.useState(!1),[de,_e]=he.useState(!1),[me,xe]=he.useState(!1),[Ge,Nt]=he.useState(!1),[Ot,Ct]=he.useState(0),[It,B]=he.useState(0),te=he.useRef(p.duration||V||T_),ce=he.useRef(null),be=he.useRef(null),we=b===0,pe=b+1<=y,Se=p.type,Ue=p.dismissible!==!1,fe=p.className||"",We=p.descriptionClassName||"",yt=he.useMemo(()=>x.findIndex(ke=>ke.toastId===p.id)||0,[x,p.id]),et=he.useMemo(()=>{var ke;return(ke=p.closeButton)!=null?ke:T},[p.closeButton,T]),kt=he.useMemo(()=>p.duration||V||T_,[p.duration,V]),zt=he.useRef(0),ir=he.useRef(0),F=he.useRef(0),ae=he.useRef(null),[ye,Pe]=se.split("-"),st=he.useMemo(()=>x.reduce((ke,qe,Ye)=>Ye>=yt?ke:ke+qe.height,0),[x,yt]),at=UF(),ze=p.invert||m,wr=Se==="loading";ir.current=he.useMemo(()=>yt*ee+st,[yt,st]),he.useEffect(()=>{te.current=kt},[kt]),he.useEffect(()=>{R(!0)},[]),he.useEffect(()=>{let ke=be.current;if(ke){let qe=ke.getBoundingClientRect().height;return B(qe),g(Ye=>[{toastId:p.id,height:qe,position:p.position},...Ye]),()=>g(Ye=>Ye.filter(ft=>ft.toastId!==p.id))}},[g,p.id]),he.useLayoutEffect(()=>{if(!Q)return;let ke=be.current,qe=ke.style.height;ke.style.height="auto";let Ye=ke.getBoundingClientRect().height;ke.style.height=qe,B(Ye),g(ft=>ft.find(dt=>dt.toastId===p.id)?ft.map(dt=>dt.toastId===p.id?{...dt,height:Ye}:dt):[{toastId:p.id,height:Ye,position:p.position},...ft])},[Q,p.title,p.description,g,p.id]);let kr=he.useCallback(()=>{Z(!0),Ct(ir.current),g(ke=>ke.filter(qe=>qe.toastId!==p.id)),setTimeout(()=>{P(p)},tL)},[p,P,g,ir]);he.useEffect(()=>{if(p.promise&&Se==="loading"||p.duration===1/0||p.type==="loading")return;let ke;return N||v||A&&at?(()=>{if(F.current<zt.current){let qe=new Date().getTime()-zt.current;te.current=te.current-qe}F.current=new Date().getTime()})():te.current!==1/0&&(zt.current=new Date().getTime(),ke=setTimeout(()=>{var qe;(qe=p.onAutoClose)==null||qe.call(p,p),kr()},te.current)),()=>clearTimeout(ke)},[N,v,p,Se,A,at,kr]),he.useEffect(()=>{p.delete&&kr()},[kr,p.delete]);function Re(){var ke,qe,Ye;return C!=null&&C.loading?he.createElement("div",{className:Ps(D==null?void 0:D.loader,(ke=p==null?void 0:p.classNames)==null?void 0:ke.loader,"sonner-loader"),"data-visible":Se==="loading"},C.loading):J?he.createElement("div",{className:Ps(D==null?void 0:D.loader,(qe=p==null?void 0:p.classNames)==null?void 0:qe.loader,"sonner-loader"),"data-visible":Se==="loading"},J):he.createElement(DF,{className:Ps(D==null?void 0:D.loader,(Ye=p==null?void 0:p.classNames)==null?void 0:Ye.loader),visible:Se==="loading"})}return he.createElement("li",{tabIndex:0,ref:be,className:Ps(G,fe,D==null?void 0:D.toast,(t=p==null?void 0:p.classNames)==null?void 0:t.toast,D==null?void 0:D.default,D==null?void 0:D[Se],(r=p==null?void 0:p.classNames)==null?void 0:r[Se]),"data-sonner-toast":"","data-rich-colors":(n=p.richColors)!=null?n:S,"data-styled":!(p.jsx||p.unstyled||w),"data-mounted":Q,"data-promise":!!p.promise,"data-swiped":Ge,"data-removed":L,"data-visible":pe,"data-y-position":ye,"data-x-position":Pe,"data-index":b,"data-front":we,"data-swiping":de,"data-dismissible":Ue,"data-type":Se,"data-invert":ze,"data-swipe-out":me,"data-swipe-direction":z,"data-expanded":!!(N||I&&Q),style:{"--index":b,"--toasts-before":b,"--z-index":_.length-b,"--offset":`${L?Ot:ir.current}px`,"--initial-height":I?"auto":`${It}px`,...U,...p.style},onDragEnd:()=>{_e(!1),k(null),ae.current=null},onPointerDown:ke=>{wr||!Ue||(ce.current=new Date,Ct(ir.current),ke.target.setPointerCapture(ke.pointerId),ke.target.tagName!=="BUTTON"&&(_e(!0),ae.current={x:ke.clientX,y:ke.clientY}))},onPointerUp:()=>{var ke,qe,Ye,ft;if(me||!Ue)return;ae.current=null;let dt=Number(((ke=be.current)==null?void 0:ke.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),wt=Number(((qe=be.current)==null?void 0:qe.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),ie=new Date().getTime()-((Ye=ce.current)==null?void 0:Ye.getTime()),He=Y==="x"?dt:wt,Fe=Math.abs(He)/ie;if(Math.abs(He)>=eL||Fe>.11){Ct(ir.current),(ft=p.onDismiss)==null||ft.call(p,p),ne(Y==="x"?dt>0?"right":"left":wt>0?"down":"up"),kr(),xe(!0),Nt(!1);return}_e(!1),k(null)},onPointerMove:ke=>{var qe,Ye,ft,dt;if(!ae.current||!Ue||((qe=window.getSelection())==null?void 0:qe.toString().length)>0)return;let wt=ke.clientY-ae.current.y,ie=ke.clientX-ae.current.x,He=(Ye=e.swipeDirections)!=null?Ye:rL(se);!Y&&(Math.abs(ie)>1||Math.abs(wt)>1)&&k(Math.abs(ie)>Math.abs(wt)?"x":"y");let Fe={x:0,y:0};Y==="y"?(He.includes("top")||He.includes("bottom"))&&(He.includes("top")&&wt<0||He.includes("bottom")&&wt>0)&&(Fe.y=wt):Y==="x"&&(He.includes("left")||He.includes("right"))&&(He.includes("left")&&ie<0||He.includes("right")&&ie>0)&&(Fe.x=ie),(Math.abs(Fe.x)>0||Math.abs(Fe.y)>0)&&Nt(!0),(ft=be.current)==null||ft.style.setProperty("--swipe-amount-x",`${Fe.x}px`),(dt=be.current)==null||dt.style.setProperty("--swipe-amount-y",`${Fe.y}px`)}},et&&!p.jsx?he.createElement("button",{"aria-label":E,"data-disabled":wr,"data-close-button":!0,onClick:wr||!Ue?()=>{}:()=>{var ke;kr(),(ke=p.onDismiss)==null||ke.call(p,p)},className:Ps(D==null?void 0:D.closeButton,(a=p==null?void 0:p.classNames)==null?void 0:a.closeButton)},(i=C==null?void 0:C.close)!=null?i:zF):null,p.jsx||f.isValidElement(p.title)?p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title:he.createElement(he.Fragment,null,Se||p.icon||p.promise?he.createElement("div",{"data-icon":"",className:Ps(D==null?void 0:D.icon,(o=p==null?void 0:p.classNames)==null?void 0:o.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||Re():null,p.type!=="loading"?p.icon||(C==null?void 0:C[Se])||AF(Se):null):null,he.createElement("div",{"data-content":"",className:Ps(D==null?void 0:D.content,(l=p==null?void 0:p.classNames)==null?void 0:l.content)},he.createElement("div",{"data-title":"",className:Ps(D==null?void 0:D.title,(c=p==null?void 0:p.classNames)==null?void 0:c.title)},typeof p.title=="function"?p.title():p.title),p.description?he.createElement("div",{"data-description":"",className:Ps(H,We,D==null?void 0:D.description,(d=p==null?void 0:p.classNames)==null?void 0:d.description)},typeof p.description=="function"?p.description():p.description):null),f.isValidElement(p.cancel)?p.cancel:p.cancel&&kh(p.cancel)?he.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||q,onClick:ke=>{var qe,Ye;kh(p.cancel)&&Ue&&((Ye=(qe=p.cancel).onClick)==null||Ye.call(qe,ke),kr())},className:Ps(D==null?void 0:D.cancelButton,(u=p==null?void 0:p.classNames)==null?void 0:u.cancelButton)},p.cancel.label):null,f.isValidElement(p.action)?p.action:p.action&&kh(p.action)?he.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||re,onClick:ke=>{var qe,Ye;kh(p.action)&&((Ye=(qe=p.action).onClick)==null||Ye.call(qe,ke),!ke.defaultPrevented&&kr())},className:Ps(D==null?void 0:D.actionButton,(h=p==null?void 0:p.classNames)==null?void 0:h.actionButton)},p.action.label):null))};function R_(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function sL(e,t){let r={};return[e,t].forEach((n,a)=>{let i=a===1,o=i?"--mobile-offset":"--offset",l=i?XF:QF;function c(d){["top","right","bottom","left"].forEach(u=>{r[`${o}-${u}`]=typeof d=="number"?`${d}px`:d})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(d=>{n[d]===void 0?r[`${o}-${d}`]=l:r[`${o}-${d}`]=typeof n[d]=="number"?`${n[d]}px`:n[d]}):c(l)}),r}var aL=f.forwardRef(function(e,t){let{invert:r,position:n="bottom-right",hotkey:a=["altKey","KeyT"],expand:i,closeButton:o,className:l,offset:c,mobileOffset:d,theme:u="light",richColors:h,duration:m,style:p,visibleToasts:w=YF,toastOptions:v,dir:g=R_(),gap:y=JF,loadingIcon:x,icons:b,containerAriaLabel:_="Notifications",pauseWhenPageIsHidden:N}=e,[P,S]=he.useState([]),T=he.useMemo(()=>Array.from(new Set([n].concat(P.filter(A=>A.position).map(A=>A.position)))),[P,n]),[U,q]=he.useState([]),[re,G]=he.useState(!1),[H,V]=he.useState(!1),[se,ee]=he.useState(u!=="system"?u:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),J=he.useRef(null),I=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),D=he.useRef(null),C=he.useRef(!1),E=he.useCallback(A=>{S(Y=>{var k;return(k=Y.find(z=>z.id===A.id))!=null&&k.delete||An.dismiss(A.id),Y.filter(({id:z})=>z!==A.id)})},[]);return he.useEffect(()=>An.subscribe(A=>{if(A.dismiss){S(Y=>Y.map(k=>k.id===A.id?{...k,delete:!0}:k));return}setTimeout(()=>{Kk.flushSync(()=>{S(Y=>{let k=Y.findIndex(z=>z.id===A.id);return k!==-1?[...Y.slice(0,k),{...Y[k],...A},...Y.slice(k+1)]:[A,...Y]})})})}),[]),he.useEffect(()=>{if(u!=="system"){ee(u);return}if(u==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?ee("dark"):ee("light")),typeof window>"u")return;let A=window.matchMedia("(prefers-color-scheme: dark)");try{A.addEventListener("change",({matches:Y})=>{ee(Y?"dark":"light")})}catch{A.addListener(({matches:k})=>{try{ee(k?"dark":"light")}catch(z){console.error(z)}})}},[u]),he.useEffect(()=>{P.length<=1&&G(!1)},[P]),he.useEffect(()=>{let A=Y=>{var k,z;a.every(ne=>Y[ne]||Y.code===ne)&&(G(!0),(k=J.current)==null||k.focus()),Y.code==="Escape"&&(document.activeElement===J.current||(z=J.current)!=null&&z.contains(document.activeElement))&&G(!1)};return document.addEventListener("keydown",A),()=>document.removeEventListener("keydown",A)},[a]),he.useEffect(()=>{if(J.current)return()=>{D.current&&(D.current.focus({preventScroll:!0}),D.current=null,C.current=!1)}},[J.current]),he.createElement("section",{ref:t,"aria-label":`${_} ${I}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},T.map((A,Y)=>{var k;let[z,ne]=A.split("-");return P.length?he.createElement("ol",{key:A,dir:g==="auto"?R_():g,tabIndex:-1,ref:J,className:l,"data-sonner-toaster":!0,"data-theme":se,"data-y-position":z,"data-lifted":re&&P.length>1&&!i,"data-x-position":ne,style:{"--front-toast-height":`${((k=U[0])==null?void 0:k.height)||0}px`,"--width":`${ZF}px`,"--gap":`${y}px`,...p,...sL(c,d)},onBlur:Q=>{C.current&&!Q.currentTarget.contains(Q.relatedTarget)&&(C.current=!1,D.current&&(D.current.focus({preventScroll:!0}),D.current=null))},onFocus:Q=>{Q.target instanceof HTMLElement&&Q.target.dataset.dismissible==="false"||C.current||(C.current=!0,D.current=Q.relatedTarget)},onMouseEnter:()=>G(!0),onMouseMove:()=>G(!0),onMouseLeave:()=>{H||G(!1)},onDragEnd:()=>G(!1),onPointerDown:Q=>{Q.target instanceof HTMLElement&&Q.target.dataset.dismissible==="false"||V(!0)},onPointerUp:()=>V(!1)},P.filter(Q=>!Q.position&&Y===0||Q.position===A).map((Q,R)=>{var L,Z;return he.createElement(nL,{key:Q.id,icons:b,index:R,toast:Q,defaultRichColors:h,duration:(L=v==null?void 0:v.duration)!=null?L:m,className:v==null?void 0:v.className,descriptionClassName:v==null?void 0:v.descriptionClassName,invert:r,visibleToasts:w,closeButton:(Z=v==null?void 0:v.closeButton)!=null?Z:o,interacting:H,position:A,style:v==null?void 0:v.style,unstyled:v==null?void 0:v.unstyled,classNames:v==null?void 0:v.classNames,cancelButtonStyle:v==null?void 0:v.cancelButtonStyle,actionButtonStyle:v==null?void 0:v.actionButtonStyle,removeToast:E,toasts:P.filter(de=>de.position==Q.position),heights:U.filter(de=>de.position==Q.position),setHeights:q,expandByDefault:i,gap:y,loadingIcon:x,expanded:re,pauseWhenPageIsHidden:N,swipeDirections:e.swipeDirections})})):null}))});const iL=({...e})=>{const{theme:t="system"}=as();return s.jsx(aL,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var oL=I0[" useId ".trim().toString()]||(()=>{}),lL=0;function Xr(e){const[t,r]=f.useState(oL());return Cr(()=>{e||r(n=>n??String(lL++))},[e]),e||(t?`radix-${t}`:"")}const cL=["top","right","bottom","left"],so=Math.min,Yn=Math.max,zm=Math.round,Eh=Math.floor,ha=e=>({x:e,y:e}),dL={left:"right",right:"left",bottom:"top",top:"bottom"},uL={start:"end",end:"start"};function Py(e,t,r){return Yn(e,so(t,r))}function ti(e,t){return typeof e=="function"?e(t):e}function ri(e){return e.split("-")[0]}function ud(e){return e.split("-")[1]}function Fw(e){return e==="x"?"y":"x"}function Lw(e){return e==="y"?"height":"width"}const fL=new Set(["top","bottom"]);function la(e){return fL.has(ri(e))?"y":"x"}function $w(e){return Fw(la(e))}function hL(e,t,r){r===void 0&&(r=!1);const n=ud(e),a=$w(e),i=Lw(a);let o=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=Um(o)),[o,Um(o)]}function mL(e){const t=Um(e);return[Ty(e),t,Ty(t)]}function Ty(e){return e.replace(/start|end/g,t=>uL[t])}const M_=["left","right"],A_=["right","left"],pL=["top","bottom"],gL=["bottom","top"];function vL(e,t,r){switch(e){case"top":case"bottom":return r?t?A_:M_:t?M_:A_;case"left":case"right":return t?pL:gL;default:return[]}}function xL(e,t,r,n){const a=ud(e);let i=vL(ri(e),r==="start",n);return a&&(i=i.map(o=>o+"-"+a),t&&(i=i.concat(i.map(Ty)))),i}function Um(e){return e.replace(/left|right|bottom|top/g,t=>dL[t])}function yL(e){return{top:0,right:0,bottom:0,left:0,...e}}function U2(e){return typeof e!="number"?yL(e):{top:e,right:e,bottom:e,left:e}}function Bm(e){const{x:t,y:r,width:n,height:a}=e;return{width:n,height:a,top:r,left:t,right:t+n,bottom:r+a,x:t,y:r}}function O_(e,t,r){let{reference:n,floating:a}=e;const i=la(t),o=$w(t),l=Lw(o),c=ri(t),d=i==="y",u=n.x+n.width/2-a.width/2,h=n.y+n.height/2-a.height/2,m=n[l]/2-a[l]/2;let p;switch(c){case"top":p={x:u,y:n.y-a.height};break;case"bottom":p={x:u,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:h};break;case"left":p={x:n.x-a.width,y:h};break;default:p={x:n.x,y:n.y}}switch(ud(t)){case"start":p[o]-=m*(r&&d?-1:1);break;case"end":p[o]+=m*(r&&d?-1:1);break}return p}const wL=async(e,t,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:i=[],platform:o}=r,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let d=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:u,y:h}=O_(d,n,c),m=n,p={},w=0;for(let v=0;v<l.length;v++){const{name:g,fn:y}=l[v],{x,y:b,data:_,reset:N}=await y({x:u,y:h,initialPlacement:n,placement:m,strategy:a,middlewareData:p,rects:d,platform:o,elements:{reference:e,floating:t}});u=x??u,h=b??h,p={...p,[g]:{...p[g],..._}},N&&w<=50&&(w++,typeof N=="object"&&(N.placement&&(m=N.placement),N.rects&&(d=N.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:a}):N.rects),{x:u,y:h}=O_(d,m,c)),v=-1)}return{x:u,y:h,placement:m,strategy:a,middlewareData:p}};async function Yu(e,t){var r;t===void 0&&(t={});const{x:n,y:a,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:d="clippingAncestors",rootBoundary:u="viewport",elementContext:h="floating",altBoundary:m=!1,padding:p=0}=ti(t,e),w=U2(p),g=l[m?h==="floating"?"reference":"floating":h],y=Bm(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(g)))==null||r?g:g.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:d,rootBoundary:u,strategy:c})),x=h==="floating"?{x:n,y:a,width:o.floating.width,height:o.floating.height}:o.reference,b=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),_=await(i.isElement==null?void 0:i.isElement(b))?await(i.getScale==null?void 0:i.getScale(b))||{x:1,y:1}:{x:1,y:1},N=Bm(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:x,offsetParent:b,strategy:c}):x);return{top:(y.top-N.top+w.top)/_.y,bottom:(N.bottom-y.bottom+w.bottom)/_.y,left:(y.left-N.left+w.left)/_.x,right:(N.right-y.right+w.right)/_.x}}const bL=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:a,rects:i,platform:o,elements:l,middlewareData:c}=t,{element:d,padding:u=0}=ti(e,t)||{};if(d==null)return{};const h=U2(u),m={x:r,y:n},p=$w(a),w=Lw(p),v=await o.getDimensions(d),g=p==="y",y=g?"top":"left",x=g?"bottom":"right",b=g?"clientHeight":"clientWidth",_=i.reference[w]+i.reference[p]-m[p]-i.floating[w],N=m[p]-i.reference[p],P=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let S=P?P[b]:0;(!S||!await(o.isElement==null?void 0:o.isElement(P)))&&(S=l.floating[b]||i.floating[w]);const T=_/2-N/2,U=S/2-v[w]/2-1,q=so(h[y],U),re=so(h[x],U),G=q,H=S-v[w]-re,V=S/2-v[w]/2+T,se=Py(G,V,H),ee=!c.arrow&&ud(a)!=null&&V!==se&&i.reference[w]/2-(V<G?q:re)-v[w]/2<0,J=ee?V<G?V-G:V-H:0;return{[p]:m[p]+J,data:{[p]:se,centerOffset:V-se-J,...ee&&{alignmentOffset:J}},reset:ee}}}),jL=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:a,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:d}=t,{mainAxis:u=!0,crossAxis:h=!0,fallbackPlacements:m,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:v=!0,...g}=ti(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const y=ri(a),x=la(l),b=ri(l)===l,_=await(c.isRTL==null?void 0:c.isRTL(d.floating)),N=m||(b||!v?[Um(l)]:mL(l)),P=w!=="none";!m&&P&&N.push(...xL(l,v,w,_));const S=[l,...N],T=await Yu(t,g),U=[];let q=((n=i.flip)==null?void 0:n.overflows)||[];if(u&&U.push(T[y]),h){const V=hL(a,o,_);U.push(T[V[0]],T[V[1]])}if(q=[...q,{placement:a,overflows:U}],!U.every(V=>V<=0)){var re,G;const V=(((re=i.flip)==null?void 0:re.index)||0)+1,se=S[V];if(se&&(!(h==="alignment"?x!==la(se):!1)||q.every(I=>I.overflows[0]>0&&la(I.placement)===x)))return{data:{index:V,overflows:q},reset:{placement:se}};let ee=(G=q.filter(J=>J.overflows[0]<=0).sort((J,I)=>J.overflows[1]-I.overflows[1])[0])==null?void 0:G.placement;if(!ee)switch(p){case"bestFit":{var H;const J=(H=q.filter(I=>{if(P){const D=la(I.placement);return D===x||D==="y"}return!0}).map(I=>[I.placement,I.overflows.filter(D=>D>0).reduce((D,C)=>D+C,0)]).sort((I,D)=>I[1]-D[1])[0])==null?void 0:H[0];J&&(ee=J);break}case"initialPlacement":ee=l;break}if(a!==ee)return{reset:{placement:ee}}}return{}}}};function D_(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function I_(e){return cL.some(t=>e[t]>=0)}const _L=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...a}=ti(e,t);switch(n){case"referenceHidden":{const i=await Yu(t,{...a,elementContext:"reference"}),o=D_(i,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:I_(o)}}}case"escaped":{const i=await Yu(t,{...a,altBoundary:!0}),o=D_(i,r.floating);return{data:{escapedOffsets:o,escaped:I_(o)}}}default:return{}}}}},B2=new Set(["left","top"]);async function NL(e,t){const{placement:r,platform:n,elements:a}=e,i=await(n.isRTL==null?void 0:n.isRTL(a.floating)),o=ri(r),l=ud(r),c=la(r)==="y",d=B2.has(o)?-1:1,u=i&&c?-1:1,h=ti(t,e);let{mainAxis:m,crossAxis:p,alignmentAxis:w}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof w=="number"&&(p=l==="end"?w*-1:w),c?{x:p*u,y:m*d}:{x:m*d,y:p*u}}const SL=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:a,y:i,placement:o,middlewareData:l}=t,c=await NL(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:a+c.x,y:i+c.y,data:{...c,placement:o}}}}},CL=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:a}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:g=>{let{x:y,y:x}=g;return{x:y,y:x}}},...c}=ti(e,t),d={x:r,y:n},u=await Yu(t,c),h=la(ri(a)),m=Fw(h);let p=d[m],w=d[h];if(i){const g=m==="y"?"top":"left",y=m==="y"?"bottom":"right",x=p+u[g],b=p-u[y];p=Py(x,p,b)}if(o){const g=h==="y"?"top":"left",y=h==="y"?"bottom":"right",x=w+u[g],b=w-u[y];w=Py(x,w,b)}const v=l.fn({...t,[m]:p,[h]:w});return{...v,data:{x:v.x-r,y:v.y-n,enabled:{[m]:i,[h]:o}}}}}},kL=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:a,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=ti(e,t),u={x:r,y:n},h=la(a),m=Fw(h);let p=u[m],w=u[h];const v=ti(l,t),g=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(c){const b=m==="y"?"height":"width",_=i.reference[m]-i.floating[b]+g.mainAxis,N=i.reference[m]+i.reference[b]-g.mainAxis;p<_?p=_:p>N&&(p=N)}if(d){var y,x;const b=m==="y"?"width":"height",_=B2.has(ri(a)),N=i.reference[h]-i.floating[b]+(_&&((y=o.offset)==null?void 0:y[h])||0)+(_?0:g.crossAxis),P=i.reference[h]+i.reference[b]+(_?0:((x=o.offset)==null?void 0:x[h])||0)-(_?g.crossAxis:0);w<N?w=N:w>P&&(w=P)}return{[m]:p,[h]:w}}}},EL=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:a,rects:i,platform:o,elements:l}=t,{apply:c=()=>{},...d}=ti(e,t),u=await Yu(t,d),h=ri(a),m=ud(a),p=la(a)==="y",{width:w,height:v}=i.floating;let g,y;h==="top"||h==="bottom"?(g=h,y=m===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(y=h,g=m==="end"?"top":"bottom");const x=v-u.top-u.bottom,b=w-u.left-u.right,_=so(v-u[g],x),N=so(w-u[y],b),P=!t.middlewareData.shift;let S=_,T=N;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(T=b),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(S=x),P&&!m){const q=Yn(u.left,0),re=Yn(u.right,0),G=Yn(u.top,0),H=Yn(u.bottom,0);p?T=w-2*(q!==0||re!==0?q+re:Yn(u.left,u.right)):S=v-2*(G!==0||H!==0?G+H:Yn(u.top,u.bottom))}await c({...t,availableWidth:T,availableHeight:S});const U=await o.getDimensions(l.floating);return w!==U.width||v!==U.height?{reset:{rects:!0}}:{}}}};function Yp(){return typeof window<"u"}function fd(e){return q2(e)?(e.nodeName||"").toLowerCase():"#document"}function Jn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function wa(e){var t;return(t=(q2(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function q2(e){return Yp()?e instanceof Node||e instanceof Jn(e).Node:!1}function Vs(e){return Yp()?e instanceof Element||e instanceof Jn(e).Element:!1}function xa(e){return Yp()?e instanceof HTMLElement||e instanceof Jn(e).HTMLElement:!1}function F_(e){return!Yp()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Jn(e).ShadowRoot}const PL=new Set(["inline","contents"]);function Sf(e){const{overflow:t,overflowX:r,overflowY:n,display:a}=Ws(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!PL.has(a)}const TL=new Set(["table","td","th"]);function RL(e){return TL.has(fd(e))}const ML=[":popover-open",":modal"];function Qp(e){return ML.some(t=>{try{return e.matches(t)}catch{return!1}})}const AL=["transform","translate","scale","rotate","perspective"],OL=["transform","translate","scale","rotate","perspective","filter"],DL=["paint","layout","strict","content"];function zw(e){const t=Uw(),r=Vs(e)?Ws(e):e;return AL.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||OL.some(n=>(r.willChange||"").includes(n))||DL.some(n=>(r.contain||"").includes(n))}function IL(e){let t=ao(e);for(;xa(t)&&!Hc(t);){if(zw(t))return t;if(Qp(t))return null;t=ao(t)}return null}function Uw(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const FL=new Set(["html","body","#document"]);function Hc(e){return FL.has(fd(e))}function Ws(e){return Jn(e).getComputedStyle(e)}function Xp(e){return Vs(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ao(e){if(fd(e)==="html")return e;const t=e.assignedSlot||e.parentNode||F_(e)&&e.host||wa(e);return F_(t)?t.host:t}function V2(e){const t=ao(e);return Hc(t)?e.ownerDocument?e.ownerDocument.body:e.body:xa(t)&&Sf(t)?t:V2(t)}function Qu(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=V2(e),i=a===((n=e.ownerDocument)==null?void 0:n.body),o=Jn(a);if(i){const l=Ry(o);return t.concat(o,o.visualViewport||[],Sf(a)?a:[],l&&r?Qu(l):[])}return t.concat(a,Qu(a,[],r))}function Ry(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function W2(e){const t=Ws(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=xa(e),i=a?e.offsetWidth:r,o=a?e.offsetHeight:n,l=zm(r)!==i||zm(n)!==o;return l&&(r=i,n=o),{width:r,height:n,$:l}}function Bw(e){return Vs(e)?e:e.contextElement}function jc(e){const t=Bw(e);if(!xa(t))return ha(1);const r=t.getBoundingClientRect(),{width:n,height:a,$:i}=W2(t);let o=(i?zm(r.width):r.width)/n,l=(i?zm(r.height):r.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const LL=ha(0);function H2(e){const t=Jn(e);return!Uw()||!t.visualViewport?LL:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function $L(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Jn(e)?!1:t}function el(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),i=Bw(e);let o=ha(1);t&&(n?Vs(n)&&(o=jc(n)):o=jc(e));const l=$L(i,r,n)?H2(i):ha(0);let c=(a.left+l.x)/o.x,d=(a.top+l.y)/o.y,u=a.width/o.x,h=a.height/o.y;if(i){const m=Jn(i),p=n&&Vs(n)?Jn(n):n;let w=m,v=Ry(w);for(;v&&n&&p!==w;){const g=jc(v),y=v.getBoundingClientRect(),x=Ws(v),b=y.left+(v.clientLeft+parseFloat(x.paddingLeft))*g.x,_=y.top+(v.clientTop+parseFloat(x.paddingTop))*g.y;c*=g.x,d*=g.y,u*=g.x,h*=g.y,c+=b,d+=_,w=Jn(v),v=Ry(w)}}return Bm({width:u,height:h,x:c,y:d})}function qw(e,t){const r=Xp(e).scrollLeft;return t?t.left+r:el(wa(e)).left+r}function K2(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),a=n.left+t.scrollLeft-(r?0:qw(e,n)),i=n.top+t.scrollTop;return{x:a,y:i}}function zL(e){let{elements:t,rect:r,offsetParent:n,strategy:a}=e;const i=a==="fixed",o=wa(n),l=t?Qp(t.floating):!1;if(n===o||l&&i)return r;let c={scrollLeft:0,scrollTop:0},d=ha(1);const u=ha(0),h=xa(n);if((h||!h&&!i)&&((fd(n)!=="body"||Sf(o))&&(c=Xp(n)),xa(n))){const p=el(n);d=jc(n),u.x=p.x+n.clientLeft,u.y=p.y+n.clientTop}const m=o&&!h&&!i?K2(o,c,!0):ha(0);return{width:r.width*d.x,height:r.height*d.y,x:r.x*d.x-c.scrollLeft*d.x+u.x+m.x,y:r.y*d.y-c.scrollTop*d.y+u.y+m.y}}function UL(e){return Array.from(e.getClientRects())}function BL(e){const t=wa(e),r=Xp(e),n=e.ownerDocument.body,a=Yn(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=Yn(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+qw(e);const l=-r.scrollTop;return Ws(n).direction==="rtl"&&(o+=Yn(t.clientWidth,n.clientWidth)-a),{width:a,height:i,x:o,y:l}}function qL(e,t){const r=Jn(e),n=wa(e),a=r.visualViewport;let i=n.clientWidth,o=n.clientHeight,l=0,c=0;if(a){i=a.width,o=a.height;const d=Uw();(!d||d&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}return{width:i,height:o,x:l,y:c}}const VL=new Set(["absolute","fixed"]);function WL(e,t){const r=el(e,!0,t==="fixed"),n=r.top+e.clientTop,a=r.left+e.clientLeft,i=xa(e)?jc(e):ha(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=a*i.x,d=n*i.y;return{width:o,height:l,x:c,y:d}}function L_(e,t,r){let n;if(t==="viewport")n=qL(e,r);else if(t==="document")n=BL(wa(e));else if(Vs(t))n=WL(t,r);else{const a=H2(e);n={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return Bm(n)}function G2(e,t){const r=ao(e);return r===t||!Vs(r)||Hc(r)?!1:Ws(r).position==="fixed"||G2(r,t)}function HL(e,t){const r=t.get(e);if(r)return r;let n=Qu(e,[],!1).filter(l=>Vs(l)&&fd(l)!=="body"),a=null;const i=Ws(e).position==="fixed";let o=i?ao(e):e;for(;Vs(o)&&!Hc(o);){const l=Ws(o),c=zw(o);!c&&l.position==="fixed"&&(a=null),(i?!c&&!a:!c&&l.position==="static"&&!!a&&VL.has(a.position)||Sf(o)&&!c&&G2(e,o))?n=n.filter(u=>u!==o):a=l,o=ao(o)}return t.set(e,n),n}function KL(e){let{element:t,boundary:r,rootBoundary:n,strategy:a}=e;const o=[...r==="clippingAncestors"?Qp(t)?[]:HL(t,this._c):[].concat(r),n],l=o[0],c=o.reduce((d,u)=>{const h=L_(t,u,a);return d.top=Yn(h.top,d.top),d.right=so(h.right,d.right),d.bottom=so(h.bottom,d.bottom),d.left=Yn(h.left,d.left),d},L_(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function GL(e){const{width:t,height:r}=W2(e);return{width:t,height:r}}function YL(e,t,r){const n=xa(t),a=wa(t),i=r==="fixed",o=el(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=ha(0);function d(){c.x=qw(a)}if(n||!n&&!i)if((fd(t)!=="body"||Sf(a))&&(l=Xp(t)),n){const p=el(t,!0,i,t);c.x=p.x+t.clientLeft,c.y=p.y+t.clientTop}else a&&d();i&&!n&&a&&d();const u=a&&!n&&!i?K2(a,l):ha(0),h=o.left+l.scrollLeft-c.x-u.x,m=o.top+l.scrollTop-c.y-u.y;return{x:h,y:m,width:o.width,height:o.height}}function Kv(e){return Ws(e).position==="static"}function $_(e,t){if(!xa(e)||Ws(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return wa(e)===r&&(r=r.ownerDocument.body),r}function Y2(e,t){const r=Jn(e);if(Qp(e))return r;if(!xa(e)){let a=ao(e);for(;a&&!Hc(a);){if(Vs(a)&&!Kv(a))return a;a=ao(a)}return r}let n=$_(e,t);for(;n&&RL(n)&&Kv(n);)n=$_(n,t);return n&&Hc(n)&&Kv(n)&&!zw(n)?r:n||IL(e)||r}const QL=async function(e){const t=this.getOffsetParent||Y2,r=this.getDimensions,n=await r(e.floating);return{reference:YL(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function XL(e){return Ws(e).direction==="rtl"}const ZL={convertOffsetParentRelativeRectToViewportRelativeRect:zL,getDocumentElement:wa,getClippingRect:KL,getOffsetParent:Y2,getElementRects:QL,getClientRects:UL,getDimensions:GL,getScale:jc,isElement:Vs,isRTL:XL};function Q2(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function JL(e,t){let r=null,n;const a=wa(e);function i(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const d=e.getBoundingClientRect(),{left:u,top:h,width:m,height:p}=d;if(l||t(),!m||!p)return;const w=Eh(h),v=Eh(a.clientWidth-(u+m)),g=Eh(a.clientHeight-(h+p)),y=Eh(u),b={rootMargin:-w+"px "+-v+"px "+-g+"px "+-y+"px",threshold:Yn(0,so(1,c))||1};let _=!0;function N(P){const S=P[0].intersectionRatio;if(S!==c){if(!_)return o();S?o(!1,S):n=setTimeout(()=>{o(!1,1e-7)},1e3)}S===1&&!Q2(d,e.getBoundingClientRect())&&o(),_=!1}try{r=new IntersectionObserver(N,{...b,root:a.ownerDocument})}catch{r=new IntersectionObserver(N,b)}r.observe(e)}return o(!0),i}function e$(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,d=Bw(e),u=a||i?[...d?Qu(d):[],...Qu(t)]:[];u.forEach(y=>{a&&y.addEventListener("scroll",r,{passive:!0}),i&&y.addEventListener("resize",r)});const h=d&&l?JL(d,r):null;let m=-1,p=null;o&&(p=new ResizeObserver(y=>{let[x]=y;x&&x.target===d&&p&&(p.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var b;(b=p)==null||b.observe(t)})),r()}),d&&!c&&p.observe(d),p.observe(t));let w,v=c?el(e):null;c&&g();function g(){const y=el(e);v&&!Q2(v,y)&&r(),v=y,w=requestAnimationFrame(g)}return r(),()=>{var y;u.forEach(x=>{a&&x.removeEventListener("scroll",r),i&&x.removeEventListener("resize",r)}),h==null||h(),(y=p)==null||y.disconnect(),p=null,c&&cancelAnimationFrame(w)}}const t$=SL,r$=CL,n$=jL,s$=EL,a$=_L,z_=bL,i$=kL,o$=(e,t,r)=>{const n=new Map,a={platform:ZL,...r},i={...a.platform,_c:n};return wL(e,t,{...a,platform:i})};var l$=typeof document<"u",c$=function(){},im=l$?f.useLayoutEffect:c$;function qm(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!qm(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=r;n--!==0;){const i=a[n];if(!(i==="_owner"&&e.$$typeof)&&!qm(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function X2(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function U_(e,t){const r=X2(e);return Math.round(t*r)/r}function Gv(e){const t=f.useRef(e);return im(()=>{t.current=e}),t}function d$(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:d}=e,[u,h]=f.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[m,p]=f.useState(n);qm(m,n)||p(n);const[w,v]=f.useState(null),[g,y]=f.useState(null),x=f.useCallback(I=>{I!==P.current&&(P.current=I,v(I))},[]),b=f.useCallback(I=>{I!==S.current&&(S.current=I,y(I))},[]),_=i||w,N=o||g,P=f.useRef(null),S=f.useRef(null),T=f.useRef(u),U=c!=null,q=Gv(c),re=Gv(a),G=Gv(d),H=f.useCallback(()=>{if(!P.current||!S.current)return;const I={placement:t,strategy:r,middleware:m};re.current&&(I.platform=re.current),o$(P.current,S.current,I).then(D=>{const C={...D,isPositioned:G.current!==!1};V.current&&!qm(T.current,C)&&(T.current=C,vl.flushSync(()=>{h(C)}))})},[m,t,r,re,G]);im(()=>{d===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,h(I=>({...I,isPositioned:!1})))},[d]);const V=f.useRef(!1);im(()=>(V.current=!0,()=>{V.current=!1}),[]),im(()=>{if(_&&(P.current=_),N&&(S.current=N),_&&N){if(q.current)return q.current(_,N,H);H()}},[_,N,H,q,U]);const se=f.useMemo(()=>({reference:P,floating:S,setReference:x,setFloating:b}),[x,b]),ee=f.useMemo(()=>({reference:_,floating:N}),[_,N]),J=f.useMemo(()=>{const I={position:r,left:0,top:0};if(!ee.floating)return I;const D=U_(ee.floating,u.x),C=U_(ee.floating,u.y);return l?{...I,transform:"translate("+D+"px, "+C+"px)",...X2(ee.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:D,top:C}},[r,l,ee.floating,u.x,u.y]);return f.useMemo(()=>({...u,update:H,refs:se,elements:ee,floatingStyles:J}),[u,H,se,ee,J])}const u$=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:a}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?z_({element:n.current,padding:a}).fn(r):{}:n?z_({element:n,padding:a}).fn(r):{}}}},f$=(e,t)=>({...t$(e),options:[e,t]}),h$=(e,t)=>({...r$(e),options:[e,t]}),m$=(e,t)=>({...i$(e),options:[e,t]}),p$=(e,t)=>({...n$(e),options:[e,t]}),g$=(e,t)=>({...s$(e),options:[e,t]}),v$=(e,t)=>({...a$(e),options:[e,t]}),x$=(e,t)=>({...u$(e),options:[e,t]});var y$="Arrow",Z2=f.forwardRef((e,t)=>{const{children:r,width:n=10,height:a=5,...i}=e;return s.jsx(Ie.svg,{...i,ref:t,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});Z2.displayName=y$;var w$=Z2;function J2(e){const[t,r]=f.useState(void 0);return Cr(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,l=d.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var Vw="Popper",[eE,yo]=Cn(Vw),[b$,tE]=eE(Vw),rE=e=>{const{__scopePopper:t,children:r}=e,[n,a]=f.useState(null);return s.jsx(b$,{scope:t,anchor:n,onAnchorChange:a,children:r})};rE.displayName=Vw;var nE="PopperAnchor",sE=f.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...a}=e,i=tE(nE,r),o=f.useRef(null),l=ct(t,o);return f.useEffect(()=>{i.onAnchorChange((n==null?void 0:n.current)||o.current)}),n?null:s.jsx(Ie.div,{...a,ref:l})});sE.displayName=nE;var Ww="PopperContent",[j$,_$]=eE(Ww),aE=f.forwardRef((e,t)=>{var Q,R,L,Z,de,_e;const{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:u=0,sticky:h="partial",hideWhenDetached:m=!1,updatePositionStrategy:p="optimized",onPlaced:w,...v}=e,g=tE(Ww,r),[y,x]=f.useState(null),b=ct(t,me=>x(me)),[_,N]=f.useState(null),P=J2(_),S=(P==null?void 0:P.width)??0,T=(P==null?void 0:P.height)??0,U=n+(i!=="center"?"-"+i:""),q=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},re=Array.isArray(d)?d:[d],G=re.length>0,H={padding:q,boundary:re.filter(S$),altBoundary:G},{refs:V,floatingStyles:se,placement:ee,isPositioned:J,middlewareData:I}=d$({strategy:"fixed",placement:U,whileElementsMounted:(...me)=>e$(...me,{animationFrame:p==="always"}),elements:{reference:g.anchor},middleware:[f$({mainAxis:a+T,alignmentAxis:o}),c&&h$({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?m$():void 0,...H}),c&&p$({...H}),g$({...H,apply:({elements:me,rects:xe,availableWidth:Ge,availableHeight:Nt})=>{const{width:Ot,height:Ct}=xe.reference,It=me.floating.style;It.setProperty("--radix-popper-available-width",`${Ge}px`),It.setProperty("--radix-popper-available-height",`${Nt}px`),It.setProperty("--radix-popper-anchor-width",`${Ot}px`),It.setProperty("--radix-popper-anchor-height",`${Ct}px`)}}),_&&x$({element:_,padding:l}),C$({arrowWidth:S,arrowHeight:T}),m&&v$({strategy:"referenceHidden",...H})]}),[D,C]=lE(ee),E=yr(w);Cr(()=>{J&&(E==null||E())},[J,E]);const A=(Q=I.arrow)==null?void 0:Q.x,Y=(R=I.arrow)==null?void 0:R.y,k=((L=I.arrow)==null?void 0:L.centerOffset)!==0,[z,ne]=f.useState();return Cr(()=>{y&&ne(window.getComputedStyle(y).zIndex)},[y]),s.jsx("div",{ref:V.setFloating,"data-radix-popper-content-wrapper":"",style:{...se,transform:J?se.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:z,"--radix-popper-transform-origin":[(Z=I.transformOrigin)==null?void 0:Z.x,(de=I.transformOrigin)==null?void 0:de.y].join(" "),...((_e=I.hide)==null?void 0:_e.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(j$,{scope:r,placedSide:D,onArrowChange:N,arrowX:A,arrowY:Y,shouldHideArrow:k,children:s.jsx(Ie.div,{"data-side":D,"data-align":C,...v,ref:b,style:{...v.style,animation:J?void 0:"none"}})})})});aE.displayName=Ww;var iE="PopperArrow",N$={top:"bottom",right:"left",bottom:"top",left:"right"},oE=f.forwardRef(function(t,r){const{__scopePopper:n,...a}=t,i=_$(iE,n),o=N$[i.placedSide];return s.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:s.jsx(w$,{...a,ref:r,style:{...a.style,display:"block"}})})});oE.displayName=iE;function S$(e){return e!==null}var C$=e=>({name:"transformOrigin",options:e,fn(t){var g,y,x;const{placement:r,rects:n,middlewareData:a}=t,o=((g=a.arrow)==null?void 0:g.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[d,u]=lE(r),h={start:"0%",center:"50%",end:"100%"}[u],m=(((y=a.arrow)==null?void 0:y.x)??0)+l/2,p=(((x=a.arrow)==null?void 0:x.y)??0)+c/2;let w="",v="";return d==="bottom"?(w=o?h:`${m}px`,v=`${-c}px`):d==="top"?(w=o?h:`${m}px`,v=`${n.floating.height+c}px`):d==="right"?(w=`${-c}px`,v=o?h:`${p}px`):d==="left"&&(w=`${n.floating.width+c}px`,v=o?h:`${p}px`),{data:{x:w,y:v}}}});function lE(e){const[t,r="center"]=e.split("-");return[t,r]}var Zp=rE,Cf=sE,Jp=aE,eg=oE,[tg,UY]=Cn("Tooltip",[yo]),rg=yo(),cE="TooltipProvider",k$=700,My="tooltip.open",[E$,Hw]=tg(cE),dE=e=>{const{__scopeTooltip:t,delayDuration:r=k$,skipDelayDuration:n=300,disableHoverableContent:a=!1,children:i}=e,o=f.useRef(!0),l=f.useRef(!1),c=f.useRef(0);return f.useEffect(()=>{const d=c.current;return()=>window.clearTimeout(d)},[]),s.jsx(E$,{scope:t,isOpenDelayedRef:o,delayDuration:r,onOpen:f.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:f.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:f.useCallback(d=>{l.current=d},[]),disableHoverableContent:a,children:i})};dE.displayName=cE;var Xu="Tooltip",[P$,ng]=tg(Xu),uE=e=>{const{__scopeTooltip:t,children:r,open:n,defaultOpen:a,onOpenChange:i,disableHoverableContent:o,delayDuration:l}=e,c=Hw(Xu,e.__scopeTooltip),d=rg(t),[u,h]=f.useState(null),m=Xr(),p=f.useRef(0),w=o??c.disableHoverableContent,v=l??c.delayDuration,g=f.useRef(!1),[y,x]=va({prop:n,defaultProp:a??!1,onChange:S=>{S?(c.onOpen(),document.dispatchEvent(new CustomEvent(My))):c.onClose(),i==null||i(S)},caller:Xu}),b=f.useMemo(()=>y?g.current?"delayed-open":"instant-open":"closed",[y]),_=f.useCallback(()=>{window.clearTimeout(p.current),p.current=0,g.current=!1,x(!0)},[x]),N=f.useCallback(()=>{window.clearTimeout(p.current),p.current=0,x(!1)},[x]),P=f.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{g.current=!0,x(!0),p.current=0},v)},[v,x]);return f.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=0)},[]),s.jsx(Zp,{...d,children:s.jsx(P$,{scope:t,contentId:m,open:y,stateAttribute:b,trigger:u,onTriggerChange:h,onTriggerEnter:f.useCallback(()=>{c.isOpenDelayedRef.current?P():_()},[c.isOpenDelayedRef,P,_]),onTriggerLeave:f.useCallback(()=>{w?N():(window.clearTimeout(p.current),p.current=0)},[N,w]),onOpen:_,onClose:N,disableHoverableContent:w,children:r})})};uE.displayName=Xu;var Ay="TooltipTrigger",fE=f.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=ng(Ay,r),i=Hw(Ay,r),o=rg(r),l=f.useRef(null),c=ct(t,l,a.onTriggerChange),d=f.useRef(!1),u=f.useRef(!1),h=f.useCallback(()=>d.current=!1,[]);return f.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),s.jsx(Cf,{asChild:!0,...o,children:s.jsx(Ie.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...n,ref:c,onPointerMove:Ce(e.onPointerMove,m=>{m.pointerType!=="touch"&&!u.current&&!i.isPointerInTransitRef.current&&(a.onTriggerEnter(),u.current=!0)}),onPointerLeave:Ce(e.onPointerLeave,()=>{a.onTriggerLeave(),u.current=!1}),onPointerDown:Ce(e.onPointerDown,()=>{a.open&&a.onClose(),d.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:Ce(e.onFocus,()=>{d.current||a.onOpen()}),onBlur:Ce(e.onBlur,a.onClose),onClick:Ce(e.onClick,a.onClose)})})});fE.displayName=Ay;var T$="TooltipPortal",[BY,R$]=tg(T$,{forceMount:void 0}),Kc="TooltipContent",hE=f.forwardRef((e,t)=>{const r=R$(Kc,e.__scopeTooltip),{forceMount:n=r.forceMount,side:a="top",...i}=e,o=ng(Kc,e.__scopeTooltip);return s.jsx(rn,{present:n||o.open,children:o.disableHoverableContent?s.jsx(mE,{side:a,...i,ref:t}):s.jsx(M$,{side:a,...i,ref:t})})}),M$=f.forwardRef((e,t)=>{const r=ng(Kc,e.__scopeTooltip),n=Hw(Kc,e.__scopeTooltip),a=f.useRef(null),i=ct(t,a),[o,l]=f.useState(null),{trigger:c,onClose:d}=r,u=a.current,{onPointerInTransitChange:h}=n,m=f.useCallback(()=>{l(null),h(!1)},[h]),p=f.useCallback((w,v)=>{const g=w.currentTarget,y={x:w.clientX,y:w.clientY},x=F$(y,g.getBoundingClientRect()),b=L$(y,x),_=$$(v.getBoundingClientRect()),N=U$([...b,..._]);l(N),h(!0)},[h]);return f.useEffect(()=>()=>m(),[m]),f.useEffect(()=>{if(c&&u){const w=g=>p(g,u),v=g=>p(g,c);return c.addEventListener("pointerleave",w),u.addEventListener("pointerleave",v),()=>{c.removeEventListener("pointerleave",w),u.removeEventListener("pointerleave",v)}}},[c,u,p,m]),f.useEffect(()=>{if(o){const w=v=>{const g=v.target,y={x:v.clientX,y:v.clientY},x=(c==null?void 0:c.contains(g))||(u==null?void 0:u.contains(g)),b=!z$(y,o);x?m():b&&(m(),d())};return document.addEventListener("pointermove",w),()=>document.removeEventListener("pointermove",w)}},[c,u,o,d,m]),s.jsx(mE,{...e,ref:i})}),[A$,O$]=tg(Xu,{isInside:!1}),D$=Qk("TooltipContent"),mE=f.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":a,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=e,c=ng(Kc,r),d=rg(r),{onClose:u}=c;return f.useEffect(()=>(document.addEventListener(My,u),()=>document.removeEventListener(My,u)),[u]),f.useEffect(()=>{if(c.trigger){const h=m=>{const p=m.target;p!=null&&p.contains(c.trigger)&&u()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[c.trigger,u]),s.jsx(yl,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:u,children:s.jsxs(Jp,{"data-state":c.stateAttribute,...d,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[s.jsx(D$,{children:n}),s.jsx(A$,{scope:r,isInside:!0,children:s.jsx(a3,{id:c.contentId,role:"tooltip",children:a||n})})]})})});hE.displayName=Kc;var pE="TooltipArrow",I$=f.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=rg(r);return O$(pE,r).isInside?null:s.jsx(eg,{...a,...n,ref:t})});I$.displayName=pE;function F$(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(r,n,a,i)){case i:return"left";case a:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function L$(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function $$(e){const{top:t,right:r,bottom:n,left:a}=e;return[{x:a,y:t},{x:r,y:t},{x:r,y:n},{x:a,y:n}]}function z$(e,t){const{x:r,y:n}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],c=t[o],d=l.x,u=l.y,h=c.x,m=c.y;u>n!=m>n&&r<(h-d)*(n-u)/(m-u)+d&&(a=!a)}return a}function U$(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),B$(t)}function B$(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const a=e[n];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))t.pop();else break}t.push(a)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const a=e[n];for(;r.length>=2;){const i=r[r.length-1],o=r[r.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))r.pop();else break}r.push(a)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var q$=dE,V$=uE,W$=fE,gE=hE;const vE=q$,H$=V$,K$=W$,xE=f.forwardRef(({className:e,sideOffset:t=4,...r},n)=>s.jsx(gE,{ref:n,sideOffset:t,className:le("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));xE.displayName=gE.displayName;var hd=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},tl=typeof window>"u"||"Deno"in globalThis;function vn(){}function G$(e,t){return typeof e=="function"?e(t):e}function Oy(e){return typeof e=="number"&&e>=0&&e!==1/0}function yE(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Yi(e,t){return typeof e=="function"?e(t):e}function us(e,t){return typeof e=="function"?e(t):e}function B_(e,t){const{type:r="all",exact:n,fetchStatus:a,predicate:i,queryKey:o,stale:l}=e;if(o){if(n){if(t.queryHash!==Kw(o,t.options))return!1}else if(!Zu(t.queryKey,o))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||a&&a!==t.state.fetchStatus||i&&!i(t))}function q_(e,t){const{exact:r,status:n,predicate:a,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(rl(t.options.mutationKey)!==rl(i))return!1}else if(!Zu(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||a&&!a(t))}function Kw(e,t){return((t==null?void 0:t.queryKeyHashFn)||rl)(e)}function rl(e){return JSON.stringify(e,(t,r)=>Dy(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function Zu(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>Zu(e[r],t[r])):!1}function wE(e,t){if(e===t)return e;const r=V_(e)&&V_(t);if(r||Dy(e)&&Dy(t)){const n=r?e:Object.keys(e),a=n.length,i=r?t:Object.keys(t),o=i.length,l=r?[]:{},c=new Set(n);let d=0;for(let u=0;u<o;u++){const h=r?u:i[u];(!r&&c.has(h)||r)&&e[h]===void 0&&t[h]===void 0?(l[h]=void 0,d++):(l[h]=wE(e[h],t[h]),l[h]===e[h]&&e[h]!==void 0&&d++)}return a===o&&d===a?e:l}return t}function Vm(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function V_(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Dy(e){if(!W_(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!W_(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function W_(e){return Object.prototype.toString.call(e)==="[object Object]"}function Y$(e){return new Promise(t=>{setTimeout(t,e)})}function Iy(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?wE(e,t):t}function Q$(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function X$(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var Gw=Symbol();function bE(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Gw?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function jE(e,t){return typeof e=="function"?e(...t):!!e}var Lo,Si,Cc,NS,Z$=(NS=class extends hd{constructor(){super();Qe(this,Lo);Qe(this,Si);Qe(this,Cc);Me(this,Cc,t=>{if(!tl&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){K(this,Si)||this.setEventListener(K(this,Cc))}onUnsubscribe(){var t;this.hasListeners()||((t=K(this,Si))==null||t.call(this),Me(this,Si,void 0))}setEventListener(t){var r;Me(this,Cc,t),(r=K(this,Si))==null||r.call(this),Me(this,Si,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){K(this,Lo)!==t&&(Me(this,Lo,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof K(this,Lo)=="boolean"?K(this,Lo):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Lo=new WeakMap,Si=new WeakMap,Cc=new WeakMap,NS),Yw=new Z$,kc,Ci,Ec,SS,J$=(SS=class extends hd{constructor(){super();Qe(this,kc,!0);Qe(this,Ci);Qe(this,Ec);Me(this,Ec,t=>{if(!tl&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){K(this,Ci)||this.setEventListener(K(this,Ec))}onUnsubscribe(){var t;this.hasListeners()||((t=K(this,Ci))==null||t.call(this),Me(this,Ci,void 0))}setEventListener(t){var r;Me(this,Ec,t),(r=K(this,Ci))==null||r.call(this),Me(this,Ci,t(this.setOnline.bind(this)))}setOnline(t){K(this,kc)!==t&&(Me(this,kc,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return K(this,kc)}},kc=new WeakMap,Ci=new WeakMap,Ec=new WeakMap,SS),Wm=new J$;function Fy(){let e,t;const r=new Promise((a,i)=>{e=a,t=i});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),e(a)},r.reject=a=>{n({status:"rejected",reason:a}),t(a)},r}function e5(e){return Math.min(1e3*2**e,3e4)}function _E(e){return(e??"online")==="online"?Wm.isOnline():!0}var NE=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Yv(e){return e instanceof NE}function SE(e){let t=!1,r=0,n=!1,a;const i=Fy(),o=v=>{var g;n||(m(new NE(v)),(g=e.abort)==null||g.call(e))},l=()=>{t=!0},c=()=>{t=!1},d=()=>Yw.isFocused()&&(e.networkMode==="always"||Wm.isOnline())&&e.canRun(),u=()=>_E(e.networkMode)&&e.canRun(),h=v=>{var g;n||(n=!0,(g=e.onSuccess)==null||g.call(e,v),a==null||a(),i.resolve(v))},m=v=>{var g;n||(n=!0,(g=e.onError)==null||g.call(e,v),a==null||a(),i.reject(v))},p=()=>new Promise(v=>{var g;a=y=>{(n||d())&&v(y)},(g=e.onPause)==null||g.call(e)}).then(()=>{var v;a=void 0,n||(v=e.onContinue)==null||v.call(e)}),w=()=>{if(n)return;let v;const g=r===0?e.initialPromise:void 0;try{v=g??e.fn()}catch(y){v=Promise.reject(y)}Promise.resolve(v).then(h).catch(y=>{var P;if(n)return;const x=e.retry??(tl?0:3),b=e.retryDelay??e5,_=typeof b=="function"?b(r,y):b,N=x===!0||typeof x=="number"&&r<x||typeof x=="function"&&x(r,y);if(t||!N){m(y);return}r++,(P=e.onFail)==null||P.call(e,r,y),Y$(_).then(()=>d()?void 0:p()).then(()=>{t?m(y):w()})})};return{promise:i,cancel:o,continue:()=>(a==null||a(),i),cancelRetry:l,continueRetry:c,canStart:u,start:()=>(u()?w():p().then(w),i)}}var t5=e=>setTimeout(e,0);function r5(){let e=[],t=0,r=l=>{l()},n=l=>{l()},a=t5;const i=l=>{t?e.push(l):a(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&a(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{a=l}}}var $r=r5(),$o,CS,CE=(CS=class{constructor(){Qe(this,$o)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Oy(this.gcTime)&&Me(this,$o,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(tl?1/0:5*60*1e3))}clearGcTimeout(){K(this,$o)&&(clearTimeout(K(this,$o)),Me(this,$o,void 0))}},$o=new WeakMap,CS),Pc,zo,ds,Uo,ln,mf,Bo,Os,Ea,kS,n5=(kS=class extends CE{constructor(t){super();Qe(this,Os);Qe(this,Pc);Qe(this,zo);Qe(this,ds);Qe(this,Uo);Qe(this,ln);Qe(this,mf);Qe(this,Bo);Me(this,Bo,!1),Me(this,mf,t.defaultOptions),this.setOptions(t.options),this.observers=[],Me(this,Uo,t.client),Me(this,ds,K(this,Uo).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Me(this,Pc,s5(this.options)),this.state=t.state??K(this,Pc),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=K(this,ln))==null?void 0:t.promise}setOptions(t){this.options={...K(this,mf),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&K(this,ds).remove(this)}setData(t,r){const n=Iy(this.state.data,t,this.options);return pt(this,Os,Ea).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){pt(this,Os,Ea).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,a;const r=(n=K(this,ln))==null?void 0:n.promise;return(a=K(this,ln))==null||a.cancel(t),r?r.then(vn).catch(vn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(K(this,Pc))}isActive(){return this.observers.some(t=>us(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Gw||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Yi(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!yE(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=K(this,ln))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=K(this,ln))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),K(this,ds).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(K(this,ln)&&(K(this,Bo)?K(this,ln).cancel({revert:!0}):K(this,ln).cancelRetry()),this.scheduleGc()),K(this,ds).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||pt(this,Os,Ea).call(this,{type:"invalidate"})}fetch(t,r){var d,u,h;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(K(this,ln))return K(this,ln).continueRetry(),K(this,ln).promise}if(t&&this.setOptions(t),!this.options.queryFn){const m=this.observers.find(p=>p.options.queryFn);m&&this.setOptions(m.options)}const n=new AbortController,a=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(Me(this,Bo,!0),n.signal)})},i=()=>{const m=bE(this.options,r),w=(()=>{const v={client:K(this,Uo),queryKey:this.queryKey,meta:this.meta};return a(v),v})();return Me(this,Bo,!1),this.options.persister?this.options.persister(m,w,this):m(w)},l=(()=>{const m={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:K(this,Uo),state:this.state,fetchFn:i};return a(m),m})();(d=this.options.behavior)==null||d.onFetch(l,this),Me(this,zo,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=l.fetchOptions)==null?void 0:u.meta))&&pt(this,Os,Ea).call(this,{type:"fetch",meta:(h=l.fetchOptions)==null?void 0:h.meta});const c=m=>{var p,w,v,g;Yv(m)&&m.silent||pt(this,Os,Ea).call(this,{type:"error",error:m}),Yv(m)||((w=(p=K(this,ds).config).onError)==null||w.call(p,m,this),(g=(v=K(this,ds).config).onSettled)==null||g.call(v,this.state.data,m,this)),this.scheduleGc()};return Me(this,ln,SE({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,abort:n.abort.bind(n),onSuccess:m=>{var p,w,v,g;if(m===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(m)}catch(y){c(y);return}(w=(p=K(this,ds).config).onSuccess)==null||w.call(p,m,this),(g=(v=K(this,ds).config).onSettled)==null||g.call(v,m,this.state.error,this),this.scheduleGc()},onError:c,onFail:(m,p)=>{pt(this,Os,Ea).call(this,{type:"failed",failureCount:m,error:p})},onPause:()=>{pt(this,Os,Ea).call(this,{type:"pause"})},onContinue:()=>{pt(this,Os,Ea).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),K(this,ln).start()}},Pc=new WeakMap,zo=new WeakMap,ds=new WeakMap,Uo=new WeakMap,ln=new WeakMap,mf=new WeakMap,Bo=new WeakMap,Os=new WeakSet,Ea=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...kE(n.data,this.options),fetchMeta:t.meta??null};case"success":return Me(this,zo,void 0),{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=t.error;return Yv(a)&&a.revert&&K(this,zo)?{...K(this,zo),fetchStatus:"idle"}:{...n,error:a,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),$r.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),K(this,ds).notify({query:this,type:"updated",action:t})})},kS);function kE(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:_E(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function s5(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Js,ES,a5=(ES=class extends hd{constructor(t={}){super();Qe(this,Js);this.config=t,Me(this,Js,new Map)}build(t,r,n){const a=r.queryKey,i=r.queryHash??Kw(a,r);let o=this.get(i);return o||(o=new n5({client:t,queryKey:a,queryHash:i,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(a)}),this.add(o)),o}add(t){K(this,Js).has(t.queryHash)||(K(this,Js).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=K(this,Js).get(t.queryHash);r&&(t.destroy(),r===t&&K(this,Js).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){$r.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return K(this,Js).get(t)}getAll(){return[...K(this,Js).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>B_(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>B_(t,n)):r}notify(t){$r.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){$r.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){$r.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Js=new WeakMap,ES),ea,mn,qo,ta,gi,PS,i5=(PS=class extends CE{constructor(t){super();Qe(this,ta);Qe(this,ea);Qe(this,mn);Qe(this,qo);this.mutationId=t.mutationId,Me(this,mn,t.mutationCache),Me(this,ea,[]),this.state=t.state||EE(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){K(this,ea).includes(t)||(K(this,ea).push(t),this.clearGcTimeout(),K(this,mn).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Me(this,ea,K(this,ea).filter(r=>r!==t)),this.scheduleGc(),K(this,mn).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){K(this,ea).length||(this.state.status==="pending"?this.scheduleGc():K(this,mn).remove(this))}continue(){var t;return((t=K(this,qo))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,o,l,c,d,u,h,m,p,w,v,g,y,x,b,_,N,P,S,T;const r=()=>{pt(this,ta,gi).call(this,{type:"continue"})};Me(this,qo,SE({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(U,q)=>{pt(this,ta,gi).call(this,{type:"failed",failureCount:U,error:q})},onPause:()=>{pt(this,ta,gi).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>K(this,mn).canRun(this)}));const n=this.state.status==="pending",a=!K(this,qo).canStart();try{if(n)r();else{pt(this,ta,gi).call(this,{type:"pending",variables:t,isPaused:a}),await((o=(i=K(this,mn).config).onMutate)==null?void 0:o.call(i,t,this));const q=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,t));q!==this.state.context&&pt(this,ta,gi).call(this,{type:"pending",context:q,variables:t,isPaused:a})}const U=await K(this,qo).start();return await((u=(d=K(this,mn).config).onSuccess)==null?void 0:u.call(d,U,t,this.state.context,this)),await((m=(h=this.options).onSuccess)==null?void 0:m.call(h,U,t,this.state.context)),await((w=(p=K(this,mn).config).onSettled)==null?void 0:w.call(p,U,null,this.state.variables,this.state.context,this)),await((g=(v=this.options).onSettled)==null?void 0:g.call(v,U,null,t,this.state.context)),pt(this,ta,gi).call(this,{type:"success",data:U}),U}catch(U){try{throw await((x=(y=K(this,mn).config).onError)==null?void 0:x.call(y,U,t,this.state.context,this)),await((_=(b=this.options).onError)==null?void 0:_.call(b,U,t,this.state.context)),await((P=(N=K(this,mn).config).onSettled)==null?void 0:P.call(N,void 0,U,this.state.variables,this.state.context,this)),await((T=(S=this.options).onSettled)==null?void 0:T.call(S,void 0,U,t,this.state.context)),U}finally{pt(this,ta,gi).call(this,{type:"error",error:U})}}finally{K(this,mn).runNext(this)}}},ea=new WeakMap,mn=new WeakMap,qo=new WeakMap,ta=new WeakSet,gi=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),$r.batch(()=>{K(this,ea).forEach(n=>{n.onMutationUpdate(t)}),K(this,mn).notify({mutation:this,type:"updated",action:t})})},PS);function EE(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var La,Ds,pf,TS,o5=(TS=class extends hd{constructor(t={}){super();Qe(this,La);Qe(this,Ds);Qe(this,pf);this.config=t,Me(this,La,new Set),Me(this,Ds,new Map),Me(this,pf,0)}build(t,r,n){const a=new i5({mutationCache:this,mutationId:++ih(this,pf)._,options:t.defaultMutationOptions(r),state:n});return this.add(a),a}add(t){K(this,La).add(t);const r=Ph(t);if(typeof r=="string"){const n=K(this,Ds).get(r);n?n.push(t):K(this,Ds).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(K(this,La).delete(t)){const r=Ph(t);if(typeof r=="string"){const n=K(this,Ds).get(r);if(n)if(n.length>1){const a=n.indexOf(t);a!==-1&&n.splice(a,1)}else n[0]===t&&K(this,Ds).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=Ph(t);if(typeof r=="string"){const n=K(this,Ds).get(r),a=n==null?void 0:n.find(i=>i.state.status==="pending");return!a||a===t}else return!0}runNext(t){var n;const r=Ph(t);if(typeof r=="string"){const a=(n=K(this,Ds).get(r))==null?void 0:n.find(i=>i!==t&&i.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){$r.batch(()=>{K(this,La).forEach(t=>{this.notify({type:"removed",mutation:t})}),K(this,La).clear(),K(this,Ds).clear()})}getAll(){return Array.from(K(this,La))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>q_(r,n))}findAll(t={}){return this.getAll().filter(r=>q_(t,r))}notify(t){$r.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return $r.batch(()=>Promise.all(t.map(r=>r.continue().catch(vn))))}},La=new WeakMap,Ds=new WeakMap,pf=new WeakMap,TS);function Ph(e){var t;return(t=e.options.scope)==null?void 0:t.id}function Hm(e){return{onFetch:(t,r)=>{var u,h,m,p,w;const n=t.options,a=(m=(h=(u=t.fetchOptions)==null?void 0:u.meta)==null?void 0:h.fetchMore)==null?void 0:m.direction,i=((p=t.state.data)==null?void 0:p.pages)||[],o=((w=t.state.data)==null?void 0:w.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const d=async()=>{let v=!1;const g=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(t.signal.aborted?v=!0:t.signal.addEventListener("abort",()=>{v=!0}),t.signal)})},y=bE(t.options,t.fetchOptions),x=async(b,_,N)=>{if(v)return Promise.reject();if(_==null&&b.pages.length)return Promise.resolve(b);const S=(()=>{const re={client:t.client,queryKey:t.queryKey,pageParam:_,direction:N?"backward":"forward",meta:t.options.meta};return g(re),re})(),T=await y(S),{maxPages:U}=t.options,q=N?X$:Q$;return{pages:q(b.pages,T,U),pageParams:q(b.pageParams,_,U)}};if(a&&i.length){const b=a==="backward",_=b?PE:Ly,N={pages:i,pageParams:o},P=_(n,N);l=await x(N,P,b)}else{const b=e??i.length;do{const _=c===0?o[0]??n.initialPageParam:Ly(n,l);if(c>0&&_==null)break;l=await x(l,_),c++}while(c<b)}return l};t.options.persister?t.fetchFn=()=>{var v,g;return(g=(v=t.options).persister)==null?void 0:g.call(v,d,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=d}}}function Ly(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function PE(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}function l5(e,t){return t?Ly(e,t)!=null:!1}function c5(e,t){return!t||!e.getPreviousPageParam?!1:PE(e,t)!=null}var gr,ki,Ei,Tc,Rc,Pi,Mc,Ac,RS,d5=(RS=class{constructor(e={}){Qe(this,gr);Qe(this,ki);Qe(this,Ei);Qe(this,Tc);Qe(this,Rc);Qe(this,Pi);Qe(this,Mc);Qe(this,Ac);Me(this,gr,e.queryCache||new a5),Me(this,ki,e.mutationCache||new o5),Me(this,Ei,e.defaultOptions||{}),Me(this,Tc,new Map),Me(this,Rc,new Map),Me(this,Pi,0)}mount(){ih(this,Pi)._++,K(this,Pi)===1&&(Me(this,Mc,Yw.subscribe(async e=>{e&&(await this.resumePausedMutations(),K(this,gr).onFocus())})),Me(this,Ac,Wm.subscribe(async e=>{e&&(await this.resumePausedMutations(),K(this,gr).onOnline())})))}unmount(){var e,t;ih(this,Pi)._--,K(this,Pi)===0&&((e=K(this,Mc))==null||e.call(this),Me(this,Mc,void 0),(t=K(this,Ac))==null||t.call(this),Me(this,Ac,void 0))}isFetching(e){return K(this,gr).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return K(this,ki).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=K(this,gr).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=K(this,gr).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Yi(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return K(this,gr).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),a=K(this,gr).get(n.queryHash),i=a==null?void 0:a.state.data,o=G$(t,i);if(o!==void 0)return K(this,gr).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return $r.batch(()=>K(this,gr).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=K(this,gr).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=K(this,gr);$r.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=K(this,gr);return $r.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=$r.batch(()=>K(this,gr).findAll(e).map(a=>a.cancel(r)));return Promise.all(n).then(vn).catch(vn)}invalidateQueries(e,t={}){return $r.batch(()=>(K(this,gr).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=$r.batch(()=>K(this,gr).findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let i=a.fetch(void 0,r);return r.throwOnError||(i=i.catch(vn)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(vn)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=K(this,gr).build(this,t);return r.isStaleByTime(Yi(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(vn).catch(vn)}fetchInfiniteQuery(e){return e.behavior=Hm(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(vn).catch(vn)}ensureInfiniteQueryData(e){return e.behavior=Hm(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Wm.isOnline()?K(this,ki).resumePausedMutations():Promise.resolve()}getQueryCache(){return K(this,gr)}getMutationCache(){return K(this,ki)}getDefaultOptions(){return K(this,Ei)}setDefaultOptions(e){Me(this,Ei,e)}setQueryDefaults(e,t){K(this,Tc).set(rl(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...K(this,Tc).values()],r={};return t.forEach(n=>{Zu(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){K(this,Rc).set(rl(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...K(this,Rc).values()],r={};return t.forEach(n=>{Zu(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...K(this,Ei).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Kw(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Gw&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...K(this,Ei).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){K(this,gr).clear(),K(this,ki).clear()}},gr=new WeakMap,ki=new WeakMap,Ei=new WeakMap,Tc=new WeakMap,Rc=new WeakMap,Pi=new WeakMap,Mc=new WeakMap,Ac=new WeakMap,RS),Tn,St,gf,pn,Vo,Oc,Ti,Ri,vf,Dc,Ic,Wo,Ho,Mi,Fc,Dt,au,$y,zy,Uy,By,qy,Vy,Wy,RE,MS,TE=(MS=class extends hd{constructor(t,r){super();Qe(this,Dt);Qe(this,Tn);Qe(this,St);Qe(this,gf);Qe(this,pn);Qe(this,Vo);Qe(this,Oc);Qe(this,Ti);Qe(this,Ri);Qe(this,vf);Qe(this,Dc);Qe(this,Ic);Qe(this,Wo);Qe(this,Ho);Qe(this,Mi);Qe(this,Fc,new Set);this.options=r,Me(this,Tn,t),Me(this,Ri,null),Me(this,Ti,Fy()),this.options.experimental_prefetchInRender||K(this,Ti).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(K(this,St).addObserver(this),H_(K(this,St),this.options)?pt(this,Dt,au).call(this):this.updateResult(),pt(this,Dt,By).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Hy(K(this,St),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Hy(K(this,St),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,pt(this,Dt,qy).call(this),pt(this,Dt,Vy).call(this),K(this,St).removeObserver(this)}setOptions(t){const r=this.options,n=K(this,St);if(this.options=K(this,Tn).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof us(this.options.enabled,K(this,St))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");pt(this,Dt,Wy).call(this),K(this,St).setOptions(this.options),r._defaulted&&!Vm(this.options,r)&&K(this,Tn).getQueryCache().notify({type:"observerOptionsUpdated",query:K(this,St),observer:this});const a=this.hasListeners();a&&K_(K(this,St),n,this.options,r)&&pt(this,Dt,au).call(this),this.updateResult(),a&&(K(this,St)!==n||us(this.options.enabled,K(this,St))!==us(r.enabled,K(this,St))||Yi(this.options.staleTime,K(this,St))!==Yi(r.staleTime,K(this,St)))&&pt(this,Dt,$y).call(this);const i=pt(this,Dt,zy).call(this);a&&(K(this,St)!==n||us(this.options.enabled,K(this,St))!==us(r.enabled,K(this,St))||i!==K(this,Mi))&&pt(this,Dt,Uy).call(this,i)}getOptimisticResult(t){const r=K(this,Tn).getQueryCache().build(K(this,Tn),t),n=this.createResult(r,t);return f5(this,n)&&(Me(this,pn,n),Me(this,Oc,this.options),Me(this,Vo,K(this,St).state)),n}getCurrentResult(){return K(this,pn)}trackResult(t,r){return new Proxy(t,{get:(n,a)=>(this.trackProp(a),r==null||r(a),Reflect.get(n,a))})}trackProp(t){K(this,Fc).add(t)}getCurrentQuery(){return K(this,St)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=K(this,Tn).defaultQueryOptions(t),n=K(this,Tn).getQueryCache().build(K(this,Tn),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return pt(this,Dt,au).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),K(this,pn)))}createResult(t,r){var U;const n=K(this,St),a=this.options,i=K(this,pn),o=K(this,Vo),l=K(this,Oc),d=t!==n?t.state:K(this,gf),{state:u}=t;let h={...u},m=!1,p;if(r._optimisticResults){const q=this.hasListeners(),re=!q&&H_(t,r),G=q&&K_(t,n,r,a);(re||G)&&(h={...h,...kE(u.data,t.options)}),r._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:w,errorUpdatedAt:v,status:g}=h;p=h.data;let y=!1;if(r.placeholderData!==void 0&&p===void 0&&g==="pending"){let q;i!=null&&i.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData)?(q=i.data,y=!0):q=typeof r.placeholderData=="function"?r.placeholderData((U=K(this,Ic))==null?void 0:U.state.data,K(this,Ic)):r.placeholderData,q!==void 0&&(g="success",p=Iy(i==null?void 0:i.data,q,r),m=!0)}if(r.select&&p!==void 0&&!y)if(i&&p===(o==null?void 0:o.data)&&r.select===K(this,vf))p=K(this,Dc);else try{Me(this,vf,r.select),p=r.select(p),p=Iy(i==null?void 0:i.data,p,r),Me(this,Dc,p),Me(this,Ri,null)}catch(q){Me(this,Ri,q)}K(this,Ri)&&(w=K(this,Ri),p=K(this,Dc),v=Date.now(),g="error");const x=h.fetchStatus==="fetching",b=g==="pending",_=g==="error",N=b&&x,P=p!==void 0,T={status:g,fetchStatus:h.fetchStatus,isPending:b,isSuccess:g==="success",isError:_,isInitialLoading:N,isLoading:N,data:p,dataUpdatedAt:h.dataUpdatedAt,error:w,errorUpdatedAt:v,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>d.dataUpdateCount||h.errorUpdateCount>d.errorUpdateCount,isFetching:x,isRefetching:x&&!b,isLoadingError:_&&!P,isPaused:h.fetchStatus==="paused",isPlaceholderData:m,isRefetchError:_&&P,isStale:Qw(t,r),refetch:this.refetch,promise:K(this,Ti),isEnabled:us(r.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const q=H=>{T.status==="error"?H.reject(T.error):T.data!==void 0&&H.resolve(T.data)},re=()=>{const H=Me(this,Ti,T.promise=Fy());q(H)},G=K(this,Ti);switch(G.status){case"pending":t.queryHash===n.queryHash&&q(G);break;case"fulfilled":(T.status==="error"||T.data!==G.value)&&re();break;case"rejected":(T.status!=="error"||T.error!==G.reason)&&re();break}}return T}updateResult(){const t=K(this,pn),r=this.createResult(K(this,St),this.options);if(Me(this,Vo,K(this,St).state),Me(this,Oc,this.options),K(this,Vo).data!==void 0&&Me(this,Ic,K(this,St)),Vm(r,t))return;Me(this,pn,r);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:a}=this.options,i=typeof a=="function"?a():a;if(i==="all"||!i&&!K(this,Fc).size)return!0;const o=new Set(i??K(this,Fc));return this.options.throwOnError&&o.add("error"),Object.keys(K(this,pn)).some(l=>{const c=l;return K(this,pn)[c]!==t[c]&&o.has(c)})};pt(this,Dt,RE).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&pt(this,Dt,By).call(this)}},Tn=new WeakMap,St=new WeakMap,gf=new WeakMap,pn=new WeakMap,Vo=new WeakMap,Oc=new WeakMap,Ti=new WeakMap,Ri=new WeakMap,vf=new WeakMap,Dc=new WeakMap,Ic=new WeakMap,Wo=new WeakMap,Ho=new WeakMap,Mi=new WeakMap,Fc=new WeakMap,Dt=new WeakSet,au=function(t){pt(this,Dt,Wy).call(this);let r=K(this,St).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(vn)),r},$y=function(){pt(this,Dt,qy).call(this);const t=Yi(this.options.staleTime,K(this,St));if(tl||K(this,pn).isStale||!Oy(t))return;const n=yE(K(this,pn).dataUpdatedAt,t)+1;Me(this,Wo,setTimeout(()=>{K(this,pn).isStale||this.updateResult()},n))},zy=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(K(this,St)):this.options.refetchInterval)??!1},Uy=function(t){pt(this,Dt,Vy).call(this),Me(this,Mi,t),!(tl||us(this.options.enabled,K(this,St))===!1||!Oy(K(this,Mi))||K(this,Mi)===0)&&Me(this,Ho,setInterval(()=>{(this.options.refetchIntervalInBackground||Yw.isFocused())&&pt(this,Dt,au).call(this)},K(this,Mi)))},By=function(){pt(this,Dt,$y).call(this),pt(this,Dt,Uy).call(this,pt(this,Dt,zy).call(this))},qy=function(){K(this,Wo)&&(clearTimeout(K(this,Wo)),Me(this,Wo,void 0))},Vy=function(){K(this,Ho)&&(clearInterval(K(this,Ho)),Me(this,Ho,void 0))},Wy=function(){const t=K(this,Tn).getQueryCache().build(K(this,Tn),this.options);if(t===K(this,St))return;const r=K(this,St);Me(this,St,t),Me(this,gf,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},RE=function(t){$r.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(K(this,pn))}),K(this,Tn).getQueryCache().notify({query:K(this,St),type:"observerResultsUpdated"})})},MS);function u5(e,t){return us(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function H_(e,t){return u5(e,t)||e.state.data!==void 0&&Hy(e,t,t.refetchOnMount)}function Hy(e,t,r){if(us(t.enabled,e)!==!1&&Yi(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&Qw(e,t)}return!1}function K_(e,t,r,n){return(e!==t||us(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&Qw(e,r)}function Qw(e,t){return us(t.enabled,e)!==!1&&e.isStaleByTime(Yi(t.staleTime,e))}function f5(e,t){return!Vm(e.getCurrentResult(),t)}var h5=class extends TE{constructor(e,t){super(e,t)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(e){super.setOptions({...e,behavior:Hm()})}getOptimisticResult(e){return e.behavior=Hm(),super.getOptimisticResult(e)}fetchNextPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"forward"}}})}fetchPreviousPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"backward"}}})}createResult(e,t){var w,v;const{state:r}=e,n=super.createResult(e,t),{isFetching:a,isRefetching:i,isError:o,isRefetchError:l}=n,c=(v=(w=r.fetchMeta)==null?void 0:w.fetchMore)==null?void 0:v.direction,d=o&&c==="forward",u=a&&c==="forward",h=o&&c==="backward",m=a&&c==="backward";return{...n,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:l5(t,r.data),hasPreviousPage:c5(t,r.data),isFetchNextPageError:d,isFetchingNextPage:u,isFetchPreviousPageError:h,isFetchingPreviousPage:m,isRefetchError:l&&!d&&!h,isRefetching:i&&!u&&!m}}},Ai,Oi,Rn,$a,Ya,om,Ky,AS,m5=(AS=class extends hd{constructor(r,n){super();Qe(this,Ya);Qe(this,Ai);Qe(this,Oi);Qe(this,Rn);Qe(this,$a);Me(this,Ai,r),this.setOptions(n),this.bindMethods(),pt(this,Ya,om).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var a;const n=this.options;this.options=K(this,Ai).defaultMutationOptions(r),Vm(this.options,n)||K(this,Ai).getMutationCache().notify({type:"observerOptionsUpdated",mutation:K(this,Rn),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&rl(n.mutationKey)!==rl(this.options.mutationKey)?this.reset():((a=K(this,Rn))==null?void 0:a.state.status)==="pending"&&K(this,Rn).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=K(this,Rn))==null||r.removeObserver(this)}onMutationUpdate(r){pt(this,Ya,om).call(this),pt(this,Ya,Ky).call(this,r)}getCurrentResult(){return K(this,Oi)}reset(){var r;(r=K(this,Rn))==null||r.removeObserver(this),Me(this,Rn,void 0),pt(this,Ya,om).call(this),pt(this,Ya,Ky).call(this)}mutate(r,n){var a;return Me(this,$a,n),(a=K(this,Rn))==null||a.removeObserver(this),Me(this,Rn,K(this,Ai).getMutationCache().build(K(this,Ai),this.options)),K(this,Rn).addObserver(this),K(this,Rn).execute(r)}},Ai=new WeakMap,Oi=new WeakMap,Rn=new WeakMap,$a=new WeakMap,Ya=new WeakSet,om=function(){var n;const r=((n=K(this,Rn))==null?void 0:n.state)??EE();Me(this,Oi,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},Ky=function(r){$r.batch(()=>{var n,a,i,o,l,c,d,u;if(K(this,$a)&&this.hasListeners()){const h=K(this,Oi).variables,m=K(this,Oi).context;(r==null?void 0:r.type)==="success"?((a=(n=K(this,$a)).onSuccess)==null||a.call(n,r.data,h,m),(o=(i=K(this,$a)).onSettled)==null||o.call(i,r.data,null,h,m)):(r==null?void 0:r.type)==="error"&&((c=(l=K(this,$a)).onError)==null||c.call(l,r.error,h,m),(u=(d=K(this,$a)).onSettled)==null||u.call(d,void 0,r.error,h,m))}this.listeners.forEach(h=>{h(K(this,Oi))})})},AS),ME=f.createContext(void 0),is=e=>{const t=f.useContext(ME);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},p5=({client:e,children:t})=>(f.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),s.jsx(ME.Provider,{value:e,children:t})),AE=f.createContext(!1),g5=()=>f.useContext(AE);AE.Provider;function v5(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var x5=f.createContext(v5()),y5=()=>f.useContext(x5),w5=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},b5=e=>{f.useEffect(()=>{e.clearReset()},[e])},j5=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(a&&e.data===void 0||jE(r,[e.error,n])),_5=e=>{if(e.suspense){const t=n=>n==="static"?n:Math.max(n??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...n)=>t(r(...n)):t(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},N5=(e,t)=>e.isLoading&&e.isFetching&&!t,S5=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,G_=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function OE(e,t,r){var h,m,p,w,v;const n=g5(),a=y5(),i=is(),o=i.defaultQueryOptions(e);(m=(h=i.getDefaultOptions().queries)==null?void 0:h._experimental_beforeQuery)==null||m.call(h,o),o._optimisticResults=n?"isRestoring":"optimistic",_5(o),w5(o,a),b5(a);const l=!i.getQueryCache().get(o.queryHash),[c]=f.useState(()=>new t(i,o)),d=c.getOptimisticResult(o),u=!n&&e.subscribed!==!1;if(f.useSyncExternalStore(f.useCallback(g=>{const y=u?c.subscribe($r.batchCalls(g)):vn;return c.updateResult(),y},[c,u]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),f.useEffect(()=>{c.setOptions(o)},[o,c]),S5(o,d))throw G_(o,c,a);if(j5({result:d,errorResetBoundary:a,throwOnError:o.throwOnError,query:i.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw d.error;if((w=(p=i.getDefaultOptions().queries)==null?void 0:p._experimental_afterQuery)==null||w.call(p,o,d),o.experimental_prefetchInRender&&!tl&&N5(d,n)){const g=l?G_(o,c,a):(v=i.getQueryCache().get(o.queryHash))==null?void 0:v.promise;g==null||g.catch(vn).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?d:c.trackResult(d)}function Ze(e,t){return OE(e,TE)}function ni(e,t){const r=is(),[n]=f.useState(()=>new m5(r,e));f.useEffect(()=>{n.setOptions(e)},[n,e]);const a=f.useSyncExternalStore(f.useCallback(o=>n.subscribe($r.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=f.useCallback((o,l)=>{n.mutate(o,l).catch(vn)},[n]);if(a.error&&jE(n.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:i,mutateAsync:a.mutate}}function bs(e,t){return OE(e,h5)}/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ju(){return Ju=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ju.apply(this,arguments)}var Fi;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Fi||(Fi={}));const Y_="popstate";function C5(e){e===void 0&&(e={});function t(n,a){let{pathname:i,search:o,hash:l}=n.location;return Gy("",{pathname:i,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:Km(a)}return E5(t,r,null,e)}function hr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function DE(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function k5(){return Math.random().toString(36).substr(2,8)}function Q_(e,t){return{usr:e.state,key:e.key,idx:t}}function Gy(e,t,r,n){return r===void 0&&(r=null),Ju({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?md(t):t,{state:r,key:t&&t.key||n||k5()})}function Km(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function md(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function E5(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:i=!1}=n,o=a.history,l=Fi.Pop,c=null,d=u();d==null&&(d=0,o.replaceState(Ju({},o.state,{idx:d}),""));function u(){return(o.state||{idx:null}).idx}function h(){l=Fi.Pop;let g=u(),y=g==null?null:g-d;d=g,c&&c({action:l,location:v.location,delta:y})}function m(g,y){l=Fi.Push;let x=Gy(v.location,g,y);d=u()+1;let b=Q_(x,d),_=v.createHref(x);try{o.pushState(b,"",_)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;a.location.assign(_)}i&&c&&c({action:l,location:v.location,delta:1})}function p(g,y){l=Fi.Replace;let x=Gy(v.location,g,y);d=u();let b=Q_(x,d),_=v.createHref(x);o.replaceState(b,"",_),i&&c&&c({action:l,location:v.location,delta:0})}function w(g){let y=a.location.origin!=="null"?a.location.origin:a.location.href,x=typeof g=="string"?g:Km(g);return x=x.replace(/ $/,"%20"),hr(y,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,y)}let v={get action(){return l},get location(){return e(a,o)},listen(g){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(Y_,h),c=g,()=>{a.removeEventListener(Y_,h),c=null}},createHref(g){return t(a,g)},createURL:w,encodeLocation(g){let y=w(g);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:m,replace:p,go(g){return o.go(g)}};return v}var X_;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(X_||(X_={}));function P5(e,t,r){return r===void 0&&(r="/"),T5(e,t,r,!1)}function T5(e,t,r,n){let a=typeof t=="string"?md(t):t,i=Gc(a.pathname||"/",r);if(i==null)return null;let o=IE(e);R5(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=B5(i);l=z5(o[c],d,n)}return l}function IE(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(hr(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let d=Qi([n,c.relativePath]),u=r.concat(c);i.children&&i.children.length>0&&(hr(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),IE(i.children,t,u,d)),!(i.path==null&&!i.index)&&t.push({path:d,score:L5(d,i.index),routesMeta:u})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))a(i,o);else for(let c of FE(i.path))a(i,o,c)}),t}function FE(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let o=FE(n.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),a&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function R5(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:$5(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const M5=/^:[\w-]+$/,A5=3,O5=2,D5=1,I5=10,F5=-2,Z_=e=>e==="*";function L5(e,t){let r=e.split("/"),n=r.length;return r.some(Z_)&&(n+=F5),t&&(n+=O5),r.filter(a=>!Z_(a)).reduce((a,i)=>a+(M5.test(i)?A5:i===""?D5:I5),n)}function $5(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function z5(e,t,r){let{routesMeta:n}=e,a={},i="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],d=l===n.length-1,u=i==="/"?t:t.slice(i.length)||"/",h=Gm({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),m=c.route;if(!h&&d&&r&&!n[n.length-1].route.index&&(h=Gm({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},u)),!h)return null;Object.assign(a,h.params),o.push({params:a,pathname:Qi([i,h.pathname]),pathnameBase:H5(Qi([i,h.pathnameBase])),route:m}),h.pathnameBase!=="/"&&(i=Qi([i,h.pathnameBase]))}return o}function Gm(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=U5(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((d,u,h)=>{let{paramName:m,isOptional:p}=u;if(m==="*"){let v=l[h]||"";o=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const w=l[h];return p&&!w?d[m]=void 0:d[m]=(w||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:e}}function U5(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),DE(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function B5(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return DE(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Gc(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function q5(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?md(e):e;return{pathname:r?r.startsWith("/")?r:V5(r,t):t,search:K5(n),hash:G5(a)}}function V5(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function Qv(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function W5(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Xw(e,t){let r=W5(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Zw(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=md(e):(a=Ju({},e),hr(!a.pathname||!a.pathname.includes("?"),Qv("?","pathname","search",a)),hr(!a.pathname||!a.pathname.includes("#"),Qv("#","pathname","hash",a)),hr(!a.search||!a.search.includes("#"),Qv("#","search","hash",a)));let i=e===""||a.pathname==="",o=i?"/":a.pathname,l;if(o==null)l=r;else{let h=t.length-1;if(!n&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),h-=1;a.pathname=m.join("/")}l=h>=0?t[h]:"/"}let c=q5(a,l),d=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}const Qi=e=>e.join("/").replace(/\/\/+/g,"/"),H5=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),K5=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,G5=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Y5(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const LE=["post","put","patch","delete"];new Set(LE);const Q5=["get",...LE];new Set(Q5);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ef(){return ef=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ef.apply(this,arguments)}const sg=f.createContext(null),$E=f.createContext(null),oi=f.createContext(null),ag=f.createContext(null),ba=f.createContext({outlet:null,matches:[],isDataRoute:!1}),zE=f.createContext(null);function X5(e,t){let{relative:r}=t===void 0?{}:t;pd()||hr(!1);let{basename:n,navigator:a}=f.useContext(oi),{hash:i,pathname:o,search:l}=ig(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:Qi([n,o])),a.createHref({pathname:c,search:l,hash:i})}function pd(){return f.useContext(ag)!=null}function Ys(){return pd()||hr(!1),f.useContext(ag).location}function UE(e){f.useContext(oi).static||f.useLayoutEffect(e)}function Rr(){let{isDataRoute:e}=f.useContext(ba);return e?f6():Z5()}function Z5(){pd()||hr(!1);let e=f.useContext(sg),{basename:t,future:r,navigator:n}=f.useContext(oi),{matches:a}=f.useContext(ba),{pathname:i}=Ys(),o=JSON.stringify(Xw(a,r.v7_relativeSplatPath)),l=f.useRef(!1);return UE(()=>{l.current=!0}),f.useCallback(function(d,u){if(u===void 0&&(u={}),!l.current)return;if(typeof d=="number"){n.go(d);return}let h=Zw(d,JSON.parse(o),i,u.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Qi([t,h.pathname])),(u.replace?n.replace:n.push)(h,u.state,u)},[t,n,o,i,e])}const J5=f.createContext(null);function e6(e){let t=f.useContext(ba).outlet;return t&&f.createElement(J5.Provider,{value:e},t)}function Jw(){let{matches:e}=f.useContext(ba),t=e[e.length-1];return t?t.params:{}}function ig(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=f.useContext(oi),{matches:a}=f.useContext(ba),{pathname:i}=Ys(),o=JSON.stringify(Xw(a,n.v7_relativeSplatPath));return f.useMemo(()=>Zw(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function t6(e,t){return r6(e,t)}function r6(e,t,r,n){pd()||hr(!1);let{navigator:a}=f.useContext(oi),{matches:i}=f.useContext(ba),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let d=Ys(),u;if(t){var h;let g=typeof t=="string"?md(t):t;c==="/"||(h=g.pathname)!=null&&h.startsWith(c)||hr(!1),u=g}else u=d;let m=u.pathname||"/",p=m;if(c!=="/"){let g=c.replace(/^\//,"").split("/");p="/"+m.replace(/^\//,"").split("/").slice(g.length).join("/")}let w=P5(e,{pathname:p}),v=o6(w&&w.map(g=>Object.assign({},g,{params:Object.assign({},l,g.params),pathname:Qi([c,a.encodeLocation?a.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?c:Qi([c,a.encodeLocation?a.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),i,r,n);return t&&v?f.createElement(ag.Provider,{value:{location:ef({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Fi.Pop}},v):v}function n6(){let e=u6(),t=Y5(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return f.createElement(f.Fragment,null,f.createElement("h2",null,"Unexpected Application Error!"),f.createElement("h3",{style:{fontStyle:"italic"}},t),r?f.createElement("pre",{style:a},r):null,null)}const s6=f.createElement(n6,null);class a6 extends f.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?f.createElement(ba.Provider,{value:this.props.routeContext},f.createElement(zE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function i6(e){let{routeContext:t,match:r,children:n}=e,a=f.useContext(sg);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),f.createElement(ba.Provider,{value:t},n)}function o6(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(a=r)==null?void 0:a.errors;if(l!=null){let u=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);u>=0||hr(!1),o=o.slice(0,Math.min(o.length,u+1))}let c=!1,d=-1;if(r&&n&&n.v7_partialHydration)for(let u=0;u<o.length;u++){let h=o[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(d=u),h.route.id){let{loaderData:m,errors:p}=r,w=h.route.loader&&m[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||w){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((u,h,m)=>{let p,w=!1,v=null,g=null;r&&(p=l&&h.route.id?l[h.route.id]:void 0,v=h.route.errorElement||s6,c&&(d<0&&m===0?(w=!0,g=null):d===m&&(w=!0,g=h.route.hydrateFallbackElement||null)));let y=t.concat(o.slice(0,m+1)),x=()=>{let b;return p?b=v:w?b=g:h.route.Component?b=f.createElement(h.route.Component,null):h.route.element?b=h.route.element:b=u,f.createElement(i6,{match:h,routeContext:{outlet:u,matches:y,isDataRoute:r!=null},children:b})};return r&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?f.createElement(a6,{location:r.location,revalidation:r.revalidation,component:v,error:p,children:x(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):x()},null)}var BE=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(BE||{}),Ym=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Ym||{});function l6(e){let t=f.useContext(sg);return t||hr(!1),t}function c6(e){let t=f.useContext($E);return t||hr(!1),t}function d6(e){let t=f.useContext(ba);return t||hr(!1),t}function qE(e){let t=d6(),r=t.matches[t.matches.length-1];return r.route.id||hr(!1),r.route.id}function u6(){var e;let t=f.useContext(zE),r=c6(Ym.UseRouteError),n=qE(Ym.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function f6(){let{router:e}=l6(BE.UseNavigateStable),t=qE(Ym.UseNavigateStable),r=f.useRef(!1);return UE(()=>{r.current=!0}),f.useCallback(function(a,i){i===void 0&&(i={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,ef({fromRouteId:t},i)))},[e,t])}function h6(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Yy(e){let{to:t,replace:r,state:n,relative:a}=e;pd()||hr(!1);let{future:i,static:o}=f.useContext(oi),{matches:l}=f.useContext(ba),{pathname:c}=Ys(),d=Rr(),u=Zw(t,Xw(l,i.v7_relativeSplatPath),c,a==="path"),h=JSON.stringify(u);return f.useEffect(()=>d(JSON.parse(h),{replace:r,state:n,relative:a}),[d,h,a,r,n]),null}function VE(e){return e6(e.context)}function bt(e){hr(!1)}function m6(e){let{basename:t="/",children:r=null,location:n,navigationType:a=Fi.Pop,navigator:i,static:o=!1,future:l}=e;pd()&&hr(!1);let c=t.replace(/^\/*/,"/"),d=f.useMemo(()=>({basename:c,navigator:i,static:o,future:ef({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof n=="string"&&(n=md(n));let{pathname:u="/",search:h="",hash:m="",state:p=null,key:w="default"}=n,v=f.useMemo(()=>{let g=Gc(u,c);return g==null?null:{location:{pathname:g,search:h,hash:m,state:p,key:w},navigationType:a}},[c,u,h,m,p,w,a]);return v==null?null:f.createElement(oi.Provider,{value:d},f.createElement(ag.Provider,{children:r,value:v}))}function p6(e){let{children:t,location:r}=e;return t6(Qy(t),r)}new Promise(()=>{});function Qy(e,t){t===void 0&&(t=[]);let r=[];return f.Children.forEach(e,(n,a)=>{if(!f.isValidElement(n))return;let i=[...t,a];if(n.type===f.Fragment){r.push.apply(r,Qy(n.props.children,i));return}n.type!==bt&&hr(!1),!n.props.index||!n.props.children||hr(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Qy(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qm(){return Qm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qm.apply(this,arguments)}function WE(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function g6(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function v6(e,t){return e.button===0&&(!t||t==="_self")&&!g6(e)}const x6=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],y6=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],w6="6";try{window.__reactRouterVersion=w6}catch{}const b6=f.createContext({isTransitioning:!1}),j6="startTransition",J_=I0[j6];function _6(e){let{basename:t,children:r,future:n,window:a}=e,i=f.useRef();i.current==null&&(i.current=C5({window:a,v5Compat:!0}));let o=i.current,[l,c]=f.useState({action:o.action,location:o.location}),{v7_startTransition:d}=n||{},u=f.useCallback(h=>{d&&J_?J_(()=>c(h)):c(h)},[c,d]);return f.useLayoutEffect(()=>o.listen(u),[o,u]),f.useEffect(()=>h6(n),[n]),f.createElement(m6,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const N6=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",S6=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Yt=f.forwardRef(function(t,r){let{onClick:n,relative:a,reloadDocument:i,replace:o,state:l,target:c,to:d,preventScrollReset:u,viewTransition:h}=t,m=WE(t,x6),{basename:p}=f.useContext(oi),w,v=!1;if(typeof d=="string"&&S6.test(d)&&(w=d,N6))try{let b=new URL(window.location.href),_=d.startsWith("//")?new URL(b.protocol+d):new URL(d),N=Gc(_.pathname,p);_.origin===b.origin&&N!=null?d=N+_.search+_.hash:v=!0}catch{}let g=X5(d,{relative:a}),y=k6(d,{replace:o,state:l,target:c,preventScrollReset:u,relative:a,viewTransition:h});function x(b){n&&n(b),b.defaultPrevented||y(b)}return f.createElement("a",Qm({},m,{href:w||g,onClick:v||i?n:x,ref:r,target:c}))}),Xm=f.forwardRef(function(t,r){let{"aria-current":n="page",caseSensitive:a=!1,className:i="",end:o=!1,style:l,to:c,viewTransition:d,children:u}=t,h=WE(t,y6),m=ig(c,{relative:h.relative}),p=Ys(),w=f.useContext($E),{navigator:v,basename:g}=f.useContext(oi),y=w!=null&&E6(m)&&d===!0,x=v.encodeLocation?v.encodeLocation(m).pathname:m.pathname,b=p.pathname,_=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;a||(b=b.toLowerCase(),_=_?_.toLowerCase():null,x=x.toLowerCase()),_&&g&&(_=Gc(_,g)||_);const N=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let P=b===x||!o&&b.startsWith(x)&&b.charAt(N)==="/",S=_!=null&&(_===x||!o&&_.startsWith(x)&&_.charAt(x.length)==="/"),T={isActive:P,isPending:S,isTransitioning:y},U=P?n:void 0,q;typeof i=="function"?q=i(T):q=[i,P?"active":null,S?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let re=typeof l=="function"?l(T):l;return f.createElement(Yt,Qm({},h,{"aria-current":U,className:q,ref:r,style:re,to:c,viewTransition:d}),typeof u=="function"?u(T):u)});var Xy;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Xy||(Xy={}));var eN;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(eN||(eN={}));function C6(e){let t=f.useContext(sg);return t||hr(!1),t}function k6(e,t){let{target:r,replace:n,state:a,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,c=Rr(),d=Ys(),u=ig(e,{relative:o});return f.useCallback(h=>{if(v6(h,r)){h.preventDefault();let m=n!==void 0?n:Km(d)===Km(u);c(e,{replace:m,state:a,preventScrollReset:i,relative:o,viewTransition:l})}},[d,c,u,n,a,r,e,i,o,l])}function E6(e,t){t===void 0&&(t={});let r=f.useContext(b6);r==null&&hr(!1);let{basename:n}=C6(Xy.useViewTransitionState),a=ig(e,{relative:t.relative});if(!r.isTransitioning)return!1;let i=Gc(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=Gc(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Gm(a.pathname,o)!=null||Gm(a.pathname,i)!=null}const Yc=wl("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-0 focus-visible:ring-offset-0 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-white hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),O=f.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...a},i)=>{const o=n?xl:"button";return s.jsx(o,{className:le(Yc({variant:t,size:r,className:e})),ref:i,...a})});O.displayName="Button";function eb(){const{theme:e,setTheme:t,resolvedTheme:r}=as(),[n,a]=f.useState(!1);f.useEffect(()=>a(!0),[]);const i=(n?r:e)==="dark";return s.jsx(O,{variant:"ghost",size:"icon","aria-label":"Alternar tema",onClick:()=>t(i?"light":"dark"),className:"rounded-full",children:i?s.jsx(Gp,{className:"h-4 w-4"}):s.jsx(Kp,{className:"h-4 w-4"})})}const Xt=({title:e,description:t,canonical:r})=>(f.useEffect(()=>{if(e&&(document.title=e),t){let i=document.querySelector('meta[name="description"]');i||(i=document.createElement("meta"),i.setAttribute("name","description"),document.head.appendChild(i)),i.setAttribute("content",t)}const n=r||window.location.href;let a=document.querySelector('link[rel="canonical"]');a||(a=document.createElement("link"),a.setAttribute("rel","canonical"),document.head.appendChild(a)),a.setAttribute("href",n)},[e,t,r]),null),P6="modulepreload",T6=function(e){return"/"+e},tN={},bl=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));a=Promise.allSettled(r.map(c=>{if(c=T6(c),c in tN)return;tN[c]=!0;const d=c.endsWith(".css"),u=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const h=document.createElement("link");if(h.rel=d?"stylesheet":P6,d||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),d)return new Promise((m,p)=>{h.addEventListener("load",m),h.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return a.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})},R6=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>bl(async()=>{const{default:n}=await Promise.resolve().then(()=>gd);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class tb extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class M6 extends tb{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class rN extends tb{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class nN extends tb{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Zy;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Zy||(Zy={}));var A6=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(h){o(h)}}function c(u){try{d(n.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};class O6{constructor(t,{headers:r={},customFetch:n,region:a=Zy.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=R6(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return A6(this,void 0,void 0,function*(){try{const{headers:a,method:i,body:o}=r;let l={},{region:c}=r;c||(c=this.region);const d=new URL(`${this.url}/${t}`);c&&c!=="any"&&(l["x-region"]=c,d.searchParams.set("forceFunctionRegion",c));let u;o&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(l["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(l["Content-Type"]="application/json",u=JSON.stringify(o)));const h=yield this.fetch(d.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),a),body:u}).catch(v=>{throw new M6(v)}),m=h.headers.get("x-relay-error");if(m&&m==="true")throw new rN(h);if(!h.ok)throw new nN(h);let p=((n=h.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),w;return p==="application/json"?w=yield h.json():p==="application/octet-stream"?w=yield h.blob():p==="text/event-stream"?w=h:p==="multipart/form-data"?w=yield h.formData():w=yield h.text(),{data:w,error:null,response:h}}catch(a){return{data:null,error:a,response:a instanceof nN||a instanceof rN?a.context:void 0}}})}}var Dn={},rb={},og={},kf={},lg={},cg={},D6=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Qc=D6();const I6=Qc.fetch,HE=Qc.fetch.bind(Qc),KE=Qc.Headers,F6=Qc.Request,L6=Qc.Response,gd=Object.freeze(Object.defineProperty({__proto__:null,Headers:KE,Request:F6,Response:L6,default:HE,fetch:I6},Symbol.toStringTag,{value:"Module"})),$6=aO(gd);var dg={};Object.defineProperty(dg,"__esModule",{value:!0});let z6=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};dg.default=z6;var GE=xs&&xs.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(cg,"__esModule",{value:!0});const U6=GE($6),B6=GE(dg);let q6=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=U6.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let a=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,c;let d=null,u=null,h=null,m=i.status,p=i.statusText;if(i.ok){if(this.method!=="HEAD"){const y=await i.text();y===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=y:u=JSON.parse(y))}const v=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),g=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");v&&g&&g.length>1&&(h=parseInt(g[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(d={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,h=null,m=406,p="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{const v=await i.text();try{d=JSON.parse(v),Array.isArray(d)&&i.status===404&&(u=[],d=null,m=200,p="OK")}catch{i.status===404&&v===""?(m=204,p="No Content"):d={message:v}}if(d&&this.isMaybeSingle&&(!((c=d==null?void 0:d.details)===null||c===void 0)&&c.includes("0 rows"))&&(d=null,m=200,p="OK"),d&&this.shouldThrowOnError)throw new B6.default(d)}return{error:d,data:u,count:h,status:m,statusText:p}});return this.shouldThrowOnError||(a=a.catch(i=>{var o,l,c;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),a.then(t,r)}returns(){return this}overrideTypes(){return this}};cg.default=q6;var V6=xs&&xs.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(lg,"__esModule",{value:!0});const W6=V6(cg);let H6=class extends W6.default{select(t){let r=!1;const n=(t??"*").split("").map(a=>/\s/.test(a)&&!r?"":(a==='"'&&(r=!r),a)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:a,referencedTable:i=a}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const a=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:a=n}={}){const i=typeof a>"u"?"offset":`${a}.offset`,o=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:a=!1,wal:i=!1,format:o="text"}={}){var l;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,a?"buffers":null,i?"wal":null].filter(Boolean).join("|"),d=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${d}"; options=${c};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};lg.default=H6;var K6=xs&&xs.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(kf,"__esModule",{value:!0});const G6=K6(lg);let Y6=class extends G6.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:a}={}){let i="";a==="plain"?i="pl":a==="phrase"?i="ph":a==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${o}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const a=n?`${n}.or`:"or";return this.url.searchParams.append(a,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};kf.default=Y6;var Q6=xs&&xs.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(og,"__esModule",{value:!0});const Yd=Q6(kf);let X6=class{constructor(t,{headers:r={},schema:n,fetch:a}){this.url=t,this.headers=r,this.schema=n,this.fetch=a}select(t,{head:r=!1,count:n}={}){const a=r?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),n&&(this.headers.Prefer=`count=${n}`),new Yd.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const a="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const o=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new Yd.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:a,defaultToNull:i=!0}={}){const o="POST",l=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&l.push(this.headers.Prefer),a&&l.push(`count=${a}`),i||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const c=t.reduce((d,u)=>d.concat(Object.keys(u)),[]);if(c.length>0){const d=[...new Set(c)].map(u=>`"${u}"`);this.url.searchParams.set("columns",d.join(","))}}return new Yd.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",a=[];return this.headers.Prefer&&a.push(this.headers.Prefer),r&&a.push(`count=${r}`),this.headers.Prefer=a.join(","),new Yd.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new Yd.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};og.default=X6;var ug={},fg={};Object.defineProperty(fg,"__esModule",{value:!0});fg.version=void 0;fg.version="0.0.0-automated";Object.defineProperty(ug,"__esModule",{value:!0});ug.DEFAULT_HEADERS=void 0;const Z6=fg;ug.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Z6.version}`};var YE=xs&&xs.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(rb,"__esModule",{value:!0});const J6=YE(og),e8=YE(kf),t8=ug;let r8=class QE{constructor(t,{headers:r={},schema:n,fetch:a}={}){this.url=t,this.headers=Object.assign(Object.assign({},t8.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=a}from(t){const r=new URL(`${this.url}/${t}`);return new J6.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new QE(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:a=!1,count:i}={}){let o;const l=new URL(`${this.url}/rpc/${t}`);let c;n||a?(o=n?"HEAD":"GET",Object.entries(r).filter(([u,h])=>h!==void 0).map(([u,h])=>[u,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([u,h])=>{l.searchParams.append(u,h)})):(o="POST",c=r);const d=Object.assign({},this.headers);return i&&(d.Prefer=`count=${i}`),new e8.default({method:o,url:l,headers:d,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};rb.default=r8;var vd=xs&&xs.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Dn,"__esModule",{value:!0});Dn.PostgrestError=Dn.PostgrestBuilder=Dn.PostgrestTransformBuilder=Dn.PostgrestFilterBuilder=Dn.PostgrestQueryBuilder=Dn.PostgrestClient=void 0;const XE=vd(rb);Dn.PostgrestClient=XE.default;const ZE=vd(og);Dn.PostgrestQueryBuilder=ZE.default;const JE=vd(kf);Dn.PostgrestFilterBuilder=JE.default;const eP=vd(lg);Dn.PostgrestTransformBuilder=eP.default;const tP=vd(cg);Dn.PostgrestBuilder=tP.default;const rP=vd(dg);Dn.PostgrestError=rP.default;var n8=Dn.default={PostgrestClient:XE.default,PostgrestQueryBuilder:ZE.default,PostgrestFilterBuilder:JE.default,PostgrestTransformBuilder:eP.default,PostgrestBuilder:tP.default,PostgrestError:rP.default};const{PostgrestClient:s8,PostgrestQueryBuilder:YY,PostgrestFilterBuilder:QY,PostgrestTransformBuilder:XY,PostgrestBuilder:ZY,PostgrestError:JY}=n8;class a8{static dynamicRequire(t){try{return typeof process<"u"&&process.versions&&process.versions.node&&typeof require<"u"?require(t):null}catch{return null}}static detectEnvironment(){var t,r;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const n=parseInt(process.versions.node.split(".")[0]);if(n>=22)try{if(typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};const a=this.dynamicRequire("undici");if(a&&a.WebSocket)return{type:"native",constructor:a.WebSocket};throw new Error("undici not available")}catch{return{type:"unsupported",error:`Node.js ${n} detected but native WebSocket not found.`,workaround:'Install the "ws" package or check your Node.js installation.'}}try{const a=this.dynamicRequire("ws");if(a)return{type:"ws",constructor:(r=a.WebSocket)!==null&&r!==void 0?r:a};throw new Error("ws package not available")}catch{return{type:"unsupported",error:`Node.js ${n} detected without WebSocket support.`,workaround:'Install the "ws" package: npm install ws'}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const i8="2.15.0",o8=`realtime-js/${i8}`,l8="1.0.0",Jy=1e4,c8=1e3,d8=100;var Nu;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Nu||(Nu={}));var Or;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Or||(Or={}));var Fs;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Fs||(Fs={}));var e0;(function(e){e.websocket="websocket"})(e0||(e0={}));var Ao;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Ao||(Ao={}));class u8{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const a=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(t.slice(o,o+a));o=o+a;const c=n.decode(t.slice(o,o+i));o=o+i;const d=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:c,payload:d}}}class nP{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Kt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Kt||(Kt={}));const sN=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((i,o)=>(i[o]=f8(o,e,t,a),i),{})},f8=(e,t,r,n)=>{const a=t.find(l=>l.name===e),i=a==null?void 0:a.type,o=r[e];return i&&!n.includes(i)?sP(i,o):t0(o)},sP=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return g8(t,r)}switch(e){case Kt.bool:return h8(t);case Kt.float4:case Kt.float8:case Kt.int2:case Kt.int4:case Kt.int8:case Kt.numeric:case Kt.oid:return m8(t);case Kt.json:case Kt.jsonb:return p8(t);case Kt.timestamp:return v8(t);case Kt.abstime:case Kt.date:case Kt.daterange:case Kt.int4range:case Kt.int8range:case Kt.money:case Kt.reltime:case Kt.text:case Kt.time:case Kt.timestamptz:case Kt.timetz:case Kt.tsrange:case Kt.tstzrange:return t0(t);default:return t0(t)}},t0=e=>e,h8=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},m8=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},p8=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},g8=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>sP(t,l))}return e},v8=e=>typeof e=="string"?e.replace(" ","T"):e,aP=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class Xv{constructor(t,r,n={},a=Jy){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var aN;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(aN||(aN={}));class Su{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Su.syncState(this.state,a,i,o),this.pendingDiffs.forEach(c=>{this.state=Su.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Su.syncDiff(this.state,a,i,o),l())}),this.onJoin((a,i,o)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:o})}),this.onLeave((a,i,o)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const i=this.cloneDeep(t),o=this.transformState(r),l={},c={};return this.map(i,(d,u)=>{o[d]||(c[d]=u)}),this.map(o,(d,u)=>{const h=i[d];if(h){const m=u.map(g=>g.presence_ref),p=h.map(g=>g.presence_ref),w=u.filter(g=>p.indexOf(g.presence_ref)<0),v=h.filter(g=>m.indexOf(g.presence_ref)<0);w.length>0&&(l[d]=w),v.length>0&&(c[d]=v)}else l[d]=u}),this.syncDiff(i,{joins:l,leaves:c},n,a)}static syncDiff(t,r,n,a){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(i,(l,c)=>{var d;const u=(d=t[l])!==null&&d!==void 0?d:[];if(t[l]=this.cloneDeep(c),u.length>0){const h=t[l].map(p=>p.presence_ref),m=u.filter(p=>h.indexOf(p.presence_ref)<0);t[l].unshift(...m)}n(l,u,c)}),this.map(o,(l,c)=>{let d=t[l];if(!d)return;const u=c.map(h=>h.presence_ref);d=d.filter(h=>u.indexOf(h.presence_ref)<0),t[l]=d,a(l,d,c),d.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var iN;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(iN||(iN={}));var Cu;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Cu||(Cu={}));var Da;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Da||(Da={}));class nb{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Or.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Xv(this,Fs.join,this.params,this.timeout),this.rejoinTimer=new nP(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Or.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Or.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Or.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Or.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Or.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Fs.reply,{},(a,i)=>{this._trigger(this._replyEventName(i),a)}),this.presence=new Su(this),this.broadcastEndpointURL=aP(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Or.closed){const{config:{broadcast:i,presence:o,private:l}}=this.params,c=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(m=>m.filter))!==null&&a!==void 0?a:[],d=!!this.bindings[Cu.PRESENCE]&&this.bindings[Cu.PRESENCE].length>0,u={},h={broadcast:i,presence:Object.assign(Object.assign({},o),{enabled:d}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(u.access_token=this.socket.accessTokenValue),this._onError(m=>t==null?void 0:t(Da.CHANNEL_ERROR,m)),this._onClose(()=>t==null?void 0:t(Da.CLOSED)),this.updateJoinPayload(Object.assign({config:h},u)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:m})=>{var p;if(this.socket.setAuth(),m===void 0){t==null||t(Da.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,v=(p=w==null?void 0:w.length)!==null&&p!==void 0?p:0,g=[];for(let y=0;y<v;y++){const x=w[y],{filter:{event:b,schema:_,table:N,filter:P}}=x,S=m&&m[y];if(S&&S.event===b&&S.schema===_&&S.table===N&&S.filter===P)g.push(Object.assign(Object.assign({},x),{id:S.id}));else{this.unsubscribe(),this.state=Or.errored,t==null||t(Da.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,t&&t(Da.SUBSCRIBED);return}}).receive("error",m=>{this.state=Or.errored,t==null||t(Da.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Da.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===Or.joined&&t===Cu.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=d.body)===null||a===void 0?void 0:a.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const d=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),d.receive("ok",()=>i("ok")),d.receive("error",()=>i("error")),d.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Or.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Fs.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new Xv(this,Fs.leave,{},t),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Or.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const a=new AbortController,i=setTimeout(()=>a.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Xv(this,t,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>d8){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,i;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:d,join:u}=Fs;if(n&&[l,c,d,u].indexOf(o)>=0&&n!==this._joinRef())return;let m=this._onMessage(o,r,n);if(r&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(p=>{var w,v,g;return((w=p.filter)===null||w===void 0?void 0:w.event)==="*"||((g=(v=p.filter)===null||v===void 0?void 0:v.event)===null||g===void 0?void 0:g.toLocaleLowerCase())===o}).map(p=>p.callback(m,n)):(i=this.bindings[o])===null||i===void 0||i.filter(p=>{var w,v,g,y,x,b;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const _=p.id,N=(w=p.filter)===null||w===void 0?void 0:w.event;return _&&((v=r.ids)===null||v===void 0?void 0:v.includes(_))&&(N==="*"||(N==null?void 0:N.toLocaleLowerCase())===((g=r.data)===null||g===void 0?void 0:g.type.toLocaleLowerCase()))}else{const _=(x=(y=p==null?void 0:p.filter)===null||y===void 0?void 0:y.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return _==="*"||_===((b=r==null?void 0:r.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof m=="object"&&"ids"in m){const w=m.data,{schema:v,table:g,commit_timestamp:y,type:x,errors:b}=w;m=Object.assign(Object.assign({},{schema:v,table:g,commit_timestamp:y,eventType:x,new:{},old:{},errors:b}),this._getPayloadRecords(w))}p.callback(m,n)})}_isClosed(){return this.state===Or.closed}_isJoined(){return this.state===Or.joined}_isJoining(){return this.state===Or.joining}_isLeaving(){return this.state===Or.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),i={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&nb.isEqual(a.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Fs.close,{},t)}_onError(t){this._on(Fs.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Or.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=sN(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=sN(t.columns,t.old_record)),r}}const oN=()=>{},Th={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},x8=[1e3,2e3,5e3,1e4],y8=1e4,w8=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class b8{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Jy,this.transport=null,this.heartbeatIntervalMs=Th.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=oN,this.ref=0,this.reconnectTimer=null,this.logger=oN,this.conn=null,this.sendBuffer=[],this.serializer=new u8,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>{let i;return a?i=a:typeof fetch>"u"?i=(...o)=>bl(async()=>{const{default:l}=await Promise.resolve().then(()=>gd);return{default:l}},void 0).then(({default:l})=>l(...o)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${e0.websocket}`,this.httpEndpoint=aP(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=a8.createWebSocket(this.endpointURL())}catch(t){throw this._setConnectionState("disconnected"),new Error(`WebSocket not available: ${t.message}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:l8}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Nu.connecting:return Ao.Connecting;case Nu.open:return Ao.Open;case Nu.closing:return Ao.Closing;default:return Ao.Closed}}isConnected(){return this.connectionState()===Ao.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,a=this.getChannels().find(i=>i.topic===n);if(a)return a;{const i=new nb(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:a,ref:i}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,a),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(c8,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Th.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{r.topic==="phoenix"&&r.event==="phx_reply"&&this.heartbeatCallback(r.payload.status==="ok"?"ok":"error"),r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:a,payload:i,ref:o}=r,l=o?`(${o})`:"",c=i.status||"";this.log("receive",`${c} ${n} ${a} ${l}`.trim(),i),this.channels.filter(d=>d._isMember(n)).forEach(d=>d._trigger(a,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Fs.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([w8],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const a={access_token:r,version:o8};r&&n.updateJoinPayload(a),n.joinedOnce&&n._isJoined()&&n._push(Fs.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new nP(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Th.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,a,i,o,l,c,d;if(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:Jy,this.heartbeatIntervalMs=(a=t==null?void 0:t.heartbeatIntervalMs)!==null&&a!==void 0?a:Th.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=t==null?void 0:t.reconnectAfterMs)!==null&&l!==void 0?l:u=>x8[u-1]||y8,this.encode=(c=t==null?void 0:t.encode)!==null&&c!==void 0?c:(u,h)=>h(JSON.stringify(u)),this.decode=(d=t==null?void 0:t.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class sb extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Ur(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class j8 extends sb{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class r0 extends sb{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var _8=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(h){o(h)}}function c(u){try{d(n.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};const iP=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>bl(async()=>{const{default:n}=await Promise.resolve().then(()=>gd);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},N8=()=>_8(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield bl(()=>Promise.resolve().then(()=>gd),void 0)).Response:Response}),n0=e=>{if(Array.isArray(e))return e.map(r=>n0(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[a]=n0(n)}),t},S8=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var jl=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(h){o(h)}}function c(u){try{d(n.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};const Zv=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),C8=(e,t,r)=>jl(void 0,void 0,void 0,function*(){const n=yield N8();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(a=>{const i=e.status||500,o=(a==null?void 0:a.statusCode)||i+"";t(new j8(Zv(a),i,o))}).catch(a=>{t(new r0(Zv(a),a))}):t(new r0(Zv(e),e))}),k8=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?a:(S8(n)?(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,Object.assign(Object.assign({},a),r))};function Ef(e,t,r,n,a,i){return jl(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(r,k8(t,n,a,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>C8(c,l,n))})})}function Zm(e,t,r,n){return jl(this,void 0,void 0,function*(){return Ef(e,"GET",t,r,n)})}function Ia(e,t,r,n,a){return jl(this,void 0,void 0,function*(){return Ef(e,"POST",t,n,a,r)})}function s0(e,t,r,n,a){return jl(this,void 0,void 0,function*(){return Ef(e,"PUT",t,n,a,r)})}function E8(e,t,r,n){return jl(this,void 0,void 0,function*(){return Ef(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function oP(e,t,r,n,a){return jl(this,void 0,void 0,function*(){return Ef(e,"DELETE",t,n,a,r)})}var Pn=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(h){o(h)}}function c(u){try{d(n.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};const P8={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},lN={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class T8{constructor(t,r={},n,a){this.url=t,this.headers=r,this.bucketId=n,this.fetch=iP(a)}uploadOrUpdate(t,r,n,a){return Pn(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},lN),a);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),a!=null&&a.headers&&(l=Object.assign(Object.assign({},l),a.headers));const d=this._removeEmptyFolders(r),u=this._getFinalPath(d),h=yield(t=="PUT"?s0:Ia)(this.fetch,`${this.url}/object/${u}`,i,Object.assign({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:d,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(Ur(i))return{data:null,error:i};throw i}})}upload(t,r,n){return Pn(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,a){return Pn(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let c;const d=Object.assign({upsert:lN.upsert},a),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",d.cacheControl)):(c=n,u["cache-control"]=`max-age=${d.cacheControl}`,u["content-type"]=d.contentType);const h=yield s0(this.fetch,l.toString(),c,{headers:u});return{data:{path:i,fullPath:h.Key},error:null}}catch(c){if(Ur(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return Pn(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const a=Object.assign({},this.headers);r!=null&&r.upsert&&(a["x-upsert"]="true");const i=yield Ia(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new sb("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(n){if(Ur(n))return{data:null,error:n};throw n}})}update(t,r,n){return Pn(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Pn(this,void 0,void 0,function*(){try{return{data:yield Ia(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(Ur(a))return{data:null,error:a};throw a}})}copy(t,r,n){return Pn(this,void 0,void 0,function*(){try{return{data:{path:(yield Ia(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(Ur(a))return{data:null,error:a};throw a}})}createSignedUrl(t,r,n){return Pn(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),i=yield Ia(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(a){if(Ur(a))return{data:null,error:a};throw a}})}createSignedUrls(t,r,n){return Pn(this,void 0,void 0,function*(){try{const a=yield Ia(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(a){if(Ur(a))return{data:null,error:a};throw a}})}download(t,r){return Pn(this,void 0,void 0,function*(){const a=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield Zm(this.fetch,`${this.url}/${a}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(Ur(l))return{data:null,error:l};throw l}})}info(t){return Pn(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Zm(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:n0(n),error:null}}catch(n){if(Ur(n))return{data:null,error:n};throw n}})}exists(t){return Pn(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield E8(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Ur(n)&&n instanceof r0){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),a=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&a.push(i);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&a.push(c);let d=a.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${d}`)}}}remove(t){return Pn(this,void 0,void 0,function*(){try{return{data:yield oP(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(Ur(r))return{data:null,error:r};throw r}})}list(t,r,n){return Pn(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},P8),r),{prefix:t||""});return{data:yield Ia(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(Ur(a))return{data:null,error:a};throw a}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const R8="2.10.4",M8={"X-Client-Info":`storage-js/${R8}`};var Il=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(h){o(h)}}function c(u){try{d(n.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};class A8{constructor(t,r={},n,a){const i=new URL(t);a!=null&&a.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},M8),r),this.fetch=iP(n)}listBuckets(){return Il(this,void 0,void 0,function*(){try{return{data:yield Zm(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Ur(t))return{data:null,error:t};throw t}})}getBucket(t){return Il(this,void 0,void 0,function*(){try{return{data:yield Zm(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(Ur(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return Il(this,void 0,void 0,function*(){try{return{data:yield Ia(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Ur(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return Il(this,void 0,void 0,function*(){try{return{data:yield s0(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Ur(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Il(this,void 0,void 0,function*(){try{return{data:yield Ia(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(Ur(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Il(this,void 0,void 0,function*(){try{return{data:yield oP(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(Ur(r))return{data:null,error:r};throw r}})}}class O8 extends A8{constructor(t,r={},n,a){super(t,r,n,a)}from(t){return new T8(this.url,this.headers,t,this.fetch)}}const D8="2.54.0";let iu="";typeof Deno<"u"?iu="deno":typeof document<"u"?iu="web":typeof navigator<"u"&&navigator.product==="ReactNative"?iu="react-native":iu="node";const I8={"X-Client-Info":`supabase-js-${iu}/${D8}`},F8={headers:I8},L8={schema:"public"},$8={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},z8={};var U8=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(h){o(h)}}function c(u){try{d(n.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};const B8=e=>{let t;return e?t=e:typeof fetch>"u"?t=HE:t=fetch,(...r)=>t(...r)},q8=()=>typeof Headers>"u"?KE:Headers,V8=(e,t,r)=>{const n=B8(r),a=q8();return(i,o)=>U8(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let d=new a(o==null?void 0:o.headers);return d.has("apikey")||d.set("apikey",e),d.has("Authorization")||d.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},o),{headers:d}))})};var W8=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(h){o(h)}}function c(u){try{d(n.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};function H8(e){return e.endsWith("/")?e:e+"/"}function K8(e,t){var r,n;const{db:a,auth:i,realtime:o,global:l}=e,{db:c,auth:d,realtime:u,global:h}=t,m={db:Object.assign(Object.assign({},c),a),auth:Object.assign(Object.assign({},d),i),realtime:Object.assign(Object.assign({},u),o),storage:{},global:Object.assign(Object.assign(Object.assign({},h),l),{headers:Object.assign(Object.assign({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>W8(this,void 0,void 0,function*(){return""})};return e.accessToken?m.accessToken=e.accessToken:delete m.accessToken,m}const lP="2.71.1",Yl=30*1e3,a0=3,Jv=a0*Yl,G8="http://localhost:9999",Y8="supabase.auth.token",Q8={"X-Client-Info":`gotrue-js/${lP}`},i0="X-Supabase-Api-Version",cP={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},X8=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Z8=10*60*1e3;class ab extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function ut(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class J8 extends ab{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function ez(e){return ut(e)&&e.name==="AuthApiError"}class dP extends ab{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class wo extends ab{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}}class vi extends wo{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function tz(e){return ut(e)&&e.name==="AuthSessionMissingError"}class Rh extends wo{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Mh extends wo{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Ah extends wo{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function rz(e){return ut(e)&&e.name==="AuthImplicitGrantRedirectError"}class cN extends wo{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class o0 extends wo{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function ex(e){return ut(e)&&e.name==="AuthRetryableFetchError"}class dN extends wo{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class l0 extends wo{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Jm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),uN=` 	
\r=`.split(""),nz=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<uN.length;t+=1)e[uN[t].charCodeAt(0)]=-2;for(let t=0;t<Jm.length;t+=1)e[Jm[t].charCodeAt(0)]=t;return e})();function fN(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Jm[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Jm[n]),t.queuedBits-=6}}function uP(e,t,r){const n=nz[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function hN(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=o=>{iz(o,n,r)};for(let o=0;o<e.length;o+=1)uP(e.charCodeAt(o),a,i);return t.join("")}function sz(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function az(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}sz(n,t)}}function iz(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function oz(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)uP(e.charCodeAt(a),r,n);return new Uint8Array(t)}function lz(e){const t=[];return az(e,r=>t.push(r)),new Uint8Array(t)}function cz(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};return e.forEach(a=>fN(a,r,n)),fN(null,r,n),t.join("")}function dz(e){return Math.round(Date.now()/1e3)+e}function uz(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Ts=()=>typeof window<"u"&&typeof document<"u",Co={tested:!1,writable:!1},fP=()=>{if(!Ts())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Co.tested)return Co.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Co.tested=!0,Co.writable=!0}catch{Co.tested=!0,Co.writable=!1}return Co.writable};function fz(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,i)=>{t[i]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const hP=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>bl(async()=>{const{default:n}=await Promise.resolve().then(()=>gd);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},hz=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Ql=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},ko=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},fi=async(e,t)=>{await e.removeItem(t)};class hg{constructor(){this.promise=new hg.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}hg.promiseConstructor=Promise;function tx(e){const t=e.split(".");if(t.length!==3)throw new l0("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!X8.test(t[n]))throw new l0("JWT not in base64url format");return{header:JSON.parse(hN(t[0])),payload:JSON.parse(hN(t[1])),signature:oz(t[2]),raw:{header:t[0],payload:t[1]}}}async function mz(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function pz(e,t){return new Promise((n,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){a(o);return}}})()})}function gz(e){return("0"+e.toString(16)).substr(-2)}function vz(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,gz).join("")}async function xz(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function yz(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await xz(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Fl(e,t,r=!1){const n=vz();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await Ql(e,`${t}-code-verifier`,a);const i=await yz(n);return[i,n===i?"plain":"s256"]}const wz=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function bz(e){const t=e.headers.get(i0);if(!t||!t.match(wz))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function jz(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function _z(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Nz=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ll(e){if(!Nz.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function rx(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function mN(e){return JSON.parse(JSON.stringify(e))}var Sz=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};const Ro=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Cz=[502,503,504];async function pN(e){var t;if(!hz(e))throw new o0(Ro(e),0);if(Cz.includes(e.status))throw new o0(Ro(e),e.status);let r;try{r=await e.json()}catch(i){throw new dP(Ro(i),i)}let n;const a=bz(e);if(a&&a.getTime()>=cP["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new dN(Ro(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new vi}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new dN(Ro(r),e.status,r.weak_password.reasons);throw new J8(Ro(r),e.status||500,n)}const kz=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function jt(e,t,r,n){var a;const i=Object.assign({},n==null?void 0:n.headers);i[i0]||(i[i0]=cP["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await Ez(e,t,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function Ez(e,t,r,n,a,i){const o=kz(t,n,a,i);let l;try{l=await e(r,Object.assign({},o))}catch(c){throw console.error(c),new o0(Ro(c),0)}if(l.ok||await pN(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await pN(c)}}function Pa(e){var t;let r=null;Mz(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=dz(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function gN(e){const t=Pa(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Ni(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Pz(e){return{data:e,error:null}}function Tz(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i}=e,o=Sz(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function Rz(e){return e}function Mz(e){return e.access_token&&e.refresh_token&&e.expires_in}const nx=["global","local","others"];var Az=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};class Oz{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=hP(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=nx[0]){if(nx.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${nx.join(", ")}`);try{return await jt(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ut(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await jt(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Ni})}catch(n){if(ut(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Az(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await jt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:Tz,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(ut(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await jt(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ni})}catch(r){if(ut(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,i,o,l,c;try{const d={nextPage:null,lastPage:0,total:0},u=await jt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:Rz});if(u.error)throw u.error;const h=await u.json(),m=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(c=(l=u.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(w=>{const v=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),g=JSON.parse(w.split(";")[1].split("=")[1]);d[`${g}Page`]=v}),d.total=parseInt(m)),{data:Object.assign(Object.assign({},h),d),error:null}}catch(d){if(ut(d))return{data:{users:[]},error:d};throw d}}async getUserById(t){Ll(t);try{return await jt(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ni})}catch(r){if(ut(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Ll(t);try{return await jt(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Ni})}catch(n){if(ut(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Ll(t);try{return await jt(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Ni})}catch(n){if(ut(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Ll(t.userId);try{const{data:r,error:n}=await jt(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(ut(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Ll(t.userId),Ll(t.id);try{return{data:await jt(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(ut(r))return{data:null,error:r};throw r}}}function vN(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function Dz(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const $l={debug:!!(globalThis&&fP()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class mP extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Iz extends mP{}async function Fz(e,t,r){$l.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),$l.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){$l.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{$l.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw $l.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Iz(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if($l.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}Dz();const Lz={url:G8,storageKey:Y8,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Q8,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function xN(e,t,r){return await r()}const zl={};class tf{constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=tf.nextInstanceID,tf.nextInstanceID+=1,this.instanceID>0&&Ts()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},Lz),t);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new Oz({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=hP(a.fetch),this.lock=a.lock||xN,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:Ts()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=Fz:this.lock=xN,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:fP()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=vN(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=vN(this.memoryStorage)),Ts()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var t,r;return(r=(t=zl[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){zl[this.storageKey]=Object.assign(Object.assign({},zl[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=zl[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){zl[this.storageKey]=Object.assign(Object.assign({},zl[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${lP}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=fz(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Ts()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),rz(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=a;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return ut(r)?{error:r}:{error:new dP("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const i=await jt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:Pa}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(i){if(ut(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,a;try{let i;if("email"in t){const{email:u,password:h,options:m}=t;let p=null,w=null;this.flowType==="pkce"&&([p,w]=await Fl(this.storage,this.storageKey)),i=await jt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:u,password:h,data:(r=m==null?void 0:m.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:p,code_challenge_method:w},xform:Pa})}else if("phone"in t){const{phone:u,password:h,options:m}=t;i=await jt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:h,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},channel:(a=m==null?void 0:m.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:Pa})}else throw new Mh("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(i){if(ut(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:l}=t;r=await jt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:gN})}else if("phone"in t){const{phone:i,password:o,options:l}=t;r=await jt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:gN})}else throw new Mh("You must provide either an email or phone number and a password");const{data:n,error:a}=r;return a?{data:{user:null,session:null},error:a}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Rh}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(ut(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,a,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,a,i,o,l,c,d,u,h,m,p;let w,v;if("message"in t)w=t.message,v=t.signature;else{const{chain:g,wallet:y,statement:x,options:b}=t;let _;if(Ts())if(typeof y=="object")_=y;else{const P=window;if("solana"in P&&typeof P.solana=="object"&&("signIn"in P.solana&&typeof P.solana.signIn=="function"||"signMessage"in P.solana&&typeof P.solana.signMessage=="function"))_=P.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=y}const N=new URL((r=b==null?void 0:b.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const P=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b==null?void 0:b.signInWithSolana),{version:"1",domain:N.host,uri:N.href}),x?{statement:x}:null));let S;if(Array.isArray(P)&&P[0]&&typeof P[0]=="object")S=P[0];else if(P&&typeof P=="object"&&"signedMessage"in P&&"signature"in P)S=P;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in S&&"signature"in S&&(typeof S.signedMessage=="string"||S.signedMessage instanceof Uint8Array)&&S.signature instanceof Uint8Array)w=typeof S.signedMessage=="string"?S.signedMessage:new TextDecoder().decode(S.signedMessage),v=S.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${N.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...x?["",x,""]:[""],"Version: 1",`URI: ${N.href}`,`Issued At: ${(a=(n=b==null?void 0:b.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=b==null?void 0:b.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((o=b==null?void 0:b.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((l=b==null?void 0:b.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((c=b==null?void 0:b.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((d=b==null?void 0:b.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((h=(u=b==null?void 0:b.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||h===void 0)&&h.length?["Resources",...b.signInWithSolana.resources.map(S=>`- ${S}`)]:[]].join(`
`);const P=await _.signMessage(new TextEncoder().encode(w),"utf8");if(!P||!(P instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=P}}try{const{data:g,error:y}=await jt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:cz(v)},!((m=t.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:Pa});if(y)throw y;return!g||!g.session||!g.user?{data:{user:null,session:null},error:new Rh}:(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),{data:Object.assign({},g),error:y})}catch(g){if(ut(g))return{data:{user:null,session:null},error:g};throw g}}async _exchangeCodeForSession(t){const r=await ko(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{const{data:i,error:o}=await jt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Pa});if(await fi(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Rh}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:o})}catch(i){if(ut(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:i,nonce:o}=t,l=await jt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Pa}),{data:c,error:d}=l;return d?{data:{user:null,session:null},error:d}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Rh}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:d})}catch(r){if(ut(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,a,i,o;try{if("email"in t){const{email:l,options:c}=t;let d=null,u=null;this.flowType==="pkce"&&([d,u]=await Fl(this.storage,this.storageKey));const{error:h}=await jt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:d,code_challenge_method:u},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:l,options:c}=t,{data:d,error:u}=await jt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:u}}throw new Mh("You must provide either an email or phone number.")}catch(l){if(ut(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let a,i;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await jt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:Pa});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,d=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(a){if(ut(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(t){var r,n,a;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Fl(this.storage,this.storageKey)),await jt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:Pz})}catch(i){if(ut(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new vi;const{error:a}=await jt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:a}})}catch(t){if(ut(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:i}=t,{error:o}=await jt(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:a,options:i}=t,{data:o,error:l}=await jt(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new Mh("You must provide either an email or phone number and a type")}catch(r){if(ut(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await ko(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Jv:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await ko(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=rx()}if(this.storage.isServer&&t.user){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,d,u)=>(!o&&d==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,d,u))})}return{data:{session:t},error:null}}const{session:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await jt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ni}):await this._useSession(async r=>{var n,a,i;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new vi}:await jt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=o.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:Ni})})}catch(r){if(ut(r))return tz(r)&&(await this._removeSession(),await fi(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:i}=n;if(i)throw i;if(!a.session)throw new vi;const o=a.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Fl(this.storage,this.storageKey));const{data:d,error:u}=await jt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:Ni});if(u)throw u;return o.user=d.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(ut(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new vi;const r=Date.now()/1e3;let n=r,a=!0,i=null;const{payload:o}=tx(t.access_token);if(o.exp&&(n=o.exp,a=n<=r),a){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(ut(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new vi;const{session:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(ut(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Ts())throw new Ah("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Ah(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new cN("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ah("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new cN("No code detected.");const{data:x,error:b}=await this._exchangeCodeForSession(t.code);if(b)throw b;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:x.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:d}=t;if(!i||!l||!o||!d)throw new Ah("No session defined in URL");const u=Math.round(Date.now()/1e3),h=parseInt(l);let m=u+h;c&&(m=parseInt(c));const p=m-u;p*1e3<=Yl&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${h}s`);const w=m-h;u-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,m,u):u-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,m,u);const{data:v,error:g}=await this._getUser(i);if(g)throw g;const y={provider_token:n,provider_refresh_token:a,access_token:i,expires_in:h,expires_at:m,refresh_token:o,token_type:d,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:t.type},error:null}}catch(n){if(ut(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await ko(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{error:i};const o=(n=a.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(ez(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await fi(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=uz(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await Fl(this.storage,this.storageKey,!0));try{return await jt(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(ut(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(ut(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:a}=await this._useSession(async i=>{var o,l,c,d,u;const{data:h,error:m}=i;if(m)throw m;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await jt(this.fetch,"GET",p,{headers:this.headers,jwt:(u=(d=h.session)===null||d===void 0?void 0:d.access_token)!==null&&u!==void 0?u:void 0})});if(a)throw a;return Ts()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(ut(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)throw o;return await jt(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(ut(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await pz(async a=>(a>0&&await mz(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await jt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Pa})),(a,i)=>{const o=200*Math.pow(2,a);return i&&ex(i)&&Date.now()+o-n<Yl})}catch(n){if(this._debug(r,"error",n),ut(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Ts()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await ko(this.storage,this.storageKey);if(a&&this.userStorage){let o=await ko(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:a.user},await Ql(this.userStorage,this.storageKey+"-user",o)),a.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:rx()}else if(a&&!a.user&&!a.user){const o=await ko(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(a.user=o.user,await fi(this.storage,this.storageKey+"-user"),await Ql(this.storage,this.storageKey,a)):a.user=rx()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const i=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Jv;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Jv}s`),i){if(this.autoRefreshToken&&a.refresh_token){const{error:o}=await this._callRefreshToken(a.refresh_token);o&&(console.error(o),ex(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(a.access_token);!l&&(o!=null&&o.user)?(a.user=o.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new vi;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new hg;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new vi;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(a,"error",i),ut(i)){const o={session:null,error:i};return ex(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Ql(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const i=mN(a);await Ql(this.storage,this.storageKey,i)}else{const a=mN(r);await Ql(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await fi(this.storage,this.storageKey),await fi(this.storage,this.storageKey+"-code-verifier"),await fi(this.storage,this.storageKey+"-user"),this.userStorage&&await fi(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Ts()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Yl);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/Yl);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Yl}ms, refresh threshold is ${a0} ticks`),a<=a0&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof mP)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ts()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await Fl(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});a.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);a.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await jt(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ut(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:d}=await jt(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return d?{data:null,error:d}:(t.factorType==="totp"&&(!((a=c==null?void 0:c.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(ut(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{data:null,error:i};const{data:o,error:l}=await jt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(r){if(ut(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await jt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ut(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],a=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:a,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:a},error:i}=t;if(i)return{data:null,error:i};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=tx(a.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((n=(r=a.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const u=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+Z8>a)return n;const{data:i,error:o}=await jt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=a,n=i.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:p,error:w}=await this.getSession();if(w||!p.session)return{data:null,error:w};n=p.session.access_token}const{header:a,payload:i,signature:o,raw:{header:l,payload:c}}=tx(n);r!=null&&r.allowExpired||jz(i.exp);const d=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!d){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:i,header:a,signature:o},error:null}}const u=_z(a.alg),h=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,o,lz(`${l}.${c}`)))throw new l0("Invalid JWT signature");return{data:{claims:i,header:a,signature:o},error:null}}catch(n){if(ut(n))return{data:null,error:n};throw n}}}tf.nextInstanceID=0;const $z=tf;class zz extends $z{constructor(t){super(t)}}var Uz=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(h){o(h)}}function c(u){try{d(n.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};class Bz{constructor(t,r,n){var a,i,o;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const l=H8(t),c=new URL(l);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const d=`sb-${c.hostname.split(".")[0]}-auth-token`,u={db:L8,realtime:z8,auth:Object.assign(Object.assign({},$8),{storageKey:d}),global:F8},h=K8(n??{},u);this.storageKey=(a=h.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(i=h.global.headers)!==null&&i!==void 0?i:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(m,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=h.auth)!==null&&o!==void 0?o:{},this.headers,h.global.fetch),this.fetch=V8(r,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new s8(new URL("rest/v1",c).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),this.storage=new O8(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new O6(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return Uz(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,storageKey:i,flowType:o,lock:l,debug:c},d,u){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new zz({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),d),storageKey:i,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,flowType:o,lock:l,debug:c,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new b8(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const qz=(e,t,r)=>new Bz(e,t,r);function Vz(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}Vz()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Wz="https://nzgrcblgylxbguzwtprr.supabase.co",Hz="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im56Z3JjYmxneWx4Ymd1end0cHJyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQ2MTE2NzksImV4cCI6MjA3MDE4NzY3OX0.qvHVa261qPObPuN63rTeiG0DnwbPHMA-JxQaUG2NXjk",$=qz(Wz,Hz,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0},realtime:{params:{eventsPerSecond:10}}}),Oe=f.forwardRef(({className:e,type:t,...r},n)=>s.jsx("input",{type:t,className:le("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground/60 focus-visible:outline-none focus-visible:ring-0 focus-visible:ring-offset-0 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));Oe.displayName="Input";var pP={exports:{}},gP={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xc=f;function Kz(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Gz=typeof Object.is=="function"?Object.is:Kz,Yz=Xc.useState,Qz=Xc.useEffect,Xz=Xc.useLayoutEffect,Zz=Xc.useDebugValue;function Jz(e,t){var r=t(),n=Yz({inst:{value:r,getSnapshot:t}}),a=n[0].inst,i=n[1];return Xz(function(){a.value=r,a.getSnapshot=t,sx(a)&&i({inst:a})},[e,r,t]),Qz(function(){return sx(a)&&i({inst:a}),e(function(){sx(a)&&i({inst:a})})},[e]),Zz(r),r}function sx(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Gz(e,r)}catch{return!0}}function eU(e,t){return t()}var tU=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?eU:Jz;gP.useSyncExternalStore=Xc.useSyncExternalStore!==void 0?Xc.useSyncExternalStore:tU;pP.exports=gP;var rU=pP.exports;function nU(){return rU.useSyncExternalStore(sU,()=>!0,()=>!1)}function sU(){return()=>{}}var ib="Avatar",[aU,eQ]=Cn(ib),[iU,vP]=aU(ib),xP=f.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[a,i]=f.useState("idle");return s.jsx(iU,{scope:r,imageLoadingStatus:a,onImageLoadingStatusChange:i,children:s.jsx(Ie.span,{...n,ref:t})})});xP.displayName=ib;var yP="AvatarImage",wP=f.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:a=()=>{},...i}=e,o=vP(yP,r),l=oU(n,i),c=yr(d=>{a(d),o.onImageLoadingStatusChange(d)});return Cr(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?s.jsx(Ie.img,{...i,ref:t,src:n}):null});wP.displayName=yP;var bP="AvatarFallback",jP=f.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...a}=e,i=vP(bP,r),[o,l]=f.useState(n===void 0);return f.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),o&&i.imageLoadingStatus!=="loaded"?s.jsx(Ie.span,{...a,ref:t}):null});jP.displayName=bP;function yN(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function oU(e,{referrerPolicy:t,crossOrigin:r}){const n=nU(),a=f.useRef(null),i=n?(a.current||(a.current=new window.Image),a.current):null,[o,l]=f.useState(()=>yN(i,e));return Cr(()=>{l(yN(i,e))},[i,e]),Cr(()=>{const c=h=>()=>{l(h)};if(!i)return;const d=c("loaded"),u=c("error");return i.addEventListener("load",d),i.addEventListener("error",u),t&&(i.referrerPolicy=t),typeof r=="string"&&(i.crossOrigin=r),()=>{i.removeEventListener("load",d),i.removeEventListener("error",u)}},[i,r,t]),o}var _P=xP,NP=wP,SP=jP;const Bt=f.forwardRef(({className:e,isPro:t,...r},n)=>s.jsx(_P,{ref:n,className:le("relative inline-flex h-10 w-10 shrink-0 rounded-full",e),...r}));Bt.displayName=_P.displayName;const qt=f.forwardRef(({className:e,...t},r)=>s.jsx(NP,{ref:r,className:le("aspect-square h-full w-full rounded-full overflow-hidden",e),...t}));qt.displayName=NP.displayName;const Vt=f.forwardRef(({className:e,...t},r)=>s.jsx(SP,{ref:r,className:le("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));Vt.displayName=SP.displayName;const nl=({size:e=32,className:t})=>{const r="polygon(50% 0%, 60% 6%, 72% 6%, 79% 16%, 90% 21%, 90% 33%, 96% 45%, 90% 57%, 90% 69%, 79% 74%, 72% 84%, 60% 84%, 50% 90%, 40% 84%, 28% 84%, 21% 74%, 10% 69%, 10% 57%, 4% 45%, 10% 33%, 10% 21%, 21% 16%, 28% 6%, 40% 6%)",n=`${e}px`;return s.jsxs("div",{className:le("relative inline-flex items-center justify-center drop-shadow-sm",t),style:{width:n,height:n},"aria-label":"Selo Pro",children:[s.jsx("div",{className:"absolute inset-0 bg-blue-500",style:{clipPath:r,WebkitClipPath:r}}),s.jsx("div",{className:"absolute inset-0 ring-2 ring-white/60",style:{clipPath:r,WebkitClipPath:r}}),s.jsx(cs,{className:"relative text-white",style:{width:e*.45,height:e*.45}})]})};function Xe({className:e,...t}){return s.jsx("div",{className:le("animate-pulse rounded-md bg-muted",e),...t})}const Oh=24,lU=()=>{const e=Rr(),[t,r]=f.useState(""),{data:n,fetchNextPage:a,hasNextPage:i,isFetchingNextPage:o,isLoading:l}=bs({queryKey:["musician-search",t],initialPageParam:0,queryFn:async({pageParam:S})=>{const T=S*Oh;let U=$.from("profiles").select("id, display_name, avatar_url, username, requests_count, lat, lng, is_pro").eq("is_active",!0).eq("is_blocked",!1).order("display_name",{ascending:!0});const{data:q,error:re}=await U;if(re)throw re;const{data:G,error:H}=await $.from("songs").select("owner_id");if(H)throw H;const V=new Set((G||[]).map(J=>J.owner_id)),se=(q||[]).filter(J=>V.has(J.id)),ee=t.trim();return ee?se.filter(I=>{var D,C;return((D=I.display_name)==null?void 0:D.toLowerCase().includes(ee.toLowerCase()))||((C=I.username)==null?void 0:C.toLowerCase().includes(ee.toLowerCase()))}).slice(T,T+Oh):se.slice(T,T+Oh)},getNextPageParam:(S,T,U)=>{if(!(((S==null?void 0:S.length)??0)<Oh))return U+1}}),c=f.useMemo(()=>((n==null?void 0:n.pages)||[]).flat(),[n==null?void 0:n.pages]),d=f.useMemo(()=>(c||[]).map(S=>S.id).filter(Boolean),[c]),[u,h]=f.useState({}),[m,p]=f.useState({}),[w,v]=f.useState({});f.useEffect(()=>{let S=!1;return(async()=>{if(!d.length){h({}),p({}),v({});return}try{const{data:T,error:U}=await $.from("follows").select("followee_id").in("followee_id",d);if(U)throw U;const q={};(T||[]).forEach(re=>{q[re.followee_id]=(q[re.followee_id]||0)+1}),S||h(q)}catch{S||h({})}try{const T={};c.forEach(U=>{T[U.id]=U.requests_count||0}),S||p(T)}catch{S||p({})}try{const{data:T,error:U}=await $.from("songs").select("id, owner_id").in("owner_id",d);if(U)throw U;const q=new Map,re=[];if((T||[]).forEach(G=>{G!=null&&G.id&&(G!=null&&G.owner_id)&&(q.set(G.id,G.owner_id),re.push(G.id))}),re.length===0)S||v({});else{const{data:G,error:H}=await $.from("song_likes").select("song_id").in("song_id",re);if(H)throw H;const V={};(G||[]).forEach(se=>{const ee=q.get(se.song_id);ee&&(V[ee]=(V[ee]||0)+1)}),S||v(V)}}catch{S||v({})}})(),()=>{S=!0}},[d.join(",")]);const[g,y]=f.useState("requests"),[x,b]=f.useState(null);f.useEffect(()=>{"geolocation"in navigator&&navigator.geolocation.getCurrentPosition(S=>b({lat:S.coords.latitude,lng:S.coords.longitude}),()=>{})},[]),f.useEffect(()=>{x&&y(S=>S==="requests"?"nearby":S)},[x]);const _=(S,T)=>{const U=ee=>ee*Math.PI/180,re=U(T.lat-S.lat),G=U(T.lng-S.lng),H=U(S.lat),V=U(T.lat),se=Math.sin(re/2)**2+Math.cos(H)*Math.cos(V)*Math.sin(G/2)**2;return 2*6371*Math.asin(Math.sqrt(se))},N=f.useMemo(()=>{const S=[...c];return g==="requests"?S.sort((T,U)=>(U.requests_count??0)-(T.requests_count??0)||String(T.display_name||"").localeCompare(String(U.display_name||""))):g==="nearby"&&x?S.map(T=>({...T,_dist:typeof T.lat=="number"&&typeof T.lng=="number"?_(x,{lat:T.lat,lng:T.lng}):Number.POSITIVE_INFINITY})).sort((T,U)=>T._dist-U._dist):S.sort((T,U)=>String(T.display_name||"").localeCompare(String(U.display_name||"")))},[c,g,x]),P=f.useRef(null);return f.useEffect(()=>{if(!P.current)return;const S=new IntersectionObserver(T=>{T[0].isIntersecting&&i&&!o&&a()},{rootMargin:"200px"});return S.observe(P.current),()=>S.disconnect()},[i,o,a]),s.jsx("section",{"aria-label":"Pesquisar",className:"mt-10",children:s.jsxs("div",{className:"max-w-3xl mx-auto",children:[s.jsx("label",{htmlFor:"q",className:"sr-only",children:"Pesquisar"}),s.jsxs("div",{className:"relative mb-4",children:[s.jsx(na,{className:"pointer-events-none absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground/60"}),s.jsx(Oe,{id:"q",value:t,onChange:S=>r(S.target.value),placeholder:"Pesquisar",className:"lg:text-2xl text-sm placeholder:text-muted-foreground py-8 font-normal pl-10 pr-10"}),t?s.jsx("button",{type:"button",onClick:()=>r(""),"aria-label":"Limpar busca",className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground/60 hover:text-muted-foreground",children:s.jsx(Pr,{className:"h-5 w-5"})}):null]}),s.jsx("div",{children:l?s.jsx("div",{className:"divide-y",children:Array.from({length:8}).map((S,T)=>s.jsxs("div",{className:"w-full py-3 flex items-center gap-3",children:[s.jsx(Xe,{className:"h-10 w-10 rounded-full"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx(Xe,{className:"h-4 w-40 mb-2"}),s.jsx(Xe,{className:"h-3 w-24"})]}),s.jsx(Xe,{className:"h-4 w-16"})]},T))}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"divide-y",children:N.map(S=>s.jsxs("button",{onClick:()=>e(`/${S.username}`),className:"w-full text-left py-3 flex items-center gap-3 hover-scale","aria-label":`Ir para pgina do msico ${S.display_name||"Sem nome"}`,children:[s.jsxs(Bt,{className:"h-10 w-10",isPro:!!S.is_pro,children:[s.jsx(qt,{src:S.avatar_url||void 0,alt:`Avatar de ${S.display_name||"Msico"}`}),s.jsx(Vt,{children:(S.display_name||"M").charAt(0).toUpperCase()})]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("p",{className:"font-medium truncate",children:S.display_name||"Msico"}),S.is_pro&&s.jsx(nl,{size:12})]}),s.jsxs("p",{className:"text-sm text-muted-foreground truncate",children:["/",S.username||"usuario"]})]}),s.jsxs("div",{className:"text-sm text-muted-foreground whitespace-nowrap inline-flex items-center gap-3",children:[s.jsxs("span",{className:"inline-flex items-center gap-1",children:[s.jsx(nr,{className:"h-4 w-4"}),s.jsx("span",{children:Number.isFinite(m[S.id])?m[S.id]:0})]}),s.jsxs("span",{className:"inline-flex items-center gap-1",children:[s.jsx(Wc,{className:"h-4 w-4"}),s.jsx("span",{children:Number.isFinite(u[S.id])?u[S.id]:0})]})]})]},S.id))}),s.jsx("div",{ref:P,className:"h-12"})]})})]})})};function ar(){const[e,t]=f.useState(null),[r,n]=f.useState(null),[a,i]=f.useState(!0),[o,l]=f.useState(null);return f.useEffect(()=>{const{data:{subscription:c}}=$.auth.onAuthStateChange((d,u)=>{t(u),n((u==null?void 0:u.user)??null)});return $.auth.getSession().then(({data:d})=>{var u;t(d.session),n(((u=d.session)==null?void 0:u.user)??null),i(!1)}),()=>c.unsubscribe()},[]),f.useEffect(()=>{(async()=>{if(r!=null&&r.id&&o!==r.id)try{const{data:d}=await $.from("profiles").select("is_blocked").eq("id",r.id).maybeSingle();if(d!=null&&d.is_blocked)try{await $.auth.signOut()}finally{t(null),n(null),window.location.replace("/blocked")}else l(r.id)}catch{}})()},[r==null?void 0:r.id,o]),{session:e,user:r,loading:a}}const ax=768;function sl(){const[e,t]=f.useState(void 0);return f.useEffect(()=>{const r=window.matchMedia(`(max-width: ${ax-1}px)`),n=()=>{t(window.innerWidth<ax)};return r.addEventListener("change",n),t(window.innerWidth<ax),()=>r.removeEventListener("change",n)},[]),!!e}var cU="Separator",wN="horizontal",dU=["horizontal","vertical"],CP=f.forwardRef((e,t)=>{const{decorative:r,orientation:n=wN,...a}=e,i=uU(n)?n:wN,l=r?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return s.jsx(Ie.div,{"data-orientation":i,...l,...a,ref:t})});CP.displayName=cU;function uU(e){return dU.includes(e)}var kP=CP;const Zc=f.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},a)=>s.jsx(kP,{ref:a,decorative:r,orientation:t,className:le("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));Zc.displayName=kP.displayName;var ix="focusScope.autoFocusOnMount",ox="focusScope.autoFocusOnUnmount",bN={bubbles:!1,cancelable:!0},fU="FocusScope",Pf=f.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[l,c]=f.useState(null),d=yr(a),u=yr(i),h=f.useRef(null),m=ct(t,v=>c(v)),p=f.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;f.useEffect(()=>{if(n){let v=function(b){if(p.paused||!l)return;const _=b.target;l.contains(_)?h.current=_:xi(h.current,{select:!0})},g=function(b){if(p.paused||!l)return;const _=b.relatedTarget;_!==null&&(l.contains(_)||xi(h.current,{select:!0}))},y=function(b){if(document.activeElement===document.body)for(const N of b)N.removedNodes.length>0&&xi(l)};document.addEventListener("focusin",v),document.addEventListener("focusout",g);const x=new MutationObserver(y);return l&&x.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",g),x.disconnect()}}},[n,l,p.paused]),f.useEffect(()=>{if(l){_N.add(p);const v=document.activeElement;if(!l.contains(v)){const y=new CustomEvent(ix,bN);l.addEventListener(ix,d),l.dispatchEvent(y),y.defaultPrevented||(hU(xU(EP(l)),{select:!0}),document.activeElement===v&&xi(l))}return()=>{l.removeEventListener(ix,d),setTimeout(()=>{const y=new CustomEvent(ox,bN);l.addEventListener(ox,u),l.dispatchEvent(y),y.defaultPrevented||xi(v??document.body,{select:!0}),l.removeEventListener(ox,u),_N.remove(p)},0)}}},[l,d,u,p]);const w=f.useCallback(v=>{if(!r&&!n||p.paused)return;const g=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,y=document.activeElement;if(g&&y){const x=v.currentTarget,[b,_]=mU(x);b&&_?!v.shiftKey&&y===_?(v.preventDefault(),r&&xi(b,{select:!0})):v.shiftKey&&y===b&&(v.preventDefault(),r&&xi(_,{select:!0})):y===x&&v.preventDefault()}},[r,n,p.paused]);return s.jsx(Ie.div,{tabIndex:-1,...o,ref:m,onKeyDown:w})});Pf.displayName=fU;function hU(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(xi(n,{select:t}),document.activeElement!==r)return}function mU(e){const t=EP(e),r=jN(t,e),n=jN(t.reverse(),e);return[r,n]}function EP(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function jN(e,t){for(const r of e)if(!pU(r,{upTo:t}))return r}function pU(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function gU(e){return e instanceof HTMLInputElement&&"select"in e}function xi(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&gU(e)&&t&&e.select()}}var _N=vU();function vU(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=NN(e,t),e.unshift(t)},remove(t){var r;e=NN(e,t),(r=e[0])==null||r.resume()}}}function NN(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function xU(e){return e.filter(t=>t.tagName!=="A")}var lx=0;function mg(){f.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??SN()),document.body.insertAdjacentElement("beforeend",e[1]??SN()),lx++,()=>{lx===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),lx--}},[])}function SN(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var sa=function(){return sa=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},sa.apply(this,arguments)};function PP(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function yU(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}var lm="right-scroll-bar-position",cm="width-before-scroll-bar",wU="with-scroll-bars-hidden",bU="--removed-body-scroll-bar-size";function cx(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function jU(e,t){var r=f.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=t,r.facade}var _U=typeof window<"u"?f.useLayoutEffect:f.useEffect,CN=new WeakMap;function NU(e,t){var r=jU(null,function(n){return e.forEach(function(a){return cx(a,n)})});return _U(function(){var n=CN.get(r);if(n){var a=new Set(n),i=new Set(e),o=r.current;a.forEach(function(l){i.has(l)||cx(l,null)}),i.forEach(function(l){a.has(l)||cx(l,o)})}CN.set(r,e)},[e]),r}function SU(e){return e}function CU(e,t){t===void 0&&(t=SU);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var o=t(i,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(n=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(l){return i(l)},filter:function(){return r}}},assignMedium:function(i){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(i),o=r}var c=function(){var u=o;o=[],u.forEach(i)},d=function(){return Promise.resolve().then(c)};d(),r={push:function(u){o.push(u),d()},filter:function(u){return o=o.filter(u),r}}}};return a}function kU(e){e===void 0&&(e={});var t=CU(null);return t.options=sa({async:!0,ssr:!1},e),t}var TP=function(e){var t=e.sideCar,r=PP(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return f.createElement(n,sa({},r))};TP.isSideCarExport=!0;function EU(e,t){return e.useMedium(t),TP}var RP=kU(),dx=function(){},pg=f.forwardRef(function(e,t){var r=f.useRef(null),n=f.useState({onScrollCapture:dx,onWheelCapture:dx,onTouchMoveCapture:dx}),a=n[0],i=n[1],o=e.forwardProps,l=e.children,c=e.className,d=e.removeScrollBar,u=e.enabled,h=e.shards,m=e.sideCar,p=e.noRelative,w=e.noIsolation,v=e.inert,g=e.allowPinchZoom,y=e.as,x=y===void 0?"div":y,b=e.gapMode,_=PP(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),N=m,P=NU([r,t]),S=sa(sa({},_),a);return f.createElement(f.Fragment,null,u&&f.createElement(N,{sideCar:RP,removeScrollBar:d,shards:h,noRelative:p,noIsolation:w,inert:v,setCallbacks:i,allowPinchZoom:!!g,lockRef:r,gapMode:b}),o?f.cloneElement(f.Children.only(l),sa(sa({},S),{ref:P})):f.createElement(x,sa({},S,{className:c,ref:P}),l))});pg.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};pg.classNames={fullWidth:cm,zeroRight:lm};var PU=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function TU(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=PU();return t&&e.setAttribute("nonce",t),e}function RU(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function MU(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var AU=function(){var e=0,t=null;return{add:function(r){e==0&&(t=TU())&&(RU(t,r),MU(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},OU=function(){var e=AU();return function(t,r){f.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},MP=function(){var e=OU(),t=function(r){var n=r.styles,a=r.dynamic;return e(n,a),null};return t},DU={left:0,top:0,right:0,gap:0},ux=function(e){return parseInt(e||"",10)||0},IU=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[ux(r),ux(n),ux(a)]},FU=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return DU;var t=IU(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},LU=MP(),_c="data-scroll-locked",$U=function(e,t,r,n){var a=e.left,i=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(wU,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(_c,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(lm,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(cm,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(lm," .").concat(lm,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(cm," .").concat(cm,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(_c,`] {
    `).concat(bU,": ").concat(l,`px;
  }
`)},kN=function(){var e=parseInt(document.body.getAttribute(_c)||"0",10);return isFinite(e)?e:0},zU=function(){f.useEffect(function(){return document.body.setAttribute(_c,(kN()+1).toString()),function(){var e=kN()-1;e<=0?document.body.removeAttribute(_c):document.body.setAttribute(_c,e.toString())}},[])},UU=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,a=n===void 0?"margin":n;zU();var i=f.useMemo(function(){return FU(a)},[a]);return f.createElement(LU,{styles:$U(i,!t,a,r?"":"!important")})},c0=!1;if(typeof window<"u")try{var Dh=Object.defineProperty({},"passive",{get:function(){return c0=!0,!0}});window.addEventListener("test",Dh,Dh),window.removeEventListener("test",Dh,Dh)}catch{c0=!1}var Ul=c0?{passive:!1}:!1,BU=function(e){return e.tagName==="TEXTAREA"},AP=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!BU(e)&&r[t]==="visible")},qU=function(e){return AP(e,"overflowY")},VU=function(e){return AP(e,"overflowX")},EN=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=OP(e,n);if(a){var i=DP(e,n),o=i[1],l=i[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},WU=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},HU=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},OP=function(e,t){return e==="v"?qU(t):VU(t)},DP=function(e,t){return e==="v"?WU(t):HU(t)},KU=function(e,t){return e==="h"&&t==="rtl"?-1:1},GU=function(e,t,r,n,a){var i=KU(e,window.getComputedStyle(t).direction),o=i*n,l=r.target,c=t.contains(l),d=!1,u=o>0,h=0,m=0;do{if(!l)break;var p=DP(e,l),w=p[0],v=p[1],g=p[2],y=v-g-i*w;(w||y)&&OP(e,l)&&(h+=y,m+=w);var x=l.parentNode;l=x&&x.nodeType===Node.DOCUMENT_FRAGMENT_NODE?x.host:x}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(u&&(Math.abs(h)<1||!a)||!u&&(Math.abs(m)<1||!a))&&(d=!0),d},Ih=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},PN=function(e){return[e.deltaX,e.deltaY]},TN=function(e){return e&&"current"in e?e.current:e},YU=function(e,t){return e[0]===t[0]&&e[1]===t[1]},QU=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},XU=0,Bl=[];function ZU(e){var t=f.useRef([]),r=f.useRef([0,0]),n=f.useRef(),a=f.useState(XU++)[0],i=f.useState(MP)[0],o=f.useRef(e);f.useEffect(function(){o.current=e},[e]),f.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var v=yU([e.lockRef.current],(e.shards||[]).map(TN),!0).filter(Boolean);return v.forEach(function(g){return g.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),v.forEach(function(g){return g.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=f.useCallback(function(v,g){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!o.current.allowPinchZoom;var y=Ih(v),x=r.current,b="deltaX"in v?v.deltaX:x[0]-y[0],_="deltaY"in v?v.deltaY:x[1]-y[1],N,P=v.target,S=Math.abs(b)>Math.abs(_)?"h":"v";if("touches"in v&&S==="h"&&P.type==="range")return!1;var T=EN(S,P);if(!T)return!0;if(T?N=S:(N=S==="v"?"h":"v",T=EN(S,P)),!T)return!1;if(!n.current&&"changedTouches"in v&&(b||_)&&(n.current=N),!N)return!0;var U=n.current||N;return GU(U,g,v,U==="h"?b:_,!0)},[]),c=f.useCallback(function(v){var g=v;if(!(!Bl.length||Bl[Bl.length-1]!==i)){var y="deltaY"in g?PN(g):Ih(g),x=t.current.filter(function(N){return N.name===g.type&&(N.target===g.target||g.target===N.shadowParent)&&YU(N.delta,y)})[0];if(x&&x.should){g.cancelable&&g.preventDefault();return}if(!x){var b=(o.current.shards||[]).map(TN).filter(Boolean).filter(function(N){return N.contains(g.target)}),_=b.length>0?l(g,b[0]):!o.current.noIsolation;_&&g.cancelable&&g.preventDefault()}}},[]),d=f.useCallback(function(v,g,y,x){var b={name:v,delta:g,target:y,should:x,shadowParent:JU(y)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(_){return _!==b})},1)},[]),u=f.useCallback(function(v){r.current=Ih(v),n.current=void 0},[]),h=f.useCallback(function(v){d(v.type,PN(v),v.target,l(v,e.lockRef.current))},[]),m=f.useCallback(function(v){d(v.type,Ih(v),v.target,l(v,e.lockRef.current))},[]);f.useEffect(function(){return Bl.push(i),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:m}),document.addEventListener("wheel",c,Ul),document.addEventListener("touchmove",c,Ul),document.addEventListener("touchstart",u,Ul),function(){Bl=Bl.filter(function(v){return v!==i}),document.removeEventListener("wheel",c,Ul),document.removeEventListener("touchmove",c,Ul),document.removeEventListener("touchstart",u,Ul)}},[]);var p=e.removeScrollBar,w=e.inert;return f.createElement(f.Fragment,null,w?f.createElement(i,{styles:QU(a)}):null,p?f.createElement(UU,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function JU(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const eB=EU(RP,ZU);var Tf=f.forwardRef(function(e,t){return f.createElement(pg,sa({},e,{ref:t,sideCar:eB}))});Tf.classNames=pg.classNames;var tB=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},ql=new WeakMap,Fh=new WeakMap,Lh={},fx=0,IP=function(e){return e&&(e.host||IP(e.parentNode))},rB=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=IP(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},nB=function(e,t,r,n){var a=rB(t,Array.isArray(e)?e:[e]);Lh[r]||(Lh[r]=new WeakMap);var i=Lh[r],o=[],l=new Set,c=new Set(a),d=function(h){!h||l.has(h)||(l.add(h),d(h.parentNode))};a.forEach(d);var u=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(m){if(l.has(m))u(m);else try{var p=m.getAttribute(n),w=p!==null&&p!=="false",v=(ql.get(m)||0)+1,g=(i.get(m)||0)+1;ql.set(m,v),i.set(m,g),o.push(m),v===1&&w&&Fh.set(m,!0),g===1&&m.setAttribute(r,"true"),w||m.setAttribute(n,"true")}catch(y){console.error("aria-hidden: cannot operate on ",m,y)}})};return u(t),l.clear(),fx++,function(){o.forEach(function(h){var m=ql.get(h)-1,p=i.get(h)-1;ql.set(h,m),i.set(h,p),m||(Fh.has(h)||h.removeAttribute(n),Fh.delete(h)),p||h.removeAttribute(r)}),fx--,fx||(ql=new WeakMap,ql=new WeakMap,Fh=new WeakMap,Lh={})}},gg=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),a=tB(e);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live]"))),nB(n,a,r,"aria-hidden")):function(){return null}},vg="Dialog",[FP,LP]=Cn(vg),[sB,Qs]=FP(vg),$P=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:o=!0}=e,l=f.useRef(null),c=f.useRef(null),[d,u]=va({prop:n,defaultProp:a??!1,onChange:i,caller:vg});return s.jsx(sB,{scope:t,triggerRef:l,contentRef:c,contentId:Xr(),titleId:Xr(),descriptionId:Xr(),open:d,onOpenChange:u,onOpenToggle:f.useCallback(()=>u(h=>!h),[u]),modal:o,children:r})};$P.displayName=vg;var zP="DialogTrigger",UP=f.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Qs(zP,r),i=ct(t,a.triggerRef);return s.jsx(Ie.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":cb(a.open),...n,ref:i,onClick:Ce(e.onClick,a.onOpenToggle)})});UP.displayName=zP;var ob="DialogPortal",[aB,BP]=FP(ob,{forceMount:void 0}),qP=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:a}=e,i=Qs(ob,t);return s.jsx(aB,{scope:t,forceMount:r,children:f.Children.map(n,o=>s.jsx(rn,{present:r||i.open,children:s.jsx(cd,{asChild:!0,container:a,children:o})}))})};qP.displayName=ob;var ep="DialogOverlay",VP=f.forwardRef((e,t)=>{const r=BP(ep,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=Qs(ep,e.__scopeDialog);return i.modal?s.jsx(rn,{present:n||i.open,children:s.jsx(oB,{...a,ref:t})}):null});VP.displayName=ep;var iB=no("DialogOverlay.RemoveScroll"),oB=f.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Qs(ep,r);return s.jsx(Tf,{as:iB,allowPinchZoom:!0,shards:[a.contentRef],children:s.jsx(Ie.div,{"data-state":cb(a.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),al="DialogContent",WP=f.forwardRef((e,t)=>{const r=BP(al,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=Qs(al,e.__scopeDialog);return s.jsx(rn,{present:n||i.open,children:i.modal?s.jsx(lB,{...a,ref:t}):s.jsx(cB,{...a,ref:t})})});WP.displayName=al;var lB=f.forwardRef((e,t)=>{const r=Qs(al,e.__scopeDialog),n=f.useRef(null),a=ct(t,r.contentRef,n);return f.useEffect(()=>{const i=n.current;if(i)return gg(i)},[]),s.jsx(HP,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ce(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Ce(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:Ce(e.onFocusOutside,i=>i.preventDefault())})}),cB=f.forwardRef((e,t)=>{const r=Qs(al,e.__scopeDialog),n=f.useRef(!1),a=f.useRef(!1);return s.jsx(HP,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((d=r.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),HP=f.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=e,l=Qs(al,r),c=f.useRef(null),d=ct(t,c);return mg(),s.jsxs(s.Fragment,{children:[s.jsx(Pf,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx(yl,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":cb(l.open),...o,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(uB,{titleId:l.titleId}),s.jsx(hB,{contentRef:c,descriptionId:l.descriptionId})]})]})}),lb="DialogTitle",KP=f.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Qs(lb,r);return s.jsx(Ie.h2,{id:a.titleId,...n,ref:t})});KP.displayName=lb;var GP="DialogDescription",YP=f.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Qs(GP,r);return s.jsx(Ie.p,{id:a.descriptionId,...n,ref:t})});YP.displayName=GP;var QP="DialogClose",XP=f.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Qs(QP,r);return s.jsx(Ie.button,{type:"button",...n,ref:t,onClick:Ce(e.onClick,()=>a.onOpenChange(!1))})});XP.displayName=QP;function cb(e){return e?"open":"closed"}var ZP="DialogTitleWarning",[dB,JP]=DI(ZP,{contentName:al,titleName:lb,docsSlug:"dialog"}),uB=({titleId:e})=>{const t=JP(ZP),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return f.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},fB="DialogDescriptionWarning",hB=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${JP(fB).contentName}}.`;return f.useEffect(()=>{var i;const a=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},xg=$P,eT=UP,yg=qP,xd=VP,yd=WP,Rf=KP,Mf=YP,wg=XP;const Ka=xg,mB=yg,tT=f.forwardRef(({className:e,...t},r)=>s.jsx(xd,{className:le("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));tT.displayName=xd.displayName;const pB=wl("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),ma=f.forwardRef(({side:e="right",className:t,children:r,...n},a)=>s.jsxs(mB,{children:[s.jsx(tT,{}),s.jsxs(yd,{ref:a,className:le(pB({side:e}),t),...n,children:[r,s.jsxs(wg,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[s.jsx(Pr,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));ma.displayName=yd.displayName;const gB=f.forwardRef(({className:e,...t},r)=>s.jsx(Rf,{ref:r,className:le("text-lg font-semibold text-foreground",e),...t}));gB.displayName=Rf.displayName;const vB=f.forwardRef(({className:e,...t},r)=>s.jsx(Mf,{ref:r,className:le("text-sm text-muted-foreground",e),...t}));vB.displayName=Mf.displayName;const xB="sidebar:state",yB=60*60*24*7,wB="13rem",bB="16rem",jB="3rem",_B="b",rT=f.createContext(null);function wd(){const e=f.useContext(rT);if(!e)throw new Error("useSidebar must be used within a SidebarProvider.");return e}const si=f.forwardRef(({defaultOpen:e=!0,open:t,onOpenChange:r,className:n,style:a,children:i,...o},l)=>{const c=sl(),[d,u]=f.useState(!1),[h,m]=f.useState(e),p=t??h,w=f.useCallback(x=>{const b=typeof x=="function"?x(p):x;r?r(b):m(b),document.cookie=`${xB}=${b}; path=/; max-age=${yB}`},[r,p]),v=f.useCallback(()=>c?u(x=>!x):w(x=>!x),[c,w,u]);f.useEffect(()=>{const x=b=>{b.key===_B&&(b.metaKey||b.ctrlKey)&&(b.preventDefault(),v())};return window.addEventListener("keydown",x),()=>window.removeEventListener("keydown",x)},[v]);const g=p?"expanded":"collapsed",y=f.useMemo(()=>({state:g,open:p,setOpen:w,isMobile:c,openMobile:d,setOpenMobile:u,toggleSidebar:v}),[g,p,w,c,d,u,v]);return s.jsx(rT.Provider,{value:y,children:s.jsx(vE,{delayDuration:0,children:s.jsx("div",{style:{"--sidebar-width":wB,"--sidebar-width-icon":jB,...a},className:le("group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar",n),ref:l,...o,children:i})})})});si.displayName="SidebarProvider";const db=f.forwardRef(({side:e="left",variant:t="sidebar",collapsible:r="offcanvas",className:n,children:a,...i},o)=>{const{isMobile:l,state:c,openMobile:d,setOpenMobile:u}=wd();return r==="none"?s.jsx("div",{className:le("flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",n),ref:o,...i,children:a}):l?s.jsx(Ka,{open:d,onOpenChange:u,...i,children:s.jsx(ma,{"data-sidebar":"sidebar","data-mobile":"true",className:"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden",style:{"--sidebar-width":bB},side:e,children:s.jsx("div",{className:"flex h-full w-full flex-col",children:a})})}):s.jsxs("div",{ref:o,className:"group peer hidden md:block text-sidebar-foreground","data-state":c,"data-collapsible":c==="collapsed"?r:"","data-variant":t,"data-side":e,children:[s.jsx("div",{className:le("duration-200 relative h-svh w-[--sidebar-width] bg-transparent transition-[width] ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",t==="floating"||t==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]")}),s.jsx("div",{className:le("duration-200 fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] ease-linear md:flex",e==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",t==="floating"||t==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",n),...i,children:s.jsx("div",{"data-sidebar":"sidebar",className:"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow",children:a})})]})});db.displayName="Sidebar";const bd=f.forwardRef(({className:e,onClick:t,...r},n)=>{const{toggleSidebar:a}=wd();return s.jsxs(O,{ref:n,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:le("h-7 w-7",e),onClick:i=>{t==null||t(i),a()},...r,children:[s.jsx($3,{}),s.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})});bd.displayName="SidebarTrigger";const NB=f.forwardRef(({className:e,...t},r)=>{const{toggleSidebar:n}=wd();return s.jsx("button",{ref:r,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:n,title:"Toggle Sidebar",className:le("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] hover:after:bg-sidebar-border group-data-[side=left]:-right-4 group-data-[side=right]:left-0 sm:flex","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",e),...t})});NB.displayName="SidebarRail";const SB=f.forwardRef(({className:e,...t},r)=>s.jsx("main",{ref:r,className:le("relative flex min-h-svh flex-1 flex-col bg-background","peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",e),...t}));SB.displayName="SidebarInset";const CB=f.forwardRef(({className:e,...t},r)=>s.jsx(Oe,{ref:r,"data-sidebar":"input",className:le("h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",e),...t}));CB.displayName="SidebarInput";const ub=f.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,"data-sidebar":"header",className:le("flex flex-col gap-2 p-2",e),...t}));ub.displayName="SidebarHeader";const kB=f.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,"data-sidebar":"footer",className:le("flex flex-col gap-2 p-2",e),...t}));kB.displayName="SidebarFooter";const rf=f.forwardRef(({className:e,...t},r)=>s.jsx(Zc,{ref:r,"data-sidebar":"separator",className:le("mx-2 w-auto bg-sidebar-border",e),...t}));rf.displayName="SidebarSeparator";const fb=f.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,"data-sidebar":"content",className:le("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",e),...t}));fb.displayName="SidebarContent";const nf=f.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,"data-sidebar":"group",className:le("relative flex w-full min-w-0 flex-col p-2",e),...t}));nf.displayName="SidebarGroup";const sf=f.forwardRef(({className:e,asChild:t=!1,...r},n)=>{const a=t?xl:"div";return s.jsx(a,{ref:n,"data-sidebar":"group-label",className:le("duration-200 flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opa] ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",e),...r})});sf.displayName="SidebarGroupLabel";const EB=f.forwardRef(({className:e,asChild:t=!1,...r},n)=>{const a=t?xl:"button";return s.jsx(a,{ref:n,"data-sidebar":"group-action",className:le("absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","group-data-[collapsible=icon]:hidden",e),...r})});EB.displayName="SidebarGroupAction";const af=f.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,"data-sidebar":"group-content",className:le("w-full text-sm",e),...t}));af.displayName="SidebarGroupContent";const of=f.forwardRef(({className:e,...t},r)=>s.jsx("ul",{ref:r,"data-sidebar":"menu",className:le("flex w-full min-w-0 flex-col gap-1",e),...t}));of.displayName="SidebarMenu";const qa=f.forwardRef(({className:e,...t},r)=>s.jsx("li",{ref:r,"data-sidebar":"menu-item",className:le("group/menu-item relative",e),...t}));qa.displayName="SidebarMenuItem";const PB=wl("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),Va=f.forwardRef(({asChild:e=!1,isActive:t=!1,variant:r="default",size:n="default",tooltip:a,className:i,...o},l)=>{const c=e?xl:"button",{isMobile:d,state:u}=wd(),h=s.jsx(c,{ref:l,"data-sidebar":"menu-button","data-size":n,"data-active":t,className:le(PB({variant:r,size:n}),i),...o});return a?(typeof a=="string"&&(a={children:a}),s.jsxs(H$,{children:[s.jsx(K$,{asChild:!0,children:h}),s.jsx(xE,{side:"right",align:"center",hidden:u!=="collapsed"||d,...a})]})):h});Va.displayName="SidebarMenuButton";const TB=f.forwardRef(({className:e,asChild:t=!1,showOnHover:r=!1,...n},a)=>{const i=t?xl:"button";return s.jsx(i,{ref:a,"data-sidebar":"menu-action",className:le("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 peer-hover/menu-button:text-sidebar-accent-foreground [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",r&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",e),...n})});TB.displayName="SidebarMenuAction";const RB=f.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,"data-sidebar":"menu-badge",className:le("absolute right-1 flex h-5 min-w-5 items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground select-none pointer-events-none","peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",e),...t}));RB.displayName="SidebarMenuBadge";const MB=f.forwardRef(({className:e,showIcon:t=!1,...r},n)=>{const a=f.useMemo(()=>`${Math.floor(Math.random()*40)+50}%`,[]);return s.jsxs("div",{ref:n,"data-sidebar":"menu-skeleton",className:le("rounded-md h-8 flex gap-2 px-2 items-center",e),...r,children:[t&&s.jsx(Xe,{className:"size-4 rounded-md","data-sidebar":"menu-skeleton-icon"}),s.jsx(Xe,{className:"h-4 flex-1 max-w-[--skeleton-width]","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":a}})]})});MB.displayName="SidebarMenuSkeleton";const AB=f.forwardRef(({className:e,...t},r)=>s.jsx("ul",{ref:r,"data-sidebar":"menu-sub",className:le("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",e),...t}));AB.displayName="SidebarMenuSub";const OB=f.forwardRef(({...e},t)=>s.jsx("li",{ref:t,...e}));OB.displayName="SidebarMenuSubItem";const DB=f.forwardRef(({asChild:e=!1,size:t="md",isActive:r,className:n,...a},i)=>{const o=e?xl:"a";return s.jsx(o,{ref:i,"data-sidebar":"menu-sub-button","data-size":t,"data-active":r,className:le("flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",t==="sm"&&"text-xs",t==="md"&&"text-sm","group-data-[collapsible=icon]:hidden",n),...a})});DB.displayName="SidebarMenuSubButton";const IB=[{title:"Perfil",url:"/musician/profile",icon:T2},{title:"QR Code",url:"/musician/qr",icon:nu},{title:"Catlogo",url:"/musician/catalogo",icon:nr},{title:"Pedidos",url:"/musician/pedidos",icon:b_},{title:"Agenda",url:"/musician/agenda",icon:wn},{title:"Msicos",url:"/musician/perfis",icon:Wc},{title:"Seguindo",url:"/musician/seguindo",icon:Wc},{title:"Extrato",url:"/musician/extrato",icon:z3},{title:"Meus pedidos",url:"/requests",icon:b_}];function Af(){const{state:e,isMobile:t,setOpenMobile:r}=wd(),n=e==="collapsed",i=Ys().pathname,o=g=>i===g,l=Rr(),{user:c}=ar(),{data:d}=Ze({queryKey:["sidebar-profile",c==null?void 0:c.id],enabled:!!(c!=null&&c.id),queryFn:async()=>{const{data:g,error:y}=await $.from("profiles").select("display_name, avatar_url, is_pro").eq("id",c.id).maybeSingle();if(y)throw y;return g}}),u=(d==null?void 0:d.display_name)||(c==null?void 0:c.email)||"Msico",h=(d==null?void 0:d.avatar_url)||void 0,{resolvedTheme:m,setTheme:p}=as(),w=async()=>{await $.auth.signOut(),l("/")},v=()=>p(m==="dark"?"light":"dark");return s.jsx(db,{collapsible:"offcanvas",variant:"floating",children:s.jsxs(fb,{children:[s.jsx(ub,{children:s.jsx("div",{className:"flex items-center justify-between px-2",children:s.jsxs("div",{className:n?"flex items-center gap-2":"flex flex-col items-center gap-1",children:[s.jsxs(Bt,{className:"h-10 w-10",isPro:!!(d!=null&&d.is_pro),children:[s.jsx(qt,{src:h,alt:u}),s.jsx(Vt,{children:(u||"M").charAt(0).toUpperCase()})]}),!n&&s.jsx("p",{className:"text-xs text-muted-foreground truncate max-w-[10rem]",children:u})]})})}),s.jsx(rf,{}),s.jsxs(nf,{children:[s.jsx(sf,{children:"Painel"}),s.jsx(af,{children:s.jsx(of,{children:IB.map(g=>s.jsx(qa,{children:s.jsx(Va,{asChild:!0,isActive:o(g.url),children:s.jsxs(Xm,{to:g.url,end:!0,onClick:()=>{t&&r(!1)},children:[s.jsx(g.icon,{className:"mr-2 h-4 w-4 text-primary"}),!n&&s.jsx("span",{className:"text-muted-foreground/90",children:g.title})]})})},g.title))})})]}),s.jsx(rf,{}),s.jsxs(nf,{children:[s.jsx(sf,{children:"Conta"}),s.jsx(af,{children:s.jsxs(of,{children:[s.jsx(qa,{children:s.jsxs(Va,{onClick:v,children:[m==="dark"?s.jsx(Gp,{className:"mr-2 h-4 w-4 text-primary"}):s.jsx(Kp,{className:"mr-2 h-4 w-4 text-primary"}),!n&&s.jsx("span",{className:"text-muted-foreground/90",children:m==="dark"?"Tema claro":"Tema escuro"})]})}),s.jsx(qa,{children:s.jsx(Va,{asChild:!0,isActive:o("/"),children:s.jsxs(Xm,{to:"/",end:!0,onClick:()=>{t&&r(!1)},children:[s.jsx(k2,{className:"mr-2 h-4 w-4 text-primary"}),!n&&s.jsx("span",{className:"text-muted-foreground/90",children:"Incio"})]})})}),s.jsx(qa,{children:s.jsxs(Va,{onClick:w,children:[s.jsx(E2,{className:"mr-2 h-4 w-4 text-primary"}),!n&&s.jsx("span",{className:"text-muted-foreground/90",children:"Sair"})]})})]})})]})]})})}function jd({isVisible:e,className:t=""}){return s.jsxs("div",{className:`flex items-center gap-2 px-2 py-1 bg-orange-100 dark:bg-orange-900/30 border border-orange-200 dark:border-orange-800 rounded-full transition-all duration-300 ease-in-out ${e?"opacity-100 scale-100 translate-x-0":"opacity-0 scale-95 -translate-x-2 pointer-events-none"} ${t}`,children:[s.jsx("svg",{className:"w-3 h-3 text-orange-600 dark:text-orange-400",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),s.jsx("span",{className:"text-xs font-medium text-orange-700 dark:text-orange-300",children:"Conta Inativa"})]})}function Of({userId:e,isMusician:t}){const[r,n]=f.useState(!1),{data:a,isLoading:i,error:o}=Ze({queryKey:["profile-status",e],enabled:!!e&&t,queryFn:async()=>{const{data:d,error:u}=await $.from("profiles").select("display_name, avatar_url, cover_url, description, username, whatsapp").eq("id",e).maybeSingle();if(u)throw u;return d},staleTime:5*60*1e3,gcTime:10*60*1e3}),l=f.useMemo(()=>{if(!t)return!0;if(!a)return!1;const d=(a.whatsapp||"").replace(/\D/g,"");return!!((a.display_name||"").trim()&&(a.avatar_url||"").trim()&&(a.cover_url||"").trim()&&(a.description||"").trim()&&(a.username||"").trim()&&d)},[t,a]);f.useEffect(()=>{if(e){n(!1);return}!i&&a!==null&&!r&&n(!0)},[e,i,a,r]);const c=f.useMemo(()=>t&&r&&!i&&!l&&a!==null,[t,r,i,l,a]);return{profile:a,isLoading:i,error:o,isActiveComputed:l,shouldShowIndicator:c,isInitialized:r}}const FB=()=>{var h,m,p;const e=Rr(),{user:t}=ar(),[r,n]=f.useState(!1),a=((h=t==null?void 0:t.user_metadata)==null?void 0:h.full_name)||(t==null?void 0:t.email)||"Usurio",i=((m=t==null?void 0:t.user_metadata)==null?void 0:m.avatar_url)||void 0,o=async()=>{await $.auth.signOut(),e("/")},{data:l}=Ze({queryKey:["roles",t==null?void 0:t.id],enabled:!!(t!=null&&t.id),queryFn:async()=>{const{data:w,error:v}=await $.from("user_roles").select("role").eq("user_id",t.id);if(v)throw v;return w}}),c=(l||[]).some(w=>w.role==="musician"),{shouldShowIndicator:d}=Of({userId:t==null?void 0:t.id,isMusician:c}),{resolvedTheme:u}=as();return s.jsx(si,{children:s.jsxs("div",{className:"min-h-screen flex w-full bg-background",children:[c?s.jsx(Af,{}):null,s.jsxs("main",{className:"flex-1",children:[s.jsx(Xt,{title:"Pedidos de Msica - Incio",description:"Crie e gerencie seus pedidos de msica."}),s.jsx("header",{className:"sticky top-0 z-40 h-12 flex items-center bg-background/80 supports-[backdrop-filter]:bg-background/60 backdrop-blur border-b px-4",children:s.jsxs("div",{className:"flex w-full items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[c?s.jsx(bd,{className:"mr-1"}):t?s.jsx(O,{variant:"ghost",size:"icon",onClick:()=>n(!0),"aria-label":"Abrir menu",children:s.jsx(Nf,{className:"h-5 w-5"})}):null,s.jsx(Yt,{to:"/",className:"font-semibold",children:s.jsx("img",{src:u==="dark"?"/logo_avaplay.png":"/logo_avaplay_amarelo.png",alt:"AVAPlay",className:"h-6"})}),s.jsx(jd,{isVisible:d})]}),s.jsxs("div",{className:"md:flex items-center gap-2",children:[s.jsx(eb,{}),t?null:s.jsx(O,{variant:"ghost",className:"h-7 px-2 text-xs hover:text-primary hover:bg-transparent",onClick:()=>e("/auth"),children:"Entrar"})]})]})}),s.jsxs("section",{className:"max-w-5xl mx-auto px-4 py-16",children:[s.jsx("section",{className:"text-center",children:s.jsx("p",{className:"text-lg mb-6 bg-gradient-to-r from-yellow-200 via-yellow-400 via-amber-400 to-orange-500 bg-clip-text text-transparent font-bold text-xl",children:"Pea sua msica, envie dedicatrias, contribua em tempo real."})}),s.jsx(lU,{})]}),t&&s.jsx(Ka,{open:r,onOpenChange:n,children:s.jsx(ma,{side:"left",className:"w-[16rem] p-0",children:s.jsxs("nav",{className:"p-2",children:[s.jsxs("div",{className:"flex items-center gap-3 p-3 border-b mb-2",children:[s.jsxs(Bt,{className:"h-10 w-10",isPro:!!((p=t==null?void 0:t.user_metadata)!=null&&p.is_pro),children:[s.jsx(qt,{src:i,alt:a??"Usurio"}),s.jsx(Vt,{children:(a||"U").charAt(0).toUpperCase()})]}),s.jsx("div",{className:"min-w-0",children:s.jsx("p",{className:"text-sm font-medium truncate",children:a})})]}),c&&s.jsx(O,{variant:"ghost",className:"w-full justify-start",onClick:()=>{n(!1),e("/musician")},children:"Painel"}),s.jsx(O,{variant:"ghost",className:"w-full justify-start",onClick:()=>{n(!1),e("/requests")},children:"Meus Pedidos"}),s.jsx(O,{variant:"ghost",className:"w-full justify-start",onClick:()=>{n(!1),e("/conexoes")},children:"Conexes"}),s.jsx(O,{variant:"ghost",className:"w-full justify-start",onClick:()=>{n(!1),e("/musician/profile")},children:"Editar perfil"}),s.jsx(O,{variant:"ghost",className:"w-full justify-start",onClick:()=>{n(!1),o()},children:"Sair"})]})})})]})]})})};var LB="Label",nT=f.forwardRef((e,t)=>s.jsx(Ie.label,{...e,ref:t,onMouseDown:r=>{var a;r.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));nT.displayName=LB;var sT=nT;const $B=wl("text-sm font-normal text-muted-foreground leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),$e=f.forwardRef(({className:e,...t},r)=>s.jsx(sT,{ref:r,className:le($B(),e),...t}));$e.displayName=sT.displayName;function aT(e){return e.toLowerCase().trim().replace(/[^a-z0-9-\s]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").replace(/^-|-$|_/g,"")}function zB(e){return e.toLowerCase().replace(/[^a-z0-9-\s]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-")}function UB(e){return/^[^@\s]+@[^@\s]+\.[^@\s]+$/.test(e.trim())}async function iT(e){if(!e)return!1;const{data:t,error:r}=await $.from("profiles").select("id").ilike("username",e).maybeSingle();if(r&&r.code!=="PGRST116")throw r;return!t}async function BB(e,t=5){const r=[],n=[e,`${e}-${new Date().getFullYear()}`,`${e}-${Math.floor(Math.random()*90+10)}`];let a=0;for(;r.length<t&&a<100;){const i=a<n.length?n[a]:`${e}-${Math.floor(Math.random()*9999)}`,o=aT(i);o&&await iT(o)&&!r.includes(o)&&r.push(o),a++}return r}const qB=()=>{const e=Rr(),{user:t,session:r,loading:n}=ar(),{resolvedTheme:a}=as(),[i,o]=f.useState(""),[l,c]=f.useState(""),[d,u]=f.useState("public"),[h,m]=f.useState(!1),[p,w]=f.useState(!1),[v,g]=f.useState("login"),[y,x]=f.useState(!0),[b,_]=f.useState(""),N=f.useMemo(()=>aT(b),[b]),[P,S]=f.useState(null),[T,U]=f.useState(!1),[q,re]=f.useState([]),G=f.useMemo(()=>UB(i)&&l.trim().length>=6,[i,l]),[H,V]=f.useState(!1),[se,ee]=f.useState(!1),J=()=>s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsxs("header",{className:"sticky top-0 z-40 h-12 flex items-center bg-background/80 supports-[backdrop-filter]:bg-background/60 backdrop-blur border-b px-4",children:[s.jsx(Xe,{className:"h-8 w-8 mr-2"}),s.jsxs("nav",{className:"flex w-full items-center justify-between",children:[s.jsx(Xe,{className:"h-6 w-24"}),s.jsx("div",{className:"hidden md:flex items-center gap-2"})]})]}),s.jsx("main",{className:"max-w-5xl mx-auto px-4 py-8",children:s.jsxs("section",{className:"w-full max-w-md mx-auto border-none rounded-lg p-6 bg-card text-card-foreground shadow-sm",children:[s.jsxs("header",{className:"mb-6 text-center",children:[s.jsx(Xe,{className:"h-10 w-36 mx-auto mb-2"}),s.jsx(Xe,{className:"h-4 w-48 mx-auto"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Xe,{className:"h-4 w-16"}),s.jsx(Xe,{className:"h-10 w-full"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Xe,{className:"h-4 w-16"}),s.jsx(Xe,{className:"h-10 w-full"})]}),s.jsx(Xe,{className:"h-10 w-full"}),s.jsxs("div",{className:"flex items-center gap-3 my-2",children:[s.jsx("div",{className:"h-px bg-border flex-1"}),s.jsx(Xe,{className:"h-3 w-8"}),s.jsx("div",{className:"h-px bg-border flex-1"})]}),s.jsx(Xe,{className:"h-10 w-full"}),s.jsx("div",{className:"text-center",children:s.jsx(Xe,{className:"h-4 w-40 mx-auto"})}),s.jsx("div",{className:"text-center",children:s.jsx(Xe,{className:"h-4 w-56 mx-auto"})})]})]})})]});f.useEffect(()=>{const A=setTimeout(()=>{x(!1)},800);return()=>clearTimeout(A)},[]),f.useEffect(()=>{t&&setTimeout(async()=>{try{const{data:A}=await $.from("profiles").select("is_blocked").eq("id",t.id).maybeSingle();if(A!=null&&A.is_blocked){await $.auth.signOut(),e("/blocked");return}const Y=localStorage.getItem("pending_role"),k=localStorage.getItem("pending_username"),z={id:t.id};k&&(z.username=k),await $.from("profiles").upsert(z,{onConflict:"id"}),Y&&(await $.from("user_roles").upsert({user_id:t.id,role:Y},{onConflict:"user_id,role"}),localStorage.removeItem("pending_role")),k&&localStorage.removeItem("pending_username")}catch{}e("/")},0)},[t,e]),f.useEffect(()=>{if(v!=="signup"||d!=="musician"){S(null),re([]),U(!1);return}if(!N){S(null),re([]),U(!1);return}let A=!1;U(!0);const Y=setTimeout(async()=>{try{const k=await iT(N);if(A)return;if(S(k),k)re([]);else{const z=await BB(N,5);A||re(z)}}catch(k){A||oe({title:"Erro",description:k.message})}finally{A||U(!1)}},400);return()=>{A=!0,clearTimeout(Y),U(!1)}},[N,v,d]);const I=async()=>{m(!0);const{error:A}=await $.auth.signInWithPassword({email:i,password:l});m(!1),oe(A?{title:"Erro ao entrar",description:A.message}:{title:"Bem-vindo!",description:"Login realizado com sucesso."})},D=async()=>{if(d==="musician"){if(!N){oe({title:"Informe um nome de usurio",description:"Ex.: gustavo-andrade"});return}if(!P){oe({title:"Nome indisponvel",description:"Escolha uma das sugestes ou tente outro nome."});return}}m(!0);try{localStorage.setItem("pending_role",d),d==="musician"&&N&&localStorage.setItem("pending_username",N);const A=`${window.location.origin}/`,{error:Y}=await $.auth.signUp({email:i,password:l,options:{emailRedirectTo:A}});Y?(localStorage.removeItem("pending_role"),localStorage.removeItem("pending_username"),oe({title:"Erro no cadastro",description:Y.message})):oe({title:"Verifique seu e-mail",description:"Enviamos um link de confirmao para ativar sua conta."})}finally{m(!1)}},C=async()=>{if(!i){oe({title:"Informe seu e-mail",description:"Preencha o campo de e-mail para receber o link."});return}m(!0);try{const A=`${window.location.origin}/auth/reset`,{error:Y}=await $.auth.resetPasswordForEmail(i,{redirectTo:A});oe(Y?{title:"Erro ao enviar e-mail",description:Y.message}:{title:"Verifique seu e-mail",description:"Enviamos um link para redefinir sua senha."})}finally{m(!1)}},E=async A=>{w(!0);try{A==="signup"&&(localStorage.setItem("pending_role",d),d==="musician"&&N&&localStorage.setItem("pending_username",N));const Y=`${window.location.origin}/`,{error:k}=await $.auth.signInWithOAuth({provider:"google",options:{redirectTo:Y}});k&&(A==="signup"&&(localStorage.removeItem("pending_role"),localStorage.removeItem("pending_username")),oe({title:"Erro no Google",description:k.message}))}catch(Y){A==="signup"&&(localStorage.removeItem("pending_role"),localStorage.removeItem("pending_username")),oe({title:"Erro no Google",description:(Y==null?void 0:Y.message)||"No foi possvel continuar com Google."})}finally{w(!1)}};return y||n||h||p?s.jsx(J,{}):s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx(Xt,{title:`${v==="login"?"Entrar":"Cadastrar"} - Pedidos de Msica`,description:"Acesse sua conta para gerenciar pedidos de msica."}),s.jsxs("header",{className:"sticky top-0 z-40 h-12 flex items-center bg-background/80 supports-[backdrop-filter]:bg-background/60 backdrop-blur border-b px-4",children:[s.jsx(O,{variant:"ghost",size:"icon",className:"mr-2","aria-label":"Voltar",onClick:()=>e("/"),children:s.jsx(Wp,{className:"h-5 w-5"})}),s.jsx("nav",{className:"flex w-full items-center justify-between",children:s.jsx("div",{className:"hidden md:flex items-center gap-2"})})]}),s.jsx("main",{className:"max-w-5xl mx-auto px-4 py-8",children:s.jsxs("section",{className:"w-full max-w-md mx-auto border-none rounded-lg p-6 bg-card text-card-foreground shadow-sm",children:[s.jsxs("header",{className:"mb-6 text-center flex flex-col items-center",children:[s.jsx("img",{src:a==="dark"?"/logo_avaplay.png":"/logo_avaplay_amarelo.png",alt:"AVAPlay",className:"h-10"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:v==="login"?"Entre para continuar":"Crie sua conta para continuar"})]}),v==="login"?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx($e,{htmlFor:"email-login",children:"Email"}),s.jsx(Oe,{id:"email-login",type:"email",placeholder:"seu email",value:i,onChange:A=>o(A.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx($e,{htmlFor:"password-login",children:"Senha"}),s.jsxs("div",{className:"relative",children:[s.jsx(Oe,{id:"password-login",type:H?"text":"password",value:l,onChange:A=>c(A.target.value)}),s.jsx("button",{type:"button",className:"absolute right-2 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",onClick:()=>V(A=>!A),"aria-label":H?"Ocultar senha":"Mostrar senha",children:H?s.jsx(Xn,{className:"h-4 w-4"}):s.jsx(Fr,{className:"h-4 w-4"})})]})]}),s.jsx(O,{className:"w-full",onClick:I,disabled:h||!G,children:h?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-current border-t-transparent rounded-full"}),"Entrando..."]}):"Entrar"}),s.jsxs("div",{className:"flex items-center gap-3 my-2",children:[s.jsx("div",{className:"h-px bg-border flex-1"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"ou"}),s.jsx("div",{className:"h-px bg-border flex-1"})]}),s.jsx(O,{variant:"outline",className:"w-full",onClick:()=>E("login"),disabled:p,children:p?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-current border-t-transparent rounded-full"}),"Conectando..."]}):s.jsxs(s.Fragment,{children:[s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",className:"h-4 w-4 mr-2",children:[s.jsx("path",{fill:"#FFC107",d:"M43.6 20.5H42V20H24v8h11.3C33.6 31.9 29.2 36 24 36c-6.6 0-12-5.4-12-12s5.4-12 12-12c3 0 5.8 1.1 7.9 3l5.7-5.7C33.1 6.1 28.8 4 24 4 16.1 4 9.3 8.5 6.3 14.7z"}),s.jsx("path",{fill:"#FF3D00",d:"M6.3 14.7l6.6 4.8C14.6 16 18.9 12 24 12c3 0 5.8 1.1 7.9 3l5.7-5.7C33.1 6.1 28.8 4 24 4 16.1 4 9.3 8.5 6.3 14.7z"}),s.jsx("path",{fill:"#4CAF50",d:"M24 44c5.1 0 9.7-1.9 13.1-5.1l-6.1-5.1C29.1 35 26.7 36 24 36c-5.2 0-9.6-4.1-10.6-9.4l-6.7 5.2C9.3 39.5 16.1 44 24 44z"}),s.jsx("path",{fill:"#1976D2",d:"M43.6 20.5H42V20H24v8h11.3c-1 4.3-5.4 8-11.3 8-5.2 0-9.6-4.1-10.6-9.4l-6.7 5.2C9.3 39.5 16.1 44 24 44c8.9 0 19.5-9 19.5-20 0-1.2-.1-2.3-.3-3.5z"})]}),"Continuar com Google"]})}),s.jsx("div",{className:"text-center",children:s.jsx(O,{variant:"link",type:"button",onClick:C,className:"px-0",children:"Esqueci minha senha"})}),s.jsxs("div",{className:"text-center text-sm mt-2",children:["Ainda no tem conta? ","",s.jsx("button",{className:"text-yellow-500 hover:text-yellow-600 font-medium",onClick:()=>g("signup"),children:"Cadastre-se"})]})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx($e,{children:"Voc ?"}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs(O,{type:"button",variant:d==="public"?"default":"outline",onClick:()=>u("public"),children:[s.jsx(T2,{className:"h-4 w-4 mr-2"})," Pblico"]}),s.jsxs(O,{type:"button",variant:d==="musician"?"default":"outline",onClick:()=>u("musician"),children:[s.jsx(nr,{className:"h-4 w-4 mr-2"})," Msico"]})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Escolha seu tipo de conta. Voc pode alterar depois nas configuraes do perfil."})]}),d==="musician"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx($e,{htmlFor:"username",children:"Nome pblico (link)"}),s.jsxs("div",{className:"relative",children:[s.jsx(Oe,{id:"username",placeholder:"ex.: gustavo-andrade",value:b,onChange:A=>_(zB(A.target.value)),className:"pr-8"}),s.jsx("div",{className:"absolute right-2 top-1/2 -translate-y-1/2",children:T?s.jsx(Hp,{className:"h-4 w-4 animate-spin text-muted-foreground"}):P===!0&&N?s.jsx(Mw,{className:"h-4 w-4 text-green-600"}):P===!1&&N?s.jsx(Aw,{className:"h-4 w-4 text-destructive"}):null})]}),T?s.jsx("p",{className:"text-xs text-muted-foreground",children:"Verificando disponibilidade..."}):P===!0?s.jsxs("p",{className:"text-xs text-green-600",children:["Disponvel! Seu perfil: ",`/${N}`]}):P===!1?s.jsxs("div",{className:"text-xs",children:[s.jsx("p",{className:"text-destructive mb-2",children:"Nome em uso. Sugestes:"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:q.map(A=>s.jsx(O,{size:"sm",variant:"secondary",onClick:()=>_(A),children:A},A))})]}):s.jsx("p",{className:"text-xs text-muted-foreground",children:'Use apenas letras minsculas, nmeros e "-".'})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx($e,{htmlFor:"email-signup",children:"Email"}),s.jsx(Oe,{id:"email-signup",type:"email",placeholder:"seu email",value:i,onChange:A=>o(A.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx($e,{htmlFor:"password-signup",children:"Senha"}),s.jsxs("div",{className:"relative",children:[s.jsx(Oe,{id:"password-signup",type:se?"text":"password",value:l,onChange:A=>c(A.target.value)}),s.jsx("button",{type:"button",className:"absolute right-2 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",onClick:()=>ee(A=>!A),"aria-label":se?"Ocultar senha":"Mostrar senha",children:se?s.jsx(Xn,{className:"h-4 w-4"}):s.jsx(Fr,{className:"h-4 w-4"})})]})]}),s.jsx(O,{className:"w-full",onClick:D,disabled:h||T,children:h?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-current border-t-transparent rounded-full"}),"Cadastrando..."]}):"Cadastrar"}),s.jsxs("div",{className:"flex items-center gap-3 my-2",children:[s.jsx("div",{className:"h-px bg-border flex-1"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"ou"}),s.jsx("div",{className:"h-px bg-border flex-1"})]}),s.jsx(O,{variant:"outline",className:"w-full",onClick:()=>E("signup"),disabled:p,children:p?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-current border-t-transparent rounded-full"}),"Conectando..."]}):s.jsxs(s.Fragment,{children:[s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",className:"h-4 w-4 mr-2",children:[s.jsx("path",{fill:"#FFC107",d:"M43.6 20.5H42V20H24v8h11.3C33.6 31.9 29.2 36 24 36c-6.6 0-12-5.4-12-12s5.4-12 12-12c3 0 5.8 1.1 7.9 3l5.7-5.7C33.1 6.1 28.8 4 24 4 16.1 4 9.3 8.5 6.3 14.7z"}),s.jsx("path",{fill:"#FF3D00",d:"M6.3 14.7l6.6 4.8C14.6 16 18.9 12 24 12c3 0 5.8 1.1 7.9 3l5.7-5.7C33.1 6.1 28.8 4 24 4 16.1 4 9.3 8.5 6.3 14.7z"}),s.jsx("path",{fill:"#4CAF50",d:"M24 44c5.1 0 9.7-1.9 13.1-5.1l-6.1-5.1C29.1 35 26.7 36 24 36c-5.2 0-9.6-4.1-10.6-9.4l-6.7 5.2C9.3 39.5 16.1 44 24 44z"}),s.jsx("path",{fill:"#1976D2",d:"M43.6 20.5H42V20H24v8h11.3c-1 4.3-5.4 8-11.3 8-5.2 0-9.6-4.1-10.6-9.4l-6.7 5.2C9.3 39.5 16.1 44 24 44c8.9 0 19.5-9 19.5-20 0-1.2-.1-2.3-.3-3.5z"})]}),"Cadastrar com Google"]})}),s.jsxs("div",{className:"text-center text-sm mt-2",children:["J tem conta? ","",s.jsx("button",{className:"text-yellow-500 hover:text-yellow-600 font-medium",onClick:()=>g("login"),children:"Entrar"})]})]})]})})]})},Li=f.forwardRef(({className:e,...t},r)=>s.jsx("textarea",{className:le("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-0 focus-visible:ring-offset-0 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));Li.displayName="Textarea";const tt=f.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:le("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));tt.displayName="Card";const Qt=f.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:le("flex flex-col space-y-1.5 p-6",e),...t}));Qt.displayName="CardHeader";const cr=f.forwardRef(({className:e,...t},r)=>s.jsx("h3",{ref:r,className:le("text-2xl font-semibold leading-none tracking-tight",e),...t}));cr.displayName="CardTitle";const oT=f.forwardRef(({className:e,...t},r)=>s.jsx("p",{ref:r,className:le("text-sm text-muted-foreground",e),...t}));oT.displayName="CardDescription";const rt=f.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:le("p-6 pt-0",e),...t}));rt.displayName="CardContent";const VB=f.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:le("flex items-center p-6 pt-0",e),...t}));VB.displayName="CardFooter";var bg="Popover",[lT,tQ]=Cn(bg,[yo]),Df=yo(),[WB,bo]=lT(bg),cT=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:o=!1}=e,l=Df(t),c=f.useRef(null),[d,u]=f.useState(!1),[h,m]=va({prop:n,defaultProp:a??!1,onChange:i,caller:bg});return s.jsx(Zp,{...l,children:s.jsx(WB,{scope:t,contentId:Xr(),triggerRef:c,open:h,onOpenChange:m,onOpenToggle:f.useCallback(()=>m(p=>!p),[m]),hasCustomAnchor:d,onCustomAnchorAdd:f.useCallback(()=>u(!0),[]),onCustomAnchorRemove:f.useCallback(()=>u(!1),[]),modal:o,children:r})})};cT.displayName=bg;var dT="PopoverAnchor",HB=f.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=bo(dT,r),i=Df(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=a;return f.useEffect(()=>(o(),()=>l()),[o,l]),s.jsx(Cf,{...i,...n,ref:t})});HB.displayName=dT;var uT="PopoverTrigger",fT=f.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=bo(uT,r),i=Df(r),o=ct(t,a.triggerRef),l=s.jsx(Ie.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":vT(a.open),...n,ref:o,onClick:Ce(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?l:s.jsx(Cf,{asChild:!0,...i,children:l})});fT.displayName=uT;var hb="PopoverPortal",[KB,GB]=lT(hb,{forceMount:void 0}),hT=e=>{const{__scopePopover:t,forceMount:r,children:n,container:a}=e,i=bo(hb,t);return s.jsx(KB,{scope:t,forceMount:r,children:s.jsx(rn,{present:r||i.open,children:s.jsx(cd,{asChild:!0,container:a,children:n})})})};hT.displayName=hb;var Jc="PopoverContent",mT=f.forwardRef((e,t)=>{const r=GB(Jc,e.__scopePopover),{forceMount:n=r.forceMount,...a}=e,i=bo(Jc,e.__scopePopover);return s.jsx(rn,{present:n||i.open,children:i.modal?s.jsx(QB,{...a,ref:t}):s.jsx(XB,{...a,ref:t})})});mT.displayName=Jc;var YB=no("PopoverContent.RemoveScroll"),QB=f.forwardRef((e,t)=>{const r=bo(Jc,e.__scopePopover),n=f.useRef(null),a=ct(t,n),i=f.useRef(!1);return f.useEffect(()=>{const o=n.current;if(o)return gg(o)},[]),s.jsx(Tf,{as:YB,allowPinchZoom:!0,children:s.jsx(pT,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ce(e.onCloseAutoFocus,o=>{var l;o.preventDefault(),i.current||(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:Ce(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,d=l.button===2||c;i.current=d},{checkForDefaultPrevented:!1}),onFocusOutside:Ce(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),XB=f.forwardRef((e,t)=>{const r=bo(Jc,e.__scopePopover),n=f.useRef(!1),a=f.useRef(!1);return s.jsx(pT,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((d=r.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),pT=f.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:u,...h}=e,m=bo(Jc,r),p=Df(r);return mg(),s.jsx(Pf,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx(yl,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:u,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onDismiss:()=>m.onOpenChange(!1),children:s.jsx(Jp,{"data-state":vT(m.open),role:"dialog",id:m.contentId,...p,...h,ref:t,style:{...h.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),gT="PopoverClose",ZB=f.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=bo(gT,r);return s.jsx(Ie.button,{type:"button",...n,ref:t,onClick:Ce(e.onClick,()=>a.onOpenChange(!1))})});ZB.displayName=gT;var JB="PopoverArrow",eq=f.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Df(r);return s.jsx(eg,{...a,...n,ref:t})});eq.displayName=JB;function vT(e){return e?"open":"closed"}var tq=cT,rq=fT,nq=hT,xT=mT;const bn=tq,jn=rq,un=f.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},a)=>s.jsx(nq,{children:s.jsx(xT,{ref:a,align:t,sideOffset:r,className:le("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));un.displayName=xT.displayName;function Rt(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function ts(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function xn(e,t){const r=Rt(e);return isNaN(t)?ts(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function Hs(e,t){const r=Rt(e);if(isNaN(t))return ts(e,NaN);if(!t)return r;const n=r.getDate(),a=ts(e,r.getTime());a.setMonth(r.getMonth()+t+1,0);const i=a.getDate();return n>=i?a:(r.setFullYear(a.getFullYear(),a.getMonth(),n),r)}const mb=6048e5,sq=864e5;let aq={};function If(){return aq}function ya(e,t){var l,c,d,u;const r=If(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((u=(d=r.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??0,a=Rt(e),i=a.getDay(),o=(i<n?7:0)+i-n;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function il(e){return ya(e,{weekStartsOn:1})}function yT(e){const t=Rt(e),r=t.getFullYear(),n=ts(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const a=il(n),i=ts(e,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const o=il(i);return t.getTime()>=a.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function ed(e){const t=Rt(e);return t.setHours(0,0,0,0),t}function tp(e){const t=Rt(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function ca(e,t){const r=ed(e),n=ed(t),a=+r-tp(r),i=+n-tp(n);return Math.round((a-i)/sq)}function iq(e){const t=yT(e),r=ts(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),il(r)}function d0(e,t){const r=t*7;return xn(e,r)}function oq(e,t){return Hs(e,t*12)}function lq(e){let t;return e.forEach(function(r){const n=Rt(r);(t===void 0||t<n||isNaN(Number(n)))&&(t=n)}),t||new Date(NaN)}function cq(e){let t;return e.forEach(r=>{const n=Rt(r);(!t||t>n||isNaN(+n))&&(t=n)}),t||new Date(NaN)}function Fn(e,t){const r=ed(e),n=ed(t);return+r==+n}function pb(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function dq(e){if(!pb(e)&&typeof e!="number")return!1;const t=Rt(e);return!isNaN(Number(t))}function lf(e,t){const r=Rt(e),n=Rt(t),a=r.getFullYear()-n.getFullYear(),i=r.getMonth()-n.getMonth();return a*12+i}function uq(e,t,r){const n=ya(e,r),a=ya(t,r),i=+n-tp(n),o=+a-tp(a);return Math.round((i-o)/mb)}function gb(e){const t=Rt(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function Un(e){const t=Rt(e);return t.setDate(1),t.setHours(0,0,0,0),t}function wT(e){const t=Rt(e),r=ts(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function vb(e,t){var l,c,d,u;const r=If(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((u=(d=r.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??0,a=Rt(e),i=a.getDay(),o=(i<n?-7:0)+6-(i-n);return a.setDate(a.getDate()+o),a.setHours(23,59,59,999),a}function bT(e){return vb(e,{weekStartsOn:1})}const fq={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},hq=(e,t,r)=>{let n;const a=fq[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Nc(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const mq={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},pq={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},gq={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},vq={date:Nc({formats:mq,defaultWidth:"full"}),time:Nc({formats:pq,defaultWidth:"full"}),dateTime:Nc({formats:gq,defaultWidth:"full"})},xq={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},yq=(e,t,r,n)=>xq[e];function aa(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):o;a=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const wq={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},bq={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},jq={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},_q={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Nq={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Sq={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Cq=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},kq={ordinalNumber:Cq,era:aa({values:wq,defaultWidth:"wide"}),quarter:aa({values:bq,defaultWidth:"wide",argumentCallback:e=>e-1}),month:aa({values:jq,defaultWidth:"wide"}),day:aa({values:_q,defaultWidth:"wide"}),dayPeriod:aa({values:Nq,defaultWidth:"wide",formattingValues:Sq,defaultFormattingWidth:"wide"})};function ia(e){return(t,r={})=>{const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const o=i[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?Pq(l,h=>h.test(o)):Eq(l,h=>h.test(o));let d;d=e.valueCallback?e.valueCallback(c):c,d=r.valueCallback?r.valueCallback(d):d;const u=t.slice(o.length);return{value:d,rest:u}}}function Eq(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function Pq(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function jT(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const a=n[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(a.length);return{value:o,rest:l}}}const Tq=/^(\d+)(th|st|nd|rd)?/i,Rq=/\d+/i,Mq={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Aq={any:[/^b/i,/^(a|c)/i]},Oq={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Dq={any:[/1/i,/2/i,/3/i,/4/i]},Iq={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Fq={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Lq={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},$q={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},zq={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Uq={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Bq={ordinalNumber:jT({matchPattern:Tq,parsePattern:Rq,valueCallback:e=>parseInt(e,10)}),era:ia({matchPatterns:Mq,defaultMatchWidth:"wide",parsePatterns:Aq,defaultParseWidth:"any"}),quarter:ia({matchPatterns:Oq,defaultMatchWidth:"wide",parsePatterns:Dq,defaultParseWidth:"any",valueCallback:e=>e+1}),month:ia({matchPatterns:Iq,defaultMatchWidth:"wide",parsePatterns:Fq,defaultParseWidth:"any"}),day:ia({matchPatterns:Lq,defaultMatchWidth:"wide",parsePatterns:$q,defaultParseWidth:"any"}),dayPeriod:ia({matchPatterns:zq,defaultMatchWidth:"any",parsePatterns:Uq,defaultParseWidth:"any"})},_T={code:"en-US",formatDistance:hq,formatLong:vq,formatRelative:yq,localize:kq,match:Bq,options:{weekStartsOn:0,firstWeekContainsDate:1}};function qq(e){const t=Rt(e);return ca(t,wT(t))+1}function NT(e){const t=Rt(e),r=+il(t)-+iq(t);return Math.round(r/mb)+1}function ST(e,t){var u,h,m,p;const r=Rt(e),n=r.getFullYear(),a=If(),i=(t==null?void 0:t.firstWeekContainsDate)??((h=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??a.firstWeekContainsDate??((p=(m=a.locale)==null?void 0:m.options)==null?void 0:p.firstWeekContainsDate)??1,o=ts(e,0);o.setFullYear(n+1,0,i),o.setHours(0,0,0,0);const l=ya(o,t),c=ts(e,0);c.setFullYear(n,0,i),c.setHours(0,0,0,0);const d=ya(c,t);return r.getTime()>=l.getTime()?n+1:r.getTime()>=d.getTime()?n:n-1}function Vq(e,t){var l,c,d,u;const r=If(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((u=(d=r.locale)==null?void 0:d.options)==null?void 0:u.firstWeekContainsDate)??1,a=ST(e,t),i=ts(e,0);return i.setFullYear(a,0,n),i.setHours(0,0,0,0),ya(i,t)}function CT(e,t){const r=Rt(e),n=+ya(r,t)-+Vq(r,t);return Math.round(n/mb)+1}function Lt(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const hi={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return Lt(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Lt(r+1,2)},d(e,t){return Lt(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Lt(e.getHours()%12||12,t.length)},H(e,t){return Lt(e.getHours(),t.length)},m(e,t){return Lt(e.getMinutes(),t.length)},s(e,t){return Lt(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return Lt(a,t.length)}},Vl={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},RN={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return hi.y(e,t)},Y:function(e,t,r,n){const a=ST(e,n),i=a>0?a:1-a;if(t==="YY"){const o=i%100;return Lt(o,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):Lt(i,t.length)},R:function(e,t){const r=yT(e);return Lt(r,t.length)},u:function(e,t){const r=e.getFullYear();return Lt(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Lt(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Lt(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return hi.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return Lt(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const a=CT(e,n);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):Lt(a,t.length)},I:function(e,t,r){const n=NT(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):Lt(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):hi.d(e,t)},D:function(e,t,r){const n=qq(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Lt(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return Lt(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return Lt(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),a=n===0?7:n;switch(t){case"i":return String(a);case"ii":return Lt(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let a;switch(n===12?a=Vl.noon:n===0?a=Vl.midnight:a=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let a;switch(n>=17?a=Vl.evening:n>=12?a=Vl.afternoon:n>=4?a=Vl.morning:a=Vl.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return hi.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):hi.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Lt(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):Lt(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):hi.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):hi.s(e,t)},S:function(e,t){return hi.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return AN(n);case"XXXX":case"XX":return Mo(n);case"XXXXX":case"XXX":default:return Mo(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return AN(n);case"xxxx":case"xx":return Mo(n);case"xxxxx":case"xxx":default:return Mo(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+MN(n,":");case"OOOO":default:return"GMT"+Mo(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+MN(n,":");case"zzzz":default:return"GMT"+Mo(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return Lt(n,t.length)},T:function(e,t,r){const n=e.getTime();return Lt(n,t.length)}};function MN(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),i=n%60;return i===0?r+String(a):r+String(a)+t+Lt(i,2)}function AN(e,t){return e%60===0?(e>0?"-":"+")+Lt(Math.abs(e)/60,2):Mo(e,t)}function Mo(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Lt(Math.trunc(n/60),2),i=Lt(n%60,2);return r+a+t+i}const ON=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},kT=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Wq=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return ON(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",ON(n,t)).replace("{{time}}",kT(a,t))},Hq={p:kT,P:Wq},Kq=/^D+$/,Gq=/^Y+$/,Yq=["D","DD","YY","YYYY"];function Qq(e){return Kq.test(e)}function Xq(e){return Gq.test(e)}function Zq(e,t,r){const n=Jq(e,t,r);if(console.warn(n),Yq.includes(e))throw new RangeError(n)}function Jq(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const e9=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,t9=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,r9=/^'([^]*?)'?$/,n9=/''/g,s9=/[a-zA-Z]/;function Ht(e,t,r){var u,h,m,p,w,v,g,y;const n=If(),a=(r==null?void 0:r.locale)??n.locale??_T,i=(r==null?void 0:r.firstWeekContainsDate)??((h=(u=r==null?void 0:r.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??n.firstWeekContainsDate??((p=(m=n.locale)==null?void 0:m.options)==null?void 0:p.firstWeekContainsDate)??1,o=(r==null?void 0:r.weekStartsOn)??((v=(w=r==null?void 0:r.locale)==null?void 0:w.options)==null?void 0:v.weekStartsOn)??n.weekStartsOn??((y=(g=n.locale)==null?void 0:g.options)==null?void 0:y.weekStartsOn)??0,l=Rt(e);if(!dq(l))throw new RangeError("Invalid time value");let c=t.match(t9).map(x=>{const b=x[0];if(b==="p"||b==="P"){const _=Hq[b];return _(x,a.formatLong)}return x}).join("").match(e9).map(x=>{if(x==="''")return{isToken:!1,value:"'"};const b=x[0];if(b==="'")return{isToken:!1,value:a9(x)};if(RN[b])return{isToken:!0,value:x};if(b.match(s9))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:x}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const d={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return c.map(x=>{if(!x.isToken)return x.value;const b=x.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&Xq(b)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&Qq(b))&&Zq(b,t,String(e));const _=RN[b[0]];return _(l,b,a.localize,d)}).join("")}function a9(e){const t=e.match(r9);return t?t[1].replace(n9,"'"):e}function i9(e){const t=Rt(e),r=t.getFullYear(),n=t.getMonth(),a=ts(e,0);return a.setFullYear(r,n+1,0),a.setHours(0,0,0,0),a.getDate()}function o9(e){return Math.trunc(+Rt(e)/1e3)}function l9(e){const t=Rt(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(0,0,0,0),t}function c9(e,t){return uq(l9(e),Un(e),t)+1}function u0(e,t){const r=Rt(e),n=Rt(t);return r.getTime()>n.getTime()}function ET(e,t){const r=Rt(e),n=Rt(t);return+r<+n}function xb(e,t){const r=Rt(e),n=Rt(t);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function d9(e,t){const r=Rt(e),n=Rt(t);return r.getFullYear()===n.getFullYear()}function ku(e,t){return xn(e,-t)}function hx(e,t){const r=Rt(e),n=r.getFullYear(),a=r.getDate(),i=ts(e,0);i.setFullYear(n,t,15),i.setHours(0,0,0,0);const o=i9(i);return r.setMonth(t,Math.min(a,o)),r}function DN(e,t){const r=Rt(e);return isNaN(+r)?ts(e,NaN):(r.setFullYear(t),r)}const u9={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 ms",other:"cerca de {{count}} meses"},xMonths:{one:"1 ms",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},f9=(e,t,r)=>{let n;const a=u9[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",String(t)),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"em "+n:"h "+n:n},h9={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},m9={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},p9={full:"{{date}} 's' {{time}}",long:"{{date}} 's' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},g9={date:Nc({formats:h9,defaultWidth:"full"}),time:Nc({formats:m9,defaultWidth:"full"}),dateTime:Nc({formats:p9,defaultWidth:"full"})},v9={lastWeek:e=>{const t=e.getDay();return"'"+(t===0||t===6?"ltimo":"ltima")+"' eeee 's' p"},yesterday:"'ontem s' p",today:"'hoje s' p",tomorrow:"'amanh s' p",nextWeek:"eeee 's' p",other:"P"},x9=(e,t,r,n)=>{const a=v9[e];return typeof a=="function"?a(t):a},y9={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},w9={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},b9={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","maro","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},j9={narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","tera","quarta","quinta","sexta","sbado"],wide:["domingo","segunda-feira","tera-feira","quarta-feira","quinta-feira","sexta-feira","sbado"]},_9={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"}},N9={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},S9=(e,t)=>{const r=Number(e);return(t==null?void 0:t.unit)==="week"?r+"":r+""},C9={ordinalNumber:S9,era:aa({values:y9,defaultWidth:"wide"}),quarter:aa({values:w9,defaultWidth:"wide",argumentCallback:e=>e-1}),month:aa({values:b9,defaultWidth:"wide"}),day:aa({values:j9,defaultWidth:"wide"}),dayPeriod:aa({values:_9,defaultWidth:"wide",formattingValues:N9,defaultFormattingWidth:"wide"})},k9=/^(\d+)[o]?/i,E9=/\d+/i,P9={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},T9={any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},R9={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},M9={any:[/1/i,/2/i,/3/i,/4/i]},A9={narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|maro|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},O9={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},D9={narrow:/^(dom|[23456]?|s[a]b)/i,short:/^(dom|[23456]?|s[a]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[a]b)/i,wide:/^(domingo|(segunda|ter[c]a|quarta|quinta|sexta)([- ]feira)?|s[a]bado)/i},I9={short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[a]b/i]},F9={narrow:/^(a|p|mn|md|(da) (manh|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manh|tarde|noite))/i},L9={any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manh/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},$9={ordinalNumber:jT({matchPattern:k9,parsePattern:E9,valueCallback:e=>parseInt(e,10)}),era:ia({matchPatterns:P9,defaultMatchWidth:"wide",parsePatterns:T9,defaultParseWidth:"any"}),quarter:ia({matchPatterns:R9,defaultMatchWidth:"wide",parsePatterns:M9,defaultParseWidth:"any",valueCallback:e=>e+1}),month:ia({matchPatterns:A9,defaultMatchWidth:"wide",parsePatterns:O9,defaultParseWidth:"any"}),day:ia({matchPatterns:D9,defaultMatchWidth:"wide",parsePatterns:I9,defaultParseWidth:"any"}),dayPeriod:ia({matchPatterns:F9,defaultMatchWidth:"any",parsePatterns:L9,defaultParseWidth:"any"})},ol={code:"pt-BR",formatDistance:f9,formatLong:g9,formatRelative:x9,localize:C9,match:$9,options:{weekStartsOn:0,firstWeekContainsDate:1}};var Je=function(){return Je=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Je.apply(this,arguments)};function z9(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function PT(e,t,r){for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}function Ff(e){return e.mode==="multiple"}function Lf(e){return e.mode==="range"}function jg(e){return e.mode==="single"}var U9={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function B9(e,t){return Ht(e,"LLLL y",t)}function q9(e,t){return Ht(e,"d",t)}function V9(e,t){return Ht(e,"LLLL",t)}function W9(e){return"".concat(e)}function H9(e,t){return Ht(e,"cccccc",t)}function K9(e,t){return Ht(e,"yyyy",t)}var G9=Object.freeze({__proto__:null,formatCaption:B9,formatDay:q9,formatMonthCaption:V9,formatWeekNumber:W9,formatWeekdayName:H9,formatYearCaption:K9}),Y9=function(e,t,r){return Ht(e,"do MMMM (EEEE)",r)},Q9=function(){return"Month: "},X9=function(){return"Go to next month"},Z9=function(){return"Go to previous month"},J9=function(e,t){return Ht(e,"cccc",t)},eV=function(e){return"Week n. ".concat(e)},tV=function(){return"Year: "},rV=Object.freeze({__proto__:null,labelDay:Y9,labelMonthDropdown:Q9,labelNext:X9,labelPrevious:Z9,labelWeekNumber:eV,labelWeekday:J9,labelYearDropdown:tV});function nV(){var e="buttons",t=U9,r=_T,n={},a={},i=1,o={},l=new Date;return{captionLayout:e,classNames:t,formatters:G9,labels:rV,locale:r,modifiersClassNames:n,modifiers:a,numberOfMonths:i,styles:o,today:l,mode:"default"}}function sV(e){var t=e.fromYear,r=e.toYear,n=e.fromMonth,a=e.toMonth,i=e.fromDate,o=e.toDate;return n?i=Un(n):t&&(i=new Date(t,0,1)),a?o=gb(a):r&&(o=new Date(r,11,31)),{fromDate:i?ed(i):void 0,toDate:o?ed(o):void 0}}var TT=f.createContext(void 0);function aV(e){var t,r=e.initialProps,n=nV(),a=sV(r),i=a.fromDate,o=a.toDate,l=(t=r.captionLayout)!==null&&t!==void 0?t:n.captionLayout;l!=="buttons"&&(!i||!o)&&(l="buttons");var c;(jg(r)||Ff(r)||Lf(r))&&(c=r.onSelect);var d=Je(Je(Je({},n),r),{captionLayout:l,classNames:Je(Je({},n.classNames),r.classNames),components:Je({},r.components),formatters:Je(Je({},n.formatters),r.formatters),fromDate:i,labels:Je(Je({},n.labels),r.labels),mode:r.mode||n.mode,modifiers:Je(Je({},n.modifiers),r.modifiers),modifiersClassNames:Je(Je({},n.modifiersClassNames),r.modifiersClassNames),onSelect:c,styles:Je(Je({},n.styles),r.styles),toDate:o});return s.jsx(TT.Provider,{value:d,children:e.children})}function Zt(){var e=f.useContext(TT);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function RT(e){var t=Zt(),r=t.locale,n=t.classNames,a=t.styles,i=t.formatters.formatCaption;return s.jsx("div",{className:n.caption_label,style:a.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:i(e.displayMonth,{locale:r})})}function iV(e){return s.jsx("svg",Je({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:s.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function MT(e){var t,r,n=e.onChange,a=e.value,i=e.children,o=e.caption,l=e.className,c=e.style,d=Zt(),u=(r=(t=d.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&r!==void 0?r:iV;return s.jsxs("div",{className:l,style:c,children:[s.jsx("span",{className:d.classNames.vhidden,children:e["aria-label"]}),s.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:d.classNames.dropdown,style:d.styles.dropdown,value:a,onChange:n,children:i}),s.jsxs("div",{className:d.classNames.caption_label,style:d.styles.caption_label,"aria-hidden":"true",children:[o,s.jsx(u,{className:d.classNames.dropdown_icon,style:d.styles.dropdown_icon})]})]})}function oV(e){var t,r=Zt(),n=r.fromDate,a=r.toDate,i=r.styles,o=r.locale,l=r.formatters.formatMonthCaption,c=r.classNames,d=r.components,u=r.labels.labelMonthDropdown;if(!n)return s.jsx(s.Fragment,{});if(!a)return s.jsx(s.Fragment,{});var h=[];if(d9(n,a))for(var m=Un(n),p=n.getMonth();p<=a.getMonth();p++)h.push(hx(m,p));else for(var m=Un(new Date),p=0;p<=11;p++)h.push(hx(m,p));var w=function(g){var y=Number(g.target.value),x=hx(Un(e.displayMonth),y);e.onChange(x)},v=(t=d==null?void 0:d.Dropdown)!==null&&t!==void 0?t:MT;return s.jsx(v,{name:"months","aria-label":u(),className:c.dropdown_month,style:i.dropdown_month,onChange:w,value:e.displayMonth.getMonth(),caption:l(e.displayMonth,{locale:o}),children:h.map(function(g){return s.jsx("option",{value:g.getMonth(),children:l(g,{locale:o})},g.getMonth())})})}function lV(e){var t,r=e.displayMonth,n=Zt(),a=n.fromDate,i=n.toDate,o=n.locale,l=n.styles,c=n.classNames,d=n.components,u=n.formatters.formatYearCaption,h=n.labels.labelYearDropdown,m=[];if(!a)return s.jsx(s.Fragment,{});if(!i)return s.jsx(s.Fragment,{});for(var p=a.getFullYear(),w=i.getFullYear(),v=p;v<=w;v++)m.push(DN(wT(new Date),v));var g=function(x){var b=DN(Un(r),Number(x.target.value));e.onChange(b)},y=(t=d==null?void 0:d.Dropdown)!==null&&t!==void 0?t:MT;return s.jsx(y,{name:"years","aria-label":h(),className:c.dropdown_year,style:l.dropdown_year,onChange:g,value:r.getFullYear(),caption:u(r,{locale:o}),children:m.map(function(x){return s.jsx("option",{value:x.getFullYear(),children:u(x,{locale:o})},x.getFullYear())})})}function cV(e,t){var r=f.useState(e),n=r[0],a=r[1],i=t===void 0?n:t;return[i,a]}function dV(e){var t=e.month,r=e.defaultMonth,n=e.today,a=t||r||n||new Date,i=e.toDate,o=e.fromDate,l=e.numberOfMonths,c=l===void 0?1:l;if(i&&lf(i,a)<0){var d=-1*(c-1);a=Hs(i,d)}return o&&lf(a,o)<0&&(a=o),Un(a)}function uV(){var e=Zt(),t=dV(e),r=cV(t,e.month),n=r[0],a=r[1],i=function(o){var l;if(!e.disableNavigation){var c=Un(o);a(c),(l=e.onMonthChange)===null||l===void 0||l.call(e,c)}};return[n,i]}function fV(e,t){for(var r=t.reverseMonths,n=t.numberOfMonths,a=Un(e),i=Un(Hs(a,n)),o=lf(i,a),l=[],c=0;c<o;c++){var d=Hs(a,c);l.push(d)}return r&&(l=l.reverse()),l}function hV(e,t){if(!t.disableNavigation){var r=t.toDate,n=t.pagedNavigation,a=t.numberOfMonths,i=a===void 0?1:a,o=n?i:1,l=Un(e);if(!r)return Hs(l,o);var c=lf(r,e);if(!(c<i))return Hs(l,o)}}function mV(e,t){if(!t.disableNavigation){var r=t.fromDate,n=t.pagedNavigation,a=t.numberOfMonths,i=a===void 0?1:a,o=n?i:1,l=Un(e);if(!r)return Hs(l,-o);var c=lf(l,r);if(!(c<=0))return Hs(l,-o)}}var AT=f.createContext(void 0);function pV(e){var t=Zt(),r=uV(),n=r[0],a=r[1],i=fV(n,t),o=hV(n,t),l=mV(n,t),c=function(h){return i.some(function(m){return xb(h,m)})},d=function(h,m){c(h)||(m&&ET(h,m)?a(Hs(h,1+t.numberOfMonths*-1)):a(h))},u={currentMonth:n,displayMonths:i,goToMonth:a,goToDate:d,previousMonth:l,nextMonth:o,isDateDisplayed:c};return s.jsx(AT.Provider,{value:u,children:e.children})}function $f(){var e=f.useContext(AT);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function IN(e){var t,r=Zt(),n=r.classNames,a=r.styles,i=r.components,o=$f().goToMonth,l=function(u){o(Hs(u,e.displayIndex?-e.displayIndex:0))},c=(t=i==null?void 0:i.CaptionLabel)!==null&&t!==void 0?t:RT,d=s.jsx(c,{id:e.id,displayMonth:e.displayMonth});return s.jsxs("div",{className:n.caption_dropdowns,style:a.caption_dropdowns,children:[s.jsx("div",{className:n.vhidden,children:d}),s.jsx(oV,{onChange:l,displayMonth:e.displayMonth}),s.jsx(lV,{onChange:l,displayMonth:e.displayMonth})]})}function gV(e){return s.jsx("svg",Je({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:s.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function vV(e){return s.jsx("svg",Je({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:s.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var rp=f.forwardRef(function(e,t){var r=Zt(),n=r.classNames,a=r.styles,i=[n.button_reset,n.button];e.className&&i.push(e.className);var o=i.join(" "),l=Je(Je({},a.button_reset),a.button);return e.style&&Object.assign(l,e.style),s.jsx("button",Je({},e,{ref:t,type:"button",className:o,style:l}))});function xV(e){var t,r,n=Zt(),a=n.dir,i=n.locale,o=n.classNames,l=n.styles,c=n.labels,d=c.labelPrevious,u=c.labelNext,h=n.components;if(!e.nextMonth&&!e.previousMonth)return s.jsx(s.Fragment,{});var m=d(e.previousMonth,{locale:i}),p=[o.nav_button,o.nav_button_previous].join(" "),w=u(e.nextMonth,{locale:i}),v=[o.nav_button,o.nav_button_next].join(" "),g=(t=h==null?void 0:h.IconRight)!==null&&t!==void 0?t:vV,y=(r=h==null?void 0:h.IconLeft)!==null&&r!==void 0?r:gV;return s.jsxs("div",{className:o.nav,style:l.nav,children:[!e.hidePrevious&&s.jsx(rp,{name:"previous-month","aria-label":m,className:p,style:l.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:a==="rtl"?s.jsx(g,{className:o.nav_icon,style:l.nav_icon}):s.jsx(y,{className:o.nav_icon,style:l.nav_icon})}),!e.hideNext&&s.jsx(rp,{name:"next-month","aria-label":w,className:v,style:l.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:a==="rtl"?s.jsx(y,{className:o.nav_icon,style:l.nav_icon}):s.jsx(g,{className:o.nav_icon,style:l.nav_icon})})]})}function FN(e){var t=Zt().numberOfMonths,r=$f(),n=r.previousMonth,a=r.nextMonth,i=r.goToMonth,o=r.displayMonths,l=o.findIndex(function(w){return xb(e.displayMonth,w)}),c=l===0,d=l===o.length-1,u=t>1&&(c||!d),h=t>1&&(d||!c),m=function(){n&&i(n)},p=function(){a&&i(a)};return s.jsx(xV,{displayMonth:e.displayMonth,hideNext:u,hidePrevious:h,nextMonth:a,previousMonth:n,onPreviousClick:m,onNextClick:p})}function yV(e){var t,r=Zt(),n=r.classNames,a=r.disableNavigation,i=r.styles,o=r.captionLayout,l=r.components,c=(t=l==null?void 0:l.CaptionLabel)!==null&&t!==void 0?t:RT,d;return a?d=s.jsx(c,{id:e.id,displayMonth:e.displayMonth}):o==="dropdown"?d=s.jsx(IN,{displayMonth:e.displayMonth,id:e.id}):o==="dropdown-buttons"?d=s.jsxs(s.Fragment,{children:[s.jsx(IN,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),s.jsx(FN,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):d=s.jsxs(s.Fragment,{children:[s.jsx(c,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),s.jsx(FN,{displayMonth:e.displayMonth,id:e.id})]}),s.jsx("div",{className:n.caption,style:i.caption,children:d})}function wV(e){var t=Zt(),r=t.footer,n=t.styles,a=t.classNames.tfoot;return r?s.jsx("tfoot",{className:a,style:n.tfoot,children:s.jsx("tr",{children:s.jsx("td",{colSpan:8,children:r})})}):s.jsx(s.Fragment,{})}function bV(e,t,r){for(var n=r?il(new Date):ya(new Date,{locale:e,weekStartsOn:t}),a=[],i=0;i<7;i++){var o=xn(n,i);a.push(o)}return a}function jV(){var e=Zt(),t=e.classNames,r=e.styles,n=e.showWeekNumber,a=e.locale,i=e.weekStartsOn,o=e.ISOWeek,l=e.formatters.formatWeekdayName,c=e.labels.labelWeekday,d=bV(a,i,o);return s.jsxs("tr",{style:r.head_row,className:t.head_row,children:[n&&s.jsx("td",{style:r.head_cell,className:t.head_cell}),d.map(function(u,h){return s.jsx("th",{scope:"col",className:t.head_cell,style:r.head_cell,"aria-label":c(u,{locale:a}),children:l(u,{locale:a})},h)})]})}function _V(){var e,t=Zt(),r=t.classNames,n=t.styles,a=t.components,i=(e=a==null?void 0:a.HeadRow)!==null&&e!==void 0?e:jV;return s.jsx("thead",{style:n.head,className:r.head,children:s.jsx(i,{})})}function NV(e){var t=Zt(),r=t.locale,n=t.formatters.formatDay;return s.jsx(s.Fragment,{children:n(e.date,{locale:r})})}var yb=f.createContext(void 0);function SV(e){if(!Ff(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return s.jsx(yb.Provider,{value:t,children:e.children})}return s.jsx(CV,{initialProps:e.initialProps,children:e.children})}function CV(e){var t=e.initialProps,r=e.children,n=t.selected,a=t.min,i=t.max,o=function(d,u,h){var m,p;(m=t.onDayClick)===null||m===void 0||m.call(t,d,u,h);var w=!!(u.selected&&a&&(n==null?void 0:n.length)===a);if(!w){var v=!!(!u.selected&&i&&(n==null?void 0:n.length)===i);if(!v){var g=n?PT([],n):[];if(u.selected){var y=g.findIndex(function(x){return Fn(d,x)});g.splice(y,1)}else g.push(d);(p=t.onSelect)===null||p===void 0||p.call(t,g,d,u,h)}}},l={disabled:[]};n&&l.disabled.push(function(d){var u=i&&n.length>i-1,h=n.some(function(m){return Fn(m,d)});return!!(u&&!h)});var c={selected:n,onDayClick:o,modifiers:l};return s.jsx(yb.Provider,{value:c,children:r})}function wb(){var e=f.useContext(yb);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function kV(e,t){var r=t||{},n=r.from,a=r.to;return n&&a?Fn(a,e)&&Fn(n,e)?void 0:Fn(a,e)?{from:a,to:void 0}:Fn(n,e)?void 0:u0(n,e)?{from:e,to:a}:{from:n,to:e}:a?u0(e,a)?{from:a,to:e}:{from:e,to:a}:n?ET(e,n)?{from:e,to:n}:{from:n,to:e}:{from:e,to:void 0}}var bb=f.createContext(void 0);function EV(e){if(!Lf(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return s.jsx(bb.Provider,{value:t,children:e.children})}return s.jsx(PV,{initialProps:e.initialProps,children:e.children})}function PV(e){var t=e.initialProps,r=e.children,n=t.selected,a=n||{},i=a.from,o=a.to,l=t.min,c=t.max,d=function(p,w,v){var g,y;(g=t.onDayClick)===null||g===void 0||g.call(t,p,w,v);var x=kV(p,n);(y=t.onSelect)===null||y===void 0||y.call(t,x,p,w,v)},u={range_start:[],range_end:[],range_middle:[],disabled:[]};if(i?(u.range_start=[i],o?(u.range_end=[o],Fn(i,o)||(u.range_middle=[{after:i,before:o}])):u.range_end=[i]):o&&(u.range_start=[o],u.range_end=[o]),l&&(i&&!o&&u.disabled.push({after:ku(i,l-1),before:xn(i,l-1)}),i&&o&&u.disabled.push({after:i,before:xn(i,l-1)}),!i&&o&&u.disabled.push({after:ku(o,l-1),before:xn(o,l-1)})),c){if(i&&!o&&(u.disabled.push({before:xn(i,-c+1)}),u.disabled.push({after:xn(i,c-1)})),i&&o){var h=ca(o,i)+1,m=c-h;u.disabled.push({before:ku(i,m)}),u.disabled.push({after:xn(o,m)})}!i&&o&&(u.disabled.push({before:xn(o,-c+1)}),u.disabled.push({after:xn(o,c-1)}))}return s.jsx(bb.Provider,{value:{selected:n,onDayClick:d,modifiers:u},children:r})}function jb(){var e=f.useContext(bb);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function dm(e){return Array.isArray(e)?PT([],e):e!==void 0?[e]:[]}function TV(e){var t={};return Object.entries(e).forEach(function(r){var n=r[0],a=r[1];t[n]=dm(a)}),t}var Ks;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(Ks||(Ks={}));var RV=Ks.Selected,Ca=Ks.Disabled,MV=Ks.Hidden,AV=Ks.Today,mx=Ks.RangeEnd,px=Ks.RangeMiddle,gx=Ks.RangeStart,OV=Ks.Outside;function DV(e,t,r){var n,a=(n={},n[RV]=dm(e.selected),n[Ca]=dm(e.disabled),n[MV]=dm(e.hidden),n[AV]=[e.today],n[mx]=[],n[px]=[],n[gx]=[],n[OV]=[],n);return e.fromDate&&a[Ca].push({before:e.fromDate}),e.toDate&&a[Ca].push({after:e.toDate}),Ff(e)?a[Ca]=a[Ca].concat(t.modifiers[Ca]):Lf(e)&&(a[Ca]=a[Ca].concat(r.modifiers[Ca]),a[gx]=r.modifiers[gx],a[px]=r.modifiers[px],a[mx]=r.modifiers[mx]),a}var OT=f.createContext(void 0);function IV(e){var t=Zt(),r=wb(),n=jb(),a=DV(t,r,n),i=TV(t.modifiers),o=Je(Je({},a),i);return s.jsx(OT.Provider,{value:o,children:e.children})}function DT(){var e=f.useContext(OT);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function FV(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function LV(e){return!!(e&&typeof e=="object"&&"from"in e)}function $V(e){return!!(e&&typeof e=="object"&&"after"in e)}function zV(e){return!!(e&&typeof e=="object"&&"before"in e)}function UV(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function BV(e,t){var r,n=t.from,a=t.to;if(n&&a){var i=ca(a,n)<0;i&&(r=[a,n],n=r[0],a=r[1]);var o=ca(e,n)>=0&&ca(a,e)>=0;return o}return a?Fn(a,e):n?Fn(n,e):!1}function qV(e){return pb(e)}function VV(e){return Array.isArray(e)&&e.every(pb)}function WV(e,t){return t.some(function(r){if(typeof r=="boolean")return r;if(qV(r))return Fn(e,r);if(VV(r))return r.includes(e);if(LV(r))return BV(e,r);if(UV(r))return r.dayOfWeek.includes(e.getDay());if(FV(r)){var n=ca(r.before,e),a=ca(r.after,e),i=n>0,o=a<0,l=u0(r.before,r.after);return l?o&&i:i||o}return $V(r)?ca(e,r.after)>0:zV(r)?ca(r.before,e)>0:typeof r=="function"?r(e):!1})}function _b(e,t,r){var n=Object.keys(t).reduce(function(i,o){var l=t[o];return WV(e,l)&&i.push(o),i},[]),a={};return n.forEach(function(i){return a[i]=!0}),r&&!xb(e,r)&&(a.outside=!0),a}function HV(e,t){for(var r=Un(e[0]),n=gb(e[e.length-1]),a,i,o=r;o<=n;){var l=_b(o,t),c=!l.disabled&&!l.hidden;if(!c){o=xn(o,1);continue}if(l.selected)return o;l.today&&!i&&(i=o),a||(a=o),o=xn(o,1)}return i||a}var KV=365;function IT(e,t){var r=t.moveBy,n=t.direction,a=t.context,i=t.modifiers,o=t.retry,l=o===void 0?{count:0,lastFocused:e}:o,c=a.weekStartsOn,d=a.fromDate,u=a.toDate,h=a.locale,m={day:xn,week:d0,month:Hs,year:oq,startOfWeek:function(g){return a.ISOWeek?il(g):ya(g,{locale:h,weekStartsOn:c})},endOfWeek:function(g){return a.ISOWeek?bT(g):vb(g,{locale:h,weekStartsOn:c})}},p=m[r](e,n==="after"?1:-1);n==="before"&&d?p=lq([d,p]):n==="after"&&u&&(p=cq([u,p]));var w=!0;if(i){var v=_b(p,i);w=!v.disabled&&!v.hidden}return w?p:l.count>KV?l.lastFocused:IT(p,{moveBy:r,direction:n,context:a,modifiers:i,retry:Je(Je({},l),{count:l.count+1})})}var FT=f.createContext(void 0);function GV(e){var t=$f(),r=DT(),n=f.useState(),a=n[0],i=n[1],o=f.useState(),l=o[0],c=o[1],d=HV(t.displayMonths,r),u=a??(l&&t.isDateDisplayed(l))?l:d,h=function(){c(a),i(void 0)},m=function(g){i(g)},p=Zt(),w=function(g,y){if(a){var x=IT(a,{moveBy:g,direction:y,context:p,modifiers:r});Fn(a,x)||(t.goToDate(x,a),m(x))}},v={focusedDay:a,focusTarget:u,blur:h,focus:m,focusDayAfter:function(){return w("day","after")},focusDayBefore:function(){return w("day","before")},focusWeekAfter:function(){return w("week","after")},focusWeekBefore:function(){return w("week","before")},focusMonthBefore:function(){return w("month","before")},focusMonthAfter:function(){return w("month","after")},focusYearBefore:function(){return w("year","before")},focusYearAfter:function(){return w("year","after")},focusStartOfWeek:function(){return w("startOfWeek","before")},focusEndOfWeek:function(){return w("endOfWeek","after")}};return s.jsx(FT.Provider,{value:v,children:e.children})}function Nb(){var e=f.useContext(FT);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function YV(e,t){var r=DT(),n=_b(e,r,t);return n}var Sb=f.createContext(void 0);function QV(e){if(!jg(e.initialProps)){var t={selected:void 0};return s.jsx(Sb.Provider,{value:t,children:e.children})}return s.jsx(XV,{initialProps:e.initialProps,children:e.children})}function XV(e){var t=e.initialProps,r=e.children,n=function(i,o,l){var c,d,u;if((c=t.onDayClick)===null||c===void 0||c.call(t,i,o,l),o.selected&&!t.required){(d=t.onSelect)===null||d===void 0||d.call(t,void 0,i,o,l);return}(u=t.onSelect)===null||u===void 0||u.call(t,i,i,o,l)},a={selected:t.selected,onDayClick:n};return s.jsx(Sb.Provider,{value:a,children:r})}function LT(){var e=f.useContext(Sb);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function ZV(e,t){var r=Zt(),n=LT(),a=wb(),i=jb(),o=Nb(),l=o.focusDayAfter,c=o.focusDayBefore,d=o.focusWeekAfter,u=o.focusWeekBefore,h=o.blur,m=o.focus,p=o.focusMonthBefore,w=o.focusMonthAfter,v=o.focusYearBefore,g=o.focusYearAfter,y=o.focusStartOfWeek,x=o.focusEndOfWeek,b=function(J){var I,D,C,E;jg(r)?(I=n.onDayClick)===null||I===void 0||I.call(n,e,t,J):Ff(r)?(D=a.onDayClick)===null||D===void 0||D.call(a,e,t,J):Lf(r)?(C=i.onDayClick)===null||C===void 0||C.call(i,e,t,J):(E=r.onDayClick)===null||E===void 0||E.call(r,e,t,J)},_=function(J){var I;m(e),(I=r.onDayFocus)===null||I===void 0||I.call(r,e,t,J)},N=function(J){var I;h(),(I=r.onDayBlur)===null||I===void 0||I.call(r,e,t,J)},P=function(J){var I;(I=r.onDayMouseEnter)===null||I===void 0||I.call(r,e,t,J)},S=function(J){var I;(I=r.onDayMouseLeave)===null||I===void 0||I.call(r,e,t,J)},T=function(J){var I;(I=r.onDayPointerEnter)===null||I===void 0||I.call(r,e,t,J)},U=function(J){var I;(I=r.onDayPointerLeave)===null||I===void 0||I.call(r,e,t,J)},q=function(J){var I;(I=r.onDayTouchCancel)===null||I===void 0||I.call(r,e,t,J)},re=function(J){var I;(I=r.onDayTouchEnd)===null||I===void 0||I.call(r,e,t,J)},G=function(J){var I;(I=r.onDayTouchMove)===null||I===void 0||I.call(r,e,t,J)},H=function(J){var I;(I=r.onDayTouchStart)===null||I===void 0||I.call(r,e,t,J)},V=function(J){var I;(I=r.onDayKeyUp)===null||I===void 0||I.call(r,e,t,J)},se=function(J){var I;switch(J.key){case"ArrowLeft":J.preventDefault(),J.stopPropagation(),r.dir==="rtl"?l():c();break;case"ArrowRight":J.preventDefault(),J.stopPropagation(),r.dir==="rtl"?c():l();break;case"ArrowDown":J.preventDefault(),J.stopPropagation(),d();break;case"ArrowUp":J.preventDefault(),J.stopPropagation(),u();break;case"PageUp":J.preventDefault(),J.stopPropagation(),J.shiftKey?v():p();break;case"PageDown":J.preventDefault(),J.stopPropagation(),J.shiftKey?g():w();break;case"Home":J.preventDefault(),J.stopPropagation(),y();break;case"End":J.preventDefault(),J.stopPropagation(),x();break}(I=r.onDayKeyDown)===null||I===void 0||I.call(r,e,t,J)},ee={onClick:b,onFocus:_,onBlur:N,onKeyDown:se,onKeyUp:V,onMouseEnter:P,onMouseLeave:S,onPointerEnter:T,onPointerLeave:U,onTouchCancel:q,onTouchEnd:re,onTouchMove:G,onTouchStart:H};return ee}function JV(){var e=Zt(),t=LT(),r=wb(),n=jb(),a=jg(e)?t.selected:Ff(e)?r.selected:Lf(e)?n.selected:void 0;return a}function e7(e){return Object.values(Ks).includes(e)}function t7(e,t){var r=[e.classNames.day];return Object.keys(t).forEach(function(n){var a=e.modifiersClassNames[n];if(a)r.push(a);else if(e7(n)){var i=e.classNames["day_".concat(n)];i&&r.push(i)}}),r}function r7(e,t){var r=Je({},e.styles.day);return Object.keys(t).forEach(function(n){var a;r=Je(Je({},r),(a=e.modifiersStyles)===null||a===void 0?void 0:a[n])}),r}function n7(e,t,r){var n,a,i,o=Zt(),l=Nb(),c=YV(e,t),d=ZV(e,c),u=JV(),h=!!(o.onDayClick||o.mode!=="default");f.useEffect(function(){var P;c.outside||l.focusedDay&&h&&Fn(l.focusedDay,e)&&((P=r.current)===null||P===void 0||P.focus())},[l.focusedDay,e,r,h,c.outside]);var m=t7(o,c).join(" "),p=r7(o,c),w=!!(c.outside&&!o.showOutsideDays||c.hidden),v=(i=(a=o.components)===null||a===void 0?void 0:a.DayContent)!==null&&i!==void 0?i:NV,g=s.jsx(v,{date:e,displayMonth:t,activeModifiers:c}),y={style:p,className:m,children:g,role:"gridcell"},x=l.focusTarget&&Fn(l.focusTarget,e)&&!c.outside,b=l.focusedDay&&Fn(l.focusedDay,e),_=Je(Je(Je({},y),(n={disabled:c.disabled,role:"gridcell"},n["aria-selected"]=c.selected,n.tabIndex=b||x?0:-1,n)),d),N={isButton:h,isHidden:w,activeModifiers:c,selectedDays:u,buttonProps:_,divProps:y};return N}function s7(e){var t=f.useRef(null),r=n7(e.date,e.displayMonth,t);return r.isHidden?s.jsx("div",{role:"gridcell"}):r.isButton?s.jsx(rp,Je({name:"day",ref:t},r.buttonProps)):s.jsx("div",Je({},r.divProps))}function a7(e){var t=e.number,r=e.dates,n=Zt(),a=n.onWeekNumberClick,i=n.styles,o=n.classNames,l=n.locale,c=n.labels.labelWeekNumber,d=n.formatters.formatWeekNumber,u=d(Number(t),{locale:l});if(!a)return s.jsx("span",{className:o.weeknumber,style:i.weeknumber,children:u});var h=c(Number(t),{locale:l}),m=function(p){a(t,r,p)};return s.jsx(rp,{name:"week-number","aria-label":h,className:o.weeknumber,style:i.weeknumber,onClick:m,children:u})}function i7(e){var t,r,n=Zt(),a=n.styles,i=n.classNames,o=n.showWeekNumber,l=n.components,c=(t=l==null?void 0:l.Day)!==null&&t!==void 0?t:s7,d=(r=l==null?void 0:l.WeekNumber)!==null&&r!==void 0?r:a7,u;return o&&(u=s.jsx("td",{className:i.cell,style:a.cell,children:s.jsx(d,{number:e.weekNumber,dates:e.dates})})),s.jsxs("tr",{className:i.row,style:a.row,children:[u,e.dates.map(function(h){return s.jsx("td",{className:i.cell,style:a.cell,role:"presentation",children:s.jsx(c,{displayMonth:e.displayMonth,date:h})},o9(h))})]})}function LN(e,t,r){for(var n=r!=null&&r.ISOWeek?bT(t):vb(t,r),a=r!=null&&r.ISOWeek?il(e):ya(e,r),i=ca(n,a),o=[],l=0;l<=i;l++)o.push(xn(a,l));var c=o.reduce(function(d,u){var h=r!=null&&r.ISOWeek?NT(u):CT(u,r),m=d.find(function(p){return p.weekNumber===h});return m?(m.dates.push(u),d):(d.push({weekNumber:h,dates:[u]}),d)},[]);return c}function o7(e,t){var r=LN(Un(e),gb(e),t);if(t!=null&&t.useFixedWeeks){var n=c9(e,t);if(n<6){var a=r[r.length-1],i=a.dates[a.dates.length-1],o=d0(i,6-n),l=LN(d0(i,1),o,t);r.push.apply(r,l)}}return r}function l7(e){var t,r,n,a=Zt(),i=a.locale,o=a.classNames,l=a.styles,c=a.hideHead,d=a.fixedWeeks,u=a.components,h=a.weekStartsOn,m=a.firstWeekContainsDate,p=a.ISOWeek,w=o7(e.displayMonth,{useFixedWeeks:!!d,ISOWeek:p,locale:i,weekStartsOn:h,firstWeekContainsDate:m}),v=(t=u==null?void 0:u.Head)!==null&&t!==void 0?t:_V,g=(r=u==null?void 0:u.Row)!==null&&r!==void 0?r:i7,y=(n=u==null?void 0:u.Footer)!==null&&n!==void 0?n:wV;return s.jsxs("table",{id:e.id,className:o.table,style:l.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!c&&s.jsx(v,{}),s.jsx("tbody",{className:o.tbody,style:l.tbody,children:w.map(function(x){return s.jsx(g,{displayMonth:e.displayMonth,dates:x.dates,weekNumber:x.weekNumber},x.weekNumber)})}),s.jsx(y,{displayMonth:e.displayMonth})]})}function c7(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var d7=c7()?f.useLayoutEffect:f.useEffect,vx=!1,u7=0;function $N(){return"react-day-picker-".concat(++u7)}function f7(e){var t,r=e??(vx?$N():null),n=f.useState(r),a=n[0],i=n[1];return d7(function(){a===null&&i($N())},[]),f.useEffect(function(){vx===!1&&(vx=!0)},[]),(t=e??a)!==null&&t!==void 0?t:void 0}function h7(e){var t,r,n=Zt(),a=n.dir,i=n.classNames,o=n.styles,l=n.components,c=$f().displayMonths,d=f7(n.id?"".concat(n.id,"-").concat(e.displayIndex):void 0),u=n.id?"".concat(n.id,"-grid-").concat(e.displayIndex):void 0,h=[i.month],m=o.month,p=e.displayIndex===0,w=e.displayIndex===c.length-1,v=!p&&!w;a==="rtl"&&(t=[p,w],w=t[0],p=t[1]),p&&(h.push(i.caption_start),m=Je(Je({},m),o.caption_start)),w&&(h.push(i.caption_end),m=Je(Je({},m),o.caption_end)),v&&(h.push(i.caption_between),m=Je(Je({},m),o.caption_between));var g=(r=l==null?void 0:l.Caption)!==null&&r!==void 0?r:yV;return s.jsxs("div",{className:h.join(" "),style:m,children:[s.jsx(g,{id:d,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),s.jsx(l7,{id:u,"aria-labelledby":d,displayMonth:e.displayMonth})]},e.displayIndex)}function m7(e){var t=Zt(),r=t.classNames,n=t.styles;return s.jsx("div",{className:r.months,style:n.months,children:e.children})}function p7(e){var t,r,n=e.initialProps,a=Zt(),i=Nb(),o=$f(),l=f.useState(!1),c=l[0],d=l[1];f.useEffect(function(){a.initialFocus&&i.focusTarget&&(c||(i.focus(i.focusTarget),d(!0)))},[a.initialFocus,c,i.focus,i.focusTarget,i]);var u=[a.classNames.root,a.className];a.numberOfMonths>1&&u.push(a.classNames.multiple_months),a.showWeekNumber&&u.push(a.classNames.with_weeknumber);var h=Je(Je({},a.styles.root),a.style),m=Object.keys(n).filter(function(w){return w.startsWith("data-")}).reduce(function(w,v){var g;return Je(Je({},w),(g={},g[v]=n[v],g))},{}),p=(r=(t=n.components)===null||t===void 0?void 0:t.Months)!==null&&r!==void 0?r:m7;return s.jsx("div",Je({className:u.join(" "),style:h,dir:a.dir,id:a.id,nonce:n.nonce,title:n.title,lang:n.lang},m,{children:s.jsx(p,{children:o.displayMonths.map(function(w,v){return s.jsx(h7,{displayIndex:v,displayMonth:w},v)})})}))}function g7(e){var t=e.children,r=z9(e,["children"]);return s.jsx(aV,{initialProps:r,children:s.jsx(pV,{children:s.jsx(QV,{initialProps:r,children:s.jsx(SV,{initialProps:r,children:s.jsx(EV,{initialProps:r,children:s.jsx(IV,{children:s.jsx(GV,{children:t})})})})})})})}function v7(e){return s.jsx(g7,Je({},e,{children:s.jsx(p7,{initialProps:e})}))}function gs({className:e,classNames:t,showOutsideDays:r=!0,locale:n,...a}){return s.jsx(v7,{showOutsideDays:r,className:le("p-3",e),locale:n??ol,classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:le(Yc({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:le(Yc({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...i})=>s.jsx(N2,{className:"h-4 w-4"}),IconRight:({...i})=>s.jsx(Rw,{className:"h-4 w-4"})},...a})}gs.displayName="Calendar";var Cb={};(function e(t,r,n,a){var i=!!(t.Worker&&t.Blob&&t.Promise&&t.OffscreenCanvas&&t.OffscreenCanvasRenderingContext2D&&t.HTMLCanvasElement&&t.HTMLCanvasElement.prototype.transferControlToOffscreen&&t.URL&&t.URL.createObjectURL),o=typeof Path2D=="function"&&typeof DOMMatrix=="function",l=function(){if(!t.OffscreenCanvas)return!1;var C=new OffscreenCanvas(1,1),E=C.getContext("2d");E.fillRect(0,0,1,1);var A=C.transferToImageBitmap();try{E.createPattern(A,"no-repeat")}catch{return!1}return!0}();function c(){}function d(C){var E=r.exports.Promise,A=E!==void 0?E:t.Promise;return typeof A=="function"?new A(C):(C(c,c),null)}var u=function(C,E){return{transform:function(A){if(C)return A;if(E.has(A))return E.get(A);var Y=new OffscreenCanvas(A.width,A.height),k=Y.getContext("2d");return k.drawImage(A,0,0),E.set(A,Y),Y},clear:function(){E.clear()}}}(l,new Map),h=function(){var C=Math.floor(16.666666666666668),E,A,Y={},k=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(E=function(z){var ne=Math.random();return Y[ne]=requestAnimationFrame(function Q(R){k===R||k+C-1<R?(k=R,delete Y[ne],z()):Y[ne]=requestAnimationFrame(Q)}),ne},A=function(z){Y[z]&&cancelAnimationFrame(Y[z])}):(E=function(z){return setTimeout(z,C)},A=function(z){return clearTimeout(z)}),{frame:E,cancel:A}}(),m=function(){var C,E,A={};function Y(k){function z(ne,Q){k.postMessage({options:ne||{},callback:Q})}k.init=function(Q){var R=Q.transferControlToOffscreen();k.postMessage({canvas:R},[R])},k.fire=function(Q,R,L){if(E)return z(Q,null),E;var Z=Math.random().toString(36).slice(2);return E=d(function(de){function _e(me){me.data.callback===Z&&(delete A[Z],k.removeEventListener("message",_e),E=null,u.clear(),L(),de())}k.addEventListener("message",_e),z(Q,Z),A[Z]=_e.bind(null,{data:{callback:Z}})}),E},k.reset=function(){k.postMessage({reset:!0});for(var Q in A)A[Q](),delete A[Q]}}return function(){if(C)return C;if(!n&&i){var k=["var CONFETTI, SIZE = {}, module = {};","("+e.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{C=new Worker(URL.createObjectURL(new Blob([k])))}catch(z){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn(" Could not load worker",z),null}Y(C)}return C}}(),p={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function w(C,E){return E?E(C):C}function v(C){return C!=null}function g(C,E,A){return w(C&&v(C[E])?C[E]:p[E],A)}function y(C){return C<0?0:Math.floor(C)}function x(C,E){return Math.floor(Math.random()*(E-C))+C}function b(C){return parseInt(C,16)}function _(C){return C.map(N)}function N(C){var E=String(C).replace(/[^0-9a-f]/gi,"");return E.length<6&&(E=E[0]+E[0]+E[1]+E[1]+E[2]+E[2]),{r:b(E.substring(0,2)),g:b(E.substring(2,4)),b:b(E.substring(4,6))}}function P(C){var E=g(C,"origin",Object);return E.x=g(E,"x",Number),E.y=g(E,"y",Number),E}function S(C){C.width=document.documentElement.clientWidth,C.height=document.documentElement.clientHeight}function T(C){var E=C.getBoundingClientRect();C.width=E.width,C.height=E.height}function U(C){var E=document.createElement("canvas");return E.style.position="fixed",E.style.top="0px",E.style.left="0px",E.style.pointerEvents="none",E.style.zIndex=C,E}function q(C,E,A,Y,k,z,ne,Q,R){C.save(),C.translate(E,A),C.rotate(z),C.scale(Y,k),C.arc(0,0,1,ne,Q,R),C.restore()}function re(C){var E=C.angle*(Math.PI/180),A=C.spread*(Math.PI/180);return{x:C.x,y:C.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:C.startVelocity*.5+Math.random()*C.startVelocity,angle2D:-E+(.5*A-Math.random()*A),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:C.color,shape:C.shape,tick:0,totalTicks:C.ticks,decay:C.decay,drift:C.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:C.gravity*3,ovalScalar:.6,scalar:C.scalar,flat:C.flat}}function G(C,E){E.x+=Math.cos(E.angle2D)*E.velocity+E.drift,E.y+=Math.sin(E.angle2D)*E.velocity+E.gravity,E.velocity*=E.decay,E.flat?(E.wobble=0,E.wobbleX=E.x+10*E.scalar,E.wobbleY=E.y+10*E.scalar,E.tiltSin=0,E.tiltCos=0,E.random=1):(E.wobble+=E.wobbleSpeed,E.wobbleX=E.x+10*E.scalar*Math.cos(E.wobble),E.wobbleY=E.y+10*E.scalar*Math.sin(E.wobble),E.tiltAngle+=.1,E.tiltSin=Math.sin(E.tiltAngle),E.tiltCos=Math.cos(E.tiltAngle),E.random=Math.random()+2);var A=E.tick++/E.totalTicks,Y=E.x+E.random*E.tiltCos,k=E.y+E.random*E.tiltSin,z=E.wobbleX+E.random*E.tiltCos,ne=E.wobbleY+E.random*E.tiltSin;if(C.fillStyle="rgba("+E.color.r+", "+E.color.g+", "+E.color.b+", "+(1-A)+")",C.beginPath(),o&&E.shape.type==="path"&&typeof E.shape.path=="string"&&Array.isArray(E.shape.matrix))C.fill(J(E.shape.path,E.shape.matrix,E.x,E.y,Math.abs(z-Y)*.1,Math.abs(ne-k)*.1,Math.PI/10*E.wobble));else if(E.shape.type==="bitmap"){var Q=Math.PI/10*E.wobble,R=Math.abs(z-Y)*.1,L=Math.abs(ne-k)*.1,Z=E.shape.bitmap.width*E.scalar,de=E.shape.bitmap.height*E.scalar,_e=new DOMMatrix([Math.cos(Q)*R,Math.sin(Q)*R,-Math.sin(Q)*L,Math.cos(Q)*L,E.x,E.y]);_e.multiplySelf(new DOMMatrix(E.shape.matrix));var me=C.createPattern(u.transform(E.shape.bitmap),"no-repeat");me.setTransform(_e),C.globalAlpha=1-A,C.fillStyle=me,C.fillRect(E.x-Z/2,E.y-de/2,Z,de),C.globalAlpha=1}else if(E.shape==="circle")C.ellipse?C.ellipse(E.x,E.y,Math.abs(z-Y)*E.ovalScalar,Math.abs(ne-k)*E.ovalScalar,Math.PI/10*E.wobble,0,2*Math.PI):q(C,E.x,E.y,Math.abs(z-Y)*E.ovalScalar,Math.abs(ne-k)*E.ovalScalar,Math.PI/10*E.wobble,0,2*Math.PI);else if(E.shape==="star")for(var xe=Math.PI/2*3,Ge=4*E.scalar,Nt=8*E.scalar,Ot=E.x,Ct=E.y,It=5,B=Math.PI/It;It--;)Ot=E.x+Math.cos(xe)*Nt,Ct=E.y+Math.sin(xe)*Nt,C.lineTo(Ot,Ct),xe+=B,Ot=E.x+Math.cos(xe)*Ge,Ct=E.y+Math.sin(xe)*Ge,C.lineTo(Ot,Ct),xe+=B;else C.moveTo(Math.floor(E.x),Math.floor(E.y)),C.lineTo(Math.floor(E.wobbleX),Math.floor(k)),C.lineTo(Math.floor(z),Math.floor(ne)),C.lineTo(Math.floor(Y),Math.floor(E.wobbleY));return C.closePath(),C.fill(),E.tick<E.totalTicks}function H(C,E,A,Y,k){var z=E.slice(),ne=C.getContext("2d"),Q,R,L=d(function(Z){function de(){Q=R=null,ne.clearRect(0,0,Y.width,Y.height),u.clear(),k(),Z()}function _e(){n&&!(Y.width===a.width&&Y.height===a.height)&&(Y.width=C.width=a.width,Y.height=C.height=a.height),!Y.width&&!Y.height&&(A(C),Y.width=C.width,Y.height=C.height),ne.clearRect(0,0,Y.width,Y.height),z=z.filter(function(me){return G(ne,me)}),z.length?Q=h.frame(_e):de()}Q=h.frame(_e),R=de});return{addFettis:function(Z){return z=z.concat(Z),L},canvas:C,promise:L,reset:function(){Q&&h.cancel(Q),R&&R()}}}function V(C,E){var A=!C,Y=!!g(E||{},"resize"),k=!1,z=g(E,"disableForReducedMotion",Boolean),ne=i&&!!g(E||{},"useWorker"),Q=ne?m():null,R=A?S:T,L=C&&Q?!!C.__confetti_initialized:!1,Z=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,de;function _e(xe,Ge,Nt){for(var Ot=g(xe,"particleCount",y),Ct=g(xe,"angle",Number),It=g(xe,"spread",Number),B=g(xe,"startVelocity",Number),te=g(xe,"decay",Number),ce=g(xe,"gravity",Number),be=g(xe,"drift",Number),we=g(xe,"colors",_),pe=g(xe,"ticks",Number),Se=g(xe,"shapes"),Ue=g(xe,"scalar"),fe=!!g(xe,"flat"),We=P(xe),yt=Ot,et=[],kt=C.width*We.x,zt=C.height*We.y;yt--;)et.push(re({x:kt,y:zt,angle:Ct,spread:It,startVelocity:B,color:we[yt%we.length],shape:Se[x(0,Se.length)],ticks:pe,decay:te,gravity:ce,drift:be,scalar:Ue,flat:fe}));return de?de.addFettis(et):(de=H(C,et,R,Ge,Nt),de.promise)}function me(xe){var Ge=z||g(xe,"disableForReducedMotion",Boolean),Nt=g(xe,"zIndex",Number);if(Ge&&Z)return d(function(B){B()});A&&de?C=de.canvas:A&&!C&&(C=U(Nt),document.body.appendChild(C)),Y&&!L&&R(C);var Ot={width:C.width,height:C.height};Q&&!L&&Q.init(C),L=!0,Q&&(C.__confetti_initialized=!0);function Ct(){if(Q){var B={getBoundingClientRect:function(){if(!A)return C.getBoundingClientRect()}};R(B),Q.postMessage({resize:{width:B.width,height:B.height}});return}Ot.width=Ot.height=null}function It(){de=null,Y&&(k=!1,t.removeEventListener("resize",Ct)),A&&C&&(document.body.contains(C)&&document.body.removeChild(C),C=null,L=!1)}return Y&&!k&&(k=!0,t.addEventListener("resize",Ct,!1)),Q?Q.fire(xe,Ot,It):_e(xe,Ot,It)}return me.reset=function(){Q&&Q.reset(),de&&de.reset()},me}var se;function ee(){return se||(se=V(null,{useWorker:!0,resize:!0})),se}function J(C,E,A,Y,k,z,ne){var Q=new Path2D(C),R=new Path2D;R.addPath(Q,new DOMMatrix(E));var L=new Path2D;return L.addPath(R,new DOMMatrix([Math.cos(ne)*k,Math.sin(ne)*k,-Math.sin(ne)*z,Math.cos(ne)*z,A,Y])),L}function I(C){if(!o)throw new Error("path confetti are not supported in this browser");var E,A;typeof C=="string"?E=C:(E=C.path,A=C.matrix);var Y=new Path2D(E),k=document.createElement("canvas"),z=k.getContext("2d");if(!A){for(var ne=1e3,Q=ne,R=ne,L=0,Z=0,de,_e,me=0;me<ne;me+=2)for(var xe=0;xe<ne;xe+=2)z.isPointInPath(Y,me,xe,"nonzero")&&(Q=Math.min(Q,me),R=Math.min(R,xe),L=Math.max(L,me),Z=Math.max(Z,xe));de=L-Q,_e=Z-R;var Ge=10,Nt=Math.min(Ge/de,Ge/_e);A=[Nt,0,0,Nt,-Math.round(de/2+Q)*Nt,-Math.round(_e/2+R)*Nt]}return{type:"path",path:E,matrix:A}}function D(C){var E,A=1,Y="#000000",k='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof C=="string"?E=C:(E=C.text,A="scalar"in C?C.scalar:A,k="fontFamily"in C?C.fontFamily:k,Y="color"in C?C.color:Y);var z=10*A,ne=""+z+"px "+k,Q=new OffscreenCanvas(z,z),R=Q.getContext("2d");R.font=ne;var L=R.measureText(E),Z=Math.ceil(L.actualBoundingBoxRight+L.actualBoundingBoxLeft),de=Math.ceil(L.actualBoundingBoxAscent+L.actualBoundingBoxDescent),_e=2,me=L.actualBoundingBoxLeft+_e,xe=L.actualBoundingBoxAscent+_e;Z+=_e+_e,de+=_e+_e,Q=new OffscreenCanvas(Z,de),R=Q.getContext("2d"),R.font=ne,R.fillStyle=Y,R.fillText(E,me,xe);var Ge=1/A;return{type:"bitmap",bitmap:Q.transferToImageBitmap(),matrix:[Ge,0,0,Ge,-Z*Ge/2,-de*Ge/2]}}r.exports=function(){return ee().apply(this,arguments)},r.exports.reset=function(){ee().reset()},r.exports.create=V,r.exports.shapeFromPath=I,r.exports.shapeFromText=D})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),Cb,!1);const oa=Cb.exports;Cb.exports.create;const x7=()=>{var z,ne,Q;const e=Rr(),{user:t}=ar(),r=is(),n=!1,a=20,[i,o]=f.useState(void 0),[l,c]=f.useState(!1),{resolvedTheme:d}=as(),{data:u}=Ze({queryKey:["roles",t==null?void 0:t.id],enabled:!!(t!=null&&t.id),queryFn:async()=>{const{data:R,error:L}=await $.from("user_roles").select("role").eq("user_id",t.id);if(L)throw L;return R}}),h=(u||[]).some(R=>R.role==="musician"),{data:m}=Ze({queryKey:["sidebar-profile",t==null?void 0:t.id],enabled:!!(t!=null&&t.id),queryFn:async()=>{const{data:R,error:L}=await $.from("profiles").select("display_name, avatar_url").eq("id",t.id).maybeSingle();if(L)throw L;return R}}),{shouldShowIndicator:p}=Of({userId:t==null?void 0:t.id,isMusician:h}),w=(m==null?void 0:m.display_name)||(t==null?void 0:t.email)||"Usurio",v=(m==null?void 0:m.avatar_url)||void 0,g=async()=>{await $.auth.signOut(),e("/")},{data:y=[],isLoading:x}=Ze({queryKey:["genres"],queryFn:async()=>{const{data:R,error:L}=await $.from("genres").select("*").order("name");if(L)throw L;return R??[]},enabled:n}),{data:b=[],isLoading:_}=Ze({queryKey:["songs"],queryFn:async()=>{const{data:R,error:L}=await $.from("songs").select("*").order("title");if(L)throw L;return R??[]},enabled:n}),{data:N,isLoading:P,fetchNextPage:S,hasNextPage:T,isFetchingNextPage:U}=bs({queryKey:["requests",t==null?void 0:t.id,((z=i==null?void 0:i.from)==null?void 0:z.toISOString())??null,((ne=i==null?void 0:i.to)==null?void 0:ne.toISOString())??null],enabled:!!t,initialPageParam:0,queryFn:async({pageParam:R})=>{const L=R*a,Z=L+a-1;let de=$.from("requests").select("*").order("created_at",{ascending:!1});if(i!=null&&i.from){const xe=new Date(i.from);xe.setHours(0,0,0,0),de=de.gte("created_at",xe.toISOString())}if(i!=null&&i.to){const xe=new Date(i.to);xe.setHours(23,59,59,999),de=de.lte("created_at",xe.toISOString())}const{data:_e,error:me}=await de.range(L,Z);if(me)throw me;return _e??[]},getNextPageParam:(R,L,Z)=>{if(!(((R==null?void 0:R.length)??0)<a))return Z+1}}),[q,re]=f.useState(""),[G,H]=f.useState(""),V="anon_free_requests_count",se=3,ee=5,J=()=>{try{const R=localStorage.getItem(V),L=R?Number(R):0;return Number.isFinite(L)&&L>0?L:0}catch{return 0}},I=()=>{try{const R=J()+1;localStorage.setItem(V,String(R))}catch{}};ni({mutationFn:async R=>{var _e;const L=G?Number(G.replace(",",".")):null;if(!t&&!(L!=null&&L>ee)&&J()>=se)throw new Error("Voc atingiu o limite de 3 pedidos gratuitos. Para continuar, contribua com valor acima de R$ 5,00.");const{data:Z,error:de}=await $.from("requests").insert({user_id:(t==null?void 0:t.id)??null,song_id:R.songId,message:q||null,amount:L}).select("id").single();if(de)throw de;if(L&&L>0)try{let me=((_e=(b||[]).find(xe=>xe.id===R.songId))==null?void 0:_e.owner_id)||null;if(!me){const{data:xe}=await $.from("songs").select("owner_id").eq("id",R.songId).maybeSingle();me=(xe==null?void 0:xe.owner_id)||null}me&&await $.from("transactions").insert({musician_id:me,user_id:(t==null?void 0:t.id)||null,request_id:(Z==null?void 0:Z.id)||null,type:"request",amount:L,status:"approved",payment:"other",requester_name:null,message:q||null})}catch(me){console.warn("Falha ao registrar transao do pedido (no bloqueante)",me)}},onSuccess:async(R,L)=>{!t&&!(L!=null&&L.isPaid)&&I(),re(""),H(""),oe({title:"Pedido criado",description:"Seu pedido foi enviado."}),t&&await r.invalidateQueries({queryKey:["requests"]})},onError:R=>{oe({title:"Erro",description:R.message||"Falha ao criar pedido"})}});const D=f.useRef(null);f.useEffect(()=>{if(!D.current)return;const R=new IntersectionObserver(L=>{L[0].isIntersecting&&T&&!U&&S()},{rootMargin:"200px"});return R.observe(D.current),()=>R.disconnect()},[T,U,S]),f.useMemo(()=>{const R=new Map;for(const L of y)R.set(L.id,[]);for(const L of b){const Z=R.get(L.genre_id)||[];Z.push(L),R.set(L.genre_id,Z)}return R},[y,b]);const C=f.useMemo(()=>((N==null?void 0:N.pages)||[]).flat(),[N]),E=f.useMemo(()=>C.reduce((R,L)=>R+(Number(L.amount)||0),0),[C]),A=f.useMemo(()=>Array.from(new Set((C||[]).map(R=>R.musician_id).filter(Boolean))),[C]),{data:Y=[]}=Ze({queryKey:["req-musicians",A],enabled:!!t&&A.length>0,queryFn:async()=>{const{data:R,error:L}=await $.from("profiles").select("id, display_name, avatar_url, is_pro").in("id",A);if(L)throw L;return R||[]}}),k=f.useMemo(()=>{const R=new Map;return(Y||[]).forEach(L=>R.set(L.id,{display_name:L.display_name,avatar_url:L.avatar_url,is_pro:!!(L!=null&&L.is_pro)})),R},[Y]);return f.useEffect(()=>{if(!(t!=null&&t.id))return;const R=$.channel("requests-updates").on("postgres_changes",{event:"UPDATE",schema:"public",table:"requests",filter:`user_id=eq.${t.id}`},L=>{const Z=L.new,de=L.old;(Z==null?void 0:Z.status)==="approved"&&(de==null?void 0:de.status)!=="approved"&&(oe({title:"Seu pedido foi atendido!",description:"O msico tocou sua msica."}),oa({particleCount:140,spread:70,origin:{y:.6}}))}).subscribe();return()=>{try{$.removeChannel(R)}catch{}}},[t==null?void 0:t.id]),s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx(Xt,{title:"Meus Pedidos - Pedidos de Msica",description:"Veja seus pedidos. Para pedir, acesse o link do msico."}),s.jsxs("header",{className:"sticky top-0 z-40 h-12 flex items-center bg-background/80 supports-[backdrop-filter]:bg-background/60 backdrop-blur border-b px-4",children:[t&&s.jsx(O,{variant:"ghost",size:"icon",className:"mr-2","aria-label":"Abrir menu",onClick:()=>c(!0),children:s.jsx(Nf,{className:"h-5 w-5"})}),s.jsxs("nav",{className:"flex w-full items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Yt,{to:"/",className:"font-semibold",children:s.jsx("img",{src:d==="dark"?"/logo_avaplay.png":"/logo_avaplay_amarelo.png",alt:"AVAPlay",className:"h-6"})}),s.jsx(jd,{isVisible:p})]}),s.jsx("div",{className:"hidden md:flex items-center gap-2",children:t?null:s.jsx(O,{onClick:()=>e("/auth"),children:"Entrar"})})]})]}),t&&s.jsx(Ka,{open:l,onOpenChange:c,children:s.jsx(ma,{side:"left",className:"w-[16rem] p-0",children:s.jsxs("nav",{className:"p-2",children:[s.jsxs("div",{className:"flex items-center gap-3 p-3 border-b mb-2",children:[s.jsxs(Bt,{className:"h-10 w-10",isPro:!!((Q=t==null?void 0:t.user_metadata)!=null&&Q.is_pro),children:[s.jsx(qt,{src:v,alt:w??"Usurio"}),s.jsx(Vt,{children:(w||"U").charAt(0).toUpperCase()})]}),s.jsx("div",{className:"min-w-0",children:s.jsx("p",{className:"text-sm font-medium truncate",children:w})})]}),h&&s.jsx(O,{variant:"ghost",className:"w-full justify-start",onClick:()=>{c(!1),e("/musician")},children:"Painel"}),s.jsx(O,{variant:"ghost",className:"w-full justify-start",onClick:()=>{c(!1),e("/requests")},children:"Meus Pedidos"}),s.jsx(O,{variant:"ghost",className:"w-full justify-start",onClick:()=>{c(!1),e("/conexoes")},children:"Conexes"}),s.jsx(O,{variant:"ghost",className:"w-full justify-start",onClick:()=>{c(!1),e("/musician/profile")},children:"Editar perfil"}),s.jsx(O,{variant:"ghost",className:"w-full justify-start",onClick:()=>{c(!1),g()},children:"Sair"})]})})}),s.jsxs("main",{className:"max-w-6xl mx-auto px-4 py-6",children:[s.jsx("h1",{className:"sr-only",children:"Meus pedidos"}),n,t&&s.jsxs("section",{className:"mt-10 pb-40",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4 mt-2 flex-wrap",children:[s.jsxs(bn,{children:[s.jsx(jn,{asChild:!0,children:s.jsxs(O,{variant:"outline",size:"sm",className:"justify-start gap-2",children:[s.jsx(wn,{className:"h-4 w-4"}),i!=null&&i.from?i.to?`${Ht(i.from,"dd/MM/yyyy")} - ${Ht(i.to,"dd/MM/yyyy")}`:`${Ht(i.from,"dd/MM/yyyy")} - ...`:s.jsx("span",{children:"Selecionar perodo"})]})}),s.jsx(un,{className:"w-auto p-0",align:"start",children:s.jsx(gs,{mode:"range",selected:i,onSelect:o,initialFocus:!0,className:"p-3 pointer-events-auto"})})]}),s.jsx(O,{variant:"ghost",size:"sm",onClick:()=>o(void 0),children:"Limpar filtro"})]}),P?s.jsx("p",{className:"text-muted-foreground",children:"Carregando..."}):C.length===0?s.jsx("p",{className:"text-muted-foreground",children:"Voc ainda no fez nenhum pedido."}):s.jsxs("div",{children:[C.map((R,L)=>{var Z,de,_e,me,xe;return s.jsxs("div",{children:[s.jsx(tt,{className:"border-0 shadow-none",children:s.jsxs(rt,{className:"py-4 flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:new Date(R.created_at).toLocaleString()}),R.message&&s.jsx("div",{className:"mt-1",children:R.message}),R.musician_id&&s.jsxs("div",{className:"mt-2 flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsxs(Bt,{className:"h-6 w-6",isPro:!!((Z=k.get(R.musician_id))!=null&&Z.is_pro),children:[s.jsx(qt,{src:((de=k.get(R.musician_id))==null?void 0:de.avatar_url)||void 0,alt:`Avatar do msico ${((_e=k.get(R.musician_id))==null?void 0:_e.display_name)||""}`}),s.jsx(Vt,{children:(((me=k.get(R.musician_id))==null?void 0:me.display_name)||"M").charAt(0).toUpperCase()})]}),s.jsxs("span",{children:["Msico: ",((xe=k.get(R.musician_id))==null?void 0:xe.display_name)||""]})]})]}),s.jsxs("div",{className:"text-right",children:[R.status==="approved"&&s.jsx("div",{className:"text-sm text-success",children:"Msica tocada"}),R.amount!=null&&s.jsxs("div",{className:"text-sm",children:["R$ ",Number(R.amount).toFixed(2)]})]})]})}),L<C.length-1&&s.jsx(Zc,{})]},R.id)}),s.jsx("div",{ref:D,className:"h-8"})]}),s.jsx("div",{className:"fixed left-1/2 -translate-x-1/2 bottom-[100px] z-50 pointer-events-none",children:s.jsxs("div",{className:"pointer-events-auto bg-muted text-gray-500 px-4 py-2 rounded-full whitespace-nowrap",children:[s.jsx("span",{className:"text-sm",children:"Total de contribuio: "}),s.jsxs("span",{className:"font-semibold",children:["R$ ",E.toFixed(2)]})]})})]})]})]})},y7=()=>{const e=Rr(),t=f.useRef(null);return f.useEffect(()=>{let r,n=!1;const a=async o=>{var d;try{await((d=r==null?void 0:r.clear)==null?void 0:d.call(r))}catch{}if(n)return;n=!0;const c=(u=>{const h=/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i;if(h.test(u.trim()))return u.trim();try{const p=new URL(u).pathname.match(/\/m\/([0-9a-f-]{36})/i);if(p!=null&&p[1]&&h.test(p[1]))return p[1]}catch{}return null})(o);if(c){e(`/m/${c}`);return}try{const u=new URL(o);window.location.href=u.toString();return}catch{}oe({title:"Cdigo lido",description:o.slice(0,100)}),e("/requests")},i=o=>{};return(async()=>{try{const{Html5QrcodeScanner:o}=await bl(async()=>{const{Html5QrcodeScanner:l}=await import("./index-B2L0hhtN.js");return{Html5QrcodeScanner:l}},[]);r=new o("qr-reader",{fps:10,qrbox:{width:260,height:260},rememberLastUsedCamera:!0},!1),t.current=r,r.render(a,i)}catch(o){oe({title:"Erro ao iniciar cmera",description:(o==null?void 0:o.message)||"Permita o acesso  cmera."})}})(),()=>{(async()=>{var o;try{await((o=r==null?void 0:r.clear)==null?void 0:o.call(r))}catch{}})()}},[e]),s.jsxs("main",{className:"min-h-screen bg-background p-4",children:[s.jsx(Xt,{title:"Ler QR Code - Pedidos de Msica",description:"Escaneie o QR Code para abrir a pgina de pedidos."}),s.jsxs("section",{className:"max-w-3xl mx-auto",children:[s.jsxs("header",{className:"mb-6",children:[s.jsx(O,{variant:"ghost",size:"icon",onClick:()=>e(-1),"aria-label":"Voltar",children:s.jsx(Wp,{className:"h-5 w-5"})}),s.jsx("h1",{className:"mt-2 text-2xl font-semibold",children:"Ler QR Code"})]}),s.jsxs("article",{className:"border rounded-lg p-4 bg-card text-card-foreground",children:[s.jsx("div",{id:"qr-reader",className:"w-full"}),s.jsx("p",{className:"mt-4 text-sm text-muted-foreground",children:"Posicione o QR Code dentro do quadrado. Se o cdigo for um link, voc ser redirecionado automaticamente."}),s.jsx("div",{className:"mt-4",children:s.jsx(O,{variant:"outline",onClick:()=>e("/requests"),children:"Pular e ir para pedidos"})})]})]})]})},w7=wl("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Br({className:e,variant:t,...r}){return s.jsx("div",{className:le(w7({variant:t}),e),...r})}function $T(e){return Ze({queryKey:["active-profile",e],enabled:!!e,queryFn:async()=>{const{data:n,error:a}=await $.from("profiles").select("id, display_name, avatar_url, is_active, is_blocked, is_pro, username, description, payment_qr_url, pix_key, cover_url, cover_position, cover_position_mobile, cover_position_desktop, whatsapp, responsible_name, responsible_whatsapp, instagram, facebook, youtube, spotify, requests_count, shares_count").eq("id",e).eq("is_active",!0).eq("is_blocked",!1).maybeSingle();if(a)throw a;return n}})}async function zT(e){if(!e)return;const{data:t}=await $.from("profiles").select("is_blocked").eq("id",e).maybeSingle();if(t!=null&&t.is_blocked){try{await $.auth.signOut()}catch{}window.location.replace("/blocked")}}const Jr=xg,b7=eT,j7=yg,UT=f.forwardRef(({className:e,...t},r)=>s.jsx(xd,{ref:r,className:le("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));UT.displayName=xd.displayName;const Kr=f.forwardRef(({className:e,children:t,hideClose:r,...n},a)=>s.jsxs(j7,{children:[s.jsx(UT,{}),s.jsxs(yd,{ref:a,className:le("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 focus:outline-none focus-visible:outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,!r&&s.jsxs(wg,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[s.jsx(Pr,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Kr.displayName=yd.displayName;const Gr=({className:e,...t})=>s.jsx("div",{className:le("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Gr.displayName="DialogHeader";const pa=({className:e,...t})=>s.jsx("div",{className:le("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});pa.displayName="DialogFooter";const Yr=f.forwardRef(({className:e,...t},r)=>s.jsx(Rf,{ref:r,className:le("text-lg font-semibold leading-none tracking-tight",e),...t}));Yr.displayName=Rf.displayName;const Eu=f.forwardRef(({className:e,...t},r)=>s.jsx(Mf,{ref:r,className:le("text-sm text-muted-foreground",e),...t}));Eu.displayName=Mf.displayName;function _7({className:e}){return s.jsx("svg",{viewBox:"0 0 24 24","aria-hidden":"true",focusable:"false",role:"img",className:e,fill:"currentColor",children:s.jsx("path",{d:"M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0zm5.26 17.4a.75.75 0 01-1.03.27c-2.83-1.73-6.39-2.12-10.58-1.17a.75.75 0 01-.33-1.46c4.5-1.02 8.42-.58 11.55 1.31.36.22.47.69.24 1.05zm1.48-3.3a.94.94 0 01-1.29.34c-3.24-1.98-8.18-2.56-12.01-1.41a.94.94 0 11-.52-1.8c4.3-1.24 9.69-.6 13.35 1.56.45.27.6.86.33 1.31zm.13-3.35a1.12 1.12 0 01-1.54.41c-3.7-2.2-9.34-2.4-12.65-1.32a1.12 1.12 0 11-.66-2.14c3.79-1.17 10.02-.92 14.24 1.6.53.31.71 1 .4 1.45z"})})}var N7=f.createContext(void 0);function zf(e){const t=f.useContext(N7);return e||t||"ltr"}var xx="rovingFocusGroup.onEntryFocus",S7={bubbles:!1,cancelable:!0},Uf="RovingFocusGroup",[f0,BT,C7]=Bp(Uf),[k7,_g]=Cn(Uf,[C7]),[E7,P7]=k7(Uf),qT=f.forwardRef((e,t)=>s.jsx(f0.Provider,{scope:e.__scopeRovingFocusGroup,children:s.jsx(f0.Slot,{scope:e.__scopeRovingFocusGroup,children:s.jsx(T7,{...e,ref:t})})}));qT.displayName=Uf;var T7=f.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:a=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:u=!1,...h}=e,m=f.useRef(null),p=ct(t,m),w=zf(i),[v,g]=va({prop:o,defaultProp:l??null,onChange:c,caller:Uf}),[y,x]=f.useState(!1),b=yr(d),_=BT(r),N=f.useRef(!1),[P,S]=f.useState(0);return f.useEffect(()=>{const T=m.current;if(T)return T.addEventListener(xx,b),()=>T.removeEventListener(xx,b)},[b]),s.jsx(E7,{scope:r,orientation:n,dir:w,loop:a,currentTabStopId:v,onItemFocus:f.useCallback(T=>g(T),[g]),onItemShiftTab:f.useCallback(()=>x(!0),[]),onFocusableItemAdd:f.useCallback(()=>S(T=>T+1),[]),onFocusableItemRemove:f.useCallback(()=>S(T=>T-1),[]),children:s.jsx(Ie.div,{tabIndex:y||P===0?-1:0,"data-orientation":n,...h,ref:p,style:{outline:"none",...e.style},onMouseDown:Ce(e.onMouseDown,()=>{N.current=!0}),onFocus:Ce(e.onFocus,T=>{const U=!N.current;if(T.target===T.currentTarget&&U&&!y){const q=new CustomEvent(xx,S7);if(T.currentTarget.dispatchEvent(q),!q.defaultPrevented){const re=_().filter(ee=>ee.focusable),G=re.find(ee=>ee.active),H=re.find(ee=>ee.id===v),se=[G,H,...re].filter(Boolean).map(ee=>ee.ref.current);HT(se,u)}}N.current=!1}),onBlur:Ce(e.onBlur,()=>x(!1))})})}),VT="RovingFocusGroupItem",WT=f.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:a=!1,tabStopId:i,children:o,...l}=e,c=Xr(),d=i||c,u=P7(VT,r),h=u.currentTabStopId===d,m=BT(r),{onFocusableItemAdd:p,onFocusableItemRemove:w,currentTabStopId:v}=u;return f.useEffect(()=>{if(n)return p(),()=>w()},[n,p,w]),s.jsx(f0.ItemSlot,{scope:r,id:d,focusable:n,active:a,children:s.jsx(Ie.span,{tabIndex:h?0:-1,"data-orientation":u.orientation,...l,ref:t,onMouseDown:Ce(e.onMouseDown,g=>{n?u.onItemFocus(d):g.preventDefault()}),onFocus:Ce(e.onFocus,()=>u.onItemFocus(d)),onKeyDown:Ce(e.onKeyDown,g=>{if(g.key==="Tab"&&g.shiftKey){u.onItemShiftTab();return}if(g.target!==g.currentTarget)return;const y=A7(g,u.orientation,u.dir);if(y!==void 0){if(g.metaKey||g.ctrlKey||g.altKey||g.shiftKey)return;g.preventDefault();let b=m().filter(_=>_.focusable).map(_=>_.ref.current);if(y==="last")b.reverse();else if(y==="prev"||y==="next"){y==="prev"&&b.reverse();const _=b.indexOf(g.currentTarget);b=u.loop?O7(b,_+1):b.slice(_+1)}setTimeout(()=>HT(b))}}),children:typeof o=="function"?o({isCurrentTabStop:h,hasTabStop:v!=null}):o})})});WT.displayName=VT;var R7={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function M7(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function A7(e,t,r){const n=M7(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return R7[n]}function HT(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function O7(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var KT=qT,GT=WT,h0=["Enter"," "],D7=["ArrowDown","PageUp","Home"],YT=["ArrowUp","PageDown","End"],I7=[...D7,...YT],F7={ltr:[...h0,"ArrowRight"],rtl:[...h0,"ArrowLeft"]},L7={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Bf="Menu",[cf,$7,z7]=Bp(Bf),[_l,QT]=Cn(Bf,[z7,yo,_g]),Ng=yo(),XT=_g(),[U7,Nl]=_l(Bf),[B7,qf]=_l(Bf),ZT=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:a,onOpenChange:i,modal:o=!0}=e,l=Ng(t),[c,d]=f.useState(null),u=f.useRef(!1),h=yr(i),m=zf(a);return f.useEffect(()=>{const p=()=>{u.current=!0,document.addEventListener("pointerdown",w,{capture:!0,once:!0}),document.addEventListener("pointermove",w,{capture:!0,once:!0})},w=()=>u.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",w,{capture:!0}),document.removeEventListener("pointermove",w,{capture:!0})}},[]),s.jsx(Zp,{...l,children:s.jsx(U7,{scope:t,open:r,onOpenChange:h,content:c,onContentChange:d,children:s.jsx(B7,{scope:t,onClose:f.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:u,dir:m,modal:o,children:n})})})};ZT.displayName=Bf;var q7="MenuAnchor",kb=f.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=Ng(r);return s.jsx(Cf,{...a,...n,ref:t})});kb.displayName=q7;var Eb="MenuPortal",[V7,JT]=_l(Eb,{forceMount:void 0}),eR=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:a}=e,i=Nl(Eb,t);return s.jsx(V7,{scope:t,forceMount:r,children:s.jsx(rn,{present:r||i.open,children:s.jsx(cd,{asChild:!0,container:a,children:n})})})};eR.displayName=Eb;var vs="MenuContent",[W7,Pb]=_l(vs),tR=f.forwardRef((e,t)=>{const r=JT(vs,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,i=Nl(vs,e.__scopeMenu),o=qf(vs,e.__scopeMenu);return s.jsx(cf.Provider,{scope:e.__scopeMenu,children:s.jsx(rn,{present:n||i.open,children:s.jsx(cf.Slot,{scope:e.__scopeMenu,children:o.modal?s.jsx(H7,{...a,ref:t}):s.jsx(K7,{...a,ref:t})})})})}),H7=f.forwardRef((e,t)=>{const r=Nl(vs,e.__scopeMenu),n=f.useRef(null),a=ct(t,n);return f.useEffect(()=>{const i=n.current;if(i)return gg(i)},[]),s.jsx(Tb,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:Ce(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),K7=f.forwardRef((e,t)=>{const r=Nl(vs,e.__scopeMenu);return s.jsx(Tb,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),G7=no("MenuContent.ScrollLock"),Tb=f.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:h,onInteractOutside:m,onDismiss:p,disableOutsideScroll:w,...v}=e,g=Nl(vs,r),y=qf(vs,r),x=Ng(r),b=XT(r),_=$7(r),[N,P]=f.useState(null),S=f.useRef(null),T=ct(t,S,g.onContentChange),U=f.useRef(0),q=f.useRef(""),re=f.useRef(0),G=f.useRef(null),H=f.useRef("right"),V=f.useRef(0),se=w?Tf:f.Fragment,ee=w?{as:G7,allowPinchZoom:!0}:void 0,J=D=>{var Q,R;const C=q.current+D,E=_().filter(L=>!L.disabled),A=document.activeElement,Y=(Q=E.find(L=>L.ref.current===A))==null?void 0:Q.textValue,k=E.map(L=>L.textValue),z=iW(k,C,Y),ne=(R=E.find(L=>L.textValue===z))==null?void 0:R.ref.current;(function L(Z){q.current=Z,window.clearTimeout(U.current),Z!==""&&(U.current=window.setTimeout(()=>L(""),1e3))})(C),ne&&setTimeout(()=>ne.focus())};f.useEffect(()=>()=>window.clearTimeout(U.current),[]),mg();const I=f.useCallback(D=>{var E,A;return H.current===((E=G.current)==null?void 0:E.side)&&lW(D,(A=G.current)==null?void 0:A.area)},[]);return s.jsx(W7,{scope:r,searchRef:q,onItemEnter:f.useCallback(D=>{I(D)&&D.preventDefault()},[I]),onItemLeave:f.useCallback(D=>{var C;I(D)||((C=S.current)==null||C.focus(),P(null))},[I]),onTriggerLeave:f.useCallback(D=>{I(D)&&D.preventDefault()},[I]),pointerGraceTimerRef:re,onPointerGraceIntentChange:f.useCallback(D=>{G.current=D},[]),children:s.jsx(se,{...ee,children:s.jsx(Pf,{asChild:!0,trapped:a,onMountAutoFocus:Ce(i,D=>{var C;D.preventDefault(),(C=S.current)==null||C.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:s.jsx(yl,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:h,onInteractOutside:m,onDismiss:p,children:s.jsx(KT,{asChild:!0,...b,dir:y.dir,orientation:"vertical",loop:n,currentTabStopId:N,onCurrentTabStopIdChange:P,onEntryFocus:Ce(c,D=>{y.isUsingKeyboardRef.current||D.preventDefault()}),preventScrollOnEntryFocus:!0,children:s.jsx(Jp,{role:"menu","aria-orientation":"vertical","data-state":vR(g.open),"data-radix-menu-content":"",dir:y.dir,...x,...v,ref:T,style:{outline:"none",...v.style},onKeyDown:Ce(v.onKeyDown,D=>{const E=D.target.closest("[data-radix-menu-content]")===D.currentTarget,A=D.ctrlKey||D.altKey||D.metaKey,Y=D.key.length===1;E&&(D.key==="Tab"&&D.preventDefault(),!A&&Y&&J(D.key));const k=S.current;if(D.target!==k||!I7.includes(D.key))return;D.preventDefault();const ne=_().filter(Q=>!Q.disabled).map(Q=>Q.ref.current);YT.includes(D.key)&&ne.reverse(),sW(ne)}),onBlur:Ce(e.onBlur,D=>{D.currentTarget.contains(D.target)||(window.clearTimeout(U.current),q.current="")}),onPointerMove:Ce(e.onPointerMove,df(D=>{const C=D.target,E=V.current!==D.clientX;if(D.currentTarget.contains(C)&&E){const A=D.clientX>V.current?"right":"left";H.current=A,V.current=D.clientX}}))})})})})})})});tR.displayName=vs;var Y7="MenuGroup",Rb=f.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(Ie.div,{role:"group",...n,ref:t})});Rb.displayName=Y7;var Q7="MenuLabel",rR=f.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(Ie.div,{...n,ref:t})});rR.displayName=Q7;var np="MenuItem",zN="menu.itemSelect",Sg=f.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...a}=e,i=f.useRef(null),o=qf(np,e.__scopeMenu),l=Pb(np,e.__scopeMenu),c=ct(t,i),d=f.useRef(!1),u=()=>{const h=i.current;if(!r&&h){const m=new CustomEvent(zN,{bubbles:!0,cancelable:!0});h.addEventListener(zN,p=>n==null?void 0:n(p),{once:!0}),kw(h,m),m.defaultPrevented?d.current=!1:o.onClose()}};return s.jsx(nR,{...a,ref:c,disabled:r,onClick:Ce(e.onClick,u),onPointerDown:h=>{var m;(m=e.onPointerDown)==null||m.call(e,h),d.current=!0},onPointerUp:Ce(e.onPointerUp,h=>{var m;d.current||(m=h.currentTarget)==null||m.click()}),onKeyDown:Ce(e.onKeyDown,h=>{const m=l.searchRef.current!=="";r||m&&h.key===" "||h0.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});Sg.displayName=np;var nR=f.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:a,...i}=e,o=Pb(np,r),l=XT(r),c=f.useRef(null),d=ct(t,c),[u,h]=f.useState(!1),[m,p]=f.useState("");return f.useEffect(()=>{const w=c.current;w&&p((w.textContent??"").trim())},[i.children]),s.jsx(cf.ItemSlot,{scope:r,disabled:n,textValue:a??m,children:s.jsx(GT,{asChild:!0,...l,focusable:!n,children:s.jsx(Ie.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...i,ref:d,onPointerMove:Ce(e.onPointerMove,df(w=>{n?o.onItemLeave(w):(o.onItemEnter(w),w.defaultPrevented||w.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ce(e.onPointerLeave,df(w=>o.onItemLeave(w))),onFocus:Ce(e.onFocus,()=>h(!0)),onBlur:Ce(e.onBlur,()=>h(!1))})})})}),X7="MenuCheckboxItem",sR=f.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...a}=e;return s.jsx(cR,{scope:e.__scopeMenu,checked:r,children:s.jsx(Sg,{role:"menuitemcheckbox","aria-checked":sp(r)?"mixed":r,...a,ref:t,"data-state":Ab(r),onSelect:Ce(a.onSelect,()=>n==null?void 0:n(sp(r)?!0:!r),{checkForDefaultPrevented:!1})})})});sR.displayName=X7;var aR="MenuRadioGroup",[Z7,J7]=_l(aR,{value:void 0,onValueChange:()=>{}}),iR=f.forwardRef((e,t)=>{const{value:r,onValueChange:n,...a}=e,i=yr(n);return s.jsx(Z7,{scope:e.__scopeMenu,value:r,onValueChange:i,children:s.jsx(Rb,{...a,ref:t})})});iR.displayName=aR;var oR="MenuRadioItem",lR=f.forwardRef((e,t)=>{const{value:r,...n}=e,a=J7(oR,e.__scopeMenu),i=r===a.value;return s.jsx(cR,{scope:e.__scopeMenu,checked:i,children:s.jsx(Sg,{role:"menuitemradio","aria-checked":i,...n,ref:t,"data-state":Ab(i),onSelect:Ce(n.onSelect,()=>{var o;return(o=a.onValueChange)==null?void 0:o.call(a,r)},{checkForDefaultPrevented:!1})})})});lR.displayName=oR;var Mb="MenuItemIndicator",[cR,eW]=_l(Mb,{checked:!1}),dR=f.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...a}=e,i=eW(Mb,r);return s.jsx(rn,{present:n||sp(i.checked)||i.checked===!0,children:s.jsx(Ie.span,{...a,ref:t,"data-state":Ab(i.checked)})})});dR.displayName=Mb;var tW="MenuSeparator",uR=f.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(Ie.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});uR.displayName=tW;var rW="MenuArrow",fR=f.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=Ng(r);return s.jsx(eg,{...a,...n,ref:t})});fR.displayName=rW;var nW="MenuSub",[rQ,hR]=_l(nW),ou="MenuSubTrigger",mR=f.forwardRef((e,t)=>{const r=Nl(ou,e.__scopeMenu),n=qf(ou,e.__scopeMenu),a=hR(ou,e.__scopeMenu),i=Pb(ou,e.__scopeMenu),o=f.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=i,d={__scopeMenu:e.__scopeMenu},u=f.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return f.useEffect(()=>u,[u]),f.useEffect(()=>{const h=l.current;return()=>{window.clearTimeout(h),c(null)}},[l,c]),s.jsx(kb,{asChild:!0,...d,children:s.jsx(nR,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":a.contentId,"data-state":vR(r.open),...e,ref:ei(t,a.onTriggerChange),onClick:h=>{var m;(m=e.onClick)==null||m.call(e,h),!(e.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:Ce(e.onPointerMove,df(h=>{i.onItemEnter(h),!h.defaultPrevented&&!e.disabled&&!r.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),u()},100))})),onPointerLeave:Ce(e.onPointerLeave,df(h=>{var p,w;u();const m=(p=r.content)==null?void 0:p.getBoundingClientRect();if(m){const v=(w=r.content)==null?void 0:w.dataset.side,g=v==="right",y=g?-5:5,x=m[g?"left":"right"],b=m[g?"right":"left"];i.onPointerGraceIntentChange({area:[{x:h.clientX+y,y:h.clientY},{x,y:m.top},{x:b,y:m.top},{x:b,y:m.bottom},{x,y:m.bottom}],side:v}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(h),h.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:Ce(e.onKeyDown,h=>{var p;const m=i.searchRef.current!=="";e.disabled||m&&h.key===" "||F7[n.dir].includes(h.key)&&(r.onOpenChange(!0),(p=r.content)==null||p.focus(),h.preventDefault())})})})});mR.displayName=ou;var pR="MenuSubContent",gR=f.forwardRef((e,t)=>{const r=JT(vs,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,i=Nl(vs,e.__scopeMenu),o=qf(vs,e.__scopeMenu),l=hR(pR,e.__scopeMenu),c=f.useRef(null),d=ct(t,c);return s.jsx(cf.Provider,{scope:e.__scopeMenu,children:s.jsx(rn,{present:n||i.open,children:s.jsx(cf.Slot,{scope:e.__scopeMenu,children:s.jsx(Tb,{id:l.contentId,"aria-labelledby":l.triggerId,...a,ref:d,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{var h;o.isUsingKeyboardRef.current&&((h=c.current)==null||h.focus()),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:Ce(e.onFocusOutside,u=>{u.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:Ce(e.onEscapeKeyDown,u=>{o.onClose(),u.preventDefault()}),onKeyDown:Ce(e.onKeyDown,u=>{var p;const h=u.currentTarget.contains(u.target),m=L7[o.dir].includes(u.key);h&&m&&(i.onOpenChange(!1),(p=l.trigger)==null||p.focus(),u.preventDefault())})})})})})});gR.displayName=pR;function vR(e){return e?"open":"closed"}function sp(e){return e==="indeterminate"}function Ab(e){return sp(e)?"indeterminate":e?"checked":"unchecked"}function sW(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function aW(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function iW(e,t,r){const a=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=aW(e,Math.max(i,0));a.length===1&&(o=o.filter(d=>d!==r));const c=o.find(d=>d.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function oW(e,t){const{x:r,y:n}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],c=t[o],d=l.x,u=l.y,h=c.x,m=c.y;u>n!=m>n&&r<(h-d)*(n-u)/(m-u)+d&&(a=!a)}return a}function lW(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return oW(r,t)}function df(e){return t=>t.pointerType==="mouse"?e(t):void 0}var cW=ZT,dW=kb,uW=eR,fW=tR,hW=Rb,mW=rR,pW=Sg,gW=sR,vW=iR,xW=lR,yW=dR,wW=uR,bW=fR,jW=mR,_W=gR,Cg="DropdownMenu",[NW,nQ]=Cn(Cg,[QT]),kn=QT(),[SW,xR]=NW(Cg),yR=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:a,defaultOpen:i,onOpenChange:o,modal:l=!0}=e,c=kn(t),d=f.useRef(null),[u,h]=va({prop:a,defaultProp:i??!1,onChange:o,caller:Cg});return s.jsx(SW,{scope:t,triggerId:Xr(),triggerRef:d,contentId:Xr(),open:u,onOpenChange:h,onOpenToggle:f.useCallback(()=>h(m=>!m),[h]),modal:l,children:s.jsx(cW,{...c,open:u,onOpenChange:h,dir:n,modal:l,children:r})})};yR.displayName=Cg;var wR="DropdownMenuTrigger",bR=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...a}=e,i=xR(wR,r),o=kn(r);return s.jsx(dW,{asChild:!0,...o,children:s.jsx(Ie.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...a,ref:ei(t,i.triggerRef),onPointerDown:Ce(e.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:Ce(e.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});bR.displayName=wR;var CW="DropdownMenuPortal",jR=e=>{const{__scopeDropdownMenu:t,...r}=e,n=kn(t);return s.jsx(uW,{...n,...r})};jR.displayName=CW;var _R="DropdownMenuContent",NR=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=xR(_R,r),i=kn(r),o=f.useRef(!1);return s.jsx(fW,{id:a.contentId,"aria-labelledby":a.triggerId,...i,...n,ref:t,onCloseAutoFocus:Ce(e.onCloseAutoFocus,l=>{var c;o.current||(c=a.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:Ce(e.onInteractOutside,l=>{const c=l.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0,u=c.button===2||d;(!a.modal||u)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});NR.displayName=_R;var kW="DropdownMenuGroup",EW=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=kn(r);return s.jsx(hW,{...a,...n,ref:t})});EW.displayName=kW;var PW="DropdownMenuLabel",SR=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=kn(r);return s.jsx(mW,{...a,...n,ref:t})});SR.displayName=PW;var TW="DropdownMenuItem",CR=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=kn(r);return s.jsx(pW,{...a,...n,ref:t})});CR.displayName=TW;var RW="DropdownMenuCheckboxItem",kR=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=kn(r);return s.jsx(gW,{...a,...n,ref:t})});kR.displayName=RW;var MW="DropdownMenuRadioGroup",AW=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=kn(r);return s.jsx(vW,{...a,...n,ref:t})});AW.displayName=MW;var OW="DropdownMenuRadioItem",ER=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=kn(r);return s.jsx(xW,{...a,...n,ref:t})});ER.displayName=OW;var DW="DropdownMenuItemIndicator",PR=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=kn(r);return s.jsx(yW,{...a,...n,ref:t})});PR.displayName=DW;var IW="DropdownMenuSeparator",TR=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=kn(r);return s.jsx(wW,{...a,...n,ref:t})});TR.displayName=IW;var FW="DropdownMenuArrow",LW=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=kn(r);return s.jsx(bW,{...a,...n,ref:t})});LW.displayName=FW;var $W="DropdownMenuSubTrigger",RR=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=kn(r);return s.jsx(jW,{...a,...n,ref:t})});RR.displayName=$W;var zW="DropdownMenuSubContent",MR=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=kn(r);return s.jsx(_W,{...a,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});MR.displayName=zW;var UW=yR,BW=bR,qW=jR,AR=NR,OR=SR,DR=CR,IR=kR,FR=ER,LR=PR,$R=TR,zR=RR,UR=MR;const Xi=UW,Zi=BW,VW=f.forwardRef(({className:e,inset:t,children:r,...n},a)=>s.jsxs(zR,{ref:a,className:le("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...n,children:[r,s.jsx(Rw,{className:"ml-auto h-4 w-4"})]}));VW.displayName=zR.displayName;const WW=f.forwardRef(({className:e,...t},r)=>s.jsx(UR,{ref:r,className:le("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));WW.displayName=UR.displayName;const Ga=f.forwardRef(({className:e,sideOffset:t=4,...r},n)=>s.jsx(qW,{children:s.jsx(AR,{ref:n,sideOffset:t,className:le("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));Ga.displayName=AR.displayName;const dr=f.forwardRef(({className:e,inset:t,...r},n)=>s.jsx(DR,{ref:n,className:le("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...r}));dr.displayName=DR.displayName;const HW=f.forwardRef(({className:e,children:t,checked:r,...n},a)=>s.jsxs(IR,{ref:a,className:le("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...n,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(LR,{children:s.jsx(cs,{className:"h-4 w-4"})})}),t]}));HW.displayName=IR.displayName;const KW=f.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(FR,{ref:n,className:le("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(LR,{children:s.jsx(R3,{className:"h-2 w-2 fill-current"})})}),t]}));KW.displayName=FR.displayName;const GW=f.forwardRef(({className:e,inset:t,...r},n)=>s.jsx(OR,{ref:n,className:le("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));GW.displayName=OR.displayName;const um=f.forwardRef(({className:e,...t},r)=>s.jsx($R,{ref:r,className:le("-mx-1 my-1 h-px bg-muted",e),...t}));um.displayName=$R.displayName;var kg="Tabs",[YW,sQ]=Cn(kg,[_g]),BR=_g(),[QW,Ob]=YW(kg),qR=f.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:a,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...d}=e,u=zf(l),[h,m]=va({prop:n,onChange:a,defaultProp:i??"",caller:kg});return s.jsx(QW,{scope:r,baseId:Xr(),value:h,onValueChange:m,orientation:o,dir:u,activationMode:c,children:s.jsx(Ie.div,{dir:u,"data-orientation":o,...d,ref:t})})});qR.displayName=kg;var VR="TabsList",WR=f.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...a}=e,i=Ob(VR,r),o=BR(r);return s.jsx(KT,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:n,children:s.jsx(Ie.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:t})})});WR.displayName=VR;var HR="TabsTrigger",KR=f.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:a=!1,...i}=e,o=Ob(HR,r),l=BR(r),c=QR(o.baseId,n),d=XR(o.baseId,n),u=n===o.value;return s.jsx(GT,{asChild:!0,...l,focusable:!a,active:u,children:s.jsx(Ie.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":d,"data-state":u?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...i,ref:t,onMouseDown:Ce(e.onMouseDown,h=>{!a&&h.button===0&&h.ctrlKey===!1?o.onValueChange(n):h.preventDefault()}),onKeyDown:Ce(e.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(n)}),onFocus:Ce(e.onFocus,()=>{const h=o.activationMode!=="manual";!u&&!a&&h&&o.onValueChange(n)})})})});KR.displayName=HR;var GR="TabsContent",YR=f.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:a,children:i,...o}=e,l=Ob(GR,r),c=QR(l.baseId,n),d=XR(l.baseId,n),u=n===l.value,h=f.useRef(u);return f.useEffect(()=>{const m=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(m)},[]),s.jsx(rn,{present:a||u,children:({present:m})=>s.jsx(Ie.div,{"data-state":u?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:d,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:h.current?"0s":void 0},children:m&&i})})});YR.displayName=GR;function QR(e,t){return`${e}-trigger-${t}`}function XR(e,t){return`${e}-content-${t}`}var XW=qR,ZR=WR,JR=KR,eM=YR;const _d=XW,io=f.forwardRef(({className:e,...t},r)=>s.jsx(ZR,{ref:r,className:le("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));io.displayName=ZR.displayName;const Lr=f.forwardRef(({className:e,...t},r)=>s.jsx(JR,{ref:r,className:le("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Lr.displayName=JR.displayName;const Wr=f.forwardRef(({className:e,...t},r)=>s.jsx(eM,{ref:r,className:le("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Wr.displayName=eM.displayName;const Wl=24;function tM(){var d,u;const{user:e}=ar(),[t,r]=f.useState("seguindo"),n=f.useRef(null),a=f.useRef(null),i=bs({queryKey:["mini-following",e==null?void 0:e.id],enabled:!!(e!=null&&e.id),initialPageParam:0,getNextPageParam:(h,m)=>h.hasMore?m.length:void 0,queryFn:async({pageParam:h})=>{const p=(Number(h)||0)*Wl,w=p+Wl-1,{data:v,error:g}=await $.from("follows").select("followee_id").eq("follower_id",e.id).order("created_at",{ascending:!1}).range(p,w);if(g)throw g;const y=(v||[]).map(S=>S.followee_id);if(y.length===0)return{rows:[],hasMore:!1};const{data:x,error:b}=await $.from("profiles").select("id, display_name, avatar_url").in("id",y).eq("is_active",!0).eq("is_blocked",!1);if(b)throw b;const _=new Map((x||[]).map(S=>[S.id,S])),N=y.map(S=>_.get(S)).filter(Boolean),P=(v||[]).length===Wl;return{rows:N,hasMore:P}}}),o=f.useMemo(()=>{var h;return(((h=i.data)==null?void 0:h.pages)||[]).flatMap(m=>m.rows)},[(d=i.data)==null?void 0:d.pages]),l=bs({queryKey:["mini-followers",e==null?void 0:e.id],enabled:!!(e!=null&&e.id),initialPageParam:0,getNextPageParam:(h,m)=>h.hasMore?m.length:void 0,queryFn:async({pageParam:h})=>{const p=(Number(h)||0)*Wl,w=p+Wl-1,{data:v,error:g}=await $.from("follows").select("follower_id").eq("followee_id",e.id).order("created_at",{ascending:!1}).range(p,w);if(g)throw g;const y=(v||[]).map(S=>S.follower_id);if(y.length===0)return{rows:[],hasMore:!1};const{data:x,error:b}=await $.from("profiles").select("id, display_name, avatar_url").in("id",y).eq("is_active",!0).eq("is_blocked",!1);if(b)throw b;const _=new Map((x||[]).map(S=>[S.id,S])),N=y.map(S=>_.get(S)).filter(Boolean),P=(v||[]).length===Wl;return{rows:N,hasMore:P}}}),c=f.useMemo(()=>{var h;return(((h=l.data)==null?void 0:h.pages)||[]).flatMap(m=>m.rows)},[(u=l.data)==null?void 0:u.pages]);return f.useEffect(()=>{const h=n.current;if(!h||t!=="seguindo")return;const m=new IntersectionObserver(p=>{p[0].isIntersecting&&i.hasNextPage&&!i.isFetchingNextPage&&i.fetchNextPage()});return m.observe(h),()=>m.disconnect()},[t,i.hasNextPage,i.isFetchingNextPage]),f.useEffect(()=>{const h=a.current;if(!h||t!=="seguidores")return;const m=new IntersectionObserver(p=>{p[0].isIntersecting&&l.hasNextPage&&!l.isFetchingNextPage&&l.fetchNextPage()});return m.observe(h),()=>m.disconnect()},[t,l.hasNextPage,l.isFetchingNextPage]),e!=null&&e.id?s.jsx("div",{className:"mt-2",children:s.jsxs(_d,{value:t,onValueChange:h=>r(h),className:"w-full",children:[s.jsxs(io,{className:"grid w-full grid-cols-2",children:[s.jsx(Lr,{value:"seguindo",children:"Seguindo"}),s.jsx(Lr,{value:"seguidores",children:"Seguidores"})]}),s.jsxs("div",{className:"p-2",children:[s.jsxs(Wr,{value:"seguindo",className:"mt-0",children:[i.isLoading?s.jsx("p",{className:"text-sm text-muted-foreground",children:"Carregando..."}):o.length===0?s.jsx("p",{className:"text-sm text-muted-foreground",children:"Voc ainda no segue ningum."}):s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:o.map(h=>{const m=h.display_name||"Usurio";return s.jsxs(Yt,{to:`/m/${h.id}`,className:"flex items-center gap-3 rounded-md p-2 hover:bg-muted/50",children:[s.jsxs(Bt,{className:"h-8 w-8 shrink-0",isPro:!!h.is_pro,children:[s.jsx(qt,{src:h.avatar_url||void 0,alt:m}),s.jsx(Vt,{children:m.charAt(0).toUpperCase()})]}),s.jsx("div",{className:"min-w-0",children:s.jsx("p",{className:"text-sm font-medium truncate",children:m})})]},h.id)})}),s.jsx("div",{ref:n,className:"h-6"}),i.isFetchingNextPage&&s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Carregando mais..."})]}),s.jsxs(Wr,{value:"seguidores",className:"mt-0",children:[l.isLoading?s.jsx("p",{className:"text-sm text-muted-foreground",children:"Carregando..."}):c.length===0?s.jsx("p",{className:"text-sm text-muted-foreground",children:"Nenhum seguidor ainda."}):s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:c.map(h=>{const m=h.display_name||"Usurio";return s.jsxs(Yt,{to:`/m/${h.id}`,className:"flex items-center gap-3 rounded-md p-2 hover:bg-muted/50",children:[s.jsxs(Bt,{className:"h-8 w-8 shrink-0",isPro:!!h.is_pro,children:[s.jsx(qt,{src:h.avatar_url||void 0,alt:m}),s.jsx(Vt,{children:m.charAt(0).toUpperCase()})]}),s.jsx("div",{className:"min-w-0",children:s.jsx("p",{className:"text-sm font-medium truncate",children:m})})]},h.id)})}),s.jsx("div",{ref:a,className:"h-6"}),l.isFetchingNextPage&&s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Carregando mais..."})]})]})]})}):null}const ZW={API_BASE_URL:"https://api.veepag.com/v1",DEFAULT_COMPANY_ID:"689ba2287d1aefb263b1cdc6",ENDPOINTS:{TRANSACTION:"/transaction/",TRANSACTION_STATUS:e=>`/transaction/${e}`,TRANSACTION_CANCEL:e=>`/transaction/${e}/cancel`},DEFAULTS:{PAYMENT_EXPIRY:3600,POLLING_INTERVAL:3e4,QR_CODE_SIZE:200},PAYMENT_STATUS:{PENDING:"pending",PAID:"paid",EXPIRED:"expired",CANCELLED:"cancelled",FAILED:"failed"},PAYMENT_METHODS:{PIX:"pix"},VALIDATIONS:{MIN_AMOUNT:1,MAX_AMOUNT:1e6,MAX_DESCRIPTION_LENGTH:255,MAX_CUSTOMER_NAME_LENGTH:100,MAX_CUSTOMER_EMAIL_LENGTH:100,MAX_CUSTOMER_DOCUMENT_LENGTH:20,MAX_CUSTOMER_PHONE_LENGTH:20},ERROR_MESSAGES:{INVALID_API_KEY:"Chave da API Veepag no configurada",INVALID_AMOUNT:"Valor invlido para o pagamento",INVALID_DESCRIPTION:"Descrio invlida para o pagamento",INVALID_CUSTOMER_NAME:"Nome do cliente  obrigatrio",INVALID_EXTERNAL_ID:"ID externo  obrigatrio",TRANSACTION_NOT_FOUND:"Transao no encontrada",TRANSACTION_ALREADY_PAID:"Transao j foi paga",TRANSACTION_EXPIRED:"Transao expirada",TRANSACTION_CANCELLED:"Transao cancelada",TRANSACTION_FAILED:"Transao falhou",NETWORK_ERROR:"Erro de conexo com a API",UNKNOWN_ERROR:"Erro desconhecido"},DEFAULT_HEADERS:{"Content-Type":"application/json",Accept:"application/json"},TIMEOUTS:{REQUEST:3e4,POLLING:3e4},RETRY:{MAX_ATTEMPTS:3,DELAY:1e3,BACKOFF_MULTIPLIER:2}};class JW{constructor(){ah(this,"apiKey");ah(this,"baseURL");ah(this,"companyId");if(this.apiKey="8LPLznUsyRwxIlo5SH5wG0HDBxDTD7awgieoZVoSwjmHJcL32MlUuLwXnvCUjZjF",this.companyId="689ba2287d1aefb263b1cdc6",this.baseURL="https://api.veepag.com/v1",!this.apiKey)throw new Error("VEEPAG_API_KEY no configurada nas variveis de ambiente");this.companyId||(console.warn("VEEPAG_COMPANY_ID no configurado, usando valor padro"),this.companyId=ZW.DEFAULT_COMPANY_ID)}async createTransaction(t){try{const r={companyId:this.companyId,amount:1,paymentMethod:t.paymentMethod},n=`${this.baseURL}/transaction/`,a={"Content-Type":"application/json",Authorization:`key ${this.apiKey}`,apikey:this.apiKey},i=await fetch(n,{method:"POST",headers:a,body:JSON.stringify(r)}),o=await i.text();let l=null;try{l=o?JSON.parse(o):null}catch{}if(!i.ok){const c=l&&(l.message||l.error)||i.statusText||"Erro desconhecido";throw new Error(`Erro na API Veepag: ${i.status} - ${c}`)}return l}catch(r){throw console.error("Erro ao criar transao Veepag:",r),r}}async getTransactionStatus(t){try{const r=`${this.baseURL}/transaction/${t}`,n={Authorization:`key ${this.apiKey}`,apikey:this.apiKey},a=await fetch(r,{method:"GET",headers:n}),i=await a.text();let o=null;try{o=i?JSON.parse(i):null}catch{}if(!a.ok){const l=o&&(o.message||o.error)||a.statusText||"Erro desconhecido";throw new Error(`Erro na API Veepag: ${a.status} - ${l}`)}return o}catch(r){throw console.error("Erro ao consultar transao Veepag:",r),r}}async cancelTransaction(t){try{const r=`${this.baseURL}/transaction/cancel/`,n={"Content-Type":"application/json",apikey:this.apiKey,Authorization:`key ${this.apiKey}`},a={companyId:this.companyId,cancelSubscription:!1,transactionId:t},i=await fetch(r,{method:"PUT",headers:n,body:JSON.stringify(a)}),o=await i.text();let l=null;try{l=o?JSON.parse(o):null}catch{}if(!i.ok){const c=l&&(l.message||l.error)||i.statusText||"Erro desconhecido";throw new Error(`Erro na API Veepag: ${i.status} - ${c}`)}return l}catch(r){throw console.error("Erro ao cancelar transao Veepag:",r),r}}generateQRCode(t){return`https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=${encodeURIComponent(t)}`}validateWebhookPayload(t){try{return!t.id||!t.companyId||!t.status||!t.amount?(console.error("Payload do webhook invlido:",t),null):t}catch(r){return console.error("Erro ao validar payload do webhook:",r),null}}}const rM=new JW,eH=()=>{const[e,t]=f.useState(!1),[r,n]=f.useState(null);return{createPayment:async i=>{t(!0),n(null);try{return await rM.createTransaction({amount:i,paymentMethod:"PIX"})}catch(o){const l=o instanceof Error?o.message:"Erro desconhecido";throw n(l),o}finally{t(!1)}},loading:e,error:r}},UN=e=>typeof e=="number"&&!Number.isNaN(e)?e.toLocaleString("pt-BR",{style:"currency",currency:"BRL"}):"",tH=({current:e,onStep:t,canGoTo:r})=>{const n=[{id:1,label:"Msica"},{id:2,label:"Dedicatria"},{id:3,label:"Contribuio"}];return s.jsx("div",{className:"mb-3",children:s.jsx("div",{className:"flex items-center justify-center gap-8",children:n.map(a=>s.jsx("button",{type:"button",onClick:()=>r(a.id)&&t(a.id),className:"group","aria-current":e===a.id?"step":void 0,children:s.jsx("div",{className:`w-16 h-0.5 rounded-full transition-all duration-300 ${e>=a.id?"bg-gray-500":"bg-muted-foreground/20"}`})},a.id))})})},nM=({mid:e,initialView:t}={})=>{var Vj,Wj,Hj,Kj,Gj;const r=Jw(),n=e||r.mid,a=r==null?void 0:r.section,i=Rr(),o=sl(),{resolvedTheme:l}=as(),[c,d]=f.useState(1),[u,h]=f.useState(null),[m,p]=f.useState(""),[w,v]=f.useState(""),[g,y]=f.useState(""),[x,b]=f.useState(""),[_,N]=f.useState(""),[P,S]=f.useState(0),[T,U]=f.useState(!1),[q,re]=f.useState(!1),[G,H]=f.useState(null),[V,se]=f.useState(!0),[ee,J]=f.useState(!1),[I,D]=f.useState(2),[C,E]=f.useState(null),[A,Y]=f.useState(!1),[k,z]=f.useState(!1),[ne,Q]=f.useState(""),[R,L]=f.useState("");f.useState(!1);const[Z,de]=f.useState(null),[_e,me]=f.useState(!1),[xe,Ge]=f.useState(null),[Nt,Ot]=f.useState(null),[Ct,It]=f.useState("");f.useEffect(()=>{if(!Ct)return;const j=$.channel(`pi-${Ct}`).on("postgres_changes",{event:"UPDATE",schema:"public",table:"payment_intents",filter:`provider_tx_id=eq.${Ct}`},M=>{const W=M.new,ge=String((W==null?void 0:W.status)||"").toUpperCase();(ge.includes("PAID")||ge.includes("APPROV"))&&(re(!0),fe().catch(()=>{}),me(!1))}).subscribe();return()=>{try{$.removeChannel(j)}catch{}}},[Ct]);const[B,te]=f.useState(!1),ce=f.useRef(null),be=f.useRef(null),we="ava_requester_name",pe=j=>{p(j);try{localStorage.setItem(we,j)}catch{}},Se=f.useRef(!1),Ue=f.useRef(null),fe=()=>Ue.current?Ue.current:Se.current?Promise.resolve():(Se.current=!0,Ue.current=XA().catch(j=>{throw Se.current=!1,Ue.current=null,j}).then(()=>{}),Ue.current),{createPayment:We,loading:yt,error:et}=eH();f.useEffect(()=>{c===2&&(N(""),S(0),re(!1),U(!1),Se.current=!1,Ue.current=null,se(!0),Q(""),L(""),de(null),me(!1),Ge(null))},[c]);const kt=async()=>{if(!x){oe({title:"Valor obrigatrio",description:"Digite um valor para a contribuio.",variant:"destructive"});return}try{const j=Math.round(Number(x.replace(/[^0-9,.-]/g,"").replace(",","."))*100),M=j/100;if(j<=0){oe({title:"Valor invlido",description:"Digite um valor vlido para a contribuio.",variant:"destructive"});return}try{const ve=localStorage.getItem("anon_free_requests_count"),Ne=ve?Number(ve):0;if(!X&&Ne>=3&&!(M>=5)){E("Voc atingiu o limite de 3 pedidos gratuitos. Para continuar, contribua com valor de R$ 5,00 ou mais."),z(!0);return}}catch{}const W=await We(j),ge=W&&(W.pixCode||W.pix_code||W.emv||W.payload)||W&&W.qrCode&&(W.qrCode.text||W.qrCode.payload);if(ge){Q(ge),L(W._id),It(W._id),de(null),me(!1),Ot((W==null?void 0:W.companyId)||"689ba2287d1aefb263b1cdc6");try{const Ne=(await $.auth.getUser()).data.user;await $.from("payment_intents").insert({provider:"veepag",provider_tx_id:W._id,musician_id:n||null,user_id:(Ne==null?void 0:Ne.id)||null,request_id:G||null,amount_cents:j,status:"pending"})}catch{}N(ge),D(3),S(420),se(!1)}else throw new Error("Resposta da Veepag no contm QR Code vlido")}catch(j){const M=j instanceof Error?j.message:"Erro ao gerar PIX";de(M)}};f.useEffect(()=>{c===2&&ce.current&&ce.current.focus()},[c]),f.useEffect(()=>{c===3&&be.current&&be.current.focus()},[c]),f.useEffect(()=>{if(!_||P<=0)return;const j=setInterval(()=>{S(M=>M>0?M-1:0)},1e3);return()=>clearInterval(j)},[_,P]),f.useEffect(()=>{_&&P===0&&!q&&!T&&(async()=>{try{U(!0),re(!1),me(!0),o&&ee?(N(""),se(!0),D(3),E("O tempo do PIX expirou. Gere um novo PIX."),z(!0),setTimeout(()=>{var j;return(j=be.current)==null?void 0:j.focus()},0)):o||(N(""),se(!0),d(3),E("O tempo do PIX expirou. Gere um novo PIX."),z(!0),setTimeout(()=>{var j;return(j=be.current)==null?void 0:j.focus()},0))}catch{}finally{U(!1)}})()},[P,_,q,T]),f.useEffect(()=>{if(ee&&q&&I===3){if(!Se.current)return;oa({particleCount:140,spread:70,origin:{y:.6},colors:["#10B981","#34D399","#86EFAC"]}),N(""),D(4)}},[q,ee,I]),f.useEffect(()=>{if(!ee&&q&&c===3){if(!Se.current)return;oa({particleCount:140,spread:70,origin:{y:.6},colors:["#10B981","#34D399","#86EFAC"]}),N(""),d(4)}},[q,ee,c]),f.useEffect(()=>{var j;if(ee&&I===2){if(!m){const M=((j=X==null?void 0:X.user_metadata)==null?void 0:j.full_name)||(()=>{try{return localStorage.getItem(we)||""}catch{return""}})(),W=M?String(M).split(" ")[0]:"";W&&p(W)}ce.current&&ce.current.focus()}},[ee,I]),f.useEffect(()=>{ee&&I===3&&be.current&&be.current.focus()},[ee,I]);const[zt,ir]=f.useState(!0),[F,ae]=f.useState(""),[ye,Pe]=f.useState(!1),st=j=>{const M=String(j||"").toLowerCase();if(["pedir-musica","musicas"].includes(M))return"music";if(M==="agenda")return"schedule";if(["fotos","galeria"].includes(M))return"photos";if(["contratar","contrato"].includes(M))return"contract";if(["contribuir","contribuicao"].includes(M))return"contribute"},at=st(a),[ze,wr]=f.useState(at||t||"music");f.useEffect(()=>{const j=st(a);j&&j!==ze&&wr(j)},[a]),f.useEffect(()=>{t&&t!==ze&&wr(t)},[t]);const kr=j=>{switch(j){case"music":return"pedir-musica";case"schedule":return"agenda";case"photos":return"fotos";case"contract":return"contratar";case"contribute":return"contribuir"}},Re=j=>{wr(j),Pe(j==="schedule");const M=r==null?void 0:r.username;M&&i(`/${M}/${kr(j)}`)},[ke,qe]=f.useState(!1),[Ye,ft]=f.useState(80);f.useEffect(()=>{o&&(F.trim()?te(!0):te(!1))},[o,F]);const[dt,wt]=f.useState(""),[ie,He]=f.useState(!1),[Fe,gt]=f.useState(1),vt=10,[nt,Jt]=f.useState(null),{user:X}=ar(),[Mr,br]=f.useState(!1),nn=((Vj=X==null?void 0:X.user_metadata)==null?void 0:Vj.full_name)||(X==null?void 0:X.email)||"Usurio",pr=((Wj=X==null?void 0:X.user_metadata)==null?void 0:Wj.avatar_url)||void 0,[os,Ns]=f.useState({}),[Et,qn]=f.useState({}),{data:hn,isLoading:zg}=Ze({queryKey:["public-musician-photos",n],enabled:!!n,queryFn:async()=>{const{data:j,error:M}=await $.from("musician_photos").select("id, grid_url, full_url, description, created_at").eq("musician_id",n).eq("is_public",!0).order("created_at",{ascending:!1});if(M)throw M;return j||[]}});f.useEffect(()=>{(async()=>{if(!hn||hn.length===0){Qb({}),Xb({});return}const M=hn.map(W=>W.id);try{const[W,ge]=await Promise.all([$.from("photo_likes").select("photo_id").in("photo_id",M),$.from("photo_comments").select("photo_id").in("photo_id",M)]),ve={};(W.data||[]).forEach(Pt=>{ve[Pt.photo_id]=(ve[Pt.photo_id]||0)+1});const Ne={};(ge.data||[]).forEach(Pt=>{Ne[Pt.photo_id]=(Ne[Pt.photo_id]||0)+1}),Qb(ve),Xb(Ne)}catch{}})()},[hn]);const[Be,Hf]=f.useState(null),[Kf,Gf]=f.useState(0),[_a,Ug]=f.useState(!1),[Yf,Qb]=f.useState({}),[Sl,Xb]=f.useState({}),[uA,Zb]=f.useState(!1),[fA,Jb]=f.useState(!1),[ej,tj]=f.useState([]),[rj,nj]=f.useState([]),[Bg,Sd]=f.useState({}),[hA,sj]=f.useState(!1),[ls,qg]=f.useState([]),[aj,Vg]=f.useState(null),[mA,Cd]=f.useState(null),[Wg,pA]=f.useState({}),ij=10,[oj,lj]=f.useState(0),[Qf,Xf]=f.useState(!1),cj=f.useMemo(()=>{var j;return((j=ls.find(M=>M.user_id===(X==null?void 0:X.id)))==null?void 0:j.id)||null},[ls,X==null?void 0:X.id]),[Zf,kd]=f.useState(""),[Hg,No]=f.useState(""),[Kg,Jf]=f.useState({}),[gA,dj]=f.useState({}),[vA,Ed]=f.useState(!1),[Pd,Gg]=f.useState(null),[uj,eh]=f.useState(""),[xA,Yg]=f.useState(!1),Td=f.useRef(null),fj=f.useRef(null),hj=()=>{if(Yg(!0),te(!0),!!o)try{const j=()=>{var M,W,ge,ve;try{(M=Td.current)==null||M.focus();const Ne=(((W=Td.current)==null?void 0:W.value)||"").length;(ve=(ge=Td.current)==null?void 0:ge.setSelectionRange)==null||ve.call(ge,Ne,Ne)}catch{}};requestAnimationFrame(j),setTimeout(j,120),setTimeout(j,300)}catch{}};f.useEffect(()=>{if(!o)return;const j=()=>{try{const W=fj.current;if(!W)return;const ge=W.getBoundingClientRect();ft(Math.max(0,Math.round(ge.top+window.scrollY)))}catch{}};j(),window.addEventListener("resize",j);const M=setTimeout(j,200);return()=>{window.removeEventListener("resize",j),clearTimeout(M)}},[o,ze]);const Cl=o&&ze==="music"&&(!!(F!=null&&F.trim())||B);f.useState(null);function th(j){if(!j)return"";const M=Date.now(),W=new Date(j).getTime(),ge=Math.max(0,M-W),ve=Math.floor(ge/1e3);if(ve<60)return`${ve}s`;const Ne=Math.floor(ve/60);if(Ne<60)return`${Ne}m`;const Pt=Math.floor(Ne/60);if(Pt<24)return`${Pt}h`;const Wt=Math.floor(Pt/24);if(Wt<7)return`${Wt}d`;const Ut=Math.floor(Wt/7);if(Ut<4)return`${Ut}sem`;const Ar=Math.floor(Wt/30);return Ar<12?`${Ar}m`:`${Math.floor(Wt/365)}a`}function yA({description:j}){const[M,W]=f.useState(!1);if(!sl())return s.jsx("p",{className:"text-sm text-foreground",children:j});const ve=j.length>100;return s.jsx("div",{className:"text-sm text-foreground",children:!M&&ve?s.jsxs(s.Fragment,{children:[j.slice(0,100),"..."," ",s.jsx("button",{onClick:()=>W(!M),className:"text-xs text-primary hover:text-primary/80",children:"Ver mais"})]}):s.jsxs(s.Fragment,{children:[j,ve&&s.jsxs(s.Fragment,{children:[" ",s.jsx("button",{onClick:()=>W(!M),className:"text-xs text-primary hover:text-primary/80",children:"Ver menos"})]})]})})}f.useEffect(()=>{var j;if(c===2&&!m){const M=((j=X==null?void 0:X.user_metadata)==null?void 0:j.full_name)||(()=>{try{return localStorage.getItem(we)||""}catch{return""}})(),W=M?String(M).split(" ")[0]:"";W&&p(W)}},[c,m,(Hj=X==null?void 0:X.user_metadata)==null?void 0:Hj.full_name]),f.useEffect(()=>{var M;if(!m&&((M=X==null?void 0:X.user_metadata)!=null&&M.full_name)){const W=String(X.user_metadata.full_name).split(" ")[0]||"";W&&p(W)}(async()=>{if(Be!=null&&Be.id)try{const[{count:W},ge]=await Promise.all([$.from("photo_likes").select("*",{count:"exact",head:!0}).eq("photo_id",Be.id),X!=null&&X.id?$.from("photo_likes").select("id").eq("photo_id",Be.id).eq("user_id",X.id).maybeSingle():Promise.resolve({data:null,error:null})]);Gf(W||0),Ug(!!(ge!=null&&ge.data)),await Promise.all([mj(),Qg()])}catch{}})()},[Be==null?void 0:Be.id,X==null?void 0:X.id]);const mj=async()=>{if(Be!=null&&Be.id){Xf(!0);try{const{data:j,error:M,count:W}=await $.from("photo_comments").select("id, user_id, content, reply_text, replied_by, created_at",{count:"exact"}).eq("photo_id",Be.id).order("created_at",{ascending:!0}).range(0,ij-1);if(M)throw M;qg(j||[]),lj(W||0);const ge=(j||[]).find(Ne=>Ne.user_id===(X==null?void 0:X.id));kd(""),No(ge?ge.content:"");const ve=Array.from(new Set((j||[]).flatMap(Ne=>[Ne.user_id,Ne.replied_by].filter(Boolean))));ve.length&&await gj(ve)}finally{Xf(!1)}}},pj=async()=>{if(Be!=null&&Be.id&&!(ls.length>=oj)){Xf(!0);try{const j=ls.length,M=j+ij-1,{data:W,error:ge}=await $.from("photo_comments").select("id, user_id, content, reply_text, replied_by, created_at").eq("photo_id",Be.id).order("created_at",{ascending:!0}).range(j,M);if(ge)throw ge;qg(Ne=>[...Ne,...W||[]]);const ve=Array.from(new Set((W||[]).flatMap(Ne=>[Ne.user_id,Ne.replied_by].filter(Boolean))));ve.length&&await gj(ve)}finally{Xf(!1)}}},gj=async j=>{const M=j.filter(Ne=>!Wg[Ne]);if(!M.length)return;const{data:W,error:ge}=await $.from("profiles").select("id, display_name, avatar_url, username").in("id",M);if(ge)return;const ve={};(W||[]).forEach(Ne=>{ve[Ne.id]={display_name:Ne.display_name||null,avatar_url:Ne.avatar_url||null,username:Ne.username||null}}),pA(Ne=>({...Ne,...ve}))},Rd=async()=>{if(Be!=null&&Be.id)try{const[{count:j}]=await Promise.all([$.from("photo_likes").select("*",{count:"exact",head:!0}).eq("photo_id",Be.id)]);Gf(j||0),await Promise.all([mj(),Qg()])}catch{}},Qg=async()=>{if(Be!=null&&Be.id)try{const{data:j}=await $.from("photo_likes").select("user_id, created_at").eq("photo_id",Be.id).order("created_at",{ascending:!1}).limit(4),M=Array.from(new Set((j||[]).map(Ne=>Ne.user_id)));if(M.length===0){nj([]);return}const{data:W}=await $.from("profiles").select("id, avatar_url").in("id",M).eq("is_active",!0),ge=new Map((W||[]).map(Ne=>[Ne.id,Ne.avatar_url||null])),ve=M.map(Ne=>({id:Ne,avatar_url:ge.get(Ne)||null}));nj(ve)}catch{}},vj=async()=>{if(!(Be!=null&&Be.id))return;if(!(X!=null&&X.id)){oe({title:"Entre para curtir",description:"Faa login para curtir fotos."});return}const j=_a;Ug(!j),Gf(M=>M+(j?-1:1));try{if(j){const{error:M}=await $.from("photo_likes").delete().eq("photo_id",Be.id).eq("user_id",X.id);if(M)throw M}else{const{error:M}=await $.from("photo_likes").insert({photo_id:Be.id,user_id:X.id});if(M)throw M}await Qg()}catch(M){Ug(j),Gf(W=>W+(j?1:-1)),oe({title:"Erro ao curtir",description:M.message,variant:"destructive"})}},wA=async()=>{if(Be!=null&&Be.id){Zb(!0),Jb(!0);try{const{data:j,error:M}=await $.from("photo_likes").select("user_id").eq("photo_id",Be.id);if(M)throw M;const W=Array.from(new Set((j||[]).map(Pt=>Pt.user_id)));if(W.length===0){tj([]),Sd({});return}const{data:ge,error:ve}=await $.from("profiles").select("id, display_name, avatar_url").in("id",W).eq("is_active",!0);if(ve)throw ve;const Ne=W.map(Pt=>(ge||[]).find(Wt=>Wt.id===Pt)).filter(Boolean);if(tj(Ne),X!=null&&X.id){const{data:Pt}=await $.from("follows").select("followee_id").eq("follower_id",X.id).in("followee_id",W),Wt={};(Pt||[]).forEach(Ut=>Wt[Ut.followee_id]=!0),Sd(Wt)}else Sd({})}catch{}finally{Jb(!1)}}},bA=async j=>{if(!(X!=null&&X.id)){oe({title:"Entre para seguir",description:"Faa login para seguir usurios."});return}const M=!!Bg[j];Sd(W=>({...W,[j]:!M}));try{if(M){const{error:W}=await $.from("follows").delete().eq("follower_id",X.id).eq("followee_id",j);if(W)throw W}else{const{error:W}=await $.from("follows").insert({follower_id:X.id,followee_id:j});if(W)throw W}}catch(W){Sd(ge=>({...ge,[j]:M})),oe({title:"Erro ao atualizar seguimento",description:W.message,variant:"destructive"})}},Xg=async()=>{if(!(Be!=null&&Be.id))return;if(!(X!=null&&X.id)){oe({title:"Entre para comentar",description:"Faa login para comentar fotos."});return}const j=Zf.trim().slice(0,120);if(!j){oe({title:"Escreva um comentrio"});return}try{const M=ls.find(W=>W.user_id===X.id);if(M){const{error:W}=await $.from("photo_comments").update({content:j}).eq("id",M.id);if(W)throw W;oe({title:"Comentrio atualizado"}),No(j),kd("")}else{const{error:W}=await $.from("photo_comments").insert({photo_id:Be.id,user_id:X.id,content:j});if(W)throw W;oe({title:"Comentrio enviado"}),kd("")}await Rd()}catch(M){oe({title:"Erro ao comentar",description:M.message,variant:"destructive"})}},xj=async()=>{if(!(Be!=null&&Be.id)||!(X!=null&&X.id))return;const j=ls.find(W=>W.user_id===X.id);if(!j)return;const M=Hg.trim().slice(0,120);if(!M){oe({title:"Escreva um comentrio"});return}try{const{error:W}=await $.from("photo_comments").update({content:M}).eq("id",j.id);if(W)throw W;oe({title:"Comentrio atualizado"}),await Rd(),Vg(null)}catch(W){oe({title:"Erro ao atualizar",description:W.message,variant:"destructive"})}},yj=async()=>{if(!(Be!=null&&Be.id)||!(X!=null&&X.id))return;const j=ls.find(M=>M.user_id===X.id);if(j)try{const{error:M}=await $.from("photo_comments").delete().eq("id",j.id);if(M)throw M;oe({title:"Comentrio removido"}),No(""),await Rd()}catch(M){oe({title:"Erro ao remover",description:M.message,variant:"destructive"})}},wj=async j=>{if(Be!=null&&Be.id)try{const{error:M}=await $.from("photo_comments").delete().eq("id",j);if(M)throw M;oe({title:"Comentrio removido"}),qg(W=>W.filter(ge=>ge.id!==j)),lj(W=>Math.max(0,W-1))}catch(M){oe({title:"No foi possvel remover",description:M.message,variant:"destructive"})}},Zg=async j=>{if(!ks||!(X!=null&&X.id))return;const M=(Kg[j]||"").trim().slice(0,120);if(!M){oe({title:"Escreva uma resposta"});return}try{const{error:W}=await $.from("photo_comments").update({reply_text:M,replied_by:X.id}).eq("id",j);if(W)throw W;oe({title:"Resposta publicada"}),Jf(ge=>({...ge,[j]:""})),await Rd()}catch(W){oe({title:"Erro ao responder",description:W.message,variant:"destructive"})}},jA=async j=>{if(!(!ks||!(X!=null&&X.id)))try{const{error:M}=await $.from("photo_comments").update({reply_text:null,replied_by:null}).eq("id",j);if(M)throw M;oe({title:"Resposta removida"}),await Rd(),Cd(null)}catch(M){oe({title:"Erro ao remover resposta",description:M.message,variant:"destructive"})}},bj=async()=>{if(Be!=null&&Be.id){if(!(X!=null&&X.id)){oe({title:"Entre para denunciar",description:"Faa login para denunciar."});return}Gg({type:"photo",id:Be.id}),eh(""),Ed(!0)}},_A=async j=>{if(!(X!=null&&X.id)){oe({title:"Entre para denunciar",description:"Faa login para denunciar."});return}Gg({type:"comment",id:j}),eh(""),Ed(!0)},NA=async()=>{if(!Pd||!(X!=null&&X.id))return;const j=uj.trim();if(!j){oe({title:"Informe um motivo"});return}try{const M={photo_id:Pd.type==="photo"?Pd.id:null,comment_id:Pd.type==="comment"?Pd.id:null,user_id:X.id,reason:j},{error:W}=await $.from("photo_reports").insert(M);if(W)throw W;oe({title:"Denncia enviada"}),Ed(!1),Gg(null),eh("")}catch(M){oe({title:"Erro ao denunciar",description:M.message,variant:"destructive"})}},SA=20,[kl,jj]=f.useState(1),[jr,_j]=f.useState(!1),Md=f.useMemo(()=>jr?30:SA,[jr]),Jg=10,[Ad,Nj]=f.useState(1),ev=f.useMemo(()=>(Ad-1)*Jg,[Ad]),CA=f.useMemo(()=>ev+Jg-1,[ev]),{data:ue,refetch:So,isLoading:Sj}=$T(n);if(f.useEffect(()=>{zT(n).catch(()=>{})},[n]),n&&!Sj&&!ue)return s.jsx(si,{children:s.jsx("div",{className:"min-h-screen flex w-full bg-background",children:s.jsxs("main",{className:"flex-1",children:[s.jsx(Xt,{title:"Perfil indisponvel",description:"Este usurio no est disponvel no momento."}),s.jsx("section",{className:"max-w-5xl mx-auto px-4 py-12",children:s.jsx(tt,{className:"border-0 shadow-none",children:s.jsxs(rt,{className:"p-6 text-center space-y-4",children:[s.jsx("h1",{className:"text-2xl font-semibold",children:"Usurio indisponvel"}),s.jsx("p",{className:"text-muted-foreground",children:"No momento, este usurio no est disponvel. Ele pode estar concluindo o cadastro ou ter desativado o perfil."}),s.jsx(O,{asChild:!0,children:s.jsx(Yt,{to:"/",children:"Voltar para a pgina inicial"})})]})})})]})})});const{data:kA}=Ze({queryKey:["followers-count",n],enabled:!!n,queryFn:async()=>{const{count:j,error:M}=await $.from("follows").select("*",{count:"exact",head:!0}).eq("followee_id",n).in("followee_id",((await $.from("profiles").select("id").eq("is_active",!0).eq("is_blocked",!1)).data||[]).map(W=>W.id));if(M)throw M;return j||0}}),{data:EA}=Ze({queryKey:["public-requests-count",n],enabled:!!n,queryFn:async()=>{const{count:j,error:M}=await $.from("requests").select("*",{count:"exact",head:!0}).eq("musician_id",n);if(M)throw M;return j||0}}),{data:Ss,isLoading:Cj}=Ze({queryKey:["public-following",n,Ad],enabled:!!n,queryFn:async()=>{const{data:j,error:M,count:W}=await $.from("follows").select("followee_id",{count:"exact"}).eq("follower_id",n).order("created_at",{ascending:!1}).range(ev,CA);if(M)throw M;const ge=(j||[]).map(Ut=>Ut.followee_id);if(ge.length===0)return{rows:[],count:W||0};const{data:ve,error:Ne}=await $.from("profiles").select("id, display_name, avatar_url").in("id",ge).eq("is_active",!0);if(Ne)throw Ne;const Pt=new Map((ve||[]).map(Ut=>[Ut.id,Ut]));return{rows:ge.map(Ut=>Pt.get(Ut)).filter(Boolean),count:W||0}}});f.useMemo(()=>Math.max(1,Math.ceil(((Ss==null?void 0:Ss.count)||0)/Jg)),[Ss==null?void 0:Ss.count]);const[tv,kj]=f.useState([]),[PA,Ej]=f.useState(0);f.useEffect(()=>{Ss&&(Ej(Ss.count||0),kj(j=>Ad===1?Ss.rows:[...j,...Ss.rows.filter(M=>!j.some(W=>W.id===M.id))]))},[Ss,Ad]),f.useEffect(()=>{Nj(1),kj([]),Ej(0)},[n]);const TA=tv.length<PA,[Pj,LY]=f.useState({}),rv=10,[Od,Tj]=f.useState(1),nv=f.useMemo(()=>(Od-1)*rv,[Od]),RA=f.useMemo(()=>nv+rv-1,[nv]),{data:Cs,isLoading:Rj}=Ze({queryKey:["public-followers",n,Od],enabled:!!n,queryFn:async()=>{const{data:j,error:M,count:W}=await $.from("follows").select("follower_id",{count:"exact"}).eq("followee_id",n).order("created_at",{ascending:!1}).range(nv,RA);if(M)throw M;const ge=(j||[]).map(Ut=>Ut.follower_id);if(ge.length===0)return{rows:[],count:W||0};const{data:ve,error:Ne}=await $.from("profiles").select("id, display_name, avatar_url").in("id",ge);if(Ne)throw Ne;const Pt=new Map((ve||[]).map(Ut=>[Ut.id,Ut]));return{rows:ge.map(Ut=>Pt.get(Ut)).filter(Boolean),count:W||0}}});f.useMemo(()=>Math.max(1,Math.ceil(((Cs==null?void 0:Cs.count)||0)/rv)),[Cs==null?void 0:Cs.count]);const[sv,Mj]=f.useState([]),[MA,Aj]=f.useState(0);f.useEffect(()=>{Cs&&(Aj(Cs.count||0),Mj(j=>Od===1?Cs.rows:[...j,...Cs.rows.filter(M=>!j.some(W=>W.id===M.id))]))},[Cs,Od]),f.useEffect(()=>{Tj(1),Mj([]),Aj(0)},[n]);const AA=sv.length<MA,{data:Dd,refetch:OA,isLoading:Oj}=Ze({queryKey:["following-musician",X==null?void 0:X.id,n],enabled:!!(X!=null&&X.id)&&!!n,queryFn:async()=>{const{data:j,error:M}=await $.from("follows").select("id").eq("follower_id",X.id).eq("followee_id",n).maybeSingle();if(M)throw M;return!!j}}),{data:El}=Ze({queryKey:["genres"],queryFn:async()=>{const{data:j,error:M}=await $.from("genres").select("id, name").order("name");if(M)throw M;return j}}),{data:Pl}=Ze({queryKey:["public-genre-visibility",n],enabled:!!n,queryFn:async()=>{const{data:j,error:M}=await $.from("genre_visibility").select("genre_id, is_public").eq("musician_id",n);if(M)throw M;const W=new Set;return(j||[]).forEach(ge=>{ge.is_public===!1&&W.add(ge.genre_id)}),W}}),{data:Vn,isLoading:rh}=Ze({queryKey:["songs-by-owner",n],enabled:!!n,queryFn:async()=>{try{const{data:j}=await $.from("catalog_visibility").select("is_public").eq("musician_id",n).maybeSingle();if(j&&j.is_public===!1)return[];const{data:M,error:W}=await $.from("songs").select("*").eq("owner_id",n).eq("is_public",!0);if(W)throw W;return M||[]}catch(j){if(String((j==null?void 0:j.message)||"").includes("is_public")){const{data:M}=await $.from("songs").select("*").eq("owner_id",n);return M||[]}throw j}}}),{data:Id,isLoading:DA}=Ze({queryKey:["public-schedule",n],enabled:!!n,queryFn:async()=>{const{data:j,error:M}=await $.from("schedules").select("id, title, location, start_time").eq("musician_id",n).eq("is_public",!0).order("start_time",{ascending:!0});if(M)throw M;return j}}),Dj=f.useMemo(()=>{const j=Id||[],M=dt.trim().toLowerCase(),W=M?j.filter(Pt=>(Pt.title||"").toLowerCase().includes(M)||(Pt.location||"").toLowerCase().includes(M)):j;if(!nt)return W;const ge=nt.getFullYear(),ve=nt.getMonth(),Ne=nt.getDate();return W.filter(Pt=>{const Wt=new Date(Pt.start_time);return Wt.getFullYear()===ge&&Wt.getMonth()===ve&&Wt.getDate()===Ne})},[Id,dt,nt]);f.useEffect(()=>{gt(1)},[dt]),f.useEffect(()=>{if(!(Vn!=null&&Vn.length)){Ns({}),qn({});return}const j=(Vn||[]).map(M=>M.id);(async()=>{try{const{data:M}=await $.from("song_likes").select("song_id").in("song_id",j),W={};if((M||[]).forEach(ge=>{W[ge.song_id]=(W[ge.song_id]||0)+1}),Ns(W),X!=null&&X.id){const{data:ge}=await $.from("song_likes").select("song_id").eq("user_id",X.id).in("song_id",j),ve={};(ge||[]).forEach(Ne=>{ve[Ne.song_id]=!0}),qn(ve)}else qn({})}catch{}})()},[Vn,X==null?void 0:X.id]);const IA=f.useMemo(()=>{var j;return(j=(Vn||[]).find(M=>!!M.cover_url))==null?void 0:j.cover_url},[Vn]),FA=(ue==null?void 0:ue.cover_url)||(ue==null?void 0:ue.avatar_url)||IA||"/placeholder.svg",LA=ue==null?void 0:ue.cover_position_mobile,$A=ue==null?void 0:ue.cover_position_desktop;f.useEffect(()=>{So()},[n]);const ks=f.useMemo(()=>!!(X!=null&&X.id&&n&&X.id===n),[X==null?void 0:X.id,n]),{data:Ij}=Ze({queryKey:["roles",X==null?void 0:X.id],enabled:!!(X!=null&&X.id),queryFn:async()=>{const{data:j,error:M}=await $.from("user_roles").select("role").eq("user_id",X.id);if(M)throw M;return j}}),av=f.useMemo(()=>(Ij||[]).some(j=>j.role==="musician"),[Ij]),Fj=f.useMemo(()=>{const j=[],M=Ar=>(Ar||"").trim(),W=M(ue==null?void 0:ue.whatsapp),ge=M(ue==null?void 0:ue.instagram),ve=M(ue==null?void 0:ue.facebook),Ne=M(ue==null?void 0:ue.youtube),Pt=M(ue==null?void 0:ue.spotify),Wt=Ar=>Ar.replace(/^@/,""),Ut=(Ar,Na)=>Ar.startsWith("http")?Ar:`${Na}${Wt(Ar)}`;if(W){const Ar=W.replace(/\D/g,""),Na=W.startsWith("http")?W:Ar?`https://wa.me/${Ar}`:"";Na&&j.push({key:"whatsapp",href:Na,label:"WhatsApp",icon:Dl})}return ge&&j.push({key:"instagram",href:Ut(ge,"https://instagram.com/"),label:"Instagram",icon:D3}),ve&&j.push({key:"facebook",href:Ut(ve,"https://facebook.com/"),label:"Facebook",icon:A3}),Ne&&j.push({key:"youtube",href:Ut(Ne,"https://youtube.com/"),label:"YouTube",icon:q3}),Pt&&j.push({key:"spotify",href:Ut(Pt,"https://open.spotify.com/"),label:"Spotify",icon:_7}),j},[ue==null?void 0:ue.whatsapp,ue==null?void 0:ue.instagram,ue==null?void 0:ue.facebook,ue==null?void 0:ue.youtube,ue==null?void 0:ue.spotify]),iv=f.useMemo(()=>{const j={};return(Vn||[]).forEach(M=>{const W=M.genre_id||"sem-genero";M.genre_id&&Pl&&Pl.has(M.genre_id)||(j[W]=j[W]||[],j[W].push(M))}),j},[Vn,Pl]),Wn=f.useMemo(()=>Pl?(Vn||[]).filter(j=>!j.genre_id||!Pl.has(j.genre_id)):Vn||[],[Vn,Pl]),ov=f.useMemo(()=>{const j=F.trim().toLowerCase();return j?(Wn||[]).filter(M=>M.title.toLowerCase().includes(j)||(M.artist||"").toLowerCase().includes(j)):Wn||[]},[Wn,F]);function zA({musicianId:j}){const{data:M}=Ze({queryKey:["public-show-types",j],enabled:!!j,queryFn:async()=>{try{const{data:W,error:ge}=await $.from("show_types").select("id, name, description, duration_hours, duration_minutes, cache_fee, is_public, show_cache, stage_map_url, technical_rider_url, promo_image_1_url, promo_image_2_url, show_type_genres(genre_id)").eq("musician_id",j).eq("is_public",!0).order("created_at",{ascending:!0});if(ge)throw ge;return W||[]}catch(W){const ge=String((W==null?void 0:W.message)||"").toLowerCase();if(ge.includes("is_public")||ge.includes("cache_fee")||ge.includes("show_cache")){const{data:ve}=await $.from("show_types").select("id, name, description, duration_hours, duration_minutes, stage_map_url, technical_rider_url, promo_image_1_url, promo_image_2_url, show_type_genres(genre_id)").eq("musician_id",j).order("created_at",{ascending:!0});return ve||[]}throw W}}});return!M||M.length===0?null:s.jsxs("section",{className:"mt-4 mb-14",children:[((ue==null?void 0:ue.responsible_name)||(ue==null?void 0:ue.responsible_whatsapp)||(ue==null?void 0:ue.whatsapp)||(ue==null?void 0:ue.description))&&s.jsxs("div",{className:"mb-3",children:[(ue==null?void 0:ue.responsible_name)&&s.jsxs("div",{className:"text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Responsvel:"})," ",ue.responsible_name]}),((ue==null?void 0:ue.responsible_whatsapp)||(ue==null?void 0:ue.whatsapp))&&s.jsx("div",{className:"mt-2",children:s.jsxs(O,{size:"sm",className:"bg-emerald-600 hover:bg-emerald-700 text-white",onClick:()=>{const W=((ue==null?void 0:ue.responsible_whatsapp)||(ue==null?void 0:ue.whatsapp)||"").replace(/\D/g,"");W&&window.open(`https://wa.me/${W}`,"_blank")},children:[s.jsx(Dl,{className:"h-4 w-4 mr-2"})," Abrir conversa"]})})]}),s.jsx("div",{className:"space-y-3 mt-10",children:M.map(W=>s.jsxs("div",{className:"p-0",children:[s.jsx("div",{className:"flex items-start gap-3",children:s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-medium text-lg",children:W.name}),typeof(W==null?void 0:W.cache_fee)=="number"&&((W==null?void 0:W.show_cache)??!0)?s.jsx("div",{className:"text-muted-foreground mt-1",children:(()=>{try{return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(W.cache_fee)}catch{return`R$ ${Number(W.cache_fee||0).toFixed(2)}`.replace(".",",")}})()}):null,W.description&&s.jsx("div",{className:"text-sm text-muted-foreground mt-1",children:W.description}),s.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:["Durao: ",W.duration_hours,"h",W.duration_minutes?` ${W.duration_minutes}min`:""]}),Array.isArray(W==null?void 0:W.show_type_genres)&&W.show_type_genres.length>0&&s.jsx("div",{className:"mt-2 flex flex-wrap gap-1",children:W.show_type_genres.map(ge=>{var ve;return(ve=(El||[]).find(Ne=>Ne.id===ge.genre_id))==null?void 0:ve.name}).filter(Boolean).map(ge=>s.jsx(Br,{variant:"secondary",children:ge},`${W.id}-${ge}`))})]})}),s.jsxs("div",{className:"mt-3 grid grid-cols-1 sm:grid-cols-2 gap-3",children:[W.stage_map_url&&s.jsx(Lj,{label:"Mapa de Palco",url:W.stage_map_url}),W.technical_rider_url&&s.jsx(Lj,{label:"Rider Tcnico",url:W.technical_rider_url}),W.promo_image_1_url&&s.jsx($j,{label:"Imagem de Divulgao 1",url:W.promo_image_1_url}),W.promo_image_2_url&&s.jsx($j,{label:"Imagem de Divulgao 2",url:W.promo_image_2_url})]}),s.jsx(Zc,{className:"my-4"})]},W.id))})]})}function UA({musicianId:j}){var Zj,Jj;const[M,W]=f.useState(""),[ge,ve]=f.useState(null),[Ne,Pt]=f.useState(((Zj=X==null?void 0:X.user_metadata)==null?void 0:Zj.display_name)||""),[Wt,Ut]=f.useState(""),[Ar,Na]=f.useState(0),[Yj,Fd]=f.useState(!1),[Ml,cv]=f.useState(!1);f.useRef(null);const Ld=!X,[nh,Qj]=f.useState(""),sh=f.useRef(!1),Al=f.useRef(null),[Xj,dv]=f.useState(!1);f.useEffect(()=>{if(!Wt||Ml||Ar<=0)return;const er=setInterval(()=>{Na(sn=>sn>0?sn-1:0)},1e3);return()=>clearInterval(er)},[Wt,Ml,Ar]);const JA=()=>Al.current?Al.current:sh.current?Promise.resolve():(sh.current=!0,Al.current=tO().catch(er=>{throw sh.current=!1,Al.current=null,er}).then(()=>{}),Al.current);f.useEffect(()=>{if(Ld&&!Ne)try{const er=localStorage.getItem(we);er&&Pt(er)}catch{}},[Ld,Ne]);const eO=async()=>{if(!(ue!=null&&ue.pix_key)){oe({title:"Pix indisponvel",description:"Este msico no cadastrou uma chave Pix."});return}const er=parseFloat((M||"0").replace(",",".")),sn=Ld?Ne.trim().length>0:!0;if(!er||er<=0){oe({title:"Informe um valor vlido"});return}if(er<Rl){oe({title:"Valor mnimo",description:`A contribuio mnima  R$ ${Rl.toFixed(2).replace(".",",")}.`});return}if(!sn){oe({title:"Informe seu nome"});return}try{dv(!0);const En=Math.round(er*100),or=await rM.createTransaction({amount:En,paymentMethod:"PIX"}),uv=or&&(or.pixCode||or.pix_code||or.emv||or.payload)||(or==null?void 0:or.qrCode)&&(or.qrCode.text||or.qrCode.payload);if(!uv)throw new Error("Falha ao gerar PIX (payload ausente)");Ut(uv),Qj((or==null?void 0:or._id)||"");try{const fv=(await $.auth.getUser()).data.user;await $.from("payment_intents").insert({provider:"veepag",provider_tx_id:or==null?void 0:or._id,musician_id:j||null,user_id:(fv==null?void 0:fv.id)||null,request_id:null,amount_cents:En,status:"pending"})}catch{}}catch(En){oe({title:"Erro ao gerar PIX",description:(En==null?void 0:En.message)||"Tente novamente."}),Ut(""),dv(!1);return}cv(!1),Fd(!1),Na(420),dv(!1)};async function tO(){var or;if(Yj||Ml)return;const er=parseFloat(M.replace(",","."));if(!er||er<=0){oe({title:"Informe um valor vlido"});return}if(er<Rl){oe({title:"Valor mnimo",description:`A contribuio mnima  R$ ${Rl.toFixed(2).replace(".",",")}.`});return}const sn={musician_id:j,user_id:(X==null?void 0:X.id)||null,request_id:null,type:"contribution",amount:er,status:"approved",payment:"pix",requester_name:X?((or=X==null?void 0:X.user_metadata)==null?void 0:or.display_name)||null:Ne||null,message:null};Fd(!0);const{error:En}=await $.from("transactions").insert(sn);if(En){oe({title:"Erro ao registrar contribuio",description:En.message}),Fd(!1);return}ve(er),cv(!0),Ut(""),Fd(!1),oe({title:"Transao confirmada",description:"Obrigado pela contribuio!"}),getComputedStyle(document.documentElement).getPropertyValue("--primary").trim(),oa({particleCount:120,spread:60,origin:{y:.6},colors:["#10B981","#34D399","#86EFAC"]}),W(""),Ld&&Pt("")}return f.useEffect(()=>{if(!nh)return;const er=$.channel(`pi-contrib-${nh}`).on("postgres_changes",{event:"UPDATE",schema:"public",table:"payment_intents",filter:`provider_tx_id=eq.${nh}`},async sn=>{var or;const En=String(((or=sn.new)==null?void 0:or.status)||"").toUpperCase();if(En.includes("PAID")||En.includes("APPROV"))try{await JA()}finally{try{$.removeChannel(er)}catch{}}}).subscribe();return()=>{try{$.removeChannel(er)}catch{}}},[nh]),s.jsx(tt,{className:"border-none shadow-none",children:s.jsx(rt,{className:"p-3 space-y-4",children:Ml?s.jsx(s.Fragment,{children:s.jsxs("div",{className:"flex flex-col items-center justify-center text-center gap-4 py-6",children:[s.jsx("h3",{className:"text-green-600 font-semibold text-2xl",children:"Contribuio enviada com sucesso!"}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("p",{className:"text-sm font-medium",children:"Resumo da contribuio:"}),s.jsxs("ul",{className:"text-sm list-disc pl-5 space-y-1 text-left",children:[s.jsxs("li",{children:["Contribuinte: ",s.jsx("strong",{children:Ne||((Jj=X==null?void 0:X.user_metadata)==null?void 0:Jj.display_name)||"Voc"})]}),s.jsxs("li",{children:["Valor: ","",s.jsx("strong",{children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format((ge??parseFloat(M.replace(/[^0-9,.-]/g,"").replace(",",".")))||0)})]})]})]}),s.jsx(O,{variant:"default",onClick:()=>{Ut(""),Na(0),cv(!1),Fd(!1),W(""),ve(null),Qj(""),sh.current=!1,Al.current=null},"aria-label":"Fazer outra contribuio",children:"Fazer outra contribuio"})]})}):Wt?s.jsx(s.Fragment,{children:s.jsxs("div",{className:"flex flex-col items-center justify-center text-center gap-4 py-6",children:[Ar>0&&s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Confirmando transao em ",Math.floor(Ar/60),":",String(Ar%60).padStart(2,"0"),"..."]}),Wt?s.jsx("img",{src:`https://quickchart.io/qr?text=${encodeURIComponent(Wt)}&size=260&margin=1&ecLevel=M`,alt:"QR Code Pix",className:"rounded border",loading:"lazy"}):null,s.jsx("div",{className:"w-full max-w-xl mx-auto flex items-center justify-center",children:s.jsx(O,{variant:"outline",onClick:()=>{navigator.clipboard.writeText(Wt),oe({title:"Cdigo copiado"})},"aria-label":"Copiar cdigo Pix",children:"Copiar cdigo PIX"})})]})}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx($e,{children:"Valor"}),s.jsx(Oe,{value:M,onChange:er=>{const sn=er.target.value.replace(/\D/g,"");if(!sn){W("");return}if(sn.length===1){W(`0,0${sn}`);return}if(sn.length===2){W(`0,${sn}`);return}const En=sn.slice(0,-2),or=sn.slice(-2),e1=En.replace(/^0+(?=\d)/,"").replace(/\B(?=(\d{3})+(?!\d))/g,".");W(`${e1},${or}`)},inputMode:"numeric",placeholder:"Ex.: 20,00",className:"placeholder:text-muted-foreground/40"})]}),Ld&&s.jsxs("div",{children:[s.jsx($e,{children:"Seu nome"}),s.jsx(Oe,{value:Ne,onChange:er=>{Pt(er.target.value);try{localStorage.setItem(we,er.target.value)}catch{}},placeholder:"Seu nome",className:"placeholder:text-muted-foreground/40"})]}),ue!=null&&ue.pix_key?s.jsx("div",{className:"pt-2",children:s.jsx(O,{className:"w-full",onClick:eO,disabled:Yj||Ml||Xj||!!Wt,children:Xj||Wt==="loading"?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent mr-2"}),"Gerar QRCode111"]}):Ml?s.jsxs(s.Fragment,{children:[s.jsx(nu,{className:"h-4 w-4 mr-2"}),"Confirmado"]}):s.jsxs(s.Fragment,{children:[s.jsx(nu,{className:"h-4 w-4 mr-2"}),"Gerar QRCode222"]})})}):s.jsx("p",{className:"text-sm text-muted-foreground",children:"Este msico ainda no cadastrou dados de Pix."})]})})})}function BA(j){return[".jpg",".jpeg",".png",".webp",".gif"].some(M=>j.toLowerCase().includes(M))}function Lj({label:j,url:M}){const[W,ge]=f.useState(!1),ve=()=>ge(!0),Ne=()=>window.open(M+(M.includes("?")?"&download=1":"?download=1"),"_blank"),Pt=BA(M);return s.jsx("div",{className:"rounded-md border p-3 bg-accent/30",children:s.jsxs("div",{className:"flex items-center justify-between gap-3",children:[s.jsx("div",{className:"text-sm font-medium truncate",children:j}),s.jsxs("div",{className:"flex items-center gap-1",children:[Pt&&s.jsxs(s.Fragment,{children:[s.jsx(O,{size:"icon",variant:"ghost",onClick:ve,"aria-label":`Visualizar ${j}`,children:s.jsx(Fr,{className:"h-4 w-4"})}),s.jsx(Jr,{open:W,onOpenChange:ge,children:s.jsxs(Kr,{className:"max-w-3xl",children:[s.jsx(Gr,{children:s.jsx(Yr,{children:j})}),s.jsx("img",{src:M,alt:j,className:"w-full h-auto rounded-md"})]})})]}),s.jsx(O,{size:"icon",variant:"ghost",onClick:Ne,"aria-label":`Baixar ${j}`,children:s.jsx(Lm,{className:"h-4 w-4"})})]})]})})}function $j({label:j,url:M}){const[W,ge]=f.useState(!1),ve=()=>window.open(M+(M.includes("?")?"&download=1":"?download=1"),"_blank");return s.jsxs("div",{className:"rounded-md border p-3",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("div",{className:"text-sm font-medium",children:j}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(O,{size:"icon",variant:"ghost",onClick:()=>ge(!0),"aria-label":`Visualizar ${j}`,children:s.jsx(Fr,{className:"h-4 w-4"})}),s.jsx(O,{size:"icon",variant:"ghost",onClick:ve,"aria-label":`Baixar ${j}`,children:s.jsx(Lm,{className:"h-4 w-4"})})]})]}),s.jsx("img",{src:M,alt:j,className:"w-full h-40 object-cover rounded-md border"}),s.jsx(Jr,{open:W,onOpenChange:ge,children:s.jsxs(Kr,{className:"max-w-3xl",children:[s.jsx(Gr,{children:s.jsx(Yr,{children:j})}),s.jsx("img",{src:M,alt:j,className:"w-full h-auto rounded-md"})]})})]})}const qA=ov.length,lv=f.useMemo(()=>ov.slice(0,kl*Md),[ov,kl,Md]),VA=lv.length<qA,WA=(Wn||[]).length,HA=f.useMemo(()=>{const j=[];let M=kl*Md;const W=(El||[]).map(ve=>({title:ve.name,items:iv[ve.id]||[]})),ge=iv["sem-genero"]||[];for(const ve of W){if(M<=0)break;if(ve.items.length){const Ne=ve.items.slice(0,M);M-=Ne.length,j.push({title:ve.title,items:Ne})}}if(M>0&&ge.length){const ve=ge.slice(0,M);M-=ve.length,j.push({title:"Outras",items:ve})}return j},[El,iv,kl]),KA=kl*Md<WA,Tl=async j=>{if(!X){oe({title:"Entre para curtir",description:"Crie sua conta ou faa login para curtir msicas."});return}const M=!!Et[j];qn(W=>({...W,[j]:!M})),Ns(W=>({...W,[j]:(W[j]||0)+(M?-1:1)}));try{if(M){const{error:W}=await $.from("song_likes").delete().eq("song_id",j).eq("user_id",X.id);if(W)throw W}else{const{error:W}=await $.from("song_likes").insert({song_id:j,user_id:X.id});if(W)throw W}}catch(W){qn(ge=>({...ge,[j]:M})),Ns(ge=>({...ge,[j]:(ge[j]||0)+(M?1:-1)})),oe({title:"Erro ao curtir",description:W.message})}},zj=async()=>{if(n){if(!(X!=null&&X.id)){oe({title:"Entre para seguir",description:"Faa login para seguir este msico."});return}try{if(Dd){const{error:j}=await $.from("follows").delete().eq("follower_id",X.id).eq("followee_id",n);if(j)throw j;oe({title:"Deixou de seguir"})}else{const{error:j}=await $.from("follows").insert({follower_id:X.id,followee_id:n});if(j)throw j;oe({title:"Agora voc segue este msico"})}await OA()}catch(j){oe({title:"Erro",description:(j==null?void 0:j.message)||"No foi possvel atualizar o seguimento."})}}},Uj=async()=>{try{const j=window.location.href,M=navigator;if(M.share?await M.share({title:(ue==null?void 0:ue.display_name)||"Msico",url:j}):(await navigator.clipboard.writeText(j),oe({title:"Link copiado"})),n)try{await $.from("profile_shares").insert({profile_id:n,user_id:(X==null?void 0:X.id)??null}),await(So==null?void 0:So())}catch{}}catch{}},GA=async()=>{await $.auth.signOut(),i("/")},Bj="anon_free_requests_count",YA=3,Rl=5,qj=()=>{try{const j=localStorage.getItem(Bj),M=j?Number(j):0;return Number.isFinite(M)&&M>0?M:0}catch{return 0}},QA=()=>{try{const j=qj()+1;localStorage.setItem(Bj,String(j))}catch{}},XA=async()=>{if(!u){oe({title:"Selecione uma msica"});return}const j=x?Number(x.replace(/[^0-9,.-]/g,"").replace(",",".")):null;try{const W=(await $.auth.getUser()).data.user;if(!W&&qj()>=YA&&(!j||j<Rl)){E("Voc atingiu o limite de 3 pedidos gratuitos. Para continuar, contribua com valor de R$ 5,00 ou mais."),Y(!0),D(4);return}const ge={song_id:u.id,requester_name:m||null,dedication:w||null,extra_description:g||null,amount:j,user_id:W?W.id:null,musician_id:n||null};if(console.log(" [MusicianPublic] Inserting request with payload:",ge),console.log(" [MusicianPublic] mid (musician_id):",n),console.log(" [MusicianPublic] selectedSong.id:",u.id),W){const{data:ve,error:Ne}=await $.from("requests").insert(ge).select("id").single();if(Ne)throw console.error(" [MusicianPublic] Error inserting request (authenticated):",Ne),Ne;console.log(" [MusicianPublic] Request inserted successfully (authenticated):",ve),H(ve.id)}else{const{error:ve}=await $.from("requests").insert(ge);if(ve)throw console.error(" [MusicianPublic] Error inserting request (anonymous):",ve),ve;console.log(" [MusicianPublic] Request inserted successfully (anonymous)"),j!=null&&j>=Rl||QA(),H(null)}try{await $.from("profiles").update({requests_count:(Number(ue==null?void 0:ue.requests_count)||0)+1}).eq("id",n)}catch{}try{So==null||So()}catch{}d(4);try{oa({particleCount:120,spread:60,origin:{y:.6},colors:["#10B981","#34D399","#86EFAC"]})}catch{}}catch(M){oe({title:"Erro ao enviar pedido",description:M.message})}},ZA=ue!=null&&ue.display_name?`Pedir msica para ${ue.display_name}`:"Pedir msica";return s.jsx(si,{children:s.jsxs("div",{className:"min-h-screen flex w-full bg-background",children:[av?s.jsx(Af,{}):null,s.jsxs("main",{className:"flex-1",children:[s.jsx(Xt,{title:ZA,description:"Escolha uma msica, escreva sua dedicatria e contribua via Pix."}),s.jsxs("header",{className:"sticky top-0 z-30 bg-background/80 supports-[backdrop-filter]:bg-background/60 backdrop-blur border-b",children:[s.jsxs("nav",{className:"max-w-5xl mx-auto flex items-center justify-between px-4 py-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[av?s.jsx(bd,{className:"mr-1"}):X?s.jsx(O,{variant:"ghost",size:"icon",onClick:()=>br(!0),"aria-label":"Abrir menu",children:s.jsx(Nf,{className:"h-5 w-5"})}):null,s.jsx(O,{variant:"ghost",size:"icon",onClick:()=>i(-1),"aria-label":"Voltar",children:s.jsx(Wp,{className:"h-5 w-5"})}),s.jsx(Yt,{to:"/",className:"font-semibold",children:s.jsx("img",{src:l==="dark"?"/logo_avaplay.png":"/logo_avaplay_amarelo.png",alt:"AVAPlay",className:"h-6"})})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(eb,{}),X?s.jsx(s.Fragment,{}):s.jsx(O,{variant:"ghost",className:"h-8 px-3 text-sm hover:text-primary hover:bg-transparent",onClick:()=>i("/auth"),children:"Entrar"})]})]}),o&&ze==="music"&&s.jsx("div",{className:`max-w-5xl mx-auto px-4 overflow-hidden transition-[max-height,opacity] duration-200 ${B?"max-h-24 opacity-100 pb-2":"max-h-0 opacity-0 pb-0 pointer-events-none"}`,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(na,{className:"absolute left-2 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(Oe,{placeholder:"Pesquisar msicas",value:F,onChange:j=>ae(j.target.value),ref:Td,type:"search",inputMode:"search",enterKeyHint:"search",autoComplete:"off",className:"pl-7 pr-7 h-9 text-base sm:text-sm bg-transparent appearance-none border-transparent border-0 shadow-none ring-0 ring-offset-0 focus:outline-none focus:ring-0 focus:ring-offset-0 focus-visible:ring-0 focus-visible:ring-offset-0 focus:border-transparent focus-visible:border-transparent aria-[invalid=true]:ring-0 placeholder:text-muted-foreground/40","aria-label":"Pesquisar msicas do repertrio"}),s.jsx("button",{type:"button","aria-label":"Limpar busca",className:"absolute right-1.5 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground h-9 w-9 rounded-full flex items-center justify-center hover:bg-muted/40",onMouseDown:j=>j.preventDefault(),onTouchStart:j=>j.preventDefault(),onClick:()=>{var M;ae(""),window.scrollY<=80&&te(!1);try{(M=Td.current)==null||M.blur()}catch{}},children:s.jsx(Pr,{className:"h-5 w-5"})})]}),s.jsx(O,{variant:"ghost",size:"sm",onClick:()=>ir(j=>!j),className:"flex-shrink-0",children:zt?s.jsx(nr,{className:"h-4 w-4"}):s.jsx(Ch,{className:"h-4 w-4"})}),s.jsx(O,{variant:"ghost",size:"sm",onClick:()=>_j(j=>!j),className:"flex-shrink-0",children:jr?s.jsx(w_,{className:"h-4 w-4"}):s.jsx(Ch,{className:"h-4 w-4"})})]})})]}),!Cl&&X&&s.jsx(Ka,{open:Mr,onOpenChange:br,children:s.jsx(ma,{side:"left",className:"w-[16rem] p-0",children:s.jsxs("nav",{className:"p-2",children:[s.jsxs("div",{className:"flex items-center gap-3 p-3 border-b mb-2",children:[s.jsxs(Bt,{className:"h-10 w-10",isPro:!!(ue!=null&&ue.is_pro),children:[s.jsx(qt,{src:pr,alt:nn??"Usurio"}),s.jsx(Vt,{children:(nn||"U").charAt(0).toUpperCase()})]}),s.jsx("div",{className:"min-w-0",children:s.jsx("p",{className:"text-sm font-medium truncate",children:nn})})]}),av&&s.jsx(O,{variant:"ghost",className:"w-full justify-start",onClick:()=>{br(!1),i("/musician")},children:"Painel"}),s.jsx(O,{variant:"ghost",className:"w-full justify-start",onClick:()=>{br(!1),i("/requests")},children:"Meus Pedidos"}),s.jsx(O,{variant:"ghost",className:"w-full justify-start",onClick:()=>{br(!1),i("/conexoes")},children:"Conexes"}),s.jsx(O,{variant:"ghost",className:"w-full justify-start",onClick:()=>{br(!1),i("/musician/profile")},children:"Editar perfil"}),s.jsx(O,{variant:"ghost",className:"w-full justify-start",onClick:()=>{br(!1),GA()},children:"Sair"}),s.jsx(tM,{})]})})}),s.jsxs("section",{className:"max-w-5xl mx-auto px-4 py-1",children:[!Cl&&s.jsx("div",{className:"relative h-40 sm:h-56 md:h-64 w-full rounded-lg overflow-hidden mb-6",children:Sj?s.jsx(Xe,{className:"absolute inset-0 w-full h-full"}):s.jsxs(s.Fragment,{children:[s.jsx("img",{src:FA,alt:`Foto do msico ${(ue==null?void 0:ue.display_name)||""} ou capa de msica`,className:"absolute inset-0 w-full h-full object-cover",style:{objectPosition:ue!=null&&ue.cover_url?`center ${(o?LA??ue.cover_position:$A??ue.cover_position)??50}%`:"center center"},loading:"eager"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-black/40 to-transparent"}),ks&&s.jsx("div",{className:"absolute top-2 right-2 sm:top-3 sm:right-3 z-10",children:s.jsx(O,{variant:"outline",size:"icon",onClick:()=>i("/musician/profile"),"aria-label":"Editar perfil",className:"h-9 w-9 bg-background/70 supports-[backdrop-filter]:backdrop-blur-sm",children:s.jsx(Ha,{className:"h-4 w-4"})})}),s.jsxs("div",{className:"absolute bottom-0 sm:bottom-3 left-4 right-4 flex items-center gap-3",children:[s.jsx("div",{className:"relative p-1 rounded-full bg-transparent",children:s.jsxs(Bt,{className:"h-16 w-16 sm:h-20 sm:w-20 border-4 border-white/20 shadow-lg",children:[s.jsx(qt,{src:(ue==null?void 0:ue.avatar_url)||void 0,alt:`Avatar de ${(ue==null?void 0:ue.display_name)||"Msico"}`}),s.jsx(Vt,{className:"text-lg sm:text-xl font-semibold bg-primary/20 text-primary-foreground",children:((Gj=(Kj=ue==null?void 0:ue.display_name)==null?void 0:Kj.charAt(0))==null?void 0:Gj.toUpperCase())||"M"})]})}),s.jsxs("div",{className:"inline-block rounded-md bg-background/60 backdrop-blur supports-[backdrop-filter]:backdrop-blur-sm px-1.5 py-0.5 sm:px-2 sm:py-1",children:[s.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2",children:[s.jsx("h1",{className:"text-lg sm:text-2xl font-semibold text-foreground",children:(ue==null?void 0:ue.display_name)||"Msico"}),(ue==null?void 0:ue.is_pro)&&s.jsx(nl,{size:o?22:28})]}),s.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 mt-0.5 sm:mt-1 text-xs sm:text-sm text-muted-foreground",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Wc,{className:"w-3 h-3 sm:w-4 sm:h-4"})," ",Number(kA)||0]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(nr,{className:"w-3 h-3 sm:w-4 sm:h-4"})," ",Math.max(Number((ue==null?void 0:ue.requests_count)||0),Number(EA||0))]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(am,{className:"w-3 h-3 sm:w-4 sm:h-4"})," ",Number(ue==null?void 0:ue.shares_count)||0]})]})]})]})]})}),!Cl&&s.jsxs("div",{className:`mb-4 flex items-center gap-2 ${o?"flex-wrap":""}`,children:[s.jsxs("div",{className:`${o?"flex w-full":"inline-flex"} rounded-md border p-1 bg-muted/40`,children:[s.jsxs(O,{variant:ze==="music"?"secondary":"ghost",size:"sm",className:`${ze==="music"?"text-primary":void 0} ${o?"flex-1":""}`,onClick:()=>{Re("music")},"aria-label":"Pedir msica",children:[s.jsx(nr,{className:"mr-2 h-4 w-4"})," Pedir msica"]}),s.jsxs(O,{variant:ze==="schedule"?"secondary":"ghost",size:"sm",className:`${ze==="schedule"?"text-primary":void 0} ${o?"flex-1":""}`,onClick:()=>{Re("schedule")},"aria-label":"Ver agenda",children:[s.jsx(wn,{className:`h-4 w-4 ${o?"":"mr-2"}`}),!o&&" Agenda"]}),s.jsxs(O,{variant:ze==="photos"?"secondary":"ghost",size:"sm",className:`${ze==="photos"?"text-primary":void 0} ${o?"flex-1":""}`,onClick:()=>{Re("photos")},"aria-label":"Ver fotos",children:[s.jsx(hc,{className:`h-4 w-4 ${o?"":"mr-2"}`}),!o&&" Fotos"]}),!ks&&s.jsxs(O,{variant:ze==="contract"?"secondary":"ghost",size:"sm",className:`${ze==="contract"?"text-primary":void 0} ${o?"flex-1":""}`,onClick:()=>{Re("contract")},"aria-label":"Contratar",children:[s.jsx(O3,{className:`h-4 w-4 ${o?"":"mr-2"}`}),!o&&" Contratar"]}),!ks&&s.jsxs(O,{variant:ze==="contribute"?"secondary":"ghost",size:"sm",className:`${ze==="contribute"?"text-primary":"text-green-600 hover:text-green-700 hover:bg-green-100 dark:text-green-400 dark:hover:text-green-300 dark:hover:bg-green-950/30"} ${o?"flex-1":""}`,onClick:()=>{Re("contribute")},"aria-label":"Contribuir",children:[s.jsx(nm,{className:`h-4 w-4 ${o?"":"mr-2"}`}),!o&&" Contribuir"]})]}),!o&&s.jsxs(s.Fragment,{children:[!ks&&s.jsx(O,{className:"bg-transparent border-transparent text-primary hover:text-primary active:text-primary/90",variant:"outline",onClick:zj,disabled:Oj,"aria-label":Dd?"Deixar de seguir":"Seguir msico",children:Dd?s.jsxs(s.Fragment,{children:[s.jsx(N_,{className:"mr-2 h-4 w-4 text-primary"})," ",s.jsx("span",{className:"text-primary",children:"Seguindo"})]}):s.jsxs(s.Fragment,{children:[s.jsx(S_,{className:"mr-2 h-4 w-4 text-primary"})," ",s.jsx("span",{className:"text-primary",children:"Seguir"})]})}),s.jsx(O,{variant:"outline",className:"border-none",onClick:Uj,"aria-label":"Compartilhar pgina",children:s.jsx(am,{className:"mr-2 h-4 w-4 text-gray-500"})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 lg:grid-cols-5 gap-6 items-start",children:[s.jsxs("div",{className:"md:col-span-1 md:order-2",children:[!Cl&&(Fj.length>0||o)&&s.jsxs("div",{className:`mb-3 flex items-center gap-2 ${o?"":"mt-5"}`,children:[Fj.map(j=>s.jsx("a",{href:j.href,target:"_blank",rel:"noopener noreferrer","aria-label":j.label,className:"inline-flex h-8 w-8 items-center justify-center rounded-md border border-transparent text-muted-foreground hover:text-foreground hover:bg-muted transition-colors",children:s.jsx(j.icon,{className:"h-4 w-4"})},j.key)),o&&s.jsxs(s.Fragment,{children:[!ks&&s.jsx(O,{className:"bg-transparent border-transparent text-primary hover:text-primary active:text-primary/90 h-8 w-8 p-0",variant:"outline",onClick:zj,disabled:Oj,"aria-label":Dd?"Deixar de seguir":"Seguir msico",children:Dd?s.jsx(N_,{className:"h-4 w-4 text-primary"}):s.jsx(S_,{className:"h-4 w-4 text-primary"})}),s.jsx(O,{variant:"outline",className:"border-transparent h-8 w-8 p-0",onClick:Uj,"aria-label":"Compartilhar pgina",children:s.jsx(am,{className:"h-4 w-4 text-gray-500"})})]})]}),!Cl&&(ue==null?void 0:ue.description)&&s.jsxs("div",{className:"text-sm text-muted-foreground",children:[ke?s.jsxs("p",{children:[ue.description,ue.description.length>(o?80:220)&&s.jsx(O,{variant:"ghost",size:"sm",className:"px-0 h-7 text-primary hover:text-primary/60 ml-2 hover:bg-transparent",onClick:()=>qe(j=>!j),children:"Ver menos"})]}):s.jsxs("p",{children:[ue.description.length>(o?80:220)?`${ue.description.slice(0,o?80:220)}...`:ue.description,ue.description.length>(o?80:220)&&s.jsx(O,{variant:"ghost",size:"sm",className:"px-0 h-7 text-primary hover:text-primary/60 ml-2 hover:bg-transparent",onClick:()=>qe(j=>!j),children:ke?"Ver menos":"Ver mais"})]}),!!(hn!=null&&hn.length)&&!o&&s.jsx("div",{className:"mt-2",children:hn.length<=8?s.jsx("div",{className:"grid grid-cols-3 gap-1",children:hn.slice(0,6).map(j=>s.jsxs("button",{className:"relative overflow-hidden aspect-square w-full",onClick:()=>Hf({id:j.id,url:j.full_url,description:j.description,created_at:j.created_at}),"aria-label":"Abrir foto",children:[s.jsx("img",{src:j.grid_url,alt:j.description||"Foto",className:"absolute inset-0 w-full h-full object-cover"}),s.jsx("div",{className:"absolute inset-0 flex items-end justify-end p-1 bg-black/0 hover:bg-black/20 transition-colors",children:s.jsxs("div",{className:`px-1 py-0.5 rounded ${o?"text-[10px]":"text-[9px]"} text-white/90 bg-black/40 flex items-center ${o?"gap-2":"gap-1"}`,children:[s.jsxs("span",{className:`inline-flex items-center ${o?"gap-1":"gap-0.5"}`,children:[s.jsx(cn,{className:`${o?"h-3 w-3":"h-2.5 w-2.5"}`}),o?Yf[j.id]||0:(Yf[j.id]||0).toLocaleString("pt-BR")]}),s.jsxs("span",{className:`inline-flex items-center ${o?"gap-1":"gap-0.5"}`,children:[s.jsx(Dl,{className:`${o?"h-3 w-3":"h-2.5 w-2.5"}`}),o?Sl[j.id]||0:(Sl[j.id]||0).toLocaleString("pt-BR")]})]})})]},`thumb-${j.id}`))}):s.jsx(s.Fragment,{})})]})]}),s.jsxs("div",{className:"md:col-span-3 lg:col-span-4 md:order-1",children:[ze==="contract"&&s.jsx(zA,{musicianId:n}),ze==="contribute"&&s.jsx(UA,{musicianId:n}),ze==="schedule"&&s.jsx(tt,{className:"border-none shadow-none",children:s.jsx(rt,{className:"p-0",children:DA?s.jsx("p",{className:"text-sm text-muted-foreground",children:"Carregando agenda..."}):Id!=null&&Id.length?s.jsxs("div",{children:[s.jsxs("div",{className:"mb-3 flex flex-col sm:flex-row gap-2 sm:items-center sm:justify-between",children:[s.jsxs("div",{className:`flex gap-2 items-center ${o?"w-full":""}`,children:[s.jsxs("div",{className:`relative transition-all duration-200 ${ie||dt?"sm:max-w-sm":"sm:max-w-[10rem]"} ${o?"flex-1":"w-full sm:w-auto"}`,children:[s.jsx(na,{className:"absolute left-2 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(Oe,{placeholder:"Pesquisar",value:dt,onChange:j=>wt(j.target.value),onFocus:()=>He(!0),onBlur:()=>He(!1),className:"pl-7 pr-7 h-8 text-sm placeholder:text-muted-foreground/40","aria-label":"Pesquisar eventos da agenda"}),dt&&s.jsx("button",{type:"button","aria-label":"Limpar busca",className:"absolute right-2 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",onClick:()=>wt(""),children:s.jsx(Pr,{className:"h-4 w-4"})})]}),o&&s.jsxs(bn,{children:[s.jsx(jn,{asChild:!0,children:s.jsx(O,{variant:"outline",size:"sm",className:"flex-shrink-0",children:s.jsx(wn,{className:"h-4 w-4"})})}),s.jsx(un,{className:"w-auto p-0",align:"end",children:s.jsx(gs,{mode:"single",selected:nt,onSelect:Jt,initialFocus:!0})})]})]}),!o&&s.jsx("div",{children:s.jsxs(bn,{children:[s.jsx(jn,{asChild:!0,children:s.jsxs(O,{variant:"outline",size:"sm",children:[s.jsx(wn,{className:"h-4 w-4 mr-2"}),nt?`${String(nt.getDate()).padStart(2,"0")}/${String(nt.getMonth()+1).padStart(2,"0")}/${String(nt.getFullYear()%100).padStart(2,"0")}`:"Filtrar por data"]})}),s.jsxs(un,{className:"w-auto p-0",align:"end",children:[s.jsx(gs,{mode:"single",selected:nt,onSelect:j=>Jt(j)}),s.jsx("div",{className:"p-2 flex justify-end",children:s.jsx(O,{variant:"ghost",size:"sm",onClick:()=>Jt(null),children:"Limpar"})})]})]})})]}),s.jsx("ul",{className:"divide-y divide-border",children:Dj.slice().sort((j,M)=>new Date(j.start_time).getTime()-new Date(M.start_time).getTime()).slice(0,Fe*vt).map(j=>{const M=new Date(j.start_time),W=M.getDate(),ge=String(M.getMonth()+1).padStart(2,"0"),ve=String(M.getFullYear()%100).padStart(2,"0");return s.jsx("li",{className:"py-3",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"w-12 text-center leading-none",children:[s.jsx("div",{className:"text-lg font-semibold leading-none",children:W}),s.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:[ge,"/",ve]})]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"font-medium truncate",children:j.title}),j.location&&s.jsxs("div",{className:"text-sm text-muted-foreground flex items-center gap-1 mt-0.5",children:[s.jsx(P2,{className:"h-4 w-4 shrink-0"}),s.jsx("span",{className:"truncate",children:j.location})]})]})]})},j.id)})}),s.jsx("div",{className:"mt-3 flex justify-center",children:Dj.length>Fe*vt?s.jsx(O,{variant:"outline",size:"sm",onClick:()=>gt(j=>j+1),children:"Ver mais"}):s.jsx(s.Fragment,{})})]}):s.jsx("p",{className:"text-sm text-muted-foreground",children:"Nenhum evento pblico encontrado."})})}),ze==="music"&&rh?s.jsx("div",{className:jr?"space-y-1":"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:Array.from({length:6}).map((j,M)=>s.jsx("div",{className:jr?"flex items-center gap-3 p-2":"border rounded-lg p-3",children:jr?s.jsxs(s.Fragment,{children:[s.jsx(Xe,{className:"h-10 w-10 rounded-md flex-shrink-0"}),s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsx(Xe,{className:"h-4 w-32"}),s.jsx(Xe,{className:"h-3 w-24"})]}),s.jsx(Xe,{className:"h-6 w-16"})]}):s.jsxs(s.Fragment,{children:[s.jsx(Xe,{className:"h-32 w-full rounded-md mb-3"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Xe,{className:"h-4 w-3/4"}),s.jsx(Xe,{className:"h-3 w-1/2"})]}),s.jsxs("div",{className:"mt-3 flex justify-between items-center",children:[s.jsx(Xe,{className:"h-6 w-16"}),s.jsx(Xe,{className:"h-6 w-20"})]})]})},M))}):ze==="music"&&!(Wn!=null&&Wn.length)?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(nr,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Nenhuma msica cadastrada"}),s.jsx("p",{className:"text-muted-foreground",children:"O msico ainda no cadastrou nenhuma msica em seu repertrio."})]}):ze==="music"?s.jsxs(s.Fragment,{children:[!Cl&&c<=3&&((Wn==null?void 0:Wn.length)??0)>0&&s.jsx(s.Fragment,{children:!o&&s.jsx(tH,{current:c,canGoTo:j=>j===1?!0:j===2||j===3?!!u:!0,onStep:j=>{if((j===2||j===3)&&!u){oe({title:"Selecione uma msica"});return}d(j)}})}),c===1&&((Wn==null?void 0:Wn.length)??0)>0&&s.jsxs("div",{className:"space-y-6",children:[s.jsx(tt,{className:"border-none shadow-none",children:s.jsxs(rt,{className:"p-3 pt-0",children:[!(o&&B)&&s.jsx("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center justify-between gap-3 mb-5",children:s.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto",children:[s.jsxs("div",{ref:fj,className:`relative transition-all duration-200 ${xA||F?"sm:max-w-sm":"sm:max-w-[10rem]"} flex-1 sm:flex-none`,children:[s.jsx(na,{className:"absolute left-2 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(Oe,{placeholder:"Pesquisar",value:F,onChange:j=>ae(j.target.value),onMouseDown:j=>{o&&(j.preventDefault(),hj())},onTouchStart:j=>{o&&(j.preventDefault(),hj())},onFocus:()=>Yg(!0),onBlur:()=>Yg(!1),className:"pl-7 pr-7 h-8 text-sm placeholder:text-muted-foreground/40","aria-label":"Pesquisar msicas do repertrio"}),F&&s.jsx("button",{type:"button","aria-label":"Limpar busca",className:"absolute right-2 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",onClick:()=>ae(""),children:s.jsx(Pr,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"flex items-center gap-2 text-gray-400 flex-shrink-0",children:[s.jsx(O,{variant:"ghost",onClick:()=>ir(j=>!j),children:zt?s.jsx(nr,{className:"h-4 w-4"}):s.jsx(Ch,{className:"h-4 w-4"})}),s.jsx(O,{variant:"ghost",onClick:()=>_j(j=>!j),children:jr?s.jsx(w_,{className:"h-4 w-4"}):s.jsx(Ch,{className:"h-4 w-4"})})]})]})}),rh?s.jsx("div",{className:`grid ${jr?"grid-cols-1 gap-0":"grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3"} mt-5`,children:Array.from({length:8}).map((j,M)=>s.jsxs("div",{className:"space-y-2",children:[s.jsx(Xe,{className:"w-full aspect-[4/3] rounded"}),s.jsx(Xe,{className:"h-4 w-3/4"}),s.jsx(Xe,{className:"h-3 w-1/2"})]},M))}):zt||F.trim()?s.jsxs("div",{children:[lv.length===0?s.jsx("p",{className:"text-sm text-muted-foreground",children:"Nenhum resultado para a busca."}):s.jsx("div",{className:`grid ${jr?"grid-cols-1 gap-2":"grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3"}`,children:lv.map(j=>{var M,W,ge,ve;return s.jsx("button",{onClick:()=>h((u==null?void 0:u.id)===j.id?null:j),className:`text-left rounded-md ${jr?"":"border"} ${jr?"p-1":"p-3"} transition-colors hover:bg-accent ${(u==null?void 0:u.id)===j.id?"ring-2 ring-primary":""}`,"aria-label":`Selecionar ${j.title}${j.artist?` por ${j.artist}`:""}`,children:jr?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"h-10 w-10 rounded overflow-hidden bg-muted shrink-0",children:j.cover_url?s.jsx("img",{src:j.cover_url,alt:`Capa de ${j.title} por ${j.artist||"Artista"}`,loading:"lazy",className:"h-full w-full object-cover"}):null}),s.jsxs("div",{className:"min-w-0 flex-1 flex flex-col justify-center",children:[s.jsxs("p",{className:"truncate",children:[s.jsx("span",{className:"text-xs font-medium",children:j.title}),j.artist&&s.jsxs("span",{className:"text-[10px] text-muted-foreground font-normal",children:[" ","(",j.artist,")"]})]}),s.jsxs("div",{className:"mt-0 flex items-center gap-2",children:[s.jsxs("button",{onClick:Ne=>{Ne.stopPropagation(),Tl(j.id)},className:`inline-flex items-center gap-1 text-xs ${Et[j.id]?"text-primary":"text-muted-foreground"} hover:text-primary`,"aria-label":Et[j.id]?"Remover curtida":"Curtir","aria-pressed":Et[j.id]?"true":"false",type:"button",children:[s.jsx(cn,{className:`h-3 w-3 ${Et[j.id]?"fill-current":""}`}),s.jsx("span",{children:(j==null?void 0:j.like_count)??os[j.id]??0}),s.jsx("span",{className:"text-muted-foreground",children:""}),s.jsx(nr,{className:"h-3 w-3"}),s.jsx("span",{className:"text-xs",title:"Pedidos desta msica",children:(j==null?void 0:j.request_count)??((W=(M=j==null?void 0:j.requests)==null?void 0:M[0])==null?void 0:W.count)??Pj[j.id]??0})]}),s.jsx("button",{onClick:Ne=>{Ne.stopPropagation(),h(j),o?J(!0):d(2)},className:"ml-auto inline-flex items-center rounded border px-2 h-6 text-[10px] text-muted-foreground hover:text-foreground","aria-label":`Pedir ${j.title}`,type:"button",children:"Pedir"})]})]})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"aspect-[4/3] mb-2 overflow-hidden rounded",children:j.cover_url?s.jsx("img",{src:j.cover_url,alt:`Capa de ${j.title} por ${j.artist||"Artista"}`,loading:"lazy",className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full bg-muted"})}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-xs sm:text-base font-medium truncate",children:j.title}),j.artist&&s.jsx("p",{className:"text-[10px] sm:text-sm text-muted-foreground truncate",children:j.artist})]}),s.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[s.jsxs("button",{onClick:Ne=>{Ne.stopPropagation(),Tl(j.id)},className:`inline-flex items-center gap-1 text-sm ${Et[j.id]?"text-primary":"text-muted-foreground"} hover:text-primary`,"aria-label":Et[j.id]?"Remover curtida":"Curtir","aria-pressed":Et[j.id]?"true":"false",type:"button",children:[s.jsx(cn,{className:`h-4 w-4 ${Et[j.id]?"fill-current":""}`}),s.jsx("span",{children:(j==null?void 0:j.like_count)??os[j.id]??0}),s.jsx("span",{className:"text-muted-foreground",children:""}),s.jsx(nr,{className:"h-4 w-4"}),s.jsx("span",{className:"text-sm",title:"Pedidos desta msica",children:(j==null?void 0:j.request_count)??((ve=(ge=j==null?void 0:j.requests)==null?void 0:ge[0])==null?void 0:ve.count)??Pj[j.id]??0})]}),s.jsx(O,{variant:"outline",size:"sm",className:"h-7 px-2 text-[10px]",onClick:Ne=>{Ne.stopPropagation(),h(j),o?J(!0):d(2)},"aria-label":`Pedir ${j.title}`,children:"Pedir"})]})]})},j.id)})}),VA&&s.jsx("div",{className:"mt-4 flex justify-center",children:s.jsx(O,{variant:"outline",onClick:()=>jj(j=>j+1),children:"Ver mais"})})]}):s.jsx("div",{className:"space-y-8",children:El!=null&&El.length?s.jsxs(s.Fragment,{children:[HA.map(j=>s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium mb-3",children:j.title}),s.jsx("div",{className:`${jr?"grid grid-cols-1 gap-0":"flex overflow-x-auto gap-3 pb-2 scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-gray-100 dark:scrollbar-thumb-gray-600 dark:scrollbar-track-gray-800"}`,children:rh?Array.from({length:8}).map((M,W)=>s.jsxs("div",{className:"space-y-2",children:[s.jsx(Xe,{className:"w-full aspect-[4/3] rounded"}),s.jsx(Xe,{className:"h-4 w-3/4"}),s.jsx(Xe,{className:"h-3 w-1/2"})]},W)):j.items.map(M=>s.jsx("button",{onClick:()=>h(M),className:`text-left rounded-md ${jr?"":"border"} ${jr?"p-1":"p-3"} transition-colors hover:bg-accent ${(u==null?void 0:u.id)===M.id?"ring-2 ring-primary":""} ${jr?"":"w-48 flex-shrink-0"}`,children:jr?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"h-10 w-10 rounded overflow-hidden bg-muted shrink-0",children:M.cover_url?s.jsx("img",{src:M.cover_url,alt:`Capa de ${M.title} por ${M.artist||"Artista"}`,loading:"lazy",className:"h-full w-full object-cover"}):null}),s.jsxs("div",{className:"min-w-0 flex-1 flex flex-col justify-center",children:[s.jsxs("p",{className:"truncate",children:[s.jsx("span",{className:"text-xs font-medium",children:M.title}),M.artist&&s.jsxs("span",{className:"text-[10px] text-muted-foreground font-normal",children:[" ","(",M.artist,")"]})]}),s.jsx("div",{className:"mt-0",children:s.jsxs("button",{onClick:W=>{W.stopPropagation(),Tl(M.id)},className:`inline-flex items-center gap-1 text-xs ${Et[M.id]?"text-primary":"text-muted-foreground"} hover:text-primary`,"aria-label":Et[M.id]?"Remover curtida":"Curtir","aria-pressed":Et[M.id]?"true":"false",type:"button",children:[s.jsx(cn,{className:`h-3 w-3 ${Et[M.id]?"fill-current":""}`}),s.jsx("span",{children:os[M.id]||0})]})})]})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"aspect-[4/3] mb-2 overflow-hidden rounded",children:M.cover_url?s.jsx("img",{src:M.cover_url,alt:`Capa de ${M.title} por ${M.artist||"Artista"}`,loading:"lazy",className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full bg-muted"})}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-xs sm:text-base font-medium truncate",children:M.title}),M.artist&&s.jsx("p",{className:"text-[10px] sm:text-sm text-muted-foreground truncate",children:M.artist})]}),s.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[s.jsxs("button",{onClick:W=>{W.stopPropagation(),Tl(M.id)},className:`inline-flex items-center gap-1 text-sm ${Et[M.id]?"text-primary":"text-muted-foreground"} hover:text-primary`,"aria-label":Et[M.id]?"Remover curtida":"Curtir","aria-pressed":Et[M.id]?"true":"false",type:"button",children:[s.jsx(cn,{className:`h-4 w-4 ${Et[M.id]?"fill-current":""}`}),s.jsx("span",{children:os[M.id]||0})]}),s.jsx(O,{variant:"outline",size:"sm",className:"h-7 px-2 text-[10px]",onClick:W=>{W.stopPropagation(),h(M),o?J(!0):d(2)},"aria-label":`Pedir ${M.title}`,children:"Pedir"})]})]})},M.id))})]},j.title)),KA&&s.jsx("div",{className:"mt-4 flex justify-center",children:s.jsx(O,{variant:"outline",onClick:()=>jj(j=>j+1),children:"Ver mais"})})]}):s.jsx("div",{className:`grid ${jr?"grid-cols-1 gap-2":"grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3"}`,children:rh?Array.from({length:8}).map((j,M)=>s.jsxs("div",{className:"space-y-2",children:[s.jsx(Xe,{className:"w-full aspect-[4/3] rounded"}),s.jsx(Xe,{className:"h-4 w-3/4"}),s.jsx(Xe,{className:"h-3 w-1/2"})]},M)):(Vn||[]).slice(0,kl*Md).map(j=>s.jsx("button",{onClick:()=>h(j),className:`text-left rounded-md ${jr?"":"border"} ${jr?"p-1":"p-3"} transition-colors hover:bg-accent ${(u==null?void 0:u.id)===j.id?"ring-2 ring-primary":""}`,children:jr?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"h-10 w-10 rounded overflow-hidden bg-muted shrink-0",children:j.cover_url?s.jsx("img",{src:j.cover_url,alt:`Capa de ${j.title} por ${j.artist||"Artista"}`,loading:"lazy",className:"h-full w-full object-cover"}):null}),s.jsxs("div",{className:"min-w-0 flex-1 flex flex-col justify-center",children:[s.jsxs("p",{className:"truncate",children:[s.jsx("span",{className:"text-xs font-medium",children:j.title}),j.artist&&s.jsxs("span",{className:"text-[10px] text-muted-foreground font-normal",children:[" ","(",j.artist,")"]})]}),s.jsx("div",{className:"mt-0",children:s.jsxs("button",{onClick:M=>{M.stopPropagation(),Tl(j.id)},className:`inline-flex items-center gap-1 text-xs ${Et[j.id]?"text-primary":"text-muted-foreground"} hover:text-primary`,"aria-label":Et[j.id]?"Remover curtida":"Curtir","aria-pressed":Et[j.id]?"true":"false",type:"button",children:[s.jsx(cn,{className:`h-3 w-3 ${Et[j.id]?"fill-current":""}`}),s.jsx("span",{children:os[j.id]||0})]})})]})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"aspect-[4/3] mb-2 overflow-hidden rounded",children:j.cover_url?s.jsx("img",{src:j.cover_url,alt:`Capa de ${j.title} por ${j.artist||"Artista"}`,loading:"lazy",className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full bg-muted"})}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-xs sm:text-base font-medium truncate",children:j.title}),j.artist&&s.jsx("p",{className:"text-[10px] sm:text-sm text-muted-foreground truncate",children:j.artist})]}),s.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[s.jsxs("button",{onClick:M=>{M.stopPropagation(),Tl(j.id)},className:`inline-flex items-center gap-1 text-sm ${Et[j.id]?"text-primary":"text-muted-foreground"} hover:text-primary`,"aria-label":Et[j.id]?"Remover curtida":"Curtir","aria-pressed":Et[j.id]?"true":"false",type:"button",children:[s.jsx(cn,{className:`h-4 w-4 ${Et[j.id]?"fill-current":""}`}),s.jsx("span",{children:os[j.id]||0})]}),s.jsx(O,{variant:"outline",size:"sm",className:"h-7 px-2 text-[10px]",onClick:M=>{M.stopPropagation(),h(j),o?J(!0):d(2)},"aria-label":`Pedir ${j.title}`,children:"Pedir"})]})]})},j.id))})})]})}),s.jsxs("div",{className:"mt-6 space-y-6",children:[Cj?s.jsx("p",{className:"text-sm text-muted-foreground",children:"Carregando..."}):tv.length>0?s.jsxs(s.Fragment,{children:[s.jsx("h3",{className:"font-medium mb-2",children:"Seguindo"}),s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 xl:grid-cols-8 gap-3",children:tv.map(j=>{const M=j.display_name||"Usurio";return s.jsx(Yt,{to:`/m/${j.id}`,className:"flex items-center gap-3 rounded-md p-3 hover:bg-accent",children:s.jsxs(Bt,{className:"h-10 w-10",isPro:!!(j!=null&&j.is_pro),children:[s.jsx(qt,{src:j.avatar_url||void 0,alt:M}),s.jsx(Vt,{children:M.charAt(0).toUpperCase()})]})},j.id)})}),TA&&s.jsx("div",{className:"mt-4 flex justify-center",children:s.jsx(O,{variant:"outline",onClick:()=>Nj(j=>j+1),disabled:Cj,children:"Ver mais"})})]}):null,Rj?s.jsx("p",{className:"text-sm text-muted-foreground",children:"Carregando..."}):sv.length>0?s.jsxs(s.Fragment,{children:[s.jsx("h3",{className:"font-medium mb-2",children:"Seguidores"}),s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 xl:grid-cols-8 gap-3",children:sv.map(j=>{const M=j.display_name||"Usurio";return s.jsx(Yt,{to:`/m/${j.id}`,className:"flex items-center gap-3 rounded-md p-3 hover:bg-accent",children:s.jsxs(Bt,{className:"h-10 w-10",isPro:!!(j!=null&&j.is_pro),children:[s.jsx(qt,{src:j.avatar_url||void 0,alt:M}),s.jsx(Vt,{children:M.charAt(0).toUpperCase()})]})},j.id)})}),AA&&s.jsx("div",{className:"mt-4 flex justify-center",children:s.jsx(O,{variant:"outline",onClick:()=>Tj(j=>j+1),disabled:Rj,children:"Ver mais"})})]}):null]}),u&&c===1&&s.jsx("div",{className:"sticky bottom-0 z-40 mt-6",children:s.jsx("div",{className:"bg-background/80 supports-[backdrop-filter]:backdrop-blur  p-8",children:s.jsx("div",{className:"max-w-5xl mx-auto",children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx(O,{variant:"outline",className:"flex-1 h-10",size:"lg",onClick:()=>h(null),"aria-label":"Cancelar seleo de msica",children:"Cancelar"}),s.jsx(O,{className:"flex-1 h-10",size:"lg",onClick:()=>{o?J(!0):d(2)},"aria-label":"Continuar para dedicatria",children:"Continuar"})]})})})})]}),c===2&&s.jsxs("div",{className:"",children:[s.jsxs("div",{className:"p-3 space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:"Seu nome"}),s.jsx(Oe,{ref:ce,value:m,onChange:j=>p(j.target.value),placeholder:"Ex.: Ana",className:"placeholder:text-muted-foreground/40"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:"Mensagem/Dedicatria"}),s.jsx(Li,{value:w,onChange:j=>v(j.target.value),placeholder:"Para quem vai essa msica?",className:"placeholder:text-muted-foreground/40",maxLength:200}),s.jsx("div",{className:"flex justify-end mt-1",children:s.jsxs("span",{className:"text-xs text-muted-foreground",children:[w.length,"/200"]})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:"Descrio adicional (opcional)"}),s.jsx(Li,{value:g,onChange:j=>y(j.target.value),placeholder:"Detalhes extras",className:"placeholder:text-muted-foreground/40",maxLength:200}),s.jsx("div",{className:"flex justify-end mt-1",children:s.jsxs("span",{className:"text-xs text-muted-foreground",children:[g.length,"/200"]})})]})]}),s.jsx("div",{className:"sticky bottom-0 z-40",children:s.jsx("div",{className:"bg-background/80 supports-[backdrop-filter]:backdrop-blur  p-3",children:s.jsxs("div",{className:"max-w-5xl mx-auto flex gap-2",children:[s.jsx(O,{variant:"outline",className:"flex-1 h-10",onClick:()=>d(1),"aria-label":"Voltar",children:"Voltar"}),s.jsx(O,{className:"flex-1 h-10",onClick:()=>d(3),children:"Continuar"})]})})})]}),c===3&&s.jsxs("div",{className:"",children:[s.jsx("div",{className:"p-3 space-y-4",children:_?s.jsx("div",{className:"flex flex-col items-center justify-center text-center gap-4 py-6",children:_e?s.jsxs("div",{className:"w-full max-w-sm mx-auto p-4 rounded-md border bg-muted/30",children:[s.jsx("p",{className:"text-sm",children:"PIX cancelado por tempo esgotado."}),xe==="failed"&&s.jsx("p",{className:"text-xs text-red-600 mt-1",children:"Aviso: no foi possvel confirmar o cancelamento na Veepag."}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Volte e informe o valor para gerar um novo PIX."}),s.jsx("div",{className:"mt-3 flex gap-2 justify-center",children:s.jsx(O,{variant:"outline",onClick:()=>{me(!1),Ge(null),N(""),se(!0)},children:"Voltar para valor"})})]}):s.jsxs(s.Fragment,{children:[P>0&&s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Expira em ",Math.floor(P/60),":",String(P%60).padStart(2,"0")]}),q&&s.jsx("p",{className:"text-xs text-green-600",children:"Transao confirmada!"}),s.jsx("img",{src:`https://quickchart.io/qr?text=${encodeURIComponent(_)}&size=260&margin=1&ecLevel=M`,alt:"QR Code Pix",className:"rounded border",loading:"lazy"}),s.jsx("div",{className:"w-full max-w-xl mx-auto flex items-center justify-center",children:s.jsx(O,{variant:"outline",onClick:()=>{navigator.clipboard.writeText(_),oe({title:"Cdigo copiado"})},"aria-label":"Copiar cdigo Pix",children:"Copiar cdigo PIX"})}),Ct&&s.jsxs("div",{className:"text-[11px] text-muted-foreground mt-2 select-all break-all",children:["ID Veepag: ",Ct]})]})}):s.jsx(s.Fragment,{children:s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:"Valor da contribuio (opcional)"}),s.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"PIX gerado via Veepag - Pagamento seguro e instantneo"}),s.jsx(Oe,{ref:be,type:"text",inputMode:"numeric",placeholder:"Ex.: 10,00",value:x,className:"placeholder:text-muted-foreground/40",onChange:j=>{const M=j.target.value.replace(/\D/g,"");if(!M){b("");return}if(M.length===1){b(`0,0${M}`);return}if(M.length===2){b(`0,${M}`);return}const W=M.slice(0,-2),ge=M.slice(-2),Ne=W.replace(/^0+(?=\d)/,"").replace(/\B(?=(\d{3})+(?!\d))/g,".");b(`${Ne},${ge}`)}}),s.jsx("div",{className:"flex flex-wrap gap-2 mt-3",children:[15,30,50,100].map(j=>s.jsxs(O,{type:"button",variant:"secondary",size:"sm",className:"h-8 px-3 text-xs border-none bg-muted hover:bg-muted/80",onClick:()=>{const M=`${j},00`;b(M)},children:["R$ ",j.toLocaleString("pt-BR")]},j))}),k&&C&&s.jsxs("div",{className:"mt-2 p-3 rounded-md border-none bg-red-50 dark:bg-red-950/20",children:[s.jsx("p",{className:"text-sm text-red-700 dark:text-red-300 font-medium",children:C}),C!=null&&C.toLowerCase().includes("expirou")?null:s.jsx("p",{className:"text-xs text-red-600 dark:text-red-400 mt-1",children:"Contribua com R$ 5,00 ou mais, ou crie uma conta para pedidos ilimitados."})]}),et&&s.jsxs("div",{className:"mt-2 p-3 rounded-md border-none bg-red-50 dark:bg-red-950/20",children:[s.jsxs("p",{className:"text-sm text-red-700 dark:text-red-300 font-medium",children:["Erro ao gerar PIX: ",et]}),s.jsx("p",{className:"text-xs text-red-600 dark:text-red-400 mt-1",children:"Tente novamente ou entre em contato com o suporte."})]})]})})}),s.jsx("div",{className:"sticky bottom-0 z-40",children:V&&s.jsx("div",{className:"bg-background/80 supports-[backdrop-filter]:backdrop-blur  p-3",children:s.jsxs("div",{className:"max-w-5xl mx-auto flex gap-2",children:[s.jsx(O,{variant:"outline",className:"flex-1 h-10",onClick:()=>d(2),"aria-label":"Voltar",children:"Voltar"}),s.jsx(O,{className:"flex-1 h-10",disabled:yt||!x||T||q,onClick:async()=>{if(!x){oe({title:"Informe um valor vlido"});return}kt()},children:yt?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent mr-2"}),"Gerando PIX..."]}):s.jsxs(s.Fragment,{children:[s.jsx(nu,{className:"h-4 w-4 mr-2"}),"Gerar PIX"]})})]})})})]}),c===4&&u&&s.jsxs("div",{className:"p-6",children:[s.jsx("div",{className:"flex flex-col items-center text-center",children:s.jsx("h3",{className:"text-green-600 font-semibold",children:"Pedido enviado com sucesso!"})}),s.jsxs("div",{className:"space-y-3 mt-4",children:[s.jsx("p",{className:"text-sm",children:"Resumo do pedido:"}),s.jsxs("ul",{className:"text-sm list-disc pl-5 space-y-1",children:[s.jsxs("li",{children:["Msica: ",s.jsx("strong",{children:u.title}),u.artist?`  ${u.artist}`:""]}),m&&s.jsxs("li",{children:["Solicitante: ",s.jsx("strong",{children:m})]}),w&&s.jsxs("li",{children:["Dedicatria: ",w]}),g&&s.jsxs("li",{children:["Descrio adicional: ",g]}),x&&s.jsxs("li",{children:["Contribuio: ",UN(Number(x.replace(/[^0-9,.-]/g,"").replace(",",".")))," ","(opcional)"]})]}),!X&&s.jsxs("div",{className:"p-6 rounded-md border bg-accent/30 text-foreground",children:[s.jsx("p",{className:"text-sm",children:"Crie sua conta para acompanhar seus pedidos, curtidas e comentrios."}),s.jsx("div",{className:"mt-4",children:s.jsx(O,{onClick:()=>i("/auth"),children:"Criar conta"})})]}),s.jsx("div",{className:"sticky bottom-0 z-40 mt-6",children:s.jsx("div",{className:"bg-background/80 supports-[backdrop-filter]:backdrop-blur  p-0 mt-10",children:s.jsx("div",{className:"max-w-5xl mx-auto flex gap-2",children:s.jsx(O,{className:"flex-1 h-10",onClick:()=>{d(1),h(null),p(""),v(""),y(""),b(""),H(null)},children:"Fazer outro pedido"})})})})]})]})]}):null,ee&&o&&s.jsx(Ka,{open:ee,onOpenChange:j=>{J(j),j||(d(1),h(null),p(""),v(""),y(""),b(""),N(""),S(0),re(!1),U(!1),H(null),E(null),Y(!1),z(!1),D(2))},children:s.jsx(ma,{side:"bottom",className:"h-full w-full rounded-t-none p-0",children:s.jsxs("div",{className:"flex flex-col h-full",children:[s.jsx("div",{className:"flex items-center justify-center p-4 border-b",children:s.jsx("h3",{className:"text-lg font-bold bg-gradient-to-r from-yellow-200 via-yellow-400 via-amber-400 to-orange-500 bg-clip-text text-transparent",children:"Pedir msica"})}),s.jsx("div",{className:"p-4 border-none",children:s.jsxs("div",{className:"flex items-center justify-center gap-8",children:[s.jsx("div",{className:"group",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:`w-16 h-0.5 rounded-full transition-all duration-300 ${I>=1?"bg-gray-500":"bg-muted-foreground/20"}`}),s.jsx("p",{className:"text-xs text-muted-foreground/70 mt-2",children:"Msica"})]})}),s.jsx("div",{className:"group",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:`w-16 h-0.5 rounded-full transition-all duration-300 ${I>=2?"bg-gray-500":"bg-muted-foreground/20"}`}),s.jsx("p",{className:"text-xs text-muted-foreground/70 mt-2",children:"Identificao"})]})}),s.jsx("div",{className:"group",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:`w-16 h-0.5 rounded-full transition-all duration-300 ${I>=3?"bg-gray-500":"bg-muted-foreground/20"}`}),s.jsx("p",{className:"text-xs text-muted-foreground/70 mt-2",children:"Contribuio"})]})})]})}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-4",children:[I===2&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Seu nome"}),s.jsx(Oe,{ref:ce,value:m,onChange:j=>pe(j.target.value),placeholder:"Ex.: Ana",className:"h-11 placeholder:text-muted-foreground/40"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Mensagem/Dedicatria"}),s.jsx(Li,{value:w,onChange:j=>v(j.target.value),placeholder:"Para quem vai essa msica?",className:"min-h-[80px] placeholder:text-muted-foreground/40",maxLength:200}),s.jsx("div",{className:"flex justify-end mt-1",children:s.jsxs("span",{className:"text-xs text-muted-foreground",children:[w.length,"/200"]})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Descrio adicional (opcional)"}),s.jsx(Li,{value:g,onChange:j=>y(j.target.value),placeholder:"Detalhes extras",className:"min-h-[80px] placeholder:text-muted-foreground/40",maxLength:200}),s.jsx("div",{className:"flex justify-end mt-1",children:s.jsxs("span",{className:"text-xs text-muted-foreground",children:[g.length,"/200"]})})]})]}),I===3&&!_&&s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Valor da contribuio (opcional)"}),s.jsx(Oe,{ref:be,type:"text",inputMode:"numeric",placeholder:"Ex.: 10,00",value:x,onChange:j=>{k&&z(!1);const M=j.target.value.replace(/\D/g,"");if(!M){b("");return}if(M.length===1){b(`0,0${M}`);return}if(M.length===2){b(`0,${M}`);return}const W=M.slice(0,-2),ge=M.slice(-2),Ne=W.replace(/^0+(?=\d)/,"").replace(/\B(?=(\d{3})+(?!\d))/g,".");b(`${Ne},${ge}`)},className:"h-11 placeholder:text-muted-foreground/40"}),s.jsx("div",{className:"flex flex-wrap gap-2 mt-3",children:[15,30,50,100].map(j=>s.jsxs(O,{type:"button",variant:"secondary",size:"sm",className:"h-8 px-3 text-xs border-none bg-muted hover:bg-muted/80",onClick:()=>{const M=`${j},00`;b(M),k&&z(!1)},children:["R$ ",j.toLocaleString("pt-BR")]},j))}),s.jsx("div",{className:"mt-4",children:s.jsx(O,{className:"w-full h-10",disabled:yt||!x||T||q,onClick:async()=>{x&&await kt()},children:yt?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent mr-2"}),"Gerando PIX..."]}):s.jsxs(s.Fragment,{children:[s.jsx(nu,{className:"h-4 w-4 mr-2"}),"Gerar PIX"]})})}),k&&C&&s.jsxs("div",{className:"mt-2 p-3 rounded-md border-none bg-red-50 dark:bg-red-950/20",children:[s.jsx("p",{className:"text-sm text-red-700 dark:text-red-300 font-medium",children:C}),C!=null&&C.toLowerCase().includes("expirou")?null:s.jsx("p",{className:"text-xs text-red-600 dark:text-red-400 mt-1",children:"Ajuste o valor acima para continuar ou crie uma conta para pedidos ilimitados."})]})]})}),I===3&&_&&s.jsxs("div",{className:"text-center space-y-4",children:[P>0&&s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Expira em ",Math.floor(P/60),":",String(P%60).padStart(2,"0")]}),q&&s.jsx("p",{className:"text-xs text-green-600",children:"Transao confirmada!"}),s.jsx("img",{src:`https://quickchart.io/qr?text=${encodeURIComponent(_)}&size=260&margin=1&ecLevel=M`,alt:"QR Code Pix",className:"rounded border mx-auto",loading:"lazy"}),s.jsx("div",{className:"flex items-center gap-2 justify-center",children:s.jsx(O,{variant:"outline",onClick:()=>{navigator.clipboard.writeText(_),oe({title:"Cdigo copiado"})},children:"Copiar cdigo PIX"})})]}),I===4&&!A&&s.jsx("div",{className:"flex-1 flex items-center justify-center",children:s.jsx("div",{className:"text-center space-y-6 max-w-md",children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-green-600 font-semibold text-2xl",children:"Pedido enviado com sucesso!"}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("p",{className:"text-sm font-medium",children:"Resumo do pedido:"}),s.jsxs("ul",{className:"text-sm list-disc pl-5 space-y-1 text-left",children:[s.jsxs("li",{children:["Msica: ",s.jsx("strong",{children:u==null?void 0:u.title}),u!=null&&u.artist?`  ${u.artist}`:""]}),m&&s.jsxs("li",{children:["Solicitante: ",s.jsx("strong",{children:m})]}),w&&s.jsxs("li",{children:["Dedicatria: ",w]}),g&&s.jsxs("li",{children:["Descrio adicional: ",g]}),x&&s.jsxs("li",{children:["Contribuio:"," ",UN(Number(x.replace(/[^0-9,.-]/g,"").replace(",",".")))," ","(opcional)"]})]})]})]})})}),I===4&&A&&s.jsx("div",{className:"flex-1 flex items-center justify-center",children:s.jsx("div",{className:"text-center space-y-6 max-w-md",children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-red-600 font-semibold text-2xl",children:"Pedido no enviado"}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:C}),s.jsxs("div",{className:"p-4 rounded-md border bg-red-50 dark:bg-red-950/20",children:[s.jsx("p",{className:"text-sm font-medium text-red-700 dark:text-red-300",children:"Para enviar este pedido, voc precisa:"}),s.jsx("ul",{className:"text-sm text-red-600 dark:text-red-400 mt-2 list-disc pl-5 space-y-1",children:s.jsx("li",{children:"Contribuir com valor de R$ 5,00 ou mais"})})]})]})]})})})]}),s.jsxs("div",{className:"p-4 border-t",children:[I===2&&s.jsx(O,{className:"w-full h-12",onClick:()=>D(3),disabled:!m.trim(),children:"Continuar"}),I===3&&!_&&s.jsx("div",{className:"flex gap-3",children:s.jsx(O,{variant:"outline",className:"flex-1 h-12",onClick:()=>{z(!1),D(2)},children:"Voltar"})}),I===4&&s.jsx(O,{className:"w-full h-12",onClick:()=>{J(!1),d(1),h(null),p(""),v(""),y(""),b(""),N(""),S(0),re(!1),U(!1),Se.current=!1,Ue.current=null,H(null),E(null),Y(!1),z(!1),D(2)},children:"Fazer outro pedido"})]})]})})}),ze==="photos"&&s.jsx(tt,{className:"border-none shadow-none",children:s.jsx(rt,{className:"p-0 m-0",children:zg?s.jsx("div",{className:"grid gap-1 grid-cols-3",children:Array.from({length:9}).map((j,M)=>s.jsx("div",{className:"aspect-square relative overflow-hidden",children:s.jsx(Xe,{className:"absolute inset-0 w-full h-full"})},M))}):hn!=null&&hn.length?s.jsx("div",{className:"grid gap-1 grid-cols-3",children:hn.map(j=>s.jsxs("button",{className:"relative overflow-hidden aspect-square group",onClick:()=>Hf({id:j.id,url:j.full_url,description:j.description,created_at:j.created_at}),"aria-label":"Abrir foto",children:[s.jsx("img",{src:j.grid_url,alt:j.description||"Foto",className:"absolute inset-0 w-full h-full object-cover"}),s.jsx("div",{className:"absolute inset-0 flex items-end justify-end p-1 bg-black/0 group-hover:bg-black/20 transition-colors",children:s.jsxs("div",{className:`px-1 py-0.5 rounded ${o?"text-[10px]":"text-[9px]"} text-white/90 bg-black/40 flex items-center ${o?"gap-2":"gap-1"}`,children:[s.jsxs("span",{className:`inline-flex items-center ${o?"gap-1":"gap-0.5"}`,children:[s.jsx(cn,{className:`${o?"h-3 w-3":"h-2.5 w-2.5"}`}),o?Yf[j.id]||0:(Yf[j.id]||0).toLocaleString("pt-BR")]}),s.jsxs("span",{className:`inline-flex items-center ${o?"gap-1":"gap-0.5"}`,children:[s.jsx(Dl,{className:`${o?"h-3 w-3":"h-2.5 w-2.5"}`}),o?Sl[j.id]||0:(Sl[j.id]||0).toLocaleString("pt-BR")]})]})})]},j.id))}):s.jsx("p",{className:"text-sm text-muted-foreground",children:"Nenhuma foto disponvel."})})})]})]}),Be&&s.jsx(Jr,{open:!!Be,onOpenChange:()=>Hf(null),children:s.jsxs(Kr,{className:"max-w-4xl w-full h-full md:h-auto p-0",hideClose:!0,children:[s.jsx(Gr,{children:s.jsx(Yr,{children:"Visualizar foto"})}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-0",children:[s.jsxs("div",{className:"bg-black relative h-[50vh] md:h-auto",children:[s.jsx("img",{src:Be.url,alt:"Foto",className:"w-full h-full object-cover md:object-contain md:max-h-[80vh] mx-auto"}),s.jsx("button",{className:"absolute top-3 right-3 z-50 bg-black/80 hover:bg-black text-white rounded-full p-2 transition-colors shadow-lg md:hidden",onClick:()=>Hf(null),"aria-label":"Fechar foto",type:"button",children:s.jsx(Pr,{className:"h-5 w-5"})}),o&&s.jsxs("div",{className:"absolute bottom-3 left-3 flex items-center gap-2 bg-white/20 backdrop-blur-md rounded-lg p-2",children:[s.jsxs(O,{variant:_a?"secondary":"outline",size:"sm",onClick:vj,"aria-pressed":_a?"true":"false","aria-label":_a?"Remover curtida":"Curtir foto",className:"bg-transparent border-white/40 hover:bg-white/20 text-white",children:[s.jsx(cn,{className:`h-4 w-4 mr-2 ${_a?"fill-current":""}`}),Kf]}),s.jsxs(O,{variant:"outline",size:"sm",onClick:()=>sj(!0),"aria-label":"Ver comentrios",className:"bg-transparent border-white/40 hover:bg-white/20 text-white",children:[s.jsx(Dl,{className:"h-4 w-4 mr-2"}),Sl[Be.id]||0]}),Kf>0&&s.jsx("button",{className:"flex -space-x-2",onClick:wA,"aria-label":"Ver curtidas",children:rj.map((j,M)=>s.jsxs(Bt,{className:`h-6 w-6 ring-2 ring-background ${M===0?"":"-ml-2"}`,children:[s.jsx(qt,{src:j.avatar_url||void 0,alt:"avatar"}),s.jsx(Vt,{className:"bg-muted text-foreground/70 text-[10px]",children:"U"})]},j.id))}),s.jsx(O,{variant:"ghost",size:"icon",onClick:bj,"aria-label":"Denunciar foto",className:"bg-transparent hover:bg-white/20 text-white",children:s.jsx(Vv,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{className:"p-4 flex flex-col min-h-[50vh] md:min-h-[60vh] max-h-[50vh] md:max-h-[80vh] overflow-y-auto",children:[s.jsx(yA,{description:Be.description||"Sem descrio"}),!o&&s.jsx("div",{className:"mt-3 space-y-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"text-xs text-muted-foreground",children:Be!=null&&Be.created_at?th(Be.created_at):null}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{onClick:vj,className:`flex items-center gap-2 text-sm transition-colors ${_a?"text-primary":"text-muted-foreground hover:text-foreground"}`,"aria-pressed":_a?"true":"false","aria-label":_a?"Remover curtida":"Curtir foto",children:[s.jsx(cn,{className:`h-5 w-5 ${_a?"fill-current":""}`}),s.jsx("span",{className:"font-medium",children:Kf})]}),Kf>0&&s.jsx("div",{className:"flex -space-x-2",children:rj.slice(0,3).map((j,M)=>s.jsxs(Bt,{className:`h-5 w-5 ring-2 ring-background ${M===0?"":"-ml-2"}`,children:[s.jsx(qt,{src:j.avatar_url||void 0,alt:"avatar"}),s.jsx(Vt,{className:"bg-muted text-foreground/70 text-[10px]",children:"U"})]},j.id))})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(Dl,{className:"h-5 w-5"}),s.jsx("span",{className:"font-medium",children:Sl[Be.id]||0})]})]}),s.jsx("button",{onClick:bj,className:"text-muted-foreground hover:text-foreground transition-colors p-1 rounded","aria-label":"Denunciar foto",children:s.jsx(Vv,{className:"h-4 w-4"})})]})}),o&&s.jsx("div",{className:"mt-2 text-xs text-muted-foreground",children:Be!=null&&Be.created_at?th(Be.created_at):null}),s.jsx(Zc,{className:"my-4"}),s.jsx("h4",{id:"photo-comments",className:"font-medium mb-2",children:"Comentrios"}),s.jsxs("div",{className:"space-y-3 flex-1 overflow-y-auto pr-1 max-h-[50vh]",children:[ls.length===0?s.jsx("p",{className:"text-sm text-muted-foreground",children:"Seja o primeiro a comentar."}):ls.map(j=>{const M=Wg[j.user_id]||{},ge=(M.username||M.display_name||"Usurio").split(" ")[0];return s.jsxs("div",{className:"py-2 flex gap-2",children:[s.jsxs(Bt,{className:"h-6 w-6 mt-0.5",children:[s.jsx(qt,{src:M.avatar_url||void 0,alt:ge}),s.jsx(Vt,{children:(ge||"U").charAt(0).toUpperCase()})]}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"text-sm",children:[s.jsx("span",{children:ge}),s.jsxs("span",{className:"text-foreground/90",children:[" ",j.content.slice(0,120)]})]}),s.jsxs("div",{className:"mt-1 flex items-center gap-2 text-xs text-muted-foreground",children:[s.jsx("span",{children:th(j.created_at)}),j.user_id===(X==null?void 0:X.id)&&s.jsx("span",{children:" Voc"}),(X==null?void 0:X.id)&&X.id!==j.user_id&&s.jsx("button",{className:"inline-flex items-center justify-center h-6 w-6 rounded hover:bg-muted",onClick:()=>_A(j.id),"aria-label":"Denunciar comentrio",title:"Denunciar",children:s.jsx(Vv,{className:"h-3.5 w-3.5"})}),(j.user_id===(X==null?void 0:X.id)||ks)&&s.jsx("div",{className:"ml-auto",children:s.jsxs(Xi,{children:[s.jsx(Zi,{asChild:!0,children:s.jsx("button",{className:"inline-flex items-center justify-center h-6 w-6 rounded hover:bg-muted","aria-label":"Mais opes",children:s.jsx(Gi,{className:"h-4 w-4"})})}),s.jsxs(Ga,{align:"end",className:"w-28",children:[j.user_id===(X==null?void 0:X.id)&&s.jsx(dr,{onClick:()=>{Vg(j.id),No(j.content)},children:"Editar"}),s.jsx(um,{}),s.jsx(dr,{className:"text-destructive focus:text-destructive",onClick:()=>j.user_id===(X==null?void 0:X.id)?yj():wj(j.id),children:"Excluir"})]})]})})]}),j.reply_text?gA[j.id]?s.jsxs("div",{className:"mt-2 text-xs text-foreground bg-muted/40 rounded p-2",children:[s.jsx("div",{className:"font-medium mb-1",children:"Resposta do msico"}),s.jsx("div",{children:j.reply_text}),s.jsx("button",{className:"mt-1 text-xs underline underline-offset-2 text-muted-foreground",onClick:()=>dj(ve=>({...ve,[j.id]:!1})),children:"Ocultar resposta"})]}):s.jsx("button",{className:"mt-2 text-xs underline underline-offset-2 text-muted-foreground",onClick:()=>dj(ve=>({...ve,[j.id]:!0})),children:"Ver resposta"}):null,aj===j.id&&j.user_id===(X==null?void 0:X.id)?s.jsx("div",{className:"mt-2",children:s.jsx(Oe,{value:Hg,onChange:ve=>No(ve.target.value),onKeyDown:ve=>{ve.key==="Enter"&&!ve.shiftKey&&(ve.preventDefault(),xj())},className:"h-8 px-2 py-1 text-sm"})}):null]})]},j.id)}),ls.length<oj&&s.jsx("div",{className:"pt-1 flex justify-center",children:s.jsx(O,{variant:"outline",size:"sm",onClick:pj,disabled:Qf,children:Qf?"Carregando...":"Mais"})})]}),!o&&s.jsx("div",{className:"pt-2 bg-background",children:X?cj?null:s.jsx("div",{className:"flex items-center gap-2",children:s.jsx(Oe,{value:Zf,onChange:j=>kd(j.target.value),onKeyDown:j=>{j.key==="Enter"&&!j.shiftKey&&(j.preventDefault(),Xg())},placeholder:"Adicione um comentrio...",className:"h-8 px-2 py-1 text-sm placeholder:text-muted-foreground/40"})}):s.jsx("p",{className:"text-xs text-muted-foreground",children:"Entre para comentar."})})]})]})]})}),o&&s.jsx(Ka,{open:hA,onOpenChange:sj,children:s.jsxs(ma,{side:"bottom",className:"h-[70vh] p-3 flex flex-col",children:[s.jsx("div",{className:"mb-2",children:s.jsx("h4",{className:"font-medium",children:"Comentrios"})}),s.jsxs("div",{className:"flex-1 overflow-y-auto pr-1 space-y-3",onScroll:j=>{const M=j.currentTarget;M.scrollTop+M.clientHeight>=M.scrollHeight-16&&!Qf&&pj()},children:[ls.length===0?s.jsx("p",{className:"text-sm text-muted-foreground",children:"Seja o primeiro a comentar."}):ls.map(j=>{const M=Wg[j.user_id]||{},ge=(M.username||M.display_name||"Usurio").split(" ")[0];return s.jsxs("div",{className:"py-2 flex gap-2",children:[s.jsxs(Bt,{className:"h-6 w-6 mt-0.5",children:[s.jsx(qt,{src:M.avatar_url||void 0,alt:ge}),s.jsx(Vt,{children:(ge||"U").charAt(0).toUpperCase()})]}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"text-sm",children:[s.jsx("span",{children:ge}),s.jsxs("span",{className:"text-foreground/90",children:[" ",j.content.slice(0,120)]})]}),s.jsxs("div",{className:"mt-1 flex items-center gap-2 text-xs text-muted-foreground",children:[s.jsx("span",{children:th(j.created_at)}),(j.user_id===(X==null?void 0:X.id)||ks)&&s.jsx("div",{className:"ml-auto",children:s.jsxs(Xi,{children:[s.jsx(Zi,{asChild:!0,children:s.jsx("button",{className:"inline-flex items-center justify-center h-6 w-6 rounded hover:bg-muted","aria-label":"Mais opes",children:s.jsx(Gi,{className:"h-4 w-4"})})}),s.jsxs(Ga,{align:"end",className:"w-28",children:[j.user_id===(X==null?void 0:X.id)&&s.jsx(dr,{onClick:()=>{Vg(j.id),No(j.content)},children:"Editar"}),s.jsx(um,{}),s.jsx(dr,{className:"text-destructive focus:text-destructive",onClick:()=>j.user_id===(X==null?void 0:X.id)?yj():wj(j.id),children:"Excluir"})]})]})})]}),j.reply_text?s.jsxs("div",{className:"mt-2 text-xs text-foreground bg-muted/40 rounded p-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"font-medium",children:"Resposta do msico"}),ks&&s.jsx("div",{className:"ml-auto",children:s.jsxs(Xi,{children:[s.jsx(Zi,{asChild:!0,children:s.jsx("button",{className:"inline-flex items-center justify-center h-6 w-6 rounded hover:bg-muted","aria-label":"Opes da resposta",children:s.jsx(Gi,{className:"h-4 w-4"})})}),s.jsxs(Ga,{align:"end",className:"w-36",children:[s.jsx(dr,{onClick:()=>{Jf(ve=>({...ve,[j.id]:j.reply_text||""})),Cd(j.id)},children:"Editar"}),s.jsx(um,{}),s.jsx(dr,{className:"text-destructive focus:text-destructive",onClick:()=>jA(j.id),children:"Excluir"})]})]})})]}),mA===j.id?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Oe,{autoFocus:!0,value:Kg[j.id]||j.reply_text||"",onChange:ve=>Jf(Ne=>({...Ne,[j.id]:ve.target.value})),onBlur:()=>Cd(null),onKeyDown:ve=>{ve.key==="Enter"&&!ve.shiftKey&&(ve.preventDefault(),Zg(j.id),Cd(null))},className:"h-8 px-2 py-1 text-xs"}),s.jsx(O,{className:"m-0 p-1",size:"sm",onClick:()=>{Zg(j.id),Cd(null)},children:"Enviar"})]}):s.jsx("div",{children:j.reply_text})]}):ks?s.jsxs("div",{className:"mt-2",children:[s.jsx("label",{className:"block text-xs mb-1",children:"Responder"}),s.jsx(Oe,{value:Kg[j.id]||"",onChange:ve=>Jf(Ne=>({...Ne,[j.id]:ve.target.value})),onKeyDown:ve=>{ve.key==="Enter"&&!ve.shiftKey&&(ve.preventDefault(),Zg(j.id))},placeholder:"Responder...",className:"h-9 px-3 placeholder:text-muted-foreground/40"})]}):null,aj===j.id&&j.user_id===(X==null?void 0:X.id)?s.jsx("div",{className:"mt-2",children:s.jsx(Oe,{value:Hg,onChange:ve=>No(ve.target.value),onKeyDown:ve=>{ve.key==="Enter"&&!ve.shiftKey&&(ve.preventDefault(),xj())},className:"h-8 px-2 py-1 text-sm placeholder:text-muted-foreground/40"})}):null]})]},j.id)}),Qf&&s.jsx("div",{className:"pt-1 pb-2 text-center text-xs text-muted-foreground",children:"Carregando..."})]}),s.jsx("div",{className:"mt-2 pt-2 m-0 p-1 border-t",children:X?cj?null:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Oe,{value:Zf,onChange:j=>kd(j.target.value),onKeyDown:j=>{j.key==="Enter"&&!j.shiftKey&&(j.preventDefault(),Xg())},placeholder:"Adicione um comentrio...",className:"h-10 px-3 placeholder:text-muted-foreground/40"}),s.jsx(O,{className:"m-0 p-1",size:"sm",onClick:Xg,disabled:Zf.trim().length===0,"aria-label":"Enviar comentrio",children:"Comentar"})]}):s.jsx("p",{className:"text-xs text-muted-foreground",children:"Entre para comentar."})})]})}),s.jsx(Jr,{open:vA,onOpenChange:Ed,children:s.jsxs(Kr,{className:"max-w-md",children:[s.jsx(Gr,{children:s.jsx(Yr,{children:"Denunciar"})}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Descreva brevemente o motivo da denncia. Nossa equipe avaliar o contedo."}),s.jsx(Oe,{value:uj,onChange:j=>eh(j.target.value),placeholder:"Motivo da denncia",className:"placeholder:text-muted-foreground/40"}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(O,{variant:"outline",onClick:()=>Ed(!1),children:"Cancelar"}),s.jsx(O,{onClick:NA,children:"Enviar"})]})]})]})}),s.jsx(Jr,{open:uA,onOpenChange:Zb,children:s.jsxs(Kr,{className:"max-w-md",children:[s.jsx(Gr,{children:s.jsx(Yr,{children:"Curtiram"})}),fA?s.jsx("p",{className:"text-sm text-muted-foreground",children:"Carregando..."}):ej.length===0?s.jsx("p",{className:"text-sm text-muted-foreground",children:"Ningum curtiu ainda."}):s.jsx("div",{className:"max-h-[60vh] overflow-y-auto divide-y",children:ej.map(j=>s.jsxs("div",{className:"flex items-center justify-between gap-3 py-2",children:[s.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[s.jsxs(Bt,{className:"h-8 w-8",children:[s.jsx(qt,{src:j.avatar_url||void 0,alt:j.display_name||"Usurio"}),s.jsx(Vt,{children:(j.display_name||"U").charAt(0).toUpperCase()})]}),s.jsx("span",{className:"text-sm truncate",children:j.display_name||"Usurio"})]}),j.id!==(X==null?void 0:X.id)&&s.jsx(O,{size:"sm",variant:Bg[j.id]?"secondary":"outline",onClick:()=>bA(j.id),children:Bg[j.id]?"Seguindo":"Seguir"})]},j.id))})]})})]})]})]})})},Eo=()=>{const{username:e,section:t}=Jw(),r=Ys(),{data:n,isLoading:a}=Ze({queryKey:["profile-by-username",e],enabled:!!e,queryFn:async()=>{const{data:c,error:d}=await $.from("profiles").select("id, is_active").eq("username",(e||"").toLowerCase()).eq("is_active",!0).maybeSingle();if(d)throw d;if(!c)return null;const{data:u,error:h}=await $.from("user_roles").select("role").eq("user_id",c.id).in("role",["public","musician"]);if(h)throw h;if(u&&u.length>0)return c;const{data:m,error:p}=await $.from("songs").select("id").eq("owner_id",c.id).limit(1);if(p)throw p;return m&&m.length>0?c:null}});if(f.useEffect(()=>{document.title=e?`${e}  Perfil`:document.title},[e]),a)return null;if(!(n!=null&&n.id))return s.jsx(Yy,{to:"/na",replace:!0});const i=c=>{const d=String(c||"").toLowerCase();return["pedir-musica","musicas","musicas"].includes(d)?"music":["agenda"].includes(d)?"schedule":["fotos","galeria"].includes(d)?"photos":["contratar","contrato"].includes(d)?"contract":["contribuir","contribuicao"].includes(d)?"contribute":"music"},o=(()=>{try{return(r.pathname||"").split("/").filter(Boolean)[1]}catch{return}})(),l=t||o;return s.jsx(nM,{mid:n.id,initialView:i(l)})};function rH(){return s.jsxs("main",{className:"container mx-auto px-4 py-12",children:[s.jsx(Xt,{title:"Perfil indisponvel",description:"Este usurio no est disponvel no momento."}),s.jsx("div",{className:"max-w-xl mx-auto",children:s.jsx(tt,{className:"border-0 shadow-none",children:s.jsxs(rt,{className:"p-6 text-center space-y-4",children:[s.jsx("h1",{className:"text-2xl font-semibold",children:"Usurio indisponvel"}),s.jsx("p",{className:"text-muted-foreground",children:"No momento, este usurio no est disponvel. Ele pode estar concluindo o cadastro ou ter desativado o perfil."}),s.jsx(O,{asChild:!0,children:s.jsx(Yt,{to:"/",children:"Voltar para a pgina inicial"})})]})})})]})}function nH(){return f.useEffect(()=>{$.auth.signOut().catch(()=>{})},[]),s.jsxs("main",{className:"container mx-auto px-4 py-12",children:[s.jsx(Xt,{title:"Conta bloqueada",description:"Este usurio est com a conta bloqueada."}),s.jsx("div",{className:"max-w-xl mx-auto",children:s.jsx(tt,{className:"border-0 shadow-none",children:s.jsxs(rt,{className:"p-6 text-center space-y-4",children:[s.jsx("h1",{className:"text-2xl font-semibold",children:"Conta bloqueada"}),s.jsx("p",{className:"text-muted-foreground",children:"Sua conta foi bloqueada. Se acredita tratar-se de um engano, entre em contato com o suporte."}),s.jsx("div",{className:"flex justify-center gap-2",children:s.jsx(O,{asChild:!0,children:s.jsx(Yt,{to:"/",children:"Ir para a pgina inicial"})})})]})})})]})}function m0(e,[t,r]){return Math.min(r,Math.max(t,e))}function sH(e,t){return f.useReducer((r,n)=>t[r][n]??r,e)}var Db="ScrollArea",[sM,aQ]=Cn(Db),[aH,js]=sM(Db),aM=f.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:a,scrollHideDelay:i=600,...o}=e,[l,c]=f.useState(null),[d,u]=f.useState(null),[h,m]=f.useState(null),[p,w]=f.useState(null),[v,g]=f.useState(null),[y,x]=f.useState(0),[b,_]=f.useState(0),[N,P]=f.useState(!1),[S,T]=f.useState(!1),U=ct(t,re=>c(re)),q=zf(a);return s.jsx(aH,{scope:r,type:n,dir:q,scrollHideDelay:i,scrollArea:l,viewport:d,onViewportChange:u,content:h,onContentChange:m,scrollbarX:p,onScrollbarXChange:w,scrollbarXEnabled:N,onScrollbarXEnabledChange:P,scrollbarY:v,onScrollbarYChange:g,scrollbarYEnabled:S,onScrollbarYEnabledChange:T,onCornerWidthChange:x,onCornerHeightChange:_,children:s.jsx(Ie.div,{dir:q,...o,ref:U,style:{position:"relative","--radix-scroll-area-corner-width":y+"px","--radix-scroll-area-corner-height":b+"px",...e.style}})})});aM.displayName=Db;var iM="ScrollAreaViewport",oM=f.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:a,...i}=e,o=js(iM,r),l=f.useRef(null),c=ct(t,l,o.onViewportChange);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),s.jsx(Ie.div,{"data-radix-scroll-area-viewport":"",...i,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:s.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});oM.displayName=iM;var ja="ScrollAreaScrollbar",Ib=f.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=js(ja,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=a,l=e.orientation==="horizontal";return f.useEffect(()=>(l?i(!0):o(!0),()=>{l?i(!1):o(!1)}),[l,i,o]),a.type==="hover"?s.jsx(iH,{...n,ref:t,forceMount:r}):a.type==="scroll"?s.jsx(oH,{...n,ref:t,forceMount:r}):a.type==="auto"?s.jsx(lM,{...n,ref:t,forceMount:r}):a.type==="always"?s.jsx(Fb,{...n,ref:t}):null});Ib.displayName=ja;var iH=f.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=js(ja,e.__scopeScrollArea),[i,o]=f.useState(!1);return f.useEffect(()=>{const l=a.scrollArea;let c=0;if(l){const d=()=>{window.clearTimeout(c),o(!0)},u=()=>{c=window.setTimeout(()=>o(!1),a.scrollHideDelay)};return l.addEventListener("pointerenter",d),l.addEventListener("pointerleave",u),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",d),l.removeEventListener("pointerleave",u)}}},[a.scrollArea,a.scrollHideDelay]),s.jsx(rn,{present:r||i,children:s.jsx(lM,{"data-state":i?"visible":"hidden",...n,ref:t})})}),oH=f.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=js(ja,e.__scopeScrollArea),i=e.orientation==="horizontal",o=Pg(()=>c("SCROLL_END"),100),[l,c]=sH("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return f.useEffect(()=>{if(l==="idle"){const d=window.setTimeout(()=>c("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(d)}},[l,a.scrollHideDelay,c]),f.useEffect(()=>{const d=a.viewport,u=i?"scrollLeft":"scrollTop";if(d){let h=d[u];const m=()=>{const p=d[u];h!==p&&(c("SCROLL"),o()),h=p};return d.addEventListener("scroll",m),()=>d.removeEventListener("scroll",m)}},[a.viewport,i,c,o]),s.jsx(rn,{present:r||l!=="hidden",children:s.jsx(Fb,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:Ce(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:Ce(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),lM=f.forwardRef((e,t)=>{const r=js(ja,e.__scopeScrollArea),{forceMount:n,...a}=e,[i,o]=f.useState(!1),l=e.orientation==="horizontal",c=Pg(()=>{if(r.viewport){const d=r.viewport.offsetWidth<r.viewport.scrollWidth,u=r.viewport.offsetHeight<r.viewport.scrollHeight;o(l?d:u)}},10);return td(r.viewport,c),td(r.content,c),s.jsx(rn,{present:n||i,children:s.jsx(Fb,{"data-state":i?"visible":"hidden",...a,ref:t})})}),Fb=f.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,a=js(ja,e.__scopeScrollArea),i=f.useRef(null),o=f.useRef(0),[l,c]=f.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=hM(l.viewport,l.content),u={...n,sizes:l,onSizesChange:c,hasThumb:d>0&&d<1,onThumbChange:m=>i.current=m,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:m=>o.current=m};function h(m,p){return hH(m,o.current,l,p)}return r==="horizontal"?s.jsx(lH,{...u,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const m=a.viewport.scrollLeft,p=BN(m,l,a.dir);i.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:m=>{a.viewport&&(a.viewport.scrollLeft=m)},onDragScroll:m=>{a.viewport&&(a.viewport.scrollLeft=h(m,a.dir))}}):r==="vertical"?s.jsx(cH,{...u,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const m=a.viewport.scrollTop,p=BN(m,l);i.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:m=>{a.viewport&&(a.viewport.scrollTop=m)},onDragScroll:m=>{a.viewport&&(a.viewport.scrollTop=h(m))}}):null}),lH=f.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,i=js(ja,e.__scopeScrollArea),[o,l]=f.useState(),c=f.useRef(null),d=ct(t,c,i.onScrollbarXChange);return f.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(dM,{"data-orientation":"horizontal",...a,ref:d,sizes:r,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Eg(r)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.x),onDragScroll:u=>e.onDragScroll(u.x),onWheelScroll:(u,h)=>{if(i.viewport){const m=i.viewport.scrollLeft+u.deltaX;e.onWheelScroll(m),pM(m,h)&&u.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&n({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:ip(o.paddingLeft),paddingEnd:ip(o.paddingRight)}})}})}),cH=f.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,i=js(ja,e.__scopeScrollArea),[o,l]=f.useState(),c=f.useRef(null),d=ct(t,c,i.onScrollbarYChange);return f.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(dM,{"data-orientation":"vertical",...a,ref:d,sizes:r,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Eg(r)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.y),onDragScroll:u=>e.onDragScroll(u.y),onWheelScroll:(u,h)=>{if(i.viewport){const m=i.viewport.scrollTop+u.deltaY;e.onWheelScroll(m),pM(m,h)&&u.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&n({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:ip(o.paddingTop),paddingEnd:ip(o.paddingBottom)}})}})}),[dH,cM]=sM(ja),dM=f.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:a,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:d,onWheelScroll:u,onResize:h,...m}=e,p=js(ja,r),[w,v]=f.useState(null),g=ct(t,U=>v(U)),y=f.useRef(null),x=f.useRef(""),b=p.viewport,_=n.content-n.viewport,N=yr(u),P=yr(c),S=Pg(h,10);function T(U){if(y.current){const q=U.clientX-y.current.left,re=U.clientY-y.current.top;d({x:q,y:re})}}return f.useEffect(()=>{const U=q=>{const re=q.target;(w==null?void 0:w.contains(re))&&N(q,_)};return document.addEventListener("wheel",U,{passive:!1}),()=>document.removeEventListener("wheel",U,{passive:!1})},[b,w,_,N]),f.useEffect(P,[n,P]),td(w,S),td(p.content,S),s.jsx(dH,{scope:r,scrollbar:w,hasThumb:a,onThumbChange:yr(i),onThumbPointerUp:yr(o),onThumbPositionChange:P,onThumbPointerDown:yr(l),children:s.jsx(Ie.div,{...m,ref:g,style:{position:"absolute",...m.style},onPointerDown:Ce(e.onPointerDown,U=>{U.button===0&&(U.target.setPointerCapture(U.pointerId),y.current=w.getBoundingClientRect(),x.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),T(U))}),onPointerMove:Ce(e.onPointerMove,T),onPointerUp:Ce(e.onPointerUp,U=>{const q=U.target;q.hasPointerCapture(U.pointerId)&&q.releasePointerCapture(U.pointerId),document.body.style.webkitUserSelect=x.current,p.viewport&&(p.viewport.style.scrollBehavior=""),y.current=null})})})}),ap="ScrollAreaThumb",uM=f.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=cM(ap,e.__scopeScrollArea);return s.jsx(rn,{present:r||a.hasThumb,children:s.jsx(uH,{ref:t,...n})})}),uH=f.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...a}=e,i=js(ap,r),o=cM(ap,r),{onThumbPositionChange:l}=o,c=ct(t,h=>o.onThumbChange(h)),d=f.useRef(void 0),u=Pg(()=>{d.current&&(d.current(),d.current=void 0)},100);return f.useEffect(()=>{const h=i.viewport;if(h){const m=()=>{if(u(),!d.current){const p=mH(h,l);d.current=p,l()}};return l(),h.addEventListener("scroll",m),()=>h.removeEventListener("scroll",m)}},[i.viewport,u,l]),s.jsx(Ie.div,{"data-state":o.hasThumb?"visible":"hidden",...a,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:Ce(e.onPointerDownCapture,h=>{const p=h.target.getBoundingClientRect(),w=h.clientX-p.left,v=h.clientY-p.top;o.onThumbPointerDown({x:w,y:v})}),onPointerUp:Ce(e.onPointerUp,o.onThumbPointerUp)})});uM.displayName=ap;var Lb="ScrollAreaCorner",fM=f.forwardRef((e,t)=>{const r=js(Lb,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?s.jsx(fH,{...e,ref:t}):null});fM.displayName=Lb;var fH=f.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,a=js(Lb,r),[i,o]=f.useState(0),[l,c]=f.useState(0),d=!!(i&&l);return td(a.scrollbarX,()=>{var h;const u=((h=a.scrollbarX)==null?void 0:h.offsetHeight)||0;a.onCornerHeightChange(u),c(u)}),td(a.scrollbarY,()=>{var h;const u=((h=a.scrollbarY)==null?void 0:h.offsetWidth)||0;a.onCornerWidthChange(u),o(u)}),d?s.jsx(Ie.div,{...n,ref:t,style:{width:i,height:l,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function ip(e){return e?parseInt(e,10):0}function hM(e,t){const r=e/t;return isNaN(r)?0:r}function Eg(e){const t=hM(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function hH(e,t,r,n="ltr"){const a=Eg(r),i=a/2,o=t||i,l=a-o,c=r.scrollbar.paddingStart+o,d=r.scrollbar.size-r.scrollbar.paddingEnd-l,u=r.content-r.viewport,h=n==="ltr"?[0,u]:[u*-1,0];return mM([c,d],h)(e)}function BN(e,t,r="ltr"){const n=Eg(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-a,o=t.content-t.viewport,l=i-n,c=r==="ltr"?[0,o]:[o*-1,0],d=m0(e,c);return mM([0,o],[0,l])(d)}function mM(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function pM(e,t){return e>0&&e<t}var mH=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function a(){const i={left:e.scrollLeft,top:e.scrollTop},o=r.left!==i.left,l=r.top!==i.top;(o||l)&&t(),r=i,n=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(n)};function Pg(e,t){const r=yr(e),n=f.useRef(0);return f.useEffect(()=>()=>window.clearTimeout(n.current),[]),f.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function td(e,t){const r=yr(t);Cr(()=>{let n=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return a.observe(e),()=>{window.cancelAnimationFrame(n),a.unobserve(e)}}},[e,r])}var gM=aM,pH=oM,gH=fM;const vM=f.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(gM,{ref:n,className:le("relative overflow-hidden",e),...r,children:[s.jsx(pH,{className:"h-full w-full rounded-[inherit]",children:t}),s.jsx(xM,{}),s.jsx(gH,{})]}));vM.displayName=gM.displayName;const xM=f.forwardRef(({className:e,orientation:t="vertical",...r},n)=>s.jsx(Ib,{ref:n,orientation:t,className:le("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:s.jsx(uM,{className:"relative flex-1 rounded-full bg-border"})}));xM.displayName=Ib.displayName;function vH(){const[e,t]=f.useState(!1),[r,n]=f.useState(""),[a,i]=f.useState([{id:"hello",role:"assistant",content:"Ol! Sou seu assistente. Como posso ajudar?"}]),o=f.useRef(null),{user:l}=ar(),c=Ys(),{data:d}=Ze({queryKey:["roles",l==null?void 0:l.id],enabled:!!(l!=null&&l.id),queryFn:async()=>{const{data:p,error:w}=await $.from("user_roles").select("role").eq("user_id",l.id);if(w)throw w;return p}}),u=(d||[]).some(p=>p.role==="musician"),h=c.pathname.startsWith("/musician");f.useEffect(()=>{var p;(p=o.current)==null||p.scrollIntoView({behavior:"smooth"})},[a.length,e]);const m=()=>{const p=r.trim();p&&(i(w=>[...w,{id:crypto.randomUUID(),role:"user",content:p},{id:crypto.randomUUID(),role:"assistant",content:"Obrigado! Em breve responderei com mais recursos."}]),n(""))};return!l||!u||!h?null:s.jsxs("div",{className:"fixed bottom-8 right-4 z-50",children:[!e&&s.jsx(O,{"aria-label":"Abrir assistente",className:"h-12 w-12 rounded-full shadow-lg",onClick:()=>t(!0),children:s.jsx(L3,{className:"h-5 w-5"})}),e&&s.jsxs(tt,{className:"w-[320px] sm:w-[360px] h-[440px] shadow-2xl flex flex-col",children:[s.jsxs(Qt,{className:"py-3 px-4 border-b flex flex-row items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(E3,{className:"h-5 w-5 text-emerald-600 dark:text-emerald-400"}),s.jsx(cr,{className:"text-base text-emerald-600 dark:text-emerald-400",children:"Assistente AVAPlay"})]}),s.jsx(O,{variant:"ghost",size:"icon","aria-label":"Fechar",onClick:()=>t(!1),children:s.jsx(Pr,{className:"h-4 w-4"})})]}),s.jsxs(rt,{className:"p-0 flex-1 min-h-0 flex flex-col",children:[s.jsx(vM,{className:"flex-1 min-h-0 p-3",children:s.jsxs("div",{className:"space-y-3",children:[a.map(p=>s.jsx("div",{className:p.role==="user"?"text-right":"text-left",children:s.jsx("span",{className:"inline-block px-3 py-2 rounded-md text-sm "+(p.role==="user"?"bg-primary text-primary-foreground":"bg-muted text-foreground"),children:p.content})},p.id)),s.jsx("div",{ref:o})]})}),s.jsxs("div",{className:"p-3 border-t flex items-center gap-2",children:[s.jsx(Oe,{placeholder:"Digite sua mensagem...",value:r,onChange:p=>n(p.target.value),onKeyDown:p=>{p.key==="Enter"&&m()}}),s.jsx(O,{type:"button",onClick:m,"aria-label":"Enviar",children:s.jsx(U3,{className:"h-4 w-4"})})]})]})]})]})}function xH(){var w,v,g;const{mid:e}=Jw(),t=Rr(),{user:r}=ar(),[n,a]=f.useState(!1),i=((w=r==null?void 0:r.user_metadata)==null?void 0:w.full_name)||(r==null?void 0:r.email)||"Usurio",o=((v=r==null?void 0:r.user_metadata)==null?void 0:v.avatar_url)||void 0,l=async()=>{await $.auth.signOut(),t("/")},{data:c}=$T(e);f.useEffect(()=>{zT(e).catch(()=>{})},[e]);const d=c!=null&&c.display_name?`Agenda de ${c.display_name}`:"Agenda do msico";if(e&&!c)return s.jsx(si,{children:s.jsx("div",{className:"min-h-screen flex w-full bg-background",children:s.jsxs("main",{className:"flex-1",children:[s.jsx(Xt,{title:"Perfil indisponvel",description:"Este usurio no est disponvel no momento."}),s.jsx("section",{className:"max-w-5xl mx-auto px-4 py-12",children:s.jsx(tt,{className:"border-0 shadow-none",children:s.jsxs(rt,{className:"p-6 text-center space-y-4",children:[s.jsx("h1",{className:"text-2xl font-semibold",children:"Usurio indisponvel"}),s.jsx("p",{className:"text-muted-foreground",children:"No momento, este usurio no est disponvel. Ele pode estar concluindo o cadastro ou ter desativado o perfil."}),s.jsx(O,{asChild:!0,children:s.jsx(Yt,{to:"/",children:"Voltar para a pgina inicial"})})]})})})]})})});const{data:u}=Ze({queryKey:["roles",r==null?void 0:r.id],enabled:!!(r!=null&&r.id),queryFn:async()=>{const{data:y,error:x}=await $.from("user_roles").select("role").eq("user_id",r.id);if(x)throw x;return y}}),h=(u||[]).some(y=>y.role==="musician"),{data:m,isLoading:p}=Ze({queryKey:["public-schedules",e],enabled:!!e,queryFn:async()=>{const{data:y}=await $.from("profiles").select("id").eq("id",e).eq("is_active",!0).maybeSingle();if(!y)return[];const{data:x,error:b}=await $.from("schedules").select("id, title, location, start_time").eq("musician_id",e).eq("is_public",!0).order("start_time",{ascending:!0});if(b)throw b;return x}});return s.jsx(si,{children:s.jsxs("div",{className:"min-h-screen flex w-full bg-background",children:[h?s.jsx(Af,{}):null,s.jsxs("main",{className:"flex-1",children:[s.jsx(Xt,{title:d,description:"Acompanhe a agenda pblica do msico."}),s.jsx("header",{children:s.jsx("nav",{className:"max-w-5xl mx-auto flex items-center justify-between p-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[(h||!!r)&&s.jsx(bd,{className:"mr-1"}),s.jsx(Yt,{to:"/",className:"font-semibold",children:s.jsx("img",{src:"/logo_avaplay.png",alt:"AVAPlay",className:"h-6"})})]})})}),r&&s.jsx(Ka,{open:n,onOpenChange:a,children:s.jsx(ma,{side:"left",className:"w-[16rem] p-0",children:s.jsxs("nav",{className:"p-2",children:[s.jsxs("div",{className:"flex items-center gap-3 p-3 border-b mb-2",children:[s.jsxs(Bt,{className:"h-10 w-10",isPro:!!((g=r==null?void 0:r.user_metadata)!=null&&g.is_pro),children:[s.jsx(qt,{src:o,alt:i??"Usurio"}),s.jsx(Vt,{children:(i||"U").charAt(0).toUpperCase()})]}),s.jsx("div",{className:"min-w-0",children:s.jsx("p",{className:"text-sm font-medium truncate",children:i})})]}),h&&s.jsx(O,{variant:"ghost",className:"w-full justify-start",onClick:()=>{a(!1),t("/musician")},children:"Painel"}),s.jsx(O,{variant:"ghost",className:"w-full justify-start",onClick:()=>{a(!1),t("/requests")},children:"Meus Pedidos"}),s.jsx(O,{variant:"ghost",className:"w-full justify-start",onClick:()=>{a(!1),t("/conexoes")},children:"Conexes"}),s.jsx(O,{variant:"ghost",className:"w-full justify-start",onClick:()=>{a(!1),t("/musician/profile")},children:"Editar perfil"}),s.jsx(O,{variant:"ghost",className:"w-full justify-start",onClick:()=>{a(!1),l()},children:"Sair"}),s.jsx(tM,{})]})})}),s.jsxs("section",{className:"max-w-5xl mx-auto px-4 py-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h1",{className:"text-2xl font-semibold",children:d}),s.jsxs("div",{className:"flex gap-2",children:[e&&s.jsx(O,{variant:"outline",asChild:!0,children:s.jsx(Yt,{to:`/m/${e}`,children:"Pgina do msico"})}),s.jsx(O,{variant:"secondary",onClick:()=>t("/"),children:"Incio"})]})]}),s.jsxs(tt,{children:[s.jsx(Qt,{children:s.jsx(cr,{children:"Prximos eventos"})}),s.jsx(rt,{children:p?s.jsx("p",{className:"text-muted-foreground",children:"Carregando agenda..."}):m!=null&&m.length?s.jsx("ul",{className:"space-y-3",children:m.map(y=>s.jsxs("li",{className:"flex items-center justify-between border rounded-md p-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:new Date(y.start_time).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"})}),s.jsx("p",{className:"text-sm text-muted-foreground",children:y.location||"Local a definir"})]}),s.jsx("span",{className:"text-sm",children:y.title||"Evento"})]},y.id))}):s.jsx("p",{className:"text-muted-foreground",children:"Nenhum evento pblico cadastrado."})})]})]})]})]})})}const yH=()=>{const e=Ys();return f.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),s.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),s.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})};function wH({userId:e,isMusician:t,profileData:r,exists:n}){const a=is(),i=f.useMemo(()=>{if(!t)return!0;const o=r.whatsapp.replace(/\D/g,"");return!!((r.displayName||"").trim()&&(r.avatarUrl||"").trim()&&(r.coverUrl||"").trim()&&(r.description||"").trim()&&(r.username||"").trim()&&o)},[t,r]);return f.useEffect(()=>{i&&(async()=>{if(!(!e||!t||!n||!i))try{const{data:l,error:c}=await $.from("profiles").select("is_active").eq("id",e).maybeSingle();if(c)throw c;if(l!=null&&l.is_active)return;const{error:d}=await $.from("profiles").update({is_active:!0}).eq("id",e);if(d)throw d;a.invalidateQueries({queryKey:["profiles",e]}),a.invalidateQueries({queryKey:["profile-status",e]}),oe({title:"Conta ativada!",description:"Seu perfil agora est ativo e ser exibido publicamente."})}catch(l){console.error("Erro ao ativar perfil:",l)}})()},[e,t,n,i,a]),{isActiveComputed:i,checkAndActivate:async()=>{if(!e||!t||!n)return!1;try{const{error:o}=await $.from("profiles").update({is_active:i}).eq("id",e);if(o)throw o;return a.invalidateQueries({queryKey:["profiles",e]}),a.invalidateQueries({queryKey:["profile-status",e]}),!0}catch(o){return console.error("Erro ao verificar/ativar perfil:",o),!1}}}}const bH=e=>{const[t,r]=f.useState(!1),[n,a]=f.useState(null),{toast:i}=Gs();return{uploadFile:async(l,c,d="")=>{var u;if(!e)throw new Error("Usurio no autenticado");r(!0),a(null);try{if(!["image/jpeg","image/png","image/webp","application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document"].includes(l.type))throw new Error("Tipo de arquivo no suportado. Use JPEG, PNG, WebP, PDF, DOC ou DOCX.");const m=5*1024*1024;if(l.size>m)throw new Error("Arquivo muito grande. Mximo de 5MB permitido.");const p=(u=l.name.split(".").pop())==null?void 0:u.toLowerCase(),w=Date.now(),v=Math.random().toString(36).substring(2,15),g=d?`${d}/`:"",y=`${e}/${g}${w}_${v}.${p}`,{data:x,error:b}=await $.storage.from(c).upload(y,l,{cacheControl:"3600",upsert:!1});if(b)throw b;const{data:_}=$.storage.from(c).getPublicUrl(x.path);return i({title:"Arquivo enviado com sucesso!",description:`${l.name} foi carregado.`}),_.publicUrl}catch(h){const m=h.message||"Erro desconhecido no upload";throw a(m),i({title:"Erro no upload",description:m,variant:"destructive"}),h}finally{r(!1)}},uploading:t,error:n}};var jH=Object.defineProperty,op=Object.getOwnPropertySymbols,yM=Object.prototype.hasOwnProperty,wM=Object.prototype.propertyIsEnumerable,qN=(e,t,r)=>t in e?jH(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,_H=(e,t)=>{for(var r in t||(t={}))yM.call(t,r)&&qN(e,r,t[r]);if(op)for(var r of op(t))wM.call(t,r)&&qN(e,r,t[r]);return e},NH=(e,t)=>{var r={};for(var n in e)yM.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&op)for(var n of op(e))t.indexOf(n)<0&&wM.call(e,n)&&(r[n]=e[n]);return r};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var ll;(e=>{const t=class{constructor(c,d,u,h){if(this.version=c,this.errorCorrectionLevel=d,this.modules=[],this.isFunction=[],c<t.MIN_VERSION||c>t.MAX_VERSION)throw new RangeError("Version value out of range");if(h<-1||h>7)throw new RangeError("Mask value out of range");this.size=c*4+17;let m=[];for(let w=0;w<this.size;w++)m.push(!1);for(let w=0;w<this.size;w++)this.modules.push(m.slice()),this.isFunction.push(m.slice());this.drawFunctionPatterns();const p=this.addEccAndInterleave(u);if(this.drawCodewords(p),h==-1){let w=1e9;for(let v=0;v<8;v++){this.applyMask(v),this.drawFormatBits(v);const g=this.getPenaltyScore();g<w&&(h=v,w=g),this.applyMask(v)}}i(0<=h&&h<=7),this.mask=h,this.applyMask(h),this.drawFormatBits(h),this.isFunction=[]}static encodeText(c,d){const u=e.QrSegment.makeSegments(c);return t.encodeSegments(u,d)}static encodeBinary(c,d){const u=e.QrSegment.makeBytes(c);return t.encodeSegments([u],d)}static encodeSegments(c,d,u=1,h=40,m=-1,p=!0){if(!(t.MIN_VERSION<=u&&u<=h&&h<=t.MAX_VERSION)||m<-1||m>7)throw new RangeError("Invalid value");let w,v;for(w=u;;w++){const b=t.getNumDataCodewords(w,d)*8,_=l.getTotalBits(c,w);if(_<=b){v=_;break}if(w>=h)throw new RangeError("Data too long")}for(const b of[t.Ecc.MEDIUM,t.Ecc.QUARTILE,t.Ecc.HIGH])p&&v<=t.getNumDataCodewords(w,b)*8&&(d=b);let g=[];for(const b of c){n(b.mode.modeBits,4,g),n(b.numChars,b.mode.numCharCountBits(w),g);for(const _ of b.getData())g.push(_)}i(g.length==v);const y=t.getNumDataCodewords(w,d)*8;i(g.length<=y),n(0,Math.min(4,y-g.length),g),n(0,(8-g.length%8)%8,g),i(g.length%8==0);for(let b=236;g.length<y;b^=253)n(b,8,g);let x=[];for(;x.length*8<g.length;)x.push(0);return g.forEach((b,_)=>x[_>>>3]|=b<<7-(_&7)),new t(w,d,x,m)}getModule(c,d){return 0<=c&&c<this.size&&0<=d&&d<this.size&&this.modules[d][c]}getModules(){return this.modules}drawFunctionPatterns(){for(let u=0;u<this.size;u++)this.setFunctionModule(6,u,u%2==0),this.setFunctionModule(u,6,u%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const c=this.getAlignmentPatternPositions(),d=c.length;for(let u=0;u<d;u++)for(let h=0;h<d;h++)u==0&&h==0||u==0&&h==d-1||u==d-1&&h==0||this.drawAlignmentPattern(c[u],c[h]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(c){const d=this.errorCorrectionLevel.formatBits<<3|c;let u=d;for(let m=0;m<10;m++)u=u<<1^(u>>>9)*1335;const h=(d<<10|u)^21522;i(h>>>15==0);for(let m=0;m<=5;m++)this.setFunctionModule(8,m,a(h,m));this.setFunctionModule(8,7,a(h,6)),this.setFunctionModule(8,8,a(h,7)),this.setFunctionModule(7,8,a(h,8));for(let m=9;m<15;m++)this.setFunctionModule(14-m,8,a(h,m));for(let m=0;m<8;m++)this.setFunctionModule(this.size-1-m,8,a(h,m));for(let m=8;m<15;m++)this.setFunctionModule(8,this.size-15+m,a(h,m));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let c=this.version;for(let u=0;u<12;u++)c=c<<1^(c>>>11)*7973;const d=this.version<<12|c;i(d>>>18==0);for(let u=0;u<18;u++){const h=a(d,u),m=this.size-11+u%3,p=Math.floor(u/3);this.setFunctionModule(m,p,h),this.setFunctionModule(p,m,h)}}drawFinderPattern(c,d){for(let u=-4;u<=4;u++)for(let h=-4;h<=4;h++){const m=Math.max(Math.abs(h),Math.abs(u)),p=c+h,w=d+u;0<=p&&p<this.size&&0<=w&&w<this.size&&this.setFunctionModule(p,w,m!=2&&m!=4)}}drawAlignmentPattern(c,d){for(let u=-2;u<=2;u++)for(let h=-2;h<=2;h++)this.setFunctionModule(c+h,d+u,Math.max(Math.abs(h),Math.abs(u))!=1)}setFunctionModule(c,d,u){this.modules[d][c]=u,this.isFunction[d][c]=!0}addEccAndInterleave(c){const d=this.version,u=this.errorCorrectionLevel;if(c.length!=t.getNumDataCodewords(d,u))throw new RangeError("Invalid argument");const h=t.NUM_ERROR_CORRECTION_BLOCKS[u.ordinal][d],m=t.ECC_CODEWORDS_PER_BLOCK[u.ordinal][d],p=Math.floor(t.getNumRawDataModules(d)/8),w=h-p%h,v=Math.floor(p/h);let g=[];const y=t.reedSolomonComputeDivisor(m);for(let b=0,_=0;b<h;b++){let N=c.slice(_,_+v-m+(b<w?0:1));_+=N.length;const P=t.reedSolomonComputeRemainder(N,y);b<w&&N.push(0),g.push(N.concat(P))}let x=[];for(let b=0;b<g[0].length;b++)g.forEach((_,N)=>{(b!=v-m||N>=w)&&x.push(_[b])});return i(x.length==p),x}drawCodewords(c){if(c.length!=Math.floor(t.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let d=0;for(let u=this.size-1;u>=1;u-=2){u==6&&(u=5);for(let h=0;h<this.size;h++)for(let m=0;m<2;m++){const p=u-m,v=(u+1&2)==0?this.size-1-h:h;!this.isFunction[v][p]&&d<c.length*8&&(this.modules[v][p]=a(c[d>>>3],7-(d&7)),d++)}}i(d==c.length*8)}applyMask(c){if(c<0||c>7)throw new RangeError("Mask value out of range");for(let d=0;d<this.size;d++)for(let u=0;u<this.size;u++){let h;switch(c){case 0:h=(u+d)%2==0;break;case 1:h=d%2==0;break;case 2:h=u%3==0;break;case 3:h=(u+d)%3==0;break;case 4:h=(Math.floor(u/3)+Math.floor(d/2))%2==0;break;case 5:h=u*d%2+u*d%3==0;break;case 6:h=(u*d%2+u*d%3)%2==0;break;case 7:h=((u+d)%2+u*d%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[d][u]&&h&&(this.modules[d][u]=!this.modules[d][u])}}getPenaltyScore(){let c=0;for(let m=0;m<this.size;m++){let p=!1,w=0,v=[0,0,0,0,0,0,0];for(let g=0;g<this.size;g++)this.modules[m][g]==p?(w++,w==5?c+=t.PENALTY_N1:w>5&&c++):(this.finderPenaltyAddHistory(w,v),p||(c+=this.finderPenaltyCountPatterns(v)*t.PENALTY_N3),p=this.modules[m][g],w=1);c+=this.finderPenaltyTerminateAndCount(p,w,v)*t.PENALTY_N3}for(let m=0;m<this.size;m++){let p=!1,w=0,v=[0,0,0,0,0,0,0];for(let g=0;g<this.size;g++)this.modules[g][m]==p?(w++,w==5?c+=t.PENALTY_N1:w>5&&c++):(this.finderPenaltyAddHistory(w,v),p||(c+=this.finderPenaltyCountPatterns(v)*t.PENALTY_N3),p=this.modules[g][m],w=1);c+=this.finderPenaltyTerminateAndCount(p,w,v)*t.PENALTY_N3}for(let m=0;m<this.size-1;m++)for(let p=0;p<this.size-1;p++){const w=this.modules[m][p];w==this.modules[m][p+1]&&w==this.modules[m+1][p]&&w==this.modules[m+1][p+1]&&(c+=t.PENALTY_N2)}let d=0;for(const m of this.modules)d=m.reduce((p,w)=>p+(w?1:0),d);const u=this.size*this.size,h=Math.ceil(Math.abs(d*20-u*10)/u)-1;return i(0<=h&&h<=9),c+=h*t.PENALTY_N4,i(0<=c&&c<=2568888),c}getAlignmentPatternPositions(){if(this.version==1)return[];{const c=Math.floor(this.version/7)+2,d=this.version==32?26:Math.ceil((this.version*4+4)/(c*2-2))*2;let u=[6];for(let h=this.size-7;u.length<c;h-=d)u.splice(1,0,h);return u}}static getNumRawDataModules(c){if(c<t.MIN_VERSION||c>t.MAX_VERSION)throw new RangeError("Version number out of range");let d=(16*c+128)*c+64;if(c>=2){const u=Math.floor(c/7)+2;d-=(25*u-10)*u-55,c>=7&&(d-=36)}return i(208<=d&&d<=29648),d}static getNumDataCodewords(c,d){return Math.floor(t.getNumRawDataModules(c)/8)-t.ECC_CODEWORDS_PER_BLOCK[d.ordinal][c]*t.NUM_ERROR_CORRECTION_BLOCKS[d.ordinal][c]}static reedSolomonComputeDivisor(c){if(c<1||c>255)throw new RangeError("Degree out of range");let d=[];for(let h=0;h<c-1;h++)d.push(0);d.push(1);let u=1;for(let h=0;h<c;h++){for(let m=0;m<d.length;m++)d[m]=t.reedSolomonMultiply(d[m],u),m+1<d.length&&(d[m]^=d[m+1]);u=t.reedSolomonMultiply(u,2)}return d}static reedSolomonComputeRemainder(c,d){let u=d.map(h=>0);for(const h of c){const m=h^u.shift();u.push(0),d.forEach((p,w)=>u[w]^=t.reedSolomonMultiply(p,m))}return u}static reedSolomonMultiply(c,d){if(c>>>8||d>>>8)throw new RangeError("Byte out of range");let u=0;for(let h=7;h>=0;h--)u=u<<1^(u>>>7)*285,u^=(d>>>h&1)*c;return i(u>>>8==0),u}finderPenaltyCountPatterns(c){const d=c[1];i(d<=this.size*3);const u=d>0&&c[2]==d&&c[3]==d*3&&c[4]==d&&c[5]==d;return(u&&c[0]>=d*4&&c[6]>=d?1:0)+(u&&c[6]>=d*4&&c[0]>=d?1:0)}finderPenaltyTerminateAndCount(c,d,u){return c&&(this.finderPenaltyAddHistory(d,u),d=0),d+=this.size,this.finderPenaltyAddHistory(d,u),this.finderPenaltyCountPatterns(u)}finderPenaltyAddHistory(c,d){d[0]==0&&(c+=this.size),d.pop(),d.unshift(c)}};let r=t;r.MIN_VERSION=1,r.MAX_VERSION=40,r.PENALTY_N1=3,r.PENALTY_N2=3,r.PENALTY_N3=40,r.PENALTY_N4=10,r.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],r.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=r;function n(c,d,u){if(d<0||d>31||c>>>d)throw new RangeError("Value out of range");for(let h=d-1;h>=0;h--)u.push(c>>>h&1)}function a(c,d){return(c>>>d&1)!=0}function i(c){if(!c)throw new Error("Assertion error")}const o=class{constructor(c,d,u){if(this.mode=c,this.numChars=d,this.bitData=u,d<0)throw new RangeError("Invalid argument");this.bitData=u.slice()}static makeBytes(c){let d=[];for(const u of c)n(u,8,d);return new o(o.Mode.BYTE,c.length,d)}static makeNumeric(c){if(!o.isNumeric(c))throw new RangeError("String contains non-numeric characters");let d=[];for(let u=0;u<c.length;){const h=Math.min(c.length-u,3);n(parseInt(c.substr(u,h),10),h*3+1,d),u+=h}return new o(o.Mode.NUMERIC,c.length,d)}static makeAlphanumeric(c){if(!o.isAlphanumeric(c))throw new RangeError("String contains unencodable characters in alphanumeric mode");let d=[],u;for(u=0;u+2<=c.length;u+=2){let h=o.ALPHANUMERIC_CHARSET.indexOf(c.charAt(u))*45;h+=o.ALPHANUMERIC_CHARSET.indexOf(c.charAt(u+1)),n(h,11,d)}return u<c.length&&n(o.ALPHANUMERIC_CHARSET.indexOf(c.charAt(u)),6,d),new o(o.Mode.ALPHANUMERIC,c.length,d)}static makeSegments(c){return c==""?[]:o.isNumeric(c)?[o.makeNumeric(c)]:o.isAlphanumeric(c)?[o.makeAlphanumeric(c)]:[o.makeBytes(o.toUtf8ByteArray(c))]}static makeEci(c){let d=[];if(c<0)throw new RangeError("ECI assignment value out of range");if(c<128)n(c,8,d);else if(c<16384)n(2,2,d),n(c,14,d);else if(c<1e6)n(6,3,d),n(c,21,d);else throw new RangeError("ECI assignment value out of range");return new o(o.Mode.ECI,0,d)}static isNumeric(c){return o.NUMERIC_REGEX.test(c)}static isAlphanumeric(c){return o.ALPHANUMERIC_REGEX.test(c)}getData(){return this.bitData.slice()}static getTotalBits(c,d){let u=0;for(const h of c){const m=h.mode.numCharCountBits(d);if(h.numChars>=1<<m)return 1/0;u+=4+m+h.bitData.length}return u}static toUtf8ByteArray(c){c=encodeURI(c);let d=[];for(let u=0;u<c.length;u++)c.charAt(u)!="%"?d.push(c.charCodeAt(u)):(d.push(parseInt(c.substr(u+1,2),16)),u+=2);return d}};let l=o;l.NUMERIC_REGEX=/^[0-9]*$/,l.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,l.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",e.QrSegment=l})(ll||(ll={}));(e=>{(t=>{const r=class{constructor(a,i){this.ordinal=a,this.formatBits=i}};let n=r;n.LOW=new r(0,1),n.MEDIUM=new r(1,0),n.QUARTILE=new r(2,3),n.HIGH=new r(3,2),t.Ecc=n})(e.QrCode||(e.QrCode={}))})(ll||(ll={}));(e=>{(t=>{const r=class{constructor(a,i){this.modeBits=a,this.numBitsCharCount=i}numCharCountBits(a){return this.numBitsCharCount[Math.floor((a+7)/17)]}};let n=r;n.NUMERIC=new r(1,[10,12,14]),n.ALPHANUMERIC=new r(2,[9,11,13]),n.BYTE=new r(4,[8,16,16]),n.KANJI=new r(8,[8,10,12]),n.ECI=new r(7,[0,0,0]),t.Mode=n})(e.QrSegment||(e.QrSegment={}))})(ll||(ll={}));var lu=ll;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var SH={L:lu.QrCode.Ecc.LOW,M:lu.QrCode.Ecc.MEDIUM,Q:lu.QrCode.Ecc.QUARTILE,H:lu.QrCode.Ecc.HIGH},CH=128,kH="L",EH="#FFFFFF",PH="#000000",TH=!1,bM=4,RH=.1;function MH(e,t=0){const r=[];return e.forEach(function(n,a){let i=null;n.forEach(function(o,l){if(!o&&i!==null){r.push(`M${i+t} ${a+t}h${l-i}v1H${i+t}z`),i=null;return}if(l===n.length-1){if(!o)return;i===null?r.push(`M${l+t},${a+t} h1v1H${l+t}z`):r.push(`M${i+t},${a+t} h${l+1-i}v1H${i+t}z`);return}o&&i===null&&(i=l)})}),r.join("")}function AH(e,t){return e.slice().map((r,n)=>n<t.y||n>=t.y+t.h?r:r.map((a,i)=>i<t.x||i>=t.x+t.w?a:!1))}function OH(e,t,r,n){if(n==null)return null;const a=r?bM:0,i=e.length+a*2,o=Math.floor(t*RH),l=i/t,c=(n.width||o)*l,d=(n.height||o)*l,u=n.x==null?e.length/2-c/2:n.x*l,h=n.y==null?e.length/2-d/2:n.y*l;let m=null;if(n.excavate){let p=Math.floor(u),w=Math.floor(h),v=Math.ceil(c+u-p),g=Math.ceil(d+h-w);m={x:p,y:w,w:v,h:g}}return{x:u,y:h,h:d,w:c,excavation:m}}(function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0})();function jM(e){const t=e,{value:r,size:n=CH,level:a=kH,bgColor:i=EH,fgColor:o=PH,includeMargin:l=TH,imageSettings:c}=t,d=NH(t,["value","size","level","bgColor","fgColor","includeMargin","imageSettings"]);let u=lu.QrCode.encodeText(r,SH[a]).getModules();const h=l?bM:0,m=u.length+h*2,p=OH(u,n,l,c);let w=null;c!=null&&p!=null&&(p.excavation!=null&&(u=AH(u,p.excavation)),w=he.createElement("image",{xlinkHref:c.src,height:p.h,width:p.w,x:p.x+h,y:p.y+h,preserveAspectRatio:"none"}));const v=MH(u,h);return he.createElement("svg",_H({height:n,width:n,viewBox:`0 0 ${m} ${m}`},d),he.createElement("path",{fill:i,d:`M0,0 h${m}v${m}H0z`,shapeRendering:"crispEdges"}),he.createElement("path",{fill:o,d:v,shapeRendering:"crispEdges"}),w)}const DH=wl("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Tg=f.forwardRef(({className:e,variant:t,...r},n)=>s.jsx("div",{ref:n,role:"alert",className:le(DH({variant:t}),e),...r}));Tg.displayName="Alert";const _M=f.forwardRef(({className:e,...t},r)=>s.jsx("h5",{ref:r,className:le("mb-1 font-medium leading-none tracking-tight",e),...t}));_M.displayName="AlertTitle";const Rg=f.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:le("text-sm [&_p]:leading-relaxed",e),...t}));Rg.displayName="AlertDescription";function NM(e){const t=f.useRef({value:e,previous:e});return f.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var IH=[" ","Enter","ArrowUp","ArrowDown"],FH=[" ","Enter"],cl="Select",[Mg,Ag,LH]=Bp(cl),[Nd,iQ]=Cn(cl,[LH,yo]),Og=yo(),[$H,jo]=Nd(cl),[zH,UH]=Nd(cl),SM=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:a,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:d,name:u,autoComplete:h,disabled:m,required:p,form:w}=e,v=Og(t),[g,y]=f.useState(null),[x,b]=f.useState(null),[_,N]=f.useState(!1),P=zf(d),[S,T]=va({prop:n,defaultProp:a??!1,onChange:i,caller:cl}),[U,q]=va({prop:o,defaultProp:l,onChange:c,caller:cl}),re=f.useRef(null),G=g?w||!!g.closest("form"):!0,[H,V]=f.useState(new Set),se=Array.from(H).map(ee=>ee.props.value).join(";");return s.jsx(Zp,{...v,children:s.jsxs($H,{required:p,scope:t,trigger:g,onTriggerChange:y,valueNode:x,onValueNodeChange:b,valueNodeHasChildren:_,onValueNodeHasChildrenChange:N,contentId:Xr(),value:U,onValueChange:q,open:S,onOpenChange:T,dir:P,triggerPointerDownPosRef:re,disabled:m,children:[s.jsx(Mg.Provider,{scope:t,children:s.jsx(zH,{scope:e.__scopeSelect,onNativeOptionAdd:f.useCallback(ee=>{V(J=>new Set(J).add(ee))},[]),onNativeOptionRemove:f.useCallback(ee=>{V(J=>{const I=new Set(J);return I.delete(ee),I})},[]),children:r})}),G?s.jsxs(YM,{"aria-hidden":!0,required:p,tabIndex:-1,name:u,autoComplete:h,value:U,onChange:ee=>q(ee.target.value),disabled:m,form:w,children:[U===void 0?s.jsx("option",{value:""}):null,Array.from(H)]},se):null]})})};SM.displayName=cl;var CM="SelectTrigger",kM=f.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...a}=e,i=Og(r),o=jo(CM,r),l=o.disabled||n,c=ct(t,o.onTriggerChange),d=Ag(r),u=f.useRef("touch"),[h,m,p]=XM(v=>{const g=d().filter(b=>!b.disabled),y=g.find(b=>b.value===o.value),x=ZM(g,v,y);x!==void 0&&o.onValueChange(x.value)}),w=v=>{l||(o.onOpenChange(!0),p()),v&&(o.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return s.jsx(Cf,{asChild:!0,...i,children:s.jsx(Ie.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":QM(o.value)?"":void 0,...a,ref:c,onClick:Ce(a.onClick,v=>{v.currentTarget.focus(),u.current!=="mouse"&&w(v)}),onPointerDown:Ce(a.onPointerDown,v=>{u.current=v.pointerType;const g=v.target;g.hasPointerCapture(v.pointerId)&&g.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(w(v),v.preventDefault())}),onKeyDown:Ce(a.onKeyDown,v=>{const g=h.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&m(v.key),!(g&&v.key===" ")&&IH.includes(v.key)&&(w(),v.preventDefault())})})})});kM.displayName=CM;var EM="SelectValue",PM=f.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,children:i,placeholder:o="",...l}=e,c=jo(EM,r),{onValueNodeHasChildrenChange:d}=c,u=i!==void 0,h=ct(t,c.onValueNodeChange);return Cr(()=>{d(u)},[d,u]),s.jsx(Ie.span,{...l,ref:h,style:{pointerEvents:"none"},children:QM(c.value)?s.jsx(s.Fragment,{children:o}):i})});PM.displayName=EM;var BH="SelectIcon",TM=f.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...a}=e;return s.jsx(Ie.span,{"aria-hidden":!0,...a,ref:t,children:n||""})});TM.displayName=BH;var qH="SelectPortal",RM=e=>s.jsx(cd,{asChild:!0,...e});RM.displayName=qH;var dl="SelectContent",MM=f.forwardRef((e,t)=>{const r=jo(dl,e.__scopeSelect),[n,a]=f.useState();if(Cr(()=>{a(new DocumentFragment)},[]),!r.open){const i=n;return i?vl.createPortal(s.jsx(AM,{scope:e.__scopeSelect,children:s.jsx(Mg.Slot,{scope:e.__scopeSelect,children:s.jsx("div",{children:e.children})})}),i):null}return s.jsx(OM,{...e,ref:t})});MM.displayName=dl;var Ms=10,[AM,_o]=Nd(dl),VH="SelectContentImpl",WH=no("SelectContent.RemoveScroll"),OM=f.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:h,collisionBoundary:m,collisionPadding:p,sticky:w,hideWhenDetached:v,avoidCollisions:g,...y}=e,x=jo(dl,r),[b,_]=f.useState(null),[N,P]=f.useState(null),S=ct(t,Q=>_(Q)),[T,U]=f.useState(null),[q,re]=f.useState(null),G=Ag(r),[H,V]=f.useState(!1),se=f.useRef(!1);f.useEffect(()=>{if(b)return gg(b)},[b]),mg();const ee=f.useCallback(Q=>{const[R,...L]=G().map(_e=>_e.ref.current),[Z]=L.slice(-1),de=document.activeElement;for(const _e of Q)if(_e===de||(_e==null||_e.scrollIntoView({block:"nearest"}),_e===R&&N&&(N.scrollTop=0),_e===Z&&N&&(N.scrollTop=N.scrollHeight),_e==null||_e.focus(),document.activeElement!==de))return},[G,N]),J=f.useCallback(()=>ee([T,b]),[ee,T,b]);f.useEffect(()=>{H&&J()},[H,J]);const{onOpenChange:I,triggerPointerDownPosRef:D}=x;f.useEffect(()=>{if(b){let Q={x:0,y:0};const R=Z=>{var de,_e;Q={x:Math.abs(Math.round(Z.pageX)-(((de=D.current)==null?void 0:de.x)??0)),y:Math.abs(Math.round(Z.pageY)-(((_e=D.current)==null?void 0:_e.y)??0))}},L=Z=>{Q.x<=10&&Q.y<=10?Z.preventDefault():b.contains(Z.target)||I(!1),document.removeEventListener("pointermove",R),D.current=null};return D.current!==null&&(document.addEventListener("pointermove",R),document.addEventListener("pointerup",L,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",R),document.removeEventListener("pointerup",L,{capture:!0})}}},[b,I,D]),f.useEffect(()=>{const Q=()=>I(!1);return window.addEventListener("blur",Q),window.addEventListener("resize",Q),()=>{window.removeEventListener("blur",Q),window.removeEventListener("resize",Q)}},[I]);const[C,E]=XM(Q=>{const R=G().filter(de=>!de.disabled),L=R.find(de=>de.ref.current===document.activeElement),Z=ZM(R,Q,L);Z&&setTimeout(()=>Z.ref.current.focus())}),A=f.useCallback((Q,R,L)=>{const Z=!se.current&&!L;(x.value!==void 0&&x.value===R||Z)&&(U(Q),Z&&(se.current=!0))},[x.value]),Y=f.useCallback(()=>b==null?void 0:b.focus(),[b]),k=f.useCallback((Q,R,L)=>{const Z=!se.current&&!L;(x.value!==void 0&&x.value===R||Z)&&re(Q)},[x.value]),z=n==="popper"?p0:DM,ne=z===p0?{side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:h,collisionBoundary:m,collisionPadding:p,sticky:w,hideWhenDetached:v,avoidCollisions:g}:{};return s.jsx(AM,{scope:r,content:b,viewport:N,onViewportChange:P,itemRefCallback:A,selectedItem:T,onItemLeave:Y,itemTextRefCallback:k,focusSelectedItem:J,selectedItemText:q,position:n,isPositioned:H,searchRef:C,children:s.jsx(Tf,{as:WH,allowPinchZoom:!0,children:s.jsx(Pf,{asChild:!0,trapped:x.open,onMountAutoFocus:Q=>{Q.preventDefault()},onUnmountAutoFocus:Ce(a,Q=>{var R;(R=x.trigger)==null||R.focus({preventScroll:!0}),Q.preventDefault()}),children:s.jsx(yl,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:Q=>Q.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:s.jsx(z,{role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:Q=>Q.preventDefault(),...y,...ne,onPlaced:()=>V(!0),ref:S,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:Ce(y.onKeyDown,Q=>{const R=Q.ctrlKey||Q.altKey||Q.metaKey;if(Q.key==="Tab"&&Q.preventDefault(),!R&&Q.key.length===1&&E(Q.key),["ArrowUp","ArrowDown","Home","End"].includes(Q.key)){let Z=G().filter(de=>!de.disabled).map(de=>de.ref.current);if(["ArrowUp","End"].includes(Q.key)&&(Z=Z.slice().reverse()),["ArrowUp","ArrowDown"].includes(Q.key)){const de=Q.target,_e=Z.indexOf(de);Z=Z.slice(_e+1)}setTimeout(()=>ee(Z)),Q.preventDefault()}})})})})})})});OM.displayName=VH;var HH="SelectItemAlignedPosition",DM=f.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...a}=e,i=jo(dl,r),o=_o(dl,r),[l,c]=f.useState(null),[d,u]=f.useState(null),h=ct(t,S=>u(S)),m=Ag(r),p=f.useRef(!1),w=f.useRef(!0),{viewport:v,selectedItem:g,selectedItemText:y,focusSelectedItem:x}=o,b=f.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&d&&v&&g&&y){const S=i.trigger.getBoundingClientRect(),T=d.getBoundingClientRect(),U=i.valueNode.getBoundingClientRect(),q=y.getBoundingClientRect();if(i.dir!=="rtl"){const de=q.left-T.left,_e=U.left-de,me=S.left-_e,xe=S.width+me,Ge=Math.max(xe,T.width),Nt=window.innerWidth-Ms,Ot=m0(_e,[Ms,Math.max(Ms,Nt-Ge)]);l.style.minWidth=xe+"px",l.style.left=Ot+"px"}else{const de=T.right-q.right,_e=window.innerWidth-U.right-de,me=window.innerWidth-S.right-_e,xe=S.width+me,Ge=Math.max(xe,T.width),Nt=window.innerWidth-Ms,Ot=m0(_e,[Ms,Math.max(Ms,Nt-Ge)]);l.style.minWidth=xe+"px",l.style.right=Ot+"px"}const re=m(),G=window.innerHeight-Ms*2,H=v.scrollHeight,V=window.getComputedStyle(d),se=parseInt(V.borderTopWidth,10),ee=parseInt(V.paddingTop,10),J=parseInt(V.borderBottomWidth,10),I=parseInt(V.paddingBottom,10),D=se+ee+H+I+J,C=Math.min(g.offsetHeight*5,D),E=window.getComputedStyle(v),A=parseInt(E.paddingTop,10),Y=parseInt(E.paddingBottom,10),k=S.top+S.height/2-Ms,z=G-k,ne=g.offsetHeight/2,Q=g.offsetTop+ne,R=se+ee+Q,L=D-R;if(R<=k){const de=re.length>0&&g===re[re.length-1].ref.current;l.style.bottom="0px";const _e=d.clientHeight-v.offsetTop-v.offsetHeight,me=Math.max(z,ne+(de?Y:0)+_e+J),xe=R+me;l.style.height=xe+"px"}else{const de=re.length>0&&g===re[0].ref.current;l.style.top="0px";const me=Math.max(k,se+v.offsetTop+(de?A:0)+ne)+L;l.style.height=me+"px",v.scrollTop=R-k+v.offsetTop}l.style.margin=`${Ms}px 0`,l.style.minHeight=C+"px",l.style.maxHeight=G+"px",n==null||n(),requestAnimationFrame(()=>p.current=!0)}},[m,i.trigger,i.valueNode,l,d,v,g,y,i.dir,n]);Cr(()=>b(),[b]);const[_,N]=f.useState();Cr(()=>{d&&N(window.getComputedStyle(d).zIndex)},[d]);const P=f.useCallback(S=>{S&&w.current===!0&&(b(),x==null||x(),w.current=!1)},[b,x]);return s.jsx(GH,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:P,children:s.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:s.jsx(Ie.div,{...a,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});DM.displayName=HH;var KH="SelectPopperPosition",p0=f.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=Ms,...i}=e,o=Og(r);return s.jsx(Jp,{...o,...i,ref:t,align:n,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});p0.displayName=KH;var[GH,$b]=Nd(dl,{}),g0="SelectViewport",IM=f.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...a}=e,i=_o(g0,r),o=$b(g0,r),l=ct(t,i.onViewportChange),c=f.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),s.jsx(Mg.Slot,{scope:r,children:s.jsx(Ie.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:Ce(a.onScroll,d=>{const u=d.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:m}=o;if(m!=null&&m.current&&h){const p=Math.abs(c.current-u.scrollTop);if(p>0){const w=window.innerHeight-Ms*2,v=parseFloat(h.style.minHeight),g=parseFloat(h.style.height),y=Math.max(v,g);if(y<w){const x=y+p,b=Math.min(w,x),_=x-b;h.style.height=b+"px",h.style.bottom==="0px"&&(u.scrollTop=_>0?_:0,h.style.justifyContent="flex-end")}}}c.current=u.scrollTop})})})]})});IM.displayName=g0;var FM="SelectGroup",[YH,QH]=Nd(FM),XH=f.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=Xr();return s.jsx(YH,{scope:r,id:a,children:s.jsx(Ie.div,{role:"group","aria-labelledby":a,...n,ref:t})})});XH.displayName=FM;var LM="SelectLabel",$M=f.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=QH(LM,r);return s.jsx(Ie.div,{id:a.id,...n,ref:t})});$M.displayName=LM;var lp="SelectItem",[ZH,zM]=Nd(lp),UM=f.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:i,...o}=e,l=jo(lp,r),c=_o(lp,r),d=l.value===n,[u,h]=f.useState(i??""),[m,p]=f.useState(!1),w=ct(t,x=>{var b;return(b=c.itemRefCallback)==null?void 0:b.call(c,x,n,a)}),v=Xr(),g=f.useRef("touch"),y=()=>{a||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(ZH,{scope:r,value:n,disabled:a,textId:v,isSelected:d,onItemTextChange:f.useCallback(x=>{h(b=>b||((x==null?void 0:x.textContent)??"").trim())},[]),children:s.jsx(Mg.ItemSlot,{scope:r,value:n,disabled:a,textValue:u,children:s.jsx(Ie.div,{role:"option","aria-labelledby":v,"data-highlighted":m?"":void 0,"aria-selected":d&&m,"data-state":d?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:w,onFocus:Ce(o.onFocus,()=>p(!0)),onBlur:Ce(o.onBlur,()=>p(!1)),onClick:Ce(o.onClick,()=>{g.current!=="mouse"&&y()}),onPointerUp:Ce(o.onPointerUp,()=>{g.current==="mouse"&&y()}),onPointerDown:Ce(o.onPointerDown,x=>{g.current=x.pointerType}),onPointerMove:Ce(o.onPointerMove,x=>{var b;g.current=x.pointerType,a?(b=c.onItemLeave)==null||b.call(c):g.current==="mouse"&&x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ce(o.onPointerLeave,x=>{var b;x.currentTarget===document.activeElement&&((b=c.onItemLeave)==null||b.call(c))}),onKeyDown:Ce(o.onKeyDown,x=>{var _;((_=c.searchRef)==null?void 0:_.current)!==""&&x.key===" "||(FH.includes(x.key)&&y(),x.key===" "&&x.preventDefault())})})})})});UM.displayName=lp;var cu="SelectItemText",BM=f.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,...i}=e,o=jo(cu,r),l=_o(cu,r),c=zM(cu,r),d=UH(cu,r),[u,h]=f.useState(null),m=ct(t,y=>h(y),c.onItemTextChange,y=>{var x;return(x=l.itemTextRefCallback)==null?void 0:x.call(l,y,c.value,c.disabled)}),p=u==null?void 0:u.textContent,w=f.useMemo(()=>s.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:v,onNativeOptionRemove:g}=d;return Cr(()=>(v(w),()=>g(w)),[v,g,w]),s.jsxs(s.Fragment,{children:[s.jsx(Ie.span,{id:c.textId,...i,ref:m}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?vl.createPortal(i.children,o.valueNode):null]})});BM.displayName=cu;var qM="SelectItemIndicator",VM=f.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return zM(qM,r).isSelected?s.jsx(Ie.span,{"aria-hidden":!0,...n,ref:t}):null});VM.displayName=qM;var v0="SelectScrollUpButton",WM=f.forwardRef((e,t)=>{const r=_o(v0,e.__scopeSelect),n=$b(v0,e.__scopeSelect),[a,i]=f.useState(!1),o=ct(t,n.onScrollButtonChange);return Cr(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=c.scrollTop>0;i(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?s.jsx(KM,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});WM.displayName=v0;var x0="SelectScrollDownButton",HM=f.forwardRef((e,t)=>{const r=_o(x0,e.__scopeSelect),n=$b(x0,e.__scopeSelect),[a,i]=f.useState(!1),o=ct(t,n.onScrollButtonChange);return Cr(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,u=Math.ceil(c.scrollTop)<d;i(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?s.jsx(KM,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});HM.displayName=x0;var KM=f.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=e,i=_o("SelectScrollButton",r),o=f.useRef(null),l=Ag(r),c=f.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return f.useEffect(()=>()=>c(),[c]),Cr(()=>{var u;const d=l().find(h=>h.ref.current===document.activeElement);(u=d==null?void 0:d.ref.current)==null||u.scrollIntoView({block:"nearest"})},[l]),s.jsx(Ie.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:Ce(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:Ce(a.onPointerMove,()=>{var d;(d=i.onItemLeave)==null||d.call(i),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:Ce(a.onPointerLeave,()=>{c()})})}),JH="SelectSeparator",GM=f.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return s.jsx(Ie.div,{"aria-hidden":!0,...n,ref:t})});GM.displayName=JH;var y0="SelectArrow",eK=f.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=Og(r),i=jo(y0,r),o=_o(y0,r);return i.open&&o.position==="popper"?s.jsx(eg,{...a,...n,ref:t}):null});eK.displayName=y0;var tK="SelectBubbleInput",YM=f.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const a=f.useRef(null),i=ct(n,a),o=NM(t);return f.useEffect(()=>{const l=a.current;if(!l)return;const c=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&u){const h=new Event("change",{bubbles:!0});u.call(l,t),l.dispatchEvent(h)}},[o,t]),s.jsx(Ie.select,{...r,style:{...e2,...r.style},ref:i,defaultValue:t})});YM.displayName=tK;function QM(e){return e===""||e===void 0}function XM(e){const t=yr(e),r=f.useRef(""),n=f.useRef(0),a=f.useCallback(o=>{const l=r.current+o;t(l),function c(d){r.current=d,window.clearTimeout(n.current),d!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=f.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return f.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,i]}function ZM(e,t,r){const a=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=rK(e,Math.max(i,0));a.length===1&&(o=o.filter(d=>d!==r));const c=o.find(d=>d.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function rK(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var nK=SM,JM=kM,sK=PM,aK=TM,iK=RM,e4=MM,oK=IM,t4=$M,r4=UM,lK=BM,cK=VM,n4=WM,s4=HM,a4=GM;const ul=nK,fl=sK,oo=f.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(JM,{ref:n,className:le("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-0 focus:ring-offset-0 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,s.jsx(aK,{asChild:!0,children:s.jsx(_2,{className:"h-4 w-4 opacity-50"})})]}));oo.displayName=JM.displayName;const i4=f.forwardRef(({className:e,...t},r)=>s.jsx(n4,{ref:r,className:le("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(S2,{className:"h-4 w-4"})}));i4.displayName=n4.displayName;const o4=f.forwardRef(({className:e,...t},r)=>s.jsx(s4,{ref:r,className:le("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(_2,{className:"h-4 w-4"})}));o4.displayName=s4.displayName;const lo=f.forwardRef(({className:e,children:t,position:r="popper",...n},a)=>s.jsx(iK,{children:s.jsxs(e4,{ref:a,className:le("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[s.jsx(i4,{}),s.jsx(oK,{className:le("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),s.jsx(o4,{})]})}));lo.displayName=e4.displayName;const dK=f.forwardRef(({className:e,...t},r)=>s.jsx(t4,{ref:r,className:le("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));dK.displayName=t4.displayName;const Vr=f.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(r4,{ref:n,className:le("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(cK,{children:s.jsx(cs,{className:"h-4 w-4"})})}),s.jsx(lK,{children:t})]}));Vr.displayName=r4.displayName;const uK=f.forwardRef(({className:e,...t},r)=>s.jsx(a4,{ref:r,className:le("-mx-1 my-1 h-px bg-muted",e),...t}));uK.displayName=a4.displayName;var Dg="Switch",[fK,oQ]=Cn(Dg),[hK,mK]=fK(Dg),l4=f.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:a,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:d,form:u,...h}=e,[m,p]=f.useState(null),w=ct(t,b=>p(b)),v=f.useRef(!1),g=m?u||!!m.closest("form"):!0,[y,x]=va({prop:a,defaultProp:i??!1,onChange:d,caller:Dg});return s.jsxs(hK,{scope:r,checked:y,disabled:l,children:[s.jsx(Ie.button,{type:"button",role:"switch","aria-checked":y,"aria-required":o,"data-state":f4(y),"data-disabled":l?"":void 0,disabled:l,value:c,...h,ref:w,onClick:Ce(e.onClick,b=>{x(_=>!_),g&&(v.current=b.isPropagationStopped(),v.current||b.stopPropagation())})}),g&&s.jsx(u4,{control:m,bubbles:!v.current,name:n,value:c,checked:y,required:o,disabled:l,form:u,style:{transform:"translateX(-100%)"}})]})});l4.displayName=Dg;var c4="SwitchThumb",d4=f.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,a=mK(c4,r);return s.jsx(Ie.span,{"data-state":f4(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:t})});d4.displayName=c4;var pK="SwitchBubbleInput",u4=f.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...a},i)=>{const o=f.useRef(null),l=ct(o,i),c=NM(r),d=J2(t);return f.useEffect(()=>{const u=o.current;if(!u)return;const h=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(h,"checked").set;if(c!==r&&p){const w=new Event("click",{bubbles:n});p.call(u,r),u.dispatchEvent(w)}},[c,r,n]),s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:l,style:{...a.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});u4.displayName=pK;function f4(e){return e?"checked":"unchecked"}var h4=l4,gK=d4;const Ji=f.forwardRef(({className:e,...t},r)=>s.jsx(h4,{className:le("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:s.jsx(gK,{className:le("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Ji.displayName=h4.displayName;var m4="AlertDialog",[vK,lQ]=Cn(m4,[LP]),li=LP(),p4=e=>{const{__scopeAlertDialog:t,...r}=e,n=li(t);return s.jsx(xg,{...n,...r,modal:!0})};p4.displayName=m4;var xK="AlertDialogTrigger",g4=f.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=li(r);return s.jsx(eT,{...a,...n,ref:t})});g4.displayName=xK;var yK="AlertDialogPortal",v4=e=>{const{__scopeAlertDialog:t,...r}=e,n=li(t);return s.jsx(yg,{...n,...r})};v4.displayName=yK;var wK="AlertDialogOverlay",x4=f.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=li(r);return s.jsx(xd,{...a,...n,ref:t})});x4.displayName=wK;var Sc="AlertDialogContent",[bK,jK]=vK(Sc),_K=Qk("AlertDialogContent"),y4=f.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...a}=e,i=li(r),o=f.useRef(null),l=ct(t,o),c=f.useRef(null);return s.jsx(dB,{contentName:Sc,titleName:w4,docsSlug:"alert-dialog",children:s.jsx(bK,{scope:r,cancelRef:c,children:s.jsxs(yd,{role:"alertdialog",...i,...a,ref:l,onOpenAutoFocus:Ce(a.onOpenAutoFocus,d=>{var u;d.preventDefault(),(u=c.current)==null||u.focus({preventScroll:!0})}),onPointerDownOutside:d=>d.preventDefault(),onInteractOutside:d=>d.preventDefault(),children:[s.jsx(_K,{children:n}),s.jsx(SK,{contentRef:o})]})})})});y4.displayName=Sc;var w4="AlertDialogTitle",b4=f.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=li(r);return s.jsx(Rf,{...a,...n,ref:t})});b4.displayName=w4;var j4="AlertDialogDescription",_4=f.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=li(r);return s.jsx(Mf,{...a,...n,ref:t})});_4.displayName=j4;var NK="AlertDialogAction",N4=f.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=li(r);return s.jsx(wg,{...a,...n,ref:t})});N4.displayName=NK;var S4="AlertDialogCancel",C4=f.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:a}=jK(S4,r),i=li(r),o=ct(t,a);return s.jsx(wg,{...i,...n,ref:o})});C4.displayName=S4;var SK=({contentRef:e})=>{const t=`\`${Sc}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Sc}\` by passing a \`${j4}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Sc}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return f.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},CK=p4,kK=g4,EK=v4,k4=x4,E4=y4,P4=N4,T4=C4,R4=b4,M4=_4;const w0=CK,PK=kK,TK=EK,A4=f.forwardRef(({className:e,...t},r)=>s.jsx(k4,{className:le("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));A4.displayName=k4.displayName;const cp=f.forwardRef(({className:e,...t},r)=>s.jsxs(TK,{children:[s.jsx(A4,{}),s.jsx(E4,{ref:r,className:le("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));cp.displayName=E4.displayName;const dp=({className:e,...t})=>s.jsx("div",{className:le("flex flex-col space-y-2 text-center sm:text-left",e),...t});dp.displayName="AlertDialogHeader";const up=({className:e,...t})=>s.jsx("div",{className:le("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});up.displayName="AlertDialogFooter";const fp=f.forwardRef(({className:e,...t},r)=>s.jsx(R4,{ref:r,className:le("text-lg font-semibold",e),...t}));fp.displayName=R4.displayName;const hp=f.forwardRef(({className:e,...t},r)=>s.jsx(M4,{ref:r,className:le("text-sm text-muted-foreground",e),...t}));hp.displayName=M4.displayName;const mp=f.forwardRef(({className:e,...t},r)=>s.jsx(P4,{ref:r,className:le(Yc(),e),...t}));mp.displayName=P4.displayName;const pp=f.forwardRef(({className:e,...t},r)=>s.jsx(T4,{ref:r,className:le(Yc({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));pp.displayName=T4.displayName;function RK({userId:e}){const[t,r]=f.useState([]),[n,a]=f.useState(!1),[i,o]=f.useState(null),[l,c]=f.useState(""),[d,u]=f.useState(!1),[h,m]=f.useState(!1),[p,w]=f.useState(!1),[v,g]=f.useState(null),y=async()=>{if(e){a(!0);try{const{data:T,error:U}=await $.from("musician_photos").select("id, grid_url, full_url, description, is_public").eq("musician_id",e).order("created_at",{ascending:!1});if(!U){r(T||[]);return}const q=async re=>{const{data:G,error:H}=await $.storage.from(re).list(`${e}`,{limit:100,offset:0});if(H)throw H;const V=new Map,se=new Map;for(const I of G||[]){const D=I.name||"";if(D.startsWith("grid_")){const C=D.substring(5);V.set(C,$.storage.from(re).getPublicUrl(`${e}/${D}`).data.publicUrl)}if(D.startsWith("full_")){const C=D.substring(5);se.set(C,$.storage.from(re).getPublicUrl(`${e}/${D}`).data.publicUrl)}}const ee=[],J=new Set([...V.keys(),...se.keys()]);for(const I of J){const D=V.get(I)||"",C=se.get(I)||D;D&&ee.push({id:`${e}-${I}`,grid_url:D,full_url:C,description:null,is_public:!0})}ee.sort((I,D)=>I.id>D.id?-1:1),r(ee)};try{await q("musician-photos")}catch{await q("covers")}}finally{a(!1)}}};f.useEffect(()=>{y()},[e]);const x=async(T,U,q=.8)=>{if(T.size>2097152)throw new Error("Arquivo muito grande. Tamanho mximo: 2MB");const se=document.createElement("img"),ee=URL.createObjectURL(T);try{await new Promise((Y,k)=>{se.onload=()=>Y(),se.onerror=k,se.src=ee});const J=Math.min(1,U/se.naturalWidth),I=document.createElement("canvas");let D=q,C,E=0;const A=5;do{I.width=Math.round(se.naturalWidth*J),I.height=Math.round(se.naturalHeight*J);const Y=I.getContext("2d");if(!Y)throw new Error("Canvas context not available");Y.imageSmoothingEnabled=!0,Y.imageSmoothingQuality="high",Y.drawImage(se,0,0,I.width,I.height),C=await new Promise(k=>I.toBlob(z=>k(z),"image/webp",D)),C.size>332800*1.1?D=Math.max(.3,D-.1):C.size<332800*.7&&(D=Math.min(.95,D+.05)),E++}while(E<A&&(C.size>332800*1.2||C.size<332800*.6));if(C.size>2097152)throw new Error("Imagem otimizada ainda muito grande. Tente uma imagem menor.");return C}finally{URL.revokeObjectURL(ee)}},b=async T=>{var G;const U=(G=T.target.files)==null?void 0:G[0];if(T.target.value="",!U||!e)return;if(!U.type.startsWith("image/")){oe({title:"Tipo de arquivo invlido",description:"Selecione apenas arquivos de imagem.",variant:"destructive"});return}const q=2,re=q*1024*1024;if(U.size>re){oe({title:"Arquivo muito grande",description:`Tamanho mximo permitido: ${q}MB. Seu arquivo: ${(U.size/(1024*1024)).toFixed(1)}MB`,variant:"destructive"});return}if(t.length>=6){oe({title:"Limite atingido",description:"Voc pode adicionar at 6 fotos."});return}u(!0);try{const H=await x(U,400,.75),V=await x(U,1e3,.8),se=Date.now(),ee=Math.random().toString(36).slice(2,8),J=`${e}/grid_${se}_${ee}.webp`,I=`${e}/full_${se}_${ee}.webp`,D="musician-photos",C="covers";async function E(k){const z=await $.storage.from(k).upload(J,H,{contentType:"image/webp",upsert:!0});if(z.error)throw z.error;const ne=await $.storage.from(k).upload(I,V,{contentType:"image/webp",upsert:!0});if(ne.error)throw ne.error;const Q=$.storage.from(k).getPublicUrl(J).data.publicUrl,R=$.storage.from(k).getPublicUrl(I).data.publicUrl;return{gridUrl:Q,fullUrl:R}}let A=null;try{A=await E(D)}catch(k){const z=String((k==null?void 0:k.message)||"").toLowerCase();if(z.includes("bucket not found")||z.includes("not found")||z.includes("does not exist"))A=await E(C);else throw k}let Y=!0;try{(await $.from("musician_photos").select("id").limit(1)).error&&(Y=!1)}catch{Y=!1}if(Y){const{error:k}=await $.from("musician_photos").insert({musician_id:e,grid_url:A.gridUrl,full_url:A.fullUrl});if(k)throw k}else{r(k=>[{id:`${se}-${ee}`,grid_url:A.gridUrl,full_url:A.fullUrl,description:null,is_public:!0},...k]),oe({title:"Foto enviada",description:"Tabela no encontrada. Exibindo somente nesta sesso."}),u(!1);return}oe({title:"Foto adicionada"}),await y()}catch(H){oe({title:"Erro ao enviar foto",description:(H==null?void 0:H.message)||String(H),variant:"destructive"})}finally{u(!1)}},_=async(T,U)=>{try{const{error:q}=await $.from("musician_photos").update({description:U}).eq("id",T);if(q)throw q;r(re=>re.map(G=>G.id===T?{...G,description:U}:G)),o(null),oe({title:"Descrio atualizada"})}catch(q){oe({title:"Erro ao salvar descrio",description:q.message,variant:"destructive"})}},N=async(T,U)=>{try{const{error:q}=await $.from("musician_photos").update({is_public:!U}).eq("id",T);if(q)throw q;r(re=>re.map(G=>G.id===T?{...G,is_public:!U}:G))}catch{r(re=>re.map(G=>G.id===T?{...G,is_public:!U}:G)),oe({title:"Visibilidade atualizada localmente",description:"Tabela indisponvel no momento."})}},P=async T=>{g(T),w(!0)},S=async()=>{if(!v)return;const T=v;w(!1),g(null);try{const{error:U}=await $.from("musician_photos").delete().eq("id",T);if(U)throw U;r(q=>q.filter(re=>re.id!==T)),oe({title:"Foto removida"})}catch{try{const q=t.find(H=>H.id===T);if(!q)throw new Error("Foto no encontrada em memria");const re=(H,V)=>{const se=`/storage/v1/object/public/${V}/`,ee=H.indexOf(se);return ee===-1?null:H.substring(ee+se.length)},G=["musician-photos","covers"];for(const H of G){const V=re(q.grid_url,H),se=re(q.full_url,H),ee=[V,se].filter(Boolean);ee.length&&await $.storage.from(H).remove(ee)}r(H=>H.filter(V=>V.id!==T)),oe({title:"Foto removida do Storage"})}catch(q){oe({title:"Erro ao remover",description:q.message,variant:"destructive"})}}};return s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Fotos"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{id:"photoInput",type:"file",accept:"image/*",className:"hidden",onChange:b}),s.jsx(O,{variant:"outline",onClick:()=>{var T;return(T=document.getElementById("photoInput"))==null?void 0:T.click()},disabled:d||t.length>=6,children:d?"Enviando...":t.length>=6?"Limite atingido":s.jsxs(s.Fragment,{children:[s.jsx(su,{className:"h-4 w-4 mr-2"})," Adicionar foto"]})})]})]}),s.jsx("p",{className:"text-xs text-muted-foreground mb-3",children:"Tamanho mximo: 2MB. Formatos aceitos: JPG, PNG, GIF. As imagens sero otimizadas automaticamente."}),n?s.jsx("div",{className:"grid grid-cols-3 gap-px",children:Array.from({length:9}).map((T,U)=>s.jsx("div",{className:"aspect-square relative overflow-hidden",children:s.jsx(Xe,{className:"absolute inset-0 w-full h-full"})},U))}):t.length===0?s.jsx("div",{className:"text-sm text-muted-foreground",children:"Nenhuma foto adicionada."}):s.jsxs("div",{className:"grid grid-cols-3 gap-px",children:[t.map(T=>s.jsxs("div",{className:"relative group overflow-hidden aspect-square",children:[s.jsx("img",{src:T.grid_url,alt:"Foto",className:"absolute inset-0 w-full h-full object-cover",loading:"lazy"}),!T.is_public&&s.jsx("div",{className:"absolute inset-0 bg-black/60 flex items-center justify-center z-10",children:s.jsxs("div",{className:"text-center text-white",children:[s.jsx(Xn,{className:"h-8 w-8 mx-auto mb-2 opacity-70"}),s.jsx("p",{className:"text-xs font-medium",children:"Foto oculta"})]})}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"}),s.jsxs("div",{className:"absolute top-2 right-2 flex items-center gap-1 z-20",children:[s.jsx(O,{variant:"ghost",size:"icon",onClick:()=>N(T.id,T.is_public),className:"text-white hover:text-white/90 hover:bg-white/10",style:{color:"white"},children:T.is_public?s.jsx(Fr,{className:"h-4 w-4",style:{color:"white"}}):s.jsx(Xn,{className:"h-4 w-4",style:{color:"white"}})}),s.jsx(O,{variant:"ghost",size:"icon",onClick:()=>P(T.id),className:"text-white hover:text-white/90 hover:bg-white/10",style:{color:"white"},children:s.jsx(Gn,{className:"h-4 w-4",style:{color:"white"}})})]}),s.jsx("div",{className:"absolute bottom-0 left-0 right-0",children:s.jsx("div",{className:"bg-gradient-to-t from-black/80 to-transparent p-2",children:s.jsxs("div",{className:"flex items-end justify-between gap-2",children:[s.jsx("div",{className:"text-xs text-white line-clamp-2",style:{color:"white"},children:T.description||"Sem descrio"}),s.jsx(O,{variant:"ghost",size:"icon",className:"text-white hover:text-white/90 hover:bg-white/10",style:{color:"white"},onClick:()=>{o(T.id),c(T.description||""),m(!0)},children:s.jsx(Ha,{className:"h-4 w-4",style:{color:"white"}})})]})})})]},T.id)),d&&s.jsx("div",{className:"aspect-square relative overflow-hidden bg-muted/20 rounded",children:s.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-2"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Processando..."})]})})})]}),s.jsx(Jr,{open:h,onOpenChange:T=>{m(T),T||o(null)},children:s.jsxs(Kr,{children:[s.jsx(Gr,{children:s.jsx(Yr,{children:"Editar descrio da foto"})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Li,{value:l,onChange:T=>c(T.target.value.slice(0,200)),rows:3,maxLength:200,placeholder:"Escreva uma descrio (at 200 caracteres)"}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:[l.length,"/200"]})]}),s.jsxs(pa,{children:[s.jsx(O,{variant:"outline",onClick:()=>{m(!1),o(null)},children:"Cancelar"}),s.jsx(O,{onClick:async()=>{i&&(await _(i,l),m(!1))},children:"Salvar"})]})]})}),s.jsx(Jr,{open:p,onOpenChange:T=>{w(T),T||g(null)},children:s.jsxs(Kr,{children:[s.jsx(Gr,{children:s.jsx(Yr,{children:"Confirmar excluso"})}),s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"flex items-center gap-3 p-3 bg-muted/30 rounded-lg",children:[s.jsx("div",{className:"w-12 h-12 bg-destructive/10 rounded-lg flex items-center justify-center",children:s.jsx(Gn,{className:"h-6 w-6 text-destructive"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Excluir foto"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Esta ao no pode ser desfeita. A foto ser removida permanentemente."})]})]})}),s.jsxs(pa,{children:[s.jsx(O,{variant:"outline",onClick:()=>{w(!1),g(null)},children:"Cancelar"}),s.jsx(O,{variant:"destructive",onClick:S,children:"Excluir foto"})]})]})})]})}function O4(e){return e.toLowerCase().trim().replace(/[^a-z0-9-\s]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").replace(/^-|-$|_/g,"")}function MK(e){return e.toLowerCase().replace(/[^a-z0-9-\s]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-")}function AK(e){return e.replace(/[^0-9A-Za-z-\s]/g,"").replace(/\s+/g," ").replace(/^\s+/,"")}async function b0(e,t){if(!e)return!1;const{count:r,error:n}=await $.from("profiles").select("id",{count:"exact",head:!0}).ilike("username",e).neq("id",t);if(n)throw n;return(r||0)===0}async function VN(e,t,r=5){const n=[],a=[e,`${e}-${new Date().getFullYear()}`,`${e}-${Math.floor(Math.random()*90+10)}`,`${e}-oficial`,`${e}-music`];let i=0;for(;n.length<r&&i<120;){const o=i<a.length?a[i]:`${e}-${Math.floor(Math.random()*9999)}`,l=O4(o);l&&await b0(l,t)&&!n.includes(l)&&n.push(l),i++}return n}const gp=e=>{const t=e.replace(/\D/g,"");return t.length<=2?t:t.length<=7?`(${t.slice(0,2)}) ${t.slice(2)}`:t.length<=11?`(${t.slice(0,2)}) ${t.slice(2,7)}-${t.slice(7)}`:`(${t.slice(0,2)}) ${t.slice(2,7)}-${t.slice(7,11)}`},OK=({userId:e,isMobile:t})=>{var Q;const[r,n]=f.useState([]),[a,i]=f.useState(""),[o,l]=f.useState(""),[c,d]=f.useState(null),[u,h]=f.useState(!1),[m,p]=f.useState(null),[w,v]=f.useState(null),[g,y]=f.useState([]),[x,b]=f.useState(""),{uploadFile:_}=bH(e),[N,P]=f.useState(""),S=R=>{if(R==null||isNaN(R))return"R$ 0,00";try{return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(R)}catch{return`R$ ${R.toFixed(2)}`.replace(".",",")}},T=R=>{const L=(R||"").replace(/\D/g,"");if(!L)return"";const Z=L.padStart(3,"0"),de=Z.slice(0,-2),_e=Z.slice(-2);return`${de.replace(/\B(?=(\d{3})+(?!\d))/g,".")},${_e}`},{data:U}=Ze({queryKey:["genres"],queryFn:async()=>{const{data:R,error:L}=await $.from("genres").select("id, name").order("name");if(L)throw L;return R}}),{data:q}=Ze({queryKey:["profile-responsible",e],enabled:!!e,queryFn:async()=>{const{data:R,error:L}=await $.from("profiles").select("responsible_name, responsible_whatsapp").eq("id",e).maybeSingle();return L&&console.log("Perfil ainda no tem campos do responsvel:",L.message),R}}),{data:re,refetch:G}=Ze({queryKey:["show-types",e],enabled:!!e,queryFn:async()=>{const{data:R,error:L}=await $.from("show_types").select(`
          *,
          show_type_genres(
            genre_id,
            genres(id, name)
          )
        `).eq("musician_id",e).order("created_at",{ascending:!0});return L&&console.log("Tabela show_types ainda no existe:",L.message),(R==null?void 0:R.map(de=>{var _e;return{...de,genres:((_e=de.show_type_genres)==null?void 0:_e.map(me=>me.genres))||[],cacheFee:typeof de.cache_fee=="number"?de.cache_fee:void 0,isPublic:typeof de.is_public=="boolean"?de.is_public:!0,showCache:typeof de.show_cache=="boolean"?de.show_cache:!0}}))||[]}});f.useEffect(()=>{if(q){i(q.responsible_name||"");const R=q.responsible_whatsapp||"";l(R?gp(R):"")}},[q]),f.useEffect(()=>{if(re){const R=re.map(L=>({id:L.id,name:L.name,description:L.description||"",durationHours:L.duration_hours,durationMinutes:L.duration_minutes,stageMapUrl:L.stage_map_url,technicalRiderUrl:L.technical_rider_url,promoImage1Url:L.promo_image_1_url,promoImage2Url:L.promo_image_2_url,genres:L.genres||[],cacheFee:typeof L.cache_fee=="number"?L.cache_fee:void 0,isPublic:typeof L.is_public=="boolean"?L.is_public:!0,showCache:typeof L.show_cache=="boolean"?L.show_cache:!0}));n(R)}},[re]),f.useEffect(()=>{if(c){const R=c.cacheFee!=null?T(Math.round((c.cacheFee||0)*100).toString()):"";P(R)}else P("")},[c]),f.useEffect(()=>{U&&y(U)},[U]);const H=async()=>{try{const R=o.replace(/\D/g,""),{error:L}=await $.from("profiles").update({responsible_name:a||null,responsible_whatsapp:R||null}).eq("id",e);L&&(localStorage.setItem(`responsible_name_${e}`,a),localStorage.setItem(`responsible_whatsapp_${e}`,R),console.log("Salvando no localStorage como fallback:",L.message)),oe({title:"Informaes do responsvel salvas com sucesso!"})}catch(R){oe({title:"Erro ao salvar",description:R.message,variant:"destructive"})}},V=async(R,L)=>await _(R,"show-files",L),se=async R=>{c&&(d({...c,[R]:void 0}),oe({title:"Arquivo removido!"}))},ee=R=>[".jpg",".jpeg",".png",".gif",".webp"].some(Z=>R.toLowerCase().includes(Z)),J=(R,L)=>{const Z=document.createElement("a");Z.href=R,Z.download=L,Z.target="_blank",document.body.appendChild(Z),Z.click(),document.body.removeChild(Z)},I=R=>{const L=gp(R);l(L)},D=async(R,L)=>{if(c){p(L);try{const Z=await V(R,L);d({...c,[L]:Z})}catch(Z){oe({title:"Erro ao processar arquivo",description:Z.message,variant:"destructive"})}finally{p(null)}}},C=R=>{if(!c)return;const L=c.genres||[];L.find(Z=>Z.id===R.id)||(d({...c,genres:[...L,R]}),b(""))},E=R=>{c&&d({...c,genres:(c.genres||[]).filter(L=>L.id!==R)})},A=()=>{if(!x.trim())return[];const R=((c==null?void 0:c.genres)||[]).map(L=>L.id);return g.filter(L=>L.name.toLowerCase().includes(x.toLowerCase())&&!R.includes(L.id)).slice(0,5)},Y=async()=>{if(c)try{let R=c.id;if(c.id){const{error:L}=await $.from("show_types").update({name:c.name,description:c.description||null,duration_hours:c.durationHours,duration_minutes:c.durationMinutes,stage_map_url:c.stageMapUrl||null,technical_rider_url:c.technicalRiderUrl||null,promo_image_1_url:c.promoImage1Url||null,promo_image_2_url:c.promoImage2Url||null,cache_fee:typeof c.cacheFee=="number"?c.cacheFee:null,is_public:typeof c.isPublic=="boolean"?c.isPublic:!0,show_cache:typeof c.showCache=="boolean"?c.showCache:!0}).eq("id",c.id);if(L)throw L}else{const{data:L,error:Z}=await $.from("show_types").insert({musician_id:e,name:c.name,description:c.description||null,duration_hours:c.durationHours,duration_minutes:c.durationMinutes,stage_map_url:c.stageMapUrl||null,technical_rider_url:c.technicalRiderUrl||null,promo_image_1_url:c.promoImage1Url||null,promo_image_2_url:c.promoImage2Url||null,cache_fee:typeof c.cacheFee=="number"?c.cacheFee:null,is_public:typeof c.isPublic=="boolean"?c.isPublic:!0,show_cache:typeof c.showCache=="boolean"?c.showCache:!0}).select();if(Z)throw Z;R=L[0].id}if(R&&c.genres&&c.genres.length>0){await $.from("show_type_genres").delete().eq("show_type_id",R);const L=c.genres.map(de=>({show_type_id:R,genre_id:de.id})),{error:Z}=await $.from("show_type_genres").insert(L);if(Z)throw Z}else R&&await $.from("show_type_genres").delete().eq("show_type_id",R);await G(),d(null),h(!1),oe({title:"Tipo de show salvo com sucesso!"})}catch(R){let L;if(c.id)L=r.map(Z=>Z.id===c.id?c:Z);else{const Z={...c,id:Date.now().toString()};L=[...r,Z]}n(L),localStorage.setItem(`show_types_${e}`,JSON.stringify(L)),d(null),h(!1),oe({title:"Tipo de show salvo (modo offline)!"}),console.log("Salvando no localStorage como fallback:",R.message)}},k=async R=>{const L=!(R.isPublic??!0);try{if(R.id){const{error:Z}=await $.from("show_types").update({is_public:L}).eq("id",R.id);if(Z)throw Z}n(Z=>Z.map(de=>de.id===R.id?{...de,isPublic:L}:de)),oe({title:L?"Show visvel":"Show oculto"})}catch(Z){n(de=>de.map(_e=>_e.id===R.id?{..._e,isPublic:L}:_e)),oe({title:"Visibilidade atualizada localmente",description:Z==null?void 0:Z.message})}},z=async R=>{try{const{error:L}=await $.from("show_types").delete().eq("id",R);if(L)throw L;await G(),oe({title:"Tipo de show removido!"})}catch(L){const Z=r.filter(de=>de.id!==R);n(Z),localStorage.setItem(`show_types_${e}`,JSON.stringify(Z)),oe({title:"Tipo de show removido (modo offline)!"}),console.log("Removendo do localStorage como fallback:",L.message)}},ne=r.length<5;return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"p-0",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx($e,{htmlFor:"responsibleName",className:"text-gray-400 font-normal",children:"Nome do Responsvel"}),s.jsx(Oe,{id:"responsibleName",value:a,onChange:R=>i(R.target.value),placeholder:"Nome completo"})]}),s.jsxs("div",{children:[s.jsx($e,{htmlFor:"responsibleWhatsapp",children:"WhatsApp"}),s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx(Oe,{id:"responsibleWhatsapp",value:o,onChange:R=>I(R.target.value),placeholder:"(00) 00000-0000",maxLength:15}),s.jsx(O,{onClick:H,className:"w-full md:w-auto mt-4",children:"Salvar"})]})]})]})}),s.jsxs("div",{children:[s.jsx("div",{className:"flex justify-end items-center mb-4",children:ne&&s.jsxs(O,{variant:"outline",onClick:()=>{d({name:"",description:"",durationHours:1,durationMinutes:0,genres:[]}),h(!0)},children:[s.jsx(wc,{className:"h-4 w-4 mr-2"}),"Adicionar Show"]})}),r.length===0?s.jsxs("div",{className:"text-center py-8 border rounded-lg",children:[s.jsx("p",{className:"text-muted-foreground",children:"Nenhum tipo de show cadastrado"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Adicione at 5 tipos de shows diferentes"})]}):s.jsx("div",{className:"space-y-0",children:r.map((R,L)=>s.jsxs("div",{children:[s.jsxs("div",{className:"py-4",children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsx("h4",{className:"font-medium truncate flex-1 mr-2",children:R.name}),t?s.jsxs(Xi,{children:[s.jsx(Zi,{asChild:!0,children:s.jsx(O,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 flex-shrink-0",children:s.jsx(Gi,{className:"h-4 w-4"})})}),s.jsxs(Ga,{align:"end",className:"w-48",children:[s.jsxs(dr,{onClick:()=>k(R),children:[R.isPublic?s.jsx(Fr,{className:"h-4 w-4 mr-2"}):s.jsx(Xn,{className:"h-4 w-4 mr-2"}),R.isPublic?"Ocultar":"Exibir"]}),s.jsxs(dr,{onClick:()=>{d(R),h(!0)},children:[s.jsx(Ha,{className:"h-4 w-4 mr-2"}),"Editar"]}),s.jsxs(dr,{onClick:()=>z(R.id),children:[s.jsx(Gn,{className:"h-4 w-4 mr-2"}),"Remover"]})]})]}):s.jsxs("div",{className:"flex gap-1 flex-shrink-0",children:[s.jsx(O,{variant:"ghost",size:"sm",onClick:()=>k(R),className:"text-muted-foreground hover:text-foreground",title:R.isPublic?"Ocultar este show":"Exibir este show","aria-label":R.isPublic?"Ocultar este show":"Exibir este show",children:R.isPublic?s.jsx(Fr,{className:"h-4 w-4"}):s.jsx(Xn,{className:"h-4 w-4"})}),s.jsx(O,{variant:"ghost",size:"sm",onClick:()=>{d(R),h(!0)},className:"text-muted-foreground hover:text-foreground",title:"Editar este show","aria-label":"Editar este show",children:s.jsx(Ha,{className:"h-4 w-4"})}),s.jsx(O,{variant:"ghost",size:"sm",onClick:()=>z(R.id),className:"text-muted-foreground hover:text-foreground",title:"Remover este show","aria-label":"Remover este show",children:s.jsx(Gn,{className:"h-4 w-4"})})]})]}),s.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:R.description}),s.jsxs("div",{className:"flex items-center gap-3 text-sm mb-2",children:[typeof R.cacheFee=="number"&&(R.showCache??!0)&&s.jsx("span",{className:"px-2 py-1 rounded border bg-secondary/30",children:S(R.cacheFee)}),s.jsxs("div",{className:"flex items-center gap-1 text-muted-foreground",children:[R.isPublic?s.jsx(Fr,{className:"h-3 w-3"}):s.jsx(Xn,{className:"h-3 w-3"}),s.jsx("span",{className:"text-xs",children:R.isPublic?"Visvel":"Oculto"})]})]}),s.jsxs("p",{className:"text-sm mb-2",children:["Durao: ",R.durationHours,"h ",R.durationMinutes>0&&`${R.durationMinutes}min`]}),R.genres&&R.genres.length>0&&s.jsxs("div",{className:"mt-3",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(nr,{className:"h-3 w-3 text-muted-foreground"}),s.jsx("span",{className:"text-xs text-muted-foreground font-medium",children:"Estilos Musicais"})]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:R.genres.map(Z=>s.jsx("span",{className:"inline-flex items-center bg-primary/10 text-primary px-3 py-1 rounded-full text-xs font-medium border border-primary/20",children:Z.name},Z.id))})]})]}),L<r.length-1&&s.jsx("hr",{className:"border-gray"})]},R.id))})]}),s.jsx(Jr,{open:u,onOpenChange:h,children:s.jsxs(Kr,{className:"max-w-3xl max-h-[85vh] p-0 flex flex-col",children:[s.jsx(Gr,{className:"p-6 pb-2",children:s.jsx(Yr,{children:c!=null&&c.id?"Editar Show":"Novo Show"})}),c&&s.jsx("div",{className:"flex-1 overflow-y-auto px-6 pb-4",children:s.jsxs(_d,{defaultValue:"informacoes",className:"w-full",children:[s.jsxs(io,{className:"grid w-full grid-cols-2 mb-6",children:[s.jsx(Lr,{value:"informacoes",children:"Informaes"}),s.jsx(Lr,{value:"arquivos",children:"Arquivos"})]}),s.jsx(Wr,{value:"informacoes",className:"space-y-4",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx($e,{htmlFor:"showName",children:"Nome do Show"}),s.jsx(Oe,{id:"showName",value:c.name,onChange:R=>d({...c,name:R.target.value}),placeholder:"Ex: Show Acstico, Festa Completa..."})]}),s.jsxs("div",{children:[s.jsx($e,{htmlFor:"showDescription",children:"Descrio Breve"}),s.jsx(Li,{id:"showDescription",value:c.description,onChange:R=>d({...c,description:R.target.value.slice(0,300)}),placeholder:"Descreva o tipo de show, repertrio, equipamentos...",rows:3,maxLength:300}),s.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:[((Q=c.description)==null?void 0:Q.length)||0,"/300"]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx($e,{htmlFor:"durationHours",children:"Horas"}),s.jsxs(ul,{value:c.durationHours.toString(),onValueChange:R=>d({...c,durationHours:parseInt(R)}),children:[s.jsx(oo,{children:s.jsx(fl,{placeholder:"Selecione as horas"})}),s.jsx(lo,{children:Array.from({length:24},(R,L)=>s.jsxs(Vr,{value:L.toString(),children:[L,"h"]},L))})]})]}),s.jsxs("div",{children:[s.jsx($e,{htmlFor:"durationMinutes",children:"Minutos"}),s.jsxs(ul,{value:c.durationMinutes.toString(),onValueChange:R=>d({...c,durationMinutes:parseInt(R)}),children:[s.jsx(oo,{children:s.jsx(fl,{placeholder:"Selecione os minutos"})}),s.jsx(lo,{children:Array.from({length:12},(R,L)=>L*5).map(R=>s.jsx(Vr,{value:R.toString(),children:R===0?"0min":`${R}min`},R))})]})]})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx($e,{htmlFor:"cacheFee",children:"Cach"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx(Oe,{id:"cacheFee",inputMode:"numeric",placeholder:"0,00",value:N,onChange:R=>{const L=T(R.target.value);P(L);const Z=Number(L.replace(/\./g,"").replace(",","."));d({...c,cacheFee:isNaN(Z)?void 0:Number(Z.toFixed(2))})},className:"w-full"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:S(c.cacheFee)})]}),s.jsxs("div",{className:"flex flex-col items-center gap-1 flex-shrink-0",children:[s.jsx(Ji,{checked:c.showCache??!0,onCheckedChange:R=>d({...c,showCache:R}),"aria-label":"Exibir cach publicamente"}),s.jsx("span",{className:"text-xs text-muted-foreground text-center",children:c.showCache?"Visvel":"Oculto"})]})]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Informe quais estilos tem esse show"}),s.jsxs("div",{className:"relative",children:[s.jsxs("div",{className:"min-h-[40px] border border-input rounded-md bg-background px-3 py-2 flex flex-wrap items-center gap-2",children:[c.genres&&c.genres.length>0&&s.jsx(s.Fragment,{children:c.genres.map(R=>s.jsxs("div",{className:"flex items-center gap-1 bg-primary/10 text-primary px-2 py-1 rounded-full text-sm",children:[s.jsx("span",{children:R.name}),s.jsx("button",{type:"button",onClick:()=>E(R.id),className:"ml-1 hover:bg-primary/20 rounded-full p-0.5 transition-colors text-primary",children:""})]},R.id))}),s.jsx(Oe,{value:x,onChange:R=>b(R.target.value),placeholder:c.genres&&c.genres.length>0?"Adicionar mais estilos...":"Digite um estilo musical...",className:"border-0 p-0 h-auto min-w-[200px] flex-1 focus-visible:ring-0 focus-visible:ring-offset-0"})]}),A().length>0&&s.jsx("div",{className:"absolute bottom-full left-0 right-0 z-50 bg-background border rounded-md shadow-lg max-h-40 overflow-y-auto mb-1",children:A().map(R=>s.jsx("button",{type:"button",className:"w-full px-3 py-2 text-left hover:bg-muted transition-colors",onClick:()=>C(R),children:R.name},R.id))})]})]})]})}),s.jsx(Wr,{value:"arquivos",className:"space-y-4",children:s.jsxs("div",{className:"space-y-6",children:[s.jsx("h4",{className:"text-sm font-medium text-foreground",children:"Arquivos do Show"}),s.jsxs("div",{className:"border rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx(fc,{className:"h-4 w-4 text-muted-foreground"}),s.jsx($e,{className:"text-sm font-medium",children:"Mapa de Palco"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"(PDF, JPG, PNG - at 5MB)"})]}),c.stageMapUrl?s.jsx("div",{className:"space-y-3",children:s.jsxs("div",{className:"flex items-center justify-between p-3 bg-accent/50 border border-border rounded-md",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[ee(c.stageMapUrl)?s.jsx(hc,{className:"h-4 w-4 text-primary"}):s.jsx(fc,{className:"h-4 w-4 text-primary"}),s.jsx("span",{className:"text-sm text-foreground",children:"Arquivo enviado"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[ee(c.stageMapUrl)?s.jsx(O,{variant:"ghost",size:"sm",onClick:()=>v(c.stageMapUrl),className:"text-primary hover:text-primary hover:bg-primary/10",children:s.jsx(Fr,{className:"h-4 w-4"})}):s.jsx(O,{variant:"ghost",size:"sm",onClick:()=>J(c.stageMapUrl,"mapa-de-palco"),className:"text-primary hover:text-primary hover:bg-primary/10",children:s.jsx(Lm,{className:"h-4 w-4"})}),s.jsx(O,{variant:"ghost",size:"sm",onClick:()=>se("stageMapUrl"),className:"text-destructive hover:text-destructive hover:bg-destructive/10",children:s.jsx(Gn,{className:"h-4 w-4"})})]})]})}):s.jsxs("div",{children:[s.jsx("input",{type:"file",accept:".pdf,.jpg,.jpeg,.png",onChange:R=>{var Z;const L=(Z=R.target.files)==null?void 0:Z[0];L&&D(L,"stageMapUrl")},className:"hidden",id:"stageMap"}),s.jsxs(O,{variant:"outline",onClick:()=>{var R;return(R=document.getElementById("stageMap"))==null?void 0:R.click()},disabled:m==="stageMapUrl",className:"w-full",children:[s.jsx(su,{className:"h-4 w-4 mr-2"}),m==="stageMapUrl"?"Enviando...":"Escolher Arquivo"]})]})]}),s.jsxs("div",{className:"border rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx(fc,{className:"h-4 w-4 text-muted-foreground"}),s.jsx($e,{className:"text-sm font-medium",children:"Rider Tcnico"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"(PDF, DOC, DOCX - at 5MB)"})]}),c.technicalRiderUrl?s.jsx("div",{className:"space-y-3",children:s.jsxs("div",{className:"flex items-center justify-between p-3 bg-accent/50 border border-border rounded-md",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[ee(c.technicalRiderUrl)?s.jsx(hc,{className:"h-4 w-4 text-primary"}):s.jsx(fc,{className:"h-4 w-4 text-primary"}),s.jsx("span",{className:"text-sm text-foreground",children:"Arquivo enviado"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[ee(c.technicalRiderUrl)?s.jsx(O,{variant:"ghost",size:"sm",onClick:()=>v(c.technicalRiderUrl),className:"text-primary hover:text-primary hover:bg-primary/10",children:s.jsx(Fr,{className:"h-4 w-4"})}):s.jsx(O,{variant:"ghost",size:"sm",onClick:()=>J(c.technicalRiderUrl,"rider-tecnico"),className:"text-primary hover:text-primary hover:bg-primary/10",children:s.jsx(Lm,{className:"h-4 w-4"})}),s.jsx(O,{variant:"ghost",size:"sm",onClick:()=>se("technicalRiderUrl"),className:"text-destructive hover:text-destructive hover:bg-destructive/10",children:s.jsx(Gn,{className:"h-4 w-4"})})]})]})}):s.jsxs("div",{children:[s.jsx("input",{type:"file",accept:".pdf,.doc,.docx",onChange:R=>{var Z;const L=(Z=R.target.files)==null?void 0:Z[0];L&&D(L,"technicalRiderUrl")},className:"hidden",id:"technicalRider"}),s.jsxs(O,{variant:"outline",onClick:()=>{var R;return(R=document.getElementById("technicalRider"))==null?void 0:R.click()},disabled:m==="technicalRiderUrl",className:"w-full",children:[s.jsx(su,{className:"h-4 w-4 mr-2"}),m==="technicalRiderUrl"?"Enviando...":"Escolher Arquivo"]})]})]}),s.jsxs("div",{className:"border rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx(hc,{className:"h-4 w-4 text-muted-foreground"}),s.jsx($e,{className:"text-sm font-medium",children:"Imagem de Divulgao"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"(JPG, PNG - at 5MB)"})]}),c.promoImage1Url?s.jsx("div",{className:"space-y-3",children:s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:c.promoImage1Url,alt:"Imagem de divulgao 1",className:"w-full h-32 object-cover rounded-md border"}),s.jsxs("div",{className:"absolute top-2 right-2 flex gap-1",children:[s.jsx(O,{variant:"ghost",size:"sm",onClick:()=>v(c.promoImage1Url),className:"bg-white/80 text-primary hover:text-primary hover:bg-white",children:s.jsx(Fr,{className:"h-4 w-4"})}),s.jsx(O,{variant:"ghost",size:"sm",onClick:()=>se("promoImage1Url"),className:"bg-white/80 text-destructive hover:text-destructive hover:bg-white",children:s.jsx(Gn,{className:"h-4 w-4"})})]})]})}):s.jsxs("div",{children:[s.jsx("input",{type:"file",accept:".jpg,.jpeg,.png",onChange:R=>{var Z;const L=(Z=R.target.files)==null?void 0:Z[0];L&&D(L,"promoImage1Url")},className:"hidden",id:"promoImage1"}),s.jsxs(O,{variant:"outline",onClick:()=>{var R;return(R=document.getElementById("promoImage1"))==null?void 0:R.click()},disabled:m==="promoImage1Url",className:"w-full",children:[s.jsx(su,{className:"h-4 w-4 mr-2"}),m==="promoImage1Url"?"Enviando...":"Escolher Imagem"]})]})]}),s.jsxs("div",{className:"border rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx(hc,{className:"h-4 w-4 text-muted-foreground"}),s.jsx($e,{className:"text-sm font-medium",children:"Imagem de Divulgao"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"(JPG, PNG - at 5MB)"})]}),c.promoImage2Url?s.jsx("div",{className:"space-y-3",children:s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:c.promoImage2Url,alt:"Imagem de divulgao 2",className:"w-full h-32 object-cover rounded-md border"}),s.jsxs("div",{className:"absolute top-2 right-2 flex gap-1",children:[s.jsx(O,{variant:"ghost",size:"sm",onClick:()=>v(c.promoImage2Url),className:"bg-white/80 text-primary hover:text-primary hover:bg-white",children:s.jsx(Fr,{className:"h-4 w-4"})}),s.jsx(O,{variant:"ghost",size:"sm",onClick:()=>se("promoImage2Url"),className:"bg-white/80 text-destructive hover:text-destructive hover:bg-white",children:s.jsx(Gn,{className:"h-4 w-4"})})]})]})}):s.jsxs("div",{children:[s.jsx("input",{type:"file",accept:".jpg,.jpeg,.png",onChange:R=>{var Z;const L=(Z=R.target.files)==null?void 0:Z[0];L&&D(L,"promoImage2Url")},className:"hidden",id:"promoImage2"}),s.jsxs(O,{variant:"outline",onClick:()=>{var R;return(R=document.getElementById("promoImage2"))==null?void 0:R.click()},disabled:m==="promoImage2Url",className:"w-full",children:[s.jsx(su,{className:"h-4 w-4 mr-2"}),m==="promoImage2Url"?"Enviando...":"Escolher Imagem"]})]})]})]})})]})}),s.jsx(pa,{className:"p-4 border-t",children:s.jsxs("div",{className:"flex items-center justify-between gap-3 w-full",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(Ji,{checked:(c==null?void 0:c.isPublic)??!0,onCheckedChange:R=>c&&d({...c,isPublic:R}),"aria-label":"Visibilidade do tipo de show"}),s.jsxs("span",{className:"flex items-center gap-1 text-muted-foreground",children:[c!=null&&c.isPublic?s.jsx(Fr,{className:"h-4 w-4"}):s.jsx(Xn,{className:"h-4 w-4"}),c!=null&&c.isPublic?"Visvel":"Oculto"]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(O,{variant:"outline",onClick:()=>{h(!1),d(null)},children:"Cancelar"}),s.jsx(O,{onClick:Y,children:"Salvar"})]})]})})]})}),s.jsx(Jr,{open:!!w,onOpenChange:()=>v(null),children:s.jsxs(Kr,{className:"max-w-4xl max-h-[90vh] p-0",children:[s.jsx(Gr,{className:"p-6 pb-2",children:s.jsx(Yr,{children:"Visualizar Imagem"})}),w&&s.jsx("div",{className:"px-6 pb-6",children:s.jsx("img",{src:w,alt:"Visualizao completa",className:"w-full h-auto max-h-[70vh] object-contain rounded-md"})})]})})]})},DK=()=>{var wt;const{user:e,loading:t}=ar(),r=Rr(),n=sl(),{resolvedTheme:a}=as(),[i,o]=f.useState("dados"),[l,c]=f.useState(""),[d,u]=f.useState(""),[h,m]=f.useState(""),[p,w]=f.useState(50),[v,g]=f.useState(null),[y,x]=f.useState(null),[b,_]=f.useState("desktop"),[N,P]=f.useState(""),[S,T]=f.useState(!1),[U,q]=f.useState(!1),[re,G]=f.useState(""),[H,V]=f.useState(""),[se,ee]=f.useState(""),[J,I]=f.useState(""),[D,C]=f.useState(""),[E,A]=f.useState(!1),[Y,k]=f.useState(!1),[z,ne]=f.useState(!1),[Q,R]=f.useState(!1),[L,Z]=f.useState(!1),[de,_e]=f.useState(""),[me,xe]=f.useState(""),Ge=f.useMemo(()=>O4(me),[me]),[Nt,Ot]=f.useState(!1),[Ct,It]=f.useState(null),[B,te]=f.useState([]),[ce,be]=f.useState(!1),[we,pe]=f.useState(!1),[Se,Ue]=f.useState(""),[fe,We]=f.useState(""),[yt,et]=f.useState(""),kt=l||(e==null?void 0:e.email)||"Usurio",zt=d||void 0;async function ir(ie,He=150*1024){const Fe=await new Promise((Ns,Et)=>{const qn=new Image;qn.onload=()=>Ns(qn),qn.onerror=Et,qn.src=URL.createObjectURL(ie)}),gt=600;let vt=Fe.width,nt=Fe.height;const Jt=Math.min(1,gt/Math.max(vt,nt));vt=Math.max(1,Math.round(vt*Jt)),nt=Math.max(1,Math.round(nt*Jt));const X=document.createElement("canvas");X.width=vt,X.height=nt;const Mr=X.getContext("2d");if(!Mr)throw new Error("Canvas context not available");Mr.drawImage(Fe,0,0,vt,nt);let br=.4,nn=.9,pr=null;for(let Ns=0;Ns<7;Ns++){const Et=(br+nn)/2,qn=await new Promise(hn=>X.toBlob(zg=>hn(zg||new Blob),"image/jpeg",Et));qn.size<=He?(pr=qn,br=Et):nn=Et}const os=pr||await new Promise(Ns=>X.toBlob(Et=>Ns(Et||new Blob),"image/jpeg",.75));return URL.revokeObjectURL(Fe.src),{blob:os,ext:"jpg"}}const F=S||!!((wt=e==null?void 0:e.user_metadata)!=null&&wt.is_pro),ae=async(ie,He,Fe=.8)=>{if(ie.size>2097152)throw new Error("Arquivo muito grande. Tamanho mximo: 2MB");const nt=document.createElement("img"),Jt=URL.createObjectURL(ie);try{await new Promise((pr,os)=>{nt.onload=()=>pr(),nt.onerror=os,nt.src=Jt});const X=Math.min(1,He/nt.naturalWidth),Mr=document.createElement("canvas");Mr.width=Math.round(nt.naturalWidth*X),Mr.height=Math.round(nt.naturalHeight*X);const br=Mr.getContext("2d");if(!br)throw new Error("Canvas context not available");br.imageSmoothingEnabled=!0,br.imageSmoothingQuality="high",br.drawImage(nt,0,0,Mr.width,Mr.height);const nn=await new Promise(pr=>Mr.toBlob(os=>pr(os),"image/webp",Fe));if(nn.size>2097152)throw new Error("Imagem otimizada ainda muito grande. Tente uma imagem menor.");return nn}finally{URL.revokeObjectURL(Jt)}},ye=async()=>{await $.auth.signOut(),r("/")},{data:Pe,refetch:st}=Ze({queryKey:["roles",e==null?void 0:e.id],enabled:!!(e!=null&&e.id),queryFn:async()=>{const{data:ie,error:He}=await $.from("user_roles").select("role").eq("user_id",e.id);if(He)throw He;return ie}}),at=(Pe||[]).some(ie=>ie.role==="musician"),{shouldShowIndicator:ze,isActiveComputed:wr,isLoading:kr}=Of({userId:e==null?void 0:e.id,isMusician:at}),{checkAndActivate:Re}=wH({userId:e==null?void 0:e.id,isMusician:at,profileData:{displayName:l,avatarUrl:d,coverUrl:h,description:N,username:me||de,whatsapp:re},exists:Q}),ke=async()=>{if(e)try{const{data:ie,error:He}=await $.from("profiles").select("*").eq("id",e.id).maybeSingle();if(He){oe({title:"Erro ao carregar perfil",description:He.message});return}if(ie){R(!0),c(ie.display_name||""),u(ie.avatar_url||""),m(ie.cover_url||""),T(!!(ie!=null&&ie.is_pro)),q(!!(ie!=null&&ie.is_active)),P(ie.description||""),Ue(ie.description||"");const Fe=ie.whatsapp||"";G(Fe?gp(Fe):""),V(ie.instagram||""),ee(ie.facebook||""),I(ie.youtube||""),C(ie.spotify||""),_e(ie.username||""),xe(ie.username||""),w(ie.cover_position??50),g(ie.cover_position_mobile??null),x(ie.cover_position_desktop??null);const gt=ie.responsible_name,vt=ie.pix_key;et(gt&&gt.trim()!==""?gt:""),We(vt&&vt.trim()!==""?vt:"")}}catch(ie){console.error("Erro ao carregar perfil:",ie)}};f.useEffect(()=>{ke()},[e]),f.useEffect(()=>{if(!e)return;if(!at){It(null),te([]);return}if(!Ge){It(null),te([]);return}let ie=!1;Ot(!0);const He=setTimeout(async()=>{try{const Fe=await b0(Ge,e.id);if(ie)return;if(It(Fe),Fe)te([]);else{const gt=await VN(Ge,e.id,5);ie||te(gt)}}catch(Fe){ie||oe({title:"Erro ao validar usurio",description:Fe.message})}finally{ie||Ot(!1)}},400);return()=>{ie=!0,clearTimeout(He)}},[Ge,e,at]);const qe=f.useMemo(()=>{if(!e)return"";const ie=window.location.origin;return de?`${ie}/${de}`:`${ie}/m/${e.id}`},[e,de]),Ye=ie=>{const He=gp(ie);G(He)},ft=async()=>{if(e){ne(!0);try{const{error:ie}=await $.from("profiles").update({responsible_name:yt||null,pix_key:fe||null}).eq("id",e.id);if(ie)throw ie;oe({title:"Dados bancrios salvos"})}catch(ie){oe({title:"Erro ao salvar dados bancrios",description:ie.message})}finally{ne(!1)}}},dt=async()=>{if(e){ne(!0);try{if(at&&me){if(!/^[a-z0-9](?:[a-z0-9-]{1,28}[a-z0-9])?$/.test(Ge)){oe({title:"Nome de usurio invlido",description:"Use 3-30 caracteres, letras minsculas, nmeros e hfens. No inicie/termine com hfen."});return}if(!await b0(Ge,e.id)&&Ge!==de){if(oe({title:"Nome indisponvel",description:"Escolha uma das sugestes ou tente outro."}),B.length===0){const vt=await VN(Ge,e.id,5);te(vt)}return}}const ie=re.replace(/\D/g,""),He=!1;if(Q){let Fe={display_name:l||null,avatar_url:d||null,cover_url:h||null,cover_position:p,cover_position_mobile:v,cover_position_desktop:y,whatsapp:ie||null,instagram:H||null,facebook:se||null,youtube:J||null,spotify:D||null,description:N||null,username:at?me?Ge:null:void 0,is_active:He},{error:gt}=await $.from("profiles").update(Fe).eq("id",e.id);if(gt&&String(gt.message).includes("cover_position_")){delete Fe.cover_position_mobile,delete Fe.cover_position_desktop;const vt=await $.from("profiles").update(Fe).eq("id",e.id);if(vt.error)throw vt.error}else if(gt)throw gt}else{let Fe={id:e.id,display_name:l||null,avatar_url:d||null,cover_url:h||null,cover_position:p,cover_position_mobile:v,cover_position_desktop:y,whatsapp:ie||null,instagram:H||null,facebook:se||null,youtube:J||null,spotify:D||null,description:N||null,username:at?me?Ge:null:void 0,is_active:He},{error:gt}=await $.from("profiles").insert(Fe);if(gt&&String(gt.message).includes("cover_position_")){delete Fe.cover_position_mobile,delete Fe.cover_position_desktop;const vt=await $.from("profiles").insert(Fe);if(vt.error)throw vt.error}else if(gt)throw gt;R(!0)}at&&_e(me?Ge:""),oe({title:"Perfil salvo"}),at&&await Re()}catch(ie){oe({title:"Erro ao salvar",description:ie.message})}finally{ne(!1)}}};return s.jsxs("main",{className:"min-h-screen bg-background",children:[s.jsx(Xt,{title:"Perfil do Msico e QR Code",description:"Cadastre dados e gere seu QR Code para pedidos."}),s.jsxs("header",{className:"sticky top-0 z-40 h-12 flex items-center bg-background/80 supports-[backdrop-filter]:bg-background/60 backdrop-blur border-b px-4",children:[e&&s.jsx(O,{variant:"ghost",size:"icon",className:"mr-2","aria-label":"Abrir menu",onClick:()=>Z(!0),children:s.jsx(Nf,{className:"h-5 w-5"})}),s.jsxs("nav",{className:"flex w-full items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Yt,{to:"/",className:"font-semibold",children:s.jsx("img",{src:a==="dark"?"/logo_avaplay.png":"/logo_avaplay_amarelo.png",alt:"AVAPlay",className:"h-6"})}),s.jsx(jd,{isVisible:ze})]}),s.jsx("div",{className:"hidden md:flex items-center gap-2",children:e?null:s.jsx(O,{onClick:()=>r("/auth"),children:"Entrar"})})]})]}),s.jsxs("section",{className:"max-w-4xl mx-auto px-4 py-6",children:[e&&s.jsx(Ka,{open:L,onOpenChange:Z,children:s.jsx(ma,{side:"left",className:"w-[16rem] p-0",children:s.jsxs("nav",{className:"p-2",children:[s.jsxs("div",{className:" items-center gap-3 p-3 border-b mb-2",children:[s.jsxs(Bt,{className:"h-10 w-10",isPro:F,children:[s.jsx(qt,{src:zt,alt:kt??"Usurio"}),s.jsx(Vt,{children:(kt||"U").charAt(0).toUpperCase()})]}),s.jsx("div",{className:"min-w-0",children:s.jsx("p",{className:"text-sm truncate font-normal",children:kt})})]}),at&&s.jsx(O,{variant:"ghost",className:"w-full justify-start",onClick:()=>{Z(!1),r("/musician")},children:"Painel"}),s.jsx(O,{variant:"ghost",className:"w-full justify-start",onClick:()=>{Z(!1),r("/requests")},children:"Meus Pedidos"}),s.jsx(O,{variant:"ghost",className:"w-full justify-start",onClick:()=>{Z(!1),r("/conexoes")},children:"Conexes"}),s.jsx(O,{variant:"ghost",className:"w-full justify-start",onClick:()=>{Z(!1),r("/musician/profile")},children:"Editar perfil"}),s.jsx(O,{variant:"ghost",className:"w-full justify-start",onClick:()=>{Z(!1),ye()},children:"Sair"})]})})}),!e&&!t&&s.jsxs(tt,{className:"border-0 shadow-none",children:[s.jsx(Qt,{children:s.jsx(cr,{children:"Entre para configurar seu perfil"})}),s.jsx(rt,{children:s.jsx(O,{onClick:()=>r("/auth"),children:"Entrar"})})]}),e&&(at?s.jsx("div",{className:"space-y-6",children:s.jsxs(_d,{value:i,onValueChange:o,className:"w-full",children:[n?s.jsxs("div",{className:"flex items-center gap-2 w-full",children:[s.jsxs(io,{className:"flex-1",children:[s.jsx(Lr,{value:"dados",className:"flex-1",children:"Meus dados"}),s.jsx(Lr,{value:"contato",className:"flex-1",children:"Contato"})]}),s.jsxs(Xi,{children:[s.jsx(Zi,{asChild:!0,children:s.jsx(O,{variant:"outline",size:"sm",className:"h-9 px-2",children:s.jsx(Gi,{className:"h-4 w-4"})})}),s.jsxs(Ga,{align:"end",className:"w-48",children:[s.jsx(dr,{onClick:()=>o("contratantes"),children:"Contratantes"}),s.jsx(dr,{onClick:()=>o("fotos"),children:"Fotos"}),s.jsx(dr,{onClick:()=>o("qrcode"),children:"QrCode"}),s.jsx(dr,{onClick:()=>o("bancarios"),children:"Dados bancrios"})]})]})]}):s.jsxs(io,{className:"grid w-full grid-cols-6",children:[s.jsx(Lr,{value:"dados",children:"Meus dados"}),s.jsx(Lr,{value:"contato",children:"Contato"}),s.jsx(Lr,{value:"contratantes",children:"Contratantes"}),s.jsx(Lr,{value:"fotos",children:"Fotos"}),s.jsx(Lr,{value:"qrcode",children:"QrCode"}),s.jsx(Lr,{value:"bancarios",children:"Dados bancrios"})]}),s.jsxs(Wr,{value:"dados",children:[!kr&&!wr&&s.jsx(Tg,{className:"mt-4 border-orange-200 bg-orange-50 dark:border-orange-800 dark:bg-orange-950",variant:"default",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"flex-shrink-0 mt-0.5",children:s.jsx("svg",{className:"w-4 h-4 text-orange-500",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx(_M,{className:"text-orange-800 dark:text-orange-200 font-medium text-sm",children:"Conta inativa - Complete os campos obrigatrios"}),s.jsx(Rg,{className:"text-orange-700 dark:text-orange-300 text-xs mt-1",children:"Avatar, foto de capa, nome pblico, nome de usurio, descrio e WhatsApp. Seu perfil no ser exibido publicamente at que todos os campos sejam preenchidos."})]})]})}),s.jsx(tt,{className:"border-0 shadow-none mt-5",children:s.jsxs(rt,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("input",{id:"avatarFile",type:"file",accept:"image/*",className:"hidden",onChange:async ie=>{var gt,vt;const He=ie.target,Fe=(gt=He==null?void 0:He.files)==null?void 0:gt[0];if(!(!Fe||!e)){k(!0);try{let nt=Fe,Jt=((vt=Fe.name.split(".").pop())==null?void 0:vt.toLowerCase())||"jpg",X=Fe.type||"image/jpeg";try{const pr=await ir(Fe,153600);nt=pr.blob,Jt=pr.ext,X="image/jpeg"}catch(pr){console.warn("Compresso do avatar falhou, enviando original:",pr)}const Mr=`${e.id}/avatar-${Date.now()}.${Jt}`,{error:br}=await $.storage.from("avatars").upload(Mr,nt,{upsert:!0,contentType:X});if(br)throw br;const{data:nn}=$.storage.from("avatars").getPublicUrl(Mr);u(nn.publicUrl);try{const{error:pr}=await $.from("profiles").update({avatar_url:nn.publicUrl}).eq("id",e.id);pr&&await $.from("profiles").insert({id:e.id,avatar_url:nn.publicUrl})}catch(pr){console.warn("Falha ao persistir avatar no perfil:",pr)}oe({title:"Avatar enviado",description:"Imagem atualizada com sucesso."})}catch(nt){oe({title:"Erro ao enviar avatar",description:nt.message})}finally{k(!1),He&&(He.value="")}}}}),Y&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground mt-2",children:[s.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-primary border-t-transparent rounded-full"}),"Enviando imagem..."]})]}),s.jsxs("div",{children:[s.jsx($e,{htmlFor:"displayName",children:"Nome pblico"}),s.jsx(Oe,{id:"displayName",value:l,onChange:ie=>c(AK(ie.target.value))})]}),s.jsxs("div",{children:[s.jsx($e,{htmlFor:"username",children:"Nome pblico (link)"}),s.jsxs("div",{className:"relative",children:[s.jsx(Oe,{id:"username",placeholder:"ex.: joao-silva",value:me,onChange:ie=>xe(MK(ie.target.value)),className:"pr-8"}),s.jsx("div",{className:"absolute right-2 top-1/2 -translate-y-1/2",children:Nt?s.jsx(Hp,{className:"h-4 w-4 animate-spin text-muted-foreground"}):Ct===!0&&Ge?s.jsx(Mw,{className:"h-4 w-4 text-green-600"}):Ct===!1&&Ge?s.jsx(Aw,{className:"h-4 w-4 text-destructive"}):null})]}),Nt?s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Verificando disponibilidade..."}):Ct===!0?s.jsxs("p",{className:"text-xs text-green-600 mt-1",children:["Disponvel! Seu perfil: ",`/${Ge}`]}):Ct===!1?s.jsxs("div",{className:"text-xs mt-1",children:[s.jsx("p",{className:"text-destructive mb-2",children:"Nome em uso. Sugestes:"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:B.map(ie=>s.jsx(O,{size:"sm",variant:"secondary",onClick:()=>xe(ie),children:ie},ie))})]}):s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:'Use apenas letras minsculas, nmeros e "-".'})]}),s.jsxs("div",{children:[s.jsx($e,{htmlFor:"description",children:"Descrio"}),N?s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"p-3 border rounded-lg bg-muted/30 min-h-[80px]",children:s.jsx("p",{className:"text-sm text-foreground whitespace-pre-wrap",children:N})}),s.jsx(O,{variant:"ghost",size:"sm",className:"absolute top-2 right-2 h-8 w-8 p-0 bg-background/80 hover:bg-background text-primary hover:text-primary/80",onClick:()=>{Ue(N),pe(!0)},"aria-label":"Editar descrio",children:s.jsx(Ha,{className:"h-4 w-4"})})]}):s.jsx("div",{className:"p-3 border-2 border-dashed border-muted-foreground/30 rounded-lg bg-muted/20 min-h-[80px] flex items-center justify-center cursor-pointer hover:border-primary/50 hover:bg-muted/30 transition-colors",onClick:()=>pe(!0),children:s.jsxs("div",{className:"text-center text-muted-foreground",children:[s.jsx("p",{className:"text-sm font-medium",children:"Adicionar descrio"}),s.jsx("p",{className:"text-xs",children:"Clique para contar um pouco sobre voc"})]})})]}),s.jsxs("div",{children:[s.jsx($e,{htmlFor:"coverFile",children:"Foto de capa"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Esta ser a imagem de destaque no seu perfil pblico."}),s.jsxs("div",{className:"space-y-4",children:[h?s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:`relative ${b==="mobile"?"h-40":"h-64"} w-full rounded-lg overflow-hidden border`,children:[s.jsx("img",{src:h,alt:"Capa do msico",className:"absolute inset-0 w-full h-full object-cover",style:{objectPosition:`center ${b==="mobile"?v??p:y??p}%`},loading:"lazy"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-black/40 to-transparent"}),s.jsx("div",{className:"absolute bottom-3 left-4 right-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative p-1 rounded-full bg-transparent",children:[s.jsxs(Bt,{className:"h-16 w-16 sm:h-20 sm:w-20 border-4 border-white/20 shadow-lg cursor-pointer",onClick:()=>{var ie;return(ie=document.getElementById("avatarFile"))==null?void 0:ie.click()},children:[s.jsx(qt,{src:zt,alt:kt??"Usurio"}),s.jsx(Vt,{className:"text-lg sm:text-xl font-semibold bg-primary/20 text-primary-foreground",children:(kt||"U").charAt(0).toUpperCase()})]}),Y&&s.jsx("div",{className:"absolute inset-0 rounded-full bg-black/40 backdrop-blur-sm flex items-center justify-center z-10",children:s.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-2 border-primary border-t-transparent"})}),s.jsx("button",{type:"button",className:"absolute -top-1 -right-1 h-6 w-6 rounded-full bg-background/80 border shadow-sm text-muted-foreground hover:text-foreground",onClick:()=>{var ie;return(ie=document.getElementById("avatarFile"))==null?void 0:ie.click()},"aria-label":"Editar avatar",children:s.jsx(Ha,{className:"h-3 w-3 mx-auto"})})]}),s.jsxs("div",{className:"inline-block rounded-md bg-background/60 backdrop-blur supports-[backdrop-filter]:backdrop-blur-sm px-1.5 py-1 sm:px-2 sm:py-1.5",children:[s.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2",children:[s.jsx("h1",{className:"text-lg sm:text-2xl font-semibold text-foreground",children:l||"Seu Nome"}),S&&s.jsx(nl,{size:n?22:28})]}),s.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 mt-0.5 text-xs sm:text-sm text-muted-foreground",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Wc,{className:"w-3 h-3 sm:w-4 sm:h-4"})," 0"]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(nr,{className:"w-3 h-3 sm:w-4 sm:h-4"})," 0"]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(am,{className:"w-3 h-3 sm:w-4 sm:h-4"})," 0"]})]})]})]})}),E?s.jsx("div",{className:"absolute inset-0 bg-black/30 backdrop-blur-sm flex items-center justify-center z-10 rounded-lg",children:s.jsx("div",{className:"flex flex-col items-center gap-4 p-6 bg-background/80 backdrop-blur-sm rounded-2xl shadow-xl border border-border/30",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-primary border-t-transparent"}),s.jsx("span",{className:"text-sm font-medium text-foreground",children:"Enviando..."})]})})}):null,s.jsxs("div",{className:"absolute top-3 right-3 flex gap-2",children:[s.jsx(O,{type:"button",variant:"ghost",size:"sm",className:"h-8 w-8 rounded-full bg-background/80 backdrop-blur text-muted-foreground hover:text-foreground shadow-sm",onClick:()=>{var ie;return(ie=document.getElementById("coverFile"))==null?void 0:ie.click()},children:s.jsx(Ha,{className:"h-4 w-4"})}),s.jsx(O,{type:"button",variant:"ghost",size:"sm",className:"h-8 w-8 rounded-full bg-background/80 backdrop-blur text-muted-foreground hover:text-foreground shadow-sm",onClick:()=>{m(""),w(50)},children:s.jsx(Gn,{className:"h-4 w-4"})})]})]}),s.jsx("div",{className:"pt-2",children:b==="desktop"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx($e,{className:"text-sm",children:"Desktop (vertical)"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"text-xs text-muted-foreground",children:"Topo"}),s.jsx("input",{type:"range",min:"0",max:"100",value:y??p,onChange:ie=>x(Number(ie.target.value)),className:"w-full h-2 bg-muted/30 rounded-lg appearance-none cursor-pointer slider-primary [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:w-4 [&::-webkit-slider-thumb]:h-4 [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:bg-gray-500 [&::-webkit-slider-thumb]:cursor-pointer [&::-moz-range-thumb]:w-4 [&::-moz-range-thumb]:h-4 [&::-moz-range-thumb]:rounded-full [&::-moz-range-thumb]:bg-gray-500 [&::-moz-range-thumb]:cursor-pointer",style:{background:`linear-gradient(to right, hsl(0 0% 50% / 0.7) 0%, hsl(0 0% 50% / 0.7) ${y??p}%, hsl(var(--muted) / 0.3) ${y??p}%, hsl(var(--muted) / 0.3) 100%)`}}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"Base"})]})]})}),s.jsxs("div",{className:"hidden sm:block pt-4",children:[s.jsx($e,{className:"text-xs text-muted-foreground",children:"Prvia mobile"}),s.jsxs("div",{className:"w-[360px] max-w-full",children:[s.jsxs("div",{className:"relative h-40 w-full rounded-lg overflow-hidden border mt-1",children:[s.jsx("img",{src:h,alt:"Prvia mobile da capa",className:"absolute inset-0 w-full h-full object-cover",style:{objectPosition:`center ${v??p}%`}}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-black/40 to-transparent"})]}),s.jsxs("div",{className:"space-y-2 mt-2",children:[s.jsx($e,{className:"text-sm",children:"Mobile (vertical)"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"text-xs text-muted-foreground",children:"Topo"}),s.jsx("input",{type:"range",min:"0",max:"100",value:v??p,onChange:ie=>g(Number(ie.target.value)),className:"w-full h-2 bg-muted/30 rounded-lg appearance-none cursor-pointer slider-primary [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:w-4 [&::-webkit-slider-thumb]:h-4 [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:bg-gray-500 [&::-webkit-slider-thumb]:cursor-pointer [&::-moz-range-thumb]:w-4 [&::-moz-range-thumb]:h-4 [&::-moz-range-thumb]:rounded-full [&::-moz-range-thumb]:bg-gray-500 [&::-moz-range-thumb]:cursor-pointer",style:{background:`linear-gradient(to right, hsl(0 0% 50% / 0.7) 0%, hsl(0 0% 50% / 0.7) ${v??p}%, hsl(var(--muted) / 0.3) ${v??p}%, hsl(var(--muted) / 0.3) 100%)`}}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"Base"})]})]})]})]})]}):s.jsx("div",{className:"relative h-40 sm:h-56 md:h-64 w-full rounded-lg overflow-hidden border-2 border-dashed border-muted-foreground/30 hover:border-primary transition-colors cursor-pointer flex items-center justify-center bg-muted/50",onClick:()=>{var ie;return(ie=document.getElementById("coverFile"))==null?void 0:ie.click()},children:s.jsxs("div",{className:"flex flex-col items-center justify-center text-muted-foreground",children:[s.jsx(hc,{className:"h-12 w-12 mb-2"}),s.jsx("span",{className:"text-sm font-medium",children:"Adicionar foto de capa"}),s.jsx("span",{className:"text-xs",children:"Clique para selecionar uma imagem"})]})}),s.jsx("input",{id:"coverFile",type:"file",accept:"image/*",className:"hidden",onChange:async ie=>{var nt;const He=ie.target,Fe=(nt=He==null?void 0:He.files)==null?void 0:nt[0];if(!Fe||!e)return;if(!Fe.type.startsWith("image/")){oe({title:"Tipo de arquivo invlido",description:"Selecione apenas arquivos de imagem.",variant:"destructive"});return}const gt=2,vt=gt*1024*1024;if(Fe.size>vt){oe({title:"Arquivo muito grande",description:`Tamanho mximo permitido: ${gt}MB. Seu arquivo: ${(Fe.size/(1024*1024)).toFixed(1)}MB`,variant:"destructive"});return}console.log("Iniciando upload do banner..."),A(!0),console.log("Estado uploadingCover definido como true");try{const Jt=await ae(Fe,1200,.8),Mr=`${e.id}/cover-${Date.now()}.webp`,{error:br}=await $.storage.from("covers").upload(Mr,Jt,{upsert:!0,contentType:"image/webp"});if(br)throw br;const{data:nn}=$.storage.from("covers").getPublicUrl(Mr);if(m(nn.publicUrl),w(50),e)try{const{error:pr}=await $.from("profiles").update({cover_url:nn.publicUrl,cover_position:50}).eq("id",e.id);pr?(console.error("Erro ao atualizar perfil:",pr),oe({title:"Capa enviada, mas erro ao salvar no perfil",description:"Clique em 'Salvar' para persistir as mudanas.",variant:"destructive"})):(R(!0),await ke())}catch(pr){console.error("Erro ao atualizar perfil:",pr)}}catch(Jt){oe({title:"Erro ao enviar capa",description:Jt.message})}finally{console.log("Finalizando upload, resetando uploadingCover para false"),A(!1),He&&(He.value="")}}})]})]}),s.jsxs("div",{children:[s.jsx($e,{htmlFor:"email",children:"Email de cadastro"}),s.jsx(Oe,{className:"border-none px-0 text-gray-400",id:"email",value:(e==null?void 0:e.email)||"",readOnly:!0})]}),s.jsxs("div",{className:"pt-2 space-y-4",children:[!at&&s.jsx("div",{className:"rounded-md border p-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",children:"Tornar-se msico"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Operao irreversvel. Ao ativar, voc passar a receber pedidos."})]}),s.jsx(Ji,{checked:!1,onCheckedChange:ie=>{ie&&be(!0)},disabled:at,"aria-label":"Ativar perfil de msico"})]})}),s.jsx(w0,{open:ce,onOpenChange:be,children:s.jsxs(cp,{children:[s.jsxs(dp,{children:[s.jsx(fp,{children:"Confirmar mudana para perfil de msico"}),s.jsx(hp,{children:"Esta ao  irreversvel. Deseja realmente ativar o perfil de msico? Voc no poder retornar ao perfil apenas pblico."})]}),s.jsxs(up,{children:[s.jsx(pp,{children:"Cancelar"}),s.jsx(mp,{onClick:async()=>{if(e)try{const{error:ie}=await $.from("user_roles").insert({user_id:e.id,role:"musician"});if(ie&&!String(ie.message).toLowerCase().includes("duplicate"))throw ie;oe({title:"Perfil de msico ativado"}),be(!1),await st()}catch(ie){oe({title:"Erro ao mudar perfil",description:ie.message})}},children:"Ativar"})]})]})}),s.jsx(Jr,{open:we,onOpenChange:pe,children:s.jsxs(Kr,{className:"sm:max-w-2xl",children:[s.jsx(Gr,{children:s.jsx(Yr,{children:"Editar Descrio"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx($e,{htmlFor:"description-modal",children:"Descrio"}),s.jsx(Li,{id:"description-modal",placeholder:"Conte um pouco sobre voc, estilos, repertrio, experincia...",value:Se,onChange:ie=>Ue(ie.target.value.slice(0,400)),maxLength:400,className:"min-h-[200px] resize-none"}),s.jsxs("div",{className:"text-xs text-muted-foreground text-right",children:[(Se==null?void 0:Se.length)||0,"/400"]})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(O,{variant:"outline",onClick:()=>pe(!1),children:"Cancelar"}),s.jsx(O,{onClick:async()=>{try{if(!e)return;const{error:ie}=await $.from("profiles").update({description:Se}).eq("id",e.id);if(ie)throw ie;P(Se),pe(!1),oe({title:"Descrio salva",description:"Sua descrio foi atualizada com sucesso."})}catch(ie){oe({title:"Erro ao salvar",description:ie.message})}},disabled:!Se.trim(),children:"Salvar"})]})]})]})}),s.jsx(O,{onClick:dt,disabled:z,children:z?"Salvando...":"Salvar"})]})]})})]}),s.jsx(Wr,{value:"contato",children:s.jsx(tt,{className:"border-0 shadow-none mt-5",children:s.jsxs(rt,{children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx($e,{htmlFor:"whatsapp",children:"WhatsApp"}),s.jsx(Oe,{id:"whatsapp",value:re,onChange:ie=>Ye(ie.target.value),placeholder:"(00) 00000-0000",maxLength:15})]}),s.jsxs("div",{children:[s.jsx($e,{htmlFor:"instagram",children:"Instagram"}),s.jsx(Oe,{id:"instagram",value:H,onChange:ie=>V(ie.target.value),placeholder:"@usuario ou URL"})]}),s.jsxs("div",{children:[s.jsx($e,{htmlFor:"facebook",children:"Facebook"}),s.jsx(Oe,{id:"facebook",value:se,onChange:ie=>ee(ie.target.value),placeholder:"URL do perfil/pgina"})]}),s.jsxs("div",{children:[s.jsx($e,{htmlFor:"youtube",children:"YouTube"}),s.jsx(Oe,{id:"youtube",value:J,onChange:ie=>I(ie.target.value),placeholder:"URL do canal"})]}),s.jsxs("div",{children:[s.jsx($e,{htmlFor:"spotify",children:"Spotify"}),s.jsx(Oe,{id:"spotify",value:D||"",onChange:ie=>C(ie.target.value),placeholder:"URL do perfil/artist"})]})]}),s.jsx("div",{className:"pt-4",children:s.jsx(O,{onClick:dt,disabled:z,children:z?"Salvando...":"Salvar"})})]})})}),s.jsx(Wr,{value:"contratantes",children:s.jsxs(tt,{className:"border-0 shadow-none mt-5",children:[s.jsx(Qt,{children:s.jsx(cr,{children:"Tipos de Shows"})}),s.jsx(rt,{children:s.jsx(OK,{userId:e.id,isMobile:n})})]})}),s.jsx(Wr,{value:"fotos",children:s.jsx(tt,{className:"border-0 shadow-none mt-0",children:s.jsx(rt,{className:"mt-10",children:s.jsx(RK,{userId:e.id})})})}),s.jsx(Wr,{value:"qrcode",children:s.jsx(tt,{className:"border-0 shadow-none",children:s.jsxs(rt,{className:"space-y-3",children:[s.jsx("div",{className:"flex items-center justify-center p-2",children:qe&&s.jsx("div",{className:"bg-card rounded-md p-2 inline-block",children:s.jsx(jM,{value:qe,size:192,includeMargin:!0})})}),s.jsx("div",{className:"flex justify-center",children:s.jsx(O,{variant:"outline",onClick:()=>{navigator.clipboard.writeText(qe),oe({title:"Link copiado"})},children:"Copiar link"})})]})})}),s.jsx(Wr,{value:"bancarios",children:s.jsxs(tt,{className:"border-0 shadow-none mt-5",children:[s.jsx(Qt,{children:s.jsx(cr,{children:"Dados bancrios"})}),s.jsxs(rt,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx($e,{htmlFor:"bankResponsibleName",children:"Nome completo"}),s.jsx(Oe,{id:"bankResponsibleName",value:yt,onChange:ie=>et(ie.target.value),placeholder:"Digite seu nome completo"})]}),s.jsxs("div",{children:[s.jsx($e,{htmlFor:"pixKey",children:"Chave PIX"}),s.jsx(Oe,{id:"pixKey",value:fe,onChange:ie=>We(ie.target.value),placeholder:"Digite sua chave PIX"})]}),s.jsx("div",{className:"flex justify-start pt-2",children:s.jsx(O,{onClick:ft,disabled:z,children:z?"Salvando...":"Salvar"})})]})]})})]})}):s.jsx("div",{className:"grid grid-cols-1 gap-6",children:s.jsxs(tt,{className:"border-0 shadow-none",children:[s.jsx(Qt,{children:s.jsx(cr,{children:"Seus dados"})}),s.jsxs(rt,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx($e,{htmlFor:"email",children:"Email de cadastro"}),s.jsx(Oe,{id:"email",value:(e==null?void 0:e.email)||"",readOnly:!0})]}),s.jsxs("div",{children:[s.jsx($e,{htmlFor:"displayName",children:"Nome pblico"}),s.jsx(Oe,{id:"displayName",value:l,onChange:ie=>c(ie.target.value)})]}),s.jsxs("div",{children:[s.jsx($e,{htmlFor:"avatarFile",children:"Avatar"}),s.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[s.jsx("input",{id:"avatarFile",type:"file",accept:"image/*",className:"hidden",onChange:async ie=>{var gt,vt;const He=ie.target,Fe=(gt=He==null?void 0:He.files)==null?void 0:gt[0];if(!(!Fe||!e)){k(!0);try{const nt=((vt=Fe.name.split(".").pop())==null?void 0:vt.toLowerCase())||"jpg",Jt=`${e.id}/avatar-${Date.now()}.${nt}`,{error:X}=await $.storage.from("avatars").upload(Jt,Fe,{upsert:!0,contentType:Fe.type});if(X)throw X;const{data:Mr}=$.storage.from("avatars").getPublicUrl(Jt);u(Mr.publicUrl),oe({title:"Avatar enviado",description:"Pr-visualizao atualizada."})}catch(nt){oe({title:"Erro ao enviar avatar",description:nt.message})}finally{k(!1),He&&(He.value="")}}}}),s.jsx(O,{type:"button",variant:"outline",onClick:()=>{var ie;return(ie=document.getElementById("avatarFile"))==null?void 0:ie.click()},disabled:Y,children:Y?"Enviando...":"Enviar avatar"}),d&&s.jsx(O,{type:"button",variant:"ghost",onClick:()=>u(""),children:"Remover"})]}),d&&s.jsx("div",{className:"mt-3",children:s.jsxs(Bt,{className:"h-16 w-16",isPro:S,children:[s.jsx(qt,{src:d,alt:"Avatar do msico"}),s.jsx(Vt,{children:(l||"U").charAt(0).toUpperCase()})]})})]}),s.jsxs("div",{className:"pt-2 space-y-4",children:[!at&&s.jsx("div",{className:"rounded-md border p-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",children:"Tornar-se msico"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Operao irreversvel. Ao ativar, voc passar a receber pedidos."})]}),s.jsx(Ji,{checked:!1,onCheckedChange:ie=>{ie&&be(!0)},disabled:at,"aria-label":"Ativar perfil de msico"})]})}),s.jsx(w0,{open:ce,onOpenChange:be,children:s.jsxs(cp,{children:[s.jsxs(dp,{children:[s.jsx(fp,{children:"Confirmar mudana para perfil de msico"}),s.jsx(hp,{children:"Esta ao  irreversvel. Deseja realmente ativar o perfil de msico? Voc no poder retornar ao perfil apenas pblico."})]}),s.jsxs(up,{children:[s.jsx(pp,{children:"Cancelar"}),s.jsx(mp,{onClick:async()=>{if(e)try{const{error:ie}=await $.from("user_roles").insert({user_id:e.id,role:"musician"});if(ie&&!String(ie.message).toLowerCase().includes("duplicate"))throw ie;oe({title:"Perfil de msico ativado"}),be(!1),await st()}catch(ie){oe({title:"Erro ao mudar perfil",description:ie.message})}},children:"Ativar"})]})]})}),s.jsx(O,{onClick:dt,disabled:z,children:z?"Salvando...":"Salvar"})]})]})]})}))]})]})};function IK(){const{user:e}=ar(),t=f.useRef(null);f.useEffect(()=>{if(!e)return;console.log(" [NewRequestNotification] Setting up notification system for user:",e.id);const r=$.channel(`new-requests-notification-${e.id}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"requests"},async n=>{const a=n.new;if(!a)return;let i=a.musician_id===e.id;if(!i&&a.song_id)try{const{data:l}=await $.from("songs").select("owner_id").eq("id",a.song_id).limit(1).maybeSingle();i=!!l&&l.owner_id===e.id}catch{}if(!i)return;console.log(" [NewRequestNotification] New request received:",a),(()=>{oa({particleCount:150,spread:70,origin:{y:.6},colors:["#10B981","#059669","#065F46","#34D399","#6EE7B7"]}),setTimeout(()=>{oa({particleCount:100,spread:60,origin:{x:.2,y:.4},colors:["#F59E0B","#D97706","#FBBF24","#FCD34D"]})},200),setTimeout(()=>{oa({particleCount:100,spread:60,origin:{x:.8,y:.4},colors:["#EF4444","#DC2626","#F87171","#FCA5A5"]})},400),setTimeout(()=>{oa({particleCount:50,spread:90,origin:{y:.1},colors:["#8B5CF6","#7C3AED","#A78BFA","#C4B5FD"]})},600)})(),oe({title:" Novo Pedido de Msica!",description:`${a.requester_name||"Algum"} acabou de solicitar uma msica. Que emoo! `,duration:1e4}),"Notification"in window&&Notification.permission==="granted"&&new Notification(" Novo Pedido de Msica!",{body:`${a.requester_name||"Algum"} acabou de solicitar uma msica!`,icon:"/favicon.ico",tag:"new-request"})}).subscribe(n=>{console.log(" [NewRequestNotification] Subscription status:",n)});return()=>{console.log(" [NewRequestNotification] Cleaning up notification system"),$.removeChannel(r)}},[e]),f.useEffect(()=>{if(!(e!=null&&e.id))return;let r=!1;const n=async()=>{var i;try{const{data:o,error:l}=await $.from("requests").select("created_at").eq("musician_id",e.id).order("created_at",{ascending:!1}).limit(1);if(l)return;const c=(i=o==null?void 0:o[0])==null?void 0:i.created_at;if(!c)return;if(!t.current){t.current=c;return}c>t.current&&(t.current=c,oa({particleCount:120,spread:60,origin:{y:.6},colors:["#10B981","#34D399"]}),oe({title:" Novo Pedido de Msica!",description:"Voc recebeu um novo pedido.",duration:8e3}))}catch{}};n();const a=setInterval(()=>{r||n()},8e3);return()=>{r=!0,clearInterval(a)}},[e==null?void 0:e.id]),f.useEffect(()=>{"Notification"in window&&Notification.permission==="default"&&Notification.requestPermission().then(r=>{console.log(" [NewRequestNotification] Notification permission:",r)})},[])}const FK=()=>{const{user:e,loading:t}=ar(),r=Rr(),{resolvedTheme:n,setTheme:a}=as(),i=()=>a(n==="dark"?"light":"dark");IK();const{shouldShowIndicator:o}=Of({userId:e==null?void 0:e.id,isMusician:!0});return f.useEffect(()=>{if(!t){if(!e){r("/auth",{replace:!0});return}(async()=>{const{data:l}=await $.from("user_roles").select("role").eq("user_id",e.id);(l||[]).some(d=>d.role==="musician")||r("/",{replace:!0})})()}},[e,t,r]),s.jsx(si,{children:s.jsxs("div",{className:"min-h-screen flex w-full bg-background",children:[s.jsx(Af,{}),s.jsxs("main",{className:"flex-1",children:[s.jsx(Xt,{title:"Painel do Msico",description:"Gerencie QR Code, catlogo e pedidos."}),s.jsxs("header",{className:"sticky top-0 z-40 h-12 flex items-center bg-background/80 supports-[backdrop-filter]:bg-background/60 backdrop-blur border-b px-2 gap-2",children:[s.jsx(bd,{className:"mr-1"}),s.jsxs("nav",{className:"flex w-full items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Yt,{to:"/",className:"font-semibold",children:s.jsx("img",{src:n==="dark"?"/logo_avaplay.png":"/logo_avaplay_amarelo.png",alt:"AVAPlay",className:"h-6"})}),s.jsx(jd,{isVisible:o})]}),s.jsx(O,{variant:"ghost",size:"icon","aria-label":"Alternar tema",onClick:i,children:n==="dark"?s.jsx(Gp,{className:"h-5 w-5"}):s.jsx(Kp,{className:"h-5 w-5"})})]})]}),s.jsx("div",{className:"p-1",children:s.jsx(VE,{})})]})]})})},LK=()=>{const{user:e}=ar(),t=Rr(),r=f.useMemo(()=>e?`${window.location.origin}/m/${e.id}`:"",[e]);return s.jsxs("section",{className:"max-w-5xl mx-auto",children:[s.jsx(Xt,{title:"QR Code do Msico",description:"Gere e compartilhe seu QR Code pblico."}),e?s.jsxs("div",{className:"space-y-6",children:[s.jsx(tt,{className:"border-none shadow-none",children:s.jsx(rt,{className:"pt-6",children:s.jsx("div",{className:"flex justify-center",children:s.jsx("div",{className:"bg-white p-8 rounded-lg shadow-sm border",children:s.jsx(jM,{value:r,size:280,level:"M",includeMargin:!0,bgColor:"#ffffff",fgColor:"#000000"})})})})}),s.jsxs(tt,{className:"border-none shadow-none",children:[s.jsx(Qt,{children:s.jsx(cr,{children:"Compartilhe seu perfil"})}),s.jsxs(rt,{className:"space-y-4",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Compartilhe este QR Code para que as pessoas possam acessar seu perfil pblico e fazer pedidos de msica."}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Oe,{readOnly:!0,value:r,className:"flex-1"}),s.jsx(O,{variant:"outline",onClick:()=>{navigator.clipboard.writeText(r).then(()=>oe({title:"Link copiado!"})).catch(()=>oe({title:"Erro ao copiar",variant:"destructive"}))},children:"Copiar Link"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(O,{variant:"secondary",onClick:()=>t(`/m/${e.id}`),className:"flex-1",children:"Visualizar Perfil Pblico"}),s.jsx(O,{variant:"outline",onClick:()=>{window.print()},children:"Imprimir QR"})]})]})]})]})]}):s.jsxs(tt,{children:[s.jsx(Qt,{children:s.jsx(cr,{children:"Entre para gerar seu QR"})}),s.jsx(rt,{children:s.jsx(O,{onClick:()=>t("/auth"),children:"Entrar"})})]})]})};var Vf=e=>e.type==="checkbox",Fo=e=>e instanceof Date,yn=e=>e==null;const D4=e=>typeof e=="object";var Sr=e=>!yn(e)&&!Array.isArray(e)&&D4(e)&&!Fo(e),I4=e=>Sr(e)&&e.target?Vf(e.target)?e.target.checked:e.target.value:e,$K=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,F4=(e,t)=>e.has($K(t)),zK=e=>{const t=e.constructor&&e.constructor.prototype;return Sr(t)&&t.hasOwnProperty("isPrototypeOf")},zb=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Dr(e){let t;const r=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(zb&&(e instanceof Blob||n))&&(r||Sr(e)))if(t=r?[]:{},!r&&!zK(e))t=e;else for(const a in e)e.hasOwnProperty(a)&&(t[a]=Dr(e[a]));else return e;return t}var Ig=e=>/^\w*$/.test(e),_r=e=>e===void 0,Ub=e=>Array.isArray(e)?e.filter(Boolean):[],Bb=e=>Ub(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Te=(e,t,r)=>{if(!t||!Sr(e))return r;const n=(Ig(t)?[t]:Bb(t)).reduce((a,i)=>yn(a)?a:a[i],e);return _r(n)||n===e?_r(e[t])?r:e[t]:n},Kn=e=>typeof e=="boolean",Ft=(e,t,r)=>{let n=-1;const a=Ig(t)?[t]:Bb(t),i=a.length,o=i-1;for(;++n<i;){const l=a[n];let c=r;if(n!==o){const d=e[l];c=Sr(d)||Array.isArray(d)?d:isNaN(+a[n+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const vp={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},$s={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ka={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},qb=he.createContext(null);qb.displayName="HookFormContext";const Fg=()=>he.useContext(qb),UK=e=>{const{children:t,...r}=e;return he.createElement(qb.Provider,{value:r},t)};var L4=(e,t,r,n=!0)=>{const a={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(a,i,{get:()=>{const o=i;return t._proxyFormState[o]!==$s.all&&(t._proxyFormState[o]=!n||$s.all),r&&(r[o]=!0),e[o]}});return a};const Vb=typeof window<"u"?he.useLayoutEffect:he.useEffect;function BK(e){const t=Fg(),{control:r=t.control,disabled:n,name:a,exact:i}=e||{},[o,l]=he.useState(r._formState),c=he.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return Vb(()=>r._subscribe({name:a,formState:c.current,exact:i,callback:d=>{!n&&l({...r._formState,...d})}}),[a,n,i]),he.useEffect(()=>{c.current.isValid&&r._setValid(!0)},[r]),he.useMemo(()=>L4(o,r,c.current,!1),[o,r])}var da=e=>typeof e=="string",$4=(e,t,r,n,a)=>da(e)?(n&&t.watch.add(e),Te(r,e,a)):Array.isArray(e)?e.map(i=>(n&&t.watch.add(i),Te(r,i))):(n&&(t.watchAll=!0),r),j0=e=>yn(e)||!D4(e);function za(e,t,r=new WeakSet){if(j0(e)||j0(t))return e===t;if(Fo(e)&&Fo(t))return e.getTime()===t.getTime();const n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const i of n){const o=e[i];if(!a.includes(i))return!1;if(i!=="ref"){const l=t[i];if(Fo(o)&&Fo(l)||Sr(o)&&Sr(l)||Array.isArray(o)&&Array.isArray(l)?!za(o,l,r):o!==l)return!1}}return!0}function qK(e){const t=Fg(),{control:r=t.control,name:n,defaultValue:a,disabled:i,exact:o,compute:l}=e||{},c=he.useRef(a),d=he.useRef(l),u=he.useRef(void 0);d.current=l;const h=he.useMemo(()=>r._getWatch(n,c.current),[r,n]),[m,p]=he.useState(d.current?d.current(h):h);return Vb(()=>r._subscribe({name:n,formState:{values:!0},exact:o,callback:w=>{if(!i){const v=$4(n,r._names,w.values||r._formValues,!1,c.current);if(d.current){const g=d.current(v);za(g,u.current)||(p(g),u.current=g)}else p(v)}}}),[r,i,n,o]),he.useEffect(()=>r._removeUnmounted()),m}function VK(e){const t=Fg(),{name:r,disabled:n,control:a=t.control,shouldUnregister:i,defaultValue:o}=e,l=F4(a._names.array,r),c=he.useMemo(()=>Te(a._formValues,r,Te(a._defaultValues,r,o)),[a,r,o]),d=qK({control:a,name:r,defaultValue:c,exact:!0}),u=BK({control:a,name:r,exact:!0}),h=he.useRef(e),m=he.useRef(a.register(r,{...e.rules,value:d,...Kn(e.disabled)?{disabled:e.disabled}:{}}));h.current=e;const p=he.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Te(u.errors,r)},isDirty:{enumerable:!0,get:()=>!!Te(u.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!Te(u.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!Te(u.validatingFields,r)},error:{enumerable:!0,get:()=>Te(u.errors,r)}}),[u,r]),w=he.useCallback(x=>m.current.onChange({target:{value:I4(x),name:r},type:vp.CHANGE}),[r]),v=he.useCallback(()=>m.current.onBlur({target:{value:Te(a._formValues,r),name:r},type:vp.BLUR}),[r,a._formValues]),g=he.useCallback(x=>{const b=Te(a._fields,r);b&&x&&(b._f.ref={focus:()=>x.focus&&x.focus(),select:()=>x.select&&x.select(),setCustomValidity:_=>x.setCustomValidity(_),reportValidity:()=>x.reportValidity()})},[a._fields,r]),y=he.useMemo(()=>({name:r,value:d,...Kn(n)||u.disabled?{disabled:u.disabled||n}:{},onChange:w,onBlur:v,ref:g}),[r,n,u.disabled,w,v,g,d]);return he.useEffect(()=>{const x=a._options.shouldUnregister||i;a.register(r,{...h.current.rules,...Kn(h.current.disabled)?{disabled:h.current.disabled}:{}});const b=(_,N)=>{const P=Te(a._fields,_);P&&P._f&&(P._f.mount=N)};if(b(r,!0),x){const _=Dr(Te(a._options.defaultValues,r));Ft(a._defaultValues,r,_),_r(Te(a._formValues,r))&&Ft(a._formValues,r,_)}return!l&&a.register(r),()=>{(l?x&&!a._state.action:x)?a.unregister(r):b(r,!1)}},[r,a,l,i]),he.useEffect(()=>{a._setDisabledField({disabled:n,name:r})},[n,r,a]),he.useMemo(()=>({field:y,formState:u,fieldState:p}),[y,u,p])}const WK=e=>e.render(VK(e));var z4=(e,t,r,n,a)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:a||!0}}:{},Pu=e=>Array.isArray(e)?e:[e],WN=()=>{let e=[];return{get observers(){return e},next:a=>{for(const i of e)i.next&&i.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(i=>i!==a)}}),unsubscribe:()=>{e=[]}}},Mn=e=>Sr(e)&&!Object.keys(e).length,Wb=e=>e.type==="file",zs=e=>typeof e=="function",xp=e=>{if(!zb)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},U4=e=>e.type==="select-multiple",Hb=e=>e.type==="radio",HK=e=>Hb(e)||Vf(e),yx=e=>xp(e)&&e.isConnected;function KK(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=_r(e)?n++:e[t[n++]];return e}function GK(e){for(const t in e)if(e.hasOwnProperty(t)&&!_r(e[t]))return!1;return!0}function Er(e,t){const r=Array.isArray(t)?t:Ig(t)?[t]:Bb(t),n=r.length===1?e:KK(e,r),a=r.length-1,i=r[a];return n&&delete n[i],a!==0&&(Sr(n)&&Mn(n)||Array.isArray(n)&&GK(n))&&Er(e,r.slice(0,-1)),e}var B4=e=>{for(const t in e)if(zs(e[t]))return!0;return!1};function yp(e,t={}){const r=Array.isArray(e);if(Sr(e)||r)for(const n in e)Array.isArray(e[n])||Sr(e[n])&&!B4(e[n])?(t[n]=Array.isArray(e[n])?[]:{},yp(e[n],t[n])):yn(e[n])||(t[n]=!0);return t}function q4(e,t,r){const n=Array.isArray(e);if(Sr(e)||n)for(const a in e)Array.isArray(e[a])||Sr(e[a])&&!B4(e[a])?_r(t)||j0(r[a])?r[a]=Array.isArray(e[a])?yp(e[a],[]):{...yp(e[a])}:q4(e[a],yn(t)?{}:t[a],r[a]):r[a]=!za(e[a],t[a]);return r}var Qd=(e,t)=>q4(e,t,yp(t));const HN={value:!1,isValid:!1},KN={value:!0,isValid:!0};var V4=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!_r(e[0].attributes.value)?_r(e[0].value)||e[0].value===""?KN:{value:e[0].value,isValid:!0}:KN:HN}return HN},W4=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>_r(e)?e:t?e===""?NaN:e&&+e:r&&da(e)?new Date(e):n?n(e):e;const GN={isValid:!1,value:null};var H4=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,GN):GN;function YN(e){const t=e.ref;return Wb(t)?t.files:Hb(t)?H4(e.refs).value:U4(t)?[...t.selectedOptions].map(({value:r})=>r):Vf(t)?V4(e.refs).value:W4(_r(t.value)?e.ref.value:t.value,e)}var YK=(e,t,r,n)=>{const a={};for(const i of e){const o=Te(t,i);o&&Ft(a,i,o._f)}return{criteriaMode:r,names:[...e],fields:a,shouldUseNativeValidation:n}},wp=e=>e instanceof RegExp,Xd=e=>_r(e)?e:wp(e)?e.source:Sr(e)?wp(e.value)?e.value.source:e.value:e,QN=e=>({isOnSubmit:!e||e===$s.onSubmit,isOnBlur:e===$s.onBlur,isOnChange:e===$s.onChange,isOnAll:e===$s.all,isOnTouch:e===$s.onTouched});const XN="AsyncFunction";var QK=e=>!!e&&!!e.validate&&!!(zs(e.validate)&&e.validate.constructor.name===XN||Sr(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===XN)),XK=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),ZN=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const Tu=(e,t,r,n)=>{for(const a of r||Object.keys(e)){const i=Te(e,a);if(i){const{_f:o,...l}=i;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],a)&&!n)return!0;if(o.ref&&t(o.ref,o.name)&&!n)return!0;if(Tu(l,t))break}else if(Sr(l)&&Tu(l,t))break}}};function JN(e,t,r){const n=Te(e,r);if(n||Ig(r))return{error:n,name:r};const a=r.split(".");for(;a.length;){const i=a.join("."),o=Te(t,i),l=Te(e,i);if(o&&!Array.isArray(o)&&r!==i)return{name:r};if(l&&l.type)return{name:i,error:l};if(l&&l.root&&l.root.type)return{name:`${i}.root`,error:l.root};a.pop()}return{name:r}}var ZK=(e,t,r,n)=>{r(e);const{name:a,...i}=e;return Mn(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(o=>t[o]===(!n||$s.all))},JK=(e,t,r)=>!e||!t||e===t||Pu(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),eG=(e,t,r,n,a)=>a.isOnAll?!1:!r&&a.isOnTouch?!(t||e):(r?n.isOnBlur:a.isOnBlur)?!e:(r?n.isOnChange:a.isOnChange)?e:!0,tG=(e,t)=>!Ub(Te(e,t)).length&&Er(e,t),rG=(e,t,r)=>{const n=Pu(Te(e,r));return Ft(n,"root",t[r]),Ft(e,r,n),e},fm=e=>da(e);function eS(e,t,r="validate"){if(fm(e)||Array.isArray(e)&&e.every(fm)||Kn(e)&&!e)return{type:r,message:fm(e)?e:"",ref:t}}var Hl=e=>Sr(e)&&!wp(e)?e:{value:e,message:""},tS=async(e,t,r,n,a,i)=>{const{ref:o,refs:l,required:c,maxLength:d,minLength:u,min:h,max:m,pattern:p,validate:w,name:v,valueAsNumber:g,mount:y}=e._f,x=Te(r,v);if(!y||t.has(v))return{};const b=l?l[0]:o,_=G=>{a&&b.reportValidity&&(b.setCustomValidity(Kn(G)?"":G||""),b.reportValidity())},N={},P=Hb(o),S=Vf(o),T=P||S,U=(g||Wb(o))&&_r(o.value)&&_r(x)||xp(o)&&o.value===""||x===""||Array.isArray(x)&&!x.length,q=z4.bind(null,v,n,N),re=(G,H,V,se=ka.maxLength,ee=ka.minLength)=>{const J=G?H:V;N[v]={type:G?se:ee,message:J,ref:o,...q(G?se:ee,J)}};if(i?!Array.isArray(x)||!x.length:c&&(!T&&(U||yn(x))||Kn(x)&&!x||S&&!V4(l).isValid||P&&!H4(l).isValid)){const{value:G,message:H}=fm(c)?{value:!!c,message:c}:Hl(c);if(G&&(N[v]={type:ka.required,message:H,ref:b,...q(ka.required,H)},!n))return _(H),N}if(!U&&(!yn(h)||!yn(m))){let G,H;const V=Hl(m),se=Hl(h);if(!yn(x)&&!isNaN(x)){const ee=o.valueAsNumber||x&&+x;yn(V.value)||(G=ee>V.value),yn(se.value)||(H=ee<se.value)}else{const ee=o.valueAsDate||new Date(x),J=C=>new Date(new Date().toDateString()+" "+C),I=o.type=="time",D=o.type=="week";da(V.value)&&x&&(G=I?J(x)>J(V.value):D?x>V.value:ee>new Date(V.value)),da(se.value)&&x&&(H=I?J(x)<J(se.value):D?x<se.value:ee<new Date(se.value))}if((G||H)&&(re(!!G,V.message,se.message,ka.max,ka.min),!n))return _(N[v].message),N}if((d||u)&&!U&&(da(x)||i&&Array.isArray(x))){const G=Hl(d),H=Hl(u),V=!yn(G.value)&&x.length>+G.value,se=!yn(H.value)&&x.length<+H.value;if((V||se)&&(re(V,G.message,H.message),!n))return _(N[v].message),N}if(p&&!U&&da(x)){const{value:G,message:H}=Hl(p);if(wp(G)&&!x.match(G)&&(N[v]={type:ka.pattern,message:H,ref:o,...q(ka.pattern,H)},!n))return _(H),N}if(w){if(zs(w)){const G=await w(x,r),H=eS(G,b);if(H&&(N[v]={...H,...q(ka.validate,H.message)},!n))return _(H.message),N}else if(Sr(w)){let G={};for(const H in w){if(!Mn(G)&&!n)break;const V=eS(await w[H](x,r),b,H);V&&(G={...V,...q(H,V.message)},_(V.message),n&&(N[v]=G))}if(!Mn(G)&&(N[v]={ref:b,...G},!n))return N}}return _(!0),N};const nG={mode:$s.onSubmit,reValidateMode:$s.onChange,shouldFocusError:!0};function sG(e={}){let t={...nG,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:zs(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},a=Sr(t.defaultValues)||Sr(t.values)?Dr(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:Dr(a),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,d=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let h={...u};const m={array:WN(),state:WN()},p=t.criteriaMode===$s.all,w=B=>te=>{clearTimeout(d),d=setTimeout(B,te)},v=async B=>{if(!t.disabled&&(u.isValid||h.isValid||B)){const te=t.resolver?Mn((await S()).errors):await U(n,!0);te!==r.isValid&&m.state.next({isValid:te})}},g=(B,te)=>{!t.disabled&&(u.isValidating||u.validatingFields||h.isValidating||h.validatingFields)&&((B||Array.from(l.mount)).forEach(ce=>{ce&&(te?Ft(r.validatingFields,ce,te):Er(r.validatingFields,ce))}),m.state.next({validatingFields:r.validatingFields,isValidating:!Mn(r.validatingFields)}))},y=(B,te=[],ce,be,we=!0,pe=!0)=>{if(be&&ce&&!t.disabled){if(o.action=!0,pe&&Array.isArray(Te(n,B))){const Se=ce(Te(n,B),be.argA,be.argB);we&&Ft(n,B,Se)}if(pe&&Array.isArray(Te(r.errors,B))){const Se=ce(Te(r.errors,B),be.argA,be.argB);we&&Ft(r.errors,B,Se),tG(r.errors,B)}if((u.touchedFields||h.touchedFields)&&pe&&Array.isArray(Te(r.touchedFields,B))){const Se=ce(Te(r.touchedFields,B),be.argA,be.argB);we&&Ft(r.touchedFields,B,Se)}(u.dirtyFields||h.dirtyFields)&&(r.dirtyFields=Qd(a,i)),m.state.next({name:B,isDirty:re(B,te),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Ft(i,B,te)},x=(B,te)=>{Ft(r.errors,B,te),m.state.next({errors:r.errors})},b=B=>{r.errors=B,m.state.next({errors:r.errors,isValid:!1})},_=(B,te,ce,be)=>{const we=Te(n,B);if(we){const pe=Te(i,B,_r(ce)?Te(a,B):ce);_r(pe)||be&&be.defaultChecked||te?Ft(i,B,te?pe:YN(we._f)):V(B,pe),o.mount&&v()}},N=(B,te,ce,be,we)=>{let pe=!1,Se=!1;const Ue={name:B};if(!t.disabled){if(!ce||be){(u.isDirty||h.isDirty)&&(Se=r.isDirty,r.isDirty=Ue.isDirty=re(),pe=Se!==Ue.isDirty);const fe=za(Te(a,B),te);Se=!!Te(r.dirtyFields,B),fe?Er(r.dirtyFields,B):Ft(r.dirtyFields,B,!0),Ue.dirtyFields=r.dirtyFields,pe=pe||(u.dirtyFields||h.dirtyFields)&&Se!==!fe}if(ce){const fe=Te(r.touchedFields,B);fe||(Ft(r.touchedFields,B,ce),Ue.touchedFields=r.touchedFields,pe=pe||(u.touchedFields||h.touchedFields)&&fe!==ce)}pe&&we&&m.state.next(Ue)}return pe?Ue:{}},P=(B,te,ce,be)=>{const we=Te(r.errors,B),pe=(u.isValid||h.isValid)&&Kn(te)&&r.isValid!==te;if(t.delayError&&ce?(c=w(()=>x(B,ce)),c(t.delayError)):(clearTimeout(d),c=null,ce?Ft(r.errors,B,ce):Er(r.errors,B)),(ce?!za(we,ce):we)||!Mn(be)||pe){const Se={...be,...pe&&Kn(te)?{isValid:te}:{},errors:r.errors,name:B};r={...r,...Se},m.state.next(Se)}},S=async B=>{g(B,!0);const te=await t.resolver(i,t.context,YK(B||l.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return g(B),te},T=async B=>{const{errors:te}=await S(B);if(B)for(const ce of B){const be=Te(te,ce);be?Ft(r.errors,ce,be):Er(r.errors,ce)}else r.errors=te;return te},U=async(B,te,ce={valid:!0})=>{for(const be in B){const we=B[be];if(we){const{_f:pe,...Se}=we;if(pe){const Ue=l.array.has(pe.name),fe=we._f&&QK(we._f);fe&&u.validatingFields&&g([be],!0);const We=await tS(we,l.disabled,i,p,t.shouldUseNativeValidation&&!te,Ue);if(fe&&u.validatingFields&&g([be]),We[pe.name]&&(ce.valid=!1,te))break;!te&&(Te(We,pe.name)?Ue?rG(r.errors,We,pe.name):Ft(r.errors,pe.name,We[pe.name]):Er(r.errors,pe.name))}!Mn(Se)&&await U(Se,te,ce)}}return ce.valid},q=()=>{for(const B of l.unMount){const te=Te(n,B);te&&(te._f.refs?te._f.refs.every(ce=>!yx(ce)):!yx(te._f.ref))&&Q(B)}l.unMount=new Set},re=(B,te)=>!t.disabled&&(B&&te&&Ft(i,B,te),!za(C(),a)),G=(B,te,ce)=>$4(B,l,{...o.mount?i:_r(te)?a:da(B)?{[B]:te}:te},ce,te),H=B=>Ub(Te(o.mount?i:a,B,t.shouldUnregister?Te(a,B,[]):[])),V=(B,te,ce={})=>{const be=Te(n,B);let we=te;if(be){const pe=be._f;pe&&(!pe.disabled&&Ft(i,B,W4(te,pe)),we=xp(pe.ref)&&yn(te)?"":te,U4(pe.ref)?[...pe.ref.options].forEach(Se=>Se.selected=we.includes(Se.value)):pe.refs?Vf(pe.ref)?pe.refs.forEach(Se=>{(!Se.defaultChecked||!Se.disabled)&&(Array.isArray(we)?Se.checked=!!we.find(Ue=>Ue===Se.value):Se.checked=we===Se.value||!!we)}):pe.refs.forEach(Se=>Se.checked=Se.value===we):Wb(pe.ref)?pe.ref.value="":(pe.ref.value=we,pe.ref.type||m.state.next({name:B,values:Dr(i)})))}(ce.shouldDirty||ce.shouldTouch)&&N(B,we,ce.shouldTouch,ce.shouldDirty,!0),ce.shouldValidate&&D(B)},se=(B,te,ce)=>{for(const be in te){if(!te.hasOwnProperty(be))return;const we=te[be],pe=B+"."+be,Se=Te(n,pe);(l.array.has(B)||Sr(we)||Se&&!Se._f)&&!Fo(we)?se(pe,we,ce):V(pe,we,ce)}},ee=(B,te,ce={})=>{const be=Te(n,B),we=l.array.has(B),pe=Dr(te);Ft(i,B,pe),we?(m.array.next({name:B,values:Dr(i)}),(u.isDirty||u.dirtyFields||h.isDirty||h.dirtyFields)&&ce.shouldDirty&&m.state.next({name:B,dirtyFields:Qd(a,i),isDirty:re(B,pe)})):be&&!be._f&&!yn(pe)?se(B,pe,ce):V(B,pe,ce),ZN(B,l)&&m.state.next({...r,name:B}),m.state.next({name:o.mount?B:void 0,values:Dr(i)})},J=async B=>{o.mount=!0;const te=B.target;let ce=te.name,be=!0;const we=Te(n,ce),pe=fe=>{be=Number.isNaN(fe)||Fo(fe)&&isNaN(fe.getTime())||za(fe,Te(i,ce,fe))},Se=QN(t.mode),Ue=QN(t.reValidateMode);if(we){let fe,We;const yt=te.type?YN(we._f):I4(B),et=B.type===vp.BLUR||B.type===vp.FOCUS_OUT,kt=!XK(we._f)&&!t.resolver&&!Te(r.errors,ce)&&!we._f.deps||eG(et,Te(r.touchedFields,ce),r.isSubmitted,Ue,Se),zt=ZN(ce,l,et);Ft(i,ce,yt),et?(we._f.onBlur&&we._f.onBlur(B),c&&c(0)):we._f.onChange&&we._f.onChange(B);const ir=N(ce,yt,et),F=!Mn(ir)||zt;if(!et&&m.state.next({name:ce,type:B.type,values:Dr(i)}),kt)return(u.isValid||h.isValid)&&(t.mode==="onBlur"?et&&v():et||v()),F&&m.state.next({name:ce,...zt?{}:ir});if(!et&&zt&&m.state.next({...r}),t.resolver){const{errors:ae}=await S([ce]);if(pe(yt),be){const ye=JN(r.errors,n,ce),Pe=JN(ae,n,ye.name||ce);fe=Pe.error,ce=Pe.name,We=Mn(ae)}}else g([ce],!0),fe=(await tS(we,l.disabled,i,p,t.shouldUseNativeValidation))[ce],g([ce]),pe(yt),be&&(fe?We=!1:(u.isValid||h.isValid)&&(We=await U(n,!0)));be&&(we._f.deps&&D(we._f.deps),P(ce,We,fe,ir))}},I=(B,te)=>{if(Te(r.errors,te)&&B.focus)return B.focus(),1},D=async(B,te={})=>{let ce,be;const we=Pu(B);if(t.resolver){const pe=await T(_r(B)?B:we);ce=Mn(pe),be=B?!we.some(Se=>Te(pe,Se)):ce}else B?(be=(await Promise.all(we.map(async pe=>{const Se=Te(n,pe);return await U(Se&&Se._f?{[pe]:Se}:Se)}))).every(Boolean),!(!be&&!r.isValid)&&v()):be=ce=await U(n);return m.state.next({...!da(B)||(u.isValid||h.isValid)&&ce!==r.isValid?{}:{name:B},...t.resolver||!B?{isValid:ce}:{},errors:r.errors}),te.shouldFocus&&!be&&Tu(n,I,B?we:l.mount),be},C=B=>{const te={...o.mount?i:a};return _r(B)?te:da(B)?Te(te,B):B.map(ce=>Te(te,ce))},E=(B,te)=>({invalid:!!Te((te||r).errors,B),isDirty:!!Te((te||r).dirtyFields,B),error:Te((te||r).errors,B),isValidating:!!Te(r.validatingFields,B),isTouched:!!Te((te||r).touchedFields,B)}),A=B=>{B&&Pu(B).forEach(te=>Er(r.errors,te)),m.state.next({errors:B?r.errors:{}})},Y=(B,te,ce)=>{const be=(Te(n,B,{_f:{}})._f||{}).ref,we=Te(r.errors,B)||{},{ref:pe,message:Se,type:Ue,...fe}=we;Ft(r.errors,B,{...fe,...te,ref:be}),m.state.next({name:B,errors:r.errors,isValid:!1}),ce&&ce.shouldFocus&&be&&be.focus&&be.focus()},k=(B,te)=>zs(B)?m.state.subscribe({next:ce=>"values"in ce&&B(G(void 0,te),ce)}):G(B,te,!0),z=B=>m.state.subscribe({next:te=>{JK(B.name,te.name,B.exact)&&ZK(te,B.formState||u,Ot,B.reRenderRoot)&&B.callback({values:{...i},...r,...te,defaultValues:a})}}).unsubscribe,ne=B=>(o.mount=!0,h={...h,...B.formState},z({...B,formState:h})),Q=(B,te={})=>{for(const ce of B?Pu(B):l.mount)l.mount.delete(ce),l.array.delete(ce),te.keepValue||(Er(n,ce),Er(i,ce)),!te.keepError&&Er(r.errors,ce),!te.keepDirty&&Er(r.dirtyFields,ce),!te.keepTouched&&Er(r.touchedFields,ce),!te.keepIsValidating&&Er(r.validatingFields,ce),!t.shouldUnregister&&!te.keepDefaultValue&&Er(a,ce);m.state.next({values:Dr(i)}),m.state.next({...r,...te.keepDirty?{isDirty:re()}:{}}),!te.keepIsValid&&v()},R=({disabled:B,name:te})=>{(Kn(B)&&o.mount||B||l.disabled.has(te))&&(B?l.disabled.add(te):l.disabled.delete(te))},L=(B,te={})=>{let ce=Te(n,B);const be=Kn(te.disabled)||Kn(t.disabled);return Ft(n,B,{...ce||{},_f:{...ce&&ce._f?ce._f:{ref:{name:B}},name:B,mount:!0,...te}}),l.mount.add(B),ce?R({disabled:Kn(te.disabled)?te.disabled:t.disabled,name:B}):_(B,!0,te.value),{...be?{disabled:te.disabled||t.disabled}:{},...t.progressive?{required:!!te.required,min:Xd(te.min),max:Xd(te.max),minLength:Xd(te.minLength),maxLength:Xd(te.maxLength),pattern:Xd(te.pattern)}:{},name:B,onChange:J,onBlur:J,ref:we=>{if(we){L(B,te),ce=Te(n,B);const pe=_r(we.value)&&we.querySelectorAll&&we.querySelectorAll("input,select,textarea")[0]||we,Se=HK(pe),Ue=ce._f.refs||[];if(Se?Ue.find(fe=>fe===pe):pe===ce._f.ref)return;Ft(n,B,{_f:{...ce._f,...Se?{refs:[...Ue.filter(yx),pe,...Array.isArray(Te(a,B))?[{}]:[]],ref:{type:pe.type,name:B}}:{ref:pe}}}),_(B,!1,void 0,pe)}else ce=Te(n,B,{}),ce._f&&(ce._f.mount=!1),(t.shouldUnregister||te.shouldUnregister)&&!(F4(l.array,B)&&o.action)&&l.unMount.add(B)}}},Z=()=>t.shouldFocusError&&Tu(n,I,l.mount),de=B=>{Kn(B)&&(m.state.next({disabled:B}),Tu(n,(te,ce)=>{const be=Te(n,ce);be&&(te.disabled=be._f.disabled||B,Array.isArray(be._f.refs)&&be._f.refs.forEach(we=>{we.disabled=be._f.disabled||B}))},0,!1))},_e=(B,te)=>async ce=>{let be;ce&&(ce.preventDefault&&ce.preventDefault(),ce.persist&&ce.persist());let we=Dr(i);if(m.state.next({isSubmitting:!0}),t.resolver){const{errors:pe,values:Se}=await S();r.errors=pe,we=Dr(Se)}else await U(n);if(l.disabled.size)for(const pe of l.disabled)Er(we,pe);if(Er(r.errors,"root"),Mn(r.errors)){m.state.next({errors:{}});try{await B(we,ce)}catch(pe){be=pe}}else te&&await te({...r.errors},ce),Z(),setTimeout(Z);if(m.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Mn(r.errors)&&!be,submitCount:r.submitCount+1,errors:r.errors}),be)throw be},me=(B,te={})=>{Te(n,B)&&(_r(te.defaultValue)?ee(B,Dr(Te(a,B))):(ee(B,te.defaultValue),Ft(a,B,Dr(te.defaultValue))),te.keepTouched||Er(r.touchedFields,B),te.keepDirty||(Er(r.dirtyFields,B),r.isDirty=te.defaultValue?re(B,Dr(Te(a,B))):re()),te.keepError||(Er(r.errors,B),u.isValid&&v()),m.state.next({...r}))},xe=(B,te={})=>{const ce=B?Dr(B):a,be=Dr(ce),we=Mn(B),pe=we?a:be;if(te.keepDefaultValues||(a=ce),!te.keepValues){if(te.keepDirtyValues){const Se=new Set([...l.mount,...Object.keys(Qd(a,i))]);for(const Ue of Array.from(Se))Te(r.dirtyFields,Ue)?Ft(pe,Ue,Te(i,Ue)):ee(Ue,Te(pe,Ue))}else{if(zb&&_r(B))for(const Se of l.mount){const Ue=Te(n,Se);if(Ue&&Ue._f){const fe=Array.isArray(Ue._f.refs)?Ue._f.refs[0]:Ue._f.ref;if(xp(fe)){const We=fe.closest("form");if(We){We.reset();break}}}}if(te.keepFieldsRef)for(const Se of l.mount)ee(Se,Te(pe,Se));else n={}}i=t.shouldUnregister?te.keepDefaultValues?Dr(a):{}:Dr(pe),m.array.next({values:{...pe}}),m.state.next({values:{...pe}})}l={mount:te.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!u.isValid||!!te.keepIsValid||!!te.keepDirtyValues,o.watch=!!t.shouldUnregister,m.state.next({submitCount:te.keepSubmitCount?r.submitCount:0,isDirty:we?!1:te.keepDirty?r.isDirty:!!(te.keepDefaultValues&&!za(B,a)),isSubmitted:te.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:we?{}:te.keepDirtyValues?te.keepDefaultValues&&i?Qd(a,i):r.dirtyFields:te.keepDefaultValues&&B?Qd(a,B):te.keepDirty?r.dirtyFields:{},touchedFields:te.keepTouched?r.touchedFields:{},errors:te.keepErrors?r.errors:{},isSubmitSuccessful:te.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},Ge=(B,te)=>xe(zs(B)?B(i):B,te),Nt=(B,te={})=>{const ce=Te(n,B),be=ce&&ce._f;if(be){const we=be.refs?be.refs[0]:be.ref;we.focus&&(we.focus(),te.shouldSelect&&zs(we.select)&&we.select())}},Ot=B=>{r={...r,...B}},It={control:{register:L,unregister:Q,getFieldState:E,handleSubmit:_e,setError:Y,_subscribe:z,_runSchema:S,_focusError:Z,_getWatch:G,_getDirty:re,_setValid:v,_setFieldArray:y,_setDisabledField:R,_setErrors:b,_getFieldArray:H,_reset:xe,_resetDefaultValues:()=>zs(t.defaultValues)&&t.defaultValues().then(B=>{Ge(B,t.resetOptions),m.state.next({isLoading:!1})}),_removeUnmounted:q,_disableForm:de,_subjects:m,_proxyFormState:u,get _fields(){return n},get _formValues(){return i},get _state(){return o},set _state(B){o=B},get _defaultValues(){return a},get _names(){return l},set _names(B){l=B},get _formState(){return r},get _options(){return t},set _options(B){t={...t,...B}}},subscribe:ne,trigger:D,register:L,handleSubmit:_e,watch:k,setValue:ee,getValues:C,reset:Ge,resetField:me,clearErrors:A,unregister:Q,setError:Y,setFocus:Nt,getFieldState:E};return{...It,formControl:It}}function aG(e={}){const t=he.useRef(void 0),r=he.useRef(void 0),[n,a]=he.useState({isDirty:!1,isValidating:!1,isLoading:zs(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:zs(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:n},e.defaultValues&&!zs(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:o,...l}=sG(e);t.current={...l,formState:n}}const i=t.current.control;return i._options=e,Vb(()=>{const o=i._subscribe({formState:i._proxyFormState,callback:()=>a({...i._formState}),reRenderRoot:!0});return a(l=>({...l,isReady:!0})),i._formState.isReady=!0,o},[i]),he.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),he.useEffect(()=>{e.mode&&(i._options.mode=e.mode),e.reValidateMode&&(i._options.reValidateMode=e.reValidateMode)},[i,e.mode,e.reValidateMode]),he.useEffect(()=>{e.errors&&(i._setErrors(e.errors),i._focusError())},[i,e.errors]),he.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,e.shouldUnregister]),he.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==n.isDirty&&i._subjects.state.next({isDirty:o})}},[i,n.isDirty]),he.useEffect(()=>{e.values&&!za(e.values,r.current)?(i._reset(e.values,{keepFieldsRef:!0,...i._options.resetOptions}),r.current=e.values,a(o=>({...o}))):i._resetDefaultValues()},[i,e.values]),he.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),t.current.formState=L4(n,i),t.current}const rS=UK,K4=f.createContext({}),$h=({...e})=>s.jsx(K4.Provider,{value:{name:e.name},children:s.jsx(WK,{...e})}),Lg=()=>{const e=f.useContext(K4),t=f.useContext(G4),{getFieldState:r,formState:n}=Fg(),a=r(e.name,n);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:i}=t;return{id:i,name:e.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...a}},G4=f.createContext({}),Ta=f.forwardRef(({className:e,...t},r)=>{const n=f.useId();return s.jsx(G4.Provider,{value:{id:n},children:s.jsx("div",{ref:r,className:le("space-y-2",e),...t})})});Ta.displayName="FormItem";const Ra=f.forwardRef(({className:e,...t},r)=>{const{error:n,formItemId:a}=Lg();return s.jsx($e,{ref:r,className:le(n&&"text-destructive",e),htmlFor:a,...t})});Ra.displayName="FormLabel";const Ma=f.forwardRef(({...e},t)=>{const{error:r,formItemId:n,formDescriptionId:a,formMessageId:i}=Lg();return s.jsx(xl,{ref:t,id:n,"aria-describedby":r?`${a} ${i}`:`${a}`,"aria-invalid":!!r,...e})});Ma.displayName="FormControl";const iG=f.forwardRef(({className:e,...t},r)=>{const{formDescriptionId:n}=Lg();return s.jsx("p",{ref:r,id:n,className:le("text-sm text-muted-foreground",e),...t})});iG.displayName="FormDescription";const Aa=f.forwardRef(({className:e,children:t,...r},n)=>{const{error:a,formMessageId:i}=Lg(),o=a?String(a==null?void 0:a.message):t;return o?s.jsx("p",{ref:n,id:i,className:le("text-sm font-medium text-destructive",e),...r,children:o}):null});Aa.displayName="FormMessage";var At;(function(e){e.assertEqual=a=>{};function t(a){}e.assertIs=t;function r(a){throw new Error}e.assertNever=r,e.arrayToEnum=a=>{const i={};for(const o of a)i[o]=o;return i},e.getValidEnumValues=a=>{const i=e.objectKeys(a).filter(l=>typeof a[a[l]]!="number"),o={};for(const l of i)o[l]=a[l];return e.objectValues(o)},e.objectValues=a=>e.objectKeys(a).map(function(i){return a[i]}),e.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const i=[];for(const o in a)Object.prototype.hasOwnProperty.call(a,o)&&i.push(o);return i},e.find=(a,i)=>{for(const o of a)if(i(o))return o},e.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&Number.isFinite(a)&&Math.floor(a)===a;function n(a,i=" | "){return a.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}e.joinValues=n,e.jsonStringifyReplacer=(a,i)=>typeof i=="bigint"?i.toString():i})(At||(At={}));var nS;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(nS||(nS={}));const Ve=At.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),bi=e=>{switch(typeof e){case"undefined":return Ve.undefined;case"string":return Ve.string;case"number":return Number.isNaN(e)?Ve.nan:Ve.number;case"boolean":return Ve.boolean;case"function":return Ve.function;case"bigint":return Ve.bigint;case"symbol":return Ve.symbol;case"object":return Array.isArray(e)?Ve.array:e===null?Ve.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?Ve.promise:typeof Map<"u"&&e instanceof Map?Ve.map:typeof Set<"u"&&e instanceof Set?Ve.set:typeof Date<"u"&&e instanceof Date?Ve.date:Ve.object;default:return Ve.unknown}},Ee=At.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class ai extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(i){return i.message},n={_errors:[]},a=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(a);else if(o.code==="invalid_return_type")a(o.returnTypeError);else if(o.code==="invalid_arguments")a(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let l=n,c=0;for(;c<o.path.length;){const d=o.path[c];c===o.path.length-1?(l[d]=l[d]||{_errors:[]},l[d]._errors.push(r(o))):l[d]=l[d]||{_errors:[]},l=l[d],c++}}};return a(this),n}static assert(t){if(!(t instanceof ai))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,At.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const a of this.issues)if(a.path.length>0){const i=a.path[0];r[i]=r[i]||[],r[i].push(t(a))}else n.push(t(a));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}ai.create=e=>new ai(e);const _0=(e,t)=>{let r;switch(e.code){case Ee.invalid_type:e.received===Ve.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case Ee.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,At.jsonStringifyReplacer)}`;break;case Ee.unrecognized_keys:r=`Unrecognized key(s) in object: ${At.joinValues(e.keys,", ")}`;break;case Ee.invalid_union:r="Invalid input";break;case Ee.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${At.joinValues(e.options)}`;break;case Ee.invalid_enum_value:r=`Invalid enum value. Expected ${At.joinValues(e.options)}, received '${e.received}'`;break;case Ee.invalid_arguments:r="Invalid function arguments";break;case Ee.invalid_return_type:r="Invalid function return type";break;case Ee.invalid_date:r="Invalid date";break;case Ee.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:At.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case Ee.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case Ee.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case Ee.custom:r="Invalid input";break;case Ee.invalid_intersection_types:r="Intersection results could not be merged";break;case Ee.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case Ee.not_finite:r="Number must be finite";break;default:r=t.defaultError,At.assertNever(e)}return{message:r}};let oG=_0;function lG(){return oG}const cG=e=>{const{data:t,path:r,errorMaps:n,issueData:a}=e,i=[...r,...a.path||[]],o={...a,path:i};if(a.message!==void 0)return{...a,path:i,message:a.message};let l="";const c=n.filter(d=>!!d).slice().reverse();for(const d of c)l=d(o,{data:t,defaultError:l}).message;return{...a,path:i,message:l}};function Ae(e,t){const r=lG(),n=cG({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===_0?void 0:_0].filter(a=>!!a)});e.common.issues.push(n)}class rs{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const a of r){if(a.status==="aborted")return it;a.status==="dirty"&&t.dirty(),n.push(a.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const a of r){const i=await a.key,o=await a.value;n.push({key:i,value:o})}return rs.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const a of r){const{key:i,value:o}=a;if(i.status==="aborted"||o.status==="aborted")return it;i.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||a.alwaysSet)&&(n[i.value]=o.value)}return{status:t.value,value:n}}}const it=Object.freeze({status:"aborted"}),du=e=>({status:"dirty",value:e}),_s=e=>({status:"valid",value:e}),sS=e=>e.status==="aborted",aS=e=>e.status==="dirty",rd=e=>e.status==="valid",bp=e=>typeof Promise<"u"&&e instanceof Promise;var Ke;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(Ke||(Ke={}));class co{constructor(t,r,n,a){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=a}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const iS=(e,t)=>{if(rd(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new ai(e.common.issues);return this._error=r,this._error}}};function xt(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:a}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:a}:{errorMap:(o,l)=>{const{message:c}=e;return o.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??n??l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:c??r??l.defaultError}},description:a}}class Mt{get description(){return this._def.description}_getType(t){return bi(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:bi(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new rs,ctx:{common:t.parent.common,data:t.data,parsedType:bi(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(bp(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){const n={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:bi(t)},a=this._parseSync({data:t,path:n.path,parent:n});return iS(n,a)}"~validate"(t){var n,a;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:bi(t)};if(!this["~standard"].async)try{const i=this._parseSync({data:t,path:[],parent:r});return rd(i)?{value:i.value}:{issues:r.common.issues}}catch(i){(a=(n=i==null?void 0:i.message)==null?void 0:n.toLowerCase())!=null&&a.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:r}).then(i=>rd(i)?{value:i.value}:{issues:r.common.issues})}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:bi(t)},a=this._parse({data:t,path:n.path,parent:n}),i=await(bp(a)?a:Promise.resolve(a));return iS(n,i)}refine(t,r){const n=a=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(a):r;return this._refinement((a,i)=>{const o=t(a),l=()=>i.addIssue({code:Ee.custom,...n(a)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,r){return this._refinement((n,a)=>t(n)?!0:(a.addIssue(typeof r=="function"?r(n,a):r),!1))}_refinement(t){return new sd({schema:this,typeName:ot.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return eo.create(this,this._def)}nullable(){return ad.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ga.create(this)}promise(){return Sp.create(this,this._def)}or(t){return _p.create([this,t],this._def)}and(t){return Np.create(this,t,this._def)}transform(t){return new sd({...xt(this._def),schema:this,typeName:ot.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new S0({...xt(this._def),innerType:this,defaultValue:r,typeName:ot.ZodDefault})}brand(){return new MG({typeName:ot.ZodBranded,type:this,...xt(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new C0({...xt(this._def),innerType:this,catchValue:r,typeName:ot.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return Kb.create(this,t)}readonly(){return k0.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const dG=/^c[^\s-]{8,}$/i,uG=/^[0-9a-z]+$/,fG=/^[0-9A-HJKMNP-TV-Z]{26}$/i,hG=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,mG=/^[a-z0-9_-]{21}$/i,pG=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,gG=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,vG=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,xG="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let wx;const yG=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,wG=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,bG=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,jG=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,_G=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,NG=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Y4="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",SG=new RegExp(`^${Y4}$`);function Q4(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function CG(e){return new RegExp(`^${Q4(e)}$`)}function kG(e){let t=`${Y4}T${Q4(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function EG(e,t){return!!((t==="v4"||!t)&&yG.test(e)||(t==="v6"||!t)&&bG.test(e))}function PG(e,t){if(!pG.test(e))return!1;try{const[r]=e.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),a=JSON.parse(atob(n));return!(typeof a!="object"||a===null||"typ"in a&&(a==null?void 0:a.typ)!=="JWT"||!a.alg||t&&a.alg!==t)}catch{return!1}}function TG(e,t){return!!((t==="v4"||!t)&&wG.test(e)||(t==="v6"||!t)&&jG.test(e))}class $i extends Mt{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==Ve.string){const i=this._getOrReturnCtx(t);return Ae(i,{code:Ee.invalid_type,expected:Ve.string,received:i.parsedType}),it}const n=new rs;let a;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(a=this._getOrReturnCtx(t,a),Ae(a,{code:Ee.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")t.data.length>i.value&&(a=this._getOrReturnCtx(t,a),Ae(a,{code:Ee.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){const o=t.data.length>i.value,l=t.data.length<i.value;(o||l)&&(a=this._getOrReturnCtx(t,a),o?Ae(a,{code:Ee.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&Ae(a,{code:Ee.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")vG.test(t.data)||(a=this._getOrReturnCtx(t,a),Ae(a,{validation:"email",code:Ee.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")wx||(wx=new RegExp(xG,"u")),wx.test(t.data)||(a=this._getOrReturnCtx(t,a),Ae(a,{validation:"emoji",code:Ee.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")hG.test(t.data)||(a=this._getOrReturnCtx(t,a),Ae(a,{validation:"uuid",code:Ee.invalid_string,message:i.message}),n.dirty());else if(i.kind==="nanoid")mG.test(t.data)||(a=this._getOrReturnCtx(t,a),Ae(a,{validation:"nanoid",code:Ee.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")dG.test(t.data)||(a=this._getOrReturnCtx(t,a),Ae(a,{validation:"cuid",code:Ee.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")uG.test(t.data)||(a=this._getOrReturnCtx(t,a),Ae(a,{validation:"cuid2",code:Ee.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")fG.test(t.data)||(a=this._getOrReturnCtx(t,a),Ae(a,{validation:"ulid",code:Ee.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{a=this._getOrReturnCtx(t,a),Ae(a,{validation:"url",code:Ee.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(a=this._getOrReturnCtx(t,a),Ae(a,{validation:"regex",code:Ee.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(a=this._getOrReturnCtx(t,a),Ae(a,{code:Ee.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(a=this._getOrReturnCtx(t,a),Ae(a,{code:Ee.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(a=this._getOrReturnCtx(t,a),Ae(a,{code:Ee.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?kG(i).test(t.data)||(a=this._getOrReturnCtx(t,a),Ae(a,{code:Ee.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="date"?SG.test(t.data)||(a=this._getOrReturnCtx(t,a),Ae(a,{code:Ee.invalid_string,validation:"date",message:i.message}),n.dirty()):i.kind==="time"?CG(i).test(t.data)||(a=this._getOrReturnCtx(t,a),Ae(a,{code:Ee.invalid_string,validation:"time",message:i.message}),n.dirty()):i.kind==="duration"?gG.test(t.data)||(a=this._getOrReturnCtx(t,a),Ae(a,{validation:"duration",code:Ee.invalid_string,message:i.message}),n.dirty()):i.kind==="ip"?EG(t.data,i.version)||(a=this._getOrReturnCtx(t,a),Ae(a,{validation:"ip",code:Ee.invalid_string,message:i.message}),n.dirty()):i.kind==="jwt"?PG(t.data,i.alg)||(a=this._getOrReturnCtx(t,a),Ae(a,{validation:"jwt",code:Ee.invalid_string,message:i.message}),n.dirty()):i.kind==="cidr"?TG(t.data,i.version)||(a=this._getOrReturnCtx(t,a),Ae(a,{validation:"cidr",code:Ee.invalid_string,message:i.message}),n.dirty()):i.kind==="base64"?_G.test(t.data)||(a=this._getOrReturnCtx(t,a),Ae(a,{validation:"base64",code:Ee.invalid_string,message:i.message}),n.dirty()):i.kind==="base64url"?NG.test(t.data)||(a=this._getOrReturnCtx(t,a),Ae(a,{validation:"base64url",code:Ee.invalid_string,message:i.message}),n.dirty()):At.assertNever(i);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(a=>t.test(a),{validation:r,code:Ee.invalid_string,...Ke.errToObj(n)})}_addCheck(t){return new $i({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Ke.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Ke.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Ke.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Ke.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...Ke.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Ke.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Ke.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Ke.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...Ke.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...Ke.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...Ke.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Ke.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...Ke.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...Ke.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...Ke.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...Ke.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...Ke.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...Ke.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...Ke.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...Ke.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...Ke.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...Ke.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...Ke.errToObj(r)})}nonempty(t){return this.min(1,Ke.errToObj(t))}trim(){return new $i({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new $i({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new $i({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}$i.create=e=>new $i({checks:[],typeName:ot.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...xt(e)});function RG(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,a=r>n?r:n,i=Number.parseInt(e.toFixed(a).replace(".","")),o=Number.parseInt(t.toFixed(a).replace(".",""));return i%o/10**a}class uf extends Mt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==Ve.number){const i=this._getOrReturnCtx(t);return Ae(i,{code:Ee.invalid_type,expected:Ve.number,received:i.parsedType}),it}let n;const a=new rs;for(const i of this._def.checks)i.kind==="int"?At.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),Ae(n,{code:Ee.invalid_type,expected:"integer",received:"float",message:i.message}),a.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),Ae(n,{code:Ee.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),Ae(n,{code:Ee.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="multipleOf"?RG(t.data,i.value)!==0&&(n=this._getOrReturnCtx(t,n),Ae(n,{code:Ee.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),Ae(n,{code:Ee.not_finite,message:i.message}),a.dirty()):At.assertNever(i);return{status:a.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,Ke.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Ke.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Ke.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Ke.toString(r))}setLimit(t,r,n,a){return new uf({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Ke.toString(a)}]})}_addCheck(t){return new uf({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Ke.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Ke.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Ke.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Ke.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Ke.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Ke.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:Ke.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Ke.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Ke.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&At.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}uf.create=e=>new uf({checks:[],typeName:ot.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...xt(e)});class ff extends Mt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==Ve.bigint)return this._getInvalidInput(t);let n;const a=new rs;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),Ae(n,{code:Ee.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),Ae(n,{code:Ee.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),Ae(n,{code:Ee.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):At.assertNever(i);return{status:a.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return Ae(r,{code:Ee.invalid_type,expected:Ve.bigint,received:r.parsedType}),it}gte(t,r){return this.setLimit("min",t,!0,Ke.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Ke.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Ke.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Ke.toString(r))}setLimit(t,r,n,a){return new ff({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Ke.toString(a)}]})}_addCheck(t){return new ff({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Ke.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Ke.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Ke.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Ke.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Ke.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}ff.create=e=>new ff({checks:[],typeName:ot.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...xt(e)});class oS extends Mt{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==Ve.boolean){const n=this._getOrReturnCtx(t);return Ae(n,{code:Ee.invalid_type,expected:Ve.boolean,received:n.parsedType}),it}return _s(t.data)}}oS.create=e=>new oS({typeName:ot.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...xt(e)});class jp extends Mt{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==Ve.date){const i=this._getOrReturnCtx(t);return Ae(i,{code:Ee.invalid_type,expected:Ve.date,received:i.parsedType}),it}if(Number.isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return Ae(i,{code:Ee.invalid_date}),it}const n=new rs;let a;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(a=this._getOrReturnCtx(t,a),Ae(a,{code:Ee.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(a=this._getOrReturnCtx(t,a),Ae(a,{code:Ee.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):At.assertNever(i);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new jp({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:Ke.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:Ke.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}jp.create=e=>new jp({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:ot.ZodDate,...xt(e)});class lS extends Mt{_parse(t){if(this._getType(t)!==Ve.symbol){const n=this._getOrReturnCtx(t);return Ae(n,{code:Ee.invalid_type,expected:Ve.symbol,received:n.parsedType}),it}return _s(t.data)}}lS.create=e=>new lS({typeName:ot.ZodSymbol,...xt(e)});class cS extends Mt{_parse(t){if(this._getType(t)!==Ve.undefined){const n=this._getOrReturnCtx(t);return Ae(n,{code:Ee.invalid_type,expected:Ve.undefined,received:n.parsedType}),it}return _s(t.data)}}cS.create=e=>new cS({typeName:ot.ZodUndefined,...xt(e)});class dS extends Mt{_parse(t){if(this._getType(t)!==Ve.null){const n=this._getOrReturnCtx(t);return Ae(n,{code:Ee.invalid_type,expected:Ve.null,received:n.parsedType}),it}return _s(t.data)}}dS.create=e=>new dS({typeName:ot.ZodNull,...xt(e)});class uS extends Mt{constructor(){super(...arguments),this._any=!0}_parse(t){return _s(t.data)}}uS.create=e=>new uS({typeName:ot.ZodAny,...xt(e)});class fS extends Mt{constructor(){super(...arguments),this._unknown=!0}_parse(t){return _s(t.data)}}fS.create=e=>new fS({typeName:ot.ZodUnknown,...xt(e)});class uo extends Mt{_parse(t){const r=this._getOrReturnCtx(t);return Ae(r,{code:Ee.invalid_type,expected:Ve.never,received:r.parsedType}),it}}uo.create=e=>new uo({typeName:ot.ZodNever,...xt(e)});class hS extends Mt{_parse(t){if(this._getType(t)!==Ve.undefined){const n=this._getOrReturnCtx(t);return Ae(n,{code:Ee.invalid_type,expected:Ve.void,received:n.parsedType}),it}return _s(t.data)}}hS.create=e=>new hS({typeName:ot.ZodVoid,...xt(e)});class ga extends Mt{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),a=this._def;if(r.parsedType!==Ve.array)return Ae(r,{code:Ee.invalid_type,expected:Ve.array,received:r.parsedType}),it;if(a.exactLength!==null){const o=r.data.length>a.exactLength.value,l=r.data.length<a.exactLength.value;(o||l)&&(Ae(r,{code:o?Ee.too_big:Ee.too_small,minimum:l?a.exactLength.value:void 0,maximum:o?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),n.dirty())}if(a.minLength!==null&&r.data.length<a.minLength.value&&(Ae(r,{code:Ee.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),n.dirty()),a.maxLength!==null&&r.data.length>a.maxLength.value&&(Ae(r,{code:Ee.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,l)=>a.type._parseAsync(new co(r,o,r.path,l)))).then(o=>rs.mergeArray(n,o));const i=[...r.data].map((o,l)=>a.type._parseSync(new co(r,o,r.path,l)));return rs.mergeArray(n,i)}get element(){return this._def.type}min(t,r){return new ga({...this._def,minLength:{value:t,message:Ke.toString(r)}})}max(t,r){return new ga({...this._def,maxLength:{value:t,message:Ke.toString(r)}})}length(t,r){return new ga({...this._def,exactLength:{value:t,message:Ke.toString(r)}})}nonempty(t){return this.min(1,t)}}ga.create=(e,t)=>new ga({type:e,minLength:null,maxLength:null,exactLength:null,typeName:ot.ZodArray,...xt(t)});function Xl(e){if(e instanceof vr){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=eo.create(Xl(n))}return new vr({...e._def,shape:()=>t})}else return e instanceof ga?new ga({...e._def,type:Xl(e.element)}):e instanceof eo?eo.create(Xl(e.unwrap())):e instanceof ad?ad.create(Xl(e.unwrap())):e instanceof hl?hl.create(e.items.map(t=>Xl(t))):e}class vr extends Mt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=At.objectKeys(t);return this._cached={shape:t,keys:r},this._cached}_parse(t){if(this._getType(t)!==Ve.object){const d=this._getOrReturnCtx(t);return Ae(d,{code:Ee.invalid_type,expected:Ve.object,received:d.parsedType}),it}const{status:n,ctx:a}=this._processInputParams(t),{shape:i,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof uo&&this._def.unknownKeys==="strip"))for(const d in a.data)o.includes(d)||l.push(d);const c=[];for(const d of o){const u=i[d],h=a.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new co(a,h,a.path,d)),alwaysSet:d in a.data})}if(this._def.catchall instanceof uo){const d=this._def.unknownKeys;if(d==="passthrough")for(const u of l)c.push({key:{status:"valid",value:u},value:{status:"valid",value:a.data[u]}});else if(d==="strict")l.length>0&&(Ae(a,{code:Ee.unrecognized_keys,keys:l}),n.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const u of l){const h=a.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new co(a,h,a.path,u)),alwaysSet:u in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const d=[];for(const u of c){const h=await u.key,m=await u.value;d.push({key:h,value:m,alwaysSet:u.alwaysSet})}return d}).then(d=>rs.mergeObjectSync(n,d)):rs.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(t){return Ke.errToObj,new vr({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var i,o;const a=((o=(i=this._def).errorMap)==null?void 0:o.call(i,r,n).message)??n.defaultError;return r.code==="unrecognized_keys"?{message:Ke.errToObj(t).message??a}:{message:a}}}:{}})}strip(){return new vr({...this._def,unknownKeys:"strip"})}passthrough(){return new vr({...this._def,unknownKeys:"passthrough"})}extend(t){return new vr({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new vr({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:ot.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new vr({...this._def,catchall:t})}pick(t){const r={};for(const n of At.objectKeys(t))t[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new vr({...this._def,shape:()=>r})}omit(t){const r={};for(const n of At.objectKeys(this.shape))t[n]||(r[n]=this.shape[n]);return new vr({...this._def,shape:()=>r})}deepPartial(){return Xl(this)}partial(t){const r={};for(const n of At.objectKeys(this.shape)){const a=this.shape[n];t&&!t[n]?r[n]=a:r[n]=a.optional()}return new vr({...this._def,shape:()=>r})}required(t){const r={};for(const n of At.objectKeys(this.shape))if(t&&!t[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof eo;)i=i._def.innerType;r[n]=i}return new vr({...this._def,shape:()=>r})}keyof(){return X4(At.objectKeys(this.shape))}}vr.create=(e,t)=>new vr({shape:()=>e,unknownKeys:"strip",catchall:uo.create(),typeName:ot.ZodObject,...xt(t)});vr.strictCreate=(e,t)=>new vr({shape:()=>e,unknownKeys:"strict",catchall:uo.create(),typeName:ot.ZodObject,...xt(t)});vr.lazycreate=(e,t)=>new vr({shape:e,unknownKeys:"strip",catchall:uo.create(),typeName:ot.ZodObject,...xt(t)});class _p extends Mt{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function a(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const o=i.map(l=>new ai(l.ctx.common.issues));return Ae(r,{code:Ee.invalid_union,unionErrors:o}),it}if(r.common.async)return Promise.all(n.map(async i=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(a);{let i;const o=[];for(const c of n){const d={...r,common:{...r.common,issues:[]},parent:null},u=c._parseSync({data:r.data,path:r.path,parent:d});if(u.status==="valid")return u;u.status==="dirty"&&!i&&(i={result:u,ctx:d}),d.common.issues.length&&o.push(d.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const l=o.map(c=>new ai(c));return Ae(r,{code:Ee.invalid_union,unionErrors:l}),it}}get options(){return this._def.options}}_p.create=(e,t)=>new _p({options:e,typeName:ot.ZodUnion,...xt(t)});function N0(e,t){const r=bi(e),n=bi(t);if(e===t)return{valid:!0,data:e};if(r===Ve.object&&n===Ve.object){const a=At.objectKeys(t),i=At.objectKeys(e).filter(l=>a.indexOf(l)!==-1),o={...e,...t};for(const l of i){const c=N0(e[l],t[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(r===Ve.array&&n===Ve.array){if(e.length!==t.length)return{valid:!1};const a=[];for(let i=0;i<e.length;i++){const o=e[i],l=t[i],c=N0(o,l);if(!c.valid)return{valid:!1};a.push(c.data)}return{valid:!0,data:a}}else return r===Ve.date&&n===Ve.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Np extends Mt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),a=(i,o)=>{if(sS(i)||sS(o))return it;const l=N0(i.value,o.value);return l.valid?((aS(i)||aS(o))&&r.dirty(),{status:r.value,value:l.data}):(Ae(n,{code:Ee.invalid_intersection_types}),it)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,o])=>a(i,o)):a(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Np.create=(e,t,r)=>new Np({left:e,right:t,typeName:ot.ZodIntersection,...xt(r)});class hl extends Mt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Ve.array)return Ae(n,{code:Ee.invalid_type,expected:Ve.array,received:n.parsedType}),it;if(n.data.length<this._def.items.length)return Ae(n,{code:Ee.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),it;!this._def.rest&&n.data.length>this._def.items.length&&(Ae(n,{code:Ee.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...n.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new co(n,o,n.path,l)):null}).filter(o=>!!o);return n.common.async?Promise.all(i).then(o=>rs.mergeArray(r,o)):rs.mergeArray(r,i)}get items(){return this._def.items}rest(t){return new hl({...this._def,rest:t})}}hl.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new hl({items:e,typeName:ot.ZodTuple,rest:null,...xt(t)})};class mS extends Mt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Ve.map)return Ae(n,{code:Ee.invalid_type,expected:Ve.map,received:n.parsedType}),it;const a=this._def.keyType,i=this._def.valueType,o=[...n.data.entries()].map(([l,c],d)=>({key:a._parse(new co(n,l,n.path,[d,"key"])),value:i._parse(new co(n,c,n.path,[d,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const d=await c.key,u=await c.value;if(d.status==="aborted"||u.status==="aborted")return it;(d.status==="dirty"||u.status==="dirty")&&r.dirty(),l.set(d.value,u.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of o){const d=c.key,u=c.value;if(d.status==="aborted"||u.status==="aborted")return it;(d.status==="dirty"||u.status==="dirty")&&r.dirty(),l.set(d.value,u.value)}return{status:r.value,value:l}}}}mS.create=(e,t,r)=>new mS({valueType:t,keyType:e,typeName:ot.ZodMap,...xt(r)});class hf extends Mt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Ve.set)return Ae(n,{code:Ee.invalid_type,expected:Ve.set,received:n.parsedType}),it;const a=this._def;a.minSize!==null&&n.data.size<a.minSize.value&&(Ae(n,{code:Ee.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),r.dirty()),a.maxSize!==null&&n.data.size>a.maxSize.value&&(Ae(n,{code:Ee.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),r.dirty());const i=this._def.valueType;function o(c){const d=new Set;for(const u of c){if(u.status==="aborted")return it;u.status==="dirty"&&r.dirty(),d.add(u.value)}return{status:r.value,value:d}}const l=[...n.data.values()].map((c,d)=>i._parse(new co(n,c,n.path,d)));return n.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(t,r){return new hf({...this._def,minSize:{value:t,message:Ke.toString(r)}})}max(t,r){return new hf({...this._def,maxSize:{value:t,message:Ke.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}hf.create=(e,t)=>new hf({valueType:e,minSize:null,maxSize:null,typeName:ot.ZodSet,...xt(t)});class pS extends Mt{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}pS.create=(e,t)=>new pS({getter:e,typeName:ot.ZodLazy,...xt(t)});class gS extends Mt{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return Ae(r,{received:r.data,code:Ee.invalid_literal,expected:this._def.value}),it}return{status:"valid",value:t.data}}get value(){return this._def.value}}gS.create=(e,t)=>new gS({value:e,typeName:ot.ZodLiteral,...xt(t)});function X4(e,t){return new nd({values:e,typeName:ot.ZodEnum,...xt(t)})}class nd extends Mt{_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return Ae(r,{expected:At.joinValues(n),received:r.parsedType,code:Ee.invalid_type}),it}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return Ae(r,{received:r.data,code:Ee.invalid_enum_value,options:n}),it}return _s(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return nd.create(t,{...this._def,...r})}exclude(t,r=this._def){return nd.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}nd.create=X4;class vS extends Mt{_parse(t){const r=At.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==Ve.string&&n.parsedType!==Ve.number){const a=At.objectValues(r);return Ae(n,{expected:At.joinValues(a),received:n.parsedType,code:Ee.invalid_type}),it}if(this._cache||(this._cache=new Set(At.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const a=At.objectValues(r);return Ae(n,{received:n.data,code:Ee.invalid_enum_value,options:a}),it}return _s(t.data)}get enum(){return this._def.values}}vS.create=(e,t)=>new vS({values:e,typeName:ot.ZodNativeEnum,...xt(t)});class Sp extends Mt{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==Ve.promise&&r.common.async===!1)return Ae(r,{code:Ee.invalid_type,expected:Ve.promise,received:r.parsedType}),it;const n=r.parsedType===Ve.promise?r.data:Promise.resolve(r.data);return _s(n.then(a=>this._def.type.parseAsync(a,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Sp.create=(e,t)=>new Sp({type:e,typeName:ot.ZodPromise,...xt(t)});class sd extends Mt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ot.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),a=this._def.effect||null,i={addIssue:o=>{Ae(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),a.type==="preprocess"){const o=a.transform(n.data,i);if(n.common.async)return Promise.resolve(o).then(async l=>{if(r.value==="aborted")return it;const c=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return c.status==="aborted"?it:c.status==="dirty"||r.value==="dirty"?du(c.value):c});{if(r.value==="aborted")return it;const l=this._def.schema._parseSync({data:o,path:n.path,parent:n});return l.status==="aborted"?it:l.status==="dirty"||r.value==="dirty"?du(l.value):l}}if(a.type==="refinement"){const o=l=>{const c=a.refinement(l,i);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?it:(l.status==="dirty"&&r.dirty(),o(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?it:(l.status==="dirty"&&r.dirty(),o(l.value).then(()=>({status:r.value,value:l.value}))))}if(a.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!rd(o))return it;const l=a.transform(o.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>rd(o)?Promise.resolve(a.transform(o.value,i)).then(l=>({status:r.value,value:l})):it);At.assertNever(a)}}sd.create=(e,t,r)=>new sd({schema:e,typeName:ot.ZodEffects,effect:t,...xt(r)});sd.createWithPreprocess=(e,t,r)=>new sd({schema:t,effect:{type:"preprocess",transform:e},typeName:ot.ZodEffects,...xt(r)});class eo extends Mt{_parse(t){return this._getType(t)===Ve.undefined?_s(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}eo.create=(e,t)=>new eo({innerType:e,typeName:ot.ZodOptional,...xt(t)});class ad extends Mt{_parse(t){return this._getType(t)===Ve.null?_s(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}ad.create=(e,t)=>new ad({innerType:e,typeName:ot.ZodNullable,...xt(t)});class S0 extends Mt{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===Ve.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}S0.create=(e,t)=>new S0({innerType:e,typeName:ot.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...xt(t)});class C0 extends Mt{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},a=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return bp(a)?a.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new ai(n.common.issues)},input:n.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new ai(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}C0.create=(e,t)=>new C0({innerType:e,typeName:ot.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...xt(t)});class xS extends Mt{_parse(t){if(this._getType(t)!==Ve.nan){const n=this._getOrReturnCtx(t);return Ae(n,{code:Ee.invalid_type,expected:Ve.nan,received:n.parsedType}),it}return{status:"valid",value:t.data}}}xS.create=e=>new xS({typeName:ot.ZodNaN,...xt(e)});class MG extends Mt{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class Kb extends Mt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?it:i.status==="dirty"?(r.dirty(),du(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{const a=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?it:a.status==="dirty"?(r.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:n.path,parent:n})}}static create(t,r){return new Kb({in:t,out:r,typeName:ot.ZodPipeline})}}class k0 extends Mt{_parse(t){const r=this._def.innerType._parse(t),n=a=>(rd(a)&&(a.value=Object.freeze(a.value)),a);return bp(r)?r.then(a=>n(a)):n(r)}unwrap(){return this._def.innerType}}k0.create=(e,t)=>new k0({innerType:e,typeName:ot.ZodReadonly,...xt(t)});vr.lazycreate;var ot;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(ot||(ot={}));const yS=$i.create;uo.create;ga.create;const AG=vr.create;vr.strictCreate;_p.create;Np.create;hl.create;nd.create;Sp.create;eo.create;ad.create;const wS=(e,t,r)=>{if(e&&"reportValidity"in e){const n=Te(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},Z4=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?wS(n.ref,r,e):n.refs&&n.refs.forEach(a=>wS(a,r,e))}},OG=(e,t)=>{t.shouldUseNativeValidation&&Z4(e,t);const r={};for(const n in e){const a=Te(t.fields,n),i=Object.assign(e[n]||{},{ref:a&&a.ref});if(DG(t.names||Object.keys(e),n)){const o=Object.assign({},Te(r,n));Ft(o,"root",i),Ft(r,n,o)}else Ft(r,n,i)}return r},DG=(e,t)=>e.some(r=>r.startsWith(t+"."));var IG=function(e,t){for(var r={};e.length;){var n=e[0],a=n.code,i=n.message,o=n.path.join(".");if(!r[o])if("unionErrors"in n){var l=n.unionErrors[0].errors[0];r[o]={message:l.message,type:l.code}}else r[o]={message:i,type:a};if("unionErrors"in n&&n.unionErrors.forEach(function(u){return u.errors.forEach(function(h){return e.push(h)})}),t){var c=r[o].types,d=c&&c[n.code];r[o]=z4(o,t,r,a,d?[].concat(d,n.message):n.message)}e.shift()}return r},FG=function(e,t,r){return r===void 0&&(r={}),function(n,a,i){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(d){return i.shouldUseNativeValidation&&Z4({},i),{errors:{},values:r.raw?n:d}})}catch(d){return l(d)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:OG(IG(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}},bS=1,LG=.9,$G=.8,zG=.17,bx=.1,jx=.999,UG=.9999,BG=.99,qG=/[\\\/_+.#"@\[\(\{&]/,VG=/[\\\/_+.#"@\[\(\{&]/g,WG=/[\s-]/,J4=/[\s-]/g;function E0(e,t,r,n,a,i,o){if(i===t.length)return a===e.length?bS:BG;var l=`${a},${i}`;if(o[l]!==void 0)return o[l];for(var c=n.charAt(i),d=r.indexOf(c,a),u=0,h,m,p,w;d>=0;)h=E0(e,t,r,n,d+1,i+1,o),h>u&&(d===a?h*=bS:qG.test(e.charAt(d-1))?(h*=$G,p=e.slice(a,d-1).match(VG),p&&a>0&&(h*=Math.pow(jx,p.length))):WG.test(e.charAt(d-1))?(h*=LG,w=e.slice(a,d-1).match(J4),w&&a>0&&(h*=Math.pow(jx,w.length))):(h*=zG,a>0&&(h*=Math.pow(jx,d-a))),e.charAt(d)!==t.charAt(i)&&(h*=UG)),(h<bx&&r.charAt(d-1)===n.charAt(i+1)||n.charAt(i+1)===n.charAt(i)&&r.charAt(d-1)!==n.charAt(i))&&(m=E0(e,t,r,n,d+1,i+2,o),m*bx>h&&(h=m*bx)),h>u&&(u=h),d=r.indexOf(c,d+1);return o[l]=u,u}function jS(e){return e.toLowerCase().replace(J4," ")}function HG(e,t,r){return e=r&&r.length>0?`${e+" "+r.join(" ")}`:e,E0(e,t,jS(e),jS(t),0,0,{})}var Zd='[cmdk-group=""]',_x='[cmdk-group-items=""]',KG='[cmdk-group-heading=""]',eA='[cmdk-item=""]',_S=`${eA}:not([aria-disabled="true"])`,P0="cmdk-item-select",Zl="data-value",GG=(e,t,r)=>HG(e,t,r),tA=f.createContext(void 0),Wf=()=>f.useContext(tA),rA=f.createContext(void 0),Gb=()=>f.useContext(rA),nA=f.createContext(void 0),sA=f.forwardRef((e,t)=>{let r=Jl(()=>{var A,Y;return{search:"",value:(Y=(A=e.value)!=null?A:e.defaultValue)!=null?Y:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),n=Jl(()=>new Set),a=Jl(()=>new Map),i=Jl(()=>new Map),o=Jl(()=>new Set),l=aA(e),{label:c,children:d,value:u,onValueChange:h,filter:m,shouldFilter:p,loop:w,disablePointerSelection:v=!1,vimBindings:g=!0,...y}=e,x=Xr(),b=Xr(),_=Xr(),N=f.useRef(null),P=aY();ml(()=>{if(u!==void 0){let A=u.trim();r.current.value=A,S.emit()}},[u]),ml(()=>{P(6,H)},[]);let S=f.useMemo(()=>({subscribe:A=>(o.current.add(A),()=>o.current.delete(A)),snapshot:()=>r.current,setState:(A,Y,k)=>{var z,ne,Q,R;if(!Object.is(r.current[A],Y)){if(r.current[A]=Y,A==="search")G(),q(),P(1,re);else if(A==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let L=document.getElementById(_);L?L.focus():(z=document.getElementById(x))==null||z.focus()}if(P(7,()=>{var L;r.current.selectedItemId=(L=V())==null?void 0:L.id,S.emit()}),k||P(5,H),((ne=l.current)==null?void 0:ne.value)!==void 0){let L=Y??"";(R=(Q=l.current).onValueChange)==null||R.call(Q,L);return}}S.emit()}},emit:()=>{o.current.forEach(A=>A())}}),[]),T=f.useMemo(()=>({value:(A,Y,k)=>{var z;Y!==((z=i.current.get(A))==null?void 0:z.value)&&(i.current.set(A,{value:Y,keywords:k}),r.current.filtered.items.set(A,U(Y,k)),P(2,()=>{q(),S.emit()}))},item:(A,Y)=>(n.current.add(A),Y&&(a.current.has(Y)?a.current.get(Y).add(A):a.current.set(Y,new Set([A]))),P(3,()=>{G(),q(),r.current.value||re(),S.emit()}),()=>{i.current.delete(A),n.current.delete(A),r.current.filtered.items.delete(A);let k=V();P(4,()=>{G(),(k==null?void 0:k.getAttribute("id"))===A&&re(),S.emit()})}),group:A=>(a.current.has(A)||a.current.set(A,new Set),()=>{i.current.delete(A),a.current.delete(A)}),filter:()=>l.current.shouldFilter,label:c||e["aria-label"],getDisablePointerSelection:()=>l.current.disablePointerSelection,listId:x,inputId:_,labelId:b,listInnerRef:N}),[]);function U(A,Y){var k,z;let ne=(z=(k=l.current)==null?void 0:k.filter)!=null?z:GG;return A?ne(A,r.current.search,Y):0}function q(){if(!r.current.search||l.current.shouldFilter===!1)return;let A=r.current.filtered.items,Y=[];r.current.filtered.groups.forEach(z=>{let ne=a.current.get(z),Q=0;ne.forEach(R=>{let L=A.get(R);Q=Math.max(L,Q)}),Y.push([z,Q])});let k=N.current;se().sort((z,ne)=>{var Q,R;let L=z.getAttribute("id"),Z=ne.getAttribute("id");return((Q=A.get(Z))!=null?Q:0)-((R=A.get(L))!=null?R:0)}).forEach(z=>{let ne=z.closest(_x);ne?ne.appendChild(z.parentElement===ne?z:z.closest(`${_x} > *`)):k.appendChild(z.parentElement===k?z:z.closest(`${_x} > *`))}),Y.sort((z,ne)=>ne[1]-z[1]).forEach(z=>{var ne;let Q=(ne=N.current)==null?void 0:ne.querySelector(`${Zd}[${Zl}="${encodeURIComponent(z[0])}"]`);Q==null||Q.parentElement.appendChild(Q)})}function re(){let A=se().find(k=>k.getAttribute("aria-disabled")!=="true"),Y=A==null?void 0:A.getAttribute(Zl);S.setState("value",Y||void 0)}function G(){var A,Y,k,z;if(!r.current.search||l.current.shouldFilter===!1){r.current.filtered.count=n.current.size;return}r.current.filtered.groups=new Set;let ne=0;for(let Q of n.current){let R=(Y=(A=i.current.get(Q))==null?void 0:A.value)!=null?Y:"",L=(z=(k=i.current.get(Q))==null?void 0:k.keywords)!=null?z:[],Z=U(R,L);r.current.filtered.items.set(Q,Z),Z>0&&ne++}for(let[Q,R]of a.current)for(let L of R)if(r.current.filtered.items.get(L)>0){r.current.filtered.groups.add(Q);break}r.current.filtered.count=ne}function H(){var A,Y,k;let z=V();z&&(((A=z.parentElement)==null?void 0:A.firstChild)===z&&((k=(Y=z.closest(Zd))==null?void 0:Y.querySelector(KG))==null||k.scrollIntoView({block:"nearest"})),z.scrollIntoView({block:"nearest"}))}function V(){var A;return(A=N.current)==null?void 0:A.querySelector(`${eA}[aria-selected="true"]`)}function se(){var A;return Array.from(((A=N.current)==null?void 0:A.querySelectorAll(_S))||[])}function ee(A){let Y=se()[A];Y&&S.setState("value",Y.getAttribute(Zl))}function J(A){var Y;let k=V(),z=se(),ne=z.findIndex(R=>R===k),Q=z[ne+A];(Y=l.current)!=null&&Y.loop&&(Q=ne+A<0?z[z.length-1]:ne+A===z.length?z[0]:z[ne+A]),Q&&S.setState("value",Q.getAttribute(Zl))}function I(A){let Y=V(),k=Y==null?void 0:Y.closest(Zd),z;for(;k&&!z;)k=A>0?nY(k,Zd):sY(k,Zd),z=k==null?void 0:k.querySelector(_S);z?S.setState("value",z.getAttribute(Zl)):J(A)}let D=()=>ee(se().length-1),C=A=>{A.preventDefault(),A.metaKey?D():A.altKey?I(1):J(1)},E=A=>{A.preventDefault(),A.metaKey?ee(0):A.altKey?I(-1):J(-1)};return f.createElement(Ie.div,{ref:t,tabIndex:-1,...y,"cmdk-root":"",onKeyDown:A=>{var Y;(Y=y.onKeyDown)==null||Y.call(y,A);let k=A.nativeEvent.isComposing||A.keyCode===229;if(!(A.defaultPrevented||k))switch(A.key){case"n":case"j":{g&&A.ctrlKey&&C(A);break}case"ArrowDown":{C(A);break}case"p":case"k":{g&&A.ctrlKey&&E(A);break}case"ArrowUp":{E(A);break}case"Home":{A.preventDefault(),ee(0);break}case"End":{A.preventDefault(),D();break}case"Enter":{A.preventDefault();let z=V();if(z){let ne=new Event(P0);z.dispatchEvent(ne)}}}}},f.createElement("label",{"cmdk-label":"",htmlFor:T.inputId,id:T.labelId,style:oY},c),$g(e,A=>f.createElement(rA.Provider,{value:S},f.createElement(tA.Provider,{value:T},A))))}),YG=f.forwardRef((e,t)=>{var r,n;let a=Xr(),i=f.useRef(null),o=f.useContext(nA),l=Wf(),c=aA(e),d=(n=(r=c.current)==null?void 0:r.forceMount)!=null?n:o==null?void 0:o.forceMount;ml(()=>{if(!d)return l.item(a,o==null?void 0:o.id)},[d]);let u=iA(a,i,[e.value,e.children,i],e.keywords),h=Gb(),m=fo(P=>P.value&&P.value===u.current),p=fo(P=>d||l.filter()===!1?!0:P.search?P.filtered.items.get(a)>0:!0);f.useEffect(()=>{let P=i.current;if(!(!P||e.disabled))return P.addEventListener(P0,w),()=>P.removeEventListener(P0,w)},[p,e.onSelect,e.disabled]);function w(){var P,S;v(),(S=(P=c.current).onSelect)==null||S.call(P,u.current)}function v(){h.setState("value",u.current,!0)}if(!p)return null;let{disabled:g,value:y,onSelect:x,forceMount:b,keywords:_,...N}=e;return f.createElement(Ie.div,{ref:ei(i,t),...N,id:a,"cmdk-item":"",role:"option","aria-disabled":!!g,"aria-selected":!!m,"data-disabled":!!g,"data-selected":!!m,onPointerMove:g||l.getDisablePointerSelection()?void 0:v,onClick:g?void 0:w},e.children)}),QG=f.forwardRef((e,t)=>{let{heading:r,children:n,forceMount:a,...i}=e,o=Xr(),l=f.useRef(null),c=f.useRef(null),d=Xr(),u=Wf(),h=fo(p=>a||u.filter()===!1?!0:p.search?p.filtered.groups.has(o):!0);ml(()=>u.group(o),[]),iA(o,l,[e.value,e.heading,c]);let m=f.useMemo(()=>({id:o,forceMount:a}),[a]);return f.createElement(Ie.div,{ref:ei(l,t),...i,"cmdk-group":"",role:"presentation",hidden:h?void 0:!0},r&&f.createElement("div",{ref:c,"cmdk-group-heading":"","aria-hidden":!0,id:d},r),$g(e,p=>f.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?d:void 0},f.createElement(nA.Provider,{value:m},p))))}),XG=f.forwardRef((e,t)=>{let{alwaysRender:r,...n}=e,a=f.useRef(null),i=fo(o=>!o.search);return!r&&!i?null:f.createElement(Ie.div,{ref:ei(a,t),...n,"cmdk-separator":"",role:"separator"})}),ZG=f.forwardRef((e,t)=>{let{onValueChange:r,...n}=e,a=e.value!=null,i=Gb(),o=fo(d=>d.search),l=fo(d=>d.selectedItemId),c=Wf();return f.useEffect(()=>{e.value!=null&&i.setState("search",e.value)},[e.value]),f.createElement(Ie.input,{ref:t,...n,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":c.listId,"aria-labelledby":c.labelId,"aria-activedescendant":l,id:c.inputId,type:"text",value:a?e.value:o,onChange:d=>{a||i.setState("search",d.target.value),r==null||r(d.target.value)}})}),JG=f.forwardRef((e,t)=>{let{children:r,label:n="Suggestions",...a}=e,i=f.useRef(null),o=f.useRef(null),l=fo(d=>d.selectedItemId),c=Wf();return f.useEffect(()=>{if(o.current&&i.current){let d=o.current,u=i.current,h,m=new ResizeObserver(()=>{h=requestAnimationFrame(()=>{let p=d.offsetHeight;u.style.setProperty("--cmdk-list-height",p.toFixed(1)+"px")})});return m.observe(d),()=>{cancelAnimationFrame(h),m.unobserve(d)}}},[]),f.createElement(Ie.div,{ref:ei(i,t),...a,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":l,"aria-label":n,id:c.listId},$g(e,d=>f.createElement("div",{ref:ei(o,c.listInnerRef),"cmdk-list-sizer":""},d)))}),eY=f.forwardRef((e,t)=>{let{open:r,onOpenChange:n,overlayClassName:a,contentClassName:i,container:o,...l}=e;return f.createElement(xg,{open:r,onOpenChange:n},f.createElement(yg,{container:o},f.createElement(xd,{"cmdk-overlay":"",className:a}),f.createElement(yd,{"aria-label":e.label,"cmdk-dialog":"",className:i},f.createElement(sA,{ref:t,...l}))))}),tY=f.forwardRef((e,t)=>fo(r=>r.filtered.count===0)?f.createElement(Ie.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),rY=f.forwardRef((e,t)=>{let{progress:r,children:n,label:a="Loading...",...i}=e;return f.createElement(Ie.div,{ref:t,...i,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":a},$g(e,o=>f.createElement("div",{"aria-hidden":!0},o)))}),Bn=Object.assign(sA,{List:JG,Item:YG,Input:ZG,Group:QG,Separator:XG,Dialog:eY,Empty:tY,Loading:rY});function nY(e,t){let r=e.nextElementSibling;for(;r;){if(r.matches(t))return r;r=r.nextElementSibling}}function sY(e,t){let r=e.previousElementSibling;for(;r;){if(r.matches(t))return r;r=r.previousElementSibling}}function aA(e){let t=f.useRef(e);return ml(()=>{t.current=e}),t}var ml=typeof window>"u"?f.useEffect:f.useLayoutEffect;function Jl(e){let t=f.useRef();return t.current===void 0&&(t.current=e()),t}function fo(e){let t=Gb(),r=()=>e(t.snapshot());return f.useSyncExternalStore(t.subscribe,r,r)}function iA(e,t,r,n=[]){let a=f.useRef(),i=Wf();return ml(()=>{var o;let l=(()=>{var d;for(let u of r){if(typeof u=="string")return u.trim();if(typeof u=="object"&&"current"in u)return u.current?(d=u.current.textContent)==null?void 0:d.trim():a.current}})(),c=n.map(d=>d.trim());i.value(e,l,c),(o=t.current)==null||o.setAttribute(Zl,l),a.current=l}),a}var aY=()=>{let[e,t]=f.useState(),r=Jl(()=>new Map);return ml(()=>{r.current.forEach(n=>n()),r.current=new Map},[e]),(n,a)=>{r.current.set(n,a),t({})}};function iY(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function $g({asChild:e,children:t},r){return e&&f.isValidElement(t)?f.cloneElement(iY(t),{ref:t.ref},r(t.props.children)):r(t)}var oY={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const uu=f.forwardRef(({className:e,...t},r)=>s.jsx(Bn,{ref:r,className:le("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...t}));uu.displayName=Bn.displayName;const hm=f.forwardRef(({className:e,...t},r)=>s.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[s.jsx(na,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),s.jsx(Bn.Input,{ref:r,className:le("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...t})]}));hm.displayName=Bn.Input.displayName;const fu=f.forwardRef(({className:e,...t},r)=>s.jsx(Bn.List,{ref:r,className:le("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...t}));fu.displayName=Bn.List.displayName;const T0=f.forwardRef((e,t)=>s.jsx(Bn.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));T0.displayName=Bn.Empty.displayName;const hu=f.forwardRef(({className:e,...t},r)=>s.jsx(Bn.Group,{ref:r,className:le("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...t}));hu.displayName=Bn.Group.displayName;const lY=f.forwardRef(({className:e,...t},r)=>s.jsx(Bn.Separator,{ref:r,className:le("-mx-1 h-px bg-border",e),...t}));lY.displayName=Bn.Separator.displayName;const Rs=f.forwardRef(({className:e,...t},r)=>s.jsx(Bn.Item,{ref:r,className:le("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50",e),...t}));Rs.displayName=Bn.Item.displayName;const cY=AG({title:yS().min(1,"Ttulo  obrigatrio"),artist:yS().min(1,"Artista  obrigatrio")}),dY=()=>{var ir;const{user:e}=ar(),t=Rr(),r=sl(),n=aG({resolver:FG(cY),defaultValues:{title:"",artist:""}}),a=async(F,ae)=>{try{const{jsPDF:ye}=await bl(async()=>{const{jsPDF:ft}=await import("./jspdf.es.min-DMYKxPt2.js").then(dt=>dt.j);return{jsPDF:ft}},[]),Pe=new ye("p","mm","a4"),st=Pe.internal.pageSize.getWidth(),at=Pe.internal.pageSize.getHeight(),ze=20,wr=st-2*ze,kr=18,Re=16,ke=15;let qe=ze,Ye=1;F.forEach((ft,dt)=>{qe+ke>at-ze&&(Pe.addPage(),qe=ze,Ye++),Pe.setFontSize(Re),Pe.setFont("helvetica","bold");const wt=`${dt+1}.`,ie=Pe.getTextWidth(wt);Pe.text(wt,ze,qe),Pe.setFontSize(kr),Pe.setFont("helvetica","bold");const He=ft.title.toUpperCase(),Fe=ze+ie+10,gt=wr-ie-10,vt=Pe.splitTextToSize(He,gt);Pe.text(vt,Fe,qe);const nt=Array.isArray(vt)?vt.length*(kr*.353):kr*.353;qe+=Math.max(ke,nt+5)}),Pe.save(ae),oe({title:"PDF gerado com sucesso!",description:`Repertrio salvo como ${ae}`})}catch(ye){console.error("Erro ao gerar PDF:",ye),oe({title:"Erro ao gerar PDF",description:"No foi possvel gerar o PDF. Tente novamente.",variant:"destructive"})}},{data:i,refetch:o}=Ze({queryKey:["my-songs",e==null?void 0:e.id],enabled:!!(e!=null&&e.id),queryFn:async()=>{const{data:F,error:ae}=await $.from("songs").select("*").eq("owner_id",e.id).order("sort_index",{ascending:!0,nullsFirst:!1}).order("created_at",{ascending:!0});if(ae)throw ae;return F||[]}}),[l,c]=f.useState(!0);f.useEffect(()=>{const F=(i||[])[0];F&&typeof F.is_public=="boolean"?c(!0):i&&i.length>0&&c(!1)},[i]);const{data:d}=Ze({queryKey:["genres"],queryFn:async()=>{const{data:F,error:ae}=await $.from("genres").select("id, name");if(ae)throw ae;return F||[]}}),{data:u,refetch:h}=Ze({queryKey:["genre-visibility",e==null?void 0:e.id],enabled:!!(e!=null&&e.id),queryFn:async()=>{const{data:F,error:ae}=await $.from("genre_visibility").select("genre_id, is_public").eq("musician_id",e.id);if(ae)throw ae;return F||[]}}),m=f.useMemo(()=>{const F=new Map;return(u||[]).forEach(ae=>F.set(ae.genre_id,ae.is_public)),F},[u]),p=async(F,ae)=>{if(e)try{const{error:ye}=await $.from("genre_visibility").upsert({musician_id:e.id,genre_id:F,is_public:!ae},{onConflict:"musician_id,genre_id"});if(ye)throw ye;if(l){const{error:Pe}=await $.from("songs").update({is_public:!ae}).eq("owner_id",e.id).eq("genre_id",F);if(Pe)throw Pe}oe({title:ae?"Gnero ocultado":"Gnero tornado visvel"}),await Promise.all([h(),o()])}catch(ye){oe({title:"Erro ao alterar visibilidade do gnero",description:ye.message,variant:"destructive"})}},{data:w,refetch:v}=Ze({queryKey:["my-songs-likes",e==null?void 0:e.id,(i||[]).length],enabled:!!(e!=null&&e.id)&&!!(i!=null&&i.length),queryFn:async()=>{const F=(i||[]).map(st=>st.id),{data:ae,error:ye}=await $.from("song_likes").select("song_id").in("song_id",F);if(ye)throw ye;const Pe={};return(ae||[]).forEach(st=>{Pe[st.song_id]=(Pe[st.song_id]||0)+1}),Pe}}),g=async(F,ae)=>{try{if(!l)return;const{error:ye}=await $.from("songs").update({is_public:!ae}).eq("id",F);if(ye)throw ye;oe({title:ae?"Msica ocultada":"Msica exibida",description:"Atualizao de visibilidade aplicada."}),await o()}catch(ye){oe({title:"Erro ao alterar visibilidade",description:ye.message,variant:"destructive"})}},{data:y,refetch:x}=Ze({queryKey:["my-songs-requests",e==null?void 0:e.id,(i||[]).length],enabled:!!(e!=null&&e.id)&&!!(i!=null&&i.length),queryFn:async()=>{const F=(i||[]).map(st=>st.id),{data:ae,error:ye}=await $.from("requests").select("song_id").in("song_id",F);if(ye)throw ye;const Pe={};return(ae||[]).forEach(st=>{Pe[st.song_id]=(Pe[st.song_id]||0)+1}),Pe}}),[b,_]=f.useState(""),[N,P]=f.useState(""),[S,T]=f.useState(!1),[U,q]=f.useState([]),re=f.useRef(null),[G,H]=f.useState(null),[V,se]=f.useState(null),[ee,J]=f.useState(!1),I=()=>{var ae;if(!i||i.length===0)return;const F=i.filter(ye=>{if(l)return ye.is_public!==!1;const Pe=ye.genre_id;return m.get(Pe)!==!1});if(F.length===0){oe({title:"Nenhuma msica visvel",description:"No h msicas visveis para gerar o PDF.",variant:"destructive"});return}a(F,`repertorio-${((ae=e==null?void 0:e.email)==null?void 0:ae.split("@")[0])||"musico"}.pdf`)},[D,C]=f.useState(""),[E,A]=f.useState("todos"),[Y,k]=f.useState(1),z=30,[ne,Q]=f.useState(!1),[R,L]=f.useState(!1),[Z,de]=f.useState([]),[_e,me]=f.useState(null),[xe,Ge]=f.useState("all");f.useEffect(()=>{if(!(e!=null&&e.id)||!(i!=null&&i.length))return;const F=i.map(ye=>ye.id),ae=$.channel(`catalog-likes-${e.id}`).on("postgres_changes",{event:"*",schema:"public",table:"song_likes"},ye=>{var at,ze;console.log(" [Catalog] Likes realtime update received:",ye),console.log(" [Catalog] Event type:",ye.eventType),console.log(" [Catalog] New record:",ye.new),console.log(" [Catalog] Old record:",ye.old);const Pe=((at=ye.new)==null?void 0:at.song_id)||((ze=ye.old)==null?void 0:ze.song_id);Pe&&F.includes(Pe)?(console.log(" [Catalog] Relevant like update - refetching data"),v()):console.log(" [Catalog] Like update not relevant for this musician")}).subscribe(ye=>{console.log("Likes realtime subscription status:",ye)});return()=>{console.log("Removing likes realtime channel"),$.removeChannel(ae)}},[e==null?void 0:e.id,i,v]),f.useEffect(()=>{if(!(e!=null&&e.id)||!(i!=null&&i.length))return;const F=i.map(ye=>ye.id),ae=$.channel(`catalog-requests-${e.id}`).on("postgres_changes",{event:"*",schema:"public",table:"requests"},ye=>{var at,ze;console.log(" [Catalog] Requests realtime update received:",ye),console.log(" [Catalog] Event type:",ye.eventType),console.log(" [Catalog] New record:",ye.new),console.log(" [Catalog] Old record:",ye.old);const Pe=((at=ye.new)==null?void 0:at.song_id)||((ze=ye.old)==null?void 0:ze.song_id);Pe&&F.includes(Pe)?(console.log(" [Catalog] Relevant request update - refetching data"),x()):console.log(" [Catalog] Request update not relevant for this musician")}).subscribe(ye=>{console.log("Requests realtime subscription status:",ye)});return()=>{console.log("Removing requests realtime channel"),$.removeChannel(ae)}},[e==null?void 0:e.id,i,x]);const Nt=f.useMemo(()=>{const F=new Map;(i||[]).forEach(Pe=>{Pe.genre_id&&F.set(Pe.genre_id,(F.get(Pe.genre_id)||0)+1)});let ae=null,ye=0;return F.forEach((Pe,st)=>{Pe>ye&&(ye=Pe,ae=st)}),ae||""},[i]);f.useEffect(()=>{!D&&Nt&&C(Nt)},[Nt,D]),f.useEffect(()=>{if(V&&d&&d.length){const F=d.find(ae=>ae.name.toLowerCase()===V.toLowerCase());F&&C(F.id)}},[V,d]),f.useEffect(()=>{k(1)},[E,N,xe]);const Ot=async F=>{if(!F||F.length<2){q([]);return}T(!0);try{const{data:ae,error:ye}=await $.functions.invoke("search-songs",{body:{q:F}});if(ye)throw ye;q((ae==null?void 0:ae.results)||[])}catch(ae){console.error("Erro buscando catlogo:",ae),q([])}finally{T(!1)}};f.useEffect(()=>{const F=ae=>{re.current&&(re.current.contains(ae.target)||q([]))};return document.addEventListener("mousedown",F),()=>document.removeEventListener("mousedown",F)},[]),f.useEffect(()=>{i&&de(F=>{const ae=i.map(at=>at.id);if(!F.length)return ae;const ye=new Set(ae),Pe=F.filter(at=>ye.has(at)),st=ae.filter(at=>!Pe.includes(at));return[...Pe,...st]})},[i]);const Ct=F=>{let ae=[...F||[]];if(l&&(xe==="visible"?ae=ae.filter(ye=>((ye==null?void 0:ye.is_public)??!0)===!0):xe==="hidden"&&(ae=ae.filter(ye=>((ye==null?void 0:ye.is_public)??!0)===!1))),xe==="likes")ae.sort((ye,Pe)=>((w==null?void 0:w[Pe.id])??0)-((w==null?void 0:w[ye.id])??0));else if(xe==="requests")ae.sort((ye,Pe)=>((y==null?void 0:y[Pe.id])??0)-((y==null?void 0:y[ye.id])??0));else if(Z.length>0){const ye=new Map(Z.map((Pe,st)=>[Pe,st]));ae.sort((Pe,st)=>(ye.get(Pe.id)??Number.MAX_SAFE_INTEGER)-(ye.get(st.id)??Number.MAX_SAFE_INTEGER))}return ae},It=(F,ae)=>{me(ae),F.dataTransfer.effectAllowed="move",F.dataTransfer.setData("text/plain",ae)},B=async(F,ae)=>{F.preventDefault();const ye=_e||F.dataTransfer.getData("text/plain");if(!ye||ye===ae)return;const Pe=[...Z],st=Pe.indexOf(ye),at=Pe.indexOf(ae);if(!(st===-1||at===-1)&&(Pe.splice(st,1),Pe.splice(at,0,ye),de(Pe),me(null),!!e))try{await Promise.all(Pe.map((ze,wr)=>$.from("songs").update({sort_index:wr+1}).eq("id",ze).eq("owner_id",e.id))),oe({title:"Ordem salva"})}catch(ze){console.error("Erro ao salvar ordem:",ze),oe({title:"Erro ao salvar ordem",description:(ze==null?void 0:ze.message)||"Tente novamente."})}},te=F=>{n.setValue("title",F.title||""),n.setValue("artist",F.artist||""),H(F.cover_url||null),se(F.genre_name||null),q([]),_(`${F.title}  ${F.artist}`)},ce=async F=>{if(!e)return;const ae=ze=>ze.trim().toLowerCase().replace(/\s+/g," ");if((i||[]).some(ze=>ae(ze.title)===ae(F.title)&&ae(ze.artist||"")===ae(F.artist||""))){oe({title:"Msica j cadastrada",description:"Essa msica j est no seu catlogo."});return}let Pe=D||null;if(!Pe&&V){const{data:ze,error:wr}=await $.from("genres").select("id, name").ilike("name",V).limit(1);!wr&&ze&&ze.length>0&&(Pe=ze[0].id)}const st={title:F.title.trim(),artist:F.artist.trim(),owner_id:e.id,cover_url:G,genre_id:Pe};l&&(st.is_public=!0);const{error:at}=await $.from("songs").insert(st);if(at){oe({title:"Erro ao cadastrar msica",description:at.message});return}oe({title:"Msica adicionada ao catlogo"}),n.reset(),H(null),se(null),_(""),o()},be=async F=>{if(!e||!window.confirm("Tem certeza que deseja excluir esta msica?"))return;const{error:ye}=await $.from("songs").delete().eq("id",F);if(ye){oe({title:"Erro ao excluir msica",description:ye.message});return}oe({title:"Msica excluda"}),o()},we=Object.fromEntries((d||[]).map(F=>[F.id,F.name])),pe=(i||[]).filter(F=>{const ae=N.toLowerCase().trim();return ae?F.title.toLowerCase().includes(ae)||(F.artist||"").toLowerCase().includes(ae):!0}),Se=Array.from(new Set(pe.map(F=>F.genre_id).filter(Boolean))),Ue=pe.some(F=>!F.genre_id),fe=Se.map(F=>({value:F,label:we[F]||"Sem gnero"}));Ue&&fe.push({value:"sem",label:"Sem gnero"});const We=r?1:6,yt=fe.slice(0,We),et=fe.slice(We),kt=et.some(F=>F.value===E),zt=kt&&((ir=et.find(F=>F.value===E))==null?void 0:ir.label)||"Mais...";return s.jsxs(s.Fragment,{children:[ee&&s.jsxs("div",{className:"fixed inset-0 z-50 flex items-start justify-center pt-16 px-4",onClick:()=>J(!1),children:[s.jsx("div",{className:"absolute inset-0 bg-black/50","aria-hidden":"true"}),s.jsxs("div",{className:"relative w-full max-w-sm bg-background border rounded-lg shadow-lg p-4",onClick:F=>F.stopPropagation(),children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h3",{className:"text-sm font-medium",children:"Pesquisar msicas"}),s.jsx(O,{variant:"ghost",size:"sm",onClick:()=>J(!1),children:s.jsx(Pr,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground",children:s.jsx(na,{className:"h-4 w-4"})}),s.jsx(Oe,{placeholder:"Pesquisar no seu catlogo...",value:N,onChange:F=>P(F.target.value),className:"pl-10 pr-10",autoFocus:!0}),N&&s.jsx("div",{className:"absolute right-2 top-1/2 transform -translate-y-1/2",children:s.jsx(O,{type:"button",variant:"ghost",size:"sm",className:"h-6 w-6 p-0 hover:bg-muted",onClick:()=>P(""),children:s.jsx(Pr,{className:"h-3 w-3"})})})]})]})]}),s.jsxs("section",{className:"max-w-5xl mx-auto px-4 overflow-x-hidden",children:[s.jsx(Xt,{title:"Catlogo do Msico",description:"Adicione msicas e gerencie seu catlogo."}),e?s.jsxs(tt,{className:"border-0 shadow-none",children:[s.jsx(Qt,{className:"p-0 m-0",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(cr,{children:"Catlogo"}),s.jsx("div",{className:"flex items-center gap-2",children:r?s.jsxs(Jr,{open:R,onOpenChange:L,children:[s.jsx(b7,{asChild:!0,children:s.jsx(O,{children:s.jsx(wc,{className:"h-4 w-4"})})}),s.jsxs(Kr,{className:"sm:max-w-[425px]",children:[s.jsx(Gr,{children:s.jsx(Yr,{children:"Adicionar Msica"})}),s.jsx("div",{className:"py-4",children:s.jsx(rS,{...n,children:s.jsxs("form",{onSubmit:n.handleSubmit(ce),className:"space-y-4",children:[s.jsxs(Ta,{children:[s.jsx(Ra,{children:"Buscar msica"}),s.jsx(Ma,{children:s.jsxs("div",{className:"relative",ref:re,children:[s.jsxs("div",{className:"relative w-full",children:[s.jsx("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:s.jsx(na,{className:"h-4 w-4"})}),s.jsx(Oe,{placeholder:"Digite ttulo ou artista (ex.: Meu Erro)",value:b,onChange:F=>{const ae=F.target.value;_(ae),Ot(ae)},onKeyDown:F=>{F.key==="Escape"&&q([])},className:"pl-10 pr-10"}),b&&s.jsx("div",{className:"absolute right-2 top-1/2 transform -translate-y-1/2",children:s.jsx(O,{type:"button",variant:"ghost",size:"sm",className:"h-6 w-6 p-0 hover:bg-muted",onClick:()=>{_(""),q([])},children:s.jsx(Pr,{className:"h-3 w-3"})})})]}),U.length>0&&s.jsx("div",{className:"absolute z-10 mt-1 w-full rounded-md border bg-popover text-popover-foreground shadow",children:s.jsx("ul",{className:"max-h-64 overflow-auto",children:U.map((F,ae)=>s.jsx("li",{className:"px-3 py-2 hover:bg-accent cursor-pointer",onClick:()=>te(F),children:s.jsxs("div",{className:"flex items-center gap-3",children:[F.cover_url&&s.jsx("img",{src:F.cover_url,alt:`Capa de ${F.title} - ${F.artist}`,className:"h-10 w-10 rounded object-cover",loading:"lazy"}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("p",{className:"text-sm font-medium truncate",children:F.title}),s.jsxs("p",{className:"text-xs text-muted-foreground truncate",children:[F.artist,F.genre_name?`  ${F.genre_name}`:""]})]})]})},`${F.title}-${F.artist}-${ae}`))})})]})}),s.jsx(Aa,{})]}),s.jsx($h,{control:n.control,name:"title",render:({field:F})=>s.jsxs(Ta,{children:[s.jsx(Ra,{children:"Ttulo"}),s.jsx(Ma,{children:s.jsx(Oe,{placeholder:"Ex.: Meu erro",...F})}),s.jsx(Aa,{})]})}),s.jsx($h,{control:n.control,name:"artist",render:({field:F})=>s.jsxs(Ta,{children:[s.jsx(Ra,{children:"Artista"}),s.jsx(Ma,{children:s.jsx(Oe,{placeholder:"Ex.: Paralamas do sucesso",...F})}),s.jsx(Aa,{})]})}),s.jsxs(Ta,{children:[s.jsx(Ra,{children:"Gnero"}),s.jsxs(bn,{children:[s.jsx(jn,{asChild:!0,children:s.jsx(Ma,{children:s.jsxs(O,{variant:"outline",role:"combobox",className:"w-full justify-between","aria-label":"Selecionar gnero",children:[D?we[D]||"Sem gnero":Nt?`Sugerido: ${we[Nt]||""}`:"Selecione um gnero",s.jsx(qv,{className:"ml-2 h-4 w-4 opacity-50"})]})})}),s.jsx(un,{className:"w-[--radix-popover-trigger-width] p-0 z-50",children:s.jsxs(uu,{children:[s.jsx(hm,{placeholder:"Filtrar gneros..."}),s.jsxs(fu,{children:[s.jsx(T0,{children:"Nenhum gnero encontrado."}),s.jsxs(hu,{children:[s.jsxs(Rs,{value:"none",onSelect:()=>{C(""),k(1)},children:[s.jsx(cs,{className:le("mr-2 h-4 w-4",D===""?"opacity-100":"opacity-0")}),"Sem gnero"]},"none"),(d||[]).map(F=>s.jsxs(Rs,{value:F.name,onSelect:()=>{C(F.id),k(1)},children:[s.jsx(cs,{className:le("mr-2 h-4 w-4",D===F.id?"opacity-100":"opacity-0")}),F.name]},F.id))]})]})]})})]}),s.jsx(Aa,{})]}),(G||V)&&s.jsxs("div",{className:"flex items-center gap-3",children:[G?s.jsx("img",{src:G,alt:"Prvia da capa",className:"h-14 w-14 rounded object-cover border",loading:"lazy"}):s.jsx("div",{className:"h-14 w-14 rounded border bg-muted/30 flex items-center justify-center",children:s.jsx(nr,{className:"h-5 w-5 text-muted-foreground"})}),V&&s.jsx("span",{className:"text-xs px-2 py-1 rounded-full border bg-secondary/30",children:V})]}),s.jsxs("div",{className:"flex gap-2 pt-4",children:[s.jsx(O,{type:"button",variant:"outline",onClick:()=>L(!1),className:"flex-1",children:"Fechar"}),s.jsx(O,{type:"submit",className:"flex-1",children:"Adicionar"})]})]})})})]})]}):s.jsxs(s.Fragment,{children:[!ne&&s.jsxs(O,{onClick:()=>Q(!0),children:[s.jsx(wc,{className:"h-4 w-4"}),s.jsx("span",{className:"ml-2",children:"Adicionar msicas"})]}),ne&&s.jsxs(O,{variant:"ghost",size:"sm",onClick:()=>Q(!1),"aria-label":"Minimizar formulrio",title:"Minimizar formulrio",children:[s.jsx(S2,{className:"h-4 w-4"}),s.jsx("span",{className:"ml-2",children:"Minimizar"})]})]})})]})}),s.jsx(rt,{className:"p-0 m-0",children:s.jsxs("div",{className:"flex flex-col gap-4",children:[(!i||i.length===0)&&!ne&&s.jsxs("div",{className:"rounded-md border p-3 bg-muted/30",children:[s.jsx("h3",{className:"font-medium text-gray-500",children:"Voc ainda no adicionou msicas"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:'Clique no boto "Adicionar msicas" no topo e pesquise pelo ttulo ou artista para incluir no seu catlogo.'})]}),s.jsx("div",{className:ne?"":"hidden",children:s.jsx(rS,{...n,children:s.jsx("form",{onSubmit:n.handleSubmit(ce),children:s.jsxs("div",{className:"grid md:grid-cols-[360px,1fr] gap-4 items-start",children:[s.jsxs("div",{className:"hidden md:block",children:[s.jsx("div",{className:"rounded-md border overflow-hidden bg-muted/30 aspect-square",children:G?s.jsx("img",{src:G,alt:"Prvia da capa",className:"w-full h-full object-cover",loading:"lazy"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center",children:s.jsx("div",{className:"flex flex-col items-center justify-center text-muted-foreground",children:s.jsx(nr,{className:"h-10 w-10 opacity-70"})})})}),V&&s.jsx("div",{className:"mt-2 text-xs px-2 py-1 inline-block rounded-full border bg-secondary/30",children:V})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Ta,{children:[s.jsx(Ra,{children:"Buscar msica"}),s.jsx(Ma,{children:s.jsxs("div",{className:"relative",ref:re,children:[s.jsxs("div",{className:"relative w-full",children:[s.jsx("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:s.jsx(na,{className:"h-4 w-4"})}),s.jsx(Oe,{placeholder:"Digite ttulo ou artista (ex.: Meu Erro)",value:b,onChange:F=>{const ae=F.target.value;_(ae),Ot(ae)},onKeyDown:F=>{F.key==="Escape"&&q([])},className:"pl-10 pr-10"}),b&&s.jsx("div",{className:"absolute right-2 top-1/2 transform -translate-y-1/2",children:s.jsx(O,{type:"button",variant:"ghost",size:"sm",className:"h-6 w-6 p-0 hover:bg-muted",onClick:()=>{_(""),q([])},children:s.jsx(Pr,{className:"h-3 w-3"})})})]}),U.length>0&&s.jsx("div",{className:"absolute z-10 mt-1 w-full rounded-md border bg-popover text-popover-foreground shadow",children:s.jsx("ul",{className:"max-h-64 overflow-auto",children:U.map((F,ae)=>s.jsx("li",{className:"px-3 py-2 hover:bg-accent cursor-pointer",onClick:()=>te(F),children:s.jsxs("div",{className:"flex items-center gap-3",children:[F.cover_url&&s.jsx("img",{src:F.cover_url,alt:`Capa de ${F.title} - ${F.artist}`,className:"h-10 w-10 rounded object-cover",loading:"lazy"}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("p",{className:"text-sm font-medium truncate",children:F.title}),s.jsxs("p",{className:"text-xs text-muted-foreground truncate",children:[F.artist,F.genre_name?`  ${F.genre_name}`:""]})]})]})},`${F.title}-${F.artist}-${ae}`))})})]})}),s.jsx(Aa,{})]}),s.jsx($h,{control:n.control,name:"title",render:({field:F})=>s.jsxs(Ta,{children:[s.jsx(Ra,{children:"Ttulo"}),s.jsx(Ma,{children:s.jsx(Oe,{placeholder:"Ex.: Meu erro",...F})}),s.jsx(Aa,{})]})}),s.jsx($h,{control:n.control,name:"artist",render:({field:F})=>s.jsxs(Ta,{children:[s.jsx(Ra,{children:"Artista"}),s.jsx(Ma,{children:s.jsx(Oe,{placeholder:"Ex.: Paralamas do sucesso",...F})}),s.jsx(Aa,{})]})}),s.jsxs(Ta,{children:[s.jsx(Ra,{children:"Gnero"}),s.jsxs(bn,{children:[s.jsx(jn,{asChild:!0,children:s.jsx(Ma,{children:s.jsxs(O,{variant:"outline",role:"combobox",className:"w-full justify-between","aria-label":"Selecionar gnero",children:[D?we[D]||"Sem gnero":Nt?`Sugerido: ${we[Nt]||""}`:"Selecione um gnero",s.jsx(qv,{className:"ml-2 h-4 w-4 opacity-50"})]})})}),s.jsx(un,{className:"w-[--radix-popover-trigger-width] p-0 z-50",children:s.jsxs(uu,{children:[s.jsx(hm,{placeholder:"Filtrar gneros..."}),s.jsxs(fu,{children:[s.jsx(T0,{children:"Nenhum gnero encontrado."}),s.jsxs(hu,{children:[s.jsxs(Rs,{value:"none",onSelect:()=>{C(""),k(1)},children:[s.jsx(cs,{className:le("mr-2 h-4 w-4",D===""?"opacity-100":"opacity-0")}),"Sem gnero"]},"none"),(d||[]).map(F=>s.jsxs(Rs,{value:F.name,onSelect:()=>{C(F.id),k(1)},children:[s.jsx(cs,{className:le("mr-2 h-4 w-4",D===F.id?"opacity-100":"opacity-0")}),F.name]},F.id))]})]})]})})]}),s.jsx(Aa,{})]}),(G||V)&&s.jsxs("div",{className:"flex items-center gap-2 md:hidden",children:[G?s.jsx("img",{src:G,alt:"Prvia da capa",className:"h-14 w-14 rounded object-cover border",loading:"lazy"}):s.jsx("div",{className:"h-14 w-14 rounded border bg-muted/30 flex items-center justify-center",children:s.jsx(nr,{className:"h-5 w-5 text-muted-foreground"})}),V&&s.jsx("span",{className:"text-xs px-2 py-1 rounded-full border bg-secondary/30",children:V})]}),s.jsx(O,{type:"submit",children:"Salvar"})]})]})})})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Suas msicas:"}),s.jsx("div",{className:"mb-2",children:s.jsxs("div",{className:"flex gap-2",children:[r?s.jsx(O,{variant:"outline",size:"sm",onClick:()=>J(!0),className:"flex-shrink-0",children:s.jsx(na,{className:"h-4 w-4"})}):s.jsxs("div",{className:"relative flex-1",children:[s.jsx("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:s.jsx(na,{className:"h-4 w-4"})}),s.jsx(Oe,{placeholder:"Pesquisar no seu catlogo...",value:N,onChange:F=>P(F.target.value),className:"pl-10 pr-10"}),N&&s.jsx("div",{className:"absolute right-2 top-1/2 transform -translate-y-1/2",children:s.jsx(O,{type:"button",variant:"ghost",size:"sm",className:"h-6 w-6 p-0 hover:bg-muted",onClick:()=>P(""),children:s.jsx(Pr,{className:"h-3 w-3"})})})]}),s.jsx(uY,{userId:e==null?void 0:e.id,onAfterChange:()=>o(),isMobile:r}),s.jsxs(O,{variant:"outline",size:"sm",onClick:I,disabled:!i||i.length===0,title:"Gerar repertrio de palco em PDF",children:[s.jsx(fc,{className:"h-4 w-4"}),!r&&s.jsx("span",{className:"ml-2",children:"Repertrio PDF"})]}),r?s.jsxs(bn,{children:[s.jsx(jn,{asChild:!0,children:s.jsx(O,{variant:"outline",size:"sm",children:s.jsx(qv,{className:"h-4 w-4"})})}),s.jsx(un,{align:"end",className:"w-48",children:s.jsxs(uu,{children:[s.jsx(hm,{placeholder:"Ordenar por..."}),s.jsx(fu,{children:s.jsxs(hu,{children:[s.jsxs(Rs,{onSelect:()=>Ge("all"),children:[s.jsx(cs,{className:le("mr-2 h-4 w-4",xe==="all"?"opacity-100":"opacity-0")}),"Todas (ordem manual)"]}),s.jsxs(Rs,{onSelect:()=>Ge("likes"),children:[s.jsx(cs,{className:le("mr-2 h-4 w-4",xe==="likes"?"opacity-100":"opacity-0")}),"Mais curtidas"]}),s.jsxs(Rs,{onSelect:()=>Ge("requests"),children:[s.jsx(cs,{className:le("mr-2 h-4 w-4",xe==="requests"?"opacity-100":"opacity-0")}),"Mais solicitadas"]}),l?s.jsxs(s.Fragment,{children:[s.jsxs(Rs,{onSelect:()=>Ge("visible"),children:[s.jsx(cs,{className:le("mr-2 h-4 w-4",xe==="visible"?"opacity-100":"opacity-0")}),"Visveis"]}),s.jsxs(Rs,{onSelect:()=>Ge("hidden"),children:[s.jsx(cs,{className:le("mr-2 h-4 w-4",xe==="hidden"?"opacity-100":"opacity-0")}),"Ocultas"]})]}):null]})})]})})]}):s.jsxs(ul,{value:xe,onValueChange:F=>Ge(F),children:[s.jsx(oo,{className:"w-48",children:s.jsx(fl,{placeholder:"Ordenar por"})}),s.jsxs(lo,{children:[s.jsx(Vr,{value:"all",children:"Todas (ordem manual)"}),s.jsx(Vr,{value:"likes",children:"Mais curtidas"}),s.jsx(Vr,{value:"requests",children:"Mais solicitadas"}),l?s.jsxs(s.Fragment,{children:[s.jsx(Vr,{value:"visible",children:"Visveis"}),s.jsx(Vr,{value:"hidden",children:"Ocultas"})]}):null]})]})]})}),xe==="all"&&s.jsx("p",{className:"text-xs text-muted-foreground mb-2 text-gray-700",children:"Dica: arraste para reordenar os itens."}),pe.length?s.jsxs(_d,{value:E,onValueChange:F=>A(F),className:"w-full",children:[s.jsxs(io,{className:"flex flex-wrap gap-1",children:[s.jsxs(Lr,{value:"todos",children:["Todas (",pe.length,")"]}),yt.map(F=>s.jsx(Lr,{value:F.value,children:F.label},F.value)),et.length>0&&s.jsxs(bn,{children:[s.jsx(jn,{asChild:!0,children:s.jsx(O,{variant:"ghost",size:"sm",className:le("px-3 py-1.5 text-sm font-medium rounded-sm",kt?"bg-background text-foreground shadow-sm":""),"aria-label":"Mais gneros",children:zt})}),s.jsx(un,{align:"start",className:"z-50 bg-popover text-popover-foreground border p-1",children:s.jsx(uu,{children:s.jsx(fu,{children:s.jsx(hu,{children:et.map(F=>s.jsx(Rs,{onSelect:()=>A(F.value),children:F.label},F.value))})})})})]})]}),s.jsxs(Wr,{value:"todos",children:[s.jsx("ul",{className:"space-y-1.5",children:Ct(pe).slice(0,Y*z).map(F=>s.jsxs("li",{className:"border rounded-md p-2 flex items-start justify-between gap-2",draggable:xe==="all",onDragStart:xe==="all"?ae=>It(ae,F.id):void 0,onDragOver:xe==="all"?ae=>ae.preventDefault():void 0,onDrop:xe==="all"?ae=>B(ae,F.id):void 0,onDragEnd:xe==="all"?()=>me(null):void 0,children:[s.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-1",children:[s.jsx(Wv,{className:`h-4 w-4 ${xe==="all"?"text-muted-foreground cursor-grab":"text-muted-foreground/30 cursor-not-allowed"}`,"aria-hidden":"true"}),s.jsx("img",{src:F.cover_url||"/placeholder.svg",alt:`Capa de ${F.title}${F.artist?`  ${F.artist}`:""}`,className:"h-10 w-10 rounded object-cover border flex-shrink-0",loading:"lazy"}),s.jsxs("div",{className:"hidden md:flex md:flex-1 md:gap-4 md:min-w-0",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"text-xs text-muted-foreground uppercase tracking-wide mb-1",children:"Ttulo"}),s.jsx("div",{className:"font-medium text-sm truncate",children:F.title})]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"text-xs text-muted-foreground uppercase tracking-wide mb-1",children:"Artista"}),s.jsx("div",{className:"text-sm truncate",children:F.artist||""})]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"text-xs text-muted-foreground uppercase tracking-wide mb-1",children:"Gnero"}),s.jsx("div",{className:"text-sm truncate",children:F.genre_id&&we[F.genre_id]||"Sem gnero"})]})]}),s.jsxs("div",{className:"md:hidden min-w-0 flex-1 max-w-[160px]",children:[s.jsx("p",{className:"font-medium text-sm truncate",title:F.title,children:F.title}),F.artist&&s.jsx("p",{className:"text-xs text-muted-foreground truncate",title:F.artist,children:F.artist})]})]}),s.jsxs("div",{className:"flex items-center gap-1.5",children:[!r&&s.jsxs(s.Fragment,{children:[s.jsxs("span",{className:"inline-flex items-center gap-1 text-xs text-muted-foreground",children:[s.jsx(cn,{className:"h-3 w-3"}),s.jsx("span",{children:(w==null?void 0:w[F.id])??0})]}),s.jsxs("span",{className:"inline-flex items-center gap-1 text-xs text-muted-foreground",children:[s.jsx(nr,{className:"h-3 w-3"}),s.jsx("span",{children:(y==null?void 0:y[F.id])??0})]})]}),(()=>{const ae=(F==null?void 0:F.is_public)??!0;return s.jsx(O,{variant:"ghost",size:"icon",onClick:()=>{if(!l){oe({title:"Visibilidade indisponvel",description:"Atualize o banco para habilitar o controle de visibilidade (coluna is_public)."});return}g(F.id,ae)},"aria-label":ae?"Ocultar msica":"Exibir msica",title:ae?"Ocultar msica na pgina pblica":"Exibir msica na pgina pblica",children:ae?s.jsx(Fr,{className:"h-4 w-4"}):s.jsx(Xn,{className:"h-4 w-4"})})})(),s.jsxs(Xi,{children:[s.jsx(Zi,{asChild:!0,children:s.jsx(O,{variant:"ghost",size:"icon",children:s.jsx(Gi,{className:"h-4 w-4"})})}),s.jsxs(Ga,{align:"end",children:[r&&s.jsxs(s.Fragment,{children:[s.jsxs(dr,{children:[s.jsx(cn,{className:"h-4 w-4 mr-2"}),(w==null?void 0:w[F.id])??0," curtidas"]}),s.jsxs(dr,{children:[s.jsx(nr,{className:"h-4 w-4 mr-2"}),(y==null?void 0:y[F.id])??0," solicitaes"]})]}),s.jsxs(dr,{onClick:()=>be(F.id),className:"text-destructive focus:text-destructive",children:[s.jsx(Gn,{className:"h-4 w-4 mr-2"}),"Excluir msica"]})]})]})]})]},F.id))}),s.jsx("div",{className:"mt-3 flex justify-center",children:pe.length>Y*z?s.jsx(O,{variant:"outline",size:"sm",onClick:()=>k(F=>F+1),children:"Ver mais"}):s.jsxs("span",{className:"text-xs text-muted-foreground",children:["Exibindo ",Math.min(pe.length,Y*z)," de ",pe.length]})})]}),Se.map(F=>s.jsxs(Wr,{value:F,children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h4",{className:"text-sm font-medium",children:we[F]||"Sem gnero"}),!!we[F]&&(()=>{const ae=m.get(F),ye=typeof ae=="boolean"?ae:!0;return s.jsx(O,{variant:"ghost",size:"icon",onClick:()=>p(F,ye),"aria-label":ye?"Ocultar gnero":"Exibir gnero",title:ye?"Ocultar gnero na pgina pblica":"Exibir gnero na pgina pblica",children:ye?s.jsx(Fr,{className:"h-4 w-4"}):s.jsx(Xn,{className:"h-4 w-4"})})})()]}),s.jsx("ul",{className:"space-y-1.5",children:Ct(pe.filter(ae=>ae.genre_id===F)).slice(0,Y*z).map(ae=>s.jsxs("li",{className:"border rounded-md p-1.5 flex items-center justify-between",draggable:xe==="all",onDragStart:xe==="all"?ye=>It(ye,ae.id):void 0,onDragOver:xe==="all"?ye=>ye.preventDefault():void 0,onDrop:xe==="all"?ye=>B(ye,ae.id):void 0,onDragEnd:xe==="all"?()=>me(null):void 0,children:[s.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-1",children:[s.jsx(Wv,{className:`h-4 w-4 ${xe==="all"?"text-muted-foreground cursor-grab":"text-muted-foreground/30 cursor-not-allowed"}`,"aria-hidden":"true"}),ae.cover_url?s.jsx("img",{src:ae.cover_url,alt:`Capa de ${ae.title}${ae.artist?`  ${ae.artist}`:""}`,className:"h-10 w-10 rounded object-cover border flex-shrink-0",loading:"lazy"}):s.jsx("div",{className:"h-10 w-10 rounded border bg-muted/30 flex items-center justify-center flex-shrink-0",children:s.jsx(nr,{className:"h-4 w-4 text-muted-foreground"})}),s.jsxs("div",{className:"hidden md:grid md:grid-cols-3 md:gap-4 md:flex-1 md:min-w-0",children:[s.jsxs("div",{className:"min-w-0",children:[s.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wide mb-1",children:"Ttulo"}),s.jsx("p",{className:"font-medium truncate",children:ae.title})]}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wide mb-1",children:"Artista"}),s.jsx("p",{className:"text-sm truncate",children:ae.artist||""})]}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wide mb-1",children:"Gnero"}),s.jsx("p",{className:"text-sm truncate",children:ae.genre_id&&we[ae.genre_id]||"Sem gnero"})]})]}),s.jsxs("div",{className:"md:hidden min-w-0 max-w-[120px]",children:[s.jsx("p",{className:"font-medium text-sm truncate",title:ae.title,children:ae.title}),ae.artist&&s.jsx("p",{className:"text-xs text-muted-foreground truncate",title:ae.artist,children:ae.artist})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[!r&&s.jsxs(s.Fragment,{children:[s.jsxs("span",{className:"inline-flex items-center gap-1 text-xs text-muted-foreground",children:[s.jsx(cn,{className:"h-3 w-3"}),s.jsx("span",{children:(w==null?void 0:w[ae.id])??0})]}),s.jsxs("span",{className:"inline-flex items-center gap-1 text-xs text-muted-foreground",children:[s.jsx(nr,{className:"h-3 w-3"}),s.jsx("span",{children:(y==null?void 0:y[ae.id])??0})]})]}),(()=>{const ye=(ae==null?void 0:ae.is_public)??!0;return s.jsx(O,{variant:"ghost",size:"icon",onClick:()=>{if(!l){oe({title:"Visibilidade indisponvel",description:"Atualize o banco para habilitar o controle de visibilidade (coluna is_public)."});return}g(ae.id,ye)},"aria-label":ye?"Ocultar msica":"Exibir msica",title:ye?"Ocultar msica na pgina pblica":"Exibir msica na pgina pblica",children:ye?s.jsx(Fr,{className:"h-4 w-4"}):s.jsx(Xn,{className:"h-4 w-4"})})})(),s.jsxs(Xi,{children:[s.jsx(Zi,{asChild:!0,children:s.jsx(O,{variant:"ghost",size:"icon",children:s.jsx(Gi,{className:"h-4 w-4"})})}),s.jsxs(Ga,{align:"end",children:[r&&s.jsxs(s.Fragment,{children:[s.jsxs(dr,{children:[s.jsx(cn,{className:"h-4 w-4 mr-2"}),(w==null?void 0:w[ae.id])??0," curtidas"]}),s.jsxs(dr,{children:[s.jsx(nr,{className:"h-4 w-4 mr-2"}),(y==null?void 0:y[ae.id])??0," solicitaes"]})]}),s.jsxs(dr,{onClick:()=>be(ae.id),className:"text-destructive focus:text-destructive",children:[s.jsx(Gn,{className:"h-4 w-4 mr-2"}),"Excluir msica"]})]})]})]})]},ae.id))}),s.jsx("div",{className:"mt-3 flex justify-center",children:pe.filter(ae=>ae.genre_id===F).length>Y*z?s.jsx(O,{variant:"outline",size:"sm",onClick:()=>k(ae=>ae+1),children:"Ver mais"}):s.jsxs("span",{className:"text-xs text-muted-foreground",children:["Exibindo ",Math.min(pe.filter(ae=>ae.genre_id===F).length,Y*z)," ","de ",pe.filter(ae=>ae.genre_id===F).length]})})]},F)),Ue&&s.jsxs(Wr,{value:"sem",children:[s.jsx("ul",{className:"space-y-1.5",children:Ct(pe.filter(F=>!F.genre_id)).slice(0,Y*z).map(F=>s.jsxs("li",{className:"border rounded-md p-1.5 flex items-center justify-between",draggable:xe==="all",onDragStart:xe==="all"?ae=>It(ae,F.id):void 0,onDragOver:xe==="all"?ae=>ae.preventDefault():void 0,onDrop:xe==="all"?ae=>B(ae,F.id):void 0,onDragEnd:xe==="all"?()=>me(null):void 0,children:[s.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-1",children:[s.jsx(Wv,{className:`h-4 w-4 ${xe==="all"?"text-muted-foreground cursor-grab":"text-muted-foreground/30 cursor-not-allowed"}`,"aria-hidden":"true"}),F.cover_url?s.jsx("img",{src:F.cover_url,alt:`Capa de ${F.title}${F.artist?`  ${F.artist}`:""}`,className:"h-10 w-10 rounded object-cover border flex-shrink-0",loading:"lazy"}):s.jsx("div",{className:"h-10 w-10 rounded border bg-muted/30 flex items-center justify-center flex-shrink-0",children:s.jsx(nr,{className:"h-4 w-4 text-muted-foreground"})}),s.jsxs("div",{className:"hidden md:grid md:grid-cols-3 md:gap-4 md:flex-1 md:min-w-0",children:[s.jsxs("div",{className:"min-w-0",children:[s.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wide mb-1",children:"Ttulo"}),s.jsx("p",{className:"font-medium truncate",children:F.title})]}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wide mb-1",children:"Artista"}),s.jsx("p",{className:"text-sm truncate",children:F.artist||""})]}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wide mb-1",children:"Gnero"}),s.jsx("p",{className:"text-sm truncate",children:F.genre_id&&we[F.genre_id]||"Sem gnero"})]})]}),s.jsxs("div",{className:"md:hidden min-w-0 max-w-[120px]",children:[s.jsx("p",{className:"font-medium text-sm truncate",title:F.title,children:F.title}),F.artist&&s.jsx("p",{className:"text-xs text-muted-foreground truncate",title:F.artist,children:F.artist})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[!r&&s.jsxs(s.Fragment,{children:[s.jsxs("span",{className:"inline-flex items-center gap-1 text-xs text-muted-foreground",children:[s.jsx(cn,{className:"h-3 w-3"}),s.jsx("span",{children:(w==null?void 0:w[F.id])??0})]}),s.jsxs("span",{className:"inline-flex items-center gap-1 text-xs text-muted-foreground",children:[s.jsx(nr,{className:"h-3 w-3"}),s.jsx("span",{children:(y==null?void 0:y[F.id])??0})]})]}),(()=>{const ae=(F==null?void 0:F.is_public)??!0;return s.jsx(O,{variant:"ghost",size:"icon",onClick:()=>{if(!l){oe({title:"Visibilidade indisponvel",description:"Atualize o banco para habilitar o controle de visibilidade (coluna is_public)."});return}g(F.id,ae)},"aria-label":ae?"Ocultar msica":"Exibir msica",title:ae?"Ocultar msica na pgina pblica":"Exibir msica na pgina pblica",children:ae?s.jsx(Fr,{className:"h-4 w-4"}):s.jsx(Xn,{className:"h-4 w-4"})})})(),s.jsxs(Xi,{children:[s.jsx(Zi,{asChild:!0,children:s.jsx(O,{variant:"ghost",size:"icon",children:s.jsx(Gi,{className:"h-4 w-4"})})}),s.jsxs(Ga,{align:"end",children:[r&&s.jsxs(s.Fragment,{children:[s.jsxs(dr,{children:[s.jsx(cn,{className:"h-4 w-4 mr-2"}),(w==null?void 0:w[F.id])??0," curtidas"]}),s.jsxs(dr,{children:[s.jsx(nr,{className:"h-4 w-4 mr-2"}),(y==null?void 0:y[F.id])??0," solicitaes"]})]}),s.jsxs(dr,{onClick:()=>be(F.id),className:"text-destructive focus:text-destructive",children:[s.jsx(Gn,{className:"h-4 w-4 mr-2"}),"Excluir msica"]})]})]})]})]},F.id))}),s.jsx("div",{className:"mt-3 flex justify-center",children:pe.filter(F=>!F.genre_id).length>Y*z?s.jsx(O,{variant:"outline",size:"sm",onClick:()=>k(F=>F+1),children:"Ver mais"}):s.jsxs("span",{className:"text-xs text-muted-foreground",children:["Exibindo ",Math.min(pe.filter(F=>!F.genre_id).length,Y*z)," de"," ",pe.filter(F=>!F.genre_id).length]})})]})]}):s.jsx("p",{className:"text-sm text-muted-foreground",children:"Nenhuma msica encontrada."})]})]})})]}):s.jsxs(tt,{className:"border-0 shadow-none",children:[s.jsx(Qt,{className:"p-0 m-0",children:s.jsx(cr,{children:"Entre para gerenciar seu catlogo"})}),s.jsx(rt,{className:"p-0 m-0",children:s.jsx(O,{onClick:()=>t("/auth"),children:"Entrar"})})]})]})]})},uY=({userId:e,onAfterChange:t,isMobile:r})=>{const n=is(),[a,i]=f.useState(!1),{data:o,refetch:l}=Ze({queryKey:["catalog-visibility",e],enabled:!!e,queryFn:async()=>{const{data:u,error:h}=await $.from("catalog_visibility").select("is_public").eq("musician_id",e).maybeSingle();if(h)throw h;return(u==null?void 0:u.is_public)??!0}}),c=async()=>{if(!e)return;const u=!(o??!0);try{i(!0);const{error:h}=await $.from("catalog_visibility").upsert({musician_id:e,is_public:u});if(h)throw h;const{error:m}=await $.from("songs").update({is_public:u}).eq("owner_id",e);if(m)throw m;n.setQueryData(["catalog-visibility",e],u),await l(),oe({title:u?"Catlogo visvel":"Catlogo oculto"}),t==null||t()}catch(h){oe({title:"Erro ao atualizar catlogo",description:h.message,variant:"destructive"})}finally{i(!1)}},d=o??!0;return s.jsxs(O,{variant:"outline",size:"sm",onClick:c,disabled:a,"aria-label":d?"Ocultar catlogo":"Exibir catlogo",title:d?"Ocultar catlogo inteiro na pgina pblica":"Exibir catlogo inteiro na pgina pblica",children:[d?s.jsx(Fr,{className:"h-4 w-4"}):s.jsx(Xn,{className:"h-4 w-4"}),!r&&s.jsx("span",{className:"ml-2",children:d?"Catlogo visvel":"Catlogo oculto"})]})},fY=()=>{const{user:e}=ar(),t=Rr();f.useEffect(()=>{!(e!=null&&e.id)||!("geolocation"in navigator)||navigator.geolocation.getCurrentPosition(async N=>{const{latitude:P,longitude:S}=N.coords;try{await $.from("profiles").update({lat:P,lng:S}).eq("id",e.id)}catch{}},()=>{})},[e==null?void 0:e.id]);const[r,n]=f.useState(new Date),[a,i]=f.useState(null),o=new Date(r);o.setHours(0,0,0,0);const l=new Date(o);l.setDate(l.getDate()+1);const c=30,{data:d}=Ze({queryKey:["my-songs",e==null?void 0:e.id],enabled:!!(e!=null&&e.id),queryFn:async()=>{const{data:N,error:P}=await $.from("songs").select("id, title, artist, cover_url").eq("owner_id",e.id);if(P)throw P;return N||[]}}),{data:u,fetchNextPage:h,hasNextPage:m,isFetchingNextPage:p,refetch:w}=bs({queryKey:["my-requests",e==null?void 0:e.id,o.toISOString()],enabled:!!e,initialPageParam:0,getNextPageParam:N=>N.nextCursor,queryFn:async({pageParam:N})=>{const P=Number(N)||0,S=P+c-1,{data:T,error:U}=await $.from("requests").select("id, created_at, requester_name, dedication, extra_description, amount, song_id, status").eq("musician_id",e.id).gte("created_at",o.toISOString()).lt("created_at",l.toISOString()).order("created_at",{ascending:!1}).range(P,S);if(U)throw U;const q=T||[];return{items:q,nextCursor:q.length===c?P+c:void 0}}}),v=f.useMemo(()=>(u==null?void 0:u.pages.flatMap(N=>N.items))??[],[u]),g=f.useMemo(()=>v.reduce((N,P)=>{const S=Number(P.amount??0);return N+(P.status==="approved"?S:0)},0),[v]);f.useEffect(()=>{if(!e)return;console.log(" [Orders] Setting up Realtime for user:",e.id);const N=setInterval(()=>{console.log(" [Orders] Polling for updates (fallback)"),w()},1e4),P=$.channel("requests-simple").on("postgres_changes",{event:"INSERT",schema:"public",table:"requests"},S=>{console.log(" [Orders] NEW REQUEST INSERTED:",S);const T=S.new;T&&T.musician_id===e.id&&(console.log(" [Orders]  NEW REQUEST FOR THIS MUSICIAN - REFETCHING"),w())}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"requests"},S=>{console.log(" [Orders] REQUEST UPDATED:",S);const T=S.new,U=S.old;(T&&T.musician_id===e.id||U&&U.musician_id===e.id)&&(console.log(" [Orders]  REQUEST UPDATE FOR THIS MUSICIAN - REFETCHING"),w())}).subscribe(S=>{console.log(" [Orders] Realtime subscription status:",S),S==="SUBSCRIBED"?console.log(" [Orders]  Successfully subscribed to realtime"):S==="CHANNEL_ERROR"&&console.log(" [Orders]  Realtime subscription failed, relying on polling")});return()=>{console.log(" [Orders] Cleaning up realtime and polling"),clearInterval(N),$.removeChannel(P)}},[e,w]);const y=N=>{const P=(d||[]).find(S=>S.id===N);return P?`${P.title}${P.artist?`  ${P.artist}`:""}`:N},x=N=>{const P=(d||[]).find(S=>S.id===N);return(P==null?void 0:P.cover_url)??null},b=N=>{switch(N){case"pending":return"pendente";case"approved":return"aprovado";case"rejected":return"rejeitado";default:return N}},_=async N=>{i(N);try{const{error:P}=await $.from("requests").update({status:"approved"}).eq("id",N);P?oe({title:"Erro ao atender",description:P.message,variant:"destructive"}):(oe({title:"Pedido atendido",description:"Voc marcou o pedido como atendido."}),w())}catch{oe({title:"Erro ao atender",description:"Ocorreu um erro inesperado.",variant:"destructive"})}finally{i(null)}};return s.jsxs("section",{className:"w-full",children:[s.jsx(Xt,{title:"Pedidos do Msico",description:"Acompanhe pedidos em tempo real."}),e?s.jsxs(tt,{className:"border-0 shadow-none",children:[s.jsx(Qt,{children:s.jsx(cr,{children:"Pedidos de msica"})}),s.jsxs(rt,{children:[s.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2 mb-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(bn,{children:[s.jsx(jn,{asChild:!0,children:s.jsxs(O,{variant:"outline",size:"sm",className:"justify-start gap-2",children:[s.jsx(wn,{className:"h-4 w-4"}),"Data: ",Ht(r,"dd/MM/yyyy")]})}),s.jsx(un,{className:"w-auto p-0",align:"start",children:s.jsx(gs,{mode:"single",selected:r,onSelect:N=>N&&n(N),initialFocus:!0,className:"p-3 pointer-events-auto"})})]}),s.jsx(O,{variant:"ghost",size:"sm",onClick:()=>n(new Date),children:"Limpar filtro"})]}),s.jsxs("div",{className:"w-full mt-2 text-sm text-muted-foreground",children:["Total do dia: R$ ",g.toFixed(2)]})]}),v.length?s.jsxs(s.Fragment,{children:[s.jsx("ul",{className:"divide-y",children:v.map(N=>s.jsxs("li",{className:"py-3",children:[s.jsx("p",{className:"font-semibold mb-2",children:y(N.song_id)}),s.jsxs("div",{className:"flex items-start gap-4",children:[x(N.song_id)?s.jsx("img",{src:x(N.song_id),alt:`Capa de ${y(N.song_id)}`,className:"h-12 w-12 rounded-md object-cover border",loading:"lazy"}):s.jsx("div",{className:"h-12 w-12 rounded-md bg-muted","aria-hidden":!0}),s.jsxs("div",{className:"flex-1",children:[N.requester_name&&s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Solicitante: ",N.requester_name]}),N.dedication&&s.jsxs("p",{className:"text-sm",children:["Dedicatria: ",N.dedication]}),N.extra_description&&s.jsxs("p",{className:"text-sm",children:["Descrio: ",N.extra_description]}),N.amount!==null&&N.amount!==void 0&&s.jsxs("p",{className:"text-sm",children:["Contribuio: R$ ",Number(N.amount).toFixed(2)]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Status: ",b(N.status)]}),N.status==="pending"&&Date.now()-new Date(N.created_at).getTime()<=4*60*60*1e3&&s.jsx("div",{className:"mt-3",children:s.jsxs(O,{variant:"success",size:"sm",onClick:()=>_(N.id),disabled:a===N.id,children:[a===N.id?s.jsx(Hp,{className:"mr-2 h-4 w-4 animate-spin"}):s.jsx(Mw,{className:"mr-2 h-4 w-4"}),a===N.id?"Atendendo...":"Atender pedido"]})})]})]})]},N.id))}),m&&s.jsx("div",{className:"mt-4",children:s.jsx(O,{variant:"secondary",onClick:()=>h(),disabled:p,children:p?"Carregando...":"Ver mais"})})]}):s.jsx("p",{className:"text-sm text-muted-foreground",children:"Nenhum pedido recebido ainda."})]})]}):s.jsxs(tt,{className:"border-0 shadow-none",children:[s.jsx(Qt,{children:s.jsx(cr,{children:"Entre para ver seus pedidos"})}),s.jsx(rt,{children:s.jsx(O,{onClick:()=>t("/auth"),children:"Entrar"})})]})]})},ho=f.forwardRef(({className:e,...t},r)=>s.jsx("div",{className:"relative w-full overflow-auto",children:s.jsx("table",{ref:r,className:le("w-full caption-bottom text-sm",e),...t})}));ho.displayName="Table";const mo=f.forwardRef(({className:e,...t},r)=>s.jsx("thead",{ref:r,className:le("[&_tr]:border-b",e),...t}));mo.displayName="TableHeader";const po=f.forwardRef(({className:e,...t},r)=>s.jsx("tbody",{ref:r,className:le("[&_tr:last-child]:border-0",e),...t}));po.displayName="TableBody";const hY=f.forwardRef(({className:e,...t},r)=>s.jsx("tfoot",{ref:r,className:le("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));hY.displayName="TableFooter";const Hr=f.forwardRef(({className:e,...t},r)=>s.jsx("tr",{ref:r,className:le("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));Hr.displayName="TableRow";const mt=f.forwardRef(({className:e,...t},r)=>s.jsx("th",{ref:r,className:le("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));mt.displayName="TableHead";const lt=f.forwardRef(({className:e,...t},r)=>s.jsx("td",{ref:r,className:le("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));lt.displayName="TableCell";const mY=f.forwardRef(({className:e,...t},r)=>s.jsx("caption",{ref:r,className:le("mt-4 text-sm text-muted-foreground",e),...t}));mY.displayName="TableCaption";function mi(e){return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e||0)}function pY(){const{user:e,loading:t}=ar(),r=sl(),[n,a]=f.useState(void 0),[i,o]=f.useState(!1),[l,c]=f.useState(null),[d,u]=f.useState("normal"),[h,m]=f.useState(!1),[p,w]=f.useState(null),[v,g]=f.useState(!1),[y,x]=f.useState(null),b=is(),{toast:_}=Gs(),{data:N,isLoading:P}=Ze({queryKey:["musician-statement",e==null?void 0:e.id],enabled:!!(e!=null&&e.id),queryFn:async()=>{const{data:k,error:z}=await $.from("transactions").select("id, musician_amount, status, created_at").eq("musician_id",e.id).order("created_at",{ascending:!1});if(z)throw z;return(k||[]).map(ne=>({id:ne.id,amount:typeof ne.musician_amount=="string"?parseFloat(ne.musician_amount):ne.musician_amount||0,status:ne.status,created_at:ne.created_at}))}}),{data:S=[],isFetching:T}=Ze({queryKey:["batch-transactions",e==null?void 0:e.id,p==null?void 0:p.day],enabled:!!(e!=null&&e.id)&&!!(p!=null&&p.day),queryFn:async()=>{const{data:k,error:z}=await $.from("transactions").select("id, amount, musician_amount, status, created_at").eq("musician_id",e.id).gte("created_at",`${p.day}T00:00:00`).lte("created_at",`${p.day}T23:59:59.999`).order("created_at",{ascending:!1});if(z)throw z;return(k||[]).map(ne=>({id:ne.id,amount:Number(ne.amount)||0,musician_amount:Number(ne.musician_amount)||0,status:ne.status,created_at:ne.created_at}))}}),{data:U,fetchNextPage:q,hasNextPage:re,isFetchingNextPage:G,isFetching:H}=bs({queryKey:["musician-batches",e==null?void 0:e.id],enabled:!!(e!=null&&e.id),queryFn:async({pageParam:k=0})=>{try{const{data:z,error:ne}=await $.from("transaction_batches").select("id, day, total_musician_amount, total_musician_payout, early_discount_amount, total_ava_payout, status, requested_at, is_early, early_discount_percent, payout_at").eq("musician_id",e.id).order("day",{ascending:!1}).range(k*10,k*10+9);if(ne)throw ne;return z||[]}catch(z){return _({title:"Erro ao carregar lotes",description:String((z==null?void 0:z.message)||z),variant:"destructive"}),[]}},getNextPageParam:(k,z)=>{if(!(k.length<10))return z.length},initialPageParam:0}),V=(U==null?void 0:U.pages.flat())||[],{data:se={percent:0,days:5},isFetching:ee,refetch:J}=Ze({queryKey:["early-info"],staleTime:0,queryFn:async()=>{const{data:k,error:z}=await $.rpc("current_early_withdrawal_info");if(z||!k)return{percent:0,days:5};const ne=Array.isArray(k)?k[0]:k;return{percent:Number((ne==null?void 0:ne.percent)||0),days:Number((ne==null?void 0:ne.days_to_normal)||5)}}}),{data:I={percent:0,days:5}}=Ze({queryKey:["platform-info"],queryFn:async()=>{const{data:k,error:z}=await $.rpc("current_platform_fee_info");return z||!k?{percent:0,days:5}:{percent:Number((k==null?void 0:k.percent)||0),days:Number((k==null?void 0:k.days_to_payout)||5)}}}),D=ni({mutationFn:async k=>{const{error:z}=await $.rpc("request_batch_payout",{_batch_id:k.batchId,_force_early:k.isEarly});if(z)throw z},onSuccess:async()=>{await b.invalidateQueries({queryKey:["musician-batches"]}),_({title:"Solicitao enviada"})},onError:k=>_({title:"Erro ao solicitar saque",description:String((k==null?void 0:k.message)||k),variant:"destructive"})}),{totalReceived:C,totalRequested:E,totalPendingBatches:A,filtered:Y}=f.useMemo(()=>{const k=n!=null&&n.from?new Date(n.from):void 0,z=n!=null&&n.to?new Date(n.to):void 0;k&&k.setHours(0,0,0,0),z&&z.setHours(23,59,59,999);const ne=(N||[]).filter(Z=>{const de=new Date(Z.created_at);return(!k||de>=k)&&(!z||de<=z)});let Q=0,R=0,L=0;return(V||[]).forEach(Z=>{const de=Number(Z.total_musician_amount)||0,_e=Number(Z.total_musician_payout)||0;Z.status==="pending"?Q+=de:Z.status==="requested"?R+=_e:Z.status==="paid"&&(L+=_e)}),{totalReceived:L,totalRequested:R,totalPendingBatches:Q,filtered:ne}},[N,n,V]);return t||P?s.jsxs("main",{className:"container mx-auto p-4",children:[s.jsx(Xt,{title:"Extrato do msico",description:"Veja o valor recebido e a receber com extrato dirio",canonical:"/musician/extrato"}),s.jsx("h1",{className:"text-2xl font-semibold mb-4",children:"Seu extrato"}),s.jsx("p",{className:"text-muted-foreground",children:"Carregando extrato..."})]}):e?s.jsxs("main",{className:"container mx-auto p-4",children:[s.jsx(Xt,{title:"Extrato do msico | Recebimentos",description:"Extrato do msico: valor recebido e a receber, com extrato dirio paginado.",canonical:"/musician/extrato"}),s.jsx("h1",{className:"text-2xl font-semibold mb-4",children:"Seu extrato"}),s.jsx("section",{className:"mb-6",children:s.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[s.jsxs("div",{className:"bg-green-50 dark:bg-green-950/20 border border-green-200 dark:border-green-800 rounded-lg p-3",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(Gu,{className:"h-4 w-4 text-green-600 dark:text-green-400"}),s.jsx("span",{className:"text-xs text-green-600 dark:text-green-400 font-medium",children:"Recebido"})]}),s.jsx("p",{className:"text-base font-normal text-green-700 dark:text-green-300",children:mi(C||0)})]}),s.jsxs("div",{className:"bg-blue-50 dark:bg-blue-950/20 border border-blue-200 dark:border-blue-800 rounded-lg p-3",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(C2,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"}),s.jsx("span",{className:"text-xs text-blue-600 dark:text-blue-400 font-medium",children:" receber"})]}),s.jsx("p",{className:"text-base font-normal text-blue-700 dark:text-blue-300",children:mi(A||0)})]}),s.jsxs("div",{className:"bg-orange-50 dark:bg-orange-950/20 border border-orange-200 dark:border-orange-800 rounded-lg p-3",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(x_,{className:"h-4 w-4 text-orange-600 dark:text-orange-400"}),s.jsx("span",{className:"text-xs text-orange-600 dark:text-orange-400 font-medium",children:"Solicitado"})]}),s.jsx("p",{className:"text-base font-normal text-orange-700 dark:text-orange-300",children:mi(E||0)})]})]})}),s.jsxs("section",{className:"mt-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-semibold",children:"Lotes dirios"}),s.jsx("div",{className:"text-sm text-muted-foreground",children:V.length>0?`${V.length} lotes`:"Nenhum lote"})]}),s.jsx(tt,{className:"border border-border/50 shadow-sm",children:s.jsx(rt,{className:"p-0",children:s.jsxs("div",{className:"w-full overflow-x-auto",children:[s.jsxs(ho,{children:[s.jsx(mo,{children:s.jsxs(Hr,{children:[s.jsx(mt,{children:"Dia"}),s.jsx(mt,{className:"text-right",children:"Total"}),s.jsx(mt,{className:"text-right",children:"Status"}),!r&&s.jsx(mt,{className:"text-right",children:"Solicitado em"}),!r&&s.jsx(mt,{className:"text-right",children:"Repasse"}),!r&&s.jsx(mt,{className:"text-right",children:"Aes"})]})}),s.jsx(po,{children:H?s.jsx(Hr,{children:s.jsx(lt,{colSpan:r?3:6,className:"text-center py-8",children:s.jsx("p",{className:"text-muted-foreground",children:"Carregando lotes..."})})}):V.length===0?s.jsx(Hr,{children:s.jsx(lt,{colSpan:r?3:6,className:"text-center py-8",children:s.jsx("p",{className:"text-muted-foreground",children:"Nenhum lote encontrado"})})}):V.map(k=>{const z=new Date(k.day+"T00:00:00"),ne=new Date,Q=`${ne.getFullYear()}-${String(ne.getMonth()+1).padStart(2,"0")}-${String(ne.getDate()).padStart(2,"0")}`,L=!(k.day===Q)&&k.status==="pending"&&Number(k.total_musician_amount)>0,Z=k.requested_at?Number(k.total_musician_payout)||0:Number(k.total_musician_amount)||0;return s.jsxs(Hr,{className:r?"cursor-pointer hover:bg-muted/50":"",onClick:r?()=>{x(k),g(!0)}:void 0,children:[s.jsx(lt,{children:r?`${z.getDate().toString().padStart(2,"0")}/${(z.getMonth()+1).toString().padStart(2,"0")}`:z.toLocaleDateString("pt-BR")}),s.jsx(lt,{className:"text-right",children:mi(Z)}),s.jsx(lt,{className:"text-right",children:k.status==="paid"?s.jsxs("span",{className:"inline-flex items-center gap-1 text-green-600",children:[s.jsx(k3,{className:"h-4 w-4"})," Pago"]}):k.status==="requested"?s.jsxs("span",{className:"inline-flex items-center gap-1 text-blue-600",children:[s.jsx(x_,{className:"h-4 w-4"})," Solicitado"]}):s.jsx("span",{className:"inline-flex items-center gap-1 text-muted-foreground",children:"Pendente"})}),!r&&s.jsx(lt,{className:"text-right",children:k.payout_at?new Date(k.payout_at).toLocaleDateString("pt-BR"):""}),!r&&s.jsx(lt,{className:"text-right",children:s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsx(O,{size:"sm",variant:"ghost",onClick:()=>{w({id:k.id,day:k.day}),m(!0)},children:"Ver contribuies"}),L&&s.jsx(s.Fragment,{children:s.jsx(O,{size:"sm",variant:"outline",onClick:()=>{const de=Number(k.total_musician_amount)||0;u("normal"),c({id:k.id,day:k.day,total:de}),o(!0)},children:"Solicitar saque"})})]})})]},k.id)})})]}),re&&s.jsx("div",{className:"p-4 border-t",children:s.jsx(O,{onClick:()=>q(),disabled:G,variant:"outline",className:"w-full",children:G?"Carregando...":"Carregar mais lotes"})})]})})})]}),p&&h&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:s.jsxs("div",{className:"w-full max-w-md max-h-[60vh] rounded-md bg-background border shadow-lg flex flex-col mx-auto",children:[s.jsx("div",{className:"p-4 border-b",children:s.jsxs("h3",{className:"text-lg font-semibold",children:["Contribuies do dia ",new Date(p.day+"T00:00:00").toLocaleDateString("pt-BR")]})}),s.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:T?s.jsx("p",{className:"text-muted-foreground",children:"Carregando..."}):S.length?s.jsx("div",{className:"w-full overflow-x-auto",children:s.jsxs(ho,{children:[s.jsx(mo,{children:s.jsxs(Hr,{children:[s.jsx(mt,{children:"Data/Hora"}),s.jsx(mt,{className:"text-right",children:"Valor do msico"})]})}),s.jsx(po,{children:S.map(k=>s.jsxs(Hr,{children:[s.jsx(lt,{children:new Date(k.created_at).toLocaleString("pt-BR")}),s.jsx(lt,{className:"text-right",children:mi(Number(k.musician_amount)||0)})]},k.id))})]})}):s.jsx("p",{className:"text-muted-foreground",children:"Nenhuma contribuio encontrada para este dia."})}),s.jsx("div",{className:"p-4 border-t",children:s.jsx("div",{className:"flex justify-end gap-2",children:s.jsx(O,{variant:"outline",onClick:()=>m(!1),children:"Fechar"})})})]})}),l&&i&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:s.jsxs("div",{className:"w-full max-w-md rounded-md bg-background border shadow-lg p-4 space-y-3 mx-auto",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Confirmar solicitao de saque"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Lote do dia ",new Date(l.day+"T00:00:00").toLocaleDateString("pt-BR")]}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{children:"Total do msico"}),s.jsx("span",{className:"font-medium",children:mi(l.total)})]}),s.jsx("div",{className:"flex items-center justify-between text-sm",children:d==="early"?s.jsxs(s.Fragment,{children:[s.jsx("span",{children:ee?"Carregando taxa vigente...":`Total com desconto (${se.percent}% antecipado)`}),s.jsx("span",{className:"font-medium",children:(()=>{const k=ee?0:se.percent||0,z=Math.round(l.total*k/100*100)/100,ne=Math.max(Math.round((l.total-z)*100)/100,0);return mi(ne)})()})]}):s.jsxs(s.Fragment,{children:[s.jsxs("span",{children:["Agendamento (D+",I.days,")"]}),s.jsx("span",{className:"font-medium",children:(()=>{const k=new Date(l.day+"T00:00:00");k.setDate(k.getDate()+(I.days||5));const z=new Date,ne=new Date(k.getFullYear(),k.getMonth(),k.getDate()),Q=new Date(z.getFullYear(),z.getMonth(),z.getDate()),R=Math.ceil((ne.getTime()-Q.getTime())/(1e3*60*60*24));return R>0?`D+${R}`:"Hoje"})()})]})})]}),s.jsxs("div",{className:"flex gap-2 pt-2",children:[s.jsx(O,{variant:"outline",onClick:()=>o(!1),className:"flex-1",children:"Cancelar"}),s.jsx(O,{onClick:()=>{D.mutate({batchId:l.id,isEarly:d==="early"}),o(!1)},disabled:D.isPending,className:"flex-1",children:D.isPending?"Enviando...":"Confirmar"})]})]})}),y&&v&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:s.jsxs("div",{className:"w-full max-w-md rounded-md bg-background border shadow-lg p-4 space-y-3 mx-auto",children:[s.jsxs("h3",{className:"text-lg font-semibold",children:["Lote do dia ",new Date(y.day+"T00:00:00").toLocaleDateString("pt-BR")]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{children:"Total"}),s.jsx("span",{className:"font-medium",children:mi(y.requested_at?Number(y.total_musician_payout)||0:Number(y.total_musician_amount)||0)})]}),s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{children:"Status"}),s.jsx("span",{className:"font-medium",children:y.status==="paid"?"Pago":y.status==="requested"?"Solicitado":"Pendente"})]}),y.requested_at&&s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{children:"Solicitado em"}),s.jsx("span",{className:"font-medium",children:new Date(y.requested_at).toLocaleString("pt-BR")})]}),y.payout_at&&s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{children:"Repasse"}),s.jsx("span",{className:"font-medium",children:new Date(y.payout_at).toLocaleDateString("pt-BR")})]})]}),s.jsxs("div",{className:"flex gap-2 pt-2",children:[s.jsx(O,{variant:"outline",onClick:()=>{w({id:y.id,day:y.day}),m(!0),g(!1)},className:"flex-1",children:"Ver contribuies"}),s.jsx(O,{variant:"outline",onClick:()=>g(!1),className:"flex-1",children:"Fechar"})]})]})})]}):s.jsxs("main",{className:"container mx-auto p-4",children:[s.jsx(Xt,{title:"Extrato do msico",description:"Veja o valor recebido e a receber com extrato dirio",canonical:"/musician/extrato"}),s.jsxs(tt,{children:[s.jsx(Qt,{children:s.jsx(cr,{children:"Faa login"})}),s.jsx(rt,{children:s.jsx("p",{className:"text-muted-foreground",children:"Voc precisa estar logado para ver seu extrato."})})]})]})}function zh(e){return e.toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"})}const Nx=20;function gY(){const{user:e}=ar(),t=is(),r=sl(),[n,a]=f.useState(),[i,o]=f.useState(""),[l,c]=f.useState(""),[d,u]=f.useState(!1),[h,m]=f.useState([]),[p,w]=f.useState(!1),v=f.useRef(null),g=f.useRef(!1),[y,x]=f.useState(1),[b,_]=f.useState("desc"),[N,P]=f.useState(),[S,T]=f.useState(""),[U,q]=f.useState(!1),[re,G]=f.useState(null),[H,V]=f.useState(),[se,ee]=f.useState(""),[J,I]=f.useState(""),[D,C]=f.useState(!1),[E,A]=f.useState([]),[Y,k]=f.useState(!1),z=f.useRef(null),ne=f.useRef(!1),[Q,R]=f.useState(!1),[L,Z]=f.useState(!1),{data:de,isLoading:_e}=Ze({queryKey:["my-schedules",e==null?void 0:e.id,y,b,N,S],enabled:!!(e!=null&&e.id),queryFn:async()=>{let fe=$.from("schedules").select("id, title, location, start_time, link_url",{count:"exact"}).eq("musician_id",e.id);if(N){const kt=new Date(N);kt.setHours(0,0,0,0);const zt=new Date(N);zt.setHours(23,59,59,999),fe=fe.gte("start_time",kt.toISOString()).lte("start_time",zt.toISOString())}if(S){const[kt,zt]=S.split("-"),ir=new Date(parseInt(kt),parseInt(zt)-1,1),F=new Date(parseInt(kt),parseInt(zt),0,23,59,59,999);fe=fe.gte("start_time",ir.toISOString()).lte("start_time",F.toISOString())}fe=fe.order("start_time",{ascending:b==="asc"}).range((y-1)*Nx,y*Nx-1);const{data:We,error:yt,count:et}=await fe;if(yt)throw yt;return{schedules:We,count:et||0}}}),{data:me}=Ze({queryKey:["my-profile-loc",e==null?void 0:e.id],enabled:!!(e!=null&&e.id),queryFn:async()=>{const{data:fe,error:We}=await $.from("profiles").select("lat, lng").eq("id",e.id).single();if(We)throw We;return fe||{lat:null,lng:null}}}),xe=(de==null?void 0:de.schedules)||[],Ge=(de==null?void 0:de.count)||0,Nt=y*Nx<Ge,Ot=async()=>{if(!e){oe({title:"Faa login",description:"Entre para cadastrar um evento."});return}if(!n){oe({title:"Selecione a data",description:"Escolha o dia do evento no calendrio."});return}if(!i.trim()){oe({title:"Informe o local",description:"Preencha o local do evento."});return}u(!0);try{const fe=new Date(n.getFullYear(),n.getMonth(),n.getDate(),0,0,0),We={musician_id:e.id,start_time:fe.toISOString(),title:"Evento",location:i.trim(),link_url:l.trim()||null},{error:yt}=await $.from("schedules").insert(We);if(yt)throw yt;oe({title:"Evento cadastrado",description:`${zh(fe)} - ${i}`}),o(""),c(""),a(void 0),R(!1),x(1),t.invalidateQueries({queryKey:["my-schedules",e.id]})}catch(fe){oe({title:"Erro ao cadastrar",description:(fe==null?void 0:fe.message)||"Tente novamente."})}finally{u(!1)}},Ct=async fe=>{if(!e){oe({title:"Faa login",description:"Entre para gerenciar seus eventos."});return}try{const{error:We}=await $.from("schedules").delete().eq("id",fe);if(We)throw We;oe({title:"Evento removido"}),x(1),t.invalidateQueries({queryKey:["my-schedules",e.id]})}catch(We){oe({title:"Erro ao remover",description:(We==null?void 0:We.message)||"Tente novamente."})}},It=()=>{x(fe=>fe+1)},B=fe=>{G(fe.id);const We=new Date(fe.start_time);V(new Date(We.getFullYear(),We.getMonth(),We.getDate())),ne.current=!0,ee(fe.location||""),I(fe.link_url||""),q(!0)},te=async()=>{if(!(!e||!re)){if(!H){oe({title:"Selecione a data",description:"Escolha a nova data do evento."});return}if(!se.trim()){oe({title:"Informe o local",description:"Preencha o local do evento."});return}C(!0);try{const fe=new Date(H.getFullYear(),H.getMonth(),H.getDate(),0,0,0),{error:We}=await $.from("schedules").update({start_time:fe.toISOString(),location:se.trim(),link_url:J.trim()||null}).eq("id",re);if(We)throw We;oe({title:"Evento atualizado"}),q(!1),G(null),t.invalidateQueries({queryKey:["my-schedules",e.id]})}catch(fe){oe({title:"Erro ao atualizar",description:(fe==null?void 0:fe.message)||"Tente novamente."})}finally{C(!1)}}},ce=()=>{P(void 0),T(""),x(1)},be=fe=>{_(fe),x(1)},we=fe=>{P(fe),T(""),x(1)},pe=fe=>{T(fe),P(void 0),x(1)},Se=f.useMemo(()=>{const fe=new Date().getFullYear(),We=[];for(let yt=fe-1;yt<=fe+1;yt++)for(let et=1;et<=12;et++){const kt=new Date(yt,et-1).toLocaleDateString("pt-BR",{month:"long",year:"numeric"});We.push({value:`${yt}-${et.toString().padStart(2,"0")}`,label:kt.charAt(0).toUpperCase()+kt.slice(1)})}return We},[]),Ue=(N?1:0)+(S?1:0);return f.useEffect(()=>{const fe=new AbortController,We=i.trim();if(g.current){g.current=!1;return}if(We.length<3){m([]);return}const yt=setTimeout(async()=>{try{w(!0);const et=new URLSearchParams({format:"json",q:We,addressdetails:"1",limit:"8",countrycodes:"br"});if((me==null?void 0:me.lat)!=null&&(me==null?void 0:me.lng)!=null){const Re=me.lat,ke=me.lng,qe=.54,Ye=qe/Math.max(.1,Math.cos(Math.PI/180*Re)),ft=(Re-qe).toFixed(6),dt=(Re+qe).toFixed(6),wt=(ke-Ye).toFixed(6),ie=(ke+Ye).toFixed(6);et.set("viewbox",`${wt},${ft},${ie},${dt}`),et.set("bounded","1")}const kt=await fetch(`https://nominatim.openstreetmap.org/search?${et.toString()}`,{signal:fe.signal,headers:{"Accept-Language":"pt-BR"}});if(!kt.ok)throw new Error("Falha ao buscar locais");const zt=await kt.json(),ir={amenity:new Set(["bar","pub","nightclub","theatre","arts_centre","community_centre","restaurant","cafe","biergarten","cinema","concert_hall","music_venue","events_venue"]),leisure:new Set(["stadium"]),tourism:new Set(["attraction"])},F=Re=>Re.normalize("NFD").replace(/[\u0300-\u036f]/g,""),ae=F(We.toLowerCase()),ye=zt.filter(Re=>{const ke=ir[Re.class],qe=ke?ke.has(Re.type):!1,Ye=(Re.display_name.split(",")[0]||Re.display_name).trim(),ft=F(Ye.toLowerCase()).includes(ae);return qe||ft}),Pe=(me==null?void 0:me.lat)??void 0,st=(me==null?void 0:me.lng)??void 0,at=typeof Pe=="number"&&typeof st=="number",ze=Re=>Re*Math.PI/180,wr=(Re,ke)=>{const Ye=ze(ke.lat-Re.lat),ft=ze(ke.lng-Re.lng),dt=ze(Re.lat),wt=ze(ke.lat),ie=Math.sin(Ye/2)**2+Math.cos(dt)*Math.cos(wt)*Math.sin(ft/2)**2;return 2*6371*Math.asin(Math.sqrt(ie))},kr=[...ye].sort((Re,ke)=>{if(!at)return 0;const qe=Re.lat?parseFloat(Re.lat):NaN,Ye=Re.lon?parseFloat(Re.lon):NaN,ft=ke.lat?parseFloat(ke.lat):NaN,dt=ke.lon?parseFloat(ke.lon):NaN,wt=Number.isFinite(qe)&&Number.isFinite(Ye),ie=Number.isFinite(ft)&&Number.isFinite(dt);if(wt&&ie){const He=wr({lat:Pe,lng:st},{lat:qe,lng:Ye}),Fe=wr({lat:Pe,lng:st},{lat:ft,lng:dt});return He-Fe}return wt?-1:ie?1:0});m(kr.map(Re=>{var wt,ie,He,Fe,gt,vt,nt;const ke=(Re.display_name.split(",")[0]||Re.display_name).trim(),Ye=[(wt=Re.address)==null?void 0:wt.road,(ie=Re.address)==null?void 0:ie.house_number].filter(Boolean).join(", "),ft=(((He=Re.address)==null?void 0:He.city)||((Fe=Re.address)==null?void 0:Fe.town)||((gt=Re.address)==null?void 0:gt.village)||((vt=Re.address)==null?void 0:vt.municipality)||((nt=Re.address)==null?void 0:nt.county)||"").toString();return{label:[ke,Ye,ft].filter(Jt=>Jt&&Jt.trim().length>0).join("  "),value:ke}}))}catch(et){et instanceof DOMException&&et.name==="AbortError"||m([])}finally{w(!1)}},400);return()=>{fe.abort(),clearTimeout(yt)}},[i,me==null?void 0:me.lat,me==null?void 0:me.lng]),f.useEffect(()=>{const fe=We=>{v.current&&(v.current.contains(We.target)||m([]))};return document.addEventListener("mousedown",fe),()=>document.removeEventListener("mousedown",fe)},[]),f.useEffect(()=>{const fe=new AbortController,We=se.trim();if(ne.current){ne.current=!1;return}if(We.length<3){A([]);return}const yt=setTimeout(async()=>{try{k(!0);const et=new URLSearchParams({format:"json",q:We,addressdetails:"1",limit:"8",countrycodes:"br"});if((me==null?void 0:me.lat)!=null&&(me==null?void 0:me.lng)!=null){const Re=me.lat,ke=me.lng,qe=.54,Ye=qe/Math.max(.1,Math.cos(Math.PI/180*Re)),ft=(Re-qe).toFixed(6),dt=(Re+qe).toFixed(6),wt=(ke-Ye).toFixed(6),ie=(ke+Ye).toFixed(6);et.set("viewbox",`${wt},${ft},${ie},${dt}`),et.set("bounded","1")}const kt=await fetch(`https://nominatim.openstreetmap.org/search?${et.toString()}`,{signal:fe.signal,headers:{"Accept-Language":"pt-BR"}});if(!kt.ok)throw new Error("Falha ao buscar locais");const zt=await kt.json(),ir={amenity:new Set(["bar","pub","nightclub","theatre","arts_centre","community_centre","restaurant","cafe","biergarten","cinema","concert_hall","music_venue","events_venue"]),leisure:new Set(["stadium"]),tourism:new Set(["attraction"])},F=Re=>Re.normalize("NFD").replace(/[\u0300-\u036f]/g,""),ae=F(We.toLowerCase()),ye=zt.filter(Re=>{const ke=ir[Re.class],qe=ke?ke.has(Re.type):!1,Ye=(Re.display_name.split(",")[0]||Re.display_name).trim(),ft=F(Ye.toLowerCase()).includes(ae);return qe||ft}),Pe=(me==null?void 0:me.lat)??void 0,st=(me==null?void 0:me.lng)??void 0,at=typeof Pe=="number"&&typeof st=="number",ze=Re=>Re*Math.PI/180,wr=(Re,ke)=>{const Ye=ze(ke.lat-Re.lat),ft=ze(ke.lng-Re.lng),dt=ze(Re.lat),wt=ze(ke.lat),ie=Math.sin(Ye/2)**2+Math.cos(dt)*Math.cos(wt)*Math.sin(ft/2)**2;return 2*6371*Math.asin(Math.sqrt(ie))},kr=[...ye].sort((Re,ke)=>{if(!at)return 0;const qe=Re.lat?parseFloat(Re.lat):NaN,Ye=Re.lon?parseFloat(Re.lon):NaN,ft=ke.lat?parseFloat(ke.lat):NaN,dt=ke.lon?parseFloat(ke.lon):NaN,wt=Number.isFinite(qe)&&Number.isFinite(Ye),ie=Number.isFinite(ft)&&Number.isFinite(dt);if(wt&&ie){const He=wr({lat:Pe,lng:st},{lat:qe,lng:Ye}),Fe=wr({lat:Pe,lng:st},{lat:ft,lng:dt});return He-Fe}return wt?-1:ie?1:0});A(kr.map(Re=>{var wt,ie,He,Fe,gt,vt,nt;const ke=(Re.display_name.split(",")[0]||Re.display_name).trim(),Ye=[(wt=Re.address)==null?void 0:wt.road,(ie=Re.address)==null?void 0:ie.house_number].filter(Boolean).join(", "),ft=(((He=Re.address)==null?void 0:He.city)||((Fe=Re.address)==null?void 0:Fe.town)||((gt=Re.address)==null?void 0:gt.village)||((vt=Re.address)==null?void 0:vt.municipality)||((nt=Re.address)==null?void 0:nt.county)||"").toString();return{label:[ke,Ye,ft].filter(Jt=>Jt&&Jt.trim().length>0).join("  "),value:ke}}))}catch(et){et instanceof DOMException&&et.name==="AbortError"||A([])}finally{k(!1)}},400);return()=>{fe.abort(),clearTimeout(yt)}},[se,me==null?void 0:me.lat,me==null?void 0:me.lng]),f.useEffect(()=>{const fe=We=>{z.current&&(z.current.contains(We.target)||A([]))};return document.addEventListener("mousedown",fe),()=>document.removeEventListener("mousedown",fe)},[]),s.jsxs("main",{className:"container mx-auto p-4 space-y-6",children:[s.jsx(Xt,{title:"Agenda",description:"Cadastre datas e locais de eventos na sua agenda.",canonical:"/musician/agenda"}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-2xl font-semibold",children:"Agenda"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(O,{onClick:()=>Z(!0),variant:"outline",size:"sm",children:[s.jsx(sm,{className:"h-4 w-4"}),!r&&s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"ml-2",children:"Filtros"}),Ue>0&&s.jsx("span",{className:"bg-primary text-primary-foreground text-xs px-2 py-1 rounded-full ml-2",children:Ue})]}),r&&Ue>0&&s.jsx("span",{className:"bg-primary text-primary-foreground text-xs px-1.5 py-0.5 rounded-full ml-1.5",children:Ue})]}),s.jsxs(O,{onClick:()=>R(!0),children:[s.jsx(wc,{className:"h-4 w-4"}),!r&&s.jsx("span",{className:"ml-2",children:"Novo evento"})]})]})]}),s.jsxs(tt,{className:"border-0 shadow-none",children:[s.jsx(Qt,{children:s.jsx(cr,{children:"Meus eventos"})}),s.jsx(rt,{children:_e&&y===1?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"animate-spin h-6 w-6 border-2 border-primary border-t-transparent rounded-full mx-auto"}),s.jsx("p",{className:"text-muted-foreground mt-2",children:"Carregando eventos..."})]}):xe.length>0?s.jsxs("div",{className:"space-y-4",children:[s.jsx("ul",{className:"divide-y",children:xe.map(fe=>s.jsxs("li",{className:"flex items-center justify-between p-4 hover:bg-muted/50 rounded-lg transition-colors",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"font-medium",children:new Date(fe.start_time).toLocaleDateString("pt-BR")}),s.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[s.jsx(P2,{className:"h-3.5 w-3.5"}),fe.location||"Local no informado"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-xs text-muted-foreground hidden sm:block",children:fe.title||"Evento"}),s.jsx(O,{variant:"ghost",size:"sm","aria-label":"Editar evento",onClick:()=>B(fe),children:s.jsx(Ha,{className:"h-4 w-4"})}),fe.link_url&&s.jsx("a",{href:fe.link_url,target:"_blank",rel:"noopener noreferrer","aria-label":"Abrir link do evento",className:"inline-flex items-center justify-center h-8 w-8 rounded-md hover:bg-muted",title:"Abrir link do evento",children:s.jsx(M3,{className:"h-4 w-4"})}),s.jsxs(w0,{children:[s.jsx(PK,{asChild:!0,children:s.jsx(O,{variant:"ghost",size:"sm","aria-label":"Remover evento",children:s.jsx(Gn,{className:"h-4 w-4"})})}),s.jsxs(cp,{children:[s.jsxs(dp,{children:[s.jsx(fp,{children:"Remover evento?"}),s.jsx(hp,{children:"Esta ao no pode ser desfeita. Confirme para remover da sua agenda."})]}),s.jsxs(up,{children:[s.jsx(pp,{children:"Cancelar"}),s.jsx(mp,{onClick:()=>Ct(fe.id),children:"Remover"})]})]})]})]})]},fe.id))}),Nt&&s.jsx("div",{className:"flex justify-center pt-4",children:s.jsx(O,{variant:"outline",onClick:It,disabled:_e,children:_e?"Carregando...":"Carregar mais eventos"})}),s.jsxs("div",{className:"text-center text-sm text-muted-foreground",children:["Mostrando ",xe.length," de ",Ge," eventos"]})]}):s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"mx-auto w-16 h-16 bg-muted/30 rounded-full flex items-center justify-center mb-4",children:s.jsx(wn,{className:"h-8 w-8 text-muted-foreground"})}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:Ue>0?"Nenhum evento encontrado":"Sua agenda est vazia"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:Ue>0?"Tente ajustar os filtros ou limpar todos para ver todos os eventos.":"Comece cadastrando seu primeiro evento para organizar sua agenda."}),Ue>0?s.jsxs(O,{variant:"outline",size:"sm",onClick:ce,children:[s.jsx(Pr,{className:"h-4 w-4"}),!r&&s.jsx("span",{className:"ml-2",children:"Limpar filtros"})]}):s.jsxs(O,{onClick:()=>R(!0),children:[s.jsx(wc,{className:"h-4 w-4"}),!r&&s.jsx("span",{className:"ml-2",children:"Cadastrar primeiro evento"})]})]})})]}),s.jsx(Jr,{open:Q,onOpenChange:R,children:s.jsxs(Kr,{className:"sm:max-w-md",children:[s.jsxs(Gr,{children:[s.jsx(Yr,{children:"Cadastrar novo evento"}),s.jsx(Eu,{children:"Adicione uma nova data  sua agenda"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx($e,{children:"Data do evento"}),s.jsxs(bn,{children:[s.jsx(jn,{asChild:!0,children:s.jsxs(O,{variant:"outline",className:le("w-full justify-start text-left font-normal",!n&&"text-muted-foreground"),children:[s.jsx(wn,{className:"mr-2 h-4 w-4"}),n?zh(n):s.jsx("span",{children:"Escolha a data"})]})}),s.jsx(un,{className:"w-auto p-0",align:"start",children:s.jsx(gs,{mode:"single",selected:n,onSelect:a,initialFocus:!0,className:"p-3"})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx($e,{htmlFor:"location-modal",children:"Local"}),s.jsxs("div",{className:"relative",ref:v,children:[s.jsx(Oe,{id:"location-modal",placeholder:"Ex.: Rooftop Center",value:i,onChange:fe=>o(fe.target.value),autoComplete:"off",className:le(p?"pl-8":void 0)}),i&&s.jsx("button",{type:"button","aria-label":"Limpar local",title:"Limpar",onMouseDown:fe=>fe.preventDefault(),onClick:()=>{o(""),m([])},className:"absolute right-2 top-1/2 -translate-y-1/2 inline-flex h-6 w-6 items-center justify-center rounded hover:bg-muted",children:s.jsx(Pr,{className:"h-4 w-4 text-muted-foreground"})}),p&&s.jsxs("div",{className:"absolute left-2 top-1/2 -translate-y-1/2 flex items-center gap-0.5",children:[s.jsx("span",{className:"inline-block h-1 w-1 rounded-full bg-muted-foreground animate-bounce [animation-delay:-0.2s]"}),s.jsx("span",{className:"inline-block h-1 w-1 rounded-full bg-muted-foreground animate-bounce [animation-delay:-0.1s]"}),s.jsx("span",{className:"inline-block h-1 w-1 rounded-full bg-muted-foreground animate-bounce"})]}),h.length>0&&s.jsx("ul",{className:"absolute left-0 right-0 z-20 border rounded-md divide-y max-h-56 overflow-auto bg-background mt-1 shadow-md",children:h.map(fe=>s.jsx("li",{className:"p-2 text-sm hover:bg-muted cursor-pointer",onClick:()=>{g.current=!0,o(fe.value),m([])},children:fe.label},`${fe.label}-${fe.value}`))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx($e,{htmlFor:"link-modal",children:"Link do evento (opcional)"}),s.jsx(Oe,{id:"link-modal",type:"url",placeholder:"https://exemplo.com/meu-evento",value:l,onChange:fe=>c(fe.target.value)})]})]}),s.jsxs(pa,{className:"gap-3",children:[s.jsxs(O,{variant:"outline",onClick:()=>R(!1),children:[s.jsx(Pr,{className:"h-4 w-4 mr-2"}),"Cancelar"]}),s.jsx(O,{onClick:Ot,disabled:d,children:d?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-current border-t-transparent rounded-full mr-2"}),"Cadastrando..."]}):s.jsxs(s.Fragment,{children:[s.jsx(wc,{className:"h-4 w-4 mr-2"}),"Aplicar"]})})]})]})}),s.jsx(Jr,{open:L,onOpenChange:Z,children:s.jsxs(Kr,{className:"sm:max-w-lg",children:[s.jsxs(Gr,{children:[s.jsxs(Yr,{className:"flex items-center gap-2",children:[s.jsx(sm,{className:"h-5 w-5"}),"Filtros e Ordenao",Ue>0&&s.jsx("span",{className:"bg-primary text-primary-foreground text-xs px-2 py-1 rounded-full",children:Ue})]}),s.jsx(Eu,{children:"Organize e encontre seus eventos"})]}),s.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx($e,{children:"Ordenar por data"}),s.jsxs(ul,{value:b,onValueChange:be,children:[s.jsx(oo,{children:s.jsx(fl,{placeholder:"Ordenao"})}),s.jsxs(lo,{children:[s.jsx(Vr,{value:"desc",children:"Mais recente primeiro"}),s.jsx(Vr,{value:"asc",children:"Mais antigo primeiro"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx($e,{children:"Filtrar por data"}),s.jsxs(bn,{children:[s.jsx(jn,{asChild:!0,children:s.jsxs(O,{variant:"outline",className:le("w-full justify-start text-left font-normal",!N&&"text-muted-foreground"),children:[s.jsx(wn,{className:"mr-2 h-4 w-4"}),N?zh(N):s.jsx("span",{children:"Selecione uma data"})]})}),s.jsx(un,{className:"w-auto p-0",align:"start",children:s.jsx(gs,{mode:"single",selected:N,onSelect:we,initialFocus:!0})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx($e,{children:"Filtrar por ms"}),s.jsxs(ul,{value:S,onValueChange:pe,children:[s.jsx(oo,{children:s.jsx(fl,{placeholder:"Selecione um ms"})}),s.jsx(lo,{children:Se.map(fe=>s.jsx(Vr,{value:fe.value,children:fe.label},fe.value))})]})]})]}),s.jsxs(pa,{children:[Ue>0&&s.jsxs(O,{variant:"outline",onClick:ce,children:[s.jsx(Pr,{className:"h-4 w-4 mr-2"}),"Limpar"]}),s.jsxs(O,{onClick:()=>Z(!1),children:[s.jsx(sm,{className:"h-4 w-4 mr-2"}),"Aplicar"]})]})]})}),s.jsx(Jr,{open:U,onOpenChange:q,children:s.jsxs(Kr,{children:[s.jsxs(Gr,{children:[s.jsx(Yr,{children:"Editar evento"}),s.jsx(Eu,{children:"Atualize a data, o local e o link do evento."})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx($e,{children:"Data do evento"}),s.jsxs(bn,{children:[s.jsx(jn,{asChild:!0,children:s.jsxs(O,{variant:"outline",className:le("w-full justify-start text-left font-normal",!H&&"text-muted-foreground"),children:[s.jsx(wn,{className:"mr-2 h-4 w-4"}),H?zh(H):s.jsx("span",{children:"Escolha a data"})]})}),s.jsx(un,{className:"w-auto p-0",align:"start",children:s.jsx(gs,{mode:"single",selected:H,onSelect:V,initialFocus:!0})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx($e,{htmlFor:"edit-location",children:"Local"}),s.jsxs("div",{className:"relative",ref:z,children:[s.jsx(Oe,{id:"edit-location",placeholder:"Ex.: Rooftop Center",value:se,onChange:fe=>ee(fe.target.value),autoComplete:"off",className:le(Y?"pl-8":void 0)}),se&&s.jsx("button",{type:"button","aria-label":"Limpar local",title:"Limpar",onMouseDown:fe=>fe.preventDefault(),onClick:()=>{ee(""),A([])},className:"absolute right-2 top-1/2 -translate-y-1/2 inline-flex h-6 w-6 items-center justify-center rounded hover:bg-muted",children:s.jsx(Pr,{className:"h-4 w-4 text-muted-foreground"})}),Y&&s.jsxs("div",{className:"absolute left-2 top-1/2 -translate-y-1/2 flex items-center gap-0.5",children:[s.jsx("span",{className:"inline-block h-1 w-1 rounded-full bg-muted-foreground animate-bounce [animation-delay:-0.2s]"}),s.jsx("span",{className:"inline-block h-1 w-1 rounded-full bg-muted-foreground animate-bounce [animation-delay:-0.1s]"}),s.jsx("span",{className:"inline-block h-1 w-1 rounded-full bg-muted-foreground animate-bounce"})]}),E.length>0&&s.jsx("ul",{className:"absolute left-0 right-0 z-20 border rounded-md divide-y max-h-56 overflow-auto bg-background mt-1 shadow-md",children:E.map(fe=>s.jsx("li",{className:"p-2 text-sm hover:bg-muted cursor-pointer",onClick:()=>{ne.current=!0,ee(fe.value),A([])},children:fe.label},`${fe.label}-${fe.value}`))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx($e,{htmlFor:"edit-link",children:"Link do evento (opcional)"}),s.jsx(Oe,{id:"edit-link",type:"url",placeholder:"https://exemplo.com/meu-evento",value:J,onChange:fe=>I(fe.target.value)})]})]}),s.jsxs(pa,{children:[s.jsxs(O,{variant:"outline",onClick:()=>q(!1),disabled:D,children:[s.jsx(Pr,{className:"h-4 w-4 mr-2"}),"Cancelar"]}),s.jsx(O,{onClick:te,disabled:D,children:D?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-current border-t-transparent rounded-full mr-2"}),"Salvando..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Ha,{className:"h-4 w-4 mr-2"}),"Aplicar"]})})]})]})})]})}const vY=()=>{const e=Rr(),{user:t,loading:r}=ar(),[n,a]=f.useState(""),[i,o]=f.useState(""),[l,c]=f.useState(!1);f.useEffect(()=>{},[]);const d=async()=>{if(!n||n.length<6){oe({title:"Senha muito curta",description:"Use ao menos 6 caracteres."});return}if(n!==i){oe({title:"Senhas no conferem",description:"Digite a mesma senha nos dois campos."});return}c(!0);try{const{error:u}=await $.auth.updateUser({password:n});if(u)throw u;oe({title:"Senha atualizada",description:"Faa login com sua nova senha."}),e("/auth")}catch(u){oe({title:"Erro ao atualizar senha",description:u.message})}finally{c(!1)}};return s.jsxs("main",{className:"min-h-screen flex items-center justify-center bg-background p-4",children:[s.jsx(Xt,{title:"Redefinir senha - Pedidos de Msica",description:"Defina uma nova senha para sua conta."}),s.jsxs("section",{className:"w-full max-w-md border rounded-lg p-6 bg-card text-card-foreground shadow-sm",children:[s.jsxs("header",{className:"mb-6 text-center",children:[s.jsx("h1",{className:"text-2xl font-semibold",children:"Redefinir senha"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:t?"Defina sua nova senha abaixo.":"Abra o link recebido por e-mail neste dispositivo para redefinir sua senha."})]}),t?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx($e,{htmlFor:"new-password",children:"Nova senha"}),s.jsx(Oe,{id:"new-password",type:"password",value:n,onChange:u=>a(u.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx($e,{htmlFor:"confirm-password",children:"Confirmar nova senha"}),s.jsx(Oe,{id:"confirm-password",type:"password",value:i,onChange:u=>o(u.target.value)})]}),s.jsx(O,{className:"w-full",onClick:d,disabled:l,children:l?"Atualizando...":"Atualizar senha"})]}):s.jsx("div",{className:"space-y-4 text-center",children:s.jsx(O,{variant:"ghost",size:"icon",onClick:()=>e("/auth"),"aria-label":"Voltar",children:s.jsx(Wp,{className:"h-5 w-5"})})})]})]})},Sx=20;function xY(){const{user:e}=ar(),{toast:t}=Gs(),[r,n]=f.useState(""),a=f.useRef(null),{data:i,fetchNextPage:o,hasNextPage:l,isFetchingNextPage:c,isLoading:d,refetch:u}=bs({queryKey:["profiles-list-infinite",r,e==null?void 0:e.id],enabled:!!(e!=null&&e.id),initialPageParam:0,getNextPageParam:(g,y)=>g.hasMore?y.length:void 0,queryFn:async({pageParam:g})=>{const x=(Number(g)||0)*Sx,b=x+Sx-1;let _=$.from("profiles").select("id, display_name, avatar_url, username, is_pro").eq("is_active",!0).eq("is_blocked",!1).order("display_name",{ascending:!0,nullsFirst:!1}).range(x,b);r.trim()&&(_=_.ilike("display_name",`%${r.trim()}%`));const{data:N,error:P}=await _;if(P)throw P;return{rows:N||[],hasMore:(N||[]).length===Sx}}}),h=f.useMemo(()=>((i==null?void 0:i.pages)||[]).flatMap(g=>g.rows),[i==null?void 0:i.pages]);f.useEffect(()=>{const g=a.current;if(!g)return;const y=new IntersectionObserver(x=>{x[0].isIntersecting&&l&&!c&&o()});return y.observe(g),()=>y.disconnect()},[o,l,c]);const{data:m,refetch:p,isLoading:w}=Ze({queryKey:["my-following",e==null?void 0:e.id],enabled:!!(e!=null&&e.id),queryFn:async()=>{const{data:g,error:y}=await $.from("follows").select("followee_id").eq("follower_id",e.id);if(y)throw y;return new Set((g||[]).map(b=>b.followee_id))}}),v=async g=>{if(!(e!=null&&e.id)){t({title:"Entre para seguir",description:"Faa login para seguir perfis.",variant:"default"});return}try{if(m!=null&&m.has(g)){const{error:y}=await $.from("follows").delete().eq("follower_id",e.id).eq("followee_id",g);if(y)throw y;t({title:"Deixou de seguir"})}else{const{error:y}=await $.from("follows").insert({follower_id:e.id,followee_id:g});if(y)throw y;t({title:"Agora voc est seguindo"})}await Promise.all([p(),u()])}catch(y){t({title:"Erro",description:(y==null?void 0:y.message)||"No foi possvel atualizar o seguimento.",variant:"destructive"})}};return s.jsxs("main",{className:"container mx-auto px-4 py-6",children:[s.jsx(Xt,{title:"Perfis pblicos  seguir usurios",description:"Descubra perfis pblicos e siga usurios. Busque por nome e gerencie quem voc segue.",canonical:"/musician/perfis"}),s.jsx("h1",{className:"text-2xl font-semibold tracking-tight mb-4",children:"Msicos"}),s.jsx(tt,{className:"border-0 shadow-none",children:s.jsx(rt,{className:"px-1",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Oe,{placeholder:"buscar msico",value:r,onChange:g=>{n(g.target.value)},"aria-label":"Buscar perfis"}),s.jsx(O,{onClick:()=>u(),disabled:d,children:"Buscar"})]})})}),s.jsx(Zc,{className:"my-4"}),d?s.jsx("div",{className:"mt-6 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:Array.from({length:8}).map((g,y)=>s.jsx(tt,{className:"border-0 shadow-none",children:s.jsxs(rt,{className:"p-4 flex flex-col items-center gap-3",children:[s.jsx(Xe,{className:"h-4 w-32"}),s.jsx(Xe,{className:"h-12 w-12 rounded-full"}),s.jsx(Xe,{className:"h-8 w-24 rounded-md"})]})},y))}):s.jsx("div",{className:"mt-6 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:(h||[]).filter(g=>g.id!==(e==null?void 0:e.id)).map(g=>{const y=g.display_name||"Usurio";return s.jsx(tt,{className:"border-0 shadow-none",children:s.jsxs(rt,{className:"p-4 flex items-start gap-3",children:[s.jsx(Yt,{to:`${g.username?`/${g.username}`:`/m/${g.id}`}`,children:s.jsxs(Bt,{className:"h-16 w-16 flex-shrink-0",isPro:!!g.is_pro,children:[s.jsx(qt,{src:g.avatar_url||void 0,alt:y}),s.jsx(Vt,{children:y.charAt(0).toUpperCase()})]})}),s.jsxs("div",{className:"flex flex-col items-start justify-center flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Yt,{to:`${g.username?`/${g.username}`:`/m/${g.id}`}`,className:"no-underline",children:s.jsx("p",{className:"text-sm font-medium break-words",children:y})}),g.is_pro&&s.jsx(nl,{size:14})]}),s.jsx(O,{variant:m!=null&&m.has(g.id)?"secondary":"default",onClick:()=>v(g.id),disabled:w,className:"h-7 px-2 text-xs",children:m!=null&&m.has(g.id)?"Seguindo":"Seguir"})]})]},g.id)},g.id)})}),s.jsx("div",{ref:a,className:"h-8"}),c&&s.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Carregando mais..."})]})}const Kl=20;function yY(){const{user:e}=ar(),{toast:t}=Gs(),r=is(),[n,a]=f.useState("seguindo"),i=f.useRef(null),o=f.useRef(null),{data:l,fetchNextPage:c,hasNextPage:d,isFetchingNextPage:u,isLoading:h}=bs({queryKey:["my-following-infinite",e==null?void 0:e.id],enabled:!!(e!=null&&e.id),initialPageParam:0,getNextPageParam:(S,T)=>S.hasMore?T.length:void 0,queryFn:async({pageParam:S})=>{const U=(Number(S)||0)*Kl,q=U+Kl-1,{data:re,error:G}=await $.from("follows").select("followee_id").eq("follower_id",e.id).order("created_at",{ascending:!1}).range(U,q);if(G)throw G;const H=(re||[]).map(D=>D.followee_id);if(H.length===0)return{rows:[],hasMore:!1};const{data:V,error:se}=await $.from("profiles").select("id, display_name, avatar_url, username, is_pro").in("id",H);if(se)throw se;const ee=new Map((V||[]).map(D=>[D.id,D])),J=H.map(D=>ee.get(D)).filter(Boolean),I=(re||[]).length===Kl;return{rows:J,hasMore:I}}}),m=f.useMemo(()=>((l==null?void 0:l.pages)||[]).flatMap(S=>S.rows),[l==null?void 0:l.pages]),p=f.useMemo(()=>new Set(m.map(S=>S.id)),[m]),{data:w,fetchNextPage:v,hasNextPage:g,isFetchingNextPage:y,isLoading:x}=bs({queryKey:["my-followers-infinite",e==null?void 0:e.id],enabled:!!(e!=null&&e.id),initialPageParam:0,getNextPageParam:(S,T)=>S.hasMore?T.length:void 0,queryFn:async({pageParam:S})=>{const U=(Number(S)||0)*Kl,q=U+Kl-1,{data:re,error:G}=await $.from("follows").select("follower_id").eq("followee_id",e.id).order("created_at",{ascending:!1}).range(U,q);if(G)throw G;const H=(re||[]).map(D=>D.follower_id);if(H.length===0)return{rows:[],hasMore:!1};const{data:V,error:se}=await $.from("profiles").select("id, display_name, avatar_url, username").in("id",H);if(se)throw se;const ee=new Map((V||[]).map(D=>[D.id,D])),J=H.map(D=>ee.get(D)).filter(Boolean),I=(re||[]).length===Kl;return{rows:J,hasMore:I}}}),b=f.useMemo(()=>((w==null?void 0:w.pages)||[]).flatMap(S=>S.rows),[w==null?void 0:w.pages]);f.useEffect(()=>{const S=i.current;if(!S||n!=="seguindo")return;const T=new IntersectionObserver(U=>{U[0].isIntersecting&&d&&!u&&c()});return T.observe(S),()=>T.disconnect()},[n,c,d,u]),f.useEffect(()=>{const S=o.current;if(!S||n!=="seguidores")return;const T=new IntersectionObserver(U=>{U[0].isIntersecting&&g&&!y&&v()});return T.observe(S),()=>T.disconnect()},[n,v,g,y]);const _=S=>{r.setQueryData(["my-following-infinite",e==null?void 0:e.id],T=>{if(!T)return T;const U=T.pages.map(q=>({...q,rows:q.rows.filter(re=>re.id!==S)}));return{...T,pages:U}})},N=async S=>{if(e!=null&&e.id)try{const{error:T}=await $.from("follows").insert({follower_id:e.id,followee_id:S});if(T)throw T;t({title:"Agora voc segue"}),await r.invalidateQueries({queryKey:["my-following-infinite",e==null?void 0:e.id]})}catch(T){t({title:"Erro",description:(T==null?void 0:T.message)||"No foi possvel seguir.",variant:"destructive"})}},P=async S=>{if(e!=null&&e.id)try{const{error:T}=await $.from("follows").delete().eq("follower_id",e.id).eq("followee_id",S);if(T)throw T;_(S),t({title:"Deixou de seguir"})}catch(T){t({title:"Erro",description:(T==null?void 0:T.message)||"No foi possvel atualizar.",variant:"destructive"})}};return s.jsxs("main",{className:"container mx-auto px-4 py-6",children:[s.jsx(Xt,{title:"Seguindo e seguidores  msicos",description:"Gerencie quem voc segue e seus seguidores.",canonical:"/musician/seguindo"}),s.jsx("h1",{className:"text-2xl font-semibold tracking-tight mb-4",children:"Conexes"}),s.jsx(tt,{className:"border-0 shadow-none",children:s.jsx(rt,{className:"p-0",children:s.jsxs(_d,{value:n,onValueChange:S=>a(S),className:"w-full",children:[s.jsxs(io,{className:"grid w-full grid-cols-2",children:[s.jsx(Lr,{value:"seguindo",children:"Seguindo"}),s.jsx(Lr,{value:"seguidores",children:"Seguidores"})]}),s.jsxs("div",{className:"p-4",children:[s.jsxs(Wr,{value:"seguindo",className:"mt-0",children:[h?s.jsx("p",{className:"text-sm text-muted-foreground",children:"Carregando..."}):m.length===0?s.jsx("p",{className:"text-sm text-muted-foreground",children:"Voc ainda no segue ningum."}):s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:m.map(S=>{const T=S.display_name||"Usurio";return s.jsxs("div",{className:"flex items-center justify-between gap-3 rounded-md p-3",children:[s.jsxs(Yt,{to:`/${S.username||S.id}`,className:"flex items-center gap-3 min-w-0",children:[s.jsxs(Bt,{className:"h-10 w-10 shrink-0",children:[s.jsx(qt,{src:S.avatar_url||void 0,alt:T}),s.jsx(Vt,{children:T.charAt(0).toUpperCase()})]}),s.jsx("div",{className:"min-w-0",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("p",{className:"text-sm font-medium truncate",children:T}),S.is_pro&&s.jsx(nl,{size:12})]})})]}),s.jsx(O,{variant:"secondary",size:"sm",onClick:()=>P(S.id),children:"Seguindo"})]},S.id)})}),s.jsx("div",{ref:i,className:"h-8"}),u&&s.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Carregando mais..."})]}),s.jsxs(Wr,{value:"seguidores",className:"mt-0",children:[x?s.jsx("p",{className:"text-sm text-muted-foreground",children:"Carregando..."}):b.length===0?s.jsx("p",{className:"text-sm text-muted-foreground",children:"Nenhum seguidor ainda."}):s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:b.map(S=>{const T=S.display_name||"Usurio",U=p.has(S.id);return s.jsxs("div",{className:"flex items-center justify-between gap-3 rounded-md p-3",children:[s.jsxs(Yt,{to:`/${S.username||S.id}`,className:"flex items-center gap-3 min-w-0",children:[s.jsxs(Bt,{className:"h-10 w-10 shrink-0",children:[s.jsx(qt,{src:S.avatar_url||void 0,alt:T}),s.jsx(Vt,{children:T.charAt(0).toUpperCase()})]}),s.jsx("div",{className:"min-w-0",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("p",{className:"text-sm font-medium truncate",children:T}),S.is_pro&&s.jsx(nl,{size:12})]})})]}),U?s.jsx(O,{variant:"secondary",size:"sm",disabled:!0,children:"Seguindo"}):s.jsx(O,{size:"sm",onClick:()=>N(S.id),children:"Seguir"})]},S.id)})}),s.jsx("div",{ref:o,className:"h-8"}),y&&s.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Carregando mais..."})]})]})]})})})]})}const Gl=24;function wY(){var T,U,q,re,G;const{user:e}=ar(),t=Rr(),[r,n]=f.useState(!1),{resolvedTheme:a}=as(),i=((T=e==null?void 0:e.user_metadata)==null?void 0:T.full_name)||(e==null?void 0:e.email)||"Usurio",o=((U=e==null?void 0:e.user_metadata)==null?void 0:U.avatar_url)||void 0,l=async()=>{await $.auth.signOut(),t("/")},{toast:c}=Gs(),d=is(),{data:u}=Ze({queryKey:["roles",e==null?void 0:e.id],enabled:!!(e!=null&&e.id),queryFn:async()=>{const{data:H,error:V}=await $.from("user_roles").select("role").eq("user_id",e.id);if(V)throw V;return H}}),h=(u||[]).some(H=>H.role==="musician"),{shouldShowIndicator:m}=Of({userId:e==null?void 0:e.id,isMusician:h}),[p,w]=f.useState("seguindo"),v=f.useRef(null),g=f.useRef(null),{data:y}=Ze({queryKey:["viewer-following-set",e==null?void 0:e.id],enabled:!!(e!=null&&e.id),queryFn:async()=>{const{data:H,error:V}=await $.from("follows").select("followee_id").eq("follower_id",e.id);if(V)throw V;return new Set((H||[]).map(se=>se.followee_id))}}),x=bs({queryKey:["self-following-infinite",e==null?void 0:e.id],enabled:!!(e!=null&&e.id),initialPageParam:0,getNextPageParam:(H,V)=>H.hasMore?V.length:void 0,queryFn:async({pageParam:H})=>{const se=(Number(H)||0)*Gl,ee=se+Gl-1,{data:J,error:I}=await $.from("follows").select("followee_id").eq("follower_id",e.id).order("created_at",{ascending:!1}).range(se,ee);if(I)throw I;const D=(J||[]).map(z=>z.followee_id);if(D.length===0)return{rows:[],hasMore:!1};const{data:C,error:E}=await $.from("profiles").select("id, display_name, avatar_url").in("id",D).eq("is_active",!0).eq("is_blocked",!1);if(E)throw E;const A=new Map((C||[]).map(z=>[z.id,z])),Y=D.map(z=>A.get(z)).filter(Boolean),k=(J||[]).length===Gl;return{rows:Y,hasMore:k}}}),b=f.useMemo(()=>{var H;return(((H=x.data)==null?void 0:H.pages)||[]).flatMap(V=>V.rows)},[(q=x.data)==null?void 0:q.pages]),_=bs({queryKey:["self-followers-infinite",e==null?void 0:e.id],enabled:!!(e!=null&&e.id),initialPageParam:0,getNextPageParam:(H,V)=>H.hasMore?V.length:void 0,queryFn:async({pageParam:H})=>{const se=(Number(H)||0)*Gl,ee=se+Gl-1,{data:J,error:I}=await $.from("follows").select("follower_id").eq("followee_id",e.id).order("created_at",{ascending:!1}).range(se,ee);if(I)throw I;const D=(J||[]).map(z=>z.follower_id);if(D.length===0)return{rows:[],hasMore:!1};const{data:C,error:E}=await $.from("profiles").select("id, display_name, avatar_url").in("id",D).eq("is_active",!0).eq("is_blocked",!1);if(E)throw E;const A=new Map((C||[]).map(z=>[z.id,z])),Y=D.map(z=>A.get(z)).filter(Boolean),k=(J||[]).length===Gl;return{rows:Y,hasMore:k}}}),N=f.useMemo(()=>{var H;return(((H=_.data)==null?void 0:H.pages)||[]).flatMap(V=>V.rows)},[(re=_.data)==null?void 0:re.pages]);f.useEffect(()=>{const H=v.current;if(!H||p!=="seguindo")return;const V=new IntersectionObserver(se=>{se[0].isIntersecting&&x.hasNextPage&&!x.isFetchingNextPage&&x.fetchNextPage()});return V.observe(H),()=>V.disconnect()},[p,x.hasNextPage,x.isFetchingNextPage]),f.useEffect(()=>{const H=g.current;if(!H||p!=="seguidores")return;const V=new IntersectionObserver(se=>{se[0].isIntersecting&&_.hasNextPage&&!_.isFetchingNextPage&&_.fetchNextPage()});return V.observe(H),()=>V.disconnect()},[p,_.hasNextPage,_.isFetchingNextPage]);const P=async H=>{if(!(e!=null&&e.id)){c({title:"Entre para seguir",description:"Faa login para seguir perfis."});return}try{const{error:V}=await $.from("follows").insert({follower_id:e.id,followee_id:H});if(V)throw V;c({title:"Agora voc segue"}),await d.invalidateQueries({queryKey:["viewer-following-set",e.id]})}catch(V){c({title:"Erro",description:(V==null?void 0:V.message)||"No foi possvel seguir.",variant:"destructive"})}},S=async H=>{if(e!=null&&e.id)try{const{error:V}=await $.from("follows").delete().eq("follower_id",e.id).eq("followee_id",H);if(V)throw V;c({title:"Deixou de seguir"}),await d.invalidateQueries({queryKey:["viewer-following-set",e.id]})}catch(V){c({title:"Erro",description:(V==null?void 0:V.message)||"No foi possvel atualizar.",variant:"destructive"})}};return s.jsx(si,{children:s.jsxs("div",{className:"min-h-screen flex w-full bg-background",children:[h?s.jsx(Af,{}):null,s.jsxs("main",{className:"flex-1",children:[s.jsx(Xt,{title:"Conexes",description:"Veja quem voc segue e seus seguidores."}),s.jsxs("header",{className:"sticky top-0 z-40 h-12 flex items-center bg-background/80 supports-[backdrop-filter]:bg-background/60 backdrop-blur border-b px-4",children:[e&&s.jsx(O,{variant:"ghost",size:"icon",className:"mr-2","aria-label":"Abrir menu",onClick:()=>n(!0),children:s.jsx(Nf,{className:"h-5 w-5"})}),s.jsxs("nav",{className:"flex w-full items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Yt,{to:"/",className:"font-semibold",children:s.jsx("img",{src:a==="dark"?"/logo_avaplay.png":"/logo_avaplay_amarelo.png",alt:"AVAPlay",className:"h-6"})}),s.jsx(jd,{isVisible:m})]}),s.jsx("div",{className:"hidden md:flex items-center gap-2",children:e?null:s.jsx(O,{onClick:()=>t("/auth"),children:"Entrar"})})]})]}),e&&s.jsx(Ka,{open:r,onOpenChange:n,children:s.jsx(ma,{side:"left",className:"w-[16rem] p-0",children:s.jsxs("nav",{className:"p-2",children:[s.jsxs("div",{className:"flex items-center gap-3 p-3 border-b mb-2",children:[s.jsxs(Bt,{className:"h-10 w-10",isPro:!!((G=e==null?void 0:e.user_metadata)!=null&&G.is_pro),children:[s.jsx(qt,{src:o,alt:i??"Usurio"}),s.jsx(Vt,{children:(i||"U").charAt(0).toUpperCase()})]}),s.jsx("div",{className:"min-w-0",children:s.jsx("p",{className:"text-sm font-medium truncate",children:i})})]}),h&&s.jsx(O,{variant:"ghost",className:"w-full justify-start",onClick:()=>{n(!1),t("/musician")},children:"Painel"}),s.jsx(O,{variant:"ghost",className:"w-full justify-start",onClick:()=>{n(!1),t("/requests")},children:"Meus Pedidos"}),s.jsx(O,{variant:"ghost",className:"w-full justify-start",onClick:()=>{n(!1),t("/conexoes")},children:"Conexes"}),s.jsx(O,{variant:"ghost",className:"w-full justify-start",onClick:()=>{n(!1),t("/musician/profile")},children:"Editar perfil"}),s.jsx(O,{variant:"ghost",className:"w-full justify-start",onClick:()=>{n(!1),l()},children:"Sair"})]})})}),s.jsxs("section",{className:"max-w-5xl mx-auto px-4 py-6",children:[s.jsx("h1",{className:"text-2xl font-semibold tracking-tight mb-4",children:"Conexes"}),s.jsx(tt,{className:"border-0 shadow-none",children:s.jsx(rt,{className:"p-0",children:s.jsxs(_d,{value:p,onValueChange:H=>w(H),className:"w-full",children:[s.jsxs(io,{className:"grid w-full grid-cols-2",children:[s.jsx(Lr,{value:"seguindo",children:"Seguindo"}),s.jsx(Lr,{value:"seguidores",children:"Seguidores"})]}),s.jsxs("div",{className:"p-4",children:[s.jsxs(Wr,{value:"seguindo",className:"mt-0",children:[x.isLoading?s.jsx("p",{className:"text-sm text-muted-foreground",children:"Carregando..."}):b.length===0?s.jsx("p",{className:"text-sm text-muted-foreground",children:"Voc ainda no segue ningum."}):s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:b.map(H=>{var ee;const V=H.display_name||"Usurio",se=(ee=y==null?void 0:y.has)==null?void 0:ee.call(y,H.id);return s.jsxs("div",{className:"flex items-center justify-between gap-3 rounded-md p-3",children:[s.jsxs(Yt,{to:`/m/${H.id}`,className:"flex items-center gap-3 min-w-0",children:[s.jsxs(Bt,{className:"h-10 w-10 shrink-0",isPro:!!H.is_pro,children:[s.jsx(qt,{src:H.avatar_url||void 0,alt:V}),s.jsx(Vt,{children:V.charAt(0).toUpperCase()})]}),s.jsx("div",{className:"min-w-0",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("p",{className:"text-sm font-medium truncate",children:V}),H.is_pro&&s.jsx(nl,{size:12})]})})]}),(e==null?void 0:e.id)&&e.id!==H.id&&(se?s.jsx(O,{variant:"secondary",size:"sm",onClick:()=>S(H.id),children:"Seguindo"}):s.jsx(O,{size:"sm",onClick:()=>P(H.id),children:"Seguir"}))]},H.id)})}),s.jsx("div",{ref:v,className:"h-8"}),x.isFetchingNextPage&&s.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Carregando mais..."})]}),s.jsxs(Wr,{value:"seguidores",className:"mt-0",children:[_.isLoading?s.jsx("p",{className:"text-sm text-muted-foreground",children:"Carregando..."}):N.length===0?s.jsx("p",{className:"text-sm text-muted-foreground",children:"Nenhum seguidor ainda."}):s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:N.map(H=>{var ee;const V=H.display_name||"Usurio",se=(ee=y==null?void 0:y.has)==null?void 0:ee.call(y,H.id);return s.jsxs("div",{className:"flex items-center justify-between gap-3 rounded-md p-3",children:[s.jsxs(Yt,{to:`/m/${H.id}`,className:"flex items-center gap-3 min-w-0",children:[s.jsxs(Bt,{className:"h-10 w-10 shrink-0",isPro:!!H.is_pro,children:[s.jsx(qt,{src:H.avatar_url||void 0,alt:V}),s.jsx(Vt,{children:V.charAt(0).toUpperCase()})]}),s.jsx("div",{className:"min-w-0",children:s.jsx("p",{className:"text-sm font-medium truncate",children:V})})]}),(e==null?void 0:e.id)&&e.id!==H.id&&(se?s.jsx(O,{variant:"secondary",size:"sm",disabled:!0,children:"Seguindo"}):s.jsx(O,{size:"sm",onClick:()=>P(H.id),children:"Seguir"}))]},H.id)})}),s.jsx("div",{ref:g,className:"h-8"}),_.isFetchingNextPage&&s.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Carregando mais..."})]})]})]})})})]})]})]})})}function bY(){const[e,t]=f.useState(""),[r,n]=f.useState(""),[a,i]=f.useState(!1),[o,l]=f.useState(""),c=Rr(),{resolvedTheme:d}=as(),u=async h=>{h.preventDefault(),i(!0),l("");try{const{data:m,error:p}=await $.auth.signInWithPassword({email:e,password:r});if(p){l(p.message);return}if(m.user){const{data:w,error:v}=await $.rpc("has_admin_role",{_user_id:m.user.id});if(v||!w){l("Acesso negado. Voc no tem permisses de administrador."),await $.auth.signOut();return}c("/admin/dashboard")}}catch{l("Erro inesperado. Tente novamente.")}finally{i(!1)}};return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx(Xt,{title:"Admin Login - AVAPlay",description:"Acesso administrativo ao sistema AVAPlay"}),s.jsx("header",{className:"sticky top-0 z-40 h-12 flex items-center bg-background/80 supports-[backdrop-filter]:bg-background/60 backdrop-blur border-b px-4",children:s.jsxs("div",{className:"flex w-full items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Yt,{to:"/",className:"font-semibold",children:s.jsx("img",{src:d==="dark"?"/logo_avaplay.png":"/logo_avaplay_amarelo.png",alt:"AVAPlay",className:"h-6"})}),s.jsx("span",{className:"text-sm text-muted-foreground px-2 py-1 bg-muted rounded-md",children:"Admin"})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsx(eb,{})})]})}),s.jsx("div",{className:"flex items-center justify-center min-h-[calc(100vh-3rem)] p-4",children:s.jsxs(tt,{className:"w-full max-w-md",children:[s.jsxs(Qt,{className:"text-center space-y-2",children:[s.jsx("div",{className:"mx-auto w-12 h-12 bg-primary/10 rounded-full flex items-center justify-center",children:s.jsx("svg",{className:"w-6 h-6 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})}),s.jsx(cr,{className:"text-2xl font-bold",children:"AVAPlay"}),s.jsx(oT,{children:"Entre com suas credenciais administrativas"})]}),s.jsx(rt,{children:s.jsxs("form",{onSubmit:u,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx($e,{htmlFor:"email",children:"Email"}),s.jsx(Oe,{id:"email",type:"email",placeholder:"admin@exemplo.com",value:e,onChange:h=>t(h.target.value),required:!0,disabled:a,className:"h-10"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx($e,{htmlFor:"password",children:"Senha"}),s.jsx(Oe,{id:"password",type:"password",placeholder:"",value:r,onChange:h=>n(h.target.value),required:!0,disabled:a,className:"h-10"})]}),o&&s.jsx(Tg,{variant:"destructive",children:s.jsx(Rg,{children:o})}),s.jsx(O,{type:"submit",className:"w-full h-10",disabled:a,children:a?s.jsxs(s.Fragment,{children:[s.jsx(Hp,{className:"mr-2 h-4 w-4 animate-spin"}),"Entrando..."]}):"Entrar"}),s.jsx("div",{className:"text-center",children:s.jsx(Yt,{to:"/",className:"text-sm text-muted-foreground hover:text-foreground transition-colors",children:" Voltar para o site principal"})})]})})]})})]})}function jY(){const{user:e,loading:t}=ar(),[r,n]=f.useState(!1),[a,i]=f.useState(!0);return f.useEffect(()=>{async function o(){if(console.log(" Verificando permisses admin...",{user:e==null?void 0:e.id,authLoading:t}),!e){console.log(" Usurio no autenticado"),n(!1),i(!1);return}try{console.log(" Verificando role admin para usurio:",e.id);const{data:l,error:c}=await $.rpc("has_admin_role",{_user_id:e.id});c?(console.error(" Erro ao verificar admin:",c),n(!1)):n(!!l)}catch(l){console.error(" Erro inesperado ao verificar admin:",l),n(!1)}finally{i(!1),console.log(" Verificao admin concluda:",{isAdmin:r,isLoading:!1})}}t||o()},[e,t]),f.useEffect(()=>{console.log(" Estado do useAdmin atualizado:",{isAdmin:r,isLoading:a,authLoading:t,userId:e==null?void 0:e.id})},[r,a,t,e==null?void 0:e.id]),{isAdmin:r,isLoading:a||t}}const _Y=[{title:"Dashboard",url:"/admin/dashboard",icon:F3},{title:"Usurios",url:"/admin/users",icon:Wc},{title:"Taxas",url:"/admin/fees",icon:__},{title:"Saque antecipado",url:"/admin/early-fees",icon:__},{title:"Saques",url:"/admin/withdrawals",icon:Gu},{title:"Relatrios",url:"/admin/reports",icon:P3}];function NY(){const{state:e,isMobile:t,setOpenMobile:r}=wd(),n=e==="collapsed",i=Ys().pathname,o=g=>i===g,l=Rr(),{user:c}=ar(),{data:d}=Ze({queryKey:["admin-sidebar-profile",c==null?void 0:c.id],enabled:!!(c!=null&&c.id),queryFn:async()=>{const{data:g,error:y}=await $.from("profiles").select("display_name, avatar_url").eq("id",c.id).maybeSingle();if(y)throw y;return g}}),u=(d==null?void 0:d.display_name)||(c==null?void 0:c.email)||"Administrador",h=(d==null?void 0:d.avatar_url)||void 0,{resolvedTheme:m,setTheme:p}=as(),w=async()=>{await $.auth.signOut(),l("/admin/login")},v=()=>p(m==="dark"?"light":"dark");return s.jsx(db,{collapsible:"offcanvas",variant:"floating",children:s.jsxs(fb,{children:[s.jsx(ub,{children:s.jsx("div",{className:"flex items-center justify-between px-2",children:s.jsxs("div",{className:n?"flex items-center gap-2":"flex flex-col items-center gap-1",children:[s.jsxs(Bt,{className:"h-10 w-10",children:[s.jsx(qt,{src:h,alt:u}),s.jsx(Vt,{children:(u||"A").charAt(0).toUpperCase()})]}),!n&&s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"text-xs text-muted-foreground truncate max-w-[10rem]",children:u}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Administrador"})]})]})})}),s.jsx(rf,{}),s.jsxs(nf,{children:[s.jsx(sf,{children:"Painel"}),s.jsx(af,{children:s.jsx(of,{children:_Y.map(g=>s.jsx(qa,{children:s.jsx(Va,{asChild:!0,isActive:o(g.url),children:s.jsxs(Xm,{to:g.url,end:!0,onClick:()=>{t&&r(!1)},children:[s.jsx(g.icon,{className:"mr-2 h-4 w-4"}),!n&&s.jsx("span",{children:g.title})]})})},g.title))})})]}),s.jsx(rf,{}),s.jsxs(nf,{children:[s.jsx(sf,{children:"Conta"}),s.jsx(af,{children:s.jsxs(of,{children:[s.jsx(qa,{children:s.jsxs(Va,{onClick:v,children:[m==="dark"?s.jsx(Gp,{className:"mr-2 h-4 w-4"}):s.jsx(Kp,{className:"mr-2 h-4 w-4"}),!n&&s.jsx("span",{children:m==="dark"?"Tema claro":"Tema escuro"})]})}),s.jsx(qa,{children:s.jsx(Va,{asChild:!0,isActive:o("/"),children:s.jsxs(Xm,{to:"/",end:!0,onClick:()=>{t&&r(!1)},children:[s.jsx(k2,{className:"mr-2 h-4 w-4"}),!n&&s.jsx("span",{children:"Incio"})]})})}),s.jsx(qa,{children:s.jsxs(Va,{onClick:w,children:[s.jsx(E2,{className:"mr-2 h-4 w-4"}),!n&&s.jsx("span",{children:"Sair"})]})})]})})]})]})})}function SY(){const{isAdmin:e,isLoading:t}=jY(),r=Rr(),{resolvedTheme:n}=as();return f.useEffect(()=>{!t&&!e&&r("/admin/login")},[e,t,r]),t?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:s.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary"})}):e?s.jsx(si,{children:s.jsxs("div",{className:"min-h-screen flex w-full bg-background",children:[s.jsx(NY,{}),s.jsxs("main",{className:"flex-1",children:[s.jsx(Xt,{title:"Painel Administrativo",description:"Gerencie usurios, msicos e configuraes do sistema."}),s.jsxs("header",{className:"sticky top-0 z-40 h-12 flex items-center bg-background/80 supports-[backdrop-filter]:bg-background/60 backdrop-blur border-b px-2 gap-2",children:[s.jsx(bd,{className:"mr-1"}),s.jsx("nav",{className:"flex w-full items-center justify-between",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Yt,{to:"/",className:"font-semibold",children:s.jsx("img",{src:n==="dark"?"/logo_avaplay.png":"/logo_avaplay_amarelo.png",alt:"AVAPlay",className:"h-6"})}),s.jsx("span",{className:"text-sm text-muted-foreground px-2 py-1 bg-muted rounded-md",children:"Admin"}),s.jsx(jd,{isVisible:!1})]})})]}),s.jsx("div",{className:"p-1",children:s.jsx(VE,{})})]})]})}):null}function pi({title:e,value:t,subtitle:r,icon:n,loading:a=!1,trend:i,className:o}){return a?s.jsxs(tt,{className:le("",o),children:[s.jsxs(Qt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Xe,{className:"h-4 w-24"}),s.jsx(Xe,{className:"h-4 w-4"})]}),s.jsxs(rt,{children:[s.jsx(Xe,{className:"h-8 w-16 mb-2"}),s.jsx(Xe,{className:"h-3 w-32"})]})]}):s.jsxs(tt,{className:le("",o),children:[s.jsxs(Qt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(cr,{className:"text-sm font-medium text-muted-foreground",children:e}),n&&s.jsx("div",{className:"text-muted-foreground",children:n})]}),s.jsxs(rt,{children:[s.jsx("div",{className:"text-2xl font-bold",children:t}),r&&s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:r}),i&&s.jsxs("div",{className:"flex items-center mt-2",children:[s.jsxs("span",{className:le("text-xs font-medium",i.isPositive?"text-green-600":"text-red-600"),children:[i.isPositive?"+":"",i.value,"%"]}),s.jsx("span",{className:"text-xs text-muted-foreground ml-1",children:"vs. perodo anterior"})]})]})]})}function Uh({title:e,data:t,loading:r=!1,metric:n,className:a}){if(r)return s.jsxs(tt,{className:le("",a),children:[s.jsx(Qt,{children:s.jsx(Xe,{className:"h-5 w-32"})}),s.jsx(rt,{children:s.jsx(Xe,{className:"h-64 w-full"})})]});if(!t||t.length===0)return s.jsxs(tt,{className:le("",a),children:[s.jsx(Qt,{children:s.jsx(cr,{className:"text-lg font-semibold",children:e})}),s.jsx(rt,{children:s.jsx("div",{className:"flex items-center justify-center h-64 text-muted-foreground",children:"Nenhum dado disponvel"})})]});const i=t.slice().reverse().map(u=>({date:new Date(u.day).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit"}),value:u[n]})),o=i.map(u=>u.value),l=Math.min(...o),c=Math.max(...o),d=c-l;return s.jsxs(tt,{className:le("",a),children:[s.jsx(Qt,{children:s.jsx(cr,{className:"text-lg font-semibold",children:e})}),s.jsxs(rt,{children:[s.jsx("div",{className:"h-64 flex items-end justify-between gap-1",children:i.map((u,h)=>{const m=d>0?(u.value-l)/d*100:0;return s.jsxs("div",{className:"flex-1 flex flex-col items-center",title:`${u.date}: ${u.value.toLocaleString("pt-BR")}`,children:[s.jsx("div",{className:"w-full bg-primary/20 hover:bg-primary/30 transition-colors rounded-t",style:{height:`${Math.max(m,2)}%`,minHeight:"4px"}}),s.jsx("span",{className:"text-xs text-muted-foreground mt-1 text-center",children:u.date})]},h)})}),s.jsxs("div",{className:"mt-4 flex justify-between text-sm text-muted-foreground",children:[s.jsxs("span",{children:["Mn: ",l.toLocaleString("pt-BR")]}),s.jsxs("span",{children:["Mx: ",c.toLocaleString("pt-BR")]})]})]})]})}function CY(e){const{user:t}=ar(),[r,n]=f.useState(null),[a,i]=f.useState(!0),[o,l]=f.useState(null),[c,d]=f.useState(new Date),u=f.useRef(null),h=f.useRef(!0),m=f.useCallback(async g=>{try{i(!0),l(null);const x=(g||new Date).toISOString().split("T")[0];console.log(" Buscando dados para:",x);const{data:b,error:_}=await $.rpc("get_dashboard_summary",{_day:x});if(_)throw _;if(b&&b.length>0)console.log(" Dados obtidos via RPC:",b[0]),n(b[0]);else{const N={day:x,users_total:0,musicians_total:0,songs_total:0,requests_total:0,requests_pending_total:0,musicians_today:0,gross_today:0,ava_today:0,musicians_net_today:0};console.log(" Dados padro criados:",N),n(N)}d(new Date)}catch(y){console.error(" Erro ao buscar dados do dashboard:",y),l(y instanceof Error?y.message:"Erro desconhecido")}finally{i(!1)}},[]),p=f.useCallback(()=>{u.current&&clearInterval(u.current),h.current=!0,u.current=setInterval(()=>{h.current&&t&&(console.log(" Polling automtico - atualizando dados..."),m(e))},3e4),console.log(" Polling iniciado (30s)")},[m,e,t]),w=f.useCallback(()=>{h.current=!1,u.current&&(clearInterval(u.current),u.current=null),console.log(" Polling parado")},[]);return f.useEffect(()=>{t&&m(e)},[t,e,m]),f.useEffect(()=>{if(t)return console.log(" Usurio autenticado, configurando sistema de polling..."),p(),()=>{console.log(" Parando polling..."),w()}},[t,e,p,w]),{data:r,loading:a,error:o,refresh:()=>{console.log(" Refresh manual solicitado"),m(e)},lastUpdate:c}}function kY(){const{user:e}=ar(),[t,r]=f.useState([]),[n,a]=f.useState(!0),[i,o]=f.useState(null),l=f.useCallback(async()=>{try{a(!0),o(null);const d=new Date,u=new Date;u.setDate(u.getDate()-30),console.log(" Buscando histrico de",u.toISOString().split("T")[0],"at",d.toISOString().split("T")[0]);const{data:h,error:m}=await $.from("dashboard_daily_summary").select("*").gte("day",u.toISOString().split("T")[0]).lte("day",d.toISOString().split("T")[0]).order("day",{ascending:!1});if(m)throw m;console.log(" Histrico obtido:",(h==null?void 0:h.length)||0,"registros"),r(h||[])}catch(d){console.error(" Erro ao buscar histrico do dashboard:",d),o(d instanceof Error?d.message:"Erro desconhecido")}finally{a(!1)}},[]);return f.useEffect(()=>{e&&l()},[e,l]),{data:t,loading:n,error:i,refresh:()=>{console.log(" Refresh manual do histrico solicitado"),l()}}}function EY(){const[e,t]=f.useState(new Date),[r,n]=f.useState(!1),{data:a,loading:i,refresh:o,lastUpdate:l}=CY(e),{data:c,loading:d,refresh:u}=kY(),h=g=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(g),m=(g,y)=>{if(y===0)return{value:0,isPositive:!0};const x=(g-y)/y*100;return{value:Math.abs(Math.round(x)),isPositive:x>=0}},w=!c||c.length<2?null:c[1],v=g=>{g&&(console.log(" Data alterada para:",g.toISOString().split("T")[0]),t(g),n(!1))};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Dashboard"}),s.jsxs("p",{className:"text-muted-foreground",children:["Viso geral do sistema AVAPlay - ",Ht(e,"PPP",{locale:ol})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(bn,{open:r,onOpenChange:n,children:[s.jsx(jn,{asChild:!0,children:s.jsxs(O,{variant:"outline",className:le("w-[240px] justify-start text-left font-normal",!e&&"text-muted-foreground"),children:[s.jsx(wn,{className:"mr-2 h-4 w-4"}),e?Ht(e,"PPP",{locale:ol}):s.jsx("span",{children:"Selecionar data"})]})}),s.jsx(un,{className:"w-auto p-0",align:"end",children:s.jsx(gs,{mode:"single",selected:e,onSelect:v,initialFocus:!0})})]}),s.jsx(O,{variant:"outline",size:"icon",onClick:()=>{o(),u()},children:s.jsx(j_,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5",children:[s.jsx(pi,{title:"Msicos Totais",value:(a==null?void 0:a.musicians_total.toLocaleString("pt-BR"))||"0",subtitle:"Total de msicos cadastrados",icon:s.jsx(nr,{className:"h-4 w-4"}),loading:i}),s.jsx(pi,{title:"Msicas Totais",value:(a==null?void 0:a.songs_total.toLocaleString("pt-BR"))||"0",subtitle:"Total de msicas cadastradas",icon:s.jsx(fc,{className:"h-4 w-4"}),loading:i}),s.jsx(pi,{title:"Pedidos Totais",value:(a==null?void 0:a.requests_total.toLocaleString("pt-BR"))||"0",subtitle:"Total de pedidos realizados",icon:s.jsx(B3,{className:"h-4 w-4"}),loading:i}),s.jsx(pi,{title:"Pedidos Pendentes",value:(a==null?void 0:a.requests_pending_total.toLocaleString("pt-BR"))||"0",subtitle:"Pedidos aguardando aprovao",icon:s.jsx(C2,{className:"h-4 w-4"}),loading:i}),s.jsx(pi,{title:"Novos Msicos",value:(a==null?void 0:a.musicians_today.toLocaleString("pt-BR"))||"0",subtitle:`Novos msicos em ${Ht(e,"dd/MM/yyyy")}`,icon:s.jsx(nr,{className:"h-4 w-4"}),loading:i,trend:w?m((a==null?void 0:a.musicians_today)||0,w.musicians_today):void 0})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[s.jsx(pi,{title:"Taxa AVA do Dia",value:h((a==null?void 0:a.ava_today)||0),subtitle:`Taxa da plataforma em ${Ht(e,"dd/MM/yyyy")}`,icon:s.jsx(nm,{className:"h-4 w-4"}),loading:i,trend:w?m((a==null?void 0:a.ava_today)||0,w.ava_today):void 0}),s.jsx(pi,{title:"Receita Msicos",value:h((a==null?void 0:a.musicians_net_today)||0),subtitle:`Receita lquida dos msicos em ${Ht(e,"dd/MM/yyyy")}`,icon:s.jsx(nm,{className:"h-4 w-4"}),loading:i,trend:w?m((a==null?void 0:a.musicians_net_today)||0,w.musicians_net_today):void 0}),s.jsx(pi,{title:"Faturamento do Dia",value:h((a==null?void 0:a.gross_today)||0),subtitle:`Faturamento bruto em ${Ht(e,"dd/MM/yyyy")}`,icon:s.jsx(nm,{className:"h-4 w-4"}),loading:i,trend:w?m((a==null?void 0:a.gross_today)||0,w.gross_today):void 0})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsx(Uh,{title:"Evoluo de Usurios",data:c,loading:d,metric:"users_total"}),s.jsx(Uh,{title:"Evoluo de Msicos",data:c,loading:d,metric:"musicians_total"}),s.jsx(Uh,{title:"Evoluo de Pedidos",data:c,loading:d,metric:"requests_total"}),s.jsx(Uh,{title:"Faturamento Dirio",data:c,loading:d,metric:"gross_today"})]}),s.jsxs("div",{className:"text-center text-sm text-muted-foreground",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[s.jsx(j_,{className:"h-3 w-3 animate-spin"}),s.jsxs("span",{children:["Atualizao automtica a cada 30 segundos  Dados para ",Ht(e,"dd/MM/yyyy")]})]}),s.jsxs("div",{className:"text-xs",children:["ltima atualizao: ",Ht(l,"HH:mm:ss")]})]})]})}function PY(){return s.jsx("div",{className:"p-4",children:s.jsx(EY,{})})}const oA=({className:e,...t})=>s.jsx("nav",{role:"navigation","aria-label":"pagination",className:le("mx-auto flex w-full justify-center",e),...t});oA.displayName="Pagination";const lA=f.forwardRef(({className:e,...t},r)=>s.jsx("ul",{ref:r,className:le("flex flex-row items-center gap-1",e),...t}));lA.displayName="PaginationContent";const R0=f.forwardRef(({className:e,...t},r)=>s.jsx("li",{ref:r,className:le("",e),...t}));R0.displayName="PaginationItem";const Yb=({className:e,isActive:t,size:r="icon",...n})=>s.jsx("a",{"aria-current":t?"page":void 0,className:le(Yc({variant:t?"outline":"ghost",size:r}),e),...n});Yb.displayName="PaginationLink";const cA=({className:e,...t})=>s.jsxs(Yb,{"aria-label":"Go to previous page",size:"default",className:le("gap-1 pl-2.5",e),...t,children:[s.jsx(N2,{className:"h-4 w-4"}),s.jsx("span",{children:"Previous"})]});cA.displayName="PaginationPrevious";const dA=({className:e,...t})=>s.jsxs(Yb,{"aria-label":"Go to next page",size:"default",className:le("gap-1 pr-2.5",e),...t,children:[s.jsx("span",{children:"Next"}),s.jsx(Rw,{className:"h-4 w-4"})]});dA.displayName="PaginationNext";const Bh=20;function Cx(e){return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e||0)}function kx(e){return Ht(new Date(e),"dd/MM/yyyy",{locale:ol})}function TY(){const[e,t]=f.useState(1),[r,n]=f.useState(""),[a,i]=f.useState(""),[o,l]=f.useState("all"),[c,d]=f.useState(null),[u,h]=f.useState({email:"",display_name:"",username:"",is_pro:!1,is_active:!1,is_blocked:!1,role:""}),{toast:m}=Gs(),p=is(),[w,v]=f.useState(!1),[g,y]=f.useState(null),[x,b]=f.useState([]),[_,N]=f.useState(!1),P=f.useMemo(()=>o==="all"?null:o,[o]),{data:S,isLoading:T,refetch:U,isFetching:q,isError:re,error:G}=Ze({queryKey:["admin-users",{page:e,nameFilter:r,emailFilter:a,roleParam:P}],queryFn:async()=>{try{const{data:C,error:E}=await $.rpc("admin_list_users",{p_search_name:r||null,p_search_email:a||null,p_role:P,p_page:e,p_page_size:Bh});if(E)throw E;return console.log("admin_list_users result",C),C||[]}catch(C){console.error("admin_list_users RPC error",C),m({title:"Erro ao listar usurios (RPC)",description:String((C==null?void 0:C.message)||C)}),a&&m({title:"Filtro por email indisponvel",description:"Aplicando fallback sem email. Execute as migraes para habilitar a busca por email."});let E=$.from("profiles").select("id, display_name, username, is_pro, is_active, is_blocked, user_roles(role)",{count:"exact"}).order("display_name",{ascending:!0,nullsFirst:!1});if(r&&(E=E.or(`display_name.ilike.%${r}%,username.ilike.%${r}%`)),P)try{E=E.eq("user_roles.role",P)}catch(R){console.warn("Nested role filter failed; continuing without role filter",R)}const A=(e-1)*Bh,Y=e*Bh-1,{data:k,count:z,error:ne}=await E.range(A,Y);if(ne)throw console.error("profiles fallback error",ne),m({title:"Erro ao listar usurios (fallback)",description:String(ne.message||ne),variant:"destructive"}),ne;return(k||[]).map(R=>({id:R.id,display_name:R.display_name,email:null,username:R.username,is_pro:!!R.is_pro,is_active:!!R.is_active,is_blocked:!!R.is_blocked,roles:(R.user_roles||[]).map(L=>L.role),total_count:z??0}))}},keepPreviousData:!0}),H=S&&S.length>0?S[0].total_count??0:0,V=Math.max(1,Math.ceil(H/Bh));f.useEffect(()=>{t(1)},[r,a,P]);const se=C=>{d(C),h({email:C.email||"",display_name:C.display_name||"",username:C.username||"",is_pro:!!C.is_pro,is_active:!!C.is_active,is_blocked:!!C.is_blocked,role:(C.roles||[]).includes("admin")?"admin":(C.roles||[]).includes("musician")?"musician":(C.roles||[]).includes("public")?"public":""})},ee=()=>d(null),J=async C=>{if(!C.roles.includes("musician")){m({title:"Usurio no  msico",description:"Apenas usurios com perfil de msico tm repasses para visualizar.",variant:"destructive"});return}y(C),v(!0),N(!0);try{const{data:E,error:A}=await $.from("transaction_batches").select("*").eq("musician_id",C.id).order("day",{ascending:!1});if(A)throw A;b(E||[])}catch(E){console.error("Erro ao buscar repasses:",E),m({title:"Erro ao buscar repasses",description:"No foi possvel carregar os repasses deste msico.",variant:"destructive"}),b([])}finally{N(!1)}},I=()=>{v(!1),y(null),b([])},D=ni({mutationFn:async()=>{if(!c)return;const C=new Set(c.roles||[]),E=u.role||"public",A=Array.from(C).filter(z=>z!==E);if(!C.has(E)){const{error:z}=await $.from("user_roles").insert([{user_id:c.id,role:E}]);if(z)throw z}if(A.length>0){const{error:z}=await $.from("user_roles").delete().eq("user_id",c.id).in("role",A);if(z)throw z}const Y={display_name:u.display_name,username:u.username,is_pro:u.is_pro,is_active:u.is_active,is_blocked:u.is_blocked},{error:k}=await $.from("profiles").update(Y).eq("id",c.id);if(k)throw k},onSuccess:async()=>{m({title:"Usurio atualizado"}),await p.invalidateQueries({queryKey:["admin-users"]}),ee()},onError:C=>{m({title:"Erro ao atualizar",description:String((C==null?void 0:C.message)||C),variant:"destructive"})}});return s.jsxs("div",{className:"p-2 md:p-4",children:[s.jsxs(tt,{children:[s.jsxs(Qt,{className:"flex flex-col gap-2",children:[s.jsx(cr,{children:"Usurios"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-2",children:[s.jsxs("div",{children:[s.jsx($e,{htmlFor:"f-name",children:"Nome/Usurio"}),s.jsx(Oe,{id:"f-name",placeholder:"Buscar por nome ou usurio",value:r,onChange:C=>n(C.target.value)})]}),s.jsxs("div",{children:[s.jsx($e,{htmlFor:"f-email",children:"Email"}),s.jsx(Oe,{id:"f-email",placeholder:"Buscar por email",value:a,onChange:C=>i(C.target.value)})]}),s.jsxs("div",{children:[s.jsx($e,{children:"Tipo"}),s.jsxs(ul,{value:o,onValueChange:C=>l(C),children:[s.jsx(oo,{children:s.jsx(fl,{placeholder:"Tipo de usurio"})}),s.jsxs(lo,{children:[s.jsx(Vr,{value:"all",children:"Todos"}),s.jsx(Vr,{value:"musician",children:"Msico"}),s.jsx(Vr,{value:"public",children:"Pblico"}),s.jsx(Vr,{value:"admin",children:"Admin"})]})]})]}),s.jsxs("div",{className:"flex items-end gap-2",children:[s.jsx(O,{onClick:()=>U(),disabled:q,children:"Filtrar"}),s.jsx(O,{variant:"outline",onClick:()=>{n(""),i(""),l("all")},children:"Limpar"})]})]})]}),s.jsxs(rt,{children:[re&&s.jsx(Tg,{variant:"destructive",className:"mb-3",children:s.jsx(Rg,{children:"Ocorreu um erro ao carregar a lista de usurios. Tente novamente ou verifique as migraes."})}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(ho,{children:[s.jsx(mo,{children:s.jsxs(Hr,{children:[s.jsx(mt,{children:"Nome pblico"}),s.jsx(mt,{children:"Email"}),s.jsx(mt,{children:"Usurio"}),s.jsx(mt,{children:"is_pro"}),s.jsx(mt,{children:"is_active"}),s.jsx(mt,{children:"is_blocked"}),s.jsx(mt,{children:"Tipo"}),s.jsx(mt,{children:"Repasses"}),s.jsx(mt,{className:"text-right",children:"Aes"})]})}),s.jsxs(po,{children:[(S||[]).map(C=>s.jsxs(Hr,{className:"hover:bg-muted/50 cursor-pointer",onClick:()=>se(C),children:[s.jsx(lt,{className:"max-w-[16rem] truncate",children:C.display_name||"-"}),s.jsx(lt,{className:"max-w-[20rem] truncate",children:C.email||"-"}),s.jsx(lt,{className:"max-w-[12rem] truncate",children:C.username||"-"}),s.jsx(lt,{children:C.is_pro?s.jsx(Br,{variant:"default",children:"PRO"}):s.jsx(Br,{variant:"secondary",children:""})}),s.jsx(lt,{children:C.is_active?s.jsx(Br,{variant:"outline",children:"Ativo"}):s.jsx(Br,{variant:"secondary",children:"Inativo"})}),s.jsx(lt,{children:C.is_blocked?s.jsx(Br,{variant:"destructive",children:"Bloqueado"}):s.jsx(Br,{variant:"secondary",children:""})}),s.jsx(lt,{className:"space-x-1",children:(C.roles||[]).map(E=>s.jsx(Br,{variant:"outline",children:E},E))}),s.jsx(lt,{children:C.roles.includes("musician")?s.jsxs(O,{size:"sm",variant:"outline",onClick:E=>{E.stopPropagation(),J(C)},children:[s.jsx(Fr,{className:"h-3 w-3 mr-1"}),"Ver"]}):s.jsx("span",{className:"text-muted-foreground text-sm",children:""})}),s.jsx(lt,{className:"text-right",children:s.jsx(O,{size:"sm",variant:"outline",onClick:E=>{E.stopPropagation(),se(C)},children:"Editar"})})]},C.id)),!T&&(S||[]).length===0&&s.jsx(Hr,{children:s.jsx(lt,{colSpan:9,className:"text-center text-sm text-muted-foreground",children:"Nenhum usurio encontrado"})})]})]})}),s.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:T?"Carregando...":`${H} resultados`}),s.jsx(oA,{children:s.jsxs(lA,{children:[s.jsx(R0,{children:s.jsx(cA,{href:"#",onClick:C=>{C.preventDefault(),t(E=>Math.max(1,E-1))},className:e<=1?"pointer-events-none opacity-50":""})}),s.jsx(R0,{children:s.jsx(dA,{href:"#",onClick:C=>{C.preventDefault(),t(E=>Math.min(V,E+1))},className:e>=V?"pointer-events-none opacity-50":""})})]})})]})]})]}),s.jsx(Jr,{open:!!c,onOpenChange:C=>{C||ee()},children:s.jsxs(Kr,{className:"max-h-[85vh] p-0 overflow-hidden",children:[s.jsx(Gr,{className:"px-6 pt-6",children:s.jsx(Yr,{children:"Editar usurio"})}),s.jsxs("div",{className:"grid gap-4 px-6 py-4 flex-1 overflow-y-auto",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2 col-span-2",children:[s.jsx($e,{htmlFor:"edit-email",children:"Email"}),s.jsx(Oe,{id:"edit-email",type:"email",value:u.email,onChange:C=>h(E=>({...E,email:C.target.value}))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx($e,{htmlFor:"edit-display-name",children:"Nome pblico"}),s.jsx(Oe,{id:"edit-display-name",value:u.display_name,onChange:C=>h(E=>({...E,display_name:C.target.value}))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx($e,{htmlFor:"edit-username",children:"Usurio"}),s.jsx(Oe,{id:"edit-username",value:u.username,onChange:C=>h(E=>({...E,username:C.target.value}))})]}),s.jsxs("div",{className:"space-y-2 col-span-2",children:[s.jsx($e,{children:"Tipo"}),s.jsxs(ul,{value:u.role||"public",onValueChange:C=>h(E=>({...E,role:C})),children:[s.jsx(oo,{children:s.jsx(fl,{placeholder:"Selecione o tipo"})}),s.jsxs(lo,{children:[s.jsx(Vr,{value:"public",children:"Pblico"}),s.jsx(Vr,{value:"musician",children:"Msico"}),s.jsx(Vr,{value:"admin",children:"Admin"})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"flex items-center justify-between rounded-lg border p-3",children:[s.jsxs("div",{children:[s.jsx($e,{className:"mb-0",children:"Pro"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Exibe selo PRO"})]}),s.jsx(Ji,{checked:u.is_pro,onCheckedChange:C=>h(E=>({...E,is_pro:C}))})]}),s.jsxs("div",{className:"flex items-center justify-between rounded-lg border p-3",children:[s.jsxs("div",{children:[s.jsx($e,{className:"mb-0",children:"Ativo"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Permite login"})]}),s.jsx(Ji,{checked:u.is_active,onCheckedChange:C=>h(E=>({...E,is_active:C}))})]}),s.jsxs("div",{className:"flex items-center justify-between rounded-lg border p-3",children:[s.jsxs("div",{children:[s.jsx($e,{className:"mb-0",children:"Bloqueado"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Restringe acesso"})]}),s.jsx(Ji,{checked:u.is_blocked,onCheckedChange:C=>h(E=>({...E,is_blocked:C}))})]})]})]}),s.jsxs(pa,{className:"px-6 py-4 border-t bg-background sm:flex-row sm:justify-end gap-2",children:[s.jsx(O,{variant:"outline",onClick:ee,children:"Cancelar"}),s.jsx(O,{onClick:()=>D.mutate(),disabled:D.isPending,children:"Salvar"})]})]})}),s.jsx(Jr,{open:w,onOpenChange:v,children:s.jsxs(Kr,{className:"max-w-4xl max-h-[85vh] p-0 overflow-hidden",children:[s.jsx(Gr,{className:"px-6 pt-6",children:s.jsxs(Yr,{className:"flex items-center gap-2",children:[s.jsx(Gu,{className:"h-5 w-5"}),"Repasses - ",(g==null?void 0:g.display_name)||(g==null?void 0:g.username)||"Msico"]})}),s.jsx("div",{className:"px-6 py-4 flex-1 overflow-y-auto",children:_?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Carregando repasses..."})]}):x.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Gu,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Nenhum repasse encontrado para este msico."})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Total de ",x.length," repasse(s) encontrado(s)"]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(ho,{children:[s.jsx(mo,{children:s.jsxs(Hr,{children:[s.jsx(mt,{children:"Perodo"}),s.jsx(mt,{children:"Valor Bruto"}),s.jsx(mt,{children:"Valor Lquido"}),s.jsx(mt,{children:"Status"}),s.jsx(mt,{children:"Solicitado em"}),s.jsx(mt,{children:"Repassado em"}),s.jsx(mt,{children:"Antecipado"})]})}),s.jsx(po,{children:x.map(C=>s.jsxs(Hr,{children:[s.jsx(lt,{className:"font-medium",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(wn,{className:"h-4 w-4 text-muted-foreground"}),kx(C.day)]})}),s.jsx(lt,{className:"font-mono",children:Cx(C.total_musician_amount)}),s.jsx(lt,{className:"font-mono",children:Cx(C.total_musician_payout)}),s.jsx(lt,{children:s.jsx(Br,{variant:C.status==="paid"?"default":"secondary",className:C.status==="paid"?"bg-green-100 text-green-800":"",children:C.status==="paid"?"Pago":"Solicitado"})}),s.jsx(lt,{children:C.requested_at?kx(C.requested_at):""}),s.jsx(lt,{children:C.payout_at?kx(C.payout_at):""}),s.jsx(lt,{children:C.is_early?s.jsxs("div",{className:"text-sm",children:[s.jsxs(Br,{variant:"outline",className:"text-orange-600 border-orange-600",children:[C.early_discount_percent,"% desconto"]}),s.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:Cx(C.early_discount_amount)})]}):s.jsx("span",{className:"text-muted-foreground text-sm",children:""})})]},C.id))})]})})]})}),s.jsx(pa,{className:"px-6 py-4 border-t bg-background",children:s.jsx(O,{variant:"outline",onClick:I,children:"Fechar"})})]})})]})}function RY(){const{toast:e}=Gs(),t=is(),[r,n]=f.useState(""),[a,i]=f.useState("5"),{data:o,isFetching:l}=Ze({queryKey:["fee-rates"],queryFn:async()=>{const u=await $.from("platform_fee_rates").select("id, percent, is_active, effective_from, days_to_payout").order("effective_from",{ascending:!1});if(!u.error)return u.data||[];if(String(u.error.message||u.error).includes("days_to_payout")){const{data:m,error:p}=await $.from("platform_fee_rates").select("id, percent, is_active, effective_from").order("effective_from",{ascending:!1});if(p)throw p;return m||[]}throw u.error}}),c=ni({mutationFn:async()=>{const u=Number(r);if(isNaN(u)||u<0||u>100)throw new Error("Percentual invlido");const h=Number(a);if(!Number.isInteger(h)||h<0||h>60)throw new Error("Dias invlidos (0-60)");const m=await $.from("platform_fee_rates").insert({percent:u,is_active:!1,days_to_payout:h});if(!m.error)return;if(String(m.error.message||m.error).includes("days_to_payout")){const{error:w}=await $.from("platform_fee_rates").insert({percent:u,is_active:!1});if(w)throw w;return}throw m.error},onSuccess:async()=>{n(""),i("5"),e({title:"Taxa criada"}),await t.invalidateQueries({queryKey:["fee-rates"]})},onError:u=>e({title:"Erro",description:String((u==null?void 0:u.message)||u),variant:"destructive"})}),d=ni({mutationFn:async u=>{const{error:h}=await $.from("platform_fee_rates").update({is_active:!1}).neq("id",u);if(h)throw h;const{error:m}=await $.from("platform_fee_rates").update({is_active:!0}).eq("id",u);if(m)throw m},onSuccess:async()=>{e({title:"Taxa ativada"}),await t.invalidateQueries({queryKey:["fee-rates"]})},onError:u=>e({title:"Erro",description:String((u==null?void 0:u.message)||u),variant:"destructive"})});return s.jsx("div",{className:"p-4 space-y-4",children:s.jsxs(tt,{children:[s.jsx(Qt,{children:s.jsx(cr,{children:"Taxas da Plataforma"})}),s.jsxs(rt,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-end gap-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx($e,{htmlFor:"pct",children:"Percentual (%)"}),s.jsx(Oe,{id:"pct",placeholder:"Ex: 10",value:r,onChange:u=>n(u.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx($e,{htmlFor:"days",children:"D+N (dias para saque normal)"}),s.jsx(Oe,{id:"days",placeholder:"Ex: 5",value:a,onChange:u=>i(u.target.value)})]}),s.jsx(O,{onClick:()=>c.mutate(),disabled:c.isPending||l,children:"Adicionar"})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(ho,{children:[s.jsx(mo,{children:s.jsxs(Hr,{children:[s.jsx(mt,{children:"Percentual"}),s.jsx(mt,{children:"Vigente"}),s.jsx(mt,{children:"Incio"}),s.jsx(mt,{children:"D+N"}),s.jsx(mt,{className:"text-right",children:"Aes"})]})}),s.jsx(po,{children:(o||[]).map(u=>s.jsxs(Hr,{children:[s.jsxs(lt,{children:[u.percent,"%"]}),s.jsx(lt,{children:u.is_active?s.jsx(Br,{children:"Ativa"}):s.jsx(Br,{variant:"secondary",children:""})}),s.jsx(lt,{children:new Date(u.effective_from).toLocaleString("pt-BR")}),s.jsx(lt,{children:u.days_to_payout??5}),s.jsx(lt,{className:"text-right",children:!u.is_active&&s.jsx(O,{size:"sm",variant:"outline",onClick:()=>d.mutate(u.id),children:"Ativar"})})]},u.id))})]})})]})]})})}function MY(){const{toast:e}=Gs(),t=is(),[r,n]=f.useState(""),{data:a,isFetching:i}=Ze({queryKey:["early-withdrawal-rates"],queryFn:async()=>{const{data:c,error:d}=await $.from("early_withdrawal_rates").select("id, percent, is_active, effective_from").order("effective_from",{ascending:!1});if(d)throw d;return c||[]}}),o=ni({mutationFn:async()=>{const c=Number(r);if(isNaN(c)||c<0||c>100)throw new Error("Percentual invlido");const{error:d}=await $.from("early_withdrawal_rates").insert({percent:c,is_active:!1});if(d)throw d},onSuccess:async()=>{n(""),e({title:"Taxa de saque criada"}),await t.invalidateQueries({queryKey:["early-withdrawal-rates"]})},onError:c=>e({title:"Erro",description:String((c==null?void 0:c.message)||c),variant:"destructive"})}),l=ni({mutationFn:async c=>{const{error:d}=await $.from("early_withdrawal_rates").update({is_active:!1}).neq("id",c);if(d)throw d;const{error:u}=await $.from("early_withdrawal_rates").update({is_active:!0}).eq("id",c);if(u)throw u},onSuccess:async()=>{e({title:"Taxa ativada"}),await t.invalidateQueries({queryKey:["early-withdrawal-rates"]})},onError:c=>e({title:"Erro",description:String((c==null?void 0:c.message)||c),variant:"destructive"})});return s.jsx("div",{className:"p-4 space-y-4",children:s.jsxs(tt,{children:[s.jsx(Qt,{children:s.jsx(cr,{children:"Taxas de Saque Antecipado"})}),s.jsxs(rt,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-end gap-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx($e,{htmlFor:"pct",children:"Percentual (%)"}),s.jsx(Oe,{id:"pct",placeholder:"Ex: 5",value:r,onChange:c=>n(c.target.value)})]}),s.jsx(O,{onClick:()=>o.mutate(),disabled:o.isPending||i,children:"Adicionar"})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(ho,{children:[s.jsx(mo,{children:s.jsxs(Hr,{children:[s.jsx(mt,{children:"Percentual"}),s.jsx(mt,{children:"Vigente"}),s.jsx(mt,{children:"Incio"}),s.jsx(mt,{className:"text-right",children:"Aes"})]})}),s.jsx(po,{children:(a||[]).map(c=>s.jsxs(Hr,{children:[s.jsxs(lt,{children:[c.percent,"%"]}),s.jsx(lt,{children:c.is_active?s.jsx(Br,{children:"Ativa"}):s.jsx(Br,{variant:"secondary",children:""})}),s.jsx(lt,{children:new Date(c.effective_from).toLocaleString("pt-BR")}),s.jsx(lt,{className:"text-right",children:!c.is_active&&s.jsx(O,{size:"sm",variant:"outline",onClick:()=>l.mutate(c.id),children:"Ativar"})})]},c.id))})]})})]})]})})}function AY(){const[e,t]=f.useState(!1),{toast:r}=Gs();return{copyToClipboard:async(a,i)=>{try{await navigator.clipboard.writeText(a),t(!0),r({title:"Copiado!",description:i||"Texto copiado para a rea de transferncia",duration:2e3}),setTimeout(()=>t(!1),2e3)}catch(o){console.error("Failed to copy text: ",o);try{const l=document.createElement("textarea");l.value=a,l.style.position="fixed",l.style.left="-999999px",l.style.top="-999999px",document.body.appendChild(l),l.focus(),l.select(),document.execCommand("copy"),l.remove(),t(!0),r({title:"Copiado!",description:i||"Texto copiado para a rea de transferncia",duration:2e3}),setTimeout(()=>t(!1),2e3)}catch{r({title:"Erro",description:"No foi possvel copiar o texto",variant:"destructive",duration:3e3})}}},copied:e}}const Ex=20;function Px(e){return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e||0)}function Tx(e){if(!e)return"-";const t=new Date(e);return isNaN(t.getTime())?"-":Ht(t,"dd/MM/yyyy",{locale:ol})}function OY(e){if(!e)return"-";const t=new Date(e);return isNaN(t.getTime())?"-":Ht(t,"dd/MM/yyyy HH:mm",{locale:ol})}function DY(){var D,C,E,A,Y;const{user:e}=ar(),{toast:t}=Gs(),{copyToClipboard:r,copied:n}=AY(),a=is(),[i,o]=f.useState(!1),[l,c]=f.useState(null),[d,u]=f.useState(new Date),[h,m]=f.useState(!1),[p,w]=f.useState({from:ku(new Date,30),to:new Date}),[v,g]=f.useState("all");f.useState(!1);const{data:y,fetchNextPage:x,hasNextPage:b,isFetchingNextPage:_,isLoading:N,error:P,refetch:S}=bs({queryKey:["admin-withdrawals",p==null?void 0:p.from,p==null?void 0:p.to,v],enabled:!!e,initialPageParam:0,getNextPageParam:k=>k.nextCursor,queryFn:async({pageParam:k})=>{const z=Number(k)||0,ne=z+Ex-1;let Q=$.from("transaction_batches").select(`
          *,
          musician_profile:profiles!transaction_batches_musician_id_fkey(
            display_name,
            username,
            pix_key,
            responsible_name,
            responsible_whatsapp
          )
        `);v==="requested"?Q=Q.eq("status","requested"):v==="paid"&&(Q=Q.eq("status","paid")),p!=null&&p.from&&(Q=Q.gte("day",p.from.toISOString().split("T")[0])),p!=null&&p.to&&(Q=Q.lte("day",p.to.toISOString().split("T")[0])),v==="paid"?Q=Q.order("payout_at",{ascending:!1}):Q=Q.order("requested_at",{ascending:!1});const{data:R,error:L}=await Q.range(z,ne);if(L)throw L;const Z=R||[];return{items:Z,nextCursor:Z.length===Ex?z+Ex:void 0}},onError:k=>{t({title:"Erro ao carregar saques",description:(k==null?void 0:k.message)||"Verifique suas permisses ou tente novamente.",variant:"destructive"}),console.error("[Admin Withdrawals] query error:",k)}}),T=(y==null?void 0:y.pages.flatMap(k=>k.items))??[],U=ni({mutationFn:async({batchId:k,payoutDate:z})=>{const{error:ne}=await $.from("transaction_batches").update({status:"paid",payout_at:z.toISOString(),updated_at:new Date().toISOString()}).eq("id",k);if(ne)throw ne;return{success:!0}},onSuccess:()=>{t({title:"Repasse confirmado!",description:"O saque foi marcado como pago com sucesso."}),o(!1),c(null),a.invalidateQueries({queryKey:["admin-withdrawals"]})},onError:k=>{t({title:"Erro ao confirmar repasse",description:k.message||"Tente novamente.",variant:"destructive"})}}),q=ni({mutationFn:async({batchId:k})=>{const{error:z}=await $.from("transaction_batches").update({status:"requested",payout_at:null,updated_at:new Date().toISOString()}).eq("id",k);if(z)throw z;return{success:!0}},onSuccess:()=>{t({title:"Confirmao revertida!",description:"O saque voltou ao status de solicitado."}),a.invalidateQueries({queryKey:["admin-withdrawals"]})},onError:k=>{t({title:"Erro ao reverter confirmao",description:k.message||"Tente novamente.",variant:"destructive"})}}),re=f.useCallback(async()=>{if(!(!l||!d)){m(!0);try{await U.mutateAsync({batchId:l.id,payoutDate:d})}finally{m(!1)}}},[l,d,U]),G=f.useCallback(async k=>{confirm("Tem certeza que deseja reverter a confirmao deste repasse?")&&await q.mutateAsync({batchId:k})},[q]),H=f.useCallback(k=>{w(k),a.invalidateQueries({queryKey:["admin-withdrawals"]})},[a]),V=f.useCallback(k=>{g(k),a.invalidateQueries({queryKey:["admin-withdrawals"]})},[a]),se=f.useCallback(()=>{w({from:ku(new Date,30),to:new Date}),g("all"),a.invalidateQueries({queryKey:["admin-withdrawals"]})},[a]),ee=f.useCallback(k=>{c(k),u(new Date),o(!0)},[]),J=f.useCallback((k,z)=>{if(!k||k==="No configurado"){t({title:"Chave PIX no disponvel",description:"Este msico no configurou uma chave PIX",variant:"destructive"});return}r(k,`Chave PIX de ${z} copiada!`)},[r,t]),I=(k,z,ne)=>ne?s.jsx(Br,{variant:"default",className:"bg-green-600",children:"Pago"}):k==="requested"?s.jsx(Br,{variant:z?"secondary":"default",children:z?"Antecipado":"Solicitado"}):s.jsx(Br,{variant:"outline",children:k});return e?s.jsxs(s.Fragment,{children:[s.jsx(Xt,{title:"Gerenciar Saques - Admin",description:"Gerencie todos os saques solicitados pelos msicos"}),s.jsxs("div",{className:"p-6 space-y-6",children:[P&&s.jsxs("div",{className:"p-3 rounded-md border border-destructive/30 bg-destructive/10 text-destructive text-sm",children:["Erro ao carregar dados: ",String((P==null?void 0:P.message)||P)]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Gerenciar Saques"}),s.jsx("p",{className:"text-muted-foreground",children:"Gerencie todos os saques solicitados e repasses confirmados pelos msicos"})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsx(O,{onClick:()=>S(),variant:"outline",children:"Atualizar"})})]}),s.jsxs(tt,{children:[s.jsx(Qt,{children:s.jsxs(cr,{className:"flex items-center gap-2",children:[s.jsx(sm,{className:"h-5 w-5"}),"Filtros"]})}),s.jsxs(rt,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Status"}),s.jsxs("select",{value:v,onChange:k=>V(k.target.value),className:"w-full p-2 border rounded-md",children:[s.jsx("option",{value:"all",children:"Todos os Status"}),s.jsx("option",{value:"requested",children:"Solicitados"}),s.jsx("option",{value:"paid",children:"Repasses Confirmados"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Data Incio"}),s.jsxs(bn,{children:[s.jsx(jn,{asChild:!0,children:s.jsxs(O,{variant:"outline",className:le("w-full justify-start text-left font-normal",!(p!=null&&p.from)&&"text-muted-foreground"),children:[s.jsx(wn,{className:"mr-2 h-4 w-4"}),p!=null&&p.from?Ht(p.from,"dd/MM/yyyy"):s.jsx("span",{children:"Selecionar data"})]})}),s.jsx(un,{className:"w-auto p-0",align:"start",children:s.jsx(gs,{mode:"single",selected:p==null?void 0:p.from,onSelect:k=>H({from:k,to:p==null?void 0:p.to}),initialFocus:!0})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Data Fim"}),s.jsxs(bn,{children:[s.jsx(jn,{asChild:!0,children:s.jsxs(O,{variant:"outline",className:le("w-full justify-start text-left font-normal",!(p!=null&&p.to)&&"text-muted-foreground"),children:[s.jsx(wn,{className:"mr-2 h-4 w-4"}),p!=null&&p.to?Ht(p.to,"dd/MM/yyyy"):s.jsx("span",{children:"Selecionar data"})]})}),s.jsx(un,{className:"w-auto p-0",align:"start",children:s.jsx(gs,{mode:"single",selected:p==null?void 0:p.to,onSelect:k=>H({from:p==null?void 0:p.from,to:k}),initialFocus:!0})})]})]})]}),s.jsxs("div",{className:"flex items-center justify-between mt-4",children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:(p==null?void 0:p.from)&&(p==null?void 0:p.to)&&s.jsxs(s.Fragment,{children:["Perodo: ",Ht(p.from,"dd/MM/yyyy")," a ",Ht(p.to,"dd/MM/yyyy"),v!=="all"&&s.jsxs("span",{className:"ml-2",children:[" Status: ",v==="requested"?"Solicitados":"Repasses Confirmados"]})]})}),s.jsx(O,{onClick:se,variant:"outline",size:"sm",children:"Limpar Filtros"})]})]})]}),s.jsxs(tt,{children:[s.jsx(Qt,{children:s.jsxs(cr,{className:"flex items-center gap-2",children:[s.jsx(Gu,{className:"h-5 w-5"}),v==="all"?`Todos os Saques (${T.length})`:v==="requested"?`Saques Solicitados (${T.length})`:`Repasses Confirmados (${T.length})`]})}),s.jsx(rt,{children:N?s.jsx("div",{className:"text-center py-8",children:"Carregando saques..."}):T.length===0?s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:v==="all"?"Nenhum saque encontrado no perodo selecionado.":v==="requested"?"Nenhum saque solicitado encontrado no perodo selecionado.":"Nenhum repasse confirmado encontrado no perodo selecionado."}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs(ho,{children:[s.jsx(mo,{children:s.jsxs(Hr,{children:[s.jsx(mt,{children:"Msico"}),s.jsx(mt,{children:"Data do Lote"}),s.jsx(mt,{children:"Valor para Repasse"}),s.jsx(mt,{children:"Chave PIX"}),s.jsx(mt,{children:"Status"}),s.jsx(mt,{children:"Solicitado em"}),s.jsx(mt,{children:"Aes"})]})}),s.jsx(po,{children:T.map(k=>{var z,ne,Q,R,L,Z,de,_e;return s.jsxs(Hr,{children:[s.jsx(lt,{children:s.jsxs("div",{className:"space-y-1",children:[s.jsx("div",{className:"font-medium",children:((z=k.musician_profile)==null?void 0:z.display_name)||"Sem nome"}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:["@",((ne=k.musician_profile)==null?void 0:ne.username)||"sem-username"]}),((Q=k.musician_profile)==null?void 0:Q.responsible_name)&&s.jsxs("div",{className:"text-xs text-muted-foreground",children:["Responsvel: ",k.musician_profile.responsible_name]})]})}),s.jsx(lt,{children:s.jsxs("div",{className:"space-y-1",children:[s.jsx("div",{children:Tx(k.day)}),k.is_early&&s.jsxs(Br,{variant:"secondary",className:"text-xs",children:["Antecipado (-",k.early_discount_percent,"%)"]})]})}),s.jsx(lt,{children:s.jsxs("div",{className:"space-y-1",children:[s.jsx("div",{className:"font-medium text-green-600",children:Px(k.total_musician_payout)}),k.early_discount_amount>0&&s.jsxs("div",{className:"text-xs text-muted-foreground",children:["Desconto: ",Px(k.early_discount_amount)]})]})}),s.jsx(lt,{children:s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:le("flex items-center gap-2 p-2 rounded-md transition-colors",(R=k.musician_profile)!=null&&R.pix_key&&k.musician_profile.pix_key!=="No configurado"?"cursor-pointer hover:bg-muted/50 group":"cursor-not-allowed opacity-60"),onClick:()=>{var me,xe;return J((me=k.musician_profile)==null?void 0:me.pix_key,((xe=k.musician_profile)==null?void 0:xe.display_name)||"Msico")},title:(L=k.musician_profile)!=null&&L.pix_key&&k.musician_profile.pix_key!=="No configurado"?"Clique para copiar a chave PIX":"Chave PIX no configurada",children:[s.jsx(I3,{className:"h-3 w-3 flex-shrink-0"}),s.jsx("span",{className:"font-mono text-sm flex-1 min-w-0 truncate",children:((Z=k.musician_profile)==null?void 0:Z.pix_key)||"No configurado"}),((de=k.musician_profile)==null?void 0:de.pix_key)&&k.musician_profile.pix_key!=="No configurado"&&s.jsx(y_,{className:"h-3 w-3 opacity-0 group-hover:opacity-100 transition-opacity"})]}),((_e=k.musician_profile)==null?void 0:_e.responsible_whatsapp)&&s.jsxs("div",{className:"text-xs text-muted-foreground pl-5",children:["WhatsApp: ",k.musician_profile.responsible_whatsapp]})]})}),s.jsx(lt,{children:I(k.status,k.is_early,k.payout_at)}),s.jsx(lt,{children:s.jsxs("div",{className:"space-y-1",children:[s.jsx("div",{children:OY(k.requested_at||"")}),k.payout_scheduled_for&&s.jsxs("div",{className:"text-xs text-muted-foreground",children:["Agendado: ",Tx(k.payout_scheduled_for)]})]})}),s.jsx(lt,{children:s.jsx("div",{className:"flex items-center gap-2",children:k.payout_at?s.jsxs(O,{size:"sm",variant:"outline",onClick:()=>G(k.id),className:"text-orange-600 border-orange-600 hover:bg-orange-50",children:[s.jsx(Aw,{className:"h-4 w-4 mr-1"}),"Reverter"]}):s.jsxs(O,{size:"sm",onClick:()=>ee(k),className:"bg-green-600 hover:bg-green-700",children:[s.jsx(T3,{className:"h-4 w-4 mr-1"}),"Confirmar"]})})})]},k.id)})})]}),b&&s.jsx("div",{className:"flex justify-center pt-4",children:s.jsx(O,{onClick:()=>x(),disabled:_,variant:"outline",children:_?"Carregando...":"Carregar mais"})})]})})]}),s.jsx(Jr,{open:i,onOpenChange:o,children:s.jsxs(Kr,{children:[s.jsxs(Gr,{children:[s.jsx(Yr,{children:"Confirmar Repasse"}),s.jsx(Eu,{children:"Confirme que o repasse foi efetuado para o msico."})]}),l&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4 p-4 bg-muted rounded-lg",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Msico"}),s.jsx("div",{className:"font-medium",children:((D=l.musician_profile)==null?void 0:D.display_name)||"Sem nome"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Valor"}),s.jsx("div",{className:"font-medium text-green-600",children:Px(l.total_musician_payout)})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Chave PIX"}),s.jsxs("div",{className:le("font-mono text-sm p-2 rounded-md border transition-colors",(C=l.musician_profile)!=null&&C.pix_key&&l.musician_profile.pix_key!=="No configurado"?"cursor-pointer hover:bg-muted/50 group flex items-center gap-2":"cursor-not-allowed opacity-60"),onClick:()=>{var k,z;return J((k=l.musician_profile)==null?void 0:k.pix_key,((z=l.musician_profile)==null?void 0:z.display_name)||"Msico")},title:(E=l.musician_profile)!=null&&E.pix_key&&l.musician_profile.pix_key!=="No configurado"?"Clique para copiar a chave PIX":"Chave PIX no configurada",children:[s.jsx("span",{className:"flex-1",children:((A=l.musician_profile)==null?void 0:A.pix_key)||"No configurado"}),((Y=l.musician_profile)==null?void 0:Y.pix_key)&&l.musician_profile.pix_key!=="No configurado"&&s.jsx(y_,{className:"h-3 w-3 opacity-0 group-hover:opacity-100 transition-opacity"})]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Data do Lote"}),s.jsx("div",{className:"font-medium",children:Tx(l.day)})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Data da Confirmao"}),s.jsxs(bn,{children:[s.jsx(jn,{asChild:!0,children:s.jsxs(O,{variant:"outline",className:le("w-full justify-start text-left font-normal",!d&&"text-muted-foreground"),children:[s.jsx(wn,{className:"mr-2 h-4 w-4"}),d?Ht(d,"PPP",{locale:ol}):s.jsx("span",{children:"Selecionar data"})]})}),s.jsx(un,{className:"w-auto p-0",align:"start",children:s.jsx(gs,{mode:"single",selected:d,onSelect:u,initialFocus:!0})})]})]})]}),s.jsxs(pa,{children:[s.jsx(O,{variant:"outline",onClick:()=>o(!1),disabled:h,children:"Cancelar"}),s.jsx(O,{onClick:re,disabled:!d||h,className:"bg-green-600 hover:bg-green-700",children:h?"Confirmando...":"Confirmar Repasse"})]})]})})]})]}):s.jsx("div",{children:"Carregando..."})}const IY=new d5,FY=()=>s.jsx(p5,{client:IY,children:s.jsx(EF,{attribute:"class",defaultTheme:"system",enableSystem:!0,children:s.jsxs(vE,{children:[s.jsx(SF,{}),s.jsx(iL,{}),s.jsxs(_6,{children:[s.jsxs(p6,{children:[s.jsx(bt,{path:"/",element:s.jsx(FB,{})}),s.jsx(bt,{path:"/auth",element:s.jsx(qB,{})}),s.jsx(bt,{path:"/auth/reset",element:s.jsx(vY,{})}),s.jsx(bt,{path:"/requests",element:s.jsx(x7,{})}),s.jsx(bt,{path:"/scan",element:s.jsx(y7,{})}),s.jsx(bt,{path:"/m/:mid",element:s.jsx(nM,{})}),s.jsx(bt,{path:"/m/:mid/agenda",element:s.jsx(xH,{})}),s.jsx(bt,{path:"/na",element:s.jsx(rH,{})}),s.jsx(bt,{path:"/blocked",element:s.jsx(nH,{})}),s.jsxs(bt,{path:"/musician",element:s.jsx(FK,{}),children:[s.jsx(bt,{index:!0,element:s.jsx(Yy,{to:"/musician/catalogo",replace:!0})}),s.jsx(bt,{path:"qr",element:s.jsx(LK,{})}),s.jsx(bt,{path:"catalogo",element:s.jsx(dY,{})}),s.jsx(bt,{path:"pedidos",element:s.jsx(fY,{})}),s.jsx(bt,{path:"agenda",element:s.jsx(gY,{})}),s.jsx(bt,{path:"extrato",element:s.jsx(pY,{})}),s.jsx(bt,{path:"perfis",element:s.jsx(xY,{})}),s.jsx(bt,{path:"seguindo",element:s.jsx(yY,{})})]}),s.jsx(bt,{path:"/musician/profile",element:s.jsx(DK,{})}),s.jsx(bt,{path:"/conexoes",element:s.jsx(wY,{})}),s.jsx(bt,{path:":username",element:s.jsx(Eo,{})}),s.jsx(bt,{path:":username/:section",element:s.jsx(Eo,{})}),s.jsx(bt,{path:":username/pedir-musica",element:s.jsx(Eo,{})}),s.jsx(bt,{path:":username/agenda",element:s.jsx(Eo,{})}),s.jsx(bt,{path:":username/fotos",element:s.jsx(Eo,{})}),s.jsx(bt,{path:":username/contratar",element:s.jsx(Eo,{})}),s.jsx(bt,{path:":username/contribuir",element:s.jsx(Eo,{})}),s.jsx(bt,{path:"/admin/login",element:s.jsx(bY,{})}),s.jsxs(bt,{path:"/admin",element:s.jsx(SY,{}),children:[s.jsx(bt,{index:!0,element:s.jsx(Yy,{to:"/admin/dashboard",replace:!0})}),s.jsx(bt,{path:"dashboard",element:s.jsx(PY,{})}),s.jsx(bt,{path:"users",element:s.jsx(TY,{})}),s.jsx(bt,{path:"fees",element:s.jsx(RY,{})}),s.jsx(bt,{path:"early-fees",element:s.jsx(MY,{})}),s.jsx(bt,{path:"withdrawals",element:s.jsx(DY,{})})]}),s.jsx(bt,{path:"*",element:s.jsx(yH,{})})]}),s.jsx(vH,{})]})]})})});Gk(document.getElementById("root")).render(s.jsx(FY,{}));export{bl as _,xs as c,OS as g};
