var iO=Object.defineProperty;var l1=e=>{throw TypeError(e)};var oO=(e,t,r)=>t in e?iO(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var mh=(e,t,r)=>oO(e,typeof t!="symbol"?t+"":t,r),Nv=(e,t,r)=>t.has(e)||l1("Cannot "+r);var K=(e,t,r)=>(Nv(e,t,"read from private field"),r?r.call(e):t.get(e)),Qe=(e,t,r)=>t.has(e)?l1("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),Me=(e,t,r,n)=>(Nv(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),mt=(e,t,r)=>(Nv(e,t,"access private method"),r);var ph=(e,t,r,n)=>({set _(a){Me(e,t,a,r)},get _(){return K(e,t,n)}});function lO(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var ys=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function $S(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function cO(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}),r}var zS={exports:{}},Op={},US={exports:{}},jt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sf=Symbol.for("react.element"),dO=Symbol.for("react.portal"),uO=Symbol.for("react.fragment"),fO=Symbol.for("react.strict_mode"),hO=Symbol.for("react.profiler"),mO=Symbol.for("react.provider"),pO=Symbol.for("react.context"),gO=Symbol.for("react.forward_ref"),vO=Symbol.for("react.suspense"),xO=Symbol.for("react.memo"),yO=Symbol.for("react.lazy"),c1=Symbol.iterator;function wO(e){return e===null||typeof e!="object"?null:(e=c1&&e[c1]||e["@@iterator"],typeof e=="function"?e:null)}var BS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},qS=Object.assign,VS={};function cd(e,t,r){this.props=e,this.context=t,this.refs=VS,this.updater=r||BS}cd.prototype.isReactComponent={};cd.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};cd.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function WS(){}WS.prototype=cd.prototype;function W0(e,t,r){this.props=e,this.context=t,this.refs=VS,this.updater=r||BS}var H0=W0.prototype=new WS;H0.constructor=W0;qS(H0,cd.prototype);H0.isPureReactComponent=!0;var d1=Array.isArray,HS=Object.prototype.hasOwnProperty,K0={current:null},KS={key:!0,ref:!0,__self:!0,__source:!0};function GS(e,t,r){var n,a={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)HS.call(t,n)&&!KS.hasOwnProperty(n)&&(a[n]=t[n]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];a.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:Sf,type:e,key:i,ref:o,props:a,_owner:K0.current}}function bO(e,t){return{$$typeof:Sf,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function G0(e){return typeof e=="object"&&e!==null&&e.$$typeof===Sf}function jO(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var u1=/\/+/g;function Sv(e,t){return typeof e=="object"&&e!==null&&e.key!=null?jO(""+e.key):t.toString(36)}function Zh(e,t,r,n,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Sf:case dO:o=!0}}if(o)return o=e,a=a(o),e=n===""?"."+Sv(o,0):n,d1(a)?(r="",e!=null&&(r=e.replace(u1,"$&/")+"/"),Zh(a,t,r,"",function(d){return d})):a!=null&&(G0(a)&&(a=bO(a,r+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(u1,"$&/")+"/")+e)),t.push(a)),1;if(o=0,n=n===""?".":n+":",d1(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+Sv(i,l);o+=Zh(i,t,r,c,a)}else if(c=wO(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+Sv(i,l++),o+=Zh(i,t,r,c,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function gh(e,t,r){if(e==null)return e;var n=[],a=0;return Zh(e,n,"","",function(i){return t.call(r,i,a++)}),n}function _O(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Sn={current:null},Jh={transition:null},NO={ReactCurrentDispatcher:Sn,ReactCurrentBatchConfig:Jh,ReactCurrentOwner:K0};function YS(){throw Error("act(...) is not supported in production builds of React.")}jt.Children={map:gh,forEach:function(e,t,r){gh(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return gh(e,function(){t++}),t},toArray:function(e){return gh(e,function(t){return t})||[]},only:function(e){if(!G0(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};jt.Component=cd;jt.Fragment=uO;jt.Profiler=hO;jt.PureComponent=W0;jt.StrictMode=fO;jt.Suspense=vO;jt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=NO;jt.act=YS;jt.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=qS({},e.props),a=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=K0.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)HS.call(t,c)&&!KS.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];n.children=l}return{$$typeof:Sf,type:e.type,key:a,ref:i,props:n,_owner:o}};jt.createContext=function(e){return e={$$typeof:pO,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:mO,_context:e},e.Consumer=e};jt.createElement=GS;jt.createFactory=function(e){var t=GS.bind(null,e);return t.type=e,t};jt.createRef=function(){return{current:null}};jt.forwardRef=function(e){return{$$typeof:gO,render:e}};jt.isValidElement=G0;jt.lazy=function(e){return{$$typeof:yO,_payload:{_status:-1,_result:e},_init:_O}};jt.memo=function(e,t){return{$$typeof:xO,type:e,compare:t===void 0?null:t}};jt.startTransition=function(e){var t=Jh.transition;Jh.transition={};try{e()}finally{Jh.transition=t}};jt.unstable_act=YS;jt.useCallback=function(e,t){return Sn.current.useCallback(e,t)};jt.useContext=function(e){return Sn.current.useContext(e)};jt.useDebugValue=function(){};jt.useDeferredValue=function(e){return Sn.current.useDeferredValue(e)};jt.useEffect=function(e,t){return Sn.current.useEffect(e,t)};jt.useId=function(){return Sn.current.useId()};jt.useImperativeHandle=function(e,t,r){return Sn.current.useImperativeHandle(e,t,r)};jt.useInsertionEffect=function(e,t){return Sn.current.useInsertionEffect(e,t)};jt.useLayoutEffect=function(e,t){return Sn.current.useLayoutEffect(e,t)};jt.useMemo=function(e,t){return Sn.current.useMemo(e,t)};jt.useReducer=function(e,t,r){return Sn.current.useReducer(e,t,r)};jt.useRef=function(e){return Sn.current.useRef(e)};jt.useState=function(e){return Sn.current.useState(e)};jt.useSyncExternalStore=function(e,t,r){return Sn.current.useSyncExternalStore(e,t,r)};jt.useTransition=function(){return Sn.current.useTransition()};jt.version="18.3.1";US.exports=jt;var f=US.exports;const he=$S(f),Y0=lO({__proto__:null,default:he},[f]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SO=f,CO=Symbol.for("react.element"),kO=Symbol.for("react.fragment"),EO=Object.prototype.hasOwnProperty,PO=SO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,TO={key:!0,ref:!0,__self:!0,__source:!0};function QS(e,t,r){var n,a={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)EO.call(t,n)&&!TO.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:CO,type:e,key:i,ref:o,props:a,_owner:PO.current}}Op.Fragment=kO;Op.jsx=QS;Op.jsxs=QS;zS.exports=Op;var s=zS.exports,XS={exports:{}},ss={},ZS={exports:{}},JS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(I,D){var C=I.length;I.push(D);e:for(;0<C;){var E=C-1>>>1,A=I[E];if(0<a(A,D))I[E]=D,I[C]=A,C=E;else break e}}function r(I){return I.length===0?null:I[0]}function n(I){if(I.length===0)return null;var D=I[0],C=I.pop();if(C!==D){I[0]=C;e:for(var E=0,A=I.length,Y=A>>>1;E<Y;){var k=2*(E+1)-1,z=I[k],ne=k+1,Q=I[ne];if(0>a(z,C))ne<A&&0>a(Q,z)?(I[E]=Q,I[ne]=C,E=ne):(I[E]=z,I[k]=C,E=k);else if(ne<A&&0>a(Q,C))I[E]=Q,I[ne]=C,E=ne;else break e}}return D}function a(I,D){var C=I.sortIndex-D.sortIndex;return C!==0?C:I.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,h=null,m=3,p=!1,w=!1,v=!1,g=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(I){for(var D=r(d);D!==null;){if(D.callback===null)n(d);else if(D.startTime<=I)n(d),D.sortIndex=D.expirationTime,t(c,D);else break;D=r(d)}}function _(I){if(v=!1,b(I),!w)if(r(c)!==null)w=!0,ee(N);else{var D=r(d);D!==null&&J(_,D.startTime-I)}}function N(I,D){w=!1,v&&(v=!1,y(T),T=-1),p=!0;var C=m;try{for(b(D),h=r(c);h!==null&&(!(h.expirationTime>D)||I&&!re());){var E=h.callback;if(typeof E=="function"){h.callback=null,m=h.priorityLevel;var A=E(h.expirationTime<=D);D=e.unstable_now(),typeof A=="function"?h.callback=A:h===r(c)&&n(c),b(D)}else n(c);h=r(c)}if(h!==null)var Y=!0;else{var k=r(d);k!==null&&J(_,k.startTime-D),Y=!1}return Y}finally{h=null,m=C,p=!1}}var P=!1,S=null,T=-1,U=5,q=-1;function re(){return!(e.unstable_now()-q<U)}function G(){if(S!==null){var I=e.unstable_now();q=I;var D=!0;try{D=S(!0,I)}finally{D?H():(P=!1,S=null)}}else P=!1}var H;if(typeof x=="function")H=function(){x(G)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,se=V.port2;V.port1.onmessage=G,H=function(){se.postMessage(null)}}else H=function(){g(G,0)};function ee(I){S=I,P||(P=!0,H())}function J(I,D){T=g(function(){I(e.unstable_now())},D)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(I){I.callback=null},e.unstable_continueExecution=function(){w||p||(w=!0,ee(N))},e.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<I?Math.floor(1e3/I):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(I){switch(m){case 1:case 2:case 3:var D=3;break;default:D=m}var C=m;m=D;try{return I()}finally{m=C}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(I,D){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var C=m;m=I;try{return D()}finally{m=C}},e.unstable_scheduleCallback=function(I,D,C){var E=e.unstable_now();switch(typeof C=="object"&&C!==null?(C=C.delay,C=typeof C=="number"&&0<C?E+C:E):C=E,I){case 1:var A=-1;break;case 2:A=250;break;case 5:A=1073741823;break;case 4:A=1e4;break;default:A=5e3}return A=C+A,I={id:u++,callback:D,priorityLevel:I,startTime:C,expirationTime:A,sortIndex:-1},C>E?(I.sortIndex=C,t(d,I),r(c)===null&&I===r(d)&&(v?(y(T),T=-1):v=!0,J(_,C-E))):(I.sortIndex=A,t(c,I),w||p||(w=!0,ee(N))),I},e.unstable_shouldYield=re,e.unstable_wrapCallback=function(I){var D=m;return function(){var C=m;m=D;try{return I.apply(this,arguments)}finally{m=C}}}})(JS);ZS.exports=JS;var RO=ZS.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MO=f,ts=RO;function je(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var eC=new Set,Lu={};function yl(e,t){Bc(e,t),Bc(e+"Capture",t)}function Bc(e,t){for(Lu[e]=t,e=0;e<t.length;e++)eC.add(t[e])}var Xa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vx=Object.prototype.hasOwnProperty,AO=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f1={},h1={};function OO(e){return Vx.call(h1,e)?!0:Vx.call(f1,e)?!1:AO.test(e)?h1[e]=!0:(f1[e]=!0,!1)}function DO(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function IO(e,t,r,n){if(t===null||typeof t>"u"||DO(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Cn(e,t,r,n,a,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var tn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){tn[e]=new Cn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];tn[t]=new Cn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){tn[e]=new Cn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){tn[e]=new Cn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){tn[e]=new Cn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){tn[e]=new Cn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){tn[e]=new Cn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){tn[e]=new Cn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){tn[e]=new Cn(e,5,!1,e.toLowerCase(),null,!1,!1)});var Q0=/[\-:]([a-z])/g;function X0(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Q0,X0);tn[t]=new Cn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Q0,X0);tn[t]=new Cn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Q0,X0);tn[t]=new Cn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){tn[e]=new Cn(e,1,!1,e.toLowerCase(),null,!1,!1)});tn.xlinkHref=new Cn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){tn[e]=new Cn(e,1,!1,e.toLowerCase(),null,!0,!0)});function Z0(e,t,r,n){var a=tn.hasOwnProperty(t)?tn[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(IO(t,r,a,n)&&(r=null),n||a===null?OO(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var oi=MO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,vh=Symbol.for("react.element"),sc=Symbol.for("react.portal"),ac=Symbol.for("react.fragment"),J0=Symbol.for("react.strict_mode"),Wx=Symbol.for("react.profiler"),tC=Symbol.for("react.provider"),rC=Symbol.for("react.context"),ew=Symbol.for("react.forward_ref"),Hx=Symbol.for("react.suspense"),Kx=Symbol.for("react.suspense_list"),tw=Symbol.for("react.memo"),wi=Symbol.for("react.lazy"),nC=Symbol.for("react.offscreen"),m1=Symbol.iterator;function Wd(e){return e===null||typeof e!="object"?null:(e=m1&&e[m1]||e["@@iterator"],typeof e=="function"?e:null)}var pr=Object.assign,Cv;function au(e){if(Cv===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Cv=t&&t[1]||""}return`
`+Cv+e}var kv=!1;function Ev(e,t){if(!e||kv)return"";kv=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var n=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){n=d}e.call(t.prototype)}else{try{throw Error()}catch(d){n=d}e()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var a=d.stack.split(`
`),i=n.stack.split(`
`),o=a.length-1,l=i.length-1;1<=o&&0<=l&&a[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==i[l]){var c=`
`+a[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{kv=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?au(e):""}function FO(e){switch(e.tag){case 5:return au(e.type);case 16:return au("Lazy");case 13:return au("Suspense");case 19:return au("SuspenseList");case 0:case 2:case 15:return e=Ev(e.type,!1),e;case 11:return e=Ev(e.type.render,!1),e;case 1:return e=Ev(e.type,!0),e;default:return""}}function Gx(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ac:return"Fragment";case sc:return"Portal";case Wx:return"Profiler";case J0:return"StrictMode";case Hx:return"Suspense";case Kx:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case rC:return(e.displayName||"Context")+".Consumer";case tC:return(e._context.displayName||"Context")+".Provider";case ew:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case tw:return t=e.displayName||null,t!==null?t:Gx(e.type)||"Memo";case wi:t=e._payload,e=e._init;try{return Gx(e(t))}catch{}}return null}function LO(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Gx(t);case 8:return t===J0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ro(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function sC(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function $O(e){var t=sC(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function xh(e){e._valueTracker||(e._valueTracker=$O(e))}function aC(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=sC(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function jm(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Yx(e,t){var r=t.checked;return pr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function p1(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=ro(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function iC(e,t){t=t.checked,t!=null&&Z0(e,"checked",t,!1)}function Qx(e,t){iC(e,t);var r=ro(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Xx(e,t.type,r):t.hasOwnProperty("defaultValue")&&Xx(e,t.type,ro(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function g1(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Xx(e,t,r){(t!=="number"||jm(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var iu=Array.isArray;function xc(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+ro(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function Zx(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(je(91));return pr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function v1(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(je(92));if(iu(r)){if(1<r.length)throw Error(je(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:ro(r)}}function oC(e,t){var r=ro(t.value),n=ro(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function x1(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function lC(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Jx(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?lC(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var yh,cC=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(yh=yh||document.createElement("div"),yh.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=yh.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function $u(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var bu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},zO=["Webkit","ms","Moz","O"];Object.keys(bu).forEach(function(e){zO.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),bu[t]=bu[e]})});function dC(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||bu.hasOwnProperty(e)&&bu[e]?(""+t).trim():t+"px"}function uC(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=dC(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var UO=pr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ey(e,t){if(t){if(UO[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(je(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(je(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(je(61))}if(t.style!=null&&typeof t.style!="object")throw Error(je(62))}}function ty(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ry=null;function rw(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ny=null,yc=null,wc=null;function y1(e){if(e=Ef(e)){if(typeof ny!="function")throw Error(je(280));var t=e.stateNode;t&&(t=$p(t),ny(e.stateNode,e.type,t))}}function fC(e){yc?wc?wc.push(e):wc=[e]:yc=e}function hC(){if(yc){var e=yc,t=wc;if(wc=yc=null,y1(e),t)for(e=0;e<t.length;e++)y1(t[e])}}function mC(e,t){return e(t)}function pC(){}var Pv=!1;function gC(e,t,r){if(Pv)return e(t,r);Pv=!0;try{return mC(e,t,r)}finally{Pv=!1,(yc!==null||wc!==null)&&(pC(),hC())}}function zu(e,t){var r=e.stateNode;if(r===null)return null;var n=$p(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(je(231,t,typeof r));return r}var sy=!1;if(Xa)try{var Hd={};Object.defineProperty(Hd,"passive",{get:function(){sy=!0}}),window.addEventListener("test",Hd,Hd),window.removeEventListener("test",Hd,Hd)}catch{sy=!1}function BO(e,t,r,n,a,i,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(r,d)}catch(u){this.onError(u)}}var ju=!1,_m=null,Nm=!1,ay=null,qO={onError:function(e){ju=!0,_m=e}};function VO(e,t,r,n,a,i,o,l,c){ju=!1,_m=null,BO.apply(qO,arguments)}function WO(e,t,r,n,a,i,o,l,c){if(VO.apply(this,arguments),ju){if(ju){var d=_m;ju=!1,_m=null}else throw Error(je(198));Nm||(Nm=!0,ay=d)}}function wl(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function vC(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function w1(e){if(wl(e)!==e)throw Error(je(188))}function HO(e){var t=e.alternate;if(!t){if(t=wl(e),t===null)throw Error(je(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return w1(a),e;if(i===n)return w1(a),t;i=i.sibling}throw Error(je(188))}if(r.return!==n.return)r=a,n=i;else{for(var o=!1,l=a.child;l;){if(l===r){o=!0,r=a,n=i;break}if(l===n){o=!0,n=a,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=a;break}if(l===n){o=!0,n=i,r=a;break}l=l.sibling}if(!o)throw Error(je(189))}}if(r.alternate!==n)throw Error(je(190))}if(r.tag!==3)throw Error(je(188));return r.stateNode.current===r?e:t}function xC(e){return e=HO(e),e!==null?yC(e):null}function yC(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=yC(e);if(t!==null)return t;e=e.sibling}return null}var wC=ts.unstable_scheduleCallback,b1=ts.unstable_cancelCallback,KO=ts.unstable_shouldYield,GO=ts.unstable_requestPaint,_r=ts.unstable_now,YO=ts.unstable_getCurrentPriorityLevel,nw=ts.unstable_ImmediatePriority,bC=ts.unstable_UserBlockingPriority,Sm=ts.unstable_NormalPriority,QO=ts.unstable_LowPriority,jC=ts.unstable_IdlePriority,Dp=null,fa=null;function XO(e){if(fa&&typeof fa.onCommitFiberRoot=="function")try{fa.onCommitFiberRoot(Dp,e,void 0,(e.current.flags&128)===128)}catch{}}var Bs=Math.clz32?Math.clz32:eD,ZO=Math.log,JO=Math.LN2;function eD(e){return e>>>=0,e===0?32:31-(ZO(e)/JO|0)|0}var wh=64,bh=4194304;function ou(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Cm(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~a;l!==0?n=ou(l):(i&=o,i!==0&&(n=ou(i)))}else o=r&~a,o!==0?n=ou(o):i!==0&&(n=ou(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Bs(t),a=1<<r,n|=e[r],t&=~a;return n}function tD(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function rD(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Bs(i),l=1<<o,c=a[o];c===-1?(!(l&r)||l&n)&&(a[o]=tD(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function iy(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function _C(){var e=wh;return wh<<=1,!(wh&4194240)&&(wh=64),e}function Tv(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Cf(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Bs(t),e[t]=r}function nD(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-Bs(r),i=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~i}}function sw(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Bs(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var Bt=0;function NC(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var SC,aw,CC,kC,EC,oy=!1,jh=[],Ui=null,Bi=null,qi=null,Uu=new Map,Bu=new Map,_i=[],sD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function j1(e,t){switch(e){case"focusin":case"focusout":Ui=null;break;case"dragenter":case"dragleave":Bi=null;break;case"mouseover":case"mouseout":qi=null;break;case"pointerover":case"pointerout":Uu.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bu.delete(t.pointerId)}}function Kd(e,t,r,n,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},t!==null&&(t=Ef(t),t!==null&&aw(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function aD(e,t,r,n,a){switch(t){case"focusin":return Ui=Kd(Ui,e,t,r,n,a),!0;case"dragenter":return Bi=Kd(Bi,e,t,r,n,a),!0;case"mouseover":return qi=Kd(qi,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return Uu.set(i,Kd(Uu.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,Bu.set(i,Kd(Bu.get(i)||null,e,t,r,n,a)),!0}return!1}function PC(e){var t=Fo(e.target);if(t!==null){var r=wl(t);if(r!==null){if(t=r.tag,t===13){if(t=vC(r),t!==null){e.blockedOn=t,EC(e.priority,function(){CC(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function em(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=ly(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);ry=n,r.target.dispatchEvent(n),ry=null}else return t=Ef(r),t!==null&&aw(t),e.blockedOn=r,!1;t.shift()}return!0}function _1(e,t,r){em(e)&&r.delete(t)}function iD(){oy=!1,Ui!==null&&em(Ui)&&(Ui=null),Bi!==null&&em(Bi)&&(Bi=null),qi!==null&&em(qi)&&(qi=null),Uu.forEach(_1),Bu.forEach(_1)}function Gd(e,t){e.blockedOn===t&&(e.blockedOn=null,oy||(oy=!0,ts.unstable_scheduleCallback(ts.unstable_NormalPriority,iD)))}function qu(e){function t(a){return Gd(a,e)}if(0<jh.length){Gd(jh[0],e);for(var r=1;r<jh.length;r++){var n=jh[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Ui!==null&&Gd(Ui,e),Bi!==null&&Gd(Bi,e),qi!==null&&Gd(qi,e),Uu.forEach(t),Bu.forEach(t),r=0;r<_i.length;r++)n=_i[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<_i.length&&(r=_i[0],r.blockedOn===null);)PC(r),r.blockedOn===null&&_i.shift()}var bc=oi.ReactCurrentBatchConfig,km=!0;function oD(e,t,r,n){var a=Bt,i=bc.transition;bc.transition=null;try{Bt=1,iw(e,t,r,n)}finally{Bt=a,bc.transition=i}}function lD(e,t,r,n){var a=Bt,i=bc.transition;bc.transition=null;try{Bt=4,iw(e,t,r,n)}finally{Bt=a,bc.transition=i}}function iw(e,t,r,n){if(km){var a=ly(e,t,r,n);if(a===null)zv(e,t,n,Em,r),j1(e,n);else if(aD(a,e,t,r,n))n.stopPropagation();else if(j1(e,n),t&4&&-1<sD.indexOf(e)){for(;a!==null;){var i=Ef(a);if(i!==null&&SC(i),i=ly(e,t,r,n),i===null&&zv(e,t,n,Em,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else zv(e,t,n,null,r)}}var Em=null;function ly(e,t,r,n){if(Em=null,e=rw(n),e=Fo(e),e!==null)if(t=wl(e),t===null)e=null;else if(r=t.tag,r===13){if(e=vC(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Em=e,null}function TC(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(YO()){case nw:return 1;case bC:return 4;case Sm:case QO:return 16;case jC:return 536870912;default:return 16}default:return 16}}var Ii=null,ow=null,tm=null;function RC(){if(tm)return tm;var e,t=ow,r=t.length,n,a="value"in Ii?Ii.value:Ii.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===a[i-n];n++);return tm=a.slice(e,1<n?1-n:void 0)}function rm(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function _h(){return!0}function N1(){return!1}function as(e){function t(r,n,a,i,o){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?_h:N1,this.isPropagationStopped=N1,this}return pr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=_h)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=_h)},persist:function(){},isPersistent:_h}),t}var dd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lw=as(dd),kf=pr({},dd,{view:0,detail:0}),cD=as(kf),Rv,Mv,Yd,Ip=pr({},kf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cw,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Yd&&(Yd&&e.type==="mousemove"?(Rv=e.screenX-Yd.screenX,Mv=e.screenY-Yd.screenY):Mv=Rv=0,Yd=e),Rv)},movementY:function(e){return"movementY"in e?e.movementY:Mv}}),S1=as(Ip),dD=pr({},Ip,{dataTransfer:0}),uD=as(dD),fD=pr({},kf,{relatedTarget:0}),Av=as(fD),hD=pr({},dd,{animationName:0,elapsedTime:0,pseudoElement:0}),mD=as(hD),pD=pr({},dd,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),gD=as(pD),vD=pr({},dd,{data:0}),C1=as(vD),xD={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bD(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=wD[e])?!!t[e]:!1}function cw(){return bD}var jD=pr({},kf,{key:function(e){if(e.key){var t=xD[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=rm(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?yD[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cw,charCode:function(e){return e.type==="keypress"?rm(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?rm(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),_D=as(jD),ND=pr({},Ip,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),k1=as(ND),SD=pr({},kf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cw}),CD=as(SD),kD=pr({},dd,{propertyName:0,elapsedTime:0,pseudoElement:0}),ED=as(kD),PD=pr({},Ip,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),TD=as(PD),RD=[9,13,27,32],dw=Xa&&"CompositionEvent"in window,_u=null;Xa&&"documentMode"in document&&(_u=document.documentMode);var MD=Xa&&"TextEvent"in window&&!_u,MC=Xa&&(!dw||_u&&8<_u&&11>=_u),E1=" ",P1=!1;function AC(e,t){switch(e){case"keyup":return RD.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function OC(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ic=!1;function AD(e,t){switch(e){case"compositionend":return OC(t);case"keypress":return t.which!==32?null:(P1=!0,E1);case"textInput":return e=t.data,e===E1&&P1?null:e;default:return null}}function OD(e,t){if(ic)return e==="compositionend"||!dw&&AC(e,t)?(e=RC(),tm=ow=Ii=null,ic=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return MC&&t.locale!=="ko"?null:t.data;default:return null}}var DD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function T1(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!DD[e.type]:t==="textarea"}function DC(e,t,r,n){fC(n),t=Pm(t,"onChange"),0<t.length&&(r=new lw("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Nu=null,Vu=null;function ID(e){HC(e,0)}function Fp(e){var t=cc(e);if(aC(t))return e}function FD(e,t){if(e==="change")return t}var IC=!1;if(Xa){var Ov;if(Xa){var Dv="oninput"in document;if(!Dv){var R1=document.createElement("div");R1.setAttribute("oninput","return;"),Dv=typeof R1.oninput=="function"}Ov=Dv}else Ov=!1;IC=Ov&&(!document.documentMode||9<document.documentMode)}function M1(){Nu&&(Nu.detachEvent("onpropertychange",FC),Vu=Nu=null)}function FC(e){if(e.propertyName==="value"&&Fp(Vu)){var t=[];DC(t,Vu,e,rw(e)),gC(ID,t)}}function LD(e,t,r){e==="focusin"?(M1(),Nu=t,Vu=r,Nu.attachEvent("onpropertychange",FC)):e==="focusout"&&M1()}function $D(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Fp(Vu)}function zD(e,t){if(e==="click")return Fp(t)}function UD(e,t){if(e==="input"||e==="change")return Fp(t)}function BD(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Vs=typeof Object.is=="function"?Object.is:BD;function Wu(e,t){if(Vs(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!Vx.call(t,a)||!Vs(e[a],t[a]))return!1}return!0}function A1(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function O1(e,t){var r=A1(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=A1(r)}}function LC(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?LC(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function $C(){for(var e=window,t=jm();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=jm(e.document)}return t}function uw(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function qD(e){var t=$C(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&LC(r.ownerDocument.documentElement,r)){if(n!==null&&uw(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!e.extend&&i>n&&(a=n,n=i,i=a),a=O1(r,i);var o=O1(r,n);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var VD=Xa&&"documentMode"in document&&11>=document.documentMode,oc=null,cy=null,Su=null,dy=!1;function D1(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;dy||oc==null||oc!==jm(n)||(n=oc,"selectionStart"in n&&uw(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Su&&Wu(Su,n)||(Su=n,n=Pm(cy,"onSelect"),0<n.length&&(t=new lw("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=oc)))}function Nh(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var lc={animationend:Nh("Animation","AnimationEnd"),animationiteration:Nh("Animation","AnimationIteration"),animationstart:Nh("Animation","AnimationStart"),transitionend:Nh("Transition","TransitionEnd")},Iv={},zC={};Xa&&(zC=document.createElement("div").style,"AnimationEvent"in window||(delete lc.animationend.animation,delete lc.animationiteration.animation,delete lc.animationstart.animation),"TransitionEvent"in window||delete lc.transitionend.transition);function Lp(e){if(Iv[e])return Iv[e];if(!lc[e])return e;var t=lc[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in zC)return Iv[e]=t[r];return e}var UC=Lp("animationend"),BC=Lp("animationiteration"),qC=Lp("animationstart"),VC=Lp("transitionend"),WC=new Map,I1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function vo(e,t){WC.set(e,t),yl(t,[e])}for(var Fv=0;Fv<I1.length;Fv++){var Lv=I1[Fv],WD=Lv.toLowerCase(),HD=Lv[0].toUpperCase()+Lv.slice(1);vo(WD,"on"+HD)}vo(UC,"onAnimationEnd");vo(BC,"onAnimationIteration");vo(qC,"onAnimationStart");vo("dblclick","onDoubleClick");vo("focusin","onFocus");vo("focusout","onBlur");vo(VC,"onTransitionEnd");Bc("onMouseEnter",["mouseout","mouseover"]);Bc("onMouseLeave",["mouseout","mouseover"]);Bc("onPointerEnter",["pointerout","pointerover"]);Bc("onPointerLeave",["pointerout","pointerover"]);yl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));yl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));yl("onBeforeInput",["compositionend","keypress","textInput","paste"]);yl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));yl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));yl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),KD=new Set("cancel close invalid load scroll toggle".split(" ").concat(lu));function F1(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,WO(n,t,void 0,e),e.currentTarget=null}function HC(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==i&&a.isPropagationStopped())break e;F1(a,l,d),i=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==i&&a.isPropagationStopped())break e;F1(a,l,d),i=c}}}if(Nm)throw e=ay,Nm=!1,ay=null,e}function rr(e,t){var r=t[py];r===void 0&&(r=t[py]=new Set);var n=e+"__bubble";r.has(n)||(KC(t,e,2,!1),r.add(n))}function $v(e,t,r){var n=0;t&&(n|=4),KC(r,e,n,t)}var Sh="_reactListening"+Math.random().toString(36).slice(2);function Hu(e){if(!e[Sh]){e[Sh]=!0,eC.forEach(function(r){r!=="selectionchange"&&(KD.has(r)||$v(r,!1,e),$v(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Sh]||(t[Sh]=!0,$v("selectionchange",!1,t))}}function KC(e,t,r,n){switch(TC(t)){case 1:var a=oD;break;case 4:a=lD;break;default:a=iw}r=a.bind(null,t,r,e),a=void 0,!sy||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function zv(e,t,r,n,a){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=Fo(l),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}l=l.parentNode}}n=n.return}gC(function(){var d=i,u=rw(r),h=[];e:{var m=WC.get(e);if(m!==void 0){var p=lw,w=e;switch(e){case"keypress":if(rm(r)===0)break e;case"keydown":case"keyup":p=_D;break;case"focusin":w="focus",p=Av;break;case"focusout":w="blur",p=Av;break;case"beforeblur":case"afterblur":p=Av;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=S1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=uD;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=CD;break;case UC:case BC:case qC:p=mD;break;case VC:p=ED;break;case"scroll":p=cD;break;case"wheel":p=TD;break;case"copy":case"cut":case"paste":p=gD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=k1}var v=(t&4)!==0,g=!v&&e==="scroll",y=v?m!==null?m+"Capture":null:m;v=[];for(var x=d,b;x!==null;){b=x;var _=b.stateNode;if(b.tag===5&&_!==null&&(b=_,y!==null&&(_=zu(x,y),_!=null&&v.push(Ku(x,_,b)))),g)break;x=x.return}0<v.length&&(m=new p(m,w,null,r,u),h.push({event:m,listeners:v}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",m&&r!==ry&&(w=r.relatedTarget||r.fromElement)&&(Fo(w)||w[Za]))break e;if((p||m)&&(m=u.window===u?u:(m=u.ownerDocument)?m.defaultView||m.parentWindow:window,p?(w=r.relatedTarget||r.toElement,p=d,w=w?Fo(w):null,w!==null&&(g=wl(w),w!==g||w.tag!==5&&w.tag!==6)&&(w=null)):(p=null,w=d),p!==w)){if(v=S1,_="onMouseLeave",y="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(v=k1,_="onPointerLeave",y="onPointerEnter",x="pointer"),g=p==null?m:cc(p),b=w==null?m:cc(w),m=new v(_,x+"leave",p,r,u),m.target=g,m.relatedTarget=b,_=null,Fo(u)===d&&(v=new v(y,x+"enter",w,r,u),v.target=b,v.relatedTarget=g,_=v),g=_,p&&w)t:{for(v=p,y=w,x=0,b=v;b;b=Ll(b))x++;for(b=0,_=y;_;_=Ll(_))b++;for(;0<x-b;)v=Ll(v),x--;for(;0<b-x;)y=Ll(y),b--;for(;x--;){if(v===y||y!==null&&v===y.alternate)break t;v=Ll(v),y=Ll(y)}v=null}else v=null;p!==null&&L1(h,m,p,v,!1),w!==null&&g!==null&&L1(h,g,w,v,!0)}}e:{if(m=d?cc(d):window,p=m.nodeName&&m.nodeName.toLowerCase(),p==="select"||p==="input"&&m.type==="file")var N=FD;else if(T1(m))if(IC)N=UD;else{N=$D;var P=LD}else(p=m.nodeName)&&p.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(N=zD);if(N&&(N=N(e,d))){DC(h,N,r,u);break e}P&&P(e,m,d),e==="focusout"&&(P=m._wrapperState)&&P.controlled&&m.type==="number"&&Xx(m,"number",m.value)}switch(P=d?cc(d):window,e){case"focusin":(T1(P)||P.contentEditable==="true")&&(oc=P,cy=d,Su=null);break;case"focusout":Su=cy=oc=null;break;case"mousedown":dy=!0;break;case"contextmenu":case"mouseup":case"dragend":dy=!1,D1(h,r,u);break;case"selectionchange":if(VD)break;case"keydown":case"keyup":D1(h,r,u)}var S;if(dw)e:{switch(e){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else ic?AC(e,r)&&(T="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(T="onCompositionStart");T&&(MC&&r.locale!=="ko"&&(ic||T!=="onCompositionStart"?T==="onCompositionEnd"&&ic&&(S=RC()):(Ii=u,ow="value"in Ii?Ii.value:Ii.textContent,ic=!0)),P=Pm(d,T),0<P.length&&(T=new C1(T,e,null,r,u),h.push({event:T,listeners:P}),S?T.data=S:(S=OC(r),S!==null&&(T.data=S)))),(S=MD?AD(e,r):OD(e,r))&&(d=Pm(d,"onBeforeInput"),0<d.length&&(u=new C1("onBeforeInput","beforeinput",null,r,u),h.push({event:u,listeners:d}),u.data=S))}HC(h,t)})}function Ku(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Pm(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=zu(e,r),i!=null&&n.unshift(Ku(e,i,a)),i=zu(e,t),i!=null&&n.push(Ku(e,i,a))),e=e.return}return n}function Ll(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function L1(e,t,r,n,a){for(var i=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,d=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&d!==null&&(l=d,a?(c=zu(r,i),c!=null&&o.unshift(Ku(r,c,l))):a||(c=zu(r,i),c!=null&&o.push(Ku(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var GD=/\r\n?/g,YD=/\u0000|\uFFFD/g;function $1(e){return(typeof e=="string"?e:""+e).replace(GD,`
`).replace(YD,"")}function Ch(e,t,r){if(t=$1(t),$1(e)!==t&&r)throw Error(je(425))}function Tm(){}var uy=null,fy=null;function hy(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var my=typeof setTimeout=="function"?setTimeout:void 0,QD=typeof clearTimeout=="function"?clearTimeout:void 0,z1=typeof Promise=="function"?Promise:void 0,XD=typeof queueMicrotask=="function"?queueMicrotask:typeof z1<"u"?function(e){return z1.resolve(null).then(e).catch(ZD)}:my;function ZD(e){setTimeout(function(){throw e})}function Uv(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),qu(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);qu(t)}function Vi(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function U1(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var ud=Math.random().toString(36).slice(2),na="__reactFiber$"+ud,Gu="__reactProps$"+ud,Za="__reactContainer$"+ud,py="__reactEvents$"+ud,JD="__reactListeners$"+ud,eI="__reactHandles$"+ud;function Fo(e){var t=e[na];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Za]||r[na]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=U1(e);e!==null;){if(r=e[na])return r;e=U1(e)}return t}e=r,r=e.parentNode}return null}function Ef(e){return e=e[na]||e[Za],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function cc(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(je(33))}function $p(e){return e[Gu]||null}var gy=[],dc=-1;function xo(e){return{current:e}}function sr(e){0>dc||(e.current=gy[dc],gy[dc]=null,dc--)}function Gt(e,t){dc++,gy[dc]=e.current,e.current=t}var no={},fn=xo(no),$n=xo(!1),Jo=no;function qc(e,t){var r=e.type.contextTypes;if(!r)return no;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function zn(e){return e=e.childContextTypes,e!=null}function Rm(){sr($n),sr(fn)}function B1(e,t,r){if(fn.current!==no)throw Error(je(168));Gt(fn,t),Gt($n,r)}function GC(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(je(108,LO(e)||"Unknown",a));return pr({},r,n)}function Mm(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||no,Jo=fn.current,Gt(fn,e),Gt($n,$n.current),!0}function q1(e,t,r){var n=e.stateNode;if(!n)throw Error(je(169));r?(e=GC(e,t,Jo),n.__reactInternalMemoizedMergedChildContext=e,sr($n),sr(fn),Gt(fn,e)):sr($n),Gt($n,r)}var $a=null,zp=!1,Bv=!1;function YC(e){$a===null?$a=[e]:$a.push(e)}function tI(e){zp=!0,YC(e)}function yo(){if(!Bv&&$a!==null){Bv=!0;var e=0,t=Bt;try{var r=$a;for(Bt=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}$a=null,zp=!1}catch(a){throw $a!==null&&($a=$a.slice(e+1)),wC(nw,yo),a}finally{Bt=t,Bv=!1}}return null}var uc=[],fc=0,Am=null,Om=0,hs=[],ms=0,el=null,qa=1,Va="";function Mo(e,t){uc[fc++]=Om,uc[fc++]=Am,Am=e,Om=t}function QC(e,t,r){hs[ms++]=qa,hs[ms++]=Va,hs[ms++]=el,el=e;var n=qa;e=Va;var a=32-Bs(n)-1;n&=~(1<<a),r+=1;var i=32-Bs(t)+a;if(30<i){var o=a-a%5;i=(n&(1<<o)-1).toString(32),n>>=o,a-=o,qa=1<<32-Bs(t)+a|r<<a|n,Va=i+e}else qa=1<<i|r<<a|n,Va=e}function fw(e){e.return!==null&&(Mo(e,1),QC(e,1,0))}function hw(e){for(;e===Am;)Am=uc[--fc],uc[fc]=null,Om=uc[--fc],uc[fc]=null;for(;e===el;)el=hs[--ms],hs[ms]=null,Va=hs[--ms],hs[ms]=null,qa=hs[--ms],hs[ms]=null}var Jn=null,Xn=null,lr=!1,Fs=null;function XC(e,t){var r=ps(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function V1(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Jn=e,Xn=Vi(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Jn=e,Xn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=el!==null?{id:qa,overflow:Va}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=ps(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Jn=e,Xn=null,!0):!1;default:return!1}}function vy(e){return(e.mode&1)!==0&&(e.flags&128)===0}function xy(e){if(lr){var t=Xn;if(t){var r=t;if(!V1(e,t)){if(vy(e))throw Error(je(418));t=Vi(r.nextSibling);var n=Jn;t&&V1(e,t)?XC(n,r):(e.flags=e.flags&-4097|2,lr=!1,Jn=e)}}else{if(vy(e))throw Error(je(418));e.flags=e.flags&-4097|2,lr=!1,Jn=e}}}function W1(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Jn=e}function kh(e){if(e!==Jn)return!1;if(!lr)return W1(e),lr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!hy(e.type,e.memoizedProps)),t&&(t=Xn)){if(vy(e))throw ZC(),Error(je(418));for(;t;)XC(e,t),t=Vi(t.nextSibling)}if(W1(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(je(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Xn=Vi(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Xn=null}}else Xn=Jn?Vi(e.stateNode.nextSibling):null;return!0}function ZC(){for(var e=Xn;e;)e=Vi(e.nextSibling)}function Vc(){Xn=Jn=null,lr=!1}function mw(e){Fs===null?Fs=[e]:Fs.push(e)}var rI=oi.ReactCurrentBatchConfig;function Qd(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(je(309));var n=r.stateNode}if(!n)throw Error(je(147,e));var a=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=a.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(je(284));if(!r._owner)throw Error(je(290,e))}return e}function Eh(e,t){throw e=Object.prototype.toString.call(t),Error(je(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function H1(e){var t=e._init;return t(e._payload)}function JC(e){function t(y,x){if(e){var b=y.deletions;b===null?(y.deletions=[x],y.flags|=16):b.push(x)}}function r(y,x){if(!e)return null;for(;x!==null;)t(y,x),x=x.sibling;return null}function n(y,x){for(y=new Map;x!==null;)x.key!==null?y.set(x.key,x):y.set(x.index,x),x=x.sibling;return y}function a(y,x){return y=Gi(y,x),y.index=0,y.sibling=null,y}function i(y,x,b){return y.index=b,e?(b=y.alternate,b!==null?(b=b.index,b<x?(y.flags|=2,x):b):(y.flags|=2,x)):(y.flags|=1048576,x)}function o(y){return e&&y.alternate===null&&(y.flags|=2),y}function l(y,x,b,_){return x===null||x.tag!==6?(x=Yv(b,y.mode,_),x.return=y,x):(x=a(x,b),x.return=y,x)}function c(y,x,b,_){var N=b.type;return N===ac?u(y,x,b.props.children,_,b.key):x!==null&&(x.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===wi&&H1(N)===x.type)?(_=a(x,b.props),_.ref=Qd(y,x,b),_.return=y,_):(_=cm(b.type,b.key,b.props,null,y.mode,_),_.ref=Qd(y,x,b),_.return=y,_)}function d(y,x,b,_){return x===null||x.tag!==4||x.stateNode.containerInfo!==b.containerInfo||x.stateNode.implementation!==b.implementation?(x=Qv(b,y.mode,_),x.return=y,x):(x=a(x,b.children||[]),x.return=y,x)}function u(y,x,b,_,N){return x===null||x.tag!==7?(x=Xo(b,y.mode,_,N),x.return=y,x):(x=a(x,b),x.return=y,x)}function h(y,x,b){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Yv(""+x,y.mode,b),x.return=y,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case vh:return b=cm(x.type,x.key,x.props,null,y.mode,b),b.ref=Qd(y,null,x),b.return=y,b;case sc:return x=Qv(x,y.mode,b),x.return=y,x;case wi:var _=x._init;return h(y,_(x._payload),b)}if(iu(x)||Wd(x))return x=Xo(x,y.mode,b,null),x.return=y,x;Eh(y,x)}return null}function m(y,x,b,_){var N=x!==null?x.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return N!==null?null:l(y,x,""+b,_);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case vh:return b.key===N?c(y,x,b,_):null;case sc:return b.key===N?d(y,x,b,_):null;case wi:return N=b._init,m(y,x,N(b._payload),_)}if(iu(b)||Wd(b))return N!==null?null:u(y,x,b,_,null);Eh(y,b)}return null}function p(y,x,b,_,N){if(typeof _=="string"&&_!==""||typeof _=="number")return y=y.get(b)||null,l(x,y,""+_,N);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case vh:return y=y.get(_.key===null?b:_.key)||null,c(x,y,_,N);case sc:return y=y.get(_.key===null?b:_.key)||null,d(x,y,_,N);case wi:var P=_._init;return p(y,x,b,P(_._payload),N)}if(iu(_)||Wd(_))return y=y.get(b)||null,u(x,y,_,N,null);Eh(x,_)}return null}function w(y,x,b,_){for(var N=null,P=null,S=x,T=x=0,U=null;S!==null&&T<b.length;T++){S.index>T?(U=S,S=null):U=S.sibling;var q=m(y,S,b[T],_);if(q===null){S===null&&(S=U);break}e&&S&&q.alternate===null&&t(y,S),x=i(q,x,T),P===null?N=q:P.sibling=q,P=q,S=U}if(T===b.length)return r(y,S),lr&&Mo(y,T),N;if(S===null){for(;T<b.length;T++)S=h(y,b[T],_),S!==null&&(x=i(S,x,T),P===null?N=S:P.sibling=S,P=S);return lr&&Mo(y,T),N}for(S=n(y,S);T<b.length;T++)U=p(S,y,T,b[T],_),U!==null&&(e&&U.alternate!==null&&S.delete(U.key===null?T:U.key),x=i(U,x,T),P===null?N=U:P.sibling=U,P=U);return e&&S.forEach(function(re){return t(y,re)}),lr&&Mo(y,T),N}function v(y,x,b,_){var N=Wd(b);if(typeof N!="function")throw Error(je(150));if(b=N.call(b),b==null)throw Error(je(151));for(var P=N=null,S=x,T=x=0,U=null,q=b.next();S!==null&&!q.done;T++,q=b.next()){S.index>T?(U=S,S=null):U=S.sibling;var re=m(y,S,q.value,_);if(re===null){S===null&&(S=U);break}e&&S&&re.alternate===null&&t(y,S),x=i(re,x,T),P===null?N=re:P.sibling=re,P=re,S=U}if(q.done)return r(y,S),lr&&Mo(y,T),N;if(S===null){for(;!q.done;T++,q=b.next())q=h(y,q.value,_),q!==null&&(x=i(q,x,T),P===null?N=q:P.sibling=q,P=q);return lr&&Mo(y,T),N}for(S=n(y,S);!q.done;T++,q=b.next())q=p(S,y,T,q.value,_),q!==null&&(e&&q.alternate!==null&&S.delete(q.key===null?T:q.key),x=i(q,x,T),P===null?N=q:P.sibling=q,P=q);return e&&S.forEach(function(G){return t(y,G)}),lr&&Mo(y,T),N}function g(y,x,b,_){if(typeof b=="object"&&b!==null&&b.type===ac&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case vh:e:{for(var N=b.key,P=x;P!==null;){if(P.key===N){if(N=b.type,N===ac){if(P.tag===7){r(y,P.sibling),x=a(P,b.props.children),x.return=y,y=x;break e}}else if(P.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===wi&&H1(N)===P.type){r(y,P.sibling),x=a(P,b.props),x.ref=Qd(y,P,b),x.return=y,y=x;break e}r(y,P);break}else t(y,P);P=P.sibling}b.type===ac?(x=Xo(b.props.children,y.mode,_,b.key),x.return=y,y=x):(_=cm(b.type,b.key,b.props,null,y.mode,_),_.ref=Qd(y,x,b),_.return=y,y=_)}return o(y);case sc:e:{for(P=b.key;x!==null;){if(x.key===P)if(x.tag===4&&x.stateNode.containerInfo===b.containerInfo&&x.stateNode.implementation===b.implementation){r(y,x.sibling),x=a(x,b.children||[]),x.return=y,y=x;break e}else{r(y,x);break}else t(y,x);x=x.sibling}x=Qv(b,y.mode,_),x.return=y,y=x}return o(y);case wi:return P=b._init,g(y,x,P(b._payload),_)}if(iu(b))return w(y,x,b,_);if(Wd(b))return v(y,x,b,_);Eh(y,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,x!==null&&x.tag===6?(r(y,x.sibling),x=a(x,b),x.return=y,y=x):(r(y,x),x=Yv(b,y.mode,_),x.return=y,y=x),o(y)):r(y,x)}return g}var Wc=JC(!0),ek=JC(!1),Dm=xo(null),Im=null,hc=null,pw=null;function gw(){pw=hc=Im=null}function vw(e){var t=Dm.current;sr(Dm),e._currentValue=t}function yy(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function jc(e,t){Im=e,pw=hc=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Fn=!0),e.firstContext=null)}function ws(e){var t=e._currentValue;if(pw!==e)if(e={context:e,memoizedValue:t,next:null},hc===null){if(Im===null)throw Error(je(308));hc=e,Im.dependencies={lanes:0,firstContext:e}}else hc=hc.next=e;return t}var Lo=null;function xw(e){Lo===null?Lo=[e]:Lo.push(e)}function tk(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,xw(t)):(r.next=a.next,a.next=r),t.interleaved=r,Ja(e,n)}function Ja(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var bi=!1;function yw(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function rk(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ka(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Wi(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Pt&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,Ja(e,r)}return a=n.interleaved,a===null?(t.next=t,xw(n)):(t.next=a.next,a.next=t),n.interleaved=t,Ja(e,r)}function nm(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,sw(e,r)}}function K1(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Fm(e,t,r,n){var a=e.updateQueue;bi=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?i=d:o.next=d,o=c;var u=e.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==o&&(l===null?u.firstBaseUpdate=d:l.next=d,u.lastBaseUpdate=c))}if(i!==null){var h=a.baseState;o=0,u=d=c=null,l=i;do{var m=l.lane,p=l.eventTime;if((n&m)===m){u!==null&&(u=u.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var w=e,v=l;switch(m=t,p=r,v.tag){case 1:if(w=v.payload,typeof w=="function"){h=w.call(p,h,m);break e}h=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=v.payload,m=typeof w=="function"?w.call(p,h,m):w,m==null)break e;h=pr({},h,m);break e;case 2:bi=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,m=a.effects,m===null?a.effects=[l]:m.push(l))}else p={eventTime:p,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(d=u=p,c=h):u=u.next=p,o|=m;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;m=l,l=m.next,m.next=null,a.lastBaseUpdate=m,a.shared.pending=null}}while(!0);if(u===null&&(c=h),a.baseState=c,a.firstBaseUpdate=d,a.lastBaseUpdate=u,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);rl|=o,e.lanes=o,e.memoizedState=h}}function G1(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(je(191,a));a.call(n)}}}var Pf={},ha=xo(Pf),Yu=xo(Pf),Qu=xo(Pf);function $o(e){if(e===Pf)throw Error(je(174));return e}function ww(e,t){switch(Gt(Qu,t),Gt(Yu,e),Gt(ha,Pf),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Jx(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Jx(t,e)}sr(ha),Gt(ha,t)}function Hc(){sr(ha),sr(Yu),sr(Qu)}function nk(e){$o(Qu.current);var t=$o(ha.current),r=Jx(t,e.type);t!==r&&(Gt(Yu,e),Gt(ha,r))}function bw(e){Yu.current===e&&(sr(ha),sr(Yu))}var fr=xo(0);function Lm(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var qv=[];function jw(){for(var e=0;e<qv.length;e++)qv[e]._workInProgressVersionPrimary=null;qv.length=0}var sm=oi.ReactCurrentDispatcher,Vv=oi.ReactCurrentBatchConfig,tl=0,hr=null,Lr=null,Kr=null,$m=!1,Cu=!1,Xu=0,nI=0;function an(){throw Error(je(321))}function _w(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Vs(e[r],t[r]))return!1;return!0}function Nw(e,t,r,n,a,i){if(tl=i,hr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,sm.current=e===null||e.memoizedState===null?oI:lI,e=r(n,a),Cu){i=0;do{if(Cu=!1,Xu=0,25<=i)throw Error(je(301));i+=1,Kr=Lr=null,t.updateQueue=null,sm.current=cI,e=r(n,a)}while(Cu)}if(sm.current=zm,t=Lr!==null&&Lr.next!==null,tl=0,Kr=Lr=hr=null,$m=!1,t)throw Error(je(300));return e}function Sw(){var e=Xu!==0;return Xu=0,e}function Js(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Kr===null?hr.memoizedState=Kr=e:Kr=Kr.next=e,Kr}function bs(){if(Lr===null){var e=hr.alternate;e=e!==null?e.memoizedState:null}else e=Lr.next;var t=Kr===null?hr.memoizedState:Kr.next;if(t!==null)Kr=t,Lr=e;else{if(e===null)throw Error(je(310));Lr=e,e={memoizedState:Lr.memoizedState,baseState:Lr.baseState,baseQueue:Lr.baseQueue,queue:Lr.queue,next:null},Kr===null?hr.memoizedState=Kr=e:Kr=Kr.next=e}return Kr}function Zu(e,t){return typeof t=="function"?t(e):t}function Wv(e){var t=bs(),r=t.queue;if(r===null)throw Error(je(311));r.lastRenderedReducer=e;var n=Lr,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var l=o=null,c=null,d=i;do{var u=d.lane;if((tl&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:e(n,d.action);else{var h={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=h,o=n):c=c.next=h,hr.lanes|=u,rl|=u}d=d.next}while(d!==null&&d!==i);c===null?o=n:c.next=l,Vs(n,t.memoizedState)||(Fn=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do i=a.lane,hr.lanes|=i,rl|=i,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Hv(e){var t=bs(),r=t.queue;if(r===null)throw Error(je(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);Vs(i,t.memoizedState)||(Fn=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function sk(){}function ak(e,t){var r=hr,n=bs(),a=t(),i=!Vs(n.memoizedState,a);if(i&&(n.memoizedState=a,Fn=!0),n=n.queue,Cw(lk.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||Kr!==null&&Kr.memoizedState.tag&1){if(r.flags|=2048,Ju(9,ok.bind(null,r,n,a,t),void 0,null),Xr===null)throw Error(je(349));tl&30||ik(r,t,a)}return a}function ik(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=hr.updateQueue,t===null?(t={lastEffect:null,stores:null},hr.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function ok(e,t,r,n){t.value=r,t.getSnapshot=n,ck(t)&&dk(e)}function lk(e,t,r){return r(function(){ck(t)&&dk(e)})}function ck(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Vs(e,r)}catch{return!0}}function dk(e){var t=Ja(e,1);t!==null&&qs(t,e,1,-1)}function Y1(e){var t=Js();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Zu,lastRenderedState:e},t.queue=e,e=e.dispatch=iI.bind(null,hr,e),[t.memoizedState,e]}function Ju(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=hr.updateQueue,t===null?(t={lastEffect:null,stores:null},hr.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function uk(){return bs().memoizedState}function am(e,t,r,n){var a=Js();hr.flags|=e,a.memoizedState=Ju(1|t,r,void 0,n===void 0?null:n)}function Up(e,t,r,n){var a=bs();n=n===void 0?null:n;var i=void 0;if(Lr!==null){var o=Lr.memoizedState;if(i=o.destroy,n!==null&&_w(n,o.deps)){a.memoizedState=Ju(t,r,i,n);return}}hr.flags|=e,a.memoizedState=Ju(1|t,r,i,n)}function Q1(e,t){return am(8390656,8,e,t)}function Cw(e,t){return Up(2048,8,e,t)}function fk(e,t){return Up(4,2,e,t)}function hk(e,t){return Up(4,4,e,t)}function mk(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function pk(e,t,r){return r=r!=null?r.concat([e]):null,Up(4,4,mk.bind(null,t,e),r)}function kw(){}function gk(e,t){var r=bs();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&_w(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function vk(e,t){var r=bs();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&_w(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function xk(e,t,r){return tl&21?(Vs(r,t)||(r=_C(),hr.lanes|=r,rl|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Fn=!0),e.memoizedState=r)}function sI(e,t){var r=Bt;Bt=r!==0&&4>r?r:4,e(!0);var n=Vv.transition;Vv.transition={};try{e(!1),t()}finally{Bt=r,Vv.transition=n}}function yk(){return bs().memoizedState}function aI(e,t,r){var n=Ki(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},wk(e))bk(t,r);else if(r=tk(e,t,r,n),r!==null){var a=Nn();qs(r,e,n,a),jk(r,t,n)}}function iI(e,t,r){var n=Ki(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(wk(e))bk(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(a.hasEagerState=!0,a.eagerState=l,Vs(l,o)){var c=t.interleaved;c===null?(a.next=a,xw(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=tk(e,t,a,n),r!==null&&(a=Nn(),qs(r,e,n,a),jk(r,t,n))}}function wk(e){var t=e.alternate;return e===hr||t!==null&&t===hr}function bk(e,t){Cu=$m=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function jk(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,sw(e,r)}}var zm={readContext:ws,useCallback:an,useContext:an,useEffect:an,useImperativeHandle:an,useInsertionEffect:an,useLayoutEffect:an,useMemo:an,useReducer:an,useRef:an,useState:an,useDebugValue:an,useDeferredValue:an,useTransition:an,useMutableSource:an,useSyncExternalStore:an,useId:an,unstable_isNewReconciler:!1},oI={readContext:ws,useCallback:function(e,t){return Js().memoizedState=[e,t===void 0?null:t],e},useContext:ws,useEffect:Q1,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,am(4194308,4,mk.bind(null,t,e),r)},useLayoutEffect:function(e,t){return am(4194308,4,e,t)},useInsertionEffect:function(e,t){return am(4,2,e,t)},useMemo:function(e,t){var r=Js();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Js();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=aI.bind(null,hr,e),[n.memoizedState,e]},useRef:function(e){var t=Js();return e={current:e},t.memoizedState=e},useState:Y1,useDebugValue:kw,useDeferredValue:function(e){return Js().memoizedState=e},useTransition:function(){var e=Y1(!1),t=e[0];return e=sI.bind(null,e[1]),Js().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=hr,a=Js();if(lr){if(r===void 0)throw Error(je(407));r=r()}else{if(r=t(),Xr===null)throw Error(je(349));tl&30||ik(n,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,Q1(lk.bind(null,n,i,e),[e]),n.flags|=2048,Ju(9,ok.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=Js(),t=Xr.identifierPrefix;if(lr){var r=Va,n=qa;r=(n&~(1<<32-Bs(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Xu++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=nI++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},lI={readContext:ws,useCallback:gk,useContext:ws,useEffect:Cw,useImperativeHandle:pk,useInsertionEffect:fk,useLayoutEffect:hk,useMemo:vk,useReducer:Wv,useRef:uk,useState:function(){return Wv(Zu)},useDebugValue:kw,useDeferredValue:function(e){var t=bs();return xk(t,Lr.memoizedState,e)},useTransition:function(){var e=Wv(Zu)[0],t=bs().memoizedState;return[e,t]},useMutableSource:sk,useSyncExternalStore:ak,useId:yk,unstable_isNewReconciler:!1},cI={readContext:ws,useCallback:gk,useContext:ws,useEffect:Cw,useImperativeHandle:pk,useInsertionEffect:fk,useLayoutEffect:hk,useMemo:vk,useReducer:Hv,useRef:uk,useState:function(){return Hv(Zu)},useDebugValue:kw,useDeferredValue:function(e){var t=bs();return Lr===null?t.memoizedState=e:xk(t,Lr.memoizedState,e)},useTransition:function(){var e=Hv(Zu)[0],t=bs().memoizedState;return[e,t]},useMutableSource:sk,useSyncExternalStore:ak,useId:yk,unstable_isNewReconciler:!1};function Ms(e,t){if(e&&e.defaultProps){t=pr({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function wy(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:pr({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Bp={isMounted:function(e){return(e=e._reactInternals)?wl(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Nn(),a=Ki(e),i=Ka(n,a);i.payload=t,r!=null&&(i.callback=r),t=Wi(e,i,a),t!==null&&(qs(t,e,a,n),nm(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Nn(),a=Ki(e),i=Ka(n,a);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Wi(e,i,a),t!==null&&(qs(t,e,a,n),nm(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Nn(),n=Ki(e),a=Ka(r,n);a.tag=2,t!=null&&(a.callback=t),t=Wi(e,a,n),t!==null&&(qs(t,e,n,r),nm(t,e,n))}};function X1(e,t,r,n,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!Wu(r,n)||!Wu(a,i):!0}function _k(e,t,r){var n=!1,a=no,i=t.contextType;return typeof i=="object"&&i!==null?i=ws(i):(a=zn(t)?Jo:fn.current,n=t.contextTypes,i=(n=n!=null)?qc(e,a):no),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Bp,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function Z1(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Bp.enqueueReplaceState(t,t.state,null)}function by(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},yw(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=ws(i):(i=zn(t)?Jo:fn.current,a.context=qc(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(wy(e,t,i,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Bp.enqueueReplaceState(a,a.state,null),Fm(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Kc(e,t){try{var r="",n=t;do r+=FO(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function Kv(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function jy(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var dI=typeof WeakMap=="function"?WeakMap:Map;function Nk(e,t,r){r=Ka(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Bm||(Bm=!0,My=n),jy(e,t)},r}function Sk(e,t,r){r=Ka(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){jy(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){jy(e,t),typeof n!="function"&&(Hi===null?Hi=new Set([this]):Hi.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function J1(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new dI;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=NI.bind(null,e,t,r),t.then(e,e))}function e_(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function t_(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Ka(-1,1),t.tag=2,Wi(r,t,1))),r.lanes|=1),e)}var uI=oi.ReactCurrentOwner,Fn=!1;function vn(e,t,r,n){t.child=e===null?ek(t,null,r,n):Wc(t,e.child,r,n)}function r_(e,t,r,n,a){r=r.render;var i=t.ref;return jc(t,a),n=Nw(e,t,r,n,i,a),r=Sw(),e!==null&&!Fn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,ei(e,t,a)):(lr&&r&&fw(t),t.flags|=1,vn(e,t,n,a),t.child)}function n_(e,t,r,n,a){if(e===null){var i=r.type;return typeof i=="function"&&!Dw(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,Ck(e,t,i,n,a)):(e=cm(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:Wu,r(o,n)&&e.ref===t.ref)return ei(e,t,a)}return t.flags|=1,e=Gi(i,n),e.ref=t.ref,e.return=t,t.child=e}function Ck(e,t,r,n,a){if(e!==null){var i=e.memoizedProps;if(Wu(i,n)&&e.ref===t.ref)if(Fn=!1,t.pendingProps=n=i,(e.lanes&a)!==0)e.flags&131072&&(Fn=!0);else return t.lanes=e.lanes,ei(e,t,a)}return _y(e,t,r,n,a)}function kk(e,t,r){var n=t.pendingProps,a=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Gt(pc,Kn),Kn|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Gt(pc,Kn),Kn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Gt(pc,Kn),Kn|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,Gt(pc,Kn),Kn|=n;return vn(e,t,a,r),t.child}function Ek(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function _y(e,t,r,n,a){var i=zn(r)?Jo:fn.current;return i=qc(t,i),jc(t,a),r=Nw(e,t,r,n,i,a),n=Sw(),e!==null&&!Fn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,ei(e,t,a)):(lr&&n&&fw(t),t.flags|=1,vn(e,t,r,a),t.child)}function s_(e,t,r,n,a){if(zn(r)){var i=!0;Mm(t)}else i=!1;if(jc(t,a),t.stateNode===null)im(e,t),_k(t,r,n),by(t,r,n,a),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,d=r.contextType;typeof d=="object"&&d!==null?d=ws(d):(d=zn(r)?Jo:fn.current,d=qc(t,d));var u=r.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==d)&&Z1(t,o,n,d),bi=!1;var m=t.memoizedState;o.state=m,Fm(t,n,o,a),c=t.memoizedState,l!==n||m!==c||$n.current||bi?(typeof u=="function"&&(wy(t,r,u,n),c=t.memoizedState),(l=bi||X1(t,r,l,n,m,c,d))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=d,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,rk(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:Ms(t.type,l),o.props=d,h=t.pendingProps,m=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=ws(c):(c=zn(r)?Jo:fn.current,c=qc(t,c));var p=r.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||m!==c)&&Z1(t,o,n,c),bi=!1,m=t.memoizedState,o.state=m,Fm(t,n,o,a);var w=t.memoizedState;l!==h||m!==w||$n.current||bi?(typeof p=="function"&&(wy(t,r,p,n),w=t.memoizedState),(d=bi||X1(t,r,d,n,m,w,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,w,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,w,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=w),o.props=n,o.state=w,o.context=c,n=d):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),n=!1)}return Ny(e,t,r,n,i,a)}function Ny(e,t,r,n,a,i){Ek(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return a&&q1(t,r,!1),ei(e,t,i);n=t.stateNode,uI.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=Wc(t,e.child,null,i),t.child=Wc(t,null,l,i)):vn(e,t,l,i),t.memoizedState=n.state,a&&q1(t,r,!0),t.child}function Pk(e){var t=e.stateNode;t.pendingContext?B1(e,t.pendingContext,t.pendingContext!==t.context):t.context&&B1(e,t.context,!1),ww(e,t.containerInfo)}function a_(e,t,r,n,a){return Vc(),mw(a),t.flags|=256,vn(e,t,r,n),t.child}var Sy={dehydrated:null,treeContext:null,retryLane:0};function Cy(e){return{baseLanes:e,cachePool:null,transitions:null}}function Tk(e,t,r){var n=t.pendingProps,a=fr.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Gt(fr,a&1),e===null)return xy(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Wp(o,n,0,null),e=Xo(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Cy(r),t.memoizedState=Sy,e):Ew(t,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return fI(e,t,o,n,l,a,r);if(i){i=n.fallback,o=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Gi(a,c),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?i=Gi(l,i):(i=Xo(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?Cy(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=Sy,n}return i=e.child,e=i.sibling,n=Gi(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Ew(e,t){return t=Wp({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ph(e,t,r,n){return n!==null&&mw(n),Wc(t,e.child,null,r),e=Ew(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function fI(e,t,r,n,a,i,o){if(r)return t.flags&256?(t.flags&=-257,n=Kv(Error(je(422))),Ph(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,a=t.mode,n=Wp({mode:"visible",children:n.children},a,0,null),i=Xo(i,a,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&Wc(t,e.child,null,o),t.child.memoizedState=Cy(o),t.memoizedState=Sy,i);if(!(t.mode&1))return Ph(e,t,o,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(je(419)),n=Kv(i,n,void 0),Ph(e,t,o,n)}if(l=(o&e.childLanes)!==0,Fn||l){if(n=Xr,n!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,Ja(e,a),qs(n,e,a,-1))}return Ow(),n=Kv(Error(je(421))),Ph(e,t,o,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=SI.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,Xn=Vi(a.nextSibling),Jn=t,lr=!0,Fs=null,e!==null&&(hs[ms++]=qa,hs[ms++]=Va,hs[ms++]=el,qa=e.id,Va=e.overflow,el=t),t=Ew(t,n.children),t.flags|=4096,t)}function i_(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),yy(e.return,t,r)}function Gv(e,t,r,n,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function Rk(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;if(vn(e,t,n.children,r),n=fr.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&i_(e,r,t);else if(e.tag===19)i_(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Gt(fr,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&Lm(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),Gv(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Lm(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}Gv(t,!0,r,null,i);break;case"together":Gv(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function im(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ei(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),rl|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(je(153));if(t.child!==null){for(e=t.child,r=Gi(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Gi(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function hI(e,t,r){switch(t.tag){case 3:Pk(t),Vc();break;case 5:nk(t);break;case 1:zn(t.type)&&Mm(t);break;case 4:ww(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;Gt(Dm,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Gt(fr,fr.current&1),t.flags|=128,null):r&t.child.childLanes?Tk(e,t,r):(Gt(fr,fr.current&1),e=ei(e,t,r),e!==null?e.sibling:null);Gt(fr,fr.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Rk(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Gt(fr,fr.current),n)break;return null;case 22:case 23:return t.lanes=0,kk(e,t,r)}return ei(e,t,r)}var Mk,ky,Ak,Ok;Mk=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};ky=function(){};Ak=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,$o(ha.current);var i=null;switch(r){case"input":a=Yx(e,a),n=Yx(e,n),i=[];break;case"select":a=pr({},a,{value:void 0}),n=pr({},n,{value:void 0}),i=[];break;case"textarea":a=Zx(e,a),n=Zx(e,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Tm)}ey(r,n);var o;r=null;for(d in a)if(!n.hasOwnProperty(d)&&a.hasOwnProperty(d)&&a[d]!=null)if(d==="style"){var l=a[d];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Lu.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in n){var c=n[d];if(l=a!=null?a[d]:void 0,n.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Lu.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&rr("scroll",e),i||l===c||(i=[])):(i=i||[]).push(d,c))}r&&(i=i||[]).push("style",r);var d=i;(t.updateQueue=d)&&(t.flags|=4)}};Ok=function(e,t,r,n){r!==n&&(t.flags|=4)};function Xd(e,t){if(!lr)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function on(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function mI(e,t,r){var n=t.pendingProps;switch(hw(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return on(t),null;case 1:return zn(t.type)&&Rm(),on(t),null;case 3:return n=t.stateNode,Hc(),sr($n),sr(fn),jw(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(kh(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Fs!==null&&(Dy(Fs),Fs=null))),ky(e,t),on(t),null;case 5:bw(t);var a=$o(Qu.current);if(r=t.type,e!==null&&t.stateNode!=null)Ak(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(je(166));return on(t),null}if(e=$o(ha.current),kh(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[na]=t,n[Gu]=i,e=(t.mode&1)!==0,r){case"dialog":rr("cancel",n),rr("close",n);break;case"iframe":case"object":case"embed":rr("load",n);break;case"video":case"audio":for(a=0;a<lu.length;a++)rr(lu[a],n);break;case"source":rr("error",n);break;case"img":case"image":case"link":rr("error",n),rr("load",n);break;case"details":rr("toggle",n);break;case"input":p1(n,i),rr("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},rr("invalid",n);break;case"textarea":v1(n,i),rr("invalid",n)}ey(r,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&Ch(n.textContent,l,e),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Ch(n.textContent,l,e),a=["children",""+l]):Lu.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&rr("scroll",n)}switch(r){case"input":xh(n),g1(n,i,!0);break;case"textarea":xh(n),x1(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Tm)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=lC(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[na]=t,e[Gu]=n,Mk(e,t,!1,!1),t.stateNode=e;e:{switch(o=ty(r,n),r){case"dialog":rr("cancel",e),rr("close",e),a=n;break;case"iframe":case"object":case"embed":rr("load",e),a=n;break;case"video":case"audio":for(a=0;a<lu.length;a++)rr(lu[a],e);a=n;break;case"source":rr("error",e),a=n;break;case"img":case"image":case"link":rr("error",e),rr("load",e),a=n;break;case"details":rr("toggle",e),a=n;break;case"input":p1(e,n),a=Yx(e,n),rr("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=pr({},n,{value:void 0}),rr("invalid",e);break;case"textarea":v1(e,n),a=Zx(e,n),rr("invalid",e);break;default:a=n}ey(r,a),l=a;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?uC(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&cC(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&$u(e,c):typeof c=="number"&&$u(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Lu.hasOwnProperty(i)?c!=null&&i==="onScroll"&&rr("scroll",e):c!=null&&Z0(e,i,c,o))}switch(r){case"input":xh(e),g1(e,n,!1);break;case"textarea":xh(e),x1(e);break;case"option":n.value!=null&&e.setAttribute("value",""+ro(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?xc(e,!!n.multiple,i,!1):n.defaultValue!=null&&xc(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Tm)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return on(t),null;case 6:if(e&&t.stateNode!=null)Ok(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(je(166));if(r=$o(Qu.current),$o(ha.current),kh(t)){if(n=t.stateNode,r=t.memoizedProps,n[na]=t,(i=n.nodeValue!==r)&&(e=Jn,e!==null))switch(e.tag){case 3:Ch(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ch(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[na]=t,t.stateNode=n}return on(t),null;case 13:if(sr(fr),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(lr&&Xn!==null&&t.mode&1&&!(t.flags&128))ZC(),Vc(),t.flags|=98560,i=!1;else if(i=kh(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(je(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(je(317));i[na]=t}else Vc(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;on(t),i=!1}else Fs!==null&&(Dy(Fs),Fs=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||fr.current&1?qr===0&&(qr=3):Ow())),t.updateQueue!==null&&(t.flags|=4),on(t),null);case 4:return Hc(),ky(e,t),e===null&&Hu(t.stateNode.containerInfo),on(t),null;case 10:return vw(t.type._context),on(t),null;case 17:return zn(t.type)&&Rm(),on(t),null;case 19:if(sr(fr),i=t.memoizedState,i===null)return on(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)Xd(i,!1);else{if(qr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Lm(e),o!==null){for(t.flags|=128,Xd(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Gt(fr,fr.current&1|2),t.child}e=e.sibling}i.tail!==null&&_r()>Gc&&(t.flags|=128,n=!0,Xd(i,!1),t.lanes=4194304)}else{if(!n)if(e=Lm(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Xd(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!lr)return on(t),null}else 2*_r()-i.renderingStartTime>Gc&&r!==1073741824&&(t.flags|=128,n=!0,Xd(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=_r(),t.sibling=null,r=fr.current,Gt(fr,n?r&1|2:r&1),t):(on(t),null);case 22:case 23:return Aw(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Kn&1073741824&&(on(t),t.subtreeFlags&6&&(t.flags|=8192)):on(t),null;case 24:return null;case 25:return null}throw Error(je(156,t.tag))}function pI(e,t){switch(hw(t),t.tag){case 1:return zn(t.type)&&Rm(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Hc(),sr($n),sr(fn),jw(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return bw(t),null;case 13:if(sr(fr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(je(340));Vc()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return sr(fr),null;case 4:return Hc(),null;case 10:return vw(t.type._context),null;case 22:case 23:return Aw(),null;case 24:return null;default:return null}}var Th=!1,dn=!1,gI=typeof WeakSet=="function"?WeakSet:Set,Fe=null;function mc(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){xr(e,t,n)}else r.current=null}function Ey(e,t,r){try{r()}catch(n){xr(e,t,n)}}var o_=!1;function vI(e,t){if(uy=km,e=$C(),uw(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,d=0,u=0,h=e,m=null;t:for(;;){for(var p;h!==r||a!==0&&h.nodeType!==3||(l=o+a),h!==i||n!==0&&h.nodeType!==3||(c=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)m=h,h=p;for(;;){if(h===e)break t;if(m===r&&++d===a&&(l=o),m===i&&++u===n&&(c=o),(p=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=p}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(fy={focusedElem:e,selectionRange:r},km=!1,Fe=t;Fe!==null;)if(t=Fe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Fe=e;else for(;Fe!==null;){t=Fe;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var v=w.memoizedProps,g=w.memoizedState,y=t.stateNode,x=y.getSnapshotBeforeUpdate(t.elementType===t.type?v:Ms(t.type,v),g);y.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(je(163))}}catch(_){xr(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,Fe=e;break}Fe=t.return}return w=o_,o_=!1,w}function ku(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&Ey(t,r,i)}a=a.next}while(a!==n)}}function qp(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Py(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Dk(e){var t=e.alternate;t!==null&&(e.alternate=null,Dk(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[na],delete t[Gu],delete t[py],delete t[JD],delete t[eI])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Ik(e){return e.tag===5||e.tag===3||e.tag===4}function l_(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ik(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ty(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Tm));else if(n!==4&&(e=e.child,e!==null))for(Ty(e,t,r),e=e.sibling;e!==null;)Ty(e,t,r),e=e.sibling}function Ry(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Ry(e,t,r),e=e.sibling;e!==null;)Ry(e,t,r),e=e.sibling}var Jr=null,Ds=!1;function di(e,t,r){for(r=r.child;r!==null;)Fk(e,t,r),r=r.sibling}function Fk(e,t,r){if(fa&&typeof fa.onCommitFiberUnmount=="function")try{fa.onCommitFiberUnmount(Dp,r)}catch{}switch(r.tag){case 5:dn||mc(r,t);case 6:var n=Jr,a=Ds;Jr=null,di(e,t,r),Jr=n,Ds=a,Jr!==null&&(Ds?(e=Jr,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Jr.removeChild(r.stateNode));break;case 18:Jr!==null&&(Ds?(e=Jr,r=r.stateNode,e.nodeType===8?Uv(e.parentNode,r):e.nodeType===1&&Uv(e,r),qu(e)):Uv(Jr,r.stateNode));break;case 4:n=Jr,a=Ds,Jr=r.stateNode.containerInfo,Ds=!0,di(e,t,r),Jr=n,Ds=a;break;case 0:case 11:case 14:case 15:if(!dn&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Ey(r,t,o),a=a.next}while(a!==n)}di(e,t,r);break;case 1:if(!dn&&(mc(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){xr(r,t,l)}di(e,t,r);break;case 21:di(e,t,r);break;case 22:r.mode&1?(dn=(n=dn)||r.memoizedState!==null,di(e,t,r),dn=n):di(e,t,r);break;default:di(e,t,r)}}function c_(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new gI),t.forEach(function(n){var a=CI.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function ks(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Jr=l.stateNode,Ds=!1;break e;case 3:Jr=l.stateNode.containerInfo,Ds=!0;break e;case 4:Jr=l.stateNode.containerInfo,Ds=!0;break e}l=l.return}if(Jr===null)throw Error(je(160));Fk(i,o,a),Jr=null,Ds=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(d){xr(a,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Lk(t,e),t=t.sibling}function Lk(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ks(t,e),Zs(e),n&4){try{ku(3,e,e.return),qp(3,e)}catch(v){xr(e,e.return,v)}try{ku(5,e,e.return)}catch(v){xr(e,e.return,v)}}break;case 1:ks(t,e),Zs(e),n&512&&r!==null&&mc(r,r.return);break;case 5:if(ks(t,e),Zs(e),n&512&&r!==null&&mc(r,r.return),e.flags&32){var a=e.stateNode;try{$u(a,"")}catch(v){xr(e,e.return,v)}}if(n&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&iC(a,i),ty(l,o);var d=ty(l,i);for(o=0;o<c.length;o+=2){var u=c[o],h=c[o+1];u==="style"?uC(a,h):u==="dangerouslySetInnerHTML"?cC(a,h):u==="children"?$u(a,h):Z0(a,u,h,d)}switch(l){case"input":Qx(a,i);break;case"textarea":oC(a,i);break;case"select":var m=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?xc(a,!!i.multiple,p,!1):m!==!!i.multiple&&(i.defaultValue!=null?xc(a,!!i.multiple,i.defaultValue,!0):xc(a,!!i.multiple,i.multiple?[]:"",!1))}a[Gu]=i}catch(v){xr(e,e.return,v)}}break;case 6:if(ks(t,e),Zs(e),n&4){if(e.stateNode===null)throw Error(je(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(v){xr(e,e.return,v)}}break;case 3:if(ks(t,e),Zs(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{qu(t.containerInfo)}catch(v){xr(e,e.return,v)}break;case 4:ks(t,e),Zs(e);break;case 13:ks(t,e),Zs(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(Rw=_r())),n&4&&c_(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(dn=(d=dn)||u,ks(t,e),dn=d):ks(t,e),Zs(e),n&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!u&&e.mode&1)for(Fe=e,u=e.child;u!==null;){for(h=Fe=u;Fe!==null;){switch(m=Fe,p=m.child,m.tag){case 0:case 11:case 14:case 15:ku(4,m,m.return);break;case 1:mc(m,m.return);var w=m.stateNode;if(typeof w.componentWillUnmount=="function"){n=m,r=m.return;try{t=n,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(v){xr(n,r,v)}}break;case 5:mc(m,m.return);break;case 22:if(m.memoizedState!==null){u_(h);continue}}p!==null?(p.return=m,Fe=p):u_(h)}u=u.sibling}e:for(u=null,h=e;;){if(h.tag===5){if(u===null){u=h;try{a=h.stateNode,d?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=dC("display",o))}catch(v){xr(e,e.return,v)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(v){xr(e,e.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ks(t,e),Zs(e),n&4&&c_(e);break;case 21:break;default:ks(t,e),Zs(e)}}function Zs(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Ik(r)){var n=r;break e}r=r.return}throw Error(je(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&($u(a,""),n.flags&=-33);var i=l_(e);Ry(e,i,a);break;case 3:case 4:var o=n.stateNode.containerInfo,l=l_(e);Ty(e,l,o);break;default:throw Error(je(161))}}catch(c){xr(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function xI(e,t,r){Fe=e,$k(e)}function $k(e,t,r){for(var n=(e.mode&1)!==0;Fe!==null;){var a=Fe,i=a.child;if(a.tag===22&&n){var o=a.memoizedState!==null||Th;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||dn;l=Th;var d=dn;if(Th=o,(dn=c)&&!d)for(Fe=a;Fe!==null;)o=Fe,c=o.child,o.tag===22&&o.memoizedState!==null?f_(a):c!==null?(c.return=o,Fe=c):f_(a);for(;i!==null;)Fe=i,$k(i),i=i.sibling;Fe=a,Th=l,dn=d}d_(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,Fe=i):d_(e)}}function d_(e){for(;Fe!==null;){var t=Fe;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:dn||qp(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!dn)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:Ms(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&G1(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}G1(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&qu(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(je(163))}dn||t.flags&512&&Py(t)}catch(m){xr(t,t.return,m)}}if(t===e){Fe=null;break}if(r=t.sibling,r!==null){r.return=t.return,Fe=r;break}Fe=t.return}}function u_(e){for(;Fe!==null;){var t=Fe;if(t===e){Fe=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Fe=r;break}Fe=t.return}}function f_(e){for(;Fe!==null;){var t=Fe;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{qp(4,t)}catch(c){xr(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(c){xr(t,a,c)}}var i=t.return;try{Py(t)}catch(c){xr(t,i,c)}break;case 5:var o=t.return;try{Py(t)}catch(c){xr(t,o,c)}}}catch(c){xr(t,t.return,c)}if(t===e){Fe=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Fe=l;break}Fe=t.return}}var yI=Math.ceil,Um=oi.ReactCurrentDispatcher,Pw=oi.ReactCurrentOwner,gs=oi.ReactCurrentBatchConfig,Pt=0,Xr=null,Ar=null,en=0,Kn=0,pc=xo(0),qr=0,ef=null,rl=0,Vp=0,Tw=0,Eu=null,Dn=null,Rw=0,Gc=1/0,Ia=null,Bm=!1,My=null,Hi=null,Rh=!1,Fi=null,qm=0,Pu=0,Ay=null,om=-1,lm=0;function Nn(){return Pt&6?_r():om!==-1?om:om=_r()}function Ki(e){return e.mode&1?Pt&2&&en!==0?en&-en:rI.transition!==null?(lm===0&&(lm=_C()),lm):(e=Bt,e!==0||(e=window.event,e=e===void 0?16:TC(e.type)),e):1}function qs(e,t,r,n){if(50<Pu)throw Pu=0,Ay=null,Error(je(185));Cf(e,r,n),(!(Pt&2)||e!==Xr)&&(e===Xr&&(!(Pt&2)&&(Vp|=r),qr===4&&Ni(e,en)),Un(e,n),r===1&&Pt===0&&!(t.mode&1)&&(Gc=_r()+500,zp&&yo()))}function Un(e,t){var r=e.callbackNode;rD(e,t);var n=Cm(e,e===Xr?en:0);if(n===0)r!==null&&b1(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&b1(r),t===1)e.tag===0?tI(h_.bind(null,e)):YC(h_.bind(null,e)),XD(function(){!(Pt&6)&&yo()}),r=null;else{switch(NC(n)){case 1:r=nw;break;case 4:r=bC;break;case 16:r=Sm;break;case 536870912:r=jC;break;default:r=Sm}r=Kk(r,zk.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function zk(e,t){if(om=-1,lm=0,Pt&6)throw Error(je(327));var r=e.callbackNode;if(_c()&&e.callbackNode!==r)return null;var n=Cm(e,e===Xr?en:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Vm(e,n);else{t=n;var a=Pt;Pt|=2;var i=Bk();(Xr!==e||en!==t)&&(Ia=null,Gc=_r()+500,Qo(e,t));do try{jI();break}catch(l){Uk(e,l)}while(!0);gw(),Um.current=i,Pt=a,Ar!==null?t=0:(Xr=null,en=0,t=qr)}if(t!==0){if(t===2&&(a=iy(e),a!==0&&(n=a,t=Oy(e,a))),t===1)throw r=ef,Qo(e,0),Ni(e,n),Un(e,_r()),r;if(t===6)Ni(e,n);else{if(a=e.current.alternate,!(n&30)&&!wI(a)&&(t=Vm(e,n),t===2&&(i=iy(e),i!==0&&(n=i,t=Oy(e,i))),t===1))throw r=ef,Qo(e,0),Ni(e,n),Un(e,_r()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(je(345));case 2:Ao(e,Dn,Ia);break;case 3:if(Ni(e,n),(n&130023424)===n&&(t=Rw+500-_r(),10<t)){if(Cm(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){Nn(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=my(Ao.bind(null,e,Dn,Ia),t);break}Ao(e,Dn,Ia);break;case 4:if(Ni(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var o=31-Bs(n);i=1<<o,o=t[o],o>a&&(a=o),n&=~i}if(n=a,n=_r()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*yI(n/1960))-n,10<n){e.timeoutHandle=my(Ao.bind(null,e,Dn,Ia),n);break}Ao(e,Dn,Ia);break;case 5:Ao(e,Dn,Ia);break;default:throw Error(je(329))}}}return Un(e,_r()),e.callbackNode===r?zk.bind(null,e):null}function Oy(e,t){var r=Eu;return e.current.memoizedState.isDehydrated&&(Qo(e,t).flags|=256),e=Vm(e,t),e!==2&&(t=Dn,Dn=r,t!==null&&Dy(t)),e}function Dy(e){Dn===null?Dn=e:Dn.push.apply(Dn,e)}function wI(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!Vs(i(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ni(e,t){for(t&=~Tw,t&=~Vp,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Bs(t),n=1<<r;e[r]=-1,t&=~n}}function h_(e){if(Pt&6)throw Error(je(327));_c();var t=Cm(e,0);if(!(t&1))return Un(e,_r()),null;var r=Vm(e,t);if(e.tag!==0&&r===2){var n=iy(e);n!==0&&(t=n,r=Oy(e,n))}if(r===1)throw r=ef,Qo(e,0),Ni(e,t),Un(e,_r()),r;if(r===6)throw Error(je(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ao(e,Dn,Ia),Un(e,_r()),null}function Mw(e,t){var r=Pt;Pt|=1;try{return e(t)}finally{Pt=r,Pt===0&&(Gc=_r()+500,zp&&yo())}}function nl(e){Fi!==null&&Fi.tag===0&&!(Pt&6)&&_c();var t=Pt;Pt|=1;var r=gs.transition,n=Bt;try{if(gs.transition=null,Bt=1,e)return e()}finally{Bt=n,gs.transition=r,Pt=t,!(Pt&6)&&yo()}}function Aw(){Kn=pc.current,sr(pc)}function Qo(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,QD(r)),Ar!==null)for(r=Ar.return;r!==null;){var n=r;switch(hw(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Rm();break;case 3:Hc(),sr($n),sr(fn),jw();break;case 5:bw(n);break;case 4:Hc();break;case 13:sr(fr);break;case 19:sr(fr);break;case 10:vw(n.type._context);break;case 22:case 23:Aw()}r=r.return}if(Xr=e,Ar=e=Gi(e.current,null),en=Kn=t,qr=0,ef=null,Tw=Vp=rl=0,Dn=Eu=null,Lo!==null){for(t=0;t<Lo.length;t++)if(r=Lo[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=a,n.next=o}r.pending=n}Lo=null}return e}function Uk(e,t){do{var r=Ar;try{if(gw(),sm.current=zm,$m){for(var n=hr.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}$m=!1}if(tl=0,Kr=Lr=hr=null,Cu=!1,Xu=0,Pw.current=null,r===null||r.return===null){qr=1,ef=t,Ar=null;break}e:{var i=e,o=r.return,l=r,c=t;if(t=en,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=l,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var m=u.alternate;m?(u.updateQueue=m.updateQueue,u.memoizedState=m.memoizedState,u.lanes=m.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=e_(o);if(p!==null){p.flags&=-257,t_(p,o,l,i,t),p.mode&1&&J1(i,d,t),t=p,c=d;var w=t.updateQueue;if(w===null){var v=new Set;v.add(c),t.updateQueue=v}else w.add(c);break e}else{if(!(t&1)){J1(i,d,t),Ow();break e}c=Error(je(426))}}else if(lr&&l.mode&1){var g=e_(o);if(g!==null){!(g.flags&65536)&&(g.flags|=256),t_(g,o,l,i,t),mw(Kc(c,l));break e}}i=c=Kc(c,l),qr!==4&&(qr=2),Eu===null?Eu=[i]:Eu.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var y=Nk(i,c,t);K1(i,y);break e;case 1:l=c;var x=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof x.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Hi===null||!Hi.has(b)))){i.flags|=65536,t&=-t,i.lanes|=t;var _=Sk(i,l,t);K1(i,_);break e}}i=i.return}while(i!==null)}Vk(r)}catch(N){t=N,Ar===r&&r!==null&&(Ar=r=r.return);continue}break}while(!0)}function Bk(){var e=Um.current;return Um.current=zm,e===null?zm:e}function Ow(){(qr===0||qr===3||qr===2)&&(qr=4),Xr===null||!(rl&268435455)&&!(Vp&268435455)||Ni(Xr,en)}function Vm(e,t){var r=Pt;Pt|=2;var n=Bk();(Xr!==e||en!==t)&&(Ia=null,Qo(e,t));do try{bI();break}catch(a){Uk(e,a)}while(!0);if(gw(),Pt=r,Um.current=n,Ar!==null)throw Error(je(261));return Xr=null,en=0,qr}function bI(){for(;Ar!==null;)qk(Ar)}function jI(){for(;Ar!==null&&!KO();)qk(Ar)}function qk(e){var t=Hk(e.alternate,e,Kn);e.memoizedProps=e.pendingProps,t===null?Vk(e):Ar=t,Pw.current=null}function Vk(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=pI(r,t),r!==null){r.flags&=32767,Ar=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{qr=6,Ar=null;return}}else if(r=mI(r,t,Kn),r!==null){Ar=r;return}if(t=t.sibling,t!==null){Ar=t;return}Ar=t=e}while(t!==null);qr===0&&(qr=5)}function Ao(e,t,r){var n=Bt,a=gs.transition;try{gs.transition=null,Bt=1,_I(e,t,r,n)}finally{gs.transition=a,Bt=n}return null}function _I(e,t,r,n){do _c();while(Fi!==null);if(Pt&6)throw Error(je(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(je(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(nD(e,i),e===Xr&&(Ar=Xr=null,en=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Rh||(Rh=!0,Kk(Sm,function(){return _c(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=gs.transition,gs.transition=null;var o=Bt;Bt=1;var l=Pt;Pt|=4,Pw.current=null,vI(e,r),Lk(r,e),qD(fy),km=!!uy,fy=uy=null,e.current=r,xI(r),GO(),Pt=l,Bt=o,gs.transition=i}else e.current=r;if(Rh&&(Rh=!1,Fi=e,qm=a),i=e.pendingLanes,i===0&&(Hi=null),XO(r.stateNode),Un(e,_r()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(Bm)throw Bm=!1,e=My,My=null,e;return qm&1&&e.tag!==0&&_c(),i=e.pendingLanes,i&1?e===Ay?Pu++:(Pu=0,Ay=e):Pu=0,yo(),null}function _c(){if(Fi!==null){var e=NC(qm),t=gs.transition,r=Bt;try{if(gs.transition=null,Bt=16>e?16:e,Fi===null)var n=!1;else{if(e=Fi,Fi=null,qm=0,Pt&6)throw Error(je(331));var a=Pt;for(Pt|=4,Fe=e.current;Fe!==null;){var i=Fe,o=i.child;if(Fe.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(Fe=d;Fe!==null;){var u=Fe;switch(u.tag){case 0:case 11:case 15:ku(8,u,i)}var h=u.child;if(h!==null)h.return=u,Fe=h;else for(;Fe!==null;){u=Fe;var m=u.sibling,p=u.return;if(Dk(u),u===d){Fe=null;break}if(m!==null){m.return=p,Fe=m;break}Fe=p}}}var w=i.alternate;if(w!==null){var v=w.child;if(v!==null){w.child=null;do{var g=v.sibling;v.sibling=null,v=g}while(v!==null)}}Fe=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Fe=o;else e:for(;Fe!==null;){if(i=Fe,i.flags&2048)switch(i.tag){case 0:case 11:case 15:ku(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,Fe=y;break e}Fe=i.return}}var x=e.current;for(Fe=x;Fe!==null;){o=Fe;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,Fe=b;else e:for(o=x;Fe!==null;){if(l=Fe,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:qp(9,l)}}catch(N){xr(l,l.return,N)}if(l===o){Fe=null;break e}var _=l.sibling;if(_!==null){_.return=l.return,Fe=_;break e}Fe=l.return}}if(Pt=a,yo(),fa&&typeof fa.onPostCommitFiberRoot=="function")try{fa.onPostCommitFiberRoot(Dp,e)}catch{}n=!0}return n}finally{Bt=r,gs.transition=t}}return!1}function m_(e,t,r){t=Kc(r,t),t=Nk(e,t,1),e=Wi(e,t,1),t=Nn(),e!==null&&(Cf(e,1,t),Un(e,t))}function xr(e,t,r){if(e.tag===3)m_(e,e,r);else for(;t!==null;){if(t.tag===3){m_(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Hi===null||!Hi.has(n))){e=Kc(r,e),e=Sk(t,e,1),t=Wi(t,e,1),e=Nn(),t!==null&&(Cf(t,1,e),Un(t,e));break}}t=t.return}}function NI(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Nn(),e.pingedLanes|=e.suspendedLanes&r,Xr===e&&(en&r)===r&&(qr===4||qr===3&&(en&130023424)===en&&500>_r()-Rw?Qo(e,0):Tw|=r),Un(e,t)}function Wk(e,t){t===0&&(e.mode&1?(t=bh,bh<<=1,!(bh&130023424)&&(bh=4194304)):t=1);var r=Nn();e=Ja(e,t),e!==null&&(Cf(e,t,r),Un(e,r))}function SI(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Wk(e,r)}function CI(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(je(314))}n!==null&&n.delete(t),Wk(e,r)}var Hk;Hk=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||$n.current)Fn=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Fn=!1,hI(e,t,r);Fn=!!(e.flags&131072)}else Fn=!1,lr&&t.flags&1048576&&QC(t,Om,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;im(e,t),e=t.pendingProps;var a=qc(t,fn.current);jc(t,r),a=Nw(null,t,n,e,a,r);var i=Sw();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,zn(n)?(i=!0,Mm(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,yw(t),a.updater=Bp,t.stateNode=a,a._reactInternals=t,by(t,n,e,r),t=Ny(null,t,n,!0,i,r)):(t.tag=0,lr&&i&&fw(t),vn(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(im(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=EI(n),e=Ms(n,e),a){case 0:t=_y(null,t,n,e,r);break e;case 1:t=s_(null,t,n,e,r);break e;case 11:t=r_(null,t,n,e,r);break e;case 14:t=n_(null,t,n,Ms(n.type,e),r);break e}throw Error(je(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Ms(n,a),_y(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Ms(n,a),s_(e,t,n,a,r);case 3:e:{if(Pk(t),e===null)throw Error(je(387));n=t.pendingProps,i=t.memoizedState,a=i.element,rk(e,t),Fm(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=Kc(Error(je(423)),t),t=a_(e,t,n,r,a);break e}else if(n!==a){a=Kc(Error(je(424)),t),t=a_(e,t,n,r,a);break e}else for(Xn=Vi(t.stateNode.containerInfo.firstChild),Jn=t,lr=!0,Fs=null,r=ek(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Vc(),n===a){t=ei(e,t,r);break e}vn(e,t,n,r)}t=t.child}return t;case 5:return nk(t),e===null&&xy(t),n=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,o=a.children,hy(n,a)?o=null:i!==null&&hy(n,i)&&(t.flags|=32),Ek(e,t),vn(e,t,o,r),t.child;case 6:return e===null&&xy(t),null;case 13:return Tk(e,t,r);case 4:return ww(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Wc(t,null,n,r):vn(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Ms(n,a),r_(e,t,n,a,r);case 7:return vn(e,t,t.pendingProps,r),t.child;case 8:return vn(e,t,t.pendingProps.children,r),t.child;case 12:return vn(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,Gt(Dm,n._currentValue),n._currentValue=o,i!==null)if(Vs(i.value,o)){if(i.children===a.children&&!$n.current){t=ei(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=Ka(-1,r&-r),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),yy(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(je(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),yy(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}vn(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,jc(t,r),a=ws(a),n=n(a),t.flags|=1,vn(e,t,n,r),t.child;case 14:return n=t.type,a=Ms(n,t.pendingProps),a=Ms(n.type,a),n_(e,t,n,a,r);case 15:return Ck(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Ms(n,a),im(e,t),t.tag=1,zn(n)?(e=!0,Mm(t)):e=!1,jc(t,r),_k(t,n,a),by(t,n,a,r),Ny(null,t,n,!0,e,r);case 19:return Rk(e,t,r);case 22:return kk(e,t,r)}throw Error(je(156,t.tag))};function Kk(e,t){return wC(e,t)}function kI(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ps(e,t,r,n){return new kI(e,t,r,n)}function Dw(e){return e=e.prototype,!(!e||!e.isReactComponent)}function EI(e){if(typeof e=="function")return Dw(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ew)return 11;if(e===tw)return 14}return 2}function Gi(e,t){var r=e.alternate;return r===null?(r=ps(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function cm(e,t,r,n,a,i){var o=2;if(n=e,typeof e=="function")Dw(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case ac:return Xo(r.children,a,i,t);case J0:o=8,a|=8;break;case Wx:return e=ps(12,r,t,a|2),e.elementType=Wx,e.lanes=i,e;case Hx:return e=ps(13,r,t,a),e.elementType=Hx,e.lanes=i,e;case Kx:return e=ps(19,r,t,a),e.elementType=Kx,e.lanes=i,e;case nC:return Wp(r,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case tC:o=10;break e;case rC:o=9;break e;case ew:o=11;break e;case tw:o=14;break e;case wi:o=16,n=null;break e}throw Error(je(130,e==null?e:typeof e,""))}return t=ps(o,r,t,a),t.elementType=e,t.type=n,t.lanes=i,t}function Xo(e,t,r,n){return e=ps(7,e,n,t),e.lanes=r,e}function Wp(e,t,r,n){return e=ps(22,e,n,t),e.elementType=nC,e.lanes=r,e.stateNode={isHidden:!1},e}function Yv(e,t,r){return e=ps(6,e,null,t),e.lanes=r,e}function Qv(e,t,r){return t=ps(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function PI(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Tv(0),this.expirationTimes=Tv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Tv(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Iw(e,t,r,n,a,i,o,l,c){return e=new PI(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=ps(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},yw(i),e}function TI(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:sc,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Gk(e){if(!e)return no;e=e._reactInternals;e:{if(wl(e)!==e||e.tag!==1)throw Error(je(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(zn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(je(171))}if(e.tag===1){var r=e.type;if(zn(r))return GC(e,r,t)}return t}function Yk(e,t,r,n,a,i,o,l,c){return e=Iw(r,n,!0,e,a,i,o,l,c),e.context=Gk(null),r=e.current,n=Nn(),a=Ki(r),i=Ka(n,a),i.callback=t??null,Wi(r,i,a),e.current.lanes=a,Cf(e,a,n),Un(e,n),e}function Hp(e,t,r,n){var a=t.current,i=Nn(),o=Ki(a);return r=Gk(r),t.context===null?t.context=r:t.pendingContext=r,t=Ka(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Wi(a,t,o),e!==null&&(qs(e,a,o,i),nm(e,a,o)),o}function Wm(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function p_(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Fw(e,t){p_(e,t),(e=e.alternate)&&p_(e,t)}function RI(){return null}var Qk=typeof reportError=="function"?reportError:function(e){console.error(e)};function Lw(e){this._internalRoot=e}Kp.prototype.render=Lw.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(je(409));Hp(e,t,null,null)};Kp.prototype.unmount=Lw.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;nl(function(){Hp(null,e,null,null)}),t[Za]=null}};function Kp(e){this._internalRoot=e}Kp.prototype.unstable_scheduleHydration=function(e){if(e){var t=kC();e={blockedOn:null,target:e,priority:t};for(var r=0;r<_i.length&&t!==0&&t<_i[r].priority;r++);_i.splice(r,0,e),r===0&&PC(e)}};function $w(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Gp(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function g_(){}function MI(e,t,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var d=Wm(o);i.call(d)}}var o=Yk(t,n,e,0,null,!1,!1,"",g_);return e._reactRootContainer=o,e[Za]=o.current,Hu(e.nodeType===8?e.parentNode:e),nl(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var d=Wm(c);l.call(d)}}var c=Iw(e,0,!1,null,null,!1,!1,"",g_);return e._reactRootContainer=c,e[Za]=c.current,Hu(e.nodeType===8?e.parentNode:e),nl(function(){Hp(t,c,r,n)}),c}function Yp(e,t,r,n,a){var i=r._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var l=a;a=function(){var c=Wm(o);l.call(c)}}Hp(t,o,e,a)}else o=MI(r,t,e,a,n);return Wm(o)}SC=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=ou(t.pendingLanes);r!==0&&(sw(t,r|1),Un(t,_r()),!(Pt&6)&&(Gc=_r()+500,yo()))}break;case 13:nl(function(){var n=Ja(e,1);if(n!==null){var a=Nn();qs(n,e,1,a)}}),Fw(e,1)}};aw=function(e){if(e.tag===13){var t=Ja(e,134217728);if(t!==null){var r=Nn();qs(t,e,134217728,r)}Fw(e,134217728)}};CC=function(e){if(e.tag===13){var t=Ki(e),r=Ja(e,t);if(r!==null){var n=Nn();qs(r,e,t,n)}Fw(e,t)}};kC=function(){return Bt};EC=function(e,t){var r=Bt;try{return Bt=e,t()}finally{Bt=r}};ny=function(e,t,r){switch(t){case"input":if(Qx(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=$p(n);if(!a)throw Error(je(90));aC(n),Qx(n,a)}}}break;case"textarea":oC(e,r);break;case"select":t=r.value,t!=null&&xc(e,!!r.multiple,t,!1)}};mC=Mw;pC=nl;var AI={usingClientEntryPoint:!1,Events:[Ef,cc,$p,fC,hC,Mw]},Zd={findFiberByHostInstance:Fo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},OI={bundleType:Zd.bundleType,version:Zd.version,rendererPackageName:Zd.rendererPackageName,rendererConfig:Zd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:oi.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=xC(e),e===null?null:e.stateNode},findFiberByHostInstance:Zd.findFiberByHostInstance||RI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mh.isDisabled&&Mh.supportsFiber)try{Dp=Mh.inject(OI),fa=Mh}catch{}}ss.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=AI;ss.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!$w(t))throw Error(je(200));return TI(e,t,null,r)};ss.createRoot=function(e,t){if(!$w(e))throw Error(je(299));var r=!1,n="",a=Qk;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=Iw(e,1,!1,null,null,r,!1,n,a),e[Za]=t.current,Hu(e.nodeType===8?e.parentNode:e),new Lw(t)};ss.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(je(188)):(e=Object.keys(e).join(","),Error(je(268,e)));return e=xC(t),e=e===null?null:e.stateNode,e};ss.flushSync=function(e){return nl(e)};ss.hydrate=function(e,t,r){if(!Gp(t))throw Error(je(200));return Yp(null,e,t,!0,r)};ss.hydrateRoot=function(e,t,r){if(!$w(e))throw Error(je(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",o=Qk;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=Yk(t,null,e,1,r??null,a,!1,i,o),e[Za]=t.current,Hu(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new Kp(t)};ss.render=function(e,t,r){if(!Gp(t))throw Error(je(200));return Yp(null,e,t,!1,r)};ss.unmountComponentAtNode=function(e){if(!Gp(e))throw Error(je(40));return e._reactRootContainer?(nl(function(){Yp(null,null,e,!1,function(){e._reactRootContainer=null,e[Za]=null})}),!0):!1};ss.unstable_batchedUpdates=Mw;ss.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Gp(r))throw Error(je(200));if(e==null||e._reactInternals===void 0)throw Error(je(38));return Yp(e,t,r,!1,n)};ss.version="18.3.1-next-f1338f8080-20240426";function Xk(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Xk)}catch(e){console.error(e)}}Xk(),XS.exports=ss;var bl=XS.exports;const Zk=$S(bl);var Jk,v_=bl;Jk=v_.createRoot,v_.hydrateRoot;const DI=1,II=1e6;let Xv=0;function FI(){return Xv=(Xv+1)%Number.MAX_SAFE_INTEGER,Xv.toString()}const Zv=new Map,x_=e=>{if(Zv.has(e))return;const t=setTimeout(()=>{Zv.delete(e),Tu({type:"REMOVE_TOAST",toastId:e})},II);Zv.set(e,t)},LI=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,DI)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?x_(r):e.toasts.forEach(n=>{x_(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},dm=[];let um={toasts:[]};function Tu(e){um=LI(um,e),dm.forEach(t=>{t(um)})}function oe({...e}){const t=FI(),r=a=>Tu({type:"UPDATE_TOAST",toast:{...a,id:t}}),n=()=>Tu({type:"DISMISS_TOAST",toastId:t});return Tu({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||n()}}}),{id:t,dismiss:n,update:r}}function Ys(){const[e,t]=f.useState(um);return f.useEffect(()=>(dm.push(t),()=>{const r=dm.indexOf(t);r>-1&&dm.splice(r,1)}),[e]),{...e,toast:oe,dismiss:r=>Tu({type:"DISMISS_TOAST",toastId:r})}}function Ce(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function y_(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function ti(...e){return t=>{let r=!1;const n=e.map(a=>{const i=y_(a,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<n.length;a++){const i=n[a];typeof i=="function"?i():y_(e[a],null)}}}}function ct(...e){return f.useCallback(ti(...e),e)}function $I(e,t){const r=f.createContext(t),n=i=>{const{children:o,...l}=i,c=f.useMemo(()=>l,Object.values(l));return s.jsx(r.Provider,{value:c,children:o})};n.displayName=e+"Provider";function a(i){const o=f.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,a]}function kn(e,t=[]){let r=[];function n(i,o){const l=f.createContext(o),c=r.length;r=[...r,o];const d=h=>{var y;const{scope:m,children:p,...w}=h,v=((y=m==null?void 0:m[e])==null?void 0:y[c])||l,g=f.useMemo(()=>w,Object.values(w));return s.jsx(v.Provider,{value:g,children:p})};d.displayName=i+"Provider";function u(h,m){var v;const p=((v=m==null?void 0:m[e])==null?void 0:v[c])||l,w=f.useContext(p);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[d,u]}const a=()=>{const i=r.map(o=>f.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return f.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,zI(a,...t)]}function zI(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:d})=>{const h=c(i)[`__scope${d}`];return{...l,...h}},{});return f.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function so(e){const t=UI(e),r=f.forwardRef((n,a)=>{const{children:i,...o}=n,l=f.Children.toArray(i),c=l.find(BI);if(c){const d=c.props.children,u=l.map(h=>h===c?f.Children.count(d)>1?f.Children.only(null):f.isValidElement(d)?d.props.children:null:h);return s.jsx(t,{...o,ref:a,children:f.isValidElement(d)?f.cloneElement(d,void 0,u):null})}return s.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}var jl=so("Slot");function UI(e){const t=f.forwardRef((r,n)=>{const{children:a,...i}=r;if(f.isValidElement(a)){const o=VI(a),l=qI(i,a.props);return a.type!==f.Fragment&&(l.ref=n?ti(n,o):o),f.cloneElement(a,l)}return f.Children.count(a)>1?f.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var e2=Symbol("radix.slottable");function t2(e){const t=({children:r})=>s.jsx(s.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=e2,t}function BI(e){return f.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===e2}function qI(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function VI(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Qp(e){const t=e+"CollectionProvider",[r,n]=kn(t),[a,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=v=>{const{scope:g,children:y}=v,x=he.useRef(null),b=he.useRef(new Map).current;return s.jsx(a,{scope:g,itemMap:b,collectionRef:x,children:y})};o.displayName=t;const l=e+"CollectionSlot",c=so(l),d=he.forwardRef((v,g)=>{const{scope:y,children:x}=v,b=i(l,y),_=ct(g,b.collectionRef);return s.jsx(c,{ref:_,children:x})});d.displayName=l;const u=e+"CollectionItemSlot",h="data-radix-collection-item",m=so(u),p=he.forwardRef((v,g)=>{const{scope:y,children:x,...b}=v,_=he.useRef(null),N=ct(g,_),P=i(u,y);return he.useEffect(()=>(P.itemMap.set(_,{ref:_,...b}),()=>void P.itemMap.delete(_))),s.jsx(m,{[h]:"",ref:N,children:x})});p.displayName=u;function w(v){const g=i(e+"CollectionConsumer",v);return he.useCallback(()=>{const x=g.collectionRef.current;if(!x)return[];const b=Array.from(x.querySelectorAll(`[${h}]`));return Array.from(g.itemMap.values()).sort((P,S)=>b.indexOf(P.ref.current)-b.indexOf(S.ref.current))},[g.collectionRef,g.itemMap])}return[{Provider:o,Slot:d,ItemSlot:p},w,n]}var WI=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ie=WI.reduce((e,t)=>{const r=so(`Primitive.${t}`),n=f.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function zw(e,t){e&&bl.flushSync(()=>e.dispatchEvent(t))}function yr(e){const t=f.useRef(e);return f.useEffect(()=>{t.current=e}),f.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function HI(e,t=globalThis==null?void 0:globalThis.document){const r=yr(e);f.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var KI="DismissableLayer",Iy="dismissableLayer.update",GI="dismissableLayer.pointerDownOutside",YI="dismissableLayer.focusOutside",w_,r2=f.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),_l=f.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,d=f.useContext(r2),[u,h]=f.useState(null),m=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=f.useState({}),w=ct(t,S=>h(S)),v=Array.from(d.layers),[g]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),y=v.indexOf(g),x=u?v.indexOf(u):-1,b=d.layersWithOutsidePointerEventsDisabled.size>0,_=x>=y,N=XI(S=>{const T=S.target,U=[...d.branches].some(q=>q.contains(T));!_||U||(a==null||a(S),o==null||o(S),S.defaultPrevented||l==null||l())},m),P=ZI(S=>{const T=S.target;[...d.branches].some(q=>q.contains(T))||(i==null||i(S),o==null||o(S),S.defaultPrevented||l==null||l())},m);return HI(S=>{x===d.layers.size-1&&(n==null||n(S),!S.defaultPrevented&&l&&(S.preventDefault(),l()))},m),f.useEffect(()=>{if(u)return r&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(w_=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(u)),d.layers.add(u),b_(),()=>{r&&d.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=w_)}},[u,m,r,d]),f.useEffect(()=>()=>{u&&(d.layers.delete(u),d.layersWithOutsidePointerEventsDisabled.delete(u),b_())},[u,d]),f.useEffect(()=>{const S=()=>p({});return document.addEventListener(Iy,S),()=>document.removeEventListener(Iy,S)},[]),s.jsx(Ie.div,{...c,ref:w,style:{pointerEvents:b?_?"auto":"none":void 0,...e.style},onFocusCapture:Ce(e.onFocusCapture,P.onFocusCapture),onBlurCapture:Ce(e.onBlurCapture,P.onBlurCapture),onPointerDownCapture:Ce(e.onPointerDownCapture,N.onPointerDownCapture)})});_l.displayName=KI;var QI="DismissableLayerBranch",n2=f.forwardRef((e,t)=>{const r=f.useContext(r2),n=f.useRef(null),a=ct(t,n);return f.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),s.jsx(Ie.div,{...e,ref:a})});n2.displayName=QI;function XI(e,t=globalThis==null?void 0:globalThis.document){const r=yr(e),n=f.useRef(!1),a=f.useRef(()=>{});return f.useEffect(()=>{const i=l=>{if(l.target&&!n.current){let c=function(){s2(GI,r,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function ZI(e,t=globalThis==null?void 0:globalThis.document){const r=yr(e),n=f.useRef(!1);return f.useEffect(()=>{const a=i=>{i.target&&!n.current&&s2(YI,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function b_(){const e=new CustomEvent(Iy);document.dispatchEvent(e)}function s2(e,t,r,{discrete:n}){const a=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?zw(a,i):a.dispatchEvent(i)}var JI=_l,e3=n2,Sr=globalThis!=null&&globalThis.document?f.useLayoutEffect:()=>{},t3="Portal",fd=f.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[a,i]=f.useState(!1);Sr(()=>i(!0),[]);const o=r||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?Zk.createPortal(s.jsx(Ie.div,{...n,ref:t}),o):null});fd.displayName=t3;function r3(e,t){return f.useReducer((r,n)=>t[r][n]??r,e)}var rn=e=>{const{present:t,children:r}=e,n=n3(t),a=typeof r=="function"?r({present:n.isPresent}):f.Children.only(r),i=ct(n.ref,s3(a));return typeof r=="function"||n.isPresent?f.cloneElement(a,{ref:i}):null};rn.displayName="Presence";function n3(e){const[t,r]=f.useState(),n=f.useRef(null),a=f.useRef(e),i=f.useRef("none"),o=e?"mounted":"unmounted",[l,c]=r3(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return f.useEffect(()=>{const d=Ah(n.current);i.current=l==="mounted"?d:"none"},[l]),Sr(()=>{const d=n.current,u=a.current;if(u!==e){const m=i.current,p=Ah(d);e?c("MOUNT"):p==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(u&&m!==p?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),Sr(()=>{if(t){let d;const u=t.ownerDocument.defaultView??window,h=p=>{const v=Ah(n.current).includes(p.animationName);if(p.target===t&&v&&(c("ANIMATION_END"),!a.current)){const g=t.style.animationFillMode;t.style.animationFillMode="forwards",d=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=g)})}},m=p=>{p.target===t&&(i.current=Ah(n.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{u.clearTimeout(d),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:f.useCallback(d=>{n.current=d?getComputedStyle(d):null,r(d)},[])}}function Ah(e){return(e==null?void 0:e.animationName)||"none"}function s3(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var a3=Y0[" useInsertionEffect ".trim().toString()]||Sr;function va({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[a,i,o]=i3({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:a;{const u=f.useRef(e!==void 0);f.useEffect(()=>{const h=u.current;h!==l&&console.warn(`${n} is changing from ${h?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=l},[l,n])}const d=f.useCallback(u=>{var h;if(l){const m=o3(u)?u(e):u;m!==e&&((h=o.current)==null||h.call(o,m))}else i(u)},[l,e,i,o]);return[c,d]}function i3({defaultProp:e,onChange:t}){const[r,n]=f.useState(e),a=f.useRef(r),i=f.useRef(t);return a3(()=>{i.current=t},[t]),f.useEffect(()=>{var o;a.current!==r&&((o=i.current)==null||o.call(i,r),a.current=r)},[r,a]),[r,n,i]}function o3(e){return typeof e=="function"}var a2=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),l3="VisuallyHidden",Xp=f.forwardRef((e,t)=>s.jsx(Ie.span,{...e,ref:t,style:{...a2,...e.style}}));Xp.displayName=l3;var c3=Xp,Uw="ToastProvider",[Bw,d3,u3]=Qp("Toast"),[i2,KY]=kn("Toast",[u3]),[f3,Zp]=i2(Uw),o2=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:a="right",swipeThreshold:i=50,children:o}=e,[l,c]=f.useState(null),[d,u]=f.useState(0),h=f.useRef(!1),m=f.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${Uw}\`. Expected non-empty \`string\`.`),s.jsx(Bw.Provider,{scope:t,children:s.jsx(f3,{scope:t,label:r,duration:n,swipeDirection:a,swipeThreshold:i,toastCount:d,viewport:l,onViewportChange:c,onToastAdd:f.useCallback(()=>u(p=>p+1),[]),onToastRemove:f.useCallback(()=>u(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:m,children:o})})};o2.displayName=Uw;var l2="ToastViewport",h3=["F8"],Fy="toast.viewportPause",Ly="toast.viewportResume",c2=f.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=h3,label:a="Notifications ({hotkey})",...i}=e,o=Zp(l2,r),l=d3(r),c=f.useRef(null),d=f.useRef(null),u=f.useRef(null),h=f.useRef(null),m=ct(t,h,o.onViewportChange),p=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),w=o.toastCount>0;f.useEffect(()=>{const g=y=>{var b;n.length!==0&&n.every(_=>y[_]||y.code===_)&&((b=h.current)==null||b.focus())};return document.addEventListener("keydown",g),()=>document.removeEventListener("keydown",g)},[n]),f.useEffect(()=>{const g=c.current,y=h.current;if(w&&g&&y){const x=()=>{if(!o.isClosePausedRef.current){const P=new CustomEvent(Fy);y.dispatchEvent(P),o.isClosePausedRef.current=!0}},b=()=>{if(o.isClosePausedRef.current){const P=new CustomEvent(Ly);y.dispatchEvent(P),o.isClosePausedRef.current=!1}},_=P=>{!g.contains(P.relatedTarget)&&b()},N=()=>{g.contains(document.activeElement)||b()};return g.addEventListener("focusin",x),g.addEventListener("focusout",_),g.addEventListener("pointermove",x),g.addEventListener("pointerleave",N),window.addEventListener("blur",x),window.addEventListener("focus",b),()=>{g.removeEventListener("focusin",x),g.removeEventListener("focusout",_),g.removeEventListener("pointermove",x),g.removeEventListener("pointerleave",N),window.removeEventListener("blur",x),window.removeEventListener("focus",b)}}},[w,o.isClosePausedRef]);const v=f.useCallback(({tabbingDirection:g})=>{const x=l().map(b=>{const _=b.ref.current,N=[_,...C3(_)];return g==="forwards"?N:N.reverse()});return(g==="forwards"?x.reverse():x).flat()},[l]);return f.useEffect(()=>{const g=h.current;if(g){const y=x=>{var N,P,S;const b=x.altKey||x.ctrlKey||x.metaKey;if(x.key==="Tab"&&!b){const T=document.activeElement,U=x.shiftKey;if(x.target===g&&U){(N=d.current)==null||N.focus();return}const G=v({tabbingDirection:U?"backwards":"forwards"}),H=G.findIndex(V=>V===T);Jv(G.slice(H+1))?x.preventDefault():U?(P=d.current)==null||P.focus():(S=u.current)==null||S.focus()}};return g.addEventListener("keydown",y),()=>g.removeEventListener("keydown",y)}},[l,v]),s.jsxs(e3,{ref:c,role:"region","aria-label":a.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:w?void 0:"none"},children:[w&&s.jsx($y,{ref:d,onFocusFromOutsideViewport:()=>{const g=v({tabbingDirection:"forwards"});Jv(g)}}),s.jsx(Bw.Slot,{scope:r,children:s.jsx(Ie.ol,{tabIndex:-1,...i,ref:m})}),w&&s.jsx($y,{ref:u,onFocusFromOutsideViewport:()=>{const g=v({tabbingDirection:"backwards"});Jv(g)}})]})});c2.displayName=l2;var d2="ToastFocusProxy",$y=f.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...a}=e,i=Zp(d2,r);return s.jsx(Xp,{"aria-hidden":!0,tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:o=>{var d;const l=o.relatedTarget;!((d=i.viewport)!=null&&d.contains(l))&&n()}})});$y.displayName=d2;var Tf="Toast",m3="toast.swipeStart",p3="toast.swipeMove",g3="toast.swipeCancel",v3="toast.swipeEnd",u2=f.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:a,onOpenChange:i,...o}=e,[l,c]=va({prop:n,defaultProp:a??!0,onChange:i,caller:Tf});return s.jsx(rn,{present:r||l,children:s.jsx(w3,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:yr(e.onPause),onResume:yr(e.onResume),onSwipeStart:Ce(e.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ce(e.onSwipeMove,d=>{const{x:u,y:h}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:Ce(e.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ce(e.onSwipeEnd,d=>{const{x:u,y:h}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),c(!1)})})})});u2.displayName=Tf;var[x3,y3]=i2(Tf,{onClose(){}}),w3=f.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:a,open:i,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:d,onSwipeStart:u,onSwipeMove:h,onSwipeCancel:m,onSwipeEnd:p,...w}=e,v=Zp(Tf,r),[g,y]=f.useState(null),x=ct(t,V=>y(V)),b=f.useRef(null),_=f.useRef(null),N=a||v.duration,P=f.useRef(0),S=f.useRef(N),T=f.useRef(0),{onToastAdd:U,onToastRemove:q}=v,re=yr(()=>{var se;(g==null?void 0:g.contains(document.activeElement))&&((se=v.viewport)==null||se.focus()),o()}),G=f.useCallback(V=>{!V||V===1/0||(window.clearTimeout(T.current),P.current=new Date().getTime(),T.current=window.setTimeout(re,V))},[re]);f.useEffect(()=>{const V=v.viewport;if(V){const se=()=>{G(S.current),d==null||d()},ee=()=>{const J=new Date().getTime()-P.current;S.current=S.current-J,window.clearTimeout(T.current),c==null||c()};return V.addEventListener(Fy,ee),V.addEventListener(Ly,se),()=>{V.removeEventListener(Fy,ee),V.removeEventListener(Ly,se)}}},[v.viewport,N,c,d,G]),f.useEffect(()=>{i&&!v.isClosePausedRef.current&&G(N)},[i,N,v.isClosePausedRef,G]),f.useEffect(()=>(U(),()=>q()),[U,q]);const H=f.useMemo(()=>g?x2(g):null,[g]);return v.viewport?s.jsxs(s.Fragment,{children:[H&&s.jsx(b3,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:H}),s.jsx(x3,{scope:r,onClose:re,children:bl.createPortal(s.jsx(Bw.ItemSlot,{scope:r,children:s.jsx(JI,{asChild:!0,onEscapeKeyDown:Ce(l,()=>{v.isFocusedToastEscapeKeyDownRef.current||re(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:s.jsx(Ie.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":v.swipeDirection,...w,ref:x,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Ce(e.onKeyDown,V=>{V.key==="Escape"&&(l==null||l(V.nativeEvent),V.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,re()))}),onPointerDown:Ce(e.onPointerDown,V=>{V.button===0&&(b.current={x:V.clientX,y:V.clientY})}),onPointerMove:Ce(e.onPointerMove,V=>{if(!b.current)return;const se=V.clientX-b.current.x,ee=V.clientY-b.current.y,J=!!_.current,I=["left","right"].includes(v.swipeDirection),D=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,C=I?D(0,se):0,E=I?0:D(0,ee),A=V.pointerType==="touch"?10:2,Y={x:C,y:E},k={originalEvent:V,delta:Y};J?(_.current=Y,Oh(p3,h,k,{discrete:!1})):j_(Y,v.swipeDirection,A)?(_.current=Y,Oh(m3,u,k,{discrete:!1}),V.target.setPointerCapture(V.pointerId)):(Math.abs(se)>A||Math.abs(ee)>A)&&(b.current=null)}),onPointerUp:Ce(e.onPointerUp,V=>{const se=_.current,ee=V.target;if(ee.hasPointerCapture(V.pointerId)&&ee.releasePointerCapture(V.pointerId),_.current=null,b.current=null,se){const J=V.currentTarget,I={originalEvent:V,delta:se};j_(se,v.swipeDirection,v.swipeThreshold)?Oh(v3,p,I,{discrete:!0}):Oh(g3,m,I,{discrete:!0}),J.addEventListener("click",D=>D.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),b3=e=>{const{__scopeToast:t,children:r,...n}=e,a=Zp(Tf,t),[i,o]=f.useState(!1),[l,c]=f.useState(!1);return N3(()=>o(!0)),f.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:s.jsx(fd,{asChild:!0,children:s.jsx(Xp,{...n,children:i&&s.jsxs(s.Fragment,{children:[a.label," ",r]})})})},j3="ToastTitle",f2=f.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return s.jsx(Ie.div,{...n,ref:t})});f2.displayName=j3;var _3="ToastDescription",h2=f.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return s.jsx(Ie.div,{...n,ref:t})});h2.displayName=_3;var m2="ToastAction",p2=f.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?s.jsx(v2,{altText:r,asChild:!0,children:s.jsx(qw,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${m2}\`. Expected non-empty \`string\`.`),null)});p2.displayName=m2;var g2="ToastClose",qw=f.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,a=y3(g2,r);return s.jsx(v2,{asChild:!0,children:s.jsx(Ie.button,{type:"button",...n,ref:t,onClick:Ce(e.onClick,a.onClose)})})});qw.displayName=g2;var v2=f.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...a}=e;return s.jsx(Ie.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...a,ref:t})});function x2(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),S3(n)){const a=n.ariaHidden||n.hidden||n.style.display==="none",i=n.dataset.radixToastAnnounceExclude==="";if(!a)if(i){const o=n.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...x2(n))}}),t}function Oh(e,t,r,{discrete:n}){const a=r.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?zw(a,i):a.dispatchEvent(i)}var j_=(e,t,r=0)=>{const n=Math.abs(e.x),a=Math.abs(e.y),i=n>a;return t==="left"||t==="right"?i&&n>r:!i&&a>r};function N3(e=()=>{}){const t=yr(e);Sr(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function S3(e){return e.nodeType===e.ELEMENT_NODE}function C3(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Jv(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var k3=o2,y2=c2,w2=u2,b2=f2,j2=h2,_2=p2,N2=qw;function S2(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=S2(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function C2(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=S2(e))&&(n&&(n+=" "),n+=t);return n}const __=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,N_=C2,Nl=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return N_(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:i}=t,o=Object.keys(a).map(d=>{const u=r==null?void 0:r[d],h=i==null?void 0:i[d];if(u===null)return null;const m=__(u)||__(h);return a[d][m]}),l=r&&Object.entries(r).reduce((d,u)=>{let[h,m]=u;return m===void 0||(d[h]=m),d},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((d,u)=>{let{class:h,className:m,...p}=u;return Object.entries(p).every(w=>{let[v,g]=w;return Array.isArray(g)?g.includes({...i,...l}[v]):{...i,...l}[v]===g})?[...d,h,m]:d},[]);return N_(e,o,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E3=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),k2=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var P3={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T3=f.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:o,...l},c)=>f.createElement("svg",{ref:c,...P3,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:k2("lucide",a),...l},[...o.map(([d,u])=>f.createElement(d,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const De=(e,t)=>{const r=f.forwardRef(({className:n,...a},i)=>f.createElement(T3,{ref:i,iconNode:t,className:k2(`lucide-${E3(e)}`,n),...a}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jp=De("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R3=De("BadgeCheck",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M3=De("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bn=De("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A3=De("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ds=De("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E2=De("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P2=De("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vw=De("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T2=De("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ex=De("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O3=De("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ww=De("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hw=De("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D3=De("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S_=De("Clock3",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16.5 12",key:"1aq6pp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R2=De("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C_=De("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fm=De("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hm=De("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yi=De("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I3=De("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zn=De("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $r=De("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F3=De("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gc=De("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hm=De("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tx=De("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rx=De("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L3=De("Handshake",[["path",{d:"m11 17 2 2a1 1 0 1 0 3-3",key:"efffak"}],["path",{d:"m14 14 2.5 2.5a1 1 0 1 0 3-3l-3.88-3.88a3 3 0 0 0-4.24 0l-.88.88a1 1 0 1 1-3-3l2.81-2.81a5.79 5.79 0 0 1 7.06-.87l.47.28a2 2 0 0 0 1.42.25L21 4",key:"9pr0kb"}],["path",{d:"m21 3 1 11h-2",key:"1tisrp"}],["path",{d:"M3 3 2 14l6.5 6.5a1 1 0 1 0 3-3",key:"1uvwmv"}],["path",{d:"M3 4h8",key:"1ep09j"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cn=De("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M2=De("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vc=De("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $3=De("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z3=De("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U3=De("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k_=De("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E_=De("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dh=De("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eg=De("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A2=De("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O2=De("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rf=De("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $l=De("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B3=De("MessageSquareText",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}],["path",{d:"M13 8H7",key:"14i4kc"}],["path",{d:"M17 12H7",key:"16if0g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tg=De("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nr=De("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q3=De("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nc=De("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cu=De("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V3=De("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P_=De("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ls=De("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W3=De("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T_=De("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const du=De("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ga=De("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rg=De("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yn=De("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H3=De("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uu=De("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nx=De("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sx=De("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D2=De("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yc=De("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tf=De("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mr=De("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K3=De("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]),Kw="-",G3=e=>{const t=Q3(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const l=o.split(Kw);return l[0]===""&&l.length!==1&&l.shift(),I2(l,t)||Y3(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},I2=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),a=n?I2(e.slice(1),n):void 0;if(a)return a;if(t.validators.length===0)return;const i=e.join(Kw);return(o=t.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},R_=/^\[(.+)\]$/,Y3=e=>{if(R_.test(e)){const t=R_.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},Q3=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return Z3(Object.entries(e.classGroups),r).forEach(([i,o])=>{zy(o,n,i,t)}),n},zy=(e,t,r,n)=>{e.forEach(a=>{if(typeof a=="string"){const i=a===""?t:M_(t,a);i.classGroupId=r;return}if(typeof a=="function"){if(X3(a)){zy(a(n),t,r,n);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([i,o])=>{zy(o,M_(t,i),r,n)})})},M_=(e,t)=>{let r=e;return t.split(Kw).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},X3=e=>e.isThemeGetter,Z3=(e,t)=>t?e.map(([r,n])=>{const a=n.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[t+o,l])):i);return[r,a]}):e,J3=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const a=(i,o)=>{r.set(i,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return a(i,o),o},set(i,o){r.has(i)?r.set(i,o):a(i,o)}}},F2="!",eF=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,a=t[0],i=t.length,o=l=>{const c=[];let d=0,u=0,h;for(let g=0;g<l.length;g++){let y=l[g];if(d===0){if(y===a&&(n||l.slice(g,g+i)===t)){c.push(l.slice(u,g)),u=g+i;continue}if(y==="/"){h=g;continue}}y==="["?d++:y==="]"&&d--}const m=c.length===0?l:l.substring(u),p=m.startsWith(F2),w=p?m.substring(1):m,v=h&&h>u?h-u:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:w,maybePostfixModifierPosition:v}};return r?l=>r({className:l,parseClassName:o}):o},tF=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},rF=e=>({cache:J3(e.cacheSize),parseClassName:eF(e),...G3(e)}),nF=/\s+/,sF=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a}=t,i=[],o=e.trim().split(nF);let l="";for(let c=o.length-1;c>=0;c-=1){const d=o[c],{modifiers:u,hasImportantModifier:h,baseClassName:m,maybePostfixModifierPosition:p}=r(d);let w=!!p,v=n(w?m.substring(0,p):m);if(!v){if(!w){l=d+(l.length>0?" "+l:l);continue}if(v=n(m),!v){l=d+(l.length>0?" "+l:l);continue}w=!1}const g=tF(u).join(":"),y=h?g+F2:g,x=y+v;if(i.includes(x))continue;i.push(x);const b=a(v,w);for(let _=0;_<b.length;++_){const N=b[_];i.push(y+N)}l=d+(l.length>0?" "+l:l)}return l};function aF(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=L2(t))&&(n&&(n+=" "),n+=r);return n}const L2=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=L2(e[n]))&&(r&&(r+=" "),r+=t);return r};function iF(e,...t){let r,n,a,i=o;function o(c){const d=t.reduce((u,h)=>h(u),e());return r=rF(d),n=r.cache.get,a=r.cache.set,i=l,l(c)}function l(c){const d=n(c);if(d)return d;const u=sF(c,r);return a(c,u),u}return function(){return i(aF.apply(null,arguments))}}const tr=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},$2=/^\[(?:([a-z-]+):)?(.+)\]$/i,oF=/^\d+\/\d+$/,lF=new Set(["px","full","screen"]),cF=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,dF=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,uF=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,fF=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,hF=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ka=e=>Sc(e)||lF.has(e)||oF.test(e),ui=e=>hd(e,"length",bF),Sc=e=>!!e&&!Number.isNaN(Number(e)),ax=e=>hd(e,"number",Sc),Jd=e=>!!e&&Number.isInteger(Number(e)),mF=e=>e.endsWith("%")&&Sc(e.slice(0,-1)),ft=e=>$2.test(e),fi=e=>cF.test(e),pF=new Set(["length","size","percentage"]),gF=e=>hd(e,pF,z2),vF=e=>hd(e,"position",z2),xF=new Set(["image","url"]),yF=e=>hd(e,xF,_F),wF=e=>hd(e,"",jF),eu=()=>!0,hd=(e,t,r)=>{const n=$2.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},bF=e=>dF.test(e)&&!uF.test(e),z2=()=>!1,jF=e=>fF.test(e),_F=e=>hF.test(e),NF=()=>{const e=tr("colors"),t=tr("spacing"),r=tr("blur"),n=tr("brightness"),a=tr("borderColor"),i=tr("borderRadius"),o=tr("borderSpacing"),l=tr("borderWidth"),c=tr("contrast"),d=tr("grayscale"),u=tr("hueRotate"),h=tr("invert"),m=tr("gap"),p=tr("gradientColorStops"),w=tr("gradientColorStopPositions"),v=tr("inset"),g=tr("margin"),y=tr("opacity"),x=tr("padding"),b=tr("saturate"),_=tr("scale"),N=tr("sepia"),P=tr("skew"),S=tr("space"),T=tr("translate"),U=()=>["auto","contain","none"],q=()=>["auto","hidden","clip","visible","scroll"],re=()=>["auto",ft,t],G=()=>[ft,t],H=()=>["",ka,ui],V=()=>["auto",Sc,ft],se=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ee=()=>["solid","dashed","dotted","double","none"],J=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],I=()=>["start","end","center","between","around","evenly","stretch"],D=()=>["","0",ft],C=()=>["auto","avoid","all","avoid-page","page","left","right","column"],E=()=>[Sc,ft];return{cacheSize:500,separator:":",theme:{colors:[eu],spacing:[ka,ui],blur:["none","",fi,ft],brightness:E(),borderColor:[e],borderRadius:["none","","full",fi,ft],borderSpacing:G(),borderWidth:H(),contrast:E(),grayscale:D(),hueRotate:E(),invert:D(),gap:G(),gradientColorStops:[e],gradientColorStopPositions:[mF,ui],inset:re(),margin:re(),opacity:E(),padding:G(),saturate:E(),scale:E(),sepia:D(),skew:E(),space:G(),translate:G()},classGroups:{aspect:[{aspect:["auto","square","video",ft]}],container:["container"],columns:[{columns:[fi]}],"break-after":[{"break-after":C()}],"break-before":[{"break-before":C()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...se(),ft]}],overflow:[{overflow:q()}],"overflow-x":[{"overflow-x":q()}],"overflow-y":[{"overflow-y":q()}],overscroll:[{overscroll:U()}],"overscroll-x":[{"overscroll-x":U()}],"overscroll-y":[{"overscroll-y":U()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Jd,ft]}],basis:[{basis:re()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ft]}],grow:[{grow:D()}],shrink:[{shrink:D()}],order:[{order:["first","last","none",Jd,ft]}],"grid-cols":[{"grid-cols":[eu]}],"col-start-end":[{col:["auto",{span:["full",Jd,ft]},ft]}],"col-start":[{"col-start":V()}],"col-end":[{"col-end":V()}],"grid-rows":[{"grid-rows":[eu]}],"row-start-end":[{row:["auto",{span:[Jd,ft]},ft]}],"row-start":[{"row-start":V()}],"row-end":[{"row-end":V()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ft]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ft]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...I()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...I(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...I(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[g]}],mx:[{mx:[g]}],my:[{my:[g]}],ms:[{ms:[g]}],me:[{me:[g]}],mt:[{mt:[g]}],mr:[{mr:[g]}],mb:[{mb:[g]}],ml:[{ml:[g]}],"space-x":[{"space-x":[S]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[S]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ft,t]}],"min-w":[{"min-w":[ft,t,"min","max","fit"]}],"max-w":[{"max-w":[ft,t,"none","full","min","max","fit","prose",{screen:[fi]},fi]}],h:[{h:[ft,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ft,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ft,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ft,t,"auto","min","max","fit"]}],"font-size":[{text:["base",fi,ui]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",ax]}],"font-family":[{font:[eu]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ft]}],"line-clamp":[{"line-clamp":["none",Sc,ax]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ka,ft]}],"list-image":[{"list-image":["none",ft]}],"list-style-type":[{list:["none","disc","decimal",ft]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ee(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ka,ui]}],"underline-offset":[{"underline-offset":["auto",ka,ft]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:G()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ft]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ft]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...se(),vF]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",gF]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},yF]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...ee(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:ee()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...ee()]}],"outline-offset":[{"outline-offset":[ka,ft]}],"outline-w":[{outline:[ka,ui]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:H()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[ka,ui]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",fi,wF]}],"shadow-color":[{shadow:[eu]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...J(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":J()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",fi,ft]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[h]}],saturate:[{saturate:[b]}],sepia:[{sepia:[N]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[N]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ft]}],duration:[{duration:E()}],ease:[{ease:["linear","in","out","in-out",ft]}],delay:[{delay:E()}],animate:[{animate:["none","spin","ping","pulse","bounce",ft]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[Jd,ft]}],"translate-x":[{"translate-x":[T]}],"translate-y":[{"translate-y":[T]}],"skew-x":[{"skew-x":[P]}],"skew-y":[{"skew-y":[P]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ft]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ft]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":G()}],"scroll-mx":[{"scroll-mx":G()}],"scroll-my":[{"scroll-my":G()}],"scroll-ms":[{"scroll-ms":G()}],"scroll-me":[{"scroll-me":G()}],"scroll-mt":[{"scroll-mt":G()}],"scroll-mr":[{"scroll-mr":G()}],"scroll-mb":[{"scroll-mb":G()}],"scroll-ml":[{"scroll-ml":G()}],"scroll-p":[{"scroll-p":G()}],"scroll-px":[{"scroll-px":G()}],"scroll-py":[{"scroll-py":G()}],"scroll-ps":[{"scroll-ps":G()}],"scroll-pe":[{"scroll-pe":G()}],"scroll-pt":[{"scroll-pt":G()}],"scroll-pr":[{"scroll-pr":G()}],"scroll-pb":[{"scroll-pb":G()}],"scroll-pl":[{"scroll-pl":G()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ft]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[ka,ui,ax]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},SF=iF(NF);function le(...e){return SF(C2(e))}const CF=k3,U2=f.forwardRef(({className:e,...t},r)=>s.jsx(y2,{ref:r,className:le("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));U2.displayName=y2.displayName;const kF=Nl("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),B2=f.forwardRef(({className:e,variant:t,...r},n)=>s.jsx(w2,{ref:n,className:le(kF({variant:t}),e),...r}));B2.displayName=w2.displayName;const EF=f.forwardRef(({className:e,...t},r)=>s.jsx(_2,{ref:r,className:le("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));EF.displayName=_2.displayName;const q2=f.forwardRef(({className:e,...t},r)=>s.jsx(N2,{ref:r,className:le("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:s.jsx(Mr,{className:"h-4 w-4"})}));q2.displayName=N2.displayName;const V2=f.forwardRef(({className:e,...t},r)=>s.jsx(b2,{ref:r,className:le("text-sm font-semibold",e),...t}));V2.displayName=b2.displayName;const W2=f.forwardRef(({className:e,...t},r)=>s.jsx(j2,{ref:r,className:le("text-sm opacity-90",e),...t}));W2.displayName=j2.displayName;function PF(){const{toasts:e}=Ys();return s.jsxs(CF,{children:[e.map(function({id:t,title:r,description:n,action:a,...i}){return s.jsxs(B2,{...i,children:[s.jsxs("div",{className:"grid gap-1",children:[r&&s.jsx(V2,{children:r}),n&&s.jsx(W2,{children:n})]}),a,s.jsx(q2,{})]},t)}),s.jsx(U2,{})]})}var Km=["light","dark"],Gw="(prefers-color-scheme: dark)",TF=typeof window>"u",Yw=f.createContext(void 0),RF={setTheme:e=>{},themes:[]},is=()=>{var e;return(e=f.useContext(Yw))!=null?e:RF},MF=e=>f.useContext(Yw)?e.children:f.createElement(OF,{...e}),AF=["light","dark"],OF=({forcedTheme:e,disableTransitionOnChange:t=!1,enableSystem:r=!0,enableColorScheme:n=!0,storageKey:a="theme",themes:i=AF,defaultTheme:o=r?"system":"light",attribute:l="data-theme",value:c,children:d,nonce:u})=>{let[h,m]=f.useState(()=>A_(a,o)),[p,w]=f.useState(()=>A_(a)),v=c?Object.values(c):i,g=f.useCallback(_=>{let N=_;if(!N)return;_==="system"&&r&&(N=O_());let P=c?c[N]:N,S=t?IF():null,T=document.documentElement;if(l==="class"?(T.classList.remove(...v),P&&T.classList.add(P)):P?T.setAttribute(l,P):T.removeAttribute(l),n){let U=Km.includes(o)?o:null,q=Km.includes(N)?N:U;T.style.colorScheme=q}S==null||S()},[]),y=f.useCallback(_=>{let N=typeof _=="function"?_(_):_;m(N);try{localStorage.setItem(a,N)}catch{}},[e]),x=f.useCallback(_=>{let N=O_(_);w(N),h==="system"&&r&&!e&&g("system")},[h,e]);f.useEffect(()=>{let _=window.matchMedia(Gw);return _.addListener(x),x(_),()=>_.removeListener(x)},[x]),f.useEffect(()=>{let _=N=>{if(N.key!==a)return;let P=N.newValue||o;y(P)};return window.addEventListener("storage",_),()=>window.removeEventListener("storage",_)},[y]),f.useEffect(()=>{g(e??h)},[e,h]);let b=f.useMemo(()=>({theme:h,setTheme:y,forcedTheme:e,resolvedTheme:h==="system"?p:h,themes:r?[...i,"system"]:i,systemTheme:r?p:void 0}),[h,y,e,p,r,i]);return f.createElement(Yw.Provider,{value:b},f.createElement(DF,{forcedTheme:e,disableTransitionOnChange:t,enableSystem:r,enableColorScheme:n,storageKey:a,themes:i,defaultTheme:o,attribute:l,value:c,children:d,attrs:v,nonce:u}),d)},DF=f.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:a,defaultTheme:i,value:o,attrs:l,nonce:c})=>{let d=i==="system",u=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(w=>`'${w}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,h=a?Km.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",m=(w,v=!1,g=!0)=>{let y=o?o[w]:w,x=v?w+"|| ''":`'${y}'`,b="";return a&&g&&!v&&Km.includes(w)&&(b+=`d.style.colorScheme = '${w}';`),r==="class"?v||y?b+=`c.add(${x})`:b+="null":y&&(b+=`d[s](n,${x})`),b},p=e?`!function(){${u}${m(e)}}()`:n?`!function(){try{${u}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${d})){var t='${Gw}',m=window.matchMedia(t);if(m.media!==t||m.matches){${m("dark")}}else{${m("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${m(o?"x[e]":"e",!0)}}${d?"":"else{"+m(i,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${u}var e=localStorage.getItem('${t}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${m(o?"x[e]":"e",!0)}}else{${m(i,!1,!1)};}${h}}catch(t){}}();`;return f.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:p}})}),A_=(e,t)=>{if(TF)return;let r;try{r=localStorage.getItem(e)||void 0}catch{}return r||t},IF=()=>{let e=document.createElement("style");return e.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(e),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(e)},1)}},O_=e=>(e||(e=window.matchMedia(Gw)),e.matches?"dark":"light"),FF=e=>{switch(e){case"success":return zF;case"info":return BF;case"warning":return UF;case"error":return qF;default:return null}},LF=Array(12).fill(0),$F=({visible:e,className:t})=>he.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},he.createElement("div",{className:"sonner-spinner"},LF.map((r,n)=>he.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),zF=he.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},he.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),UF=he.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},he.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),BF=he.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},he.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),qF=he.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},he.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),VF=he.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},he.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),he.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),WF=()=>{let[e,t]=he.useState(document.hidden);return he.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},Uy=1,HF=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,a=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:Uy++,i=this.toasts.find(l=>l.id===a),o=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),i?this.toasts=this.toasts.map(l=>l.id===a?(this.publish({...l,...e,id:a,title:r}),{...l,...e,id:a,dismissible:o,title:r}):l):this.addToast({title:r,...n,dismissible:o,id:a}),a},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),a=r!==void 0,i,o=n.then(async c=>{if(i=["resolve",c],he.isValidElement(c))a=!1,this.create({id:r,type:"default",message:c});else if(GF(c)&&!c.ok){a=!1;let d=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,u=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:r,type:"error",message:d,description:u})}else if(t.success!==void 0){a=!1;let d=typeof t.success=="function"?await t.success(c):t.success,u=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"success",message:d,description:u})}}).catch(async c=>{if(i=["reject",c],t.error!==void 0){a=!1;let d=typeof t.error=="function"?await t.error(c):t.error,u=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"error",message:d,description:u})}}).finally(()=>{var c;a&&(this.dismiss(r),r=void 0),(c=t.finally)==null||c.call(t)}),l=()=>new Promise((c,d)=>o.then(()=>i[0]==="reject"?d(i[1]):c(i[1])).catch(d));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||Uy++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},On=new HF,KF=(e,t)=>{let r=(t==null?void 0:t.id)||Uy++;return On.addToast({title:e,...t,id:r}),r},GF=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",YF=KF,QF=()=>On.toasts,XF=()=>On.getActiveToasts();Object.assign(YF,{success:On.success,info:On.info,warning:On.warning,error:On.error,custom:On.custom,message:On.message,promise:On.promise,dismiss:On.dismiss,loading:On.loading},{getHistory:QF,getToasts:XF});function ZF(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}ZF(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Ih(e){return e.label!==void 0}var JF=3,eL="32px",tL="16px",D_=4e3,rL=356,nL=14,sL=20,aL=200;function Es(...e){return e.filter(Boolean).join(" ")}function iL(e){let[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}var oL=e=>{var t,r,n,a,i,o,l,c,d,u,h;let{invert:m,toast:p,unstyled:w,interacting:v,setHeights:g,visibleToasts:y,heights:x,index:b,toasts:_,expanded:N,removeToast:P,defaultRichColors:S,closeButton:T,style:U,cancelButtonStyle:q,actionButtonStyle:re,className:G="",descriptionClassName:H="",duration:V,position:se,gap:ee,loadingIcon:J,expandByDefault:I,classNames:D,icons:C,closeButtonAriaLabel:E="Close toast",pauseWhenPageIsHidden:A}=e,[Y,k]=he.useState(null),[z,ne]=he.useState(null),[Q,R]=he.useState(!1),[L,Z]=he.useState(!1),[ue,_e]=he.useState(!1),[me,xe]=he.useState(!1),[Ge,_t]=he.useState(!1),[Ot,Ct]=he.useState(0),[$t,B]=he.useState(0),te=he.useRef(p.duration||V||D_),ce=he.useRef(null),be=he.useRef(null),we=b===0,pe=b+1<=y,Se=p.type,Ue=p.dismissible!==!1,fe=p.className||"",We=p.descriptionClassName||"",vt=he.useMemo(()=>x.findIndex(ke=>ke.toastId===p.id)||0,[x,p.id]),et=he.useMemo(()=>{var ke;return(ke=p.closeButton)!=null?ke:T},[p.closeButton,T]),kt=he.useMemo(()=>p.duration||V||D_,[p.duration,V]),qt=he.useRef(0),ir=he.useRef(0),F=he.useRef(0),ae=he.useRef(null),[ye,Pe]=se.split("-"),nt=he.useMemo(()=>x.reduce((ke,qe,Ye)=>Ye>=vt?ke:ke+qe.height,0),[x,vt]),st=WF(),$e=p.invert||m,wr=Se==="loading";ir.current=he.useMemo(()=>vt*ee+nt,[vt,nt]),he.useEffect(()=>{te.current=kt},[kt]),he.useEffect(()=>{R(!0)},[]),he.useEffect(()=>{let ke=be.current;if(ke){let qe=ke.getBoundingClientRect().height;return B(qe),g(Ye=>[{toastId:p.id,height:qe,position:p.position},...Ye]),()=>g(Ye=>Ye.filter(ut=>ut.toastId!==p.id))}},[g,p.id]),he.useLayoutEffect(()=>{if(!Q)return;let ke=be.current,qe=ke.style.height;ke.style.height="auto";let Ye=ke.getBoundingClientRect().height;ke.style.height=qe,B(Ye),g(ut=>ut.find(xt=>xt.toastId===p.id)?ut.map(xt=>xt.toastId===p.id?{...xt,height:Ye}:xt):[{toastId:p.id,height:Ye,position:p.position},...ut])},[Q,p.title,p.description,g,p.id]);let Cr=he.useCallback(()=>{Z(!0),Ct(ir.current),g(ke=>ke.filter(qe=>qe.toastId!==p.id)),setTimeout(()=>{P(p)},aL)},[p,P,g,ir]);he.useEffect(()=>{if(p.promise&&Se==="loading"||p.duration===1/0||p.type==="loading")return;let ke;return N||v||A&&st?(()=>{if(F.current<qt.current){let qe=new Date().getTime()-qt.current;te.current=te.current-qe}F.current=new Date().getTime()})():te.current!==1/0&&(qt.current=new Date().getTime(),ke=setTimeout(()=>{var qe;(qe=p.onAutoClose)==null||qe.call(p,p),Cr()},te.current)),()=>clearTimeout(ke)},[N,v,p,Se,A,st,Cr]),he.useEffect(()=>{p.delete&&Cr()},[Cr,p.delete]);function Re(){var ke,qe,Ye;return C!=null&&C.loading?he.createElement("div",{className:Es(D==null?void 0:D.loader,(ke=p==null?void 0:p.classNames)==null?void 0:ke.loader,"sonner-loader"),"data-visible":Se==="loading"},C.loading):J?he.createElement("div",{className:Es(D==null?void 0:D.loader,(qe=p==null?void 0:p.classNames)==null?void 0:qe.loader,"sonner-loader"),"data-visible":Se==="loading"},J):he.createElement($F,{className:Es(D==null?void 0:D.loader,(Ye=p==null?void 0:p.classNames)==null?void 0:Ye.loader),visible:Se==="loading"})}return he.createElement("li",{tabIndex:0,ref:be,className:Es(G,fe,D==null?void 0:D.toast,(t=p==null?void 0:p.classNames)==null?void 0:t.toast,D==null?void 0:D.default,D==null?void 0:D[Se],(r=p==null?void 0:p.classNames)==null?void 0:r[Se]),"data-sonner-toast":"","data-rich-colors":(n=p.richColors)!=null?n:S,"data-styled":!(p.jsx||p.unstyled||w),"data-mounted":Q,"data-promise":!!p.promise,"data-swiped":Ge,"data-removed":L,"data-visible":pe,"data-y-position":ye,"data-x-position":Pe,"data-index":b,"data-front":we,"data-swiping":ue,"data-dismissible":Ue,"data-type":Se,"data-invert":$e,"data-swipe-out":me,"data-swipe-direction":z,"data-expanded":!!(N||I&&Q),style:{"--index":b,"--toasts-before":b,"--z-index":_.length-b,"--offset":`${L?Ot:ir.current}px`,"--initial-height":I?"auto":`${$t}px`,...U,...p.style},onDragEnd:()=>{_e(!1),k(null),ae.current=null},onPointerDown:ke=>{wr||!Ue||(ce.current=new Date,Ct(ir.current),ke.target.setPointerCapture(ke.pointerId),ke.target.tagName!=="BUTTON"&&(_e(!0),ae.current={x:ke.clientX,y:ke.clientY}))},onPointerUp:()=>{var ke,qe,Ye,ut;if(me||!Ue)return;ae.current=null;let xt=Number(((ke=be.current)==null?void 0:ke.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),yt=Number(((qe=be.current)==null?void 0:qe.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),ie=new Date().getTime()-((Ye=ce.current)==null?void 0:Ye.getTime()),He=Y==="x"?xt:yt,ze=Math.abs(He)/ie;if(Math.abs(He)>=sL||ze>.11){Ct(ir.current),(ut=p.onDismiss)==null||ut.call(p,p),ne(Y==="x"?xt>0?"right":"left":yt>0?"down":"up"),Cr(),xe(!0),_t(!1);return}_e(!1),k(null)},onPointerMove:ke=>{var qe,Ye,ut,xt;if(!ae.current||!Ue||((qe=window.getSelection())==null?void 0:qe.toString().length)>0)return;let yt=ke.clientY-ae.current.y,ie=ke.clientX-ae.current.x,He=(Ye=e.swipeDirections)!=null?Ye:iL(se);!Y&&(Math.abs(ie)>1||Math.abs(yt)>1)&&k(Math.abs(ie)>Math.abs(yt)?"x":"y");let ze={x:0,y:0};Y==="y"?(He.includes("top")||He.includes("bottom"))&&(He.includes("top")&&yt<0||He.includes("bottom")&&yt>0)&&(ze.y=yt):Y==="x"&&(He.includes("left")||He.includes("right"))&&(He.includes("left")&&ie<0||He.includes("right")&&ie>0)&&(ze.x=ie),(Math.abs(ze.x)>0||Math.abs(ze.y)>0)&&_t(!0),(ut=be.current)==null||ut.style.setProperty("--swipe-amount-x",`${ze.x}px`),(xt=be.current)==null||xt.style.setProperty("--swipe-amount-y",`${ze.y}px`)}},et&&!p.jsx?he.createElement("button",{"aria-label":E,"data-disabled":wr,"data-close-button":!0,onClick:wr||!Ue?()=>{}:()=>{var ke;Cr(),(ke=p.onDismiss)==null||ke.call(p,p)},className:Es(D==null?void 0:D.closeButton,(a=p==null?void 0:p.classNames)==null?void 0:a.closeButton)},(i=C==null?void 0:C.close)!=null?i:VF):null,p.jsx||f.isValidElement(p.title)?p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title:he.createElement(he.Fragment,null,Se||p.icon||p.promise?he.createElement("div",{"data-icon":"",className:Es(D==null?void 0:D.icon,(o=p==null?void 0:p.classNames)==null?void 0:o.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||Re():null,p.type!=="loading"?p.icon||(C==null?void 0:C[Se])||FF(Se):null):null,he.createElement("div",{"data-content":"",className:Es(D==null?void 0:D.content,(l=p==null?void 0:p.classNames)==null?void 0:l.content)},he.createElement("div",{"data-title":"",className:Es(D==null?void 0:D.title,(c=p==null?void 0:p.classNames)==null?void 0:c.title)},typeof p.title=="function"?p.title():p.title),p.description?he.createElement("div",{"data-description":"",className:Es(H,We,D==null?void 0:D.description,(d=p==null?void 0:p.classNames)==null?void 0:d.description)},typeof p.description=="function"?p.description():p.description):null),f.isValidElement(p.cancel)?p.cancel:p.cancel&&Ih(p.cancel)?he.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||q,onClick:ke=>{var qe,Ye;Ih(p.cancel)&&Ue&&((Ye=(qe=p.cancel).onClick)==null||Ye.call(qe,ke),Cr())},className:Es(D==null?void 0:D.cancelButton,(u=p==null?void 0:p.classNames)==null?void 0:u.cancelButton)},p.cancel.label):null,f.isValidElement(p.action)?p.action:p.action&&Ih(p.action)?he.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||re,onClick:ke=>{var qe,Ye;Ih(p.action)&&((Ye=(qe=p.action).onClick)==null||Ye.call(qe,ke),!ke.defaultPrevented&&Cr())},className:Es(D==null?void 0:D.actionButton,(h=p==null?void 0:p.classNames)==null?void 0:h.actionButton)},p.action.label):null))};function I_(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function lL(e,t){let r={};return[e,t].forEach((n,a)=>{let i=a===1,o=i?"--mobile-offset":"--offset",l=i?tL:eL;function c(d){["top","right","bottom","left"].forEach(u=>{r[`${o}-${u}`]=typeof d=="number"?`${d}px`:d})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(d=>{n[d]===void 0?r[`${o}-${d}`]=l:r[`${o}-${d}`]=typeof n[d]=="number"?`${n[d]}px`:n[d]}):c(l)}),r}var cL=f.forwardRef(function(e,t){let{invert:r,position:n="bottom-right",hotkey:a=["altKey","KeyT"],expand:i,closeButton:o,className:l,offset:c,mobileOffset:d,theme:u="light",richColors:h,duration:m,style:p,visibleToasts:w=JF,toastOptions:v,dir:g=I_(),gap:y=nL,loadingIcon:x,icons:b,containerAriaLabel:_="Notifications",pauseWhenPageIsHidden:N}=e,[P,S]=he.useState([]),T=he.useMemo(()=>Array.from(new Set([n].concat(P.filter(A=>A.position).map(A=>A.position)))),[P,n]),[U,q]=he.useState([]),[re,G]=he.useState(!1),[H,V]=he.useState(!1),[se,ee]=he.useState(u!=="system"?u:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),J=he.useRef(null),I=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),D=he.useRef(null),C=he.useRef(!1),E=he.useCallback(A=>{S(Y=>{var k;return(k=Y.find(z=>z.id===A.id))!=null&&k.delete||On.dismiss(A.id),Y.filter(({id:z})=>z!==A.id)})},[]);return he.useEffect(()=>On.subscribe(A=>{if(A.dismiss){S(Y=>Y.map(k=>k.id===A.id?{...k,delete:!0}:k));return}setTimeout(()=>{Zk.flushSync(()=>{S(Y=>{let k=Y.findIndex(z=>z.id===A.id);return k!==-1?[...Y.slice(0,k),{...Y[k],...A},...Y.slice(k+1)]:[A,...Y]})})})}),[]),he.useEffect(()=>{if(u!=="system"){ee(u);return}if(u==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?ee("dark"):ee("light")),typeof window>"u")return;let A=window.matchMedia("(prefers-color-scheme: dark)");try{A.addEventListener("change",({matches:Y})=>{ee(Y?"dark":"light")})}catch{A.addListener(({matches:k})=>{try{ee(k?"dark":"light")}catch(z){console.error(z)}})}},[u]),he.useEffect(()=>{P.length<=1&&G(!1)},[P]),he.useEffect(()=>{let A=Y=>{var k,z;a.every(ne=>Y[ne]||Y.code===ne)&&(G(!0),(k=J.current)==null||k.focus()),Y.code==="Escape"&&(document.activeElement===J.current||(z=J.current)!=null&&z.contains(document.activeElement))&&G(!1)};return document.addEventListener("keydown",A),()=>document.removeEventListener("keydown",A)},[a]),he.useEffect(()=>{if(J.current)return()=>{D.current&&(D.current.focus({preventScroll:!0}),D.current=null,C.current=!1)}},[J.current]),he.createElement("section",{ref:t,"aria-label":`${_} ${I}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},T.map((A,Y)=>{var k;let[z,ne]=A.split("-");return P.length?he.createElement("ol",{key:A,dir:g==="auto"?I_():g,tabIndex:-1,ref:J,className:l,"data-sonner-toaster":!0,"data-theme":se,"data-y-position":z,"data-lifted":re&&P.length>1&&!i,"data-x-position":ne,style:{"--front-toast-height":`${((k=U[0])==null?void 0:k.height)||0}px`,"--width":`${rL}px`,"--gap":`${y}px`,...p,...lL(c,d)},onBlur:Q=>{C.current&&!Q.currentTarget.contains(Q.relatedTarget)&&(C.current=!1,D.current&&(D.current.focus({preventScroll:!0}),D.current=null))},onFocus:Q=>{Q.target instanceof HTMLElement&&Q.target.dataset.dismissible==="false"||C.current||(C.current=!0,D.current=Q.relatedTarget)},onMouseEnter:()=>G(!0),onMouseMove:()=>G(!0),onMouseLeave:()=>{H||G(!1)},onDragEnd:()=>G(!1),onPointerDown:Q=>{Q.target instanceof HTMLElement&&Q.target.dataset.dismissible==="false"||V(!0)},onPointerUp:()=>V(!1)},P.filter(Q=>!Q.position&&Y===0||Q.position===A).map((Q,R)=>{var L,Z;return he.createElement(oL,{key:Q.id,icons:b,index:R,toast:Q,defaultRichColors:h,duration:(L=v==null?void 0:v.duration)!=null?L:m,className:v==null?void 0:v.className,descriptionClassName:v==null?void 0:v.descriptionClassName,invert:r,visibleToasts:w,closeButton:(Z=v==null?void 0:v.closeButton)!=null?Z:o,interacting:H,position:A,style:v==null?void 0:v.style,unstyled:v==null?void 0:v.unstyled,classNames:v==null?void 0:v.classNames,cancelButtonStyle:v==null?void 0:v.cancelButtonStyle,actionButtonStyle:v==null?void 0:v.actionButtonStyle,removeToast:E,toasts:P.filter(ue=>ue.position==Q.position),heights:U.filter(ue=>ue.position==Q.position),setHeights:q,expandByDefault:i,gap:y,loadingIcon:x,expanded:re,pauseWhenPageIsHidden:N,swipeDirections:e.swipeDirections})})):null}))});const dL=({...e})=>{const{theme:t="system"}=is();return s.jsx(cL,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var uL=Y0[" useId ".trim().toString()]||(()=>{}),fL=0;function Zr(e){const[t,r]=f.useState(uL());return Sr(()=>{e||r(n=>n??String(fL++))},[e]),e||(t?`radix-${t}`:"")}const hL=["top","right","bottom","left"],ao=Math.min,Qn=Math.max,Gm=Math.round,Fh=Math.floor,ma=e=>({x:e,y:e}),mL={left:"right",right:"left",bottom:"top",top:"bottom"},pL={start:"end",end:"start"};function By(e,t,r){return Qn(e,ao(t,r))}function ri(e,t){return typeof e=="function"?e(t):e}function ni(e){return e.split("-")[0]}function md(e){return e.split("-")[1]}function Qw(e){return e==="x"?"y":"x"}function Xw(e){return e==="y"?"height":"width"}const gL=new Set(["top","bottom"]);function la(e){return gL.has(ni(e))?"y":"x"}function Zw(e){return Qw(la(e))}function vL(e,t,r){r===void 0&&(r=!1);const n=md(e),a=Zw(e),i=Xw(a);let o=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=Ym(o)),[o,Ym(o)]}function xL(e){const t=Ym(e);return[qy(e),t,qy(t)]}function qy(e){return e.replace(/start|end/g,t=>pL[t])}const F_=["left","right"],L_=["right","left"],yL=["top","bottom"],wL=["bottom","top"];function bL(e,t,r){switch(e){case"top":case"bottom":return r?t?L_:F_:t?F_:L_;case"left":case"right":return t?yL:wL;default:return[]}}function jL(e,t,r,n){const a=md(e);let i=bL(ni(e),r==="start",n);return a&&(i=i.map(o=>o+"-"+a),t&&(i=i.concat(i.map(qy)))),i}function Ym(e){return e.replace(/left|right|bottom|top/g,t=>mL[t])}function _L(e){return{top:0,right:0,bottom:0,left:0,...e}}function H2(e){return typeof e!="number"?_L(e):{top:e,right:e,bottom:e,left:e}}function Qm(e){const{x:t,y:r,width:n,height:a}=e;return{width:n,height:a,top:r,left:t,right:t+n,bottom:r+a,x:t,y:r}}function $_(e,t,r){let{reference:n,floating:a}=e;const i=la(t),o=Zw(t),l=Xw(o),c=ni(t),d=i==="y",u=n.x+n.width/2-a.width/2,h=n.y+n.height/2-a.height/2,m=n[l]/2-a[l]/2;let p;switch(c){case"top":p={x:u,y:n.y-a.height};break;case"bottom":p={x:u,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:h};break;case"left":p={x:n.x-a.width,y:h};break;default:p={x:n.x,y:n.y}}switch(md(t)){case"start":p[o]-=m*(r&&d?-1:1);break;case"end":p[o]+=m*(r&&d?-1:1);break}return p}const NL=async(e,t,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:i=[],platform:o}=r,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let d=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:u,y:h}=$_(d,n,c),m=n,p={},w=0;for(let v=0;v<l.length;v++){const{name:g,fn:y}=l[v],{x,y:b,data:_,reset:N}=await y({x:u,y:h,initialPlacement:n,placement:m,strategy:a,middlewareData:p,rects:d,platform:o,elements:{reference:e,floating:t}});u=x??u,h=b??h,p={...p,[g]:{...p[g],..._}},N&&w<=50&&(w++,typeof N=="object"&&(N.placement&&(m=N.placement),N.rects&&(d=N.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:a}):N.rects),{x:u,y:h}=$_(d,m,c)),v=-1)}return{x:u,y:h,placement:m,strategy:a,middlewareData:p}};async function rf(e,t){var r;t===void 0&&(t={});const{x:n,y:a,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:d="clippingAncestors",rootBoundary:u="viewport",elementContext:h="floating",altBoundary:m=!1,padding:p=0}=ri(t,e),w=H2(p),g=l[m?h==="floating"?"reference":"floating":h],y=Qm(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(g)))==null||r?g:g.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:d,rootBoundary:u,strategy:c})),x=h==="floating"?{x:n,y:a,width:o.floating.width,height:o.floating.height}:o.reference,b=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),_=await(i.isElement==null?void 0:i.isElement(b))?await(i.getScale==null?void 0:i.getScale(b))||{x:1,y:1}:{x:1,y:1},N=Qm(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:x,offsetParent:b,strategy:c}):x);return{top:(y.top-N.top+w.top)/_.y,bottom:(N.bottom-y.bottom+w.bottom)/_.y,left:(y.left-N.left+w.left)/_.x,right:(N.right-y.right+w.right)/_.x}}const SL=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:a,rects:i,platform:o,elements:l,middlewareData:c}=t,{element:d,padding:u=0}=ri(e,t)||{};if(d==null)return{};const h=H2(u),m={x:r,y:n},p=Zw(a),w=Xw(p),v=await o.getDimensions(d),g=p==="y",y=g?"top":"left",x=g?"bottom":"right",b=g?"clientHeight":"clientWidth",_=i.reference[w]+i.reference[p]-m[p]-i.floating[w],N=m[p]-i.reference[p],P=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let S=P?P[b]:0;(!S||!await(o.isElement==null?void 0:o.isElement(P)))&&(S=l.floating[b]||i.floating[w]);const T=_/2-N/2,U=S/2-v[w]/2-1,q=ao(h[y],U),re=ao(h[x],U),G=q,H=S-v[w]-re,V=S/2-v[w]/2+T,se=By(G,V,H),ee=!c.arrow&&md(a)!=null&&V!==se&&i.reference[w]/2-(V<G?q:re)-v[w]/2<0,J=ee?V<G?V-G:V-H:0;return{[p]:m[p]+J,data:{[p]:se,centerOffset:V-se-J,...ee&&{alignmentOffset:J}},reset:ee}}}),CL=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:a,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:d}=t,{mainAxis:u=!0,crossAxis:h=!0,fallbackPlacements:m,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:v=!0,...g}=ri(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const y=ni(a),x=la(l),b=ni(l)===l,_=await(c.isRTL==null?void 0:c.isRTL(d.floating)),N=m||(b||!v?[Ym(l)]:xL(l)),P=w!=="none";!m&&P&&N.push(...jL(l,v,w,_));const S=[l,...N],T=await rf(t,g),U=[];let q=((n=i.flip)==null?void 0:n.overflows)||[];if(u&&U.push(T[y]),h){const V=vL(a,o,_);U.push(T[V[0]],T[V[1]])}if(q=[...q,{placement:a,overflows:U}],!U.every(V=>V<=0)){var re,G;const V=(((re=i.flip)==null?void 0:re.index)||0)+1,se=S[V];if(se&&(!(h==="alignment"?x!==la(se):!1)||q.every(I=>I.overflows[0]>0&&la(I.placement)===x)))return{data:{index:V,overflows:q},reset:{placement:se}};let ee=(G=q.filter(J=>J.overflows[0]<=0).sort((J,I)=>J.overflows[1]-I.overflows[1])[0])==null?void 0:G.placement;if(!ee)switch(p){case"bestFit":{var H;const J=(H=q.filter(I=>{if(P){const D=la(I.placement);return D===x||D==="y"}return!0}).map(I=>[I.placement,I.overflows.filter(D=>D>0).reduce((D,C)=>D+C,0)]).sort((I,D)=>I[1]-D[1])[0])==null?void 0:H[0];J&&(ee=J);break}case"initialPlacement":ee=l;break}if(a!==ee)return{reset:{placement:ee}}}return{}}}};function z_(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function U_(e){return hL.some(t=>e[t]>=0)}const kL=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...a}=ri(e,t);switch(n){case"referenceHidden":{const i=await rf(t,{...a,elementContext:"reference"}),o=z_(i,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:U_(o)}}}case"escaped":{const i=await rf(t,{...a,altBoundary:!0}),o=z_(i,r.floating);return{data:{escapedOffsets:o,escaped:U_(o)}}}default:return{}}}}},K2=new Set(["left","top"]);async function EL(e,t){const{placement:r,platform:n,elements:a}=e,i=await(n.isRTL==null?void 0:n.isRTL(a.floating)),o=ni(r),l=md(r),c=la(r)==="y",d=K2.has(o)?-1:1,u=i&&c?-1:1,h=ri(t,e);let{mainAxis:m,crossAxis:p,alignmentAxis:w}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof w=="number"&&(p=l==="end"?w*-1:w),c?{x:p*u,y:m*d}:{x:m*d,y:p*u}}const PL=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:a,y:i,placement:o,middlewareData:l}=t,c=await EL(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:a+c.x,y:i+c.y,data:{...c,placement:o}}}}},TL=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:a}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:g=>{let{x:y,y:x}=g;return{x:y,y:x}}},...c}=ri(e,t),d={x:r,y:n},u=await rf(t,c),h=la(ni(a)),m=Qw(h);let p=d[m],w=d[h];if(i){const g=m==="y"?"top":"left",y=m==="y"?"bottom":"right",x=p+u[g],b=p-u[y];p=By(x,p,b)}if(o){const g=h==="y"?"top":"left",y=h==="y"?"bottom":"right",x=w+u[g],b=w-u[y];w=By(x,w,b)}const v=l.fn({...t,[m]:p,[h]:w});return{...v,data:{x:v.x-r,y:v.y-n,enabled:{[m]:i,[h]:o}}}}}},RL=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:a,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=ri(e,t),u={x:r,y:n},h=la(a),m=Qw(h);let p=u[m],w=u[h];const v=ri(l,t),g=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(c){const b=m==="y"?"height":"width",_=i.reference[m]-i.floating[b]+g.mainAxis,N=i.reference[m]+i.reference[b]-g.mainAxis;p<_?p=_:p>N&&(p=N)}if(d){var y,x;const b=m==="y"?"width":"height",_=K2.has(ni(a)),N=i.reference[h]-i.floating[b]+(_&&((y=o.offset)==null?void 0:y[h])||0)+(_?0:g.crossAxis),P=i.reference[h]+i.reference[b]+(_?0:((x=o.offset)==null?void 0:x[h])||0)-(_?g.crossAxis:0);w<N?w=N:w>P&&(w=P)}return{[m]:p,[h]:w}}}},ML=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:a,rects:i,platform:o,elements:l}=t,{apply:c=()=>{},...d}=ri(e,t),u=await rf(t,d),h=ni(a),m=md(a),p=la(a)==="y",{width:w,height:v}=i.floating;let g,y;h==="top"||h==="bottom"?(g=h,y=m===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(y=h,g=m==="end"?"top":"bottom");const x=v-u.top-u.bottom,b=w-u.left-u.right,_=ao(v-u[g],x),N=ao(w-u[y],b),P=!t.middlewareData.shift;let S=_,T=N;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(T=b),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(S=x),P&&!m){const q=Qn(u.left,0),re=Qn(u.right,0),G=Qn(u.top,0),H=Qn(u.bottom,0);p?T=w-2*(q!==0||re!==0?q+re:Qn(u.left,u.right)):S=v-2*(G!==0||H!==0?G+H:Qn(u.top,u.bottom))}await c({...t,availableWidth:T,availableHeight:S});const U=await o.getDimensions(l.floating);return w!==U.width||v!==U.height?{reset:{rects:!0}}:{}}}};function ng(){return typeof window<"u"}function pd(e){return G2(e)?(e.nodeName||"").toLowerCase():"#document"}function es(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function wa(e){var t;return(t=(G2(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function G2(e){return ng()?e instanceof Node||e instanceof es(e).Node:!1}function Ws(e){return ng()?e instanceof Element||e instanceof es(e).Element:!1}function xa(e){return ng()?e instanceof HTMLElement||e instanceof es(e).HTMLElement:!1}function B_(e){return!ng()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof es(e).ShadowRoot}const AL=new Set(["inline","contents"]);function Mf(e){const{overflow:t,overflowX:r,overflowY:n,display:a}=Hs(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!AL.has(a)}const OL=new Set(["table","td","th"]);function DL(e){return OL.has(pd(e))}const IL=[":popover-open",":modal"];function sg(e){return IL.some(t=>{try{return e.matches(t)}catch{return!1}})}const FL=["transform","translate","scale","rotate","perspective"],LL=["transform","translate","scale","rotate","perspective","filter"],$L=["paint","layout","strict","content"];function Jw(e){const t=eb(),r=Ws(e)?Hs(e):e;return FL.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||LL.some(n=>(r.willChange||"").includes(n))||$L.some(n=>(r.contain||"").includes(n))}function zL(e){let t=io(e);for(;xa(t)&&!Qc(t);){if(Jw(t))return t;if(sg(t))return null;t=io(t)}return null}function eb(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const UL=new Set(["html","body","#document"]);function Qc(e){return UL.has(pd(e))}function Hs(e){return es(e).getComputedStyle(e)}function ag(e){return Ws(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function io(e){if(pd(e)==="html")return e;const t=e.assignedSlot||e.parentNode||B_(e)&&e.host||wa(e);return B_(t)?t.host:t}function Y2(e){const t=io(e);return Qc(t)?e.ownerDocument?e.ownerDocument.body:e.body:xa(t)&&Mf(t)?t:Y2(t)}function nf(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=Y2(e),i=a===((n=e.ownerDocument)==null?void 0:n.body),o=es(a);if(i){const l=Vy(o);return t.concat(o,o.visualViewport||[],Mf(a)?a:[],l&&r?nf(l):[])}return t.concat(a,nf(a,[],r))}function Vy(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Q2(e){const t=Hs(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=xa(e),i=a?e.offsetWidth:r,o=a?e.offsetHeight:n,l=Gm(r)!==i||Gm(n)!==o;return l&&(r=i,n=o),{width:r,height:n,$:l}}function tb(e){return Ws(e)?e:e.contextElement}function Cc(e){const t=tb(e);if(!xa(t))return ma(1);const r=t.getBoundingClientRect(),{width:n,height:a,$:i}=Q2(t);let o=(i?Gm(r.width):r.width)/n,l=(i?Gm(r.height):r.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const BL=ma(0);function X2(e){const t=es(e);return!eb()||!t.visualViewport?BL:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function qL(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==es(e)?!1:t}function sl(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),i=tb(e);let o=ma(1);t&&(n?Ws(n)&&(o=Cc(n)):o=Cc(e));const l=qL(i,r,n)?X2(i):ma(0);let c=(a.left+l.x)/o.x,d=(a.top+l.y)/o.y,u=a.width/o.x,h=a.height/o.y;if(i){const m=es(i),p=n&&Ws(n)?es(n):n;let w=m,v=Vy(w);for(;v&&n&&p!==w;){const g=Cc(v),y=v.getBoundingClientRect(),x=Hs(v),b=y.left+(v.clientLeft+parseFloat(x.paddingLeft))*g.x,_=y.top+(v.clientTop+parseFloat(x.paddingTop))*g.y;c*=g.x,d*=g.y,u*=g.x,h*=g.y,c+=b,d+=_,w=es(v),v=Vy(w)}}return Qm({width:u,height:h,x:c,y:d})}function rb(e,t){const r=ag(e).scrollLeft;return t?t.left+r:sl(wa(e)).left+r}function Z2(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),a=n.left+t.scrollLeft-(r?0:rb(e,n)),i=n.top+t.scrollTop;return{x:a,y:i}}function VL(e){let{elements:t,rect:r,offsetParent:n,strategy:a}=e;const i=a==="fixed",o=wa(n),l=t?sg(t.floating):!1;if(n===o||l&&i)return r;let c={scrollLeft:0,scrollTop:0},d=ma(1);const u=ma(0),h=xa(n);if((h||!h&&!i)&&((pd(n)!=="body"||Mf(o))&&(c=ag(n)),xa(n))){const p=sl(n);d=Cc(n),u.x=p.x+n.clientLeft,u.y=p.y+n.clientTop}const m=o&&!h&&!i?Z2(o,c,!0):ma(0);return{width:r.width*d.x,height:r.height*d.y,x:r.x*d.x-c.scrollLeft*d.x+u.x+m.x,y:r.y*d.y-c.scrollTop*d.y+u.y+m.y}}function WL(e){return Array.from(e.getClientRects())}function HL(e){const t=wa(e),r=ag(e),n=e.ownerDocument.body,a=Qn(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=Qn(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+rb(e);const l=-r.scrollTop;return Hs(n).direction==="rtl"&&(o+=Qn(t.clientWidth,n.clientWidth)-a),{width:a,height:i,x:o,y:l}}function KL(e,t){const r=es(e),n=wa(e),a=r.visualViewport;let i=n.clientWidth,o=n.clientHeight,l=0,c=0;if(a){i=a.width,o=a.height;const d=eb();(!d||d&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}return{width:i,height:o,x:l,y:c}}const GL=new Set(["absolute","fixed"]);function YL(e,t){const r=sl(e,!0,t==="fixed"),n=r.top+e.clientTop,a=r.left+e.clientLeft,i=xa(e)?Cc(e):ma(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=a*i.x,d=n*i.y;return{width:o,height:l,x:c,y:d}}function q_(e,t,r){let n;if(t==="viewport")n=KL(e,r);else if(t==="document")n=HL(wa(e));else if(Ws(t))n=YL(t,r);else{const a=X2(e);n={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return Qm(n)}function J2(e,t){const r=io(e);return r===t||!Ws(r)||Qc(r)?!1:Hs(r).position==="fixed"||J2(r,t)}function QL(e,t){const r=t.get(e);if(r)return r;let n=nf(e,[],!1).filter(l=>Ws(l)&&pd(l)!=="body"),a=null;const i=Hs(e).position==="fixed";let o=i?io(e):e;for(;Ws(o)&&!Qc(o);){const l=Hs(o),c=Jw(o);!c&&l.position==="fixed"&&(a=null),(i?!c&&!a:!c&&l.position==="static"&&!!a&&GL.has(a.position)||Mf(o)&&!c&&J2(e,o))?n=n.filter(u=>u!==o):a=l,o=io(o)}return t.set(e,n),n}function XL(e){let{element:t,boundary:r,rootBoundary:n,strategy:a}=e;const o=[...r==="clippingAncestors"?sg(t)?[]:QL(t,this._c):[].concat(r),n],l=o[0],c=o.reduce((d,u)=>{const h=q_(t,u,a);return d.top=Qn(h.top,d.top),d.right=ao(h.right,d.right),d.bottom=ao(h.bottom,d.bottom),d.left=Qn(h.left,d.left),d},q_(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function ZL(e){const{width:t,height:r}=Q2(e);return{width:t,height:r}}function JL(e,t,r){const n=xa(t),a=wa(t),i=r==="fixed",o=sl(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=ma(0);function d(){c.x=rb(a)}if(n||!n&&!i)if((pd(t)!=="body"||Mf(a))&&(l=ag(t)),n){const p=sl(t,!0,i,t);c.x=p.x+t.clientLeft,c.y=p.y+t.clientTop}else a&&d();i&&!n&&a&&d();const u=a&&!n&&!i?Z2(a,l):ma(0),h=o.left+l.scrollLeft-c.x-u.x,m=o.top+l.scrollTop-c.y-u.y;return{x:h,y:m,width:o.width,height:o.height}}function ix(e){return Hs(e).position==="static"}function V_(e,t){if(!xa(e)||Hs(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return wa(e)===r&&(r=r.ownerDocument.body),r}function eE(e,t){const r=es(e);if(sg(e))return r;if(!xa(e)){let a=io(e);for(;a&&!Qc(a);){if(Ws(a)&&!ix(a))return a;a=io(a)}return r}let n=V_(e,t);for(;n&&DL(n)&&ix(n);)n=V_(n,t);return n&&Qc(n)&&ix(n)&&!Jw(n)?r:n||zL(e)||r}const e$=async function(e){const t=this.getOffsetParent||eE,r=this.getDimensions,n=await r(e.floating);return{reference:JL(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function t$(e){return Hs(e).direction==="rtl"}const r$={convertOffsetParentRelativeRectToViewportRelativeRect:VL,getDocumentElement:wa,getClippingRect:XL,getOffsetParent:eE,getElementRects:e$,getClientRects:WL,getDimensions:ZL,getScale:Cc,isElement:Ws,isRTL:t$};function tE(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function n$(e,t){let r=null,n;const a=wa(e);function i(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const d=e.getBoundingClientRect(),{left:u,top:h,width:m,height:p}=d;if(l||t(),!m||!p)return;const w=Fh(h),v=Fh(a.clientWidth-(u+m)),g=Fh(a.clientHeight-(h+p)),y=Fh(u),b={rootMargin:-w+"px "+-v+"px "+-g+"px "+-y+"px",threshold:Qn(0,ao(1,c))||1};let _=!0;function N(P){const S=P[0].intersectionRatio;if(S!==c){if(!_)return o();S?o(!1,S):n=setTimeout(()=>{o(!1,1e-7)},1e3)}S===1&&!tE(d,e.getBoundingClientRect())&&o(),_=!1}try{r=new IntersectionObserver(N,{...b,root:a.ownerDocument})}catch{r=new IntersectionObserver(N,b)}r.observe(e)}return o(!0),i}function s$(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,d=tb(e),u=a||i?[...d?nf(d):[],...nf(t)]:[];u.forEach(y=>{a&&y.addEventListener("scroll",r,{passive:!0}),i&&y.addEventListener("resize",r)});const h=d&&l?n$(d,r):null;let m=-1,p=null;o&&(p=new ResizeObserver(y=>{let[x]=y;x&&x.target===d&&p&&(p.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var b;(b=p)==null||b.observe(t)})),r()}),d&&!c&&p.observe(d),p.observe(t));let w,v=c?sl(e):null;c&&g();function g(){const y=sl(e);v&&!tE(v,y)&&r(),v=y,w=requestAnimationFrame(g)}return r(),()=>{var y;u.forEach(x=>{a&&x.removeEventListener("scroll",r),i&&x.removeEventListener("resize",r)}),h==null||h(),(y=p)==null||y.disconnect(),p=null,c&&cancelAnimationFrame(w)}}const a$=PL,i$=TL,o$=CL,l$=ML,c$=kL,W_=SL,d$=RL,u$=(e,t,r)=>{const n=new Map,a={platform:r$,...r},i={...a.platform,_c:n};return NL(e,t,{...a,platform:i})};var f$=typeof document<"u",h$=function(){},mm=f$?f.useLayoutEffect:h$;function Xm(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Xm(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=r;n--!==0;){const i=a[n];if(!(i==="_owner"&&e.$$typeof)&&!Xm(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function rE(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function H_(e,t){const r=rE(e);return Math.round(t*r)/r}function ox(e){const t=f.useRef(e);return mm(()=>{t.current=e}),t}function m$(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:d}=e,[u,h]=f.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[m,p]=f.useState(n);Xm(m,n)||p(n);const[w,v]=f.useState(null),[g,y]=f.useState(null),x=f.useCallback(I=>{I!==P.current&&(P.current=I,v(I))},[]),b=f.useCallback(I=>{I!==S.current&&(S.current=I,y(I))},[]),_=i||w,N=o||g,P=f.useRef(null),S=f.useRef(null),T=f.useRef(u),U=c!=null,q=ox(c),re=ox(a),G=ox(d),H=f.useCallback(()=>{if(!P.current||!S.current)return;const I={placement:t,strategy:r,middleware:m};re.current&&(I.platform=re.current),u$(P.current,S.current,I).then(D=>{const C={...D,isPositioned:G.current!==!1};V.current&&!Xm(T.current,C)&&(T.current=C,bl.flushSync(()=>{h(C)}))})},[m,t,r,re,G]);mm(()=>{d===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,h(I=>({...I,isPositioned:!1})))},[d]);const V=f.useRef(!1);mm(()=>(V.current=!0,()=>{V.current=!1}),[]),mm(()=>{if(_&&(P.current=_),N&&(S.current=N),_&&N){if(q.current)return q.current(_,N,H);H()}},[_,N,H,q,U]);const se=f.useMemo(()=>({reference:P,floating:S,setReference:x,setFloating:b}),[x,b]),ee=f.useMemo(()=>({reference:_,floating:N}),[_,N]),J=f.useMemo(()=>{const I={position:r,left:0,top:0};if(!ee.floating)return I;const D=H_(ee.floating,u.x),C=H_(ee.floating,u.y);return l?{...I,transform:"translate("+D+"px, "+C+"px)",...rE(ee.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:D,top:C}},[r,l,ee.floating,u.x,u.y]);return f.useMemo(()=>({...u,update:H,refs:se,elements:ee,floatingStyles:J}),[u,H,se,ee,J])}const p$=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:a}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?W_({element:n.current,padding:a}).fn(r):{}:n?W_({element:n,padding:a}).fn(r):{}}}},g$=(e,t)=>({...a$(e),options:[e,t]}),v$=(e,t)=>({...i$(e),options:[e,t]}),x$=(e,t)=>({...d$(e),options:[e,t]}),y$=(e,t)=>({...o$(e),options:[e,t]}),w$=(e,t)=>({...l$(e),options:[e,t]}),b$=(e,t)=>({...c$(e),options:[e,t]}),j$=(e,t)=>({...p$(e),options:[e,t]});var _$="Arrow",nE=f.forwardRef((e,t)=>{const{children:r,width:n=10,height:a=5,...i}=e;return s.jsx(Ie.svg,{...i,ref:t,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});nE.displayName=_$;var N$=nE;function sE(e){const[t,r]=f.useState(void 0);return Sr(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,l=d.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var nb="Popper",[aE,wo]=kn(nb),[S$,iE]=aE(nb),oE=e=>{const{__scopePopper:t,children:r}=e,[n,a]=f.useState(null);return s.jsx(S$,{scope:t,anchor:n,onAnchorChange:a,children:r})};oE.displayName=nb;var lE="PopperAnchor",cE=f.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...a}=e,i=iE(lE,r),o=f.useRef(null),l=ct(t,o);return f.useEffect(()=>{i.onAnchorChange((n==null?void 0:n.current)||o.current)}),n?null:s.jsx(Ie.div,{...a,ref:l})});cE.displayName=lE;var sb="PopperContent",[C$,k$]=aE(sb),dE=f.forwardRef((e,t)=>{var Q,R,L,Z,ue,_e;const{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:u=0,sticky:h="partial",hideWhenDetached:m=!1,updatePositionStrategy:p="optimized",onPlaced:w,...v}=e,g=iE(sb,r),[y,x]=f.useState(null),b=ct(t,me=>x(me)),[_,N]=f.useState(null),P=sE(_),S=(P==null?void 0:P.width)??0,T=(P==null?void 0:P.height)??0,U=n+(i!=="center"?"-"+i:""),q=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},re=Array.isArray(d)?d:[d],G=re.length>0,H={padding:q,boundary:re.filter(P$),altBoundary:G},{refs:V,floatingStyles:se,placement:ee,isPositioned:J,middlewareData:I}=m$({strategy:"fixed",placement:U,whileElementsMounted:(...me)=>s$(...me,{animationFrame:p==="always"}),elements:{reference:g.anchor},middleware:[g$({mainAxis:a+T,alignmentAxis:o}),c&&v$({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?x$():void 0,...H}),c&&y$({...H}),w$({...H,apply:({elements:me,rects:xe,availableWidth:Ge,availableHeight:_t})=>{const{width:Ot,height:Ct}=xe.reference,$t=me.floating.style;$t.setProperty("--radix-popper-available-width",`${Ge}px`),$t.setProperty("--radix-popper-available-height",`${_t}px`),$t.setProperty("--radix-popper-anchor-width",`${Ot}px`),$t.setProperty("--radix-popper-anchor-height",`${Ct}px`)}}),_&&j$({element:_,padding:l}),T$({arrowWidth:S,arrowHeight:T}),m&&b$({strategy:"referenceHidden",...H})]}),[D,C]=hE(ee),E=yr(w);Sr(()=>{J&&(E==null||E())},[J,E]);const A=(Q=I.arrow)==null?void 0:Q.x,Y=(R=I.arrow)==null?void 0:R.y,k=((L=I.arrow)==null?void 0:L.centerOffset)!==0,[z,ne]=f.useState();return Sr(()=>{y&&ne(window.getComputedStyle(y).zIndex)},[y]),s.jsx("div",{ref:V.setFloating,"data-radix-popper-content-wrapper":"",style:{...se,transform:J?se.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:z,"--radix-popper-transform-origin":[(Z=I.transformOrigin)==null?void 0:Z.x,(ue=I.transformOrigin)==null?void 0:ue.y].join(" "),...((_e=I.hide)==null?void 0:_e.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(C$,{scope:r,placedSide:D,onArrowChange:N,arrowX:A,arrowY:Y,shouldHideArrow:k,children:s.jsx(Ie.div,{"data-side":D,"data-align":C,...v,ref:b,style:{...v.style,animation:J?void 0:"none"}})})})});dE.displayName=sb;var uE="PopperArrow",E$={top:"bottom",right:"left",bottom:"top",left:"right"},fE=f.forwardRef(function(t,r){const{__scopePopper:n,...a}=t,i=k$(uE,n),o=E$[i.placedSide];return s.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:s.jsx(N$,{...a,ref:r,style:{...a.style,display:"block"}})})});fE.displayName=uE;function P$(e){return e!==null}var T$=e=>({name:"transformOrigin",options:e,fn(t){var g,y,x;const{placement:r,rects:n,middlewareData:a}=t,o=((g=a.arrow)==null?void 0:g.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[d,u]=hE(r),h={start:"0%",center:"50%",end:"100%"}[u],m=(((y=a.arrow)==null?void 0:y.x)??0)+l/2,p=(((x=a.arrow)==null?void 0:x.y)??0)+c/2;let w="",v="";return d==="bottom"?(w=o?h:`${m}px`,v=`${-c}px`):d==="top"?(w=o?h:`${m}px`,v=`${n.floating.height+c}px`):d==="right"?(w=`${-c}px`,v=o?h:`${p}px`):d==="left"&&(w=`${n.floating.width+c}px`,v=o?h:`${p}px`),{data:{x:w,y:v}}}});function hE(e){const[t,r="center"]=e.split("-");return[t,r]}var ig=oE,Af=cE,og=dE,lg=fE,[cg,GY]=kn("Tooltip",[wo]),dg=wo(),mE="TooltipProvider",R$=700,Wy="tooltip.open",[M$,ab]=cg(mE),pE=e=>{const{__scopeTooltip:t,delayDuration:r=R$,skipDelayDuration:n=300,disableHoverableContent:a=!1,children:i}=e,o=f.useRef(!0),l=f.useRef(!1),c=f.useRef(0);return f.useEffect(()=>{const d=c.current;return()=>window.clearTimeout(d)},[]),s.jsx(M$,{scope:t,isOpenDelayedRef:o,delayDuration:r,onOpen:f.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:f.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:f.useCallback(d=>{l.current=d},[]),disableHoverableContent:a,children:i})};pE.displayName=mE;var sf="Tooltip",[A$,ug]=cg(sf),gE=e=>{const{__scopeTooltip:t,children:r,open:n,defaultOpen:a,onOpenChange:i,disableHoverableContent:o,delayDuration:l}=e,c=ab(sf,e.__scopeTooltip),d=dg(t),[u,h]=f.useState(null),m=Zr(),p=f.useRef(0),w=o??c.disableHoverableContent,v=l??c.delayDuration,g=f.useRef(!1),[y,x]=va({prop:n,defaultProp:a??!1,onChange:S=>{S?(c.onOpen(),document.dispatchEvent(new CustomEvent(Wy))):c.onClose(),i==null||i(S)},caller:sf}),b=f.useMemo(()=>y?g.current?"delayed-open":"instant-open":"closed",[y]),_=f.useCallback(()=>{window.clearTimeout(p.current),p.current=0,g.current=!1,x(!0)},[x]),N=f.useCallback(()=>{window.clearTimeout(p.current),p.current=0,x(!1)},[x]),P=f.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{g.current=!0,x(!0),p.current=0},v)},[v,x]);return f.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=0)},[]),s.jsx(ig,{...d,children:s.jsx(A$,{scope:t,contentId:m,open:y,stateAttribute:b,trigger:u,onTriggerChange:h,onTriggerEnter:f.useCallback(()=>{c.isOpenDelayedRef.current?P():_()},[c.isOpenDelayedRef,P,_]),onTriggerLeave:f.useCallback(()=>{w?N():(window.clearTimeout(p.current),p.current=0)},[N,w]),onOpen:_,onClose:N,disableHoverableContent:w,children:r})})};gE.displayName=sf;var Hy="TooltipTrigger",vE=f.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=ug(Hy,r),i=ab(Hy,r),o=dg(r),l=f.useRef(null),c=ct(t,l,a.onTriggerChange),d=f.useRef(!1),u=f.useRef(!1),h=f.useCallback(()=>d.current=!1,[]);return f.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),s.jsx(Af,{asChild:!0,...o,children:s.jsx(Ie.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...n,ref:c,onPointerMove:Ce(e.onPointerMove,m=>{m.pointerType!=="touch"&&!u.current&&!i.isPointerInTransitRef.current&&(a.onTriggerEnter(),u.current=!0)}),onPointerLeave:Ce(e.onPointerLeave,()=>{a.onTriggerLeave(),u.current=!1}),onPointerDown:Ce(e.onPointerDown,()=>{a.open&&a.onClose(),d.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:Ce(e.onFocus,()=>{d.current||a.onOpen()}),onBlur:Ce(e.onBlur,a.onClose),onClick:Ce(e.onClick,a.onClose)})})});vE.displayName=Hy;var O$="TooltipPortal",[YY,D$]=cg(O$,{forceMount:void 0}),Xc="TooltipContent",xE=f.forwardRef((e,t)=>{const r=D$(Xc,e.__scopeTooltip),{forceMount:n=r.forceMount,side:a="top",...i}=e,o=ug(Xc,e.__scopeTooltip);return s.jsx(rn,{present:n||o.open,children:o.disableHoverableContent?s.jsx(yE,{side:a,...i,ref:t}):s.jsx(I$,{side:a,...i,ref:t})})}),I$=f.forwardRef((e,t)=>{const r=ug(Xc,e.__scopeTooltip),n=ab(Xc,e.__scopeTooltip),a=f.useRef(null),i=ct(t,a),[o,l]=f.useState(null),{trigger:c,onClose:d}=r,u=a.current,{onPointerInTransitChange:h}=n,m=f.useCallback(()=>{l(null),h(!1)},[h]),p=f.useCallback((w,v)=>{const g=w.currentTarget,y={x:w.clientX,y:w.clientY},x=U$(y,g.getBoundingClientRect()),b=B$(y,x),_=q$(v.getBoundingClientRect()),N=W$([...b,..._]);l(N),h(!0)},[h]);return f.useEffect(()=>()=>m(),[m]),f.useEffect(()=>{if(c&&u){const w=g=>p(g,u),v=g=>p(g,c);return c.addEventListener("pointerleave",w),u.addEventListener("pointerleave",v),()=>{c.removeEventListener("pointerleave",w),u.removeEventListener("pointerleave",v)}}},[c,u,p,m]),f.useEffect(()=>{if(o){const w=v=>{const g=v.target,y={x:v.clientX,y:v.clientY},x=(c==null?void 0:c.contains(g))||(u==null?void 0:u.contains(g)),b=!V$(y,o);x?m():b&&(m(),d())};return document.addEventListener("pointermove",w),()=>document.removeEventListener("pointermove",w)}},[c,u,o,d,m]),s.jsx(yE,{...e,ref:i})}),[F$,L$]=cg(sf,{isInside:!1}),$$=t2("TooltipContent"),yE=f.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":a,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=e,c=ug(Xc,r),d=dg(r),{onClose:u}=c;return f.useEffect(()=>(document.addEventListener(Wy,u),()=>document.removeEventListener(Wy,u)),[u]),f.useEffect(()=>{if(c.trigger){const h=m=>{const p=m.target;p!=null&&p.contains(c.trigger)&&u()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[c.trigger,u]),s.jsx(_l,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:u,children:s.jsxs(og,{"data-state":c.stateAttribute,...d,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[s.jsx($$,{children:n}),s.jsx(F$,{scope:r,isInside:!0,children:s.jsx(c3,{id:c.contentId,role:"tooltip",children:a||n})})]})})});xE.displayName=Xc;var wE="TooltipArrow",z$=f.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=dg(r);return L$(wE,r).isInside?null:s.jsx(lg,{...a,...n,ref:t})});z$.displayName=wE;function U$(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(r,n,a,i)){case i:return"left";case a:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function B$(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function q$(e){const{top:t,right:r,bottom:n,left:a}=e;return[{x:a,y:t},{x:r,y:t},{x:r,y:n},{x:a,y:n}]}function V$(e,t){const{x:r,y:n}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],c=t[o],d=l.x,u=l.y,h=c.x,m=c.y;u>n!=m>n&&r<(h-d)*(n-u)/(m-u)+d&&(a=!a)}return a}function W$(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),H$(t)}function H$(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const a=e[n];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))t.pop();else break}t.push(a)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const a=e[n];for(;r.length>=2;){const i=r[r.length-1],o=r[r.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))r.pop();else break}r.push(a)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var K$=pE,G$=gE,Y$=vE,bE=xE;const jE=K$,Q$=G$,X$=Y$,_E=f.forwardRef(({className:e,sideOffset:t=4,...r},n)=>s.jsx(bE,{ref:n,sideOffset:t,className:le("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));_E.displayName=bE.displayName;var gd=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},al=typeof window>"u"||"Deno"in globalThis;function xn(){}function Z$(e,t){return typeof e=="function"?e(t):e}function Ky(e){return typeof e=="number"&&e>=0&&e!==1/0}function NE(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Qi(e,t){return typeof e=="function"?e(t):e}function fs(e,t){return typeof e=="function"?e(t):e}function K_(e,t){const{type:r="all",exact:n,fetchStatus:a,predicate:i,queryKey:o,stale:l}=e;if(o){if(n){if(t.queryHash!==ib(o,t.options))return!1}else if(!af(t.queryKey,o))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||a&&a!==t.state.fetchStatus||i&&!i(t))}function G_(e,t){const{exact:r,status:n,predicate:a,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(il(t.options.mutationKey)!==il(i))return!1}else if(!af(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||a&&!a(t))}function ib(e,t){return((t==null?void 0:t.queryKeyHashFn)||il)(e)}function il(e){return JSON.stringify(e,(t,r)=>Gy(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function af(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>af(e[r],t[r])):!1}function SE(e,t){if(e===t)return e;const r=Y_(e)&&Y_(t);if(r||Gy(e)&&Gy(t)){const n=r?e:Object.keys(e),a=n.length,i=r?t:Object.keys(t),o=i.length,l=r?[]:{},c=new Set(n);let d=0;for(let u=0;u<o;u++){const h=r?u:i[u];(!r&&c.has(h)||r)&&e[h]===void 0&&t[h]===void 0?(l[h]=void 0,d++):(l[h]=SE(e[h],t[h]),l[h]===e[h]&&e[h]!==void 0&&d++)}return a===o&&d===a?e:l}return t}function Zm(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function Y_(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Gy(e){if(!Q_(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!Q_(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Q_(e){return Object.prototype.toString.call(e)==="[object Object]"}function J$(e){return new Promise(t=>{setTimeout(t,e)})}function Yy(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?SE(e,t):t}function e5(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function t5(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var ob=Symbol();function CE(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===ob?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function kE(e,t){return typeof e=="function"?e(...t):!!e}var Uo,Ci,Tc,PS,r5=(PS=class extends gd{constructor(){super();Qe(this,Uo);Qe(this,Ci);Qe(this,Tc);Me(this,Tc,t=>{if(!al&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){K(this,Ci)||this.setEventListener(K(this,Tc))}onUnsubscribe(){var t;this.hasListeners()||((t=K(this,Ci))==null||t.call(this),Me(this,Ci,void 0))}setEventListener(t){var r;Me(this,Tc,t),(r=K(this,Ci))==null||r.call(this),Me(this,Ci,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){K(this,Uo)!==t&&(Me(this,Uo,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof K(this,Uo)=="boolean"?K(this,Uo):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Uo=new WeakMap,Ci=new WeakMap,Tc=new WeakMap,PS),lb=new r5,Rc,ki,Mc,TS,n5=(TS=class extends gd{constructor(){super();Qe(this,Rc,!0);Qe(this,ki);Qe(this,Mc);Me(this,Mc,t=>{if(!al&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){K(this,ki)||this.setEventListener(K(this,Mc))}onUnsubscribe(){var t;this.hasListeners()||((t=K(this,ki))==null||t.call(this),Me(this,ki,void 0))}setEventListener(t){var r;Me(this,Mc,t),(r=K(this,ki))==null||r.call(this),Me(this,ki,t(this.setOnline.bind(this)))}setOnline(t){K(this,Rc)!==t&&(Me(this,Rc,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return K(this,Rc)}},Rc=new WeakMap,ki=new WeakMap,Mc=new WeakMap,TS),Jm=new n5;function Qy(){let e,t;const r=new Promise((a,i)=>{e=a,t=i});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),e(a)},r.reject=a=>{n({status:"rejected",reason:a}),t(a)},r}function s5(e){return Math.min(1e3*2**e,3e4)}function EE(e){return(e??"online")==="online"?Jm.isOnline():!0}var PE=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function lx(e){return e instanceof PE}function TE(e){let t=!1,r=0,n=!1,a;const i=Qy(),o=v=>{var g;n||(m(new PE(v)),(g=e.abort)==null||g.call(e))},l=()=>{t=!0},c=()=>{t=!1},d=()=>lb.isFocused()&&(e.networkMode==="always"||Jm.isOnline())&&e.canRun(),u=()=>EE(e.networkMode)&&e.canRun(),h=v=>{var g;n||(n=!0,(g=e.onSuccess)==null||g.call(e,v),a==null||a(),i.resolve(v))},m=v=>{var g;n||(n=!0,(g=e.onError)==null||g.call(e,v),a==null||a(),i.reject(v))},p=()=>new Promise(v=>{var g;a=y=>{(n||d())&&v(y)},(g=e.onPause)==null||g.call(e)}).then(()=>{var v;a=void 0,n||(v=e.onContinue)==null||v.call(e)}),w=()=>{if(n)return;let v;const g=r===0?e.initialPromise:void 0;try{v=g??e.fn()}catch(y){v=Promise.reject(y)}Promise.resolve(v).then(h).catch(y=>{var P;if(n)return;const x=e.retry??(al?0:3),b=e.retryDelay??s5,_=typeof b=="function"?b(r,y):b,N=x===!0||typeof x=="number"&&r<x||typeof x=="function"&&x(r,y);if(t||!N){m(y);return}r++,(P=e.onFail)==null||P.call(e,r,y),J$(_).then(()=>d()?void 0:p()).then(()=>{t?m(y):w()})})};return{promise:i,cancel:o,continue:()=>(a==null||a(),i),cancelRetry:l,continueRetry:c,canStart:u,start:()=>(u()?w():p().then(w),i)}}var a5=e=>setTimeout(e,0);function i5(){let e=[],t=0,r=l=>{l()},n=l=>{l()},a=a5;const i=l=>{t?e.push(l):a(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&a(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{a=l}}}var Br=i5(),Bo,RS,RE=(RS=class{constructor(){Qe(this,Bo)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Ky(this.gcTime)&&Me(this,Bo,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(al?1/0:5*60*1e3))}clearGcTimeout(){K(this,Bo)&&(clearTimeout(K(this,Bo)),Me(this,Bo,void 0))}},Bo=new WeakMap,RS),Ac,qo,us,Vo,ln,bf,Wo,As,Ta,MS,o5=(MS=class extends RE{constructor(t){super();Qe(this,As);Qe(this,Ac);Qe(this,qo);Qe(this,us);Qe(this,Vo);Qe(this,ln);Qe(this,bf);Qe(this,Wo);Me(this,Wo,!1),Me(this,bf,t.defaultOptions),this.setOptions(t.options),this.observers=[],Me(this,Vo,t.client),Me(this,us,K(this,Vo).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Me(this,Ac,l5(this.options)),this.state=t.state??K(this,Ac),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=K(this,ln))==null?void 0:t.promise}setOptions(t){this.options={...K(this,bf),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&K(this,us).remove(this)}setData(t,r){const n=Yy(this.state.data,t,this.options);return mt(this,As,Ta).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){mt(this,As,Ta).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,a;const r=(n=K(this,ln))==null?void 0:n.promise;return(a=K(this,ln))==null||a.cancel(t),r?r.then(xn).catch(xn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(K(this,Ac))}isActive(){return this.observers.some(t=>fs(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===ob||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Qi(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!NE(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=K(this,ln))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=K(this,ln))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),K(this,us).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(K(this,ln)&&(K(this,Wo)?K(this,ln).cancel({revert:!0}):K(this,ln).cancelRetry()),this.scheduleGc()),K(this,us).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||mt(this,As,Ta).call(this,{type:"invalidate"})}fetch(t,r){var d,u,h;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(K(this,ln))return K(this,ln).continueRetry(),K(this,ln).promise}if(t&&this.setOptions(t),!this.options.queryFn){const m=this.observers.find(p=>p.options.queryFn);m&&this.setOptions(m.options)}const n=new AbortController,a=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(Me(this,Wo,!0),n.signal)})},i=()=>{const m=CE(this.options,r),w=(()=>{const v={client:K(this,Vo),queryKey:this.queryKey,meta:this.meta};return a(v),v})();return Me(this,Wo,!1),this.options.persister?this.options.persister(m,w,this):m(w)},l=(()=>{const m={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:K(this,Vo),state:this.state,fetchFn:i};return a(m),m})();(d=this.options.behavior)==null||d.onFetch(l,this),Me(this,qo,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=l.fetchOptions)==null?void 0:u.meta))&&mt(this,As,Ta).call(this,{type:"fetch",meta:(h=l.fetchOptions)==null?void 0:h.meta});const c=m=>{var p,w,v,g;lx(m)&&m.silent||mt(this,As,Ta).call(this,{type:"error",error:m}),lx(m)||((w=(p=K(this,us).config).onError)==null||w.call(p,m,this),(g=(v=K(this,us).config).onSettled)==null||g.call(v,this.state.data,m,this)),this.scheduleGc()};return Me(this,ln,TE({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,abort:n.abort.bind(n),onSuccess:m=>{var p,w,v,g;if(m===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(m)}catch(y){c(y);return}(w=(p=K(this,us).config).onSuccess)==null||w.call(p,m,this),(g=(v=K(this,us).config).onSettled)==null||g.call(v,m,this.state.error,this),this.scheduleGc()},onError:c,onFail:(m,p)=>{mt(this,As,Ta).call(this,{type:"failed",failureCount:m,error:p})},onPause:()=>{mt(this,As,Ta).call(this,{type:"pause"})},onContinue:()=>{mt(this,As,Ta).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),K(this,ln).start()}},Ac=new WeakMap,qo=new WeakMap,us=new WeakMap,Vo=new WeakMap,ln=new WeakMap,bf=new WeakMap,Wo=new WeakMap,As=new WeakSet,Ta=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...ME(n.data,this.options),fetchMeta:t.meta??null};case"success":return Me(this,qo,void 0),{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=t.error;return lx(a)&&a.revert&&K(this,qo)?{...K(this,qo),fetchStatus:"idle"}:{...n,error:a,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),Br.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),K(this,us).notify({query:this,type:"updated",action:t})})},MS);function ME(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:EE(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function l5(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var ea,AS,c5=(AS=class extends gd{constructor(t={}){super();Qe(this,ea);this.config=t,Me(this,ea,new Map)}build(t,r,n){const a=r.queryKey,i=r.queryHash??ib(a,r);let o=this.get(i);return o||(o=new o5({client:t,queryKey:a,queryHash:i,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(a)}),this.add(o)),o}add(t){K(this,ea).has(t.queryHash)||(K(this,ea).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=K(this,ea).get(t.queryHash);r&&(t.destroy(),r===t&&K(this,ea).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Br.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return K(this,ea).get(t)}getAll(){return[...K(this,ea).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>K_(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>K_(t,n)):r}notify(t){Br.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){Br.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Br.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},ea=new WeakMap,AS),ta,pn,Ho,ra,vi,OS,d5=(OS=class extends RE{constructor(t){super();Qe(this,ra);Qe(this,ta);Qe(this,pn);Qe(this,Ho);this.mutationId=t.mutationId,Me(this,pn,t.mutationCache),Me(this,ta,[]),this.state=t.state||AE(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){K(this,ta).includes(t)||(K(this,ta).push(t),this.clearGcTimeout(),K(this,pn).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Me(this,ta,K(this,ta).filter(r=>r!==t)),this.scheduleGc(),K(this,pn).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){K(this,ta).length||(this.state.status==="pending"?this.scheduleGc():K(this,pn).remove(this))}continue(){var t;return((t=K(this,Ho))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,o,l,c,d,u,h,m,p,w,v,g,y,x,b,_,N,P,S,T;const r=()=>{mt(this,ra,vi).call(this,{type:"continue"})};Me(this,Ho,TE({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(U,q)=>{mt(this,ra,vi).call(this,{type:"failed",failureCount:U,error:q})},onPause:()=>{mt(this,ra,vi).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>K(this,pn).canRun(this)}));const n=this.state.status==="pending",a=!K(this,Ho).canStart();try{if(n)r();else{mt(this,ra,vi).call(this,{type:"pending",variables:t,isPaused:a}),await((o=(i=K(this,pn).config).onMutate)==null?void 0:o.call(i,t,this));const q=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,t));q!==this.state.context&&mt(this,ra,vi).call(this,{type:"pending",context:q,variables:t,isPaused:a})}const U=await K(this,Ho).start();return await((u=(d=K(this,pn).config).onSuccess)==null?void 0:u.call(d,U,t,this.state.context,this)),await((m=(h=this.options).onSuccess)==null?void 0:m.call(h,U,t,this.state.context)),await((w=(p=K(this,pn).config).onSettled)==null?void 0:w.call(p,U,null,this.state.variables,this.state.context,this)),await((g=(v=this.options).onSettled)==null?void 0:g.call(v,U,null,t,this.state.context)),mt(this,ra,vi).call(this,{type:"success",data:U}),U}catch(U){try{throw await((x=(y=K(this,pn).config).onError)==null?void 0:x.call(y,U,t,this.state.context,this)),await((_=(b=this.options).onError)==null?void 0:_.call(b,U,t,this.state.context)),await((P=(N=K(this,pn).config).onSettled)==null?void 0:P.call(N,void 0,U,this.state.variables,this.state.context,this)),await((T=(S=this.options).onSettled)==null?void 0:T.call(S,void 0,U,t,this.state.context)),U}finally{mt(this,ra,vi).call(this,{type:"error",error:U})}}finally{K(this,pn).runNext(this)}}},ta=new WeakMap,pn=new WeakMap,Ho=new WeakMap,ra=new WeakSet,vi=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Br.batch(()=>{K(this,ta).forEach(n=>{n.onMutationUpdate(t)}),K(this,pn).notify({mutation:this,type:"updated",action:t})})},OS);function AE(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var za,Os,jf,DS,u5=(DS=class extends gd{constructor(t={}){super();Qe(this,za);Qe(this,Os);Qe(this,jf);this.config=t,Me(this,za,new Set),Me(this,Os,new Map),Me(this,jf,0)}build(t,r,n){const a=new d5({mutationCache:this,mutationId:++ph(this,jf)._,options:t.defaultMutationOptions(r),state:n});return this.add(a),a}add(t){K(this,za).add(t);const r=Lh(t);if(typeof r=="string"){const n=K(this,Os).get(r);n?n.push(t):K(this,Os).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(K(this,za).delete(t)){const r=Lh(t);if(typeof r=="string"){const n=K(this,Os).get(r);if(n)if(n.length>1){const a=n.indexOf(t);a!==-1&&n.splice(a,1)}else n[0]===t&&K(this,Os).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=Lh(t);if(typeof r=="string"){const n=K(this,Os).get(r),a=n==null?void 0:n.find(i=>i.state.status==="pending");return!a||a===t}else return!0}runNext(t){var n;const r=Lh(t);if(typeof r=="string"){const a=(n=K(this,Os).get(r))==null?void 0:n.find(i=>i!==t&&i.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Br.batch(()=>{K(this,za).forEach(t=>{this.notify({type:"removed",mutation:t})}),K(this,za).clear(),K(this,Os).clear()})}getAll(){return Array.from(K(this,za))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>G_(r,n))}findAll(t={}){return this.getAll().filter(r=>G_(t,r))}notify(t){Br.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return Br.batch(()=>Promise.all(t.map(r=>r.continue().catch(xn))))}},za=new WeakMap,Os=new WeakMap,jf=new WeakMap,DS);function Lh(e){var t;return(t=e.options.scope)==null?void 0:t.id}function ep(e){return{onFetch:(t,r)=>{var u,h,m,p,w;const n=t.options,a=(m=(h=(u=t.fetchOptions)==null?void 0:u.meta)==null?void 0:h.fetchMore)==null?void 0:m.direction,i=((p=t.state.data)==null?void 0:p.pages)||[],o=((w=t.state.data)==null?void 0:w.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const d=async()=>{let v=!1;const g=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(t.signal.aborted?v=!0:t.signal.addEventListener("abort",()=>{v=!0}),t.signal)})},y=CE(t.options,t.fetchOptions),x=async(b,_,N)=>{if(v)return Promise.reject();if(_==null&&b.pages.length)return Promise.resolve(b);const S=(()=>{const re={client:t.client,queryKey:t.queryKey,pageParam:_,direction:N?"backward":"forward",meta:t.options.meta};return g(re),re})(),T=await y(S),{maxPages:U}=t.options,q=N?t5:e5;return{pages:q(b.pages,T,U),pageParams:q(b.pageParams,_,U)}};if(a&&i.length){const b=a==="backward",_=b?OE:Xy,N={pages:i,pageParams:o},P=_(n,N);l=await x(N,P,b)}else{const b=e??i.length;do{const _=c===0?o[0]??n.initialPageParam:Xy(n,l);if(c>0&&_==null)break;l=await x(l,_),c++}while(c<b)}return l};t.options.persister?t.fetchFn=()=>{var v,g;return(g=(v=t.options).persister)==null?void 0:g.call(v,d,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=d}}}function Xy(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function OE(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}function f5(e,t){return t?Xy(e,t)!=null:!1}function h5(e,t){return!t||!e.getPreviousPageParam?!1:OE(e,t)!=null}var gr,Ei,Pi,Oc,Dc,Ti,Ic,Fc,IS,m5=(IS=class{constructor(e={}){Qe(this,gr);Qe(this,Ei);Qe(this,Pi);Qe(this,Oc);Qe(this,Dc);Qe(this,Ti);Qe(this,Ic);Qe(this,Fc);Me(this,gr,e.queryCache||new c5),Me(this,Ei,e.mutationCache||new u5),Me(this,Pi,e.defaultOptions||{}),Me(this,Oc,new Map),Me(this,Dc,new Map),Me(this,Ti,0)}mount(){ph(this,Ti)._++,K(this,Ti)===1&&(Me(this,Ic,lb.subscribe(async e=>{e&&(await this.resumePausedMutations(),K(this,gr).onFocus())})),Me(this,Fc,Jm.subscribe(async e=>{e&&(await this.resumePausedMutations(),K(this,gr).onOnline())})))}unmount(){var e,t;ph(this,Ti)._--,K(this,Ti)===0&&((e=K(this,Ic))==null||e.call(this),Me(this,Ic,void 0),(t=K(this,Fc))==null||t.call(this),Me(this,Fc,void 0))}isFetching(e){return K(this,gr).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return K(this,Ei).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=K(this,gr).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=K(this,gr).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Qi(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return K(this,gr).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),a=K(this,gr).get(n.queryHash),i=a==null?void 0:a.state.data,o=Z$(t,i);if(o!==void 0)return K(this,gr).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return Br.batch(()=>K(this,gr).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=K(this,gr).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=K(this,gr);Br.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=K(this,gr);return Br.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=Br.batch(()=>K(this,gr).findAll(e).map(a=>a.cancel(r)));return Promise.all(n).then(xn).catch(xn)}invalidateQueries(e,t={}){return Br.batch(()=>(K(this,gr).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=Br.batch(()=>K(this,gr).findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let i=a.fetch(void 0,r);return r.throwOnError||(i=i.catch(xn)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(xn)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=K(this,gr).build(this,t);return r.isStaleByTime(Qi(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(xn).catch(xn)}fetchInfiniteQuery(e){return e.behavior=ep(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(xn).catch(xn)}ensureInfiniteQueryData(e){return e.behavior=ep(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Jm.isOnline()?K(this,Ei).resumePausedMutations():Promise.resolve()}getQueryCache(){return K(this,gr)}getMutationCache(){return K(this,Ei)}getDefaultOptions(){return K(this,Pi)}setDefaultOptions(e){Me(this,Pi,e)}setQueryDefaults(e,t){K(this,Oc).set(il(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...K(this,Oc).values()],r={};return t.forEach(n=>{af(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){K(this,Dc).set(il(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...K(this,Dc).values()],r={};return t.forEach(n=>{af(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...K(this,Pi).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=ib(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===ob&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...K(this,Pi).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){K(this,gr).clear(),K(this,Ei).clear()}},gr=new WeakMap,Ei=new WeakMap,Pi=new WeakMap,Oc=new WeakMap,Dc=new WeakMap,Ti=new WeakMap,Ic=new WeakMap,Fc=new WeakMap,IS),Rn,St,_f,gn,Ko,Lc,Ri,Mi,Nf,$c,zc,Go,Yo,Ai,Uc,Lt,fu,Zy,Jy,e0,t0,r0,n0,s0,IE,FS,DE=(FS=class extends gd{constructor(t,r){super();Qe(this,Lt);Qe(this,Rn);Qe(this,St);Qe(this,_f);Qe(this,gn);Qe(this,Ko);Qe(this,Lc);Qe(this,Ri);Qe(this,Mi);Qe(this,Nf);Qe(this,$c);Qe(this,zc);Qe(this,Go);Qe(this,Yo);Qe(this,Ai);Qe(this,Uc,new Set);this.options=r,Me(this,Rn,t),Me(this,Mi,null),Me(this,Ri,Qy()),this.options.experimental_prefetchInRender||K(this,Ri).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(K(this,St).addObserver(this),X_(K(this,St),this.options)?mt(this,Lt,fu).call(this):this.updateResult(),mt(this,Lt,t0).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return a0(K(this,St),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return a0(K(this,St),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,mt(this,Lt,r0).call(this),mt(this,Lt,n0).call(this),K(this,St).removeObserver(this)}setOptions(t){const r=this.options,n=K(this,St);if(this.options=K(this,Rn).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof fs(this.options.enabled,K(this,St))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");mt(this,Lt,s0).call(this),K(this,St).setOptions(this.options),r._defaulted&&!Zm(this.options,r)&&K(this,Rn).getQueryCache().notify({type:"observerOptionsUpdated",query:K(this,St),observer:this});const a=this.hasListeners();a&&Z_(K(this,St),n,this.options,r)&&mt(this,Lt,fu).call(this),this.updateResult(),a&&(K(this,St)!==n||fs(this.options.enabled,K(this,St))!==fs(r.enabled,K(this,St))||Qi(this.options.staleTime,K(this,St))!==Qi(r.staleTime,K(this,St)))&&mt(this,Lt,Zy).call(this);const i=mt(this,Lt,Jy).call(this);a&&(K(this,St)!==n||fs(this.options.enabled,K(this,St))!==fs(r.enabled,K(this,St))||i!==K(this,Ai))&&mt(this,Lt,e0).call(this,i)}getOptimisticResult(t){const r=K(this,Rn).getQueryCache().build(K(this,Rn),t),n=this.createResult(r,t);return g5(this,n)&&(Me(this,gn,n),Me(this,Lc,this.options),Me(this,Ko,K(this,St).state)),n}getCurrentResult(){return K(this,gn)}trackResult(t,r){return new Proxy(t,{get:(n,a)=>(this.trackProp(a),r==null||r(a),Reflect.get(n,a))})}trackProp(t){K(this,Uc).add(t)}getCurrentQuery(){return K(this,St)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=K(this,Rn).defaultQueryOptions(t),n=K(this,Rn).getQueryCache().build(K(this,Rn),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return mt(this,Lt,fu).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),K(this,gn)))}createResult(t,r){var U;const n=K(this,St),a=this.options,i=K(this,gn),o=K(this,Ko),l=K(this,Lc),d=t!==n?t.state:K(this,_f),{state:u}=t;let h={...u},m=!1,p;if(r._optimisticResults){const q=this.hasListeners(),re=!q&&X_(t,r),G=q&&Z_(t,n,r,a);(re||G)&&(h={...h,...ME(u.data,t.options)}),r._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:w,errorUpdatedAt:v,status:g}=h;p=h.data;let y=!1;if(r.placeholderData!==void 0&&p===void 0&&g==="pending"){let q;i!=null&&i.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData)?(q=i.data,y=!0):q=typeof r.placeholderData=="function"?r.placeholderData((U=K(this,zc))==null?void 0:U.state.data,K(this,zc)):r.placeholderData,q!==void 0&&(g="success",p=Yy(i==null?void 0:i.data,q,r),m=!0)}if(r.select&&p!==void 0&&!y)if(i&&p===(o==null?void 0:o.data)&&r.select===K(this,Nf))p=K(this,$c);else try{Me(this,Nf,r.select),p=r.select(p),p=Yy(i==null?void 0:i.data,p,r),Me(this,$c,p),Me(this,Mi,null)}catch(q){Me(this,Mi,q)}K(this,Mi)&&(w=K(this,Mi),p=K(this,$c),v=Date.now(),g="error");const x=h.fetchStatus==="fetching",b=g==="pending",_=g==="error",N=b&&x,P=p!==void 0,T={status:g,fetchStatus:h.fetchStatus,isPending:b,isSuccess:g==="success",isError:_,isInitialLoading:N,isLoading:N,data:p,dataUpdatedAt:h.dataUpdatedAt,error:w,errorUpdatedAt:v,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>d.dataUpdateCount||h.errorUpdateCount>d.errorUpdateCount,isFetching:x,isRefetching:x&&!b,isLoadingError:_&&!P,isPaused:h.fetchStatus==="paused",isPlaceholderData:m,isRefetchError:_&&P,isStale:cb(t,r),refetch:this.refetch,promise:K(this,Ri),isEnabled:fs(r.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const q=H=>{T.status==="error"?H.reject(T.error):T.data!==void 0&&H.resolve(T.data)},re=()=>{const H=Me(this,Ri,T.promise=Qy());q(H)},G=K(this,Ri);switch(G.status){case"pending":t.queryHash===n.queryHash&&q(G);break;case"fulfilled":(T.status==="error"||T.data!==G.value)&&re();break;case"rejected":(T.status!=="error"||T.error!==G.reason)&&re();break}}return T}updateResult(){const t=K(this,gn),r=this.createResult(K(this,St),this.options);if(Me(this,Ko,K(this,St).state),Me(this,Lc,this.options),K(this,Ko).data!==void 0&&Me(this,zc,K(this,St)),Zm(r,t))return;Me(this,gn,r);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:a}=this.options,i=typeof a=="function"?a():a;if(i==="all"||!i&&!K(this,Uc).size)return!0;const o=new Set(i??K(this,Uc));return this.options.throwOnError&&o.add("error"),Object.keys(K(this,gn)).some(l=>{const c=l;return K(this,gn)[c]!==t[c]&&o.has(c)})};mt(this,Lt,IE).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&mt(this,Lt,t0).call(this)}},Rn=new WeakMap,St=new WeakMap,_f=new WeakMap,gn=new WeakMap,Ko=new WeakMap,Lc=new WeakMap,Ri=new WeakMap,Mi=new WeakMap,Nf=new WeakMap,$c=new WeakMap,zc=new WeakMap,Go=new WeakMap,Yo=new WeakMap,Ai=new WeakMap,Uc=new WeakMap,Lt=new WeakSet,fu=function(t){mt(this,Lt,s0).call(this);let r=K(this,St).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(xn)),r},Zy=function(){mt(this,Lt,r0).call(this);const t=Qi(this.options.staleTime,K(this,St));if(al||K(this,gn).isStale||!Ky(t))return;const n=NE(K(this,gn).dataUpdatedAt,t)+1;Me(this,Go,setTimeout(()=>{K(this,gn).isStale||this.updateResult()},n))},Jy=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(K(this,St)):this.options.refetchInterval)??!1},e0=function(t){mt(this,Lt,n0).call(this),Me(this,Ai,t),!(al||fs(this.options.enabled,K(this,St))===!1||!Ky(K(this,Ai))||K(this,Ai)===0)&&Me(this,Yo,setInterval(()=>{(this.options.refetchIntervalInBackground||lb.isFocused())&&mt(this,Lt,fu).call(this)},K(this,Ai)))},t0=function(){mt(this,Lt,Zy).call(this),mt(this,Lt,e0).call(this,mt(this,Lt,Jy).call(this))},r0=function(){K(this,Go)&&(clearTimeout(K(this,Go)),Me(this,Go,void 0))},n0=function(){K(this,Yo)&&(clearInterval(K(this,Yo)),Me(this,Yo,void 0))},s0=function(){const t=K(this,Rn).getQueryCache().build(K(this,Rn),this.options);if(t===K(this,St))return;const r=K(this,St);Me(this,St,t),Me(this,_f,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},IE=function(t){Br.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(K(this,gn))}),K(this,Rn).getQueryCache().notify({query:K(this,St),type:"observerResultsUpdated"})})},FS);function p5(e,t){return fs(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function X_(e,t){return p5(e,t)||e.state.data!==void 0&&a0(e,t,t.refetchOnMount)}function a0(e,t,r){if(fs(t.enabled,e)!==!1&&Qi(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&cb(e,t)}return!1}function Z_(e,t,r,n){return(e!==t||fs(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&cb(e,r)}function cb(e,t){return fs(t.enabled,e)!==!1&&e.isStaleByTime(Qi(t.staleTime,e))}function g5(e,t){return!Zm(e.getCurrentResult(),t)}var v5=class extends DE{constructor(e,t){super(e,t)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(e){super.setOptions({...e,behavior:ep()})}getOptimisticResult(e){return e.behavior=ep(),super.getOptimisticResult(e)}fetchNextPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"forward"}}})}fetchPreviousPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"backward"}}})}createResult(e,t){var w,v;const{state:r}=e,n=super.createResult(e,t),{isFetching:a,isRefetching:i,isError:o,isRefetchError:l}=n,c=(v=(w=r.fetchMeta)==null?void 0:w.fetchMore)==null?void 0:v.direction,d=o&&c==="forward",u=a&&c==="forward",h=o&&c==="backward",m=a&&c==="backward";return{...n,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:f5(t,r.data),hasPreviousPage:h5(t,r.data),isFetchNextPageError:d,isFetchingNextPage:u,isFetchPreviousPageError:h,isFetchingPreviousPage:m,isRefetchError:l&&!d&&!h,isRefetching:i&&!u&&!m}}},Oi,Di,Mn,Ua,Qa,pm,i0,LS,x5=(LS=class extends gd{constructor(r,n){super();Qe(this,Qa);Qe(this,Oi);Qe(this,Di);Qe(this,Mn);Qe(this,Ua);Me(this,Oi,r),this.setOptions(n),this.bindMethods(),mt(this,Qa,pm).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var a;const n=this.options;this.options=K(this,Oi).defaultMutationOptions(r),Zm(this.options,n)||K(this,Oi).getMutationCache().notify({type:"observerOptionsUpdated",mutation:K(this,Mn),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&il(n.mutationKey)!==il(this.options.mutationKey)?this.reset():((a=K(this,Mn))==null?void 0:a.state.status)==="pending"&&K(this,Mn).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=K(this,Mn))==null||r.removeObserver(this)}onMutationUpdate(r){mt(this,Qa,pm).call(this),mt(this,Qa,i0).call(this,r)}getCurrentResult(){return K(this,Di)}reset(){var r;(r=K(this,Mn))==null||r.removeObserver(this),Me(this,Mn,void 0),mt(this,Qa,pm).call(this),mt(this,Qa,i0).call(this)}mutate(r,n){var a;return Me(this,Ua,n),(a=K(this,Mn))==null||a.removeObserver(this),Me(this,Mn,K(this,Oi).getMutationCache().build(K(this,Oi),this.options)),K(this,Mn).addObserver(this),K(this,Mn).execute(r)}},Oi=new WeakMap,Di=new WeakMap,Mn=new WeakMap,Ua=new WeakMap,Qa=new WeakSet,pm=function(){var n;const r=((n=K(this,Mn))==null?void 0:n.state)??AE();Me(this,Di,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},i0=function(r){Br.batch(()=>{var n,a,i,o,l,c,d,u;if(K(this,Ua)&&this.hasListeners()){const h=K(this,Di).variables,m=K(this,Di).context;(r==null?void 0:r.type)==="success"?((a=(n=K(this,Ua)).onSuccess)==null||a.call(n,r.data,h,m),(o=(i=K(this,Ua)).onSettled)==null||o.call(i,r.data,null,h,m)):(r==null?void 0:r.type)==="error"&&((c=(l=K(this,Ua)).onError)==null||c.call(l,r.error,h,m),(u=(d=K(this,Ua)).onSettled)==null||u.call(d,void 0,r.error,h,m))}this.listeners.forEach(h=>{h(K(this,Di))})})},LS),FE=f.createContext(void 0),os=e=>{const t=f.useContext(FE);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},y5=({client:e,children:t})=>(f.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),s.jsx(FE.Provider,{value:e,children:t})),LE=f.createContext(!1),w5=()=>f.useContext(LE);LE.Provider;function b5(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var j5=f.createContext(b5()),_5=()=>f.useContext(j5),N5=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},S5=e=>{f.useEffect(()=>{e.clearReset()},[e])},C5=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(a&&e.data===void 0||kE(r,[e.error,n])),k5=e=>{if(e.suspense){const t=n=>n==="static"?n:Math.max(n??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...n)=>t(r(...n)):t(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},E5=(e,t)=>e.isLoading&&e.isFetching&&!t,P5=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,J_=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function $E(e,t,r){var h,m,p,w,v;const n=w5(),a=_5(),i=os(),o=i.defaultQueryOptions(e);(m=(h=i.getDefaultOptions().queries)==null?void 0:h._experimental_beforeQuery)==null||m.call(h,o),o._optimisticResults=n?"isRestoring":"optimistic",k5(o),N5(o,a),S5(a);const l=!i.getQueryCache().get(o.queryHash),[c]=f.useState(()=>new t(i,o)),d=c.getOptimisticResult(o),u=!n&&e.subscribed!==!1;if(f.useSyncExternalStore(f.useCallback(g=>{const y=u?c.subscribe(Br.batchCalls(g)):xn;return c.updateResult(),y},[c,u]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),f.useEffect(()=>{c.setOptions(o)},[o,c]),P5(o,d))throw J_(o,c,a);if(C5({result:d,errorResetBoundary:a,throwOnError:o.throwOnError,query:i.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw d.error;if((w=(p=i.getDefaultOptions().queries)==null?void 0:p._experimental_afterQuery)==null||w.call(p,o,d),o.experimental_prefetchInRender&&!al&&E5(d,n)){const g=l?J_(o,c,a):(v=i.getQueryCache().get(o.queryHash))==null?void 0:v.promise;g==null||g.catch(xn).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?d:c.trackResult(d)}function Ze(e,t){return $E(e,DE)}function si(e,t){const r=os(),[n]=f.useState(()=>new x5(r,e));f.useEffect(()=>{n.setOptions(e)},[n,e]);const a=f.useSyncExternalStore(f.useCallback(o=>n.subscribe(Br.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=f.useCallback((o,l)=>{n.mutate(o,l).catch(xn)},[n]);if(a.error&&kE(n.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:i,mutateAsync:a.mutate}}function js(e,t){return $E(e,v5)}/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function of(){return of=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},of.apply(this,arguments)}var Li;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Li||(Li={}));const eN="popstate";function T5(e){e===void 0&&(e={});function t(n,a){let{pathname:i,search:o,hash:l}=n.location;return o0("",{pathname:i,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:tp(a)}return M5(t,r,null,e)}function mr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function zE(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function R5(){return Math.random().toString(36).substr(2,8)}function tN(e,t){return{usr:e.state,key:e.key,idx:t}}function o0(e,t,r,n){return r===void 0&&(r=null),of({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?vd(t):t,{state:r,key:t&&t.key||n||R5()})}function tp(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function vd(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function M5(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:i=!1}=n,o=a.history,l=Li.Pop,c=null,d=u();d==null&&(d=0,o.replaceState(of({},o.state,{idx:d}),""));function u(){return(o.state||{idx:null}).idx}function h(){l=Li.Pop;let g=u(),y=g==null?null:g-d;d=g,c&&c({action:l,location:v.location,delta:y})}function m(g,y){l=Li.Push;let x=o0(v.location,g,y);d=u()+1;let b=tN(x,d),_=v.createHref(x);try{o.pushState(b,"",_)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;a.location.assign(_)}i&&c&&c({action:l,location:v.location,delta:1})}function p(g,y){l=Li.Replace;let x=o0(v.location,g,y);d=u();let b=tN(x,d),_=v.createHref(x);o.replaceState(b,"",_),i&&c&&c({action:l,location:v.location,delta:0})}function w(g){let y=a.location.origin!=="null"?a.location.origin:a.location.href,x=typeof g=="string"?g:tp(g);return x=x.replace(/ $/,"%20"),mr(y,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,y)}let v={get action(){return l},get location(){return e(a,o)},listen(g){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(eN,h),c=g,()=>{a.removeEventListener(eN,h),c=null}},createHref(g){return t(a,g)},createURL:w,encodeLocation(g){let y=w(g);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:m,replace:p,go(g){return o.go(g)}};return v}var rN;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(rN||(rN={}));function A5(e,t,r){return r===void 0&&(r="/"),O5(e,t,r,!1)}function O5(e,t,r,n){let a=typeof t=="string"?vd(t):t,i=Zc(a.pathname||"/",r);if(i==null)return null;let o=UE(e);D5(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=H5(i);l=V5(o[c],d,n)}return l}function UE(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(mr(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let d=Xi([n,c.relativePath]),u=r.concat(c);i.children&&i.children.length>0&&(mr(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),UE(i.children,t,u,d)),!(i.path==null&&!i.index)&&t.push({path:d,score:B5(d,i.index),routesMeta:u})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))a(i,o);else for(let c of BE(i.path))a(i,o,c)}),t}function BE(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let o=BE(n.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),a&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function D5(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:q5(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const I5=/^:[\w-]+$/,F5=3,L5=2,$5=1,z5=10,U5=-2,nN=e=>e==="*";function B5(e,t){let r=e.split("/"),n=r.length;return r.some(nN)&&(n+=U5),t&&(n+=L5),r.filter(a=>!nN(a)).reduce((a,i)=>a+(I5.test(i)?F5:i===""?$5:z5),n)}function q5(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function V5(e,t,r){let{routesMeta:n}=e,a={},i="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],d=l===n.length-1,u=i==="/"?t:t.slice(i.length)||"/",h=rp({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),m=c.route;if(!h&&d&&r&&!n[n.length-1].route.index&&(h=rp({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},u)),!h)return null;Object.assign(a,h.params),o.push({params:a,pathname:Xi([i,h.pathname]),pathnameBase:Q5(Xi([i,h.pathnameBase])),route:m}),h.pathnameBase!=="/"&&(i=Xi([i,h.pathnameBase]))}return o}function rp(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=W5(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((d,u,h)=>{let{paramName:m,isOptional:p}=u;if(m==="*"){let v=l[h]||"";o=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const w=l[h];return p&&!w?d[m]=void 0:d[m]=(w||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:e}}function W5(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),zE(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function H5(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return zE(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Zc(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function K5(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?vd(e):e;return{pathname:r?r.startsWith("/")?r:G5(r,t):t,search:X5(n),hash:Z5(a)}}function G5(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function cx(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Y5(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function db(e,t){let r=Y5(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function ub(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=vd(e):(a=of({},e),mr(!a.pathname||!a.pathname.includes("?"),cx("?","pathname","search",a)),mr(!a.pathname||!a.pathname.includes("#"),cx("#","pathname","hash",a)),mr(!a.search||!a.search.includes("#"),cx("#","search","hash",a)));let i=e===""||a.pathname==="",o=i?"/":a.pathname,l;if(o==null)l=r;else{let h=t.length-1;if(!n&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),h-=1;a.pathname=m.join("/")}l=h>=0?t[h]:"/"}let c=K5(a,l),d=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}const Xi=e=>e.join("/").replace(/\/\/+/g,"/"),Q5=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),X5=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Z5=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function J5(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const qE=["post","put","patch","delete"];new Set(qE);const e6=["get",...qE];new Set(e6);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function lf(){return lf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lf.apply(this,arguments)}const fg=f.createContext(null),VE=f.createContext(null),li=f.createContext(null),hg=f.createContext(null),ba=f.createContext({outlet:null,matches:[],isDataRoute:!1}),WE=f.createContext(null);function t6(e,t){let{relative:r}=t===void 0?{}:t;xd()||mr(!1);let{basename:n,navigator:a}=f.useContext(li),{hash:i,pathname:o,search:l}=mg(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:Xi([n,o])),a.createHref({pathname:c,search:l,hash:i})}function xd(){return f.useContext(hg)!=null}function Qs(){return xd()||mr(!1),f.useContext(hg).location}function HE(e){f.useContext(li).static||f.useLayoutEffect(e)}function Or(){let{isDataRoute:e}=f.useContext(ba);return e?g6():r6()}function r6(){xd()||mr(!1);let e=f.useContext(fg),{basename:t,future:r,navigator:n}=f.useContext(li),{matches:a}=f.useContext(ba),{pathname:i}=Qs(),o=JSON.stringify(db(a,r.v7_relativeSplatPath)),l=f.useRef(!1);return HE(()=>{l.current=!0}),f.useCallback(function(d,u){if(u===void 0&&(u={}),!l.current)return;if(typeof d=="number"){n.go(d);return}let h=ub(d,JSON.parse(o),i,u.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Xi([t,h.pathname])),(u.replace?n.replace:n.push)(h,u.state,u)},[t,n,o,i,e])}const n6=f.createContext(null);function s6(e){let t=f.useContext(ba).outlet;return t&&f.createElement(n6.Provider,{value:e},t)}function fb(){let{matches:e}=f.useContext(ba),t=e[e.length-1];return t?t.params:{}}function mg(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=f.useContext(li),{matches:a}=f.useContext(ba),{pathname:i}=Qs(),o=JSON.stringify(db(a,n.v7_relativeSplatPath));return f.useMemo(()=>ub(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function a6(e,t){return i6(e,t)}function i6(e,t,r,n){xd()||mr(!1);let{navigator:a}=f.useContext(li),{matches:i}=f.useContext(ba),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let d=Qs(),u;if(t){var h;let g=typeof t=="string"?vd(t):t;c==="/"||(h=g.pathname)!=null&&h.startsWith(c)||mr(!1),u=g}else u=d;let m=u.pathname||"/",p=m;if(c!=="/"){let g=c.replace(/^\//,"").split("/");p="/"+m.replace(/^\//,"").split("/").slice(g.length).join("/")}let w=A5(e,{pathname:p}),v=u6(w&&w.map(g=>Object.assign({},g,{params:Object.assign({},l,g.params),pathname:Xi([c,a.encodeLocation?a.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?c:Xi([c,a.encodeLocation?a.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),i,r,n);return t&&v?f.createElement(hg.Provider,{value:{location:lf({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Li.Pop}},v):v}function o6(){let e=p6(),t=J5(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return f.createElement(f.Fragment,null,f.createElement("h2",null,"Unexpected Application Error!"),f.createElement("h3",{style:{fontStyle:"italic"}},t),r?f.createElement("pre",{style:a},r):null,null)}const l6=f.createElement(o6,null);class c6 extends f.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?f.createElement(ba.Provider,{value:this.props.routeContext},f.createElement(WE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function d6(e){let{routeContext:t,match:r,children:n}=e,a=f.useContext(fg);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),f.createElement(ba.Provider,{value:t},n)}function u6(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(a=r)==null?void 0:a.errors;if(l!=null){let u=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);u>=0||mr(!1),o=o.slice(0,Math.min(o.length,u+1))}let c=!1,d=-1;if(r&&n&&n.v7_partialHydration)for(let u=0;u<o.length;u++){let h=o[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(d=u),h.route.id){let{loaderData:m,errors:p}=r,w=h.route.loader&&m[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||w){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((u,h,m)=>{let p,w=!1,v=null,g=null;r&&(p=l&&h.route.id?l[h.route.id]:void 0,v=h.route.errorElement||l6,c&&(d<0&&m===0?(w=!0,g=null):d===m&&(w=!0,g=h.route.hydrateFallbackElement||null)));let y=t.concat(o.slice(0,m+1)),x=()=>{let b;return p?b=v:w?b=g:h.route.Component?b=f.createElement(h.route.Component,null):h.route.element?b=h.route.element:b=u,f.createElement(d6,{match:h,routeContext:{outlet:u,matches:y,isDataRoute:r!=null},children:b})};return r&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?f.createElement(c6,{location:r.location,revalidation:r.revalidation,component:v,error:p,children:x(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):x()},null)}var KE=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(KE||{}),np=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(np||{});function f6(e){let t=f.useContext(fg);return t||mr(!1),t}function h6(e){let t=f.useContext(VE);return t||mr(!1),t}function m6(e){let t=f.useContext(ba);return t||mr(!1),t}function GE(e){let t=m6(),r=t.matches[t.matches.length-1];return r.route.id||mr(!1),r.route.id}function p6(){var e;let t=f.useContext(WE),r=h6(np.UseRouteError),n=GE(np.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function g6(){let{router:e}=f6(KE.UseNavigateStable),t=GE(np.UseNavigateStable),r=f.useRef(!1);return HE(()=>{r.current=!0}),f.useCallback(function(a,i){i===void 0&&(i={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,lf({fromRouteId:t},i)))},[e,t])}function v6(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function l0(e){let{to:t,replace:r,state:n,relative:a}=e;xd()||mr(!1);let{future:i,static:o}=f.useContext(li),{matches:l}=f.useContext(ba),{pathname:c}=Qs(),d=Or(),u=ub(t,db(l,i.v7_relativeSplatPath),c,a==="path"),h=JSON.stringify(u);return f.useEffect(()=>d(JSON.parse(h),{replace:r,state:n,relative:a}),[d,h,a,r,n]),null}function YE(e){return s6(e.context)}function wt(e){mr(!1)}function x6(e){let{basename:t="/",children:r=null,location:n,navigationType:a=Li.Pop,navigator:i,static:o=!1,future:l}=e;xd()&&mr(!1);let c=t.replace(/^\/*/,"/"),d=f.useMemo(()=>({basename:c,navigator:i,static:o,future:lf({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof n=="string"&&(n=vd(n));let{pathname:u="/",search:h="",hash:m="",state:p=null,key:w="default"}=n,v=f.useMemo(()=>{let g=Zc(u,c);return g==null?null:{location:{pathname:g,search:h,hash:m,state:p,key:w},navigationType:a}},[c,u,h,m,p,w,a]);return v==null?null:f.createElement(li.Provider,{value:d},f.createElement(hg.Provider,{children:r,value:v}))}function y6(e){let{children:t,location:r}=e;return a6(c0(t),r)}new Promise(()=>{});function c0(e,t){t===void 0&&(t=[]);let r=[];return f.Children.forEach(e,(n,a)=>{if(!f.isValidElement(n))return;let i=[...t,a];if(n.type===f.Fragment){r.push.apply(r,c0(n.props.children,i));return}n.type!==wt&&mr(!1),!n.props.index||!n.props.children||mr(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=c0(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function sp(){return sp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sp.apply(this,arguments)}function QE(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function w6(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function b6(e,t){return e.button===0&&(!t||t==="_self")&&!w6(e)}const j6=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],_6=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],N6="6";try{window.__reactRouterVersion=N6}catch{}const S6=f.createContext({isTransitioning:!1}),C6="startTransition",sN=Y0[C6];function k6(e){let{basename:t,children:r,future:n,window:a}=e,i=f.useRef();i.current==null&&(i.current=T5({window:a,v5Compat:!0}));let o=i.current,[l,c]=f.useState({action:o.action,location:o.location}),{v7_startTransition:d}=n||{},u=f.useCallback(h=>{d&&sN?sN(()=>c(h)):c(h)},[c,d]);return f.useLayoutEffect(()=>o.listen(u),[o,u]),f.useEffect(()=>v6(n),[n]),f.createElement(x6,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const E6=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",P6=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Yt=f.forwardRef(function(t,r){let{onClick:n,relative:a,reloadDocument:i,replace:o,state:l,target:c,to:d,preventScrollReset:u,viewTransition:h}=t,m=QE(t,j6),{basename:p}=f.useContext(li),w,v=!1;if(typeof d=="string"&&P6.test(d)&&(w=d,E6))try{let b=new URL(window.location.href),_=d.startsWith("//")?new URL(b.protocol+d):new URL(d),N=Zc(_.pathname,p);_.origin===b.origin&&N!=null?d=N+_.search+_.hash:v=!0}catch{}let g=t6(d,{relative:a}),y=R6(d,{replace:o,state:l,target:c,preventScrollReset:u,relative:a,viewTransition:h});function x(b){n&&n(b),b.defaultPrevented||y(b)}return f.createElement("a",sp({},m,{href:w||g,onClick:v||i?n:x,ref:r,target:c}))}),ap=f.forwardRef(function(t,r){let{"aria-current":n="page",caseSensitive:a=!1,className:i="",end:o=!1,style:l,to:c,viewTransition:d,children:u}=t,h=QE(t,_6),m=mg(c,{relative:h.relative}),p=Qs(),w=f.useContext(VE),{navigator:v,basename:g}=f.useContext(li),y=w!=null&&M6(m)&&d===!0,x=v.encodeLocation?v.encodeLocation(m).pathname:m.pathname,b=p.pathname,_=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;a||(b=b.toLowerCase(),_=_?_.toLowerCase():null,x=x.toLowerCase()),_&&g&&(_=Zc(_,g)||_);const N=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let P=b===x||!o&&b.startsWith(x)&&b.charAt(N)==="/",S=_!=null&&(_===x||!o&&_.startsWith(x)&&_.charAt(x.length)==="/"),T={isActive:P,isPending:S,isTransitioning:y},U=P?n:void 0,q;typeof i=="function"?q=i(T):q=[i,P?"active":null,S?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let re=typeof l=="function"?l(T):l;return f.createElement(Yt,sp({},h,{"aria-current":U,className:q,ref:r,style:re,to:c,viewTransition:d}),typeof u=="function"?u(T):u)});var d0;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(d0||(d0={}));var aN;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(aN||(aN={}));function T6(e){let t=f.useContext(fg);return t||mr(!1),t}function R6(e,t){let{target:r,replace:n,state:a,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,c=Or(),d=Qs(),u=mg(e,{relative:o});return f.useCallback(h=>{if(b6(h,r)){h.preventDefault();let m=n!==void 0?n:tp(d)===tp(u);c(e,{replace:m,state:a,preventScrollReset:i,relative:o,viewTransition:l})}},[d,c,u,n,a,r,e,i,o,l])}function M6(e,t){t===void 0&&(t={});let r=f.useContext(S6);r==null&&mr(!1);let{basename:n}=T6(d0.useViewTransitionState),a=mg(e,{relative:t.relative});if(!r.isTransitioning)return!1;let i=Zc(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=Zc(r.nextLocation.pathname,n)||r.nextLocation.pathname;return rp(a.pathname,o)!=null||rp(a.pathname,i)!=null}const Jc=Nl("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-0 focus-visible:ring-offset-0 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-white hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),O=f.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...a},i)=>{const o=n?jl:"button";return s.jsx(o,{className:le(Jc({variant:t,size:r,className:e})),ref:i,...a})});O.displayName="Button";function hb(){const{theme:e,setTheme:t,resolvedTheme:r}=is(),[n,a]=f.useState(!1);f.useEffect(()=>a(!0),[]);const i=(n?r:e)==="dark";return s.jsx(O,{variant:"ghost",size:"icon","aria-label":"Alternar tema",onClick:()=>t(i?"light":"dark"),className:"rounded-full",children:i?s.jsx(rg,{className:"h-4 w-4"}):s.jsx(tg,{className:"h-4 w-4"})})}const Xt=({title:e,description:t,canonical:r})=>(f.useEffect(()=>{if(e&&(document.title=e),t){let i=document.querySelector('meta[name="description"]');i||(i=document.createElement("meta"),i.setAttribute("name","description"),document.head.appendChild(i)),i.setAttribute("content",t)}const n=r||window.location.href;let a=document.querySelector('link[rel="canonical"]');a||(a=document.createElement("link"),a.setAttribute("rel","canonical"),document.head.appendChild(a)),a.setAttribute("href",n)},[e,t,r]),null),A6="modulepreload",O6=function(e){return"/"+e},iN={},Sl=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));a=Promise.allSettled(r.map(c=>{if(c=O6(c),c in iN)return;iN[c]=!0;const d=c.endsWith(".css"),u=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const h=document.createElement("link");if(h.rel=d?"stylesheet":A6,d||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),d)return new Promise((m,p)=>{h.addEventListener("load",m),h.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return a.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})},D6=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Sl(async()=>{const{default:n}=await Promise.resolve().then(()=>yd);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class mb extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class I6 extends mb{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class oN extends mb{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class lN extends mb{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var u0;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(u0||(u0={}));var F6=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(h){o(h)}}function c(u){try{d(n.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};class L6{constructor(t,{headers:r={},customFetch:n,region:a=u0.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=D6(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return F6(this,void 0,void 0,function*(){try{const{headers:a,method:i,body:o}=r;let l={},{region:c}=r;c||(c=this.region);const d=new URL(`${this.url}/${t}`);c&&c!=="any"&&(l["x-region"]=c,d.searchParams.set("forceFunctionRegion",c));let u;o&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(l["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(l["Content-Type"]="application/json",u=JSON.stringify(o)));const h=yield this.fetch(d.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),a),body:u}).catch(v=>{throw new I6(v)}),m=h.headers.get("x-relay-error");if(m&&m==="true")throw new oN(h);if(!h.ok)throw new lN(h);let p=((n=h.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),w;return p==="application/json"?w=yield h.json():p==="application/octet-stream"?w=yield h.blob():p==="text/event-stream"?w=h:p==="multipart/form-data"?w=yield h.formData():w=yield h.text(),{data:w,error:null,response:h}}catch(a){return{data:null,error:a,response:a instanceof lN||a instanceof oN?a.context:void 0}}})}}var In={},pb={},pg={},Of={},gg={},vg={},$6=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ed=$6();const z6=ed.fetch,XE=ed.fetch.bind(ed),ZE=ed.Headers,U6=ed.Request,B6=ed.Response,yd=Object.freeze(Object.defineProperty({__proto__:null,Headers:ZE,Request:U6,Response:B6,default:XE,fetch:z6},Symbol.toStringTag,{value:"Module"})),q6=cO(yd);var xg={};Object.defineProperty(xg,"__esModule",{value:!0});let V6=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};xg.default=V6;var JE=ys&&ys.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(vg,"__esModule",{value:!0});const W6=JE(q6),H6=JE(xg);let K6=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=W6.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let a=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,c;let d=null,u=null,h=null,m=i.status,p=i.statusText;if(i.ok){if(this.method!=="HEAD"){const y=await i.text();y===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=y:u=JSON.parse(y))}const v=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),g=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");v&&g&&g.length>1&&(h=parseInt(g[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(d={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,h=null,m=406,p="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{const v=await i.text();try{d=JSON.parse(v),Array.isArray(d)&&i.status===404&&(u=[],d=null,m=200,p="OK")}catch{i.status===404&&v===""?(m=204,p="No Content"):d={message:v}}if(d&&this.isMaybeSingle&&(!((c=d==null?void 0:d.details)===null||c===void 0)&&c.includes("0 rows"))&&(d=null,m=200,p="OK"),d&&this.shouldThrowOnError)throw new H6.default(d)}return{error:d,data:u,count:h,status:m,statusText:p}});return this.shouldThrowOnError||(a=a.catch(i=>{var o,l,c;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),a.then(t,r)}returns(){return this}overrideTypes(){return this}};vg.default=K6;var G6=ys&&ys.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(gg,"__esModule",{value:!0});const Y6=G6(vg);let Q6=class extends Y6.default{select(t){let r=!1;const n=(t??"*").split("").map(a=>/\s/.test(a)&&!r?"":(a==='"'&&(r=!r),a)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:a,referencedTable:i=a}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const a=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:a=n}={}){const i=typeof a>"u"?"offset":`${a}.offset`,o=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:a=!1,wal:i=!1,format:o="text"}={}){var l;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,a?"buffers":null,i?"wal":null].filter(Boolean).join("|"),d=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${d}"; options=${c};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};gg.default=Q6;var X6=ys&&ys.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Of,"__esModule",{value:!0});const Z6=X6(gg);let J6=class extends Z6.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:a}={}){let i="";a==="plain"?i="pl":a==="phrase"?i="ph":a==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${o}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const a=n?`${n}.or`:"or";return this.url.searchParams.append(a,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};Of.default=J6;var e8=ys&&ys.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(pg,"__esModule",{value:!0});const tu=e8(Of);let t8=class{constructor(t,{headers:r={},schema:n,fetch:a}){this.url=t,this.headers=r,this.schema=n,this.fetch=a}select(t,{head:r=!1,count:n}={}){const a=r?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),n&&(this.headers.Prefer=`count=${n}`),new tu.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const a="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const o=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new tu.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:a,defaultToNull:i=!0}={}){const o="POST",l=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&l.push(this.headers.Prefer),a&&l.push(`count=${a}`),i||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const c=t.reduce((d,u)=>d.concat(Object.keys(u)),[]);if(c.length>0){const d=[...new Set(c)].map(u=>`"${u}"`);this.url.searchParams.set("columns",d.join(","))}}return new tu.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",a=[];return this.headers.Prefer&&a.push(this.headers.Prefer),r&&a.push(`count=${r}`),this.headers.Prefer=a.join(","),new tu.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new tu.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};pg.default=t8;var yg={},wg={};Object.defineProperty(wg,"__esModule",{value:!0});wg.version=void 0;wg.version="0.0.0-automated";Object.defineProperty(yg,"__esModule",{value:!0});yg.DEFAULT_HEADERS=void 0;const r8=wg;yg.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${r8.version}`};var eP=ys&&ys.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(pb,"__esModule",{value:!0});const n8=eP(pg),s8=eP(Of),a8=yg;let i8=class tP{constructor(t,{headers:r={},schema:n,fetch:a}={}){this.url=t,this.headers=Object.assign(Object.assign({},a8.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=a}from(t){const r=new URL(`${this.url}/${t}`);return new n8.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new tP(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:a=!1,count:i}={}){let o;const l=new URL(`${this.url}/rpc/${t}`);let c;n||a?(o=n?"HEAD":"GET",Object.entries(r).filter(([u,h])=>h!==void 0).map(([u,h])=>[u,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([u,h])=>{l.searchParams.append(u,h)})):(o="POST",c=r);const d=Object.assign({},this.headers);return i&&(d.Prefer=`count=${i}`),new s8.default({method:o,url:l,headers:d,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};pb.default=i8;var wd=ys&&ys.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(In,"__esModule",{value:!0});In.PostgrestError=In.PostgrestBuilder=In.PostgrestTransformBuilder=In.PostgrestFilterBuilder=In.PostgrestQueryBuilder=In.PostgrestClient=void 0;const rP=wd(pb);In.PostgrestClient=rP.default;const nP=wd(pg);In.PostgrestQueryBuilder=nP.default;const sP=wd(Of);In.PostgrestFilterBuilder=sP.default;const aP=wd(gg);In.PostgrestTransformBuilder=aP.default;const iP=wd(vg);In.PostgrestBuilder=iP.default;const oP=wd(xg);In.PostgrestError=oP.default;var o8=In.default={PostgrestClient:rP.default,PostgrestQueryBuilder:nP.default,PostgrestFilterBuilder:sP.default,PostgrestTransformBuilder:aP.default,PostgrestBuilder:iP.default,PostgrestError:oP.default};const{PostgrestClient:l8,PostgrestQueryBuilder:rQ,PostgrestFilterBuilder:nQ,PostgrestTransformBuilder:sQ,PostgrestBuilder:aQ,PostgrestError:iQ}=o8;class c8{static dynamicRequire(t){try{return typeof process<"u"&&process.versions&&process.versions.node&&typeof require<"u"?require(t):null}catch{return null}}static detectEnvironment(){var t,r;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const n=parseInt(process.versions.node.split(".")[0]);if(n>=22)try{if(typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};const a=this.dynamicRequire("undici");if(a&&a.WebSocket)return{type:"native",constructor:a.WebSocket};throw new Error("undici not available")}catch{return{type:"unsupported",error:`Node.js ${n} detected but native WebSocket not found.`,workaround:'Install the "ws" package or check your Node.js installation.'}}try{const a=this.dynamicRequire("ws");if(a)return{type:"ws",constructor:(r=a.WebSocket)!==null&&r!==void 0?r:a};throw new Error("ws package not available")}catch{return{type:"unsupported",error:`Node.js ${n} detected without WebSocket support.`,workaround:'Install the "ws" package: npm install ws'}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const d8="2.15.0",u8=`realtime-js/${d8}`,f8="1.0.0",f0=1e4,h8=1e3,m8=100;var Ru;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Ru||(Ru={}));var Ir;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Ir||(Ir={}));var Is;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Is||(Is={}));var h0;(function(e){e.websocket="websocket"})(h0||(h0={}));var Io;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Io||(Io={}));class p8{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const a=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(t.slice(o,o+a));o=o+a;const c=n.decode(t.slice(o,o+i));o=o+i;const d=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:c,payload:d}}}class lP{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Kt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Kt||(Kt={}));const cN=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((i,o)=>(i[o]=g8(o,e,t,a),i),{})},g8=(e,t,r,n)=>{const a=t.find(l=>l.name===e),i=a==null?void 0:a.type,o=r[e];return i&&!n.includes(i)?cP(i,o):m0(o)},cP=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return w8(t,r)}switch(e){case Kt.bool:return v8(t);case Kt.float4:case Kt.float8:case Kt.int2:case Kt.int4:case Kt.int8:case Kt.numeric:case Kt.oid:return x8(t);case Kt.json:case Kt.jsonb:return y8(t);case Kt.timestamp:return b8(t);case Kt.abstime:case Kt.date:case Kt.daterange:case Kt.int4range:case Kt.int8range:case Kt.money:case Kt.reltime:case Kt.text:case Kt.time:case Kt.timestamptz:case Kt.timetz:case Kt.tsrange:case Kt.tstzrange:return m0(t);default:return m0(t)}},m0=e=>e,v8=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},x8=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},y8=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},w8=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>cP(t,l))}return e},b8=e=>typeof e=="string"?e.replace(" ","T"):e,dP=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class dx{constructor(t,r,n={},a=f0){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var dN;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(dN||(dN={}));class Mu{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Mu.syncState(this.state,a,i,o),this.pendingDiffs.forEach(c=>{this.state=Mu.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Mu.syncDiff(this.state,a,i,o),l())}),this.onJoin((a,i,o)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:o})}),this.onLeave((a,i,o)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const i=this.cloneDeep(t),o=this.transformState(r),l={},c={};return this.map(i,(d,u)=>{o[d]||(c[d]=u)}),this.map(o,(d,u)=>{const h=i[d];if(h){const m=u.map(g=>g.presence_ref),p=h.map(g=>g.presence_ref),w=u.filter(g=>p.indexOf(g.presence_ref)<0),v=h.filter(g=>m.indexOf(g.presence_ref)<0);w.length>0&&(l[d]=w),v.length>0&&(c[d]=v)}else l[d]=u}),this.syncDiff(i,{joins:l,leaves:c},n,a)}static syncDiff(t,r,n,a){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(i,(l,c)=>{var d;const u=(d=t[l])!==null&&d!==void 0?d:[];if(t[l]=this.cloneDeep(c),u.length>0){const h=t[l].map(p=>p.presence_ref),m=u.filter(p=>h.indexOf(p.presence_ref)<0);t[l].unshift(...m)}n(l,u,c)}),this.map(o,(l,c)=>{let d=t[l];if(!d)return;const u=c.map(h=>h.presence_ref);d=d.filter(h=>u.indexOf(h.presence_ref)<0),t[l]=d,a(l,d,c),d.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var uN;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(uN||(uN={}));var Au;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Au||(Au={}));var Fa;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Fa||(Fa={}));class gb{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Ir.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new dx(this,Is.join,this.params,this.timeout),this.rejoinTimer=new lP(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ir.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ir.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Ir.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ir.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Ir.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Is.reply,{},(a,i)=>{this._trigger(this._replyEventName(i),a)}),this.presence=new Mu(this),this.broadcastEndpointURL=dP(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Ir.closed){const{config:{broadcast:i,presence:o,private:l}}=this.params,c=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(m=>m.filter))!==null&&a!==void 0?a:[],d=!!this.bindings[Au.PRESENCE]&&this.bindings[Au.PRESENCE].length>0,u={},h={broadcast:i,presence:Object.assign(Object.assign({},o),{enabled:d}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(u.access_token=this.socket.accessTokenValue),this._onError(m=>t==null?void 0:t(Fa.CHANNEL_ERROR,m)),this._onClose(()=>t==null?void 0:t(Fa.CLOSED)),this.updateJoinPayload(Object.assign({config:h},u)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:m})=>{var p;if(this.socket.setAuth(),m===void 0){t==null||t(Fa.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,v=(p=w==null?void 0:w.length)!==null&&p!==void 0?p:0,g=[];for(let y=0;y<v;y++){const x=w[y],{filter:{event:b,schema:_,table:N,filter:P}}=x,S=m&&m[y];if(S&&S.event===b&&S.schema===_&&S.table===N&&S.filter===P)g.push(Object.assign(Object.assign({},x),{id:S.id}));else{this.unsubscribe(),this.state=Ir.errored,t==null||t(Fa.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,t&&t(Fa.SUBSCRIBED);return}}).receive("error",m=>{this.state=Ir.errored,t==null||t(Fa.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Fa.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===Ir.joined&&t===Au.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=d.body)===null||a===void 0?void 0:a.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const d=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),d.receive("ok",()=>i("ok")),d.receive("error",()=>i("error")),d.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ir.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Is.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new dx(this,Is.leave,{},t),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ir.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const a=new AbortController,i=setTimeout(()=>a.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new dx(this,t,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>m8){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,i;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:d,join:u}=Is;if(n&&[l,c,d,u].indexOf(o)>=0&&n!==this._joinRef())return;let m=this._onMessage(o,r,n);if(r&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(p=>{var w,v,g;return((w=p.filter)===null||w===void 0?void 0:w.event)==="*"||((g=(v=p.filter)===null||v===void 0?void 0:v.event)===null||g===void 0?void 0:g.toLocaleLowerCase())===o}).map(p=>p.callback(m,n)):(i=this.bindings[o])===null||i===void 0||i.filter(p=>{var w,v,g,y,x,b;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const _=p.id,N=(w=p.filter)===null||w===void 0?void 0:w.event;return _&&((v=r.ids)===null||v===void 0?void 0:v.includes(_))&&(N==="*"||(N==null?void 0:N.toLocaleLowerCase())===((g=r.data)===null||g===void 0?void 0:g.type.toLocaleLowerCase()))}else{const _=(x=(y=p==null?void 0:p.filter)===null||y===void 0?void 0:y.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return _==="*"||_===((b=r==null?void 0:r.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof m=="object"&&"ids"in m){const w=m.data,{schema:v,table:g,commit_timestamp:y,type:x,errors:b}=w;m=Object.assign(Object.assign({},{schema:v,table:g,commit_timestamp:y,eventType:x,new:{},old:{},errors:b}),this._getPayloadRecords(w))}p.callback(m,n)})}_isClosed(){return this.state===Ir.closed}_isJoined(){return this.state===Ir.joined}_isJoining(){return this.state===Ir.joining}_isLeaving(){return this.state===Ir.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),i={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&gb.isEqual(a.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Is.close,{},t)}_onError(t){this._on(Is.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ir.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=cN(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=cN(t.columns,t.old_record)),r}}const fN=()=>{},$h={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},j8=[1e3,2e3,5e3,1e4],_8=1e4,N8=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class S8{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=f0,this.transport=null,this.heartbeatIntervalMs=$h.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=fN,this.ref=0,this.reconnectTimer=null,this.logger=fN,this.conn=null,this.sendBuffer=[],this.serializer=new p8,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>{let i;return a?i=a:typeof fetch>"u"?i=(...o)=>Sl(async()=>{const{default:l}=await Promise.resolve().then(()=>yd);return{default:l}},void 0).then(({default:l})=>l(...o)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${h0.websocket}`,this.httpEndpoint=dP(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=c8.createWebSocket(this.endpointURL())}catch(t){throw this._setConnectionState("disconnected"),new Error(`WebSocket not available: ${t.message}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:f8}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Ru.connecting:return Io.Connecting;case Ru.open:return Io.Open;case Ru.closing:return Io.Closing;default:return Io.Closed}}isConnected(){return this.connectionState()===Io.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,a=this.getChannels().find(i=>i.topic===n);if(a)return a;{const i=new gb(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:a,ref:i}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,a),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(h8,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},$h.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{r.topic==="phoenix"&&r.event==="phx_reply"&&this.heartbeatCallback(r.payload.status==="ok"?"ok":"error"),r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:a,payload:i,ref:o}=r,l=o?`(${o})`:"",c=i.status||"";this.log("receive",`${c} ${n} ${a} ${l}`.trim(),i),this.channels.filter(d=>d._isMember(n)).forEach(d=>d._trigger(a,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Is.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([N8],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const a={access_token:r,version:u8};r&&n.updateJoinPayload(a),n.joinedOnce&&n._isJoined()&&n._push(Is.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new lP(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},$h.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,a,i,o,l,c,d;if(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:f0,this.heartbeatIntervalMs=(a=t==null?void 0:t.heartbeatIntervalMs)!==null&&a!==void 0?a:$h.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=t==null?void 0:t.reconnectAfterMs)!==null&&l!==void 0?l:u=>j8[u-1]||_8,this.encode=(c=t==null?void 0:t.encode)!==null&&c!==void 0?c:(u,h)=>h(JSON.stringify(u)),this.decode=(d=t==null?void 0:t.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class vb extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Wr(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class C8 extends vb{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class p0 extends vb{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var k8=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(h){o(h)}}function c(u){try{d(n.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};const uP=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Sl(async()=>{const{default:n}=await Promise.resolve().then(()=>yd);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},E8=()=>k8(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Sl(()=>Promise.resolve().then(()=>yd),void 0)).Response:Response}),g0=e=>{if(Array.isArray(e))return e.map(r=>g0(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[a]=g0(n)}),t},P8=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var Cl=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(h){o(h)}}function c(u){try{d(n.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};const ux=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),T8=(e,t,r)=>Cl(void 0,void 0,void 0,function*(){const n=yield E8();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(a=>{const i=e.status||500,o=(a==null?void 0:a.statusCode)||i+"";t(new C8(ux(a),i,o))}).catch(a=>{t(new p0(ux(a),a))}):t(new p0(ux(e),e))}),R8=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?a:(P8(n)?(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,Object.assign(Object.assign({},a),r))};function Df(e,t,r,n,a,i){return Cl(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(r,R8(t,n,a,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>T8(c,l,n))})})}function ip(e,t,r,n){return Cl(this,void 0,void 0,function*(){return Df(e,"GET",t,r,n)})}function La(e,t,r,n,a){return Cl(this,void 0,void 0,function*(){return Df(e,"POST",t,n,a,r)})}function v0(e,t,r,n,a){return Cl(this,void 0,void 0,function*(){return Df(e,"PUT",t,n,a,r)})}function M8(e,t,r,n){return Cl(this,void 0,void 0,function*(){return Df(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function fP(e,t,r,n,a){return Cl(this,void 0,void 0,function*(){return Df(e,"DELETE",t,n,a,r)})}var Tn=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(h){o(h)}}function c(u){try{d(n.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};const A8={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},hN={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class O8{constructor(t,r={},n,a){this.url=t,this.headers=r,this.bucketId=n,this.fetch=uP(a)}uploadOrUpdate(t,r,n,a){return Tn(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},hN),a);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),a!=null&&a.headers&&(l=Object.assign(Object.assign({},l),a.headers));const d=this._removeEmptyFolders(r),u=this._getFinalPath(d),h=yield(t=="PUT"?v0:La)(this.fetch,`${this.url}/object/${u}`,i,Object.assign({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:d,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(Wr(i))return{data:null,error:i};throw i}})}upload(t,r,n){return Tn(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,a){return Tn(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let c;const d=Object.assign({upsert:hN.upsert},a),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",d.cacheControl)):(c=n,u["cache-control"]=`max-age=${d.cacheControl}`,u["content-type"]=d.contentType);const h=yield v0(this.fetch,l.toString(),c,{headers:u});return{data:{path:i,fullPath:h.Key},error:null}}catch(c){if(Wr(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return Tn(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const a=Object.assign({},this.headers);r!=null&&r.upsert&&(a["x-upsert"]="true");const i=yield La(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new vb("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(n){if(Wr(n))return{data:null,error:n};throw n}})}update(t,r,n){return Tn(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Tn(this,void 0,void 0,function*(){try{return{data:yield La(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(Wr(a))return{data:null,error:a};throw a}})}copy(t,r,n){return Tn(this,void 0,void 0,function*(){try{return{data:{path:(yield La(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(Wr(a))return{data:null,error:a};throw a}})}createSignedUrl(t,r,n){return Tn(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),i=yield La(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(a){if(Wr(a))return{data:null,error:a};throw a}})}createSignedUrls(t,r,n){return Tn(this,void 0,void 0,function*(){try{const a=yield La(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(a){if(Wr(a))return{data:null,error:a};throw a}})}download(t,r){return Tn(this,void 0,void 0,function*(){const a=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield ip(this.fetch,`${this.url}/${a}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(Wr(l))return{data:null,error:l};throw l}})}info(t){return Tn(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield ip(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:g0(n),error:null}}catch(n){if(Wr(n))return{data:null,error:n};throw n}})}exists(t){return Tn(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield M8(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Wr(n)&&n instanceof p0){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),a=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&a.push(i);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&a.push(c);let d=a.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${d}`)}}}remove(t){return Tn(this,void 0,void 0,function*(){try{return{data:yield fP(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(Wr(r))return{data:null,error:r};throw r}})}list(t,r,n){return Tn(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},A8),r),{prefix:t||""});return{data:yield La(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(Wr(a))return{data:null,error:a};throw a}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const D8="2.10.4",I8={"X-Client-Info":`storage-js/${D8}`};var zl=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(h){o(h)}}function c(u){try{d(n.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};class F8{constructor(t,r={},n,a){const i=new URL(t);a!=null&&a.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},I8),r),this.fetch=uP(n)}listBuckets(){return zl(this,void 0,void 0,function*(){try{return{data:yield ip(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Wr(t))return{data:null,error:t};throw t}})}getBucket(t){return zl(this,void 0,void 0,function*(){try{return{data:yield ip(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(Wr(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return zl(this,void 0,void 0,function*(){try{return{data:yield La(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Wr(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return zl(this,void 0,void 0,function*(){try{return{data:yield v0(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Wr(n))return{data:null,error:n};throw n}})}emptyBucket(t){return zl(this,void 0,void 0,function*(){try{return{data:yield La(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(Wr(r))return{data:null,error:r};throw r}})}deleteBucket(t){return zl(this,void 0,void 0,function*(){try{return{data:yield fP(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(Wr(r))return{data:null,error:r};throw r}})}}class L8 extends F8{constructor(t,r={},n,a){super(t,r,n,a)}from(t){return new O8(this.url,this.headers,t,this.fetch)}}const $8="2.54.0";let hu="";typeof Deno<"u"?hu="deno":typeof document<"u"?hu="web":typeof navigator<"u"&&navigator.product==="ReactNative"?hu="react-native":hu="node";const z8={"X-Client-Info":`supabase-js-${hu}/${$8}`},U8={headers:z8},B8={schema:"public"},q8={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},V8={};var W8=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(h){o(h)}}function c(u){try{d(n.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};const H8=e=>{let t;return e?t=e:typeof fetch>"u"?t=XE:t=fetch,(...r)=>t(...r)},K8=()=>typeof Headers>"u"?ZE:Headers,G8=(e,t,r)=>{const n=H8(r),a=K8();return(i,o)=>W8(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let d=new a(o==null?void 0:o.headers);return d.has("apikey")||d.set("apikey",e),d.has("Authorization")||d.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},o),{headers:d}))})};var Y8=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(h){o(h)}}function c(u){try{d(n.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};function Q8(e){return e.endsWith("/")?e:e+"/"}function X8(e,t){var r,n;const{db:a,auth:i,realtime:o,global:l}=e,{db:c,auth:d,realtime:u,global:h}=t,m={db:Object.assign(Object.assign({},c),a),auth:Object.assign(Object.assign({},d),i),realtime:Object.assign(Object.assign({},u),o),storage:{},global:Object.assign(Object.assign(Object.assign({},h),l),{headers:Object.assign(Object.assign({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>Y8(this,void 0,void 0,function*(){return""})};return e.accessToken?m.accessToken=e.accessToken:delete m.accessToken,m}const hP="2.71.1",Jl=30*1e3,x0=3,fx=x0*Jl,Z8="http://localhost:9999",J8="supabase.auth.token",ez={"X-Client-Info":`gotrue-js/${hP}`},y0="X-Supabase-Api-Version",mP={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},tz=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,rz=10*60*1e3;class xb extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function dt(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class nz extends xb{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function sz(e){return dt(e)&&e.name==="AuthApiError"}class pP extends xb{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class bo extends xb{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}}class xi extends bo{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function az(e){return dt(e)&&e.name==="AuthSessionMissingError"}class zh extends bo{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Uh extends bo{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Bh extends bo{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function iz(e){return dt(e)&&e.name==="AuthImplicitGrantRedirectError"}class mN extends bo{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class w0 extends bo{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function hx(e){return dt(e)&&e.name==="AuthRetryableFetchError"}class pN extends bo{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class b0 extends bo{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const op="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),gN=` 	
\r=`.split(""),oz=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<gN.length;t+=1)e[gN[t].charCodeAt(0)]=-2;for(let t=0;t<op.length;t+=1)e[op[t].charCodeAt(0)]=t;return e})();function vN(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(op[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(op[n]),t.queuedBits-=6}}function gP(e,t,r){const n=oz[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function xN(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=o=>{dz(o,n,r)};for(let o=0;o<e.length;o+=1)gP(e.charCodeAt(o),a,i);return t.join("")}function lz(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function cz(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}lz(n,t)}}function dz(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function uz(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)gP(e.charCodeAt(a),r,n);return new Uint8Array(t)}function fz(e){const t=[];return cz(e,r=>t.push(r)),new Uint8Array(t)}function hz(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};return e.forEach(a=>vN(a,r,n)),vN(null,r,n),t.join("")}function mz(e){return Math.round(Date.now()/1e3)+e}function pz(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Ps=()=>typeof window<"u"&&typeof document<"u",Po={tested:!1,writable:!1},vP=()=>{if(!Ps())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Po.tested)return Po.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Po.tested=!0,Po.writable=!0}catch{Po.tested=!0,Po.writable=!1}return Po.writable};function gz(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,i)=>{t[i]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const xP=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Sl(async()=>{const{default:n}=await Promise.resolve().then(()=>yd);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},vz=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",ec=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},To=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},hi=async(e,t)=>{await e.removeItem(t)};class bg{constructor(){this.promise=new bg.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}bg.promiseConstructor=Promise;function mx(e){const t=e.split(".");if(t.length!==3)throw new b0("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!tz.test(t[n]))throw new b0("JWT not in base64url format");return{header:JSON.parse(xN(t[0])),payload:JSON.parse(xN(t[1])),signature:uz(t[2]),raw:{header:t[0],payload:t[1]}}}async function xz(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function yz(e,t){return new Promise((n,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){a(o);return}}})()})}function wz(e){return("0"+e.toString(16)).substr(-2)}function bz(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,wz).join("")}async function jz(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function _z(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await jz(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ul(e,t,r=!1){const n=bz();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await ec(e,`${t}-code-verifier`,a);const i=await _z(n);return[i,n===i?"plain":"s256"]}const Nz=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Sz(e){const t=e.headers.get(y0);if(!t||!t.match(Nz))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Cz(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function kz(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Ez=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Bl(e){if(!Ez.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function px(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function yN(e){return JSON.parse(JSON.stringify(e))}var Pz=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};const Oo=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Tz=[502,503,504];async function wN(e){var t;if(!vz(e))throw new w0(Oo(e),0);if(Tz.includes(e.status))throw new w0(Oo(e),e.status);let r;try{r=await e.json()}catch(i){throw new pP(Oo(i),i)}let n;const a=Sz(e);if(a&&a.getTime()>=mP["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new pN(Oo(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new xi}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new pN(Oo(r),e.status,r.weak_password.reasons);throw new nz(Oo(r),e.status||500,n)}const Rz=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function bt(e,t,r,n){var a;const i=Object.assign({},n==null?void 0:n.headers);i[y0]||(i[y0]=mP["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await Mz(e,t,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function Mz(e,t,r,n,a,i){const o=Rz(t,n,a,i);let l;try{l=await e(r,Object.assign({},o))}catch(c){throw console.error(c),new w0(Oo(c),0)}if(l.ok||await wN(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await wN(c)}}function Ra(e){var t;let r=null;Iz(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=mz(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function bN(e){const t=Ra(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Si(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Az(e){return{data:e,error:null}}function Oz(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i}=e,o=Pz(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function Dz(e){return e}function Iz(e){return e.access_token&&e.refresh_token&&e.expires_in}const gx=["global","local","others"];var Fz=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};class Lz{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=xP(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=gx[0]){if(gx.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${gx.join(", ")}`);try{return await bt(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(dt(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await bt(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Si})}catch(n){if(dt(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Fz(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await bt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:Oz,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(dt(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await bt(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Si})}catch(r){if(dt(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,i,o,l,c;try{const d={nextPage:null,lastPage:0,total:0},u=await bt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:Dz});if(u.error)throw u.error;const h=await u.json(),m=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(c=(l=u.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(w=>{const v=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),g=JSON.parse(w.split(";")[1].split("=")[1]);d[`${g}Page`]=v}),d.total=parseInt(m)),{data:Object.assign(Object.assign({},h),d),error:null}}catch(d){if(dt(d))return{data:{users:[]},error:d};throw d}}async getUserById(t){Bl(t);try{return await bt(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Si})}catch(r){if(dt(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Bl(t);try{return await bt(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Si})}catch(n){if(dt(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Bl(t);try{return await bt(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Si})}catch(n){if(dt(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Bl(t.userId);try{const{data:r,error:n}=await bt(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(dt(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Bl(t.userId),Bl(t.id);try{return{data:await bt(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(dt(r))return{data:null,error:r};throw r}}}function jN(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function $z(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const ql={debug:!!(globalThis&&vP()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class yP extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class zz extends yP{}async function Uz(e,t,r){ql.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),ql.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){ql.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{ql.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw ql.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new zz(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(ql.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}$z();const Bz={url:Z8,storageKey:J8,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:ez,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function _N(e,t,r){return await r()}const Vl={};class cf{constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=cf.nextInstanceID,cf.nextInstanceID+=1,this.instanceID>0&&Ps()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},Bz),t);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new Lz({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=xP(a.fetch),this.lock=a.lock||_N,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:Ps()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=Uz:this.lock=_N,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:vP()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=jN(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=jN(this.memoryStorage)),Ps()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var t,r;return(r=(t=Vl[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Vl[this.storageKey]=Object.assign(Object.assign({},Vl[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Vl[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Vl[this.storageKey]=Object.assign(Object.assign({},Vl[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${hP}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=gz(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Ps()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),iz(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=a;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return dt(r)?{error:r}:{error:new pP("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const i=await bt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:Ra}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(i){if(dt(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,a;try{let i;if("email"in t){const{email:u,password:h,options:m}=t;let p=null,w=null;this.flowType==="pkce"&&([p,w]=await Ul(this.storage,this.storageKey)),i=await bt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:u,password:h,data:(r=m==null?void 0:m.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:p,code_challenge_method:w},xform:Ra})}else if("phone"in t){const{phone:u,password:h,options:m}=t;i=await bt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:h,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},channel:(a=m==null?void 0:m.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:Ra})}else throw new Uh("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(i){if(dt(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:l}=t;r=await bt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:bN})}else if("phone"in t){const{phone:i,password:o,options:l}=t;r=await bt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:bN})}else throw new Uh("You must provide either an email or phone number and a password");const{data:n,error:a}=r;return a?{data:{user:null,session:null},error:a}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new zh}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(dt(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,a,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,a,i,o,l,c,d,u,h,m,p;let w,v;if("message"in t)w=t.message,v=t.signature;else{const{chain:g,wallet:y,statement:x,options:b}=t;let _;if(Ps())if(typeof y=="object")_=y;else{const P=window;if("solana"in P&&typeof P.solana=="object"&&("signIn"in P.solana&&typeof P.solana.signIn=="function"||"signMessage"in P.solana&&typeof P.solana.signMessage=="function"))_=P.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=y}const N=new URL((r=b==null?void 0:b.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const P=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b==null?void 0:b.signInWithSolana),{version:"1",domain:N.host,uri:N.href}),x?{statement:x}:null));let S;if(Array.isArray(P)&&P[0]&&typeof P[0]=="object")S=P[0];else if(P&&typeof P=="object"&&"signedMessage"in P&&"signature"in P)S=P;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in S&&"signature"in S&&(typeof S.signedMessage=="string"||S.signedMessage instanceof Uint8Array)&&S.signature instanceof Uint8Array)w=typeof S.signedMessage=="string"?S.signedMessage:new TextDecoder().decode(S.signedMessage),v=S.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${N.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...x?["",x,""]:[""],"Version: 1",`URI: ${N.href}`,`Issued At: ${(a=(n=b==null?void 0:b.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=b==null?void 0:b.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((o=b==null?void 0:b.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((l=b==null?void 0:b.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((c=b==null?void 0:b.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((d=b==null?void 0:b.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((h=(u=b==null?void 0:b.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||h===void 0)&&h.length?["Resources",...b.signInWithSolana.resources.map(S=>`- ${S}`)]:[]].join(`
`);const P=await _.signMessage(new TextEncoder().encode(w),"utf8");if(!P||!(P instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=P}}try{const{data:g,error:y}=await bt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:hz(v)},!((m=t.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:Ra});if(y)throw y;return!g||!g.session||!g.user?{data:{user:null,session:null},error:new zh}:(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),{data:Object.assign({},g),error:y})}catch(g){if(dt(g))return{data:{user:null,session:null},error:g};throw g}}async _exchangeCodeForSession(t){const r=await To(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{const{data:i,error:o}=await bt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Ra});if(await hi(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new zh}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:o})}catch(i){if(dt(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:i,nonce:o}=t,l=await bt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Ra}),{data:c,error:d}=l;return d?{data:{user:null,session:null},error:d}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new zh}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:d})}catch(r){if(dt(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,a,i,o;try{if("email"in t){const{email:l,options:c}=t;let d=null,u=null;this.flowType==="pkce"&&([d,u]=await Ul(this.storage,this.storageKey));const{error:h}=await bt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:d,code_challenge_method:u},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:l,options:c}=t,{data:d,error:u}=await bt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:u}}throw new Uh("You must provide either an email or phone number.")}catch(l){if(dt(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let a,i;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await bt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:Ra});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,d=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(a){if(dt(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(t){var r,n,a;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Ul(this.storage,this.storageKey)),await bt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:Az})}catch(i){if(dt(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new xi;const{error:a}=await bt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:a}})}catch(t){if(dt(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:i}=t,{error:o}=await bt(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:a,options:i}=t,{data:o,error:l}=await bt(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new Uh("You must provide either an email or phone number and a type")}catch(r){if(dt(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await To(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<fx:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await To(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=px()}if(this.storage.isServer&&t.user){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,d,u)=>(!o&&d==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,d,u))})}return{data:{session:t},error:null}}const{session:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await bt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Si}):await this._useSession(async r=>{var n,a,i;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new xi}:await bt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=o.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:Si})})}catch(r){if(dt(r))return az(r)&&(await this._removeSession(),await hi(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:i}=n;if(i)throw i;if(!a.session)throw new xi;const o=a.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Ul(this.storage,this.storageKey));const{data:d,error:u}=await bt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:Si});if(u)throw u;return o.user=d.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(dt(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new xi;const r=Date.now()/1e3;let n=r,a=!0,i=null;const{payload:o}=mx(t.access_token);if(o.exp&&(n=o.exp,a=n<=r),a){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(dt(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new xi;const{session:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(dt(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Ps())throw new Bh("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Bh(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new mN("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Bh("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new mN("No code detected.");const{data:x,error:b}=await this._exchangeCodeForSession(t.code);if(b)throw b;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:x.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:d}=t;if(!i||!l||!o||!d)throw new Bh("No session defined in URL");const u=Math.round(Date.now()/1e3),h=parseInt(l);let m=u+h;c&&(m=parseInt(c));const p=m-u;p*1e3<=Jl&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${h}s`);const w=m-h;u-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,m,u):u-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,m,u);const{data:v,error:g}=await this._getUser(i);if(g)throw g;const y={provider_token:n,provider_refresh_token:a,access_token:i,expires_in:h,expires_at:m,refresh_token:o,token_type:d,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:t.type},error:null}}catch(n){if(dt(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await To(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{error:i};const o=(n=a.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(sz(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await hi(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=pz(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await Ul(this.storage,this.storageKey,!0));try{return await bt(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(dt(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(dt(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:a}=await this._useSession(async i=>{var o,l,c,d,u;const{data:h,error:m}=i;if(m)throw m;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await bt(this.fetch,"GET",p,{headers:this.headers,jwt:(u=(d=h.session)===null||d===void 0?void 0:d.access_token)!==null&&u!==void 0?u:void 0})});if(a)throw a;return Ps()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(dt(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)throw o;return await bt(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(dt(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await yz(async a=>(a>0&&await xz(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await bt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Ra})),(a,i)=>{const o=200*Math.pow(2,a);return i&&hx(i)&&Date.now()+o-n<Jl})}catch(n){if(this._debug(r,"error",n),dt(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Ps()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await To(this.storage,this.storageKey);if(a&&this.userStorage){let o=await To(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:a.user},await ec(this.userStorage,this.storageKey+"-user",o)),a.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:px()}else if(a&&!a.user&&!a.user){const o=await To(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(a.user=o.user,await hi(this.storage,this.storageKey+"-user"),await ec(this.storage,this.storageKey,a)):a.user=px()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const i=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<fx;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${fx}s`),i){if(this.autoRefreshToken&&a.refresh_token){const{error:o}=await this._callRefreshToken(a.refresh_token);o&&(console.error(o),hx(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(a.access_token);!l&&(o!=null&&o.user)?(a.user=o.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new xi;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new bg;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new xi;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(a,"error",i),dt(i)){const o={session:null,error:i};return hx(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await ec(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const i=yN(a);await ec(this.storage,this.storageKey,i)}else{const a=yN(r);await ec(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await hi(this.storage,this.storageKey),await hi(this.storage,this.storageKey+"-code-verifier"),await hi(this.storage,this.storageKey+"-user"),this.userStorage&&await hi(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Ps()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Jl);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/Jl);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Jl}ms, refresh threshold is ${x0} ticks`),a<=x0&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof yP)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ps()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await Ul(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});a.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);a.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await bt(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(dt(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:d}=await bt(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return d?{data:null,error:d}:(t.factorType==="totp"&&(!((a=c==null?void 0:c.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(dt(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{data:null,error:i};const{data:o,error:l}=await bt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(r){if(dt(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await bt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(dt(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],a=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:a,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:a},error:i}=t;if(i)return{data:null,error:i};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=mx(a.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((n=(r=a.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const u=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+rz>a)return n;const{data:i,error:o}=await bt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=a,n=i.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:p,error:w}=await this.getSession();if(w||!p.session)return{data:null,error:w};n=p.session.access_token}const{header:a,payload:i,signature:o,raw:{header:l,payload:c}}=mx(n);r!=null&&r.allowExpired||Cz(i.exp);const d=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!d){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:i,header:a,signature:o},error:null}}const u=kz(a.alg),h=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,o,fz(`${l}.${c}`)))throw new b0("Invalid JWT signature");return{data:{claims:i,header:a,signature:o},error:null}}catch(n){if(dt(n))return{data:null,error:n};throw n}}}cf.nextInstanceID=0;const qz=cf;class Vz extends qz{constructor(t){super(t)}}var Wz=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(h){o(h)}}function c(u){try{d(n.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};class Hz{constructor(t,r,n){var a,i,o;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const l=Q8(t),c=new URL(l);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const d=`sb-${c.hostname.split(".")[0]}-auth-token`,u={db:B8,realtime:V8,auth:Object.assign(Object.assign({},q8),{storageKey:d}),global:U8},h=X8(n??{},u);this.storageKey=(a=h.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(i=h.global.headers)!==null&&i!==void 0?i:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(m,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=h.auth)!==null&&o!==void 0?o:{},this.headers,h.global.fetch),this.fetch=G8(r,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new l8(new URL("rest/v1",c).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),this.storage=new L8(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new L6(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return Wz(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,storageKey:i,flowType:o,lock:l,debug:c},d,u){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Vz({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),d),storageKey:i,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,flowType:o,lock:l,debug:c,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new S8(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Kz=(e,t,r)=>new Hz(e,t,r);function Gz(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}Gz()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Yz="https://nzgrcblgylxbguzwtprr.supabase.co",Qz="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im56Z3JjYmxneWx4Ymd1end0cHJyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQ2MTE2NzksImV4cCI6MjA3MDE4NzY3OX0.qvHVa261qPObPuN63rTeiG0DnwbPHMA-JxQaUG2NXjk",$=Kz(Yz,Qz,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0},realtime:{params:{eventsPerSecond:10}}}),Oe=f.forwardRef(({className:e,type:t,...r},n)=>s.jsx("input",{type:t,className:le("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground/60 focus-visible:outline-none focus-visible:ring-0 focus-visible:ring-offset-0 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));Oe.displayName="Input";var wP={exports:{}},bP={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var td=f;function Xz(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Zz=typeof Object.is=="function"?Object.is:Xz,Jz=td.useState,eU=td.useEffect,tU=td.useLayoutEffect,rU=td.useDebugValue;function nU(e,t){var r=t(),n=Jz({inst:{value:r,getSnapshot:t}}),a=n[0].inst,i=n[1];return tU(function(){a.value=r,a.getSnapshot=t,vx(a)&&i({inst:a})},[e,r,t]),eU(function(){return vx(a)&&i({inst:a}),e(function(){vx(a)&&i({inst:a})})},[e]),rU(r),r}function vx(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Zz(e,r)}catch{return!0}}function sU(e,t){return t()}var aU=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?sU:nU;bP.useSyncExternalStore=td.useSyncExternalStore!==void 0?td.useSyncExternalStore:aU;wP.exports=bP;var iU=wP.exports;function oU(){return iU.useSyncExternalStore(lU,()=>!0,()=>!1)}function lU(){return()=>{}}var yb="Avatar",[cU,oQ]=kn(yb),[dU,jP]=cU(yb),_P=f.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[a,i]=f.useState("idle");return s.jsx(dU,{scope:r,imageLoadingStatus:a,onImageLoadingStatusChange:i,children:s.jsx(Ie.span,{...n,ref:t})})});_P.displayName=yb;var NP="AvatarImage",SP=f.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:a=()=>{},...i}=e,o=jP(NP,r),l=uU(n,i),c=yr(d=>{a(d),o.onImageLoadingStatusChange(d)});return Sr(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?s.jsx(Ie.img,{...i,ref:t,src:n}):null});SP.displayName=NP;var CP="AvatarFallback",kP=f.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...a}=e,i=jP(CP,r),[o,l]=f.useState(n===void 0);return f.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),o&&i.imageLoadingStatus!=="loaded"?s.jsx(Ie.span,{...a,ref:t}):null});kP.displayName=CP;function NN(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function uU(e,{referrerPolicy:t,crossOrigin:r}){const n=oU(),a=f.useRef(null),i=n?(a.current||(a.current=new window.Image),a.current):null,[o,l]=f.useState(()=>NN(i,e));return Sr(()=>{l(NN(i,e))},[i,e]),Sr(()=>{const c=h=>()=>{l(h)};if(!i)return;const d=c("loaded"),u=c("error");return i.addEventListener("load",d),i.addEventListener("error",u),t&&(i.referrerPolicy=t),typeof r=="string"&&(i.crossOrigin=r),()=>{i.removeEventListener("load",d),i.removeEventListener("error",u)}},[i,r,t]),o}var EP=_P,PP=SP,TP=kP;const Dt=f.forwardRef(({className:e,isPro:t,...r},n)=>s.jsx(EP,{ref:n,className:le("relative inline-flex h-10 w-10 shrink-0 rounded-full",e),...r}));Dt.displayName=EP.displayName;const It=f.forwardRef(({className:e,...t},r)=>s.jsx(PP,{ref:r,className:le("aspect-square h-full w-full rounded-full overflow-hidden",e),...t}));It.displayName=PP.displayName;const Ft=f.forwardRef(({className:e,...t},r)=>s.jsx(TP,{ref:r,className:le("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));Ft.displayName=TP.displayName;const ol=({size:e=32,className:t})=>{const r="polygon(50% 0%, 60% 6%, 72% 6%, 79% 16%, 90% 21%, 90% 33%, 96% 45%, 90% 57%, 90% 69%, 79% 74%, 72% 84%, 60% 84%, 50% 90%, 40% 84%, 28% 84%, 21% 74%, 10% 69%, 10% 57%, 4% 45%, 10% 33%, 10% 21%, 21% 16%, 28% 6%, 40% 6%)",n=`${e}px`;return s.jsxs("div",{className:le("relative inline-flex items-center justify-center drop-shadow-sm",t),style:{width:n,height:n},"aria-label":"Selo Pro",children:[s.jsx("div",{className:"absolute inset-0 bg-blue-500",style:{clipPath:r,WebkitClipPath:r}}),s.jsx("div",{className:"absolute inset-0 ring-2 ring-white/60",style:{clipPath:r,WebkitClipPath:r}}),s.jsx(ds,{className:"relative text-white",style:{width:e*.45,height:e*.45}})]})};function Xe({className:e,...t}){return s.jsx("div",{className:le("animate-pulse rounded-md bg-muted",e),...t})}const qh=24,fU=()=>{const e=Or(),[t,r]=f.useState(""),{data:n,fetchNextPage:a,hasNextPage:i,isFetchingNextPage:o,isLoading:l}=js({queryKey:["musician-search",t],initialPageParam:0,queryFn:async({pageParam:S})=>{const T=S*qh;let U=$.from("profiles").select("id, display_name, avatar_url, username, requests_count, lat, lng, is_pro").eq("is_active",!0).eq("is_blocked",!1).order("display_name",{ascending:!0});const{data:q,error:re}=await U;if(re)throw re;const{data:G,error:H}=await $.from("songs").select("owner_id");if(H)throw H;const V=new Set((G||[]).map(J=>J.owner_id)),se=(q||[]).filter(J=>V.has(J.id)),ee=t.trim();return ee?se.filter(I=>{var D,C;return((D=I.display_name)==null?void 0:D.toLowerCase().includes(ee.toLowerCase()))||((C=I.username)==null?void 0:C.toLowerCase().includes(ee.toLowerCase()))}).slice(T,T+qh):se.slice(T,T+qh)},getNextPageParam:(S,T,U)=>{if(!(((S==null?void 0:S.length)??0)<qh))return U+1}}),c=f.useMemo(()=>((n==null?void 0:n.pages)||[]).flat(),[n==null?void 0:n.pages]),d=f.useMemo(()=>(c||[]).map(S=>S.id).filter(Boolean),[c]),[u,h]=f.useState({}),[m,p]=f.useState({}),[w,v]=f.useState({});f.useEffect(()=>{let S=!1;return(async()=>{if(!d.length){h({}),p({}),v({});return}try{const{data:T,error:U}=await $.from("follows").select("followee_id").in("followee_id",d);if(U)throw U;const q={};(T||[]).forEach(re=>{q[re.followee_id]=(q[re.followee_id]||0)+1}),S||h(q)}catch{S||h({})}try{const T={};c.forEach(U=>{T[U.id]=U.requests_count||0}),S||p(T)}catch{S||p({})}try{const{data:T,error:U}=await $.from("songs").select("id, owner_id").in("owner_id",d);if(U)throw U;const q=new Map,re=[];if((T||[]).forEach(G=>{G!=null&&G.id&&(G!=null&&G.owner_id)&&(q.set(G.id,G.owner_id),re.push(G.id))}),re.length===0)S||v({});else{const{data:G,error:H}=await $.from("song_likes").select("song_id").in("song_id",re);if(H)throw H;const V={};(G||[]).forEach(se=>{const ee=q.get(se.song_id);ee&&(V[ee]=(V[ee]||0)+1)}),S||v(V)}}catch{S||v({})}})(),()=>{S=!0}},[d.join(",")]);const[g,y]=f.useState("requests"),[x,b]=f.useState(null);f.useEffect(()=>{"geolocation"in navigator&&navigator.geolocation.getCurrentPosition(S=>b({lat:S.coords.latitude,lng:S.coords.longitude}),()=>{})},[]),f.useEffect(()=>{x&&y(S=>S==="requests"?"nearby":S)},[x]);const _=(S,T)=>{const U=ee=>ee*Math.PI/180,re=U(T.lat-S.lat),G=U(T.lng-S.lng),H=U(S.lat),V=U(T.lat),se=Math.sin(re/2)**2+Math.cos(H)*Math.cos(V)*Math.sin(G/2)**2;return 2*6371*Math.asin(Math.sqrt(se))},N=f.useMemo(()=>{const S=[...c];return g==="requests"?S.sort((T,U)=>(U.requests_count??0)-(T.requests_count??0)||String(T.display_name||"").localeCompare(String(U.display_name||""))):g==="nearby"&&x?S.map(T=>({...T,_dist:typeof T.lat=="number"&&typeof T.lng=="number"?_(x,{lat:T.lat,lng:T.lng}):Number.POSITIVE_INFINITY})).sort((T,U)=>T._dist-U._dist):S.sort((T,U)=>String(T.display_name||"").localeCompare(String(U.display_name||"")))},[c,g,x]),P=f.useRef(null);return f.useEffect(()=>{if(!P.current)return;const S=new IntersectionObserver(T=>{T[0].isIntersecting&&i&&!o&&a()},{rootMargin:"200px"});return S.observe(P.current),()=>S.disconnect()},[i,o,a]),s.jsx("section",{"aria-label":"Pesquisar",className:"mt-10",children:s.jsxs("div",{className:"max-w-3xl mx-auto",children:[s.jsx("label",{htmlFor:"q",className:"sr-only",children:"Pesquisar"}),s.jsxs("div",{className:"relative mb-4",children:[s.jsx(Ls,{className:"pointer-events-none absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground/60"}),s.jsx(Oe,{id:"q",value:t,onChange:S=>r(S.target.value),placeholder:"Pesquisar",className:"lg:text-2xl text-sm placeholder:text-muted-foreground py-8 font-normal pl-10 pr-10"}),t?s.jsx("button",{type:"button",onClick:()=>r(""),"aria-label":"Limpar busca",className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground/60 hover:text-muted-foreground",children:s.jsx(Mr,{className:"h-5 w-5"})}):null]}),s.jsx("div",{children:l?s.jsx("div",{className:"divide-y",children:Array.from({length:8}).map((S,T)=>s.jsxs("div",{className:"w-full py-3 flex items-center gap-3",children:[s.jsx(Xe,{className:"h-10 w-10 rounded-full"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx(Xe,{className:"h-4 w-40 mb-2"}),s.jsx(Xe,{className:"h-3 w-24"})]}),s.jsx(Xe,{className:"h-4 w-16"})]},T))}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"divide-y",children:N.map(S=>s.jsxs("button",{onClick:()=>e(`/${S.username}`),className:"w-full text-left py-3 flex items-center gap-3 hover-scale","aria-label":`Ir para página do músico ${S.display_name||"Sem nome"}`,children:[s.jsxs(Dt,{className:"h-10 w-10",isPro:!!S.is_pro,children:[s.jsx(It,{src:S.avatar_url||void 0,alt:`Avatar de ${S.display_name||"Músico"}`}),s.jsx(Ft,{children:(S.display_name||"M").charAt(0).toUpperCase()})]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("p",{className:"font-medium truncate",children:S.display_name||"Músico"}),S.is_pro&&s.jsx(ol,{size:12})]}),s.jsxs("p",{className:"text-sm text-muted-foreground truncate",children:["/",S.username||"usuario"]})]}),s.jsxs("div",{className:"text-sm text-muted-foreground whitespace-nowrap inline-flex items-center gap-3",children:[s.jsxs("span",{className:"inline-flex items-center gap-1",children:[s.jsx(nr,{className:"h-4 w-4"}),s.jsx("span",{children:Number.isFinite(m[S.id])?m[S.id]:0})]}),s.jsxs("span",{className:"inline-flex items-center gap-1",children:[s.jsx(Yc,{className:"h-4 w-4"}),s.jsx("span",{children:Number.isFinite(u[S.id])?u[S.id]:0})]})]})]},S.id))}),s.jsx("div",{ref:P,className:"h-12"})]})})]})})};function ar(){const[e,t]=f.useState(null),[r,n]=f.useState(null),[a,i]=f.useState(!0),[o,l]=f.useState(null);return f.useEffect(()=>{const{data:{subscription:c}}=$.auth.onAuthStateChange((d,u)=>{t(u),n((u==null?void 0:u.user)??null)});return $.auth.getSession().then(({data:d})=>{var u;t(d.session),n(((u=d.session)==null?void 0:u.user)??null),i(!1)}),()=>c.unsubscribe()},[]),f.useEffect(()=>{(async()=>{if(r!=null&&r.id&&o!==r.id)try{const{data:d}=await $.from("profiles").select("is_blocked").eq("id",r.id).maybeSingle();if(d!=null&&d.is_blocked)try{await $.auth.signOut()}finally{t(null),n(null),window.location.replace("/blocked")}else l(r.id)}catch{}})()},[r==null?void 0:r.id,o]),{session:e,user:r,loading:a}}const xx=768;function ll(){const[e,t]=f.useState(void 0);return f.useEffect(()=>{const r=window.matchMedia(`(max-width: ${xx-1}px)`),n=()=>{t(window.innerWidth<xx)};return r.addEventListener("change",n),t(window.innerWidth<xx),()=>r.removeEventListener("change",n)},[]),!!e}var hU="Separator",SN="horizontal",mU=["horizontal","vertical"],RP=f.forwardRef((e,t)=>{const{decorative:r,orientation:n=SN,...a}=e,i=pU(n)?n:SN,l=r?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return s.jsx(Ie.div,{"data-orientation":i,...l,...a,ref:t})});RP.displayName=hU;function pU(e){return mU.includes(e)}var MP=RP;const Zo=f.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},a)=>s.jsx(MP,{ref:a,decorative:r,orientation:t,className:le("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));Zo.displayName=MP.displayName;var yx="focusScope.autoFocusOnMount",wx="focusScope.autoFocusOnUnmount",CN={bubbles:!1,cancelable:!0},gU="FocusScope",If=f.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[l,c]=f.useState(null),d=yr(a),u=yr(i),h=f.useRef(null),m=ct(t,v=>c(v)),p=f.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;f.useEffect(()=>{if(n){let v=function(b){if(p.paused||!l)return;const _=b.target;l.contains(_)?h.current=_:yi(h.current,{select:!0})},g=function(b){if(p.paused||!l)return;const _=b.relatedTarget;_!==null&&(l.contains(_)||yi(h.current,{select:!0}))},y=function(b){if(document.activeElement===document.body)for(const N of b)N.removedNodes.length>0&&yi(l)};document.addEventListener("focusin",v),document.addEventListener("focusout",g);const x=new MutationObserver(y);return l&&x.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",g),x.disconnect()}}},[n,l,p.paused]),f.useEffect(()=>{if(l){EN.add(p);const v=document.activeElement;if(!l.contains(v)){const y=new CustomEvent(yx,CN);l.addEventListener(yx,d),l.dispatchEvent(y),y.defaultPrevented||(vU(jU(AP(l)),{select:!0}),document.activeElement===v&&yi(l))}return()=>{l.removeEventListener(yx,d),setTimeout(()=>{const y=new CustomEvent(wx,CN);l.addEventListener(wx,u),l.dispatchEvent(y),y.defaultPrevented||yi(v??document.body,{select:!0}),l.removeEventListener(wx,u),EN.remove(p)},0)}}},[l,d,u,p]);const w=f.useCallback(v=>{if(!r&&!n||p.paused)return;const g=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,y=document.activeElement;if(g&&y){const x=v.currentTarget,[b,_]=xU(x);b&&_?!v.shiftKey&&y===_?(v.preventDefault(),r&&yi(b,{select:!0})):v.shiftKey&&y===b&&(v.preventDefault(),r&&yi(_,{select:!0})):y===x&&v.preventDefault()}},[r,n,p.paused]);return s.jsx(Ie.div,{tabIndex:-1,...o,ref:m,onKeyDown:w})});If.displayName=gU;function vU(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(yi(n,{select:t}),document.activeElement!==r)return}function xU(e){const t=AP(e),r=kN(t,e),n=kN(t.reverse(),e);return[r,n]}function AP(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function kN(e,t){for(const r of e)if(!yU(r,{upTo:t}))return r}function yU(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function wU(e){return e instanceof HTMLInputElement&&"select"in e}function yi(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&wU(e)&&t&&e.select()}}var EN=bU();function bU(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=PN(e,t),e.unshift(t)},remove(t){var r;e=PN(e,t),(r=e[0])==null||r.resume()}}}function PN(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function jU(e){return e.filter(t=>t.tagName!=="A")}var bx=0;function jg(){f.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??TN()),document.body.insertAdjacentElement("beforeend",e[1]??TN()),bx++,()=>{bx===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),bx--}},[])}function TN(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var sa=function(){return sa=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},sa.apply(this,arguments)};function OP(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function _U(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}var gm="right-scroll-bar-position",vm="width-before-scroll-bar",NU="with-scroll-bars-hidden",SU="--removed-body-scroll-bar-size";function jx(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function CU(e,t){var r=f.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=t,r.facade}var kU=typeof window<"u"?f.useLayoutEffect:f.useEffect,RN=new WeakMap;function EU(e,t){var r=CU(null,function(n){return e.forEach(function(a){return jx(a,n)})});return kU(function(){var n=RN.get(r);if(n){var a=new Set(n),i=new Set(e),o=r.current;a.forEach(function(l){i.has(l)||jx(l,null)}),i.forEach(function(l){a.has(l)||jx(l,o)})}RN.set(r,e)},[e]),r}function PU(e){return e}function TU(e,t){t===void 0&&(t=PU);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var o=t(i,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(n=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(l){return i(l)},filter:function(){return r}}},assignMedium:function(i){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(i),o=r}var c=function(){var u=o;o=[],u.forEach(i)},d=function(){return Promise.resolve().then(c)};d(),r={push:function(u){o.push(u),d()},filter:function(u){return o=o.filter(u),r}}}};return a}function RU(e){e===void 0&&(e={});var t=TU(null);return t.options=sa({async:!0,ssr:!1},e),t}var DP=function(e){var t=e.sideCar,r=OP(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return f.createElement(n,sa({},r))};DP.isSideCarExport=!0;function MU(e,t){return e.useMedium(t),DP}var IP=RU(),_x=function(){},_g=f.forwardRef(function(e,t){var r=f.useRef(null),n=f.useState({onScrollCapture:_x,onWheelCapture:_x,onTouchMoveCapture:_x}),a=n[0],i=n[1],o=e.forwardProps,l=e.children,c=e.className,d=e.removeScrollBar,u=e.enabled,h=e.shards,m=e.sideCar,p=e.noRelative,w=e.noIsolation,v=e.inert,g=e.allowPinchZoom,y=e.as,x=y===void 0?"div":y,b=e.gapMode,_=OP(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),N=m,P=EU([r,t]),S=sa(sa({},_),a);return f.createElement(f.Fragment,null,u&&f.createElement(N,{sideCar:IP,removeScrollBar:d,shards:h,noRelative:p,noIsolation:w,inert:v,setCallbacks:i,allowPinchZoom:!!g,lockRef:r,gapMode:b}),o?f.cloneElement(f.Children.only(l),sa(sa({},S),{ref:P})):f.createElement(x,sa({},S,{className:c,ref:P}),l))});_g.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};_g.classNames={fullWidth:vm,zeroRight:gm};var AU=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function OU(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=AU();return t&&e.setAttribute("nonce",t),e}function DU(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function IU(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var FU=function(){var e=0,t=null;return{add:function(r){e==0&&(t=OU())&&(DU(t,r),IU(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},LU=function(){var e=FU();return function(t,r){f.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},FP=function(){var e=LU(),t=function(r){var n=r.styles,a=r.dynamic;return e(n,a),null};return t},$U={left:0,top:0,right:0,gap:0},Nx=function(e){return parseInt(e||"",10)||0},zU=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[Nx(r),Nx(n),Nx(a)]},UU=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return $U;var t=zU(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},BU=FP(),kc="data-scroll-locked",qU=function(e,t,r,n){var a=e.left,i=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(NU,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(kc,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(gm,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(vm,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(gm," .").concat(gm,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(vm," .").concat(vm,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(kc,`] {
    `).concat(SU,": ").concat(l,`px;
  }
`)},MN=function(){var e=parseInt(document.body.getAttribute(kc)||"0",10);return isFinite(e)?e:0},VU=function(){f.useEffect(function(){return document.body.setAttribute(kc,(MN()+1).toString()),function(){var e=MN()-1;e<=0?document.body.removeAttribute(kc):document.body.setAttribute(kc,e.toString())}},[])},WU=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,a=n===void 0?"margin":n;VU();var i=f.useMemo(function(){return UU(a)},[a]);return f.createElement(BU,{styles:qU(i,!t,a,r?"":"!important")})},j0=!1;if(typeof window<"u")try{var Vh=Object.defineProperty({},"passive",{get:function(){return j0=!0,!0}});window.addEventListener("test",Vh,Vh),window.removeEventListener("test",Vh,Vh)}catch{j0=!1}var Wl=j0?{passive:!1}:!1,HU=function(e){return e.tagName==="TEXTAREA"},LP=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!HU(e)&&r[t]==="visible")},KU=function(e){return LP(e,"overflowY")},GU=function(e){return LP(e,"overflowX")},AN=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=$P(e,n);if(a){var i=zP(e,n),o=i[1],l=i[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},YU=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},QU=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},$P=function(e,t){return e==="v"?KU(t):GU(t)},zP=function(e,t){return e==="v"?YU(t):QU(t)},XU=function(e,t){return e==="h"&&t==="rtl"?-1:1},ZU=function(e,t,r,n,a){var i=XU(e,window.getComputedStyle(t).direction),o=i*n,l=r.target,c=t.contains(l),d=!1,u=o>0,h=0,m=0;do{if(!l)break;var p=zP(e,l),w=p[0],v=p[1],g=p[2],y=v-g-i*w;(w||y)&&$P(e,l)&&(h+=y,m+=w);var x=l.parentNode;l=x&&x.nodeType===Node.DOCUMENT_FRAGMENT_NODE?x.host:x}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(u&&(Math.abs(h)<1||!a)||!u&&(Math.abs(m)<1||!a))&&(d=!0),d},Wh=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},ON=function(e){return[e.deltaX,e.deltaY]},DN=function(e){return e&&"current"in e?e.current:e},JU=function(e,t){return e[0]===t[0]&&e[1]===t[1]},eB=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},tB=0,Hl=[];function rB(e){var t=f.useRef([]),r=f.useRef([0,0]),n=f.useRef(),a=f.useState(tB++)[0],i=f.useState(FP)[0],o=f.useRef(e);f.useEffect(function(){o.current=e},[e]),f.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var v=_U([e.lockRef.current],(e.shards||[]).map(DN),!0).filter(Boolean);return v.forEach(function(g){return g.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),v.forEach(function(g){return g.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=f.useCallback(function(v,g){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!o.current.allowPinchZoom;var y=Wh(v),x=r.current,b="deltaX"in v?v.deltaX:x[0]-y[0],_="deltaY"in v?v.deltaY:x[1]-y[1],N,P=v.target,S=Math.abs(b)>Math.abs(_)?"h":"v";if("touches"in v&&S==="h"&&P.type==="range")return!1;var T=AN(S,P);if(!T)return!0;if(T?N=S:(N=S==="v"?"h":"v",T=AN(S,P)),!T)return!1;if(!n.current&&"changedTouches"in v&&(b||_)&&(n.current=N),!N)return!0;var U=n.current||N;return ZU(U,g,v,U==="h"?b:_,!0)},[]),c=f.useCallback(function(v){var g=v;if(!(!Hl.length||Hl[Hl.length-1]!==i)){var y="deltaY"in g?ON(g):Wh(g),x=t.current.filter(function(N){return N.name===g.type&&(N.target===g.target||g.target===N.shadowParent)&&JU(N.delta,y)})[0];if(x&&x.should){g.cancelable&&g.preventDefault();return}if(!x){var b=(o.current.shards||[]).map(DN).filter(Boolean).filter(function(N){return N.contains(g.target)}),_=b.length>0?l(g,b[0]):!o.current.noIsolation;_&&g.cancelable&&g.preventDefault()}}},[]),d=f.useCallback(function(v,g,y,x){var b={name:v,delta:g,target:y,should:x,shadowParent:nB(y)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(_){return _!==b})},1)},[]),u=f.useCallback(function(v){r.current=Wh(v),n.current=void 0},[]),h=f.useCallback(function(v){d(v.type,ON(v),v.target,l(v,e.lockRef.current))},[]),m=f.useCallback(function(v){d(v.type,Wh(v),v.target,l(v,e.lockRef.current))},[]);f.useEffect(function(){return Hl.push(i),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:m}),document.addEventListener("wheel",c,Wl),document.addEventListener("touchmove",c,Wl),document.addEventListener("touchstart",u,Wl),function(){Hl=Hl.filter(function(v){return v!==i}),document.removeEventListener("wheel",c,Wl),document.removeEventListener("touchmove",c,Wl),document.removeEventListener("touchstart",u,Wl)}},[]);var p=e.removeScrollBar,w=e.inert;return f.createElement(f.Fragment,null,w?f.createElement(i,{styles:eB(a)}):null,p?f.createElement(WU,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function nB(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const sB=MU(IP,rB);var Ff=f.forwardRef(function(e,t){return f.createElement(_g,sa({},e,{ref:t,sideCar:sB}))});Ff.classNames=_g.classNames;var aB=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Kl=new WeakMap,Hh=new WeakMap,Kh={},Sx=0,UP=function(e){return e&&(e.host||UP(e.parentNode))},iB=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=UP(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},oB=function(e,t,r,n){var a=iB(t,Array.isArray(e)?e:[e]);Kh[r]||(Kh[r]=new WeakMap);var i=Kh[r],o=[],l=new Set,c=new Set(a),d=function(h){!h||l.has(h)||(l.add(h),d(h.parentNode))};a.forEach(d);var u=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(m){if(l.has(m))u(m);else try{var p=m.getAttribute(n),w=p!==null&&p!=="false",v=(Kl.get(m)||0)+1,g=(i.get(m)||0)+1;Kl.set(m,v),i.set(m,g),o.push(m),v===1&&w&&Hh.set(m,!0),g===1&&m.setAttribute(r,"true"),w||m.setAttribute(n,"true")}catch(y){console.error("aria-hidden: cannot operate on ",m,y)}})};return u(t),l.clear(),Sx++,function(){o.forEach(function(h){var m=Kl.get(h)-1,p=i.get(h)-1;Kl.set(h,m),i.set(h,p),m||(Hh.has(h)||h.removeAttribute(n),Hh.delete(h)),p||h.removeAttribute(r)}),Sx--,Sx||(Kl=new WeakMap,Kl=new WeakMap,Hh=new WeakMap,Kh={})}},Ng=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),a=aB(e);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live]"))),oB(n,a,r,"aria-hidden")):function(){return null}},Sg="Dialog",[BP,qP]=kn(Sg),[lB,Xs]=BP(Sg),VP=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:o=!0}=e,l=f.useRef(null),c=f.useRef(null),[d,u]=va({prop:n,defaultProp:a??!1,onChange:i,caller:Sg});return s.jsx(lB,{scope:t,triggerRef:l,contentRef:c,contentId:Zr(),titleId:Zr(),descriptionId:Zr(),open:d,onOpenChange:u,onOpenToggle:f.useCallback(()=>u(h=>!h),[u]),modal:o,children:r})};VP.displayName=Sg;var WP="DialogTrigger",HP=f.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Xs(WP,r),i=ct(t,a.triggerRef);return s.jsx(Ie.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":jb(a.open),...n,ref:i,onClick:Ce(e.onClick,a.onOpenToggle)})});HP.displayName=WP;var wb="DialogPortal",[cB,KP]=BP(wb,{forceMount:void 0}),GP=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:a}=e,i=Xs(wb,t);return s.jsx(cB,{scope:t,forceMount:r,children:f.Children.map(n,o=>s.jsx(rn,{present:r||i.open,children:s.jsx(fd,{asChild:!0,container:a,children:o})}))})};GP.displayName=wb;var lp="DialogOverlay",YP=f.forwardRef((e,t)=>{const r=KP(lp,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=Xs(lp,e.__scopeDialog);return i.modal?s.jsx(rn,{present:n||i.open,children:s.jsx(uB,{...a,ref:t})}):null});YP.displayName=lp;var dB=so("DialogOverlay.RemoveScroll"),uB=f.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Xs(lp,r);return s.jsx(Ff,{as:dB,allowPinchZoom:!0,shards:[a.contentRef],children:s.jsx(Ie.div,{"data-state":jb(a.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),cl="DialogContent",QP=f.forwardRef((e,t)=>{const r=KP(cl,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=Xs(cl,e.__scopeDialog);return s.jsx(rn,{present:n||i.open,children:i.modal?s.jsx(fB,{...a,ref:t}):s.jsx(hB,{...a,ref:t})})});QP.displayName=cl;var fB=f.forwardRef((e,t)=>{const r=Xs(cl,e.__scopeDialog),n=f.useRef(null),a=ct(t,r.contentRef,n);return f.useEffect(()=>{const i=n.current;if(i)return Ng(i)},[]),s.jsx(XP,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ce(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Ce(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:Ce(e.onFocusOutside,i=>i.preventDefault())})}),hB=f.forwardRef((e,t)=>{const r=Xs(cl,e.__scopeDialog),n=f.useRef(!1),a=f.useRef(!1);return s.jsx(XP,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((d=r.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),XP=f.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=e,l=Xs(cl,r),c=f.useRef(null),d=ct(t,c);return jg(),s.jsxs(s.Fragment,{children:[s.jsx(If,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx(_l,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":jb(l.open),...o,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(pB,{titleId:l.titleId}),s.jsx(vB,{contentRef:c,descriptionId:l.descriptionId})]})]})}),bb="DialogTitle",ZP=f.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Xs(bb,r);return s.jsx(Ie.h2,{id:a.titleId,...n,ref:t})});ZP.displayName=bb;var JP="DialogDescription",eT=f.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Xs(JP,r);return s.jsx(Ie.p,{id:a.descriptionId,...n,ref:t})});eT.displayName=JP;var tT="DialogClose",rT=f.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Xs(tT,r);return s.jsx(Ie.button,{type:"button",...n,ref:t,onClick:Ce(e.onClick,()=>a.onOpenChange(!1))})});rT.displayName=tT;function jb(e){return e?"open":"closed"}var nT="DialogTitleWarning",[mB,sT]=$I(nT,{contentName:cl,titleName:bb,docsSlug:"dialog"}),pB=({titleId:e})=>{const t=sT(nT),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return f.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},gB="DialogDescriptionWarning",vB=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${sT(gB).contentName}}.`;return f.useEffect(()=>{var i;const a=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},Cg=VP,_b=HP,kg=GP,bd=YP,jd=QP,Lf=ZP,$f=eT,Eg=rT;const ca=Cg,xB=_b,yB=kg,aT=f.forwardRef(({className:e,...t},r)=>s.jsx(bd,{className:le("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));aT.displayName=bd.displayName;const wB=Nl("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),Us=f.forwardRef(({side:e="right",className:t,children:r,...n},a)=>s.jsxs(yB,{children:[s.jsx(aT,{}),s.jsxs(jd,{ref:a,className:le(wB({side:e}),t),...n,children:[r,s.jsxs(Eg,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[s.jsx(Mr,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Us.displayName=jd.displayName;const bB=f.forwardRef(({className:e,...t},r)=>s.jsx(Lf,{ref:r,className:le("text-lg font-semibold text-foreground",e),...t}));bB.displayName=Lf.displayName;const jB=f.forwardRef(({className:e,...t},r)=>s.jsx($f,{ref:r,className:le("text-sm text-muted-foreground",e),...t}));jB.displayName=$f.displayName;const _B="sidebar:state",NB=60*60*24*7,SB="13rem",CB="16rem",kB="3rem",EB="b",iT=f.createContext(null);function _d(){const e=f.useContext(iT);if(!e)throw new Error("useSidebar must be used within a SidebarProvider.");return e}const ai=f.forwardRef(({defaultOpen:e=!0,open:t,onOpenChange:r,className:n,style:a,children:i,...o},l)=>{const c=ll(),[d,u]=f.useState(!1),[h,m]=f.useState(e),p=t??h,w=f.useCallback(x=>{const b=typeof x=="function"?x(p):x;r?r(b):m(b),document.cookie=`${_B}=${b}; path=/; max-age=${NB}`},[r,p]),v=f.useCallback(()=>c?u(x=>!x):w(x=>!x),[c,w,u]);f.useEffect(()=>{const x=b=>{b.key===EB&&(b.metaKey||b.ctrlKey)&&(b.preventDefault(),v())};return window.addEventListener("keydown",x),()=>window.removeEventListener("keydown",x)},[v]);const g=p?"expanded":"collapsed",y=f.useMemo(()=>({state:g,open:p,setOpen:w,isMobile:c,openMobile:d,setOpenMobile:u,toggleSidebar:v}),[g,p,w,c,d,u,v]);return s.jsx(iT.Provider,{value:y,children:s.jsx(jE,{delayDuration:0,children:s.jsx("div",{style:{"--sidebar-width":SB,"--sidebar-width-icon":kB,...a},className:le("group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar",n),ref:l,...o,children:i})})})});ai.displayName="SidebarProvider";const Nb=f.forwardRef(({side:e="left",variant:t="sidebar",collapsible:r="offcanvas",className:n,children:a,...i},o)=>{const{isMobile:l,state:c,openMobile:d,setOpenMobile:u}=_d();return r==="none"?s.jsx("div",{className:le("flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",n),ref:o,...i,children:a}):l?s.jsx(ca,{open:d,onOpenChange:u,...i,children:s.jsx(Us,{"data-sidebar":"sidebar","data-mobile":"true",className:"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden",style:{"--sidebar-width":CB},side:e,children:s.jsx("div",{className:"flex h-full w-full flex-col",children:a})})}):s.jsxs("div",{ref:o,className:"group peer hidden md:block text-sidebar-foreground","data-state":c,"data-collapsible":c==="collapsed"?r:"","data-variant":t,"data-side":e,children:[s.jsx("div",{className:le("duration-200 relative h-svh w-[--sidebar-width] bg-transparent transition-[width] ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",t==="floating"||t==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]")}),s.jsx("div",{className:le("duration-200 fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] ease-linear md:flex",e==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",t==="floating"||t==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",n),...i,children:s.jsx("div",{"data-sidebar":"sidebar",className:"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow",children:a})})]})});Nb.displayName="Sidebar";const Nd=f.forwardRef(({className:e,onClick:t,...r},n)=>{const{toggleSidebar:a}=_d();return s.jsxs(O,{ref:n,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:le("h-7 w-7",e),onClick:i=>{t==null||t(i),a()},...r,children:[s.jsx(q3,{}),s.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})});Nd.displayName="SidebarTrigger";const PB=f.forwardRef(({className:e,...t},r)=>{const{toggleSidebar:n}=_d();return s.jsx("button",{ref:r,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:n,title:"Toggle Sidebar",className:le("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] hover:after:bg-sidebar-border group-data-[side=left]:-right-4 group-data-[side=right]:left-0 sm:flex","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",e),...t})});PB.displayName="SidebarRail";const TB=f.forwardRef(({className:e,...t},r)=>s.jsx("main",{ref:r,className:le("relative flex min-h-svh flex-1 flex-col bg-background","peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",e),...t}));TB.displayName="SidebarInset";const RB=f.forwardRef(({className:e,...t},r)=>s.jsx(Oe,{ref:r,"data-sidebar":"input",className:le("h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",e),...t}));RB.displayName="SidebarInput";const Sb=f.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,"data-sidebar":"header",className:le("flex flex-col gap-2 p-2",e),...t}));Sb.displayName="SidebarHeader";const MB=f.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,"data-sidebar":"footer",className:le("flex flex-col gap-2 p-2",e),...t}));MB.displayName="SidebarFooter";const df=f.forwardRef(({className:e,...t},r)=>s.jsx(Zo,{ref:r,"data-sidebar":"separator",className:le("mx-2 w-auto bg-sidebar-border",e),...t}));df.displayName="SidebarSeparator";const Cb=f.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,"data-sidebar":"content",className:le("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",e),...t}));Cb.displayName="SidebarContent";const uf=f.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,"data-sidebar":"group",className:le("relative flex w-full min-w-0 flex-col p-2",e),...t}));uf.displayName="SidebarGroup";const ff=f.forwardRef(({className:e,asChild:t=!1,...r},n)=>{const a=t?jl:"div";return s.jsx(a,{ref:n,"data-sidebar":"group-label",className:le("duration-200 flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opa] ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",e),...r})});ff.displayName="SidebarGroupLabel";const AB=f.forwardRef(({className:e,asChild:t=!1,...r},n)=>{const a=t?jl:"button";return s.jsx(a,{ref:n,"data-sidebar":"group-action",className:le("absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","group-data-[collapsible=icon]:hidden",e),...r})});AB.displayName="SidebarGroupAction";const hf=f.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,"data-sidebar":"group-content",className:le("w-full text-sm",e),...t}));hf.displayName="SidebarGroupContent";const mf=f.forwardRef(({className:e,...t},r)=>s.jsx("ul",{ref:r,"data-sidebar":"menu",className:le("flex w-full min-w-0 flex-col gap-1",e),...t}));mf.displayName="SidebarMenu";const Wa=f.forwardRef(({className:e,...t},r)=>s.jsx("li",{ref:r,"data-sidebar":"menu-item",className:le("group/menu-item relative",e),...t}));Wa.displayName="SidebarMenuItem";const OB=Nl("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),Ha=f.forwardRef(({asChild:e=!1,isActive:t=!1,variant:r="default",size:n="default",tooltip:a,className:i,...o},l)=>{const c=e?jl:"button",{isMobile:d,state:u}=_d(),h=s.jsx(c,{ref:l,"data-sidebar":"menu-button","data-size":n,"data-active":t,className:le(OB({variant:r,size:n}),i),...o});return a?(typeof a=="string"&&(a={children:a}),s.jsxs(Q$,{children:[s.jsx(X$,{asChild:!0,children:h}),s.jsx(_E,{side:"right",align:"center",hidden:u!=="collapsed"||d,...a})]})):h});Ha.displayName="SidebarMenuButton";const DB=f.forwardRef(({className:e,asChild:t=!1,showOnHover:r=!1,...n},a)=>{const i=t?jl:"button";return s.jsx(i,{ref:a,"data-sidebar":"menu-action",className:le("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 peer-hover/menu-button:text-sidebar-accent-foreground [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",r&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",e),...n})});DB.displayName="SidebarMenuAction";const IB=f.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,"data-sidebar":"menu-badge",className:le("absolute right-1 flex h-5 min-w-5 items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground select-none pointer-events-none","peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",e),...t}));IB.displayName="SidebarMenuBadge";const FB=f.forwardRef(({className:e,showIcon:t=!1,...r},n)=>{const a=f.useMemo(()=>`${Math.floor(Math.random()*40)+50}%`,[]);return s.jsxs("div",{ref:n,"data-sidebar":"menu-skeleton",className:le("rounded-md h-8 flex gap-2 px-2 items-center",e),...r,children:[t&&s.jsx(Xe,{className:"size-4 rounded-md","data-sidebar":"menu-skeleton-icon"}),s.jsx(Xe,{className:"h-4 flex-1 max-w-[--skeleton-width]","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":a}})]})});FB.displayName="SidebarMenuSkeleton";const LB=f.forwardRef(({className:e,...t},r)=>s.jsx("ul",{ref:r,"data-sidebar":"menu-sub",className:le("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",e),...t}));LB.displayName="SidebarMenuSub";const $B=f.forwardRef(({...e},t)=>s.jsx("li",{ref:t,...e}));$B.displayName="SidebarMenuSubItem";const zB=f.forwardRef(({asChild:e=!1,size:t="md",isActive:r,className:n,...a},i)=>{const o=e?jl:"a";return s.jsx(o,{ref:i,"data-sidebar":"menu-sub-button","data-size":t,"data-active":r,className:le("flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",t==="sm"&&"text-xs",t==="md"&&"text-sm","group-data-[collapsible=icon]:hidden",n),...a})});zB.displayName="SidebarMenuSubButton";const UB=[{title:"Perfil",url:"/musician/profile",icon:D2},{title:"QR Code",url:"/musician/qr",icon:cu},{title:"Catálogo",url:"/musician/catalogo",icon:nr},{title:"Pedidos",url:"/musician/pedidos",icon:E_},{title:"Agenda",url:"/musician/agenda",icon:bn},{title:"Músicos",url:"/musician/perfis",icon:Yc},{title:"Seguindo",url:"/musician/seguindo",icon:Yc},{title:"Extrato",url:"/musician/extrato",icon:V3},{title:"Meus pedidos",url:"/requests",icon:E_}];function zf(){const{state:e,isMobile:t,setOpenMobile:r}=_d(),n=e==="collapsed",i=Qs().pathname,o=g=>i===g,l=Or(),{user:c}=ar(),{data:d}=Ze({queryKey:["sidebar-profile",c==null?void 0:c.id],enabled:!!(c!=null&&c.id),queryFn:async()=>{const{data:g,error:y}=await $.from("profiles").select("display_name, avatar_url, is_pro").eq("id",c.id).maybeSingle();if(y)throw y;return g}}),u=(d==null?void 0:d.display_name)||(c==null?void 0:c.email)||"Músico",h=(d==null?void 0:d.avatar_url)||void 0,{resolvedTheme:m,setTheme:p}=is(),w=async()=>{await $.auth.signOut(),l("/")},v=()=>p(m==="dark"?"light":"dark");return s.jsx(Nb,{collapsible:"offcanvas",variant:"floating",children:s.jsxs(Cb,{children:[s.jsx(Sb,{children:s.jsx("div",{className:"flex items-center justify-between px-2",children:s.jsxs("div",{className:n?"flex items-center gap-2":"flex flex-col items-center gap-1",children:[s.jsxs(Dt,{className:"h-10 w-10",isPro:!!(d!=null&&d.is_pro),children:[s.jsx(It,{src:h,alt:u}),s.jsx(Ft,{children:(u||"M").charAt(0).toUpperCase()})]}),!n&&s.jsx("p",{className:"text-xs text-muted-foreground truncate max-w-[10rem]",children:u})]})})}),s.jsx(df,{}),s.jsxs(uf,{children:[s.jsx(ff,{children:"Painel"}),s.jsx(hf,{children:s.jsx(mf,{children:UB.map(g=>s.jsx(Wa,{children:s.jsx(Ha,{asChild:!0,isActive:o(g.url),children:s.jsxs(ap,{to:g.url,end:!0,onClick:()=>{t&&r(!1)},children:[s.jsx(g.icon,{className:"mr-2 h-4 w-4 text-primary"}),!n&&s.jsx("span",{className:"text-muted-foreground/90",children:g.title})]})})},g.title))})})]}),s.jsx(df,{}),s.jsxs(uf,{children:[s.jsx(ff,{children:"Conta"}),s.jsx(hf,{children:s.jsxs(mf,{children:[s.jsx(Wa,{children:s.jsxs(Ha,{onClick:v,children:[m==="dark"?s.jsx(rg,{className:"mr-2 h-4 w-4 text-primary"}):s.jsx(tg,{className:"mr-2 h-4 w-4 text-primary"}),!n&&s.jsx("span",{className:"text-muted-foreground/90",children:m==="dark"?"Tema claro":"Tema escuro"})]})}),s.jsx(Wa,{children:s.jsx(Ha,{asChild:!0,isActive:o("/"),children:s.jsxs(ap,{to:"/",end:!0,onClick:()=>{t&&r(!1)},children:[s.jsx(M2,{className:"mr-2 h-4 w-4 text-primary"}),!n&&s.jsx("span",{className:"text-muted-foreground/90",children:"Início"})]})})}),s.jsx(Wa,{children:s.jsxs(Ha,{onClick:w,children:[s.jsx(A2,{className:"mr-2 h-4 w-4 text-primary"}),!n&&s.jsx("span",{className:"text-muted-foreground/90",children:"Sair"})]})})]})})]})]})})}function Sd({isVisible:e,className:t=""}){return s.jsxs("div",{className:`flex items-center gap-2 px-2 py-1 bg-orange-100 dark:bg-orange-900/30 border border-orange-200 dark:border-orange-800 rounded-full transition-all duration-300 ease-in-out ${e?"opacity-100 scale-100 translate-x-0":"opacity-0 scale-95 -translate-x-2 pointer-events-none"} ${t}`,children:[s.jsx("svg",{className:"w-3 h-3 text-orange-600 dark:text-orange-400",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),s.jsx("span",{className:"text-xs font-medium text-orange-700 dark:text-orange-300",children:"Conta Inativa"})]})}function Uf({userId:e,isMusician:t}){const[r,n]=f.useState(!1),{data:a,isLoading:i,error:o}=Ze({queryKey:["profile-status",e],enabled:!!e&&t,queryFn:async()=>{const{data:d,error:u}=await $.from("profiles").select("display_name, avatar_url, cover_url, description, username, whatsapp").eq("id",e).maybeSingle();if(u)throw u;return d},staleTime:5*60*1e3,gcTime:10*60*1e3}),l=f.useMemo(()=>{if(!t)return!0;if(!a)return!1;const d=(a.whatsapp||"").replace(/\D/g,"");return!!((a.display_name||"").trim()&&(a.avatar_url||"").trim()&&(a.cover_url||"").trim()&&(a.description||"").trim()&&(a.username||"").trim()&&d)},[t,a]);f.useEffect(()=>{if(e){n(!1);return}!i&&a!==null&&!r&&n(!0)},[e,i,a,r]);const c=f.useMemo(()=>t&&r&&!i&&!l&&a!==null,[t,r,i,l,a]);return{profile:a,isLoading:i,error:o,isActiveComputed:l,shouldShowIndicator:c,isInitialized:r}}const BB=()=>{var h,m,p;const e=Or(),{user:t}=ar(),[r,n]=f.useState(!1),a=((h=t==null?void 0:t.user_metadata)==null?void 0:h.full_name)||(t==null?void 0:t.email)||"Usuário",i=((m=t==null?void 0:t.user_metadata)==null?void 0:m.avatar_url)||void 0,o=async()=>{await $.auth.signOut(),e("/")},{data:l}=Ze({queryKey:["roles",t==null?void 0:t.id],enabled:!!(t!=null&&t.id),queryFn:async()=>{const{data:w,error:v}=await $.from("user_roles").select("role").eq("user_id",t.id);if(v)throw v;return w}}),c=(l||[]).some(w=>w.role==="musician"),{shouldShowIndicator:d}=Uf({userId:t==null?void 0:t.id,isMusician:c}),{resolvedTheme:u}=is();return s.jsx(ai,{children:s.jsxs("div",{className:"min-h-screen flex w-full bg-background",children:[c?s.jsx(zf,{}):null,s.jsxs("main",{className:"flex-1 flex flex-col",children:[s.jsx(Xt,{title:"Pedidos de Música - Início",description:"Crie e gerencie seus pedidos de música."}),s.jsx("header",{className:"sticky top-0 z-40 h-12 flex items-center bg-background/80 supports-[backdrop-filter]:bg-background/60 backdrop-blur border-b px-4",children:s.jsxs("div",{className:"flex w-full items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[c?s.jsx(Nd,{className:"mr-1"}):t?s.jsx(O,{variant:"ghost",size:"icon",onClick:()=>n(!0),"aria-label":"Abrir menu",children:s.jsx(Rf,{className:"h-5 w-5"})}):null,s.jsx(Yt,{to:"/",className:"font-semibold",children:s.jsx("img",{src:u==="dark"?"/logo_avaplay.png":"/logo_avaplay_amarelo.png",alt:"AVAPlay",className:"h-6"})}),s.jsx(Sd,{isVisible:d})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(hb,{}),t?null:s.jsx(O,{variant:"ghost",className:"h-8 px-3 text-xs hover:text-primary hover:bg-transparent flex items-center",onClick:()=>e("/auth"),children:"Entrar"})]})]})}),s.jsxs("section",{className:"max-w-5xl mx-auto px-4 py-16",children:[s.jsx("section",{className:"text-center",children:s.jsx("p",{className:"text-lg mb-6 bg-gradient-to-r from-yellow-200 via-yellow-400 via-amber-400 to-orange-500 bg-clip-text text-transparent font-bold text-xl",children:"Peça sua música, envie dedicatórias, contribua em tempo real."})}),s.jsx(fU,{})]}),s.jsx("footer",{className:"mt-auto py-6 text-center text-xs text-muted-foreground",children:"© 2025 - AVAplay"}),t&&s.jsx(ca,{open:r,onOpenChange:n,children:s.jsx(Us,{side:"left",className:"w-[16rem] p-0",children:s.jsxs("nav",{className:"p-2",children:[s.jsxs("div",{className:"flex items-center gap-3 p-3 border-b mb-2",children:[s.jsxs(Dt,{className:"h-10 w-10",isPro:!!((p=t==null?void 0:t.user_metadata)!=null&&p.is_pro),children:[s.jsx(It,{src:i,alt:a??"Usuário"}),s.jsx(Ft,{children:(a||"U").charAt(0).toUpperCase()})]}),s.jsx("div",{className:"min-w-0",children:s.jsx("p",{className:"text-sm font-medium truncate",children:a})})]}),c&&s.jsx(O,{variant:"ghost",className:"w-full justify-start",onClick:()=>{n(!1),e("/musician")},children:"Painel"}),s.jsx(O,{variant:"ghost",className:"w-full justify-start",onClick:()=>{n(!1),e("/requests")},children:"Meus Pedidos"}),s.jsx(O,{variant:"ghost",className:"w-full justify-start",onClick:()=>{n(!1),e("/conexoes")},children:"Conexões"}),s.jsx(O,{variant:"ghost",className:"w-full justify-start",onClick:()=>{n(!1),e("/musician/profile")},children:"Editar perfil"}),s.jsx(O,{variant:"ghost",className:"w-full justify-start",onClick:()=>{n(!1),o()},children:"Sair"})]})})})]})]})})};var qB="Label",oT=f.forwardRef((e,t)=>s.jsx(Ie.label,{...e,ref:t,onMouseDown:r=>{var a;r.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));oT.displayName=qB;var lT=oT;const VB=Nl("text-sm font-normal text-muted-foreground leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Le=f.forwardRef(({className:e,...t},r)=>s.jsx(lT,{ref:r,className:le(VB(),e),...t}));Le.displayName=lT.displayName;function cT(e){return e.toLowerCase().trim().replace(/[^a-z0-9-\s]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").replace(/^-|-$|_/g,"")}function WB(e){return e.toLowerCase().replace(/[^a-z0-9-\s]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-")}function HB(e){return/^[^@\s]+@[^@\s]+\.[^@\s]+$/.test(e.trim())}async function dT(e){if(!e)return!1;const{data:t,error:r}=await $.from("profiles").select("id").ilike("username",e).maybeSingle();if(r&&r.code!=="PGRST116")throw r;return!t}async function KB(e,t=5){const r=[],n=[e,`${e}-${new Date().getFullYear()}`,`${e}-${Math.floor(Math.random()*90+10)}`];let a=0;for(;r.length<t&&a<100;){const i=a<n.length?n[a]:`${e}-${Math.floor(Math.random()*9999)}`,o=cT(i);o&&await dT(o)&&!r.includes(o)&&r.push(o),a++}return r}const GB=()=>{const e=Or(),{user:t,session:r,loading:n}=ar(),{resolvedTheme:a}=is(),[i,o]=f.useState(""),[l,c]=f.useState(""),[d,u]=f.useState("public"),[h,m]=f.useState(!1),[p,w]=f.useState(!1),[v,g]=f.useState("login"),[y,x]=f.useState(!0),[b,_]=f.useState(""),N=f.useMemo(()=>cT(b),[b]),[P,S]=f.useState(null),[T,U]=f.useState(!1),[q,re]=f.useState([]),G=f.useMemo(()=>HB(i)&&l.trim().length>=6,[i,l]),[H,V]=f.useState(!1),[se,ee]=f.useState(!1),J=()=>s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsxs("header",{className:"sticky top-0 z-40 h-12 flex items-center bg-background/80 supports-[backdrop-filter]:bg-background/60 backdrop-blur border-b px-4",children:[s.jsx(Xe,{className:"h-8 w-8 mr-2"}),s.jsxs("nav",{className:"flex w-full items-center justify-between",children:[s.jsx(Xe,{className:"h-6 w-24"}),s.jsx("div",{className:"hidden md:flex items-center gap-2"})]})]}),s.jsx("main",{className:"max-w-5xl mx-auto px-4 py-8",children:s.jsxs("section",{className:"w-full max-w-md mx-auto border-none rounded-lg p-6 bg-card text-card-foreground shadow-sm",children:[s.jsxs("header",{className:"mb-6 text-center",children:[s.jsx(Xe,{className:"h-10 w-36 mx-auto mb-2"}),s.jsx(Xe,{className:"h-4 w-48 mx-auto"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Xe,{className:"h-4 w-16"}),s.jsx(Xe,{className:"h-10 w-full"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Xe,{className:"h-4 w-16"}),s.jsx(Xe,{className:"h-10 w-full"})]}),s.jsx(Xe,{className:"h-10 w-full"}),s.jsxs("div",{className:"flex items-center gap-3 my-2",children:[s.jsx("div",{className:"h-px bg-border flex-1"}),s.jsx(Xe,{className:"h-3 w-8"}),s.jsx("div",{className:"h-px bg-border flex-1"})]}),s.jsx(Xe,{className:"h-10 w-full"}),s.jsx("div",{className:"text-center",children:s.jsx(Xe,{className:"h-4 w-40 mx-auto"})}),s.jsx("div",{className:"text-center",children:s.jsx(Xe,{className:"h-4 w-56 mx-auto"})})]})]})})]});f.useEffect(()=>{const A=setTimeout(()=>{x(!1)},800);return()=>clearTimeout(A)},[]),f.useEffect(()=>{t&&setTimeout(async()=>{try{const{data:A}=await $.from("profiles").select("is_blocked").eq("id",t.id).maybeSingle();if(A!=null&&A.is_blocked){await $.auth.signOut(),e("/blocked");return}const Y=localStorage.getItem("pending_role"),k=localStorage.getItem("pending_username"),z={id:t.id};k&&(z.username=k),await $.from("profiles").upsert(z,{onConflict:"id"}),Y&&(await $.from("user_roles").upsert({user_id:t.id,role:Y},{onConflict:"user_id,role"}),localStorage.removeItem("pending_role")),k&&localStorage.removeItem("pending_username")}catch{}e("/")},0)},[t,e]),f.useEffect(()=>{if(v!=="signup"||d!=="musician"){S(null),re([]),U(!1);return}if(!N){S(null),re([]),U(!1);return}let A=!1;U(!0);const Y=setTimeout(async()=>{try{const k=await dT(N);if(A)return;if(S(k),k)re([]);else{const z=await KB(N,5);A||re(z)}}catch(k){A||oe({title:"Erro",description:k.message})}finally{A||U(!1)}},400);return()=>{A=!0,clearTimeout(Y),U(!1)}},[N,v,d]);const I=async()=>{m(!0);const{error:A}=await $.auth.signInWithPassword({email:i,password:l});m(!1),oe(A?{title:"Erro ao entrar",description:A.message}:{title:"Bem-vindo!",description:"Login realizado com sucesso."})},D=async()=>{if(d==="musician"){if(!N){oe({title:"Informe um nome de usuário",description:"Ex.: gustavo-andrade"});return}if(!P){oe({title:"Nome indisponível",description:"Escolha uma das sugestões ou tente outro nome."});return}}m(!0);try{localStorage.setItem("pending_role",d),d==="musician"&&N&&localStorage.setItem("pending_username",N);const A=`${window.location.origin}/`,{error:Y}=await $.auth.signUp({email:i,password:l,options:{emailRedirectTo:A}});Y?(localStorage.removeItem("pending_role"),localStorage.removeItem("pending_username"),oe({title:"Erro no cadastro",description:Y.message})):oe({title:"Verifique seu e-mail",description:"Enviamos um link de confirmação para ativar sua conta."})}finally{m(!1)}},C=async()=>{if(!i){oe({title:"Informe seu e-mail",description:"Preencha o campo de e-mail para receber o link."});return}m(!0);try{const A=`${window.location.origin}/auth/reset`,{error:Y}=await $.auth.resetPasswordForEmail(i,{redirectTo:A});oe(Y?{title:"Erro ao enviar e-mail",description:Y.message}:{title:"Verifique seu e-mail",description:"Enviamos um link para redefinir sua senha."})}finally{m(!1)}},E=async A=>{w(!0);try{A==="signup"&&(localStorage.setItem("pending_role",d),d==="musician"&&N&&localStorage.setItem("pending_username",N));const Y=`${window.location.origin}/`,{error:k}=await $.auth.signInWithOAuth({provider:"google",options:{redirectTo:Y}});k&&(A==="signup"&&(localStorage.removeItem("pending_role"),localStorage.removeItem("pending_username")),oe({title:"Erro no Google",description:k.message}))}catch(Y){A==="signup"&&(localStorage.removeItem("pending_role"),localStorage.removeItem("pending_username")),oe({title:"Erro no Google",description:(Y==null?void 0:Y.message)||"Não foi possível continuar com Google."})}finally{w(!1)}};return y||n||h||p?s.jsx(J,{}):s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx(Xt,{title:`${v==="login"?"Entrar":"Cadastrar"} - Pedidos de Música`,description:"Acesse sua conta para gerenciar pedidos de música."}),s.jsxs("header",{className:"sticky top-0 z-40 h-12 flex items-center bg-background/80 supports-[backdrop-filter]:bg-background/60 backdrop-blur border-b px-4",children:[s.jsx(O,{variant:"ghost",size:"icon",className:"mr-2","aria-label":"Voltar",onClick:()=>e("/"),children:s.jsx(Jp,{className:"h-5 w-5"})}),s.jsx("nav",{className:"flex w-full items-center justify-between",children:s.jsx("div",{className:"hidden md:flex items-center gap-2"})})]}),s.jsx("main",{className:"max-w-5xl mx-auto px-4 py-8",children:s.jsxs("section",{className:"w-full max-w-md mx-auto border-none rounded-lg p-6 bg-card text-card-foreground shadow-sm",children:[s.jsxs("header",{className:"mb-6 text-center flex flex-col items-center",children:[s.jsx("img",{src:a==="dark"?"/logo_avaplay.png":"/logo_avaplay_amarelo.png",alt:"AVAPlay",className:"h-10"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:v==="login"?"Entre para continuar":"Crie sua conta para continuar"})]}),v==="login"?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Le,{htmlFor:"email-login",children:"Email"}),s.jsx(Oe,{id:"email-login",type:"email",placeholder:"seu email",value:i,onChange:A=>o(A.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Le,{htmlFor:"password-login",children:"Senha"}),s.jsxs("div",{className:"relative",children:[s.jsx(Oe,{id:"password-login",type:H?"text":"password",value:l,onChange:A=>c(A.target.value)}),s.jsx("button",{type:"button",className:"absolute right-2 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",onClick:()=>V(A=>!A),"aria-label":H?"Ocultar senha":"Mostrar senha",children:H?s.jsx(Zn,{className:"h-4 w-4"}):s.jsx($r,{className:"h-4 w-4"})})]})]}),s.jsx(O,{className:"w-full",onClick:I,disabled:h||!G,children:h?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-current border-t-transparent rounded-full"}),"Entrando..."]}):"Entrar"}),s.jsxs("div",{className:"flex items-center gap-3 my-2",children:[s.jsx("div",{className:"h-px bg-border flex-1"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"ou"}),s.jsx("div",{className:"h-px bg-border flex-1"})]}),s.jsx(O,{variant:"outline",className:"w-full",onClick:()=>E("login"),disabled:p,children:p?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-current border-t-transparent rounded-full"}),"Conectando..."]}):s.jsxs(s.Fragment,{children:[s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",className:"h-4 w-4 mr-2",children:[s.jsx("path",{fill:"#FFC107",d:"M43.6 20.5H42V20H24v8h11.3C33.6 31.9 29.2 36 24 36c-6.6 0-12-5.4-12-12s5.4-12 12-12c3 0 5.8 1.1 7.9 3l5.7-5.7C33.1 6.1 28.8 4 24 4 16.1 4 9.3 8.5 6.3 14.7z"}),s.jsx("path",{fill:"#FF3D00",d:"M6.3 14.7l6.6 4.8C14.6 16 18.9 12 24 12c3 0 5.8 1.1 7.9 3l5.7-5.7C33.1 6.1 28.8 4 24 4 16.1 4 9.3 8.5 6.3 14.7z"}),s.jsx("path",{fill:"#4CAF50",d:"M24 44c5.1 0 9.7-1.9 13.1-5.1l-6.1-5.1C29.1 35 26.7 36 24 36c-5.2 0-9.6-4.1-10.6-9.4l-6.7 5.2C9.3 39.5 16.1 44 24 44z"}),s.jsx("path",{fill:"#1976D2",d:"M43.6 20.5H42V20H24v8h11.3c-1 4.3-5.4 8-11.3 8-5.2 0-9.6-4.1-10.6-9.4l-6.7 5.2C9.3 39.5 16.1 44 24 44c8.9 0 19.5-9 19.5-20 0-1.2-.1-2.3-.3-3.5z"})]}),"Continuar com Google"]})}),s.jsx("div",{className:"text-center",children:s.jsx(O,{variant:"link",type:"button",onClick:C,className:"px-0",children:"Esqueci minha senha"})}),s.jsxs("div",{className:"text-center text-sm mt-2",children:["Ainda não tem conta? ","",s.jsx("button",{className:"text-yellow-500 hover:text-yellow-600 font-medium",onClick:()=>g("signup"),children:"Cadastre-se"})]})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Le,{children:"Você é?"}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs(O,{type:"button",variant:d==="public"?"default":"outline",onClick:()=>u("public"),children:[s.jsx(D2,{className:"h-4 w-4 mr-2"})," Público"]}),s.jsxs(O,{type:"button",variant:d==="musician"?"default":"outline",onClick:()=>u("musician"),children:[s.jsx(nr,{className:"h-4 w-4 mr-2"})," Músico"]})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Escolha seu tipo de conta. Você pode alterar depois nas configurações do perfil."})]}),d==="musician"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(Le,{htmlFor:"username",children:"Nome público (link)"}),s.jsxs("div",{className:"relative",children:[s.jsx(Oe,{id:"username",placeholder:"ex.: gustavo-andrade",value:b,onChange:A=>_(WB(A.target.value)),className:"pr-8"}),s.jsx("div",{className:"absolute right-2 top-1/2 -translate-y-1/2",children:T?s.jsx(eg,{className:"h-4 w-4 animate-spin text-muted-foreground"}):P===!0&&N?s.jsx(Ww,{className:"h-4 w-4 text-green-600"}):P===!1&&N?s.jsx(Hw,{className:"h-4 w-4 text-destructive"}):null})]}),T?s.jsx("p",{className:"text-xs text-muted-foreground",children:"Verificando disponibilidade..."}):P===!0?s.jsxs("p",{className:"text-xs text-green-600",children:["Disponível! Seu perfil: ",`/${N}`]}):P===!1?s.jsxs("div",{className:"text-xs",children:[s.jsx("p",{className:"text-destructive mb-2",children:"Nome em uso. Sugestões:"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:q.map(A=>s.jsx(O,{size:"sm",variant:"secondary",onClick:()=>_(A),children:A},A))})]}):s.jsx("p",{className:"text-xs text-muted-foreground",children:'Use apenas letras minúsculas, números e "-".'})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Le,{htmlFor:"email-signup",children:"Email"}),s.jsx(Oe,{id:"email-signup",type:"email",placeholder:"seu email",value:i,onChange:A=>o(A.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Le,{htmlFor:"password-signup",children:"Senha"}),s.jsxs("div",{className:"relative",children:[s.jsx(Oe,{id:"password-signup",type:se?"text":"password",value:l,onChange:A=>c(A.target.value)}),s.jsx("button",{type:"button",className:"absolute right-2 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",onClick:()=>ee(A=>!A),"aria-label":se?"Ocultar senha":"Mostrar senha",children:se?s.jsx(Zn,{className:"h-4 w-4"}):s.jsx($r,{className:"h-4 w-4"})})]})]}),s.jsx(O,{className:"w-full",onClick:D,disabled:h||T,children:h?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-current border-t-transparent rounded-full"}),"Cadastrando..."]}):"Cadastrar"}),s.jsxs("div",{className:"flex items-center gap-3 my-2",children:[s.jsx("div",{className:"h-px bg-border flex-1"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"ou"}),s.jsx("div",{className:"h-px bg-border flex-1"})]}),s.jsx(O,{variant:"outline",className:"w-full",onClick:()=>E("signup"),disabled:p,children:p?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-current border-t-transparent rounded-full"}),"Conectando..."]}):s.jsxs(s.Fragment,{children:[s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",className:"h-4 w-4 mr-2",children:[s.jsx("path",{fill:"#FFC107",d:"M43.6 20.5H42V20H24v8h11.3C33.6 31.9 29.2 36 24 36c-6.6 0-12-5.4-12-12s5.4-12 12-12c3 0 5.8 1.1 7.9 3l5.7-5.7C33.1 6.1 28.8 4 24 4 16.1 4 9.3 8.5 6.3 14.7z"}),s.jsx("path",{fill:"#FF3D00",d:"M6.3 14.7l6.6 4.8C14.6 16 18.9 12 24 12c3 0 5.8 1.1 7.9 3l5.7-5.7C33.1 6.1 28.8 4 24 4 16.1 4 9.3 8.5 6.3 14.7z"}),s.jsx("path",{fill:"#4CAF50",d:"M24 44c5.1 0 9.7-1.9 13.1-5.1l-6.1-5.1C29.1 35 26.7 36 24 36c-5.2 0-9.6-4.1-10.6-9.4l-6.7 5.2C9.3 39.5 16.1 44 24 44z"}),s.jsx("path",{fill:"#1976D2",d:"M43.6 20.5H42V20H24v8h11.3c-1 4.3-5.4 8-11.3 8-5.2 0-9.6-4.1-10.6-9.4l-6.7 5.2C9.3 39.5 16.1 44 24 44c8.9 0 19.5-9 19.5-20 0-1.2-.1-2.3-.3-3.5z"})]}),"Cadastrar com Google"]})}),s.jsxs("div",{className:"text-center text-sm mt-2",children:["Já tem conta? ","",s.jsx("button",{className:"text-yellow-500 hover:text-yellow-600 font-medium",onClick:()=>g("login"),children:"Entrar"})]})]})]})})]})},$i=f.forwardRef(({className:e,...t},r)=>s.jsx("textarea",{className:le("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-0 focus-visible:ring-offset-0 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));$i.displayName="Textarea";const tt=f.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:le("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));tt.displayName="Card";const Qt=f.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:le("flex flex-col space-y-1.5 p-6",e),...t}));Qt.displayName="CardHeader";const cr=f.forwardRef(({className:e,...t},r)=>s.jsx("h3",{ref:r,className:le("text-2xl font-semibold leading-none tracking-tight",e),...t}));cr.displayName="CardTitle";const uT=f.forwardRef(({className:e,...t},r)=>s.jsx("p",{ref:r,className:le("text-sm text-muted-foreground",e),...t}));uT.displayName="CardDescription";const rt=f.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:le("p-6 pt-0",e),...t}));rt.displayName="CardContent";const YB=f.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:le("flex items-center p-6 pt-0",e),...t}));YB.displayName="CardFooter";var Pg="Popover",[fT,lQ]=kn(Pg,[wo]),Bf=wo(),[QB,jo]=fT(Pg),hT=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:o=!1}=e,l=Bf(t),c=f.useRef(null),[d,u]=f.useState(!1),[h,m]=va({prop:n,defaultProp:a??!1,onChange:i,caller:Pg});return s.jsx(ig,{...l,children:s.jsx(QB,{scope:t,contentId:Zr(),triggerRef:c,open:h,onOpenChange:m,onOpenToggle:f.useCallback(()=>m(p=>!p),[m]),hasCustomAnchor:d,onCustomAnchorAdd:f.useCallback(()=>u(!0),[]),onCustomAnchorRemove:f.useCallback(()=>u(!1),[]),modal:o,children:r})})};hT.displayName=Pg;var mT="PopoverAnchor",XB=f.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=jo(mT,r),i=Bf(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=a;return f.useEffect(()=>(o(),()=>l()),[o,l]),s.jsx(Af,{...i,...n,ref:t})});XB.displayName=mT;var pT="PopoverTrigger",gT=f.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=jo(pT,r),i=Bf(r),o=ct(t,a.triggerRef),l=s.jsx(Ie.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":bT(a.open),...n,ref:o,onClick:Ce(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?l:s.jsx(Af,{asChild:!0,...i,children:l})});gT.displayName=pT;var kb="PopoverPortal",[ZB,JB]=fT(kb,{forceMount:void 0}),vT=e=>{const{__scopePopover:t,forceMount:r,children:n,container:a}=e,i=jo(kb,t);return s.jsx(ZB,{scope:t,forceMount:r,children:s.jsx(rn,{present:r||i.open,children:s.jsx(fd,{asChild:!0,container:a,children:n})})})};vT.displayName=kb;var rd="PopoverContent",xT=f.forwardRef((e,t)=>{const r=JB(rd,e.__scopePopover),{forceMount:n=r.forceMount,...a}=e,i=jo(rd,e.__scopePopover);return s.jsx(rn,{present:n||i.open,children:i.modal?s.jsx(tq,{...a,ref:t}):s.jsx(rq,{...a,ref:t})})});xT.displayName=rd;var eq=so("PopoverContent.RemoveScroll"),tq=f.forwardRef((e,t)=>{const r=jo(rd,e.__scopePopover),n=f.useRef(null),a=ct(t,n),i=f.useRef(!1);return f.useEffect(()=>{const o=n.current;if(o)return Ng(o)},[]),s.jsx(Ff,{as:eq,allowPinchZoom:!0,children:s.jsx(yT,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ce(e.onCloseAutoFocus,o=>{var l;o.preventDefault(),i.current||(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:Ce(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,d=l.button===2||c;i.current=d},{checkForDefaultPrevented:!1}),onFocusOutside:Ce(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),rq=f.forwardRef((e,t)=>{const r=jo(rd,e.__scopePopover),n=f.useRef(!1),a=f.useRef(!1);return s.jsx(yT,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((d=r.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),yT=f.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:u,...h}=e,m=jo(rd,r),p=Bf(r);return jg(),s.jsx(If,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx(_l,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:u,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onDismiss:()=>m.onOpenChange(!1),children:s.jsx(og,{"data-state":bT(m.open),role:"dialog",id:m.contentId,...p,...h,ref:t,style:{...h.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),wT="PopoverClose",nq=f.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=jo(wT,r);return s.jsx(Ie.button,{type:"button",...n,ref:t,onClick:Ce(e.onClick,()=>a.onOpenChange(!1))})});nq.displayName=wT;var sq="PopoverArrow",aq=f.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Bf(r);return s.jsx(lg,{...a,...n,ref:t})});aq.displayName=sq;function bT(e){return e?"open":"closed"}var iq=hT,oq=gT,lq=vT,jT=xT;const jn=iq,_n=oq,un=f.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},a)=>s.jsx(lq,{children:s.jsx(jT,{ref:a,align:t,sideOffset:r,className:le("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));un.displayName=jT.displayName;function Tt(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function rs(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function yn(e,t){const r=Tt(e);return isNaN(t)?rs(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function Ks(e,t){const r=Tt(e);if(isNaN(t))return rs(e,NaN);if(!t)return r;const n=r.getDate(),a=rs(e,r.getTime());a.setMonth(r.getMonth()+t+1,0);const i=a.getDate();return n>=i?a:(r.setFullYear(a.getFullYear(),a.getMonth(),n),r)}const Eb=6048e5,cq=864e5;let dq={};function qf(){return dq}function ya(e,t){var l,c,d,u;const r=qf(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((u=(d=r.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??0,a=Tt(e),i=a.getDay(),o=(i<n?7:0)+i-n;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function dl(e){return ya(e,{weekStartsOn:1})}function _T(e){const t=Tt(e),r=t.getFullYear(),n=rs(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const a=dl(n),i=rs(e,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const o=dl(i);return t.getTime()>=a.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function nd(e){const t=Tt(e);return t.setHours(0,0,0,0),t}function cp(e){const t=Tt(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function da(e,t){const r=nd(e),n=nd(t),a=+r-cp(r),i=+n-cp(n);return Math.round((a-i)/cq)}function uq(e){const t=_T(e),r=rs(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),dl(r)}function _0(e,t){const r=t*7;return yn(e,r)}function fq(e,t){return Ks(e,t*12)}function hq(e){let t;return e.forEach(function(r){const n=Tt(r);(t===void 0||t<n||isNaN(Number(n)))&&(t=n)}),t||new Date(NaN)}function mq(e){let t;return e.forEach(r=>{const n=Tt(r);(!t||t>n||isNaN(+n))&&(t=n)}),t||new Date(NaN)}function Ln(e,t){const r=nd(e),n=nd(t);return+r==+n}function Pb(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function pq(e){if(!Pb(e)&&typeof e!="number")return!1;const t=Tt(e);return!isNaN(Number(t))}function pf(e,t){const r=Tt(e),n=Tt(t),a=r.getFullYear()-n.getFullYear(),i=r.getMonth()-n.getMonth();return a*12+i}function gq(e,t,r){const n=ya(e,r),a=ya(t,r),i=+n-cp(n),o=+a-cp(a);return Math.round((i-o)/Eb)}function Tb(e){const t=Tt(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function Bn(e){const t=Tt(e);return t.setDate(1),t.setHours(0,0,0,0),t}function NT(e){const t=Tt(e),r=rs(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function Rb(e,t){var l,c,d,u;const r=qf(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((u=(d=r.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??0,a=Tt(e),i=a.getDay(),o=(i<n?-7:0)+6-(i-n);return a.setDate(a.getDate()+o),a.setHours(23,59,59,999),a}function ST(e){return Rb(e,{weekStartsOn:1})}const vq={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},xq=(e,t,r)=>{let n;const a=vq[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Ec(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const yq={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},wq={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},bq={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},jq={date:Ec({formats:yq,defaultWidth:"full"}),time:Ec({formats:wq,defaultWidth:"full"}),dateTime:Ec({formats:bq,defaultWidth:"full"})},_q={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Nq=(e,t,r,n)=>_q[e];function aa(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):o;a=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const Sq={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Cq={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},kq={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Eq={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Pq={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Tq={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Rq=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Mq={ordinalNumber:Rq,era:aa({values:Sq,defaultWidth:"wide"}),quarter:aa({values:Cq,defaultWidth:"wide",argumentCallback:e=>e-1}),month:aa({values:kq,defaultWidth:"wide"}),day:aa({values:Eq,defaultWidth:"wide"}),dayPeriod:aa({values:Pq,defaultWidth:"wide",formattingValues:Tq,defaultFormattingWidth:"wide"})};function ia(e){return(t,r={})=>{const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const o=i[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?Oq(l,h=>h.test(o)):Aq(l,h=>h.test(o));let d;d=e.valueCallback?e.valueCallback(c):c,d=r.valueCallback?r.valueCallback(d):d;const u=t.slice(o.length);return{value:d,rest:u}}}function Aq(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function Oq(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function CT(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const a=n[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(a.length);return{value:o,rest:l}}}const Dq=/^(\d+)(th|st|nd|rd)?/i,Iq=/\d+/i,Fq={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Lq={any:[/^b/i,/^(a|c)/i]},$q={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},zq={any:[/1/i,/2/i,/3/i,/4/i]},Uq={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Bq={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},qq={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Vq={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Wq={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Hq={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Kq={ordinalNumber:CT({matchPattern:Dq,parsePattern:Iq,valueCallback:e=>parseInt(e,10)}),era:ia({matchPatterns:Fq,defaultMatchWidth:"wide",parsePatterns:Lq,defaultParseWidth:"any"}),quarter:ia({matchPatterns:$q,defaultMatchWidth:"wide",parsePatterns:zq,defaultParseWidth:"any",valueCallback:e=>e+1}),month:ia({matchPatterns:Uq,defaultMatchWidth:"wide",parsePatterns:Bq,defaultParseWidth:"any"}),day:ia({matchPatterns:qq,defaultMatchWidth:"wide",parsePatterns:Vq,defaultParseWidth:"any"}),dayPeriod:ia({matchPatterns:Wq,defaultMatchWidth:"any",parsePatterns:Hq,defaultParseWidth:"any"})},kT={code:"en-US",formatDistance:xq,formatLong:jq,formatRelative:Nq,localize:Mq,match:Kq,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Gq(e){const t=Tt(e);return da(t,NT(t))+1}function ET(e){const t=Tt(e),r=+dl(t)-+uq(t);return Math.round(r/Eb)+1}function PT(e,t){var u,h,m,p;const r=Tt(e),n=r.getFullYear(),a=qf(),i=(t==null?void 0:t.firstWeekContainsDate)??((h=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??a.firstWeekContainsDate??((p=(m=a.locale)==null?void 0:m.options)==null?void 0:p.firstWeekContainsDate)??1,o=rs(e,0);o.setFullYear(n+1,0,i),o.setHours(0,0,0,0);const l=ya(o,t),c=rs(e,0);c.setFullYear(n,0,i),c.setHours(0,0,0,0);const d=ya(c,t);return r.getTime()>=l.getTime()?n+1:r.getTime()>=d.getTime()?n:n-1}function Yq(e,t){var l,c,d,u;const r=qf(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((u=(d=r.locale)==null?void 0:d.options)==null?void 0:u.firstWeekContainsDate)??1,a=PT(e,t),i=rs(e,0);return i.setFullYear(a,0,n),i.setHours(0,0,0,0),ya(i,t)}function TT(e,t){const r=Tt(e),n=+ya(r,t)-+Yq(r,t);return Math.round(n/Eb)+1}function Ut(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const mi={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return Ut(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Ut(r+1,2)},d(e,t){return Ut(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Ut(e.getHours()%12||12,t.length)},H(e,t){return Ut(e.getHours(),t.length)},m(e,t){return Ut(e.getMinutes(),t.length)},s(e,t){return Ut(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return Ut(a,t.length)}},Gl={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},IN={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return mi.y(e,t)},Y:function(e,t,r,n){const a=PT(e,n),i=a>0?a:1-a;if(t==="YY"){const o=i%100;return Ut(o,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):Ut(i,t.length)},R:function(e,t){const r=_T(e);return Ut(r,t.length)},u:function(e,t){const r=e.getFullYear();return Ut(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Ut(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Ut(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return mi.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return Ut(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const a=TT(e,n);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):Ut(a,t.length)},I:function(e,t,r){const n=ET(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):Ut(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):mi.d(e,t)},D:function(e,t,r){const n=Gq(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Ut(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return Ut(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return Ut(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),a=n===0?7:n;switch(t){case"i":return String(a);case"ii":return Ut(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let a;switch(n===12?a=Gl.noon:n===0?a=Gl.midnight:a=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let a;switch(n>=17?a=Gl.evening:n>=12?a=Gl.afternoon:n>=4?a=Gl.morning:a=Gl.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return mi.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):mi.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Ut(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):Ut(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):mi.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):mi.s(e,t)},S:function(e,t){return mi.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return LN(n);case"XXXX":case"XX":return Do(n);case"XXXXX":case"XXX":default:return Do(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return LN(n);case"xxxx":case"xx":return Do(n);case"xxxxx":case"xxx":default:return Do(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+FN(n,":");case"OOOO":default:return"GMT"+Do(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+FN(n,":");case"zzzz":default:return"GMT"+Do(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return Ut(n,t.length)},T:function(e,t,r){const n=e.getTime();return Ut(n,t.length)}};function FN(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),i=n%60;return i===0?r+String(a):r+String(a)+t+Ut(i,2)}function LN(e,t){return e%60===0?(e>0?"-":"+")+Ut(Math.abs(e)/60,2):Do(e,t)}function Do(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Ut(Math.trunc(n/60),2),i=Ut(n%60,2);return r+a+t+i}const $N=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},RT=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Qq=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return $N(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",$N(n,t)).replace("{{time}}",RT(a,t))},Xq={p:RT,P:Qq},Zq=/^D+$/,Jq=/^Y+$/,e9=["D","DD","YY","YYYY"];function t9(e){return Zq.test(e)}function r9(e){return Jq.test(e)}function n9(e,t,r){const n=s9(e,t,r);if(console.warn(n),e9.includes(e))throw new RangeError(n)}function s9(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const a9=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,i9=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,o9=/^'([^]*?)'?$/,l9=/''/g,c9=/[a-zA-Z]/;function Ht(e,t,r){var u,h,m,p,w,v,g,y;const n=qf(),a=(r==null?void 0:r.locale)??n.locale??kT,i=(r==null?void 0:r.firstWeekContainsDate)??((h=(u=r==null?void 0:r.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??n.firstWeekContainsDate??((p=(m=n.locale)==null?void 0:m.options)==null?void 0:p.firstWeekContainsDate)??1,o=(r==null?void 0:r.weekStartsOn)??((v=(w=r==null?void 0:r.locale)==null?void 0:w.options)==null?void 0:v.weekStartsOn)??n.weekStartsOn??((y=(g=n.locale)==null?void 0:g.options)==null?void 0:y.weekStartsOn)??0,l=Tt(e);if(!pq(l))throw new RangeError("Invalid time value");let c=t.match(i9).map(x=>{const b=x[0];if(b==="p"||b==="P"){const _=Xq[b];return _(x,a.formatLong)}return x}).join("").match(a9).map(x=>{if(x==="''")return{isToken:!1,value:"'"};const b=x[0];if(b==="'")return{isToken:!1,value:d9(x)};if(IN[b])return{isToken:!0,value:x};if(b.match(c9))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:x}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const d={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return c.map(x=>{if(!x.isToken)return x.value;const b=x.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&r9(b)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&t9(b))&&n9(b,t,String(e));const _=IN[b[0]];return _(l,b,a.localize,d)}).join("")}function d9(e){const t=e.match(o9);return t?t[1].replace(l9,"'"):e}function u9(e){const t=Tt(e),r=t.getFullYear(),n=t.getMonth(),a=rs(e,0);return a.setFullYear(r,n+1,0),a.setHours(0,0,0,0),a.getDate()}function f9(e){return Math.trunc(+Tt(e)/1e3)}function h9(e){const t=Tt(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(0,0,0,0),t}function m9(e,t){return gq(h9(e),Bn(e),t)+1}function N0(e,t){const r=Tt(e),n=Tt(t);return r.getTime()>n.getTime()}function MT(e,t){const r=Tt(e),n=Tt(t);return+r<+n}function Mb(e,t){const r=Tt(e),n=Tt(t);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function p9(e,t){const r=Tt(e),n=Tt(t);return r.getFullYear()===n.getFullYear()}function Ou(e,t){return yn(e,-t)}function Cx(e,t){const r=Tt(e),n=r.getFullYear(),a=r.getDate(),i=rs(e,0);i.setFullYear(n,t,15),i.setHours(0,0,0,0);const o=u9(i);return r.setMonth(t,Math.min(a,o)),r}function zN(e,t){const r=Tt(e);return isNaN(+r)?rs(e,NaN):(r.setFullYear(t),r)}const g9={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 mês",other:"cerca de {{count}} meses"},xMonths:{one:"1 mês",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},v9=(e,t,r)=>{let n;const a=g9[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",String(t)),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"em "+n:"há "+n:n},x9={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},y9={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},w9={full:"{{date}} 'às' {{time}}",long:"{{date}} 'às' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},b9={date:Ec({formats:x9,defaultWidth:"full"}),time:Ec({formats:y9,defaultWidth:"full"}),dateTime:Ec({formats:w9,defaultWidth:"full"})},j9={lastWeek:e=>{const t=e.getDay();return"'"+(t===0||t===6?"último":"última")+"' eeee 'às' p"},yesterday:"'ontem às' p",today:"'hoje às' p",tomorrow:"'amanhã às' p",nextWeek:"eeee 'às' p",other:"P"},_9=(e,t,r,n)=>{const a=j9[e];return typeof a=="function"?a(t):a},N9={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},S9={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1º trimestre","2º trimestre","3º trimestre","4º trimestre"]},C9={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","março","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},k9={narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","terça","quarta","quinta","sexta","sábado"],wide:["domingo","segunda-feira","terça-feira","quarta-feira","quinta-feira","sexta-feira","sábado"]},E9={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"}},P9={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},T9=(e,t)=>{const r=Number(e);return(t==null?void 0:t.unit)==="week"?r+"ª":r+"º"},R9={ordinalNumber:T9,era:aa({values:N9,defaultWidth:"wide"}),quarter:aa({values:S9,defaultWidth:"wide",argumentCallback:e=>e-1}),month:aa({values:C9,defaultWidth:"wide"}),day:aa({values:k9,defaultWidth:"wide"}),dayPeriod:aa({values:E9,defaultWidth:"wide",formattingValues:P9,defaultFormattingWidth:"wide"})},M9=/^(\d+)[ºªo]?/i,A9=/\d+/i,O9={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},D9={any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},I9={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234](º)? trimestre/i},F9={any:[/1/i,/2/i,/3/i,/4/i]},L9={narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|março|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},$9={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},z9={narrow:/^(dom|[23456]ª?|s[aá]b)/i,short:/^(dom|[23456]ª?|s[aá]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[aá]b)/i,wide:/^(domingo|(segunda|ter[cç]a|quarta|quinta|sexta)([- ]feira)?|s[aá]bado)/i},U9={short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[aá]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[aá]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[aá]b/i]},B9={narrow:/^(a|p|mn|md|(da) (manhã|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manhã|tarde|noite))/i},q9={any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manhã/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},V9={ordinalNumber:CT({matchPattern:M9,parsePattern:A9,valueCallback:e=>parseInt(e,10)}),era:ia({matchPatterns:O9,defaultMatchWidth:"wide",parsePatterns:D9,defaultParseWidth:"any"}),quarter:ia({matchPatterns:I9,defaultMatchWidth:"wide",parsePatterns:F9,defaultParseWidth:"any",valueCallback:e=>e+1}),month:ia({matchPatterns:L9,defaultMatchWidth:"wide",parsePatterns:$9,defaultParseWidth:"any"}),day:ia({matchPatterns:z9,defaultMatchWidth:"wide",parsePatterns:U9,defaultParseWidth:"any"}),dayPeriod:ia({matchPatterns:B9,defaultMatchWidth:"any",parsePatterns:q9,defaultParseWidth:"any"})},ul={code:"pt-BR",formatDistance:v9,formatLong:b9,formatRelative:_9,localize:R9,match:V9,options:{weekStartsOn:0,firstWeekContainsDate:1}};var Je=function(){return Je=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Je.apply(this,arguments)};function W9(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function AT(e,t,r){for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}function Vf(e){return e.mode==="multiple"}function Wf(e){return e.mode==="range"}function Tg(e){return e.mode==="single"}var H9={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function K9(e,t){return Ht(e,"LLLL y",t)}function G9(e,t){return Ht(e,"d",t)}function Y9(e,t){return Ht(e,"LLLL",t)}function Q9(e){return"".concat(e)}function X9(e,t){return Ht(e,"cccccc",t)}function Z9(e,t){return Ht(e,"yyyy",t)}var J9=Object.freeze({__proto__:null,formatCaption:K9,formatDay:G9,formatMonthCaption:Y9,formatWeekNumber:Q9,formatWeekdayName:X9,formatYearCaption:Z9}),eV=function(e,t,r){return Ht(e,"do MMMM (EEEE)",r)},tV=function(){return"Month: "},rV=function(){return"Go to next month"},nV=function(){return"Go to previous month"},sV=function(e,t){return Ht(e,"cccc",t)},aV=function(e){return"Week n. ".concat(e)},iV=function(){return"Year: "},oV=Object.freeze({__proto__:null,labelDay:eV,labelMonthDropdown:tV,labelNext:rV,labelPrevious:nV,labelWeekNumber:aV,labelWeekday:sV,labelYearDropdown:iV});function lV(){var e="buttons",t=H9,r=kT,n={},a={},i=1,o={},l=new Date;return{captionLayout:e,classNames:t,formatters:J9,labels:oV,locale:r,modifiersClassNames:n,modifiers:a,numberOfMonths:i,styles:o,today:l,mode:"default"}}function cV(e){var t=e.fromYear,r=e.toYear,n=e.fromMonth,a=e.toMonth,i=e.fromDate,o=e.toDate;return n?i=Bn(n):t&&(i=new Date(t,0,1)),a?o=Tb(a):r&&(o=new Date(r,11,31)),{fromDate:i?nd(i):void 0,toDate:o?nd(o):void 0}}var OT=f.createContext(void 0);function dV(e){var t,r=e.initialProps,n=lV(),a=cV(r),i=a.fromDate,o=a.toDate,l=(t=r.captionLayout)!==null&&t!==void 0?t:n.captionLayout;l!=="buttons"&&(!i||!o)&&(l="buttons");var c;(Tg(r)||Vf(r)||Wf(r))&&(c=r.onSelect);var d=Je(Je(Je({},n),r),{captionLayout:l,classNames:Je(Je({},n.classNames),r.classNames),components:Je({},r.components),formatters:Je(Je({},n.formatters),r.formatters),fromDate:i,labels:Je(Je({},n.labels),r.labels),mode:r.mode||n.mode,modifiers:Je(Je({},n.modifiers),r.modifiers),modifiersClassNames:Je(Je({},n.modifiersClassNames),r.modifiersClassNames),onSelect:c,styles:Je(Je({},n.styles),r.styles),toDate:o});return s.jsx(OT.Provider,{value:d,children:e.children})}function Zt(){var e=f.useContext(OT);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function DT(e){var t=Zt(),r=t.locale,n=t.classNames,a=t.styles,i=t.formatters.formatCaption;return s.jsx("div",{className:n.caption_label,style:a.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:i(e.displayMonth,{locale:r})})}function uV(e){return s.jsx("svg",Je({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:s.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function IT(e){var t,r,n=e.onChange,a=e.value,i=e.children,o=e.caption,l=e.className,c=e.style,d=Zt(),u=(r=(t=d.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&r!==void 0?r:uV;return s.jsxs("div",{className:l,style:c,children:[s.jsx("span",{className:d.classNames.vhidden,children:e["aria-label"]}),s.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:d.classNames.dropdown,style:d.styles.dropdown,value:a,onChange:n,children:i}),s.jsxs("div",{className:d.classNames.caption_label,style:d.styles.caption_label,"aria-hidden":"true",children:[o,s.jsx(u,{className:d.classNames.dropdown_icon,style:d.styles.dropdown_icon})]})]})}function fV(e){var t,r=Zt(),n=r.fromDate,a=r.toDate,i=r.styles,o=r.locale,l=r.formatters.formatMonthCaption,c=r.classNames,d=r.components,u=r.labels.labelMonthDropdown;if(!n)return s.jsx(s.Fragment,{});if(!a)return s.jsx(s.Fragment,{});var h=[];if(p9(n,a))for(var m=Bn(n),p=n.getMonth();p<=a.getMonth();p++)h.push(Cx(m,p));else for(var m=Bn(new Date),p=0;p<=11;p++)h.push(Cx(m,p));var w=function(g){var y=Number(g.target.value),x=Cx(Bn(e.displayMonth),y);e.onChange(x)},v=(t=d==null?void 0:d.Dropdown)!==null&&t!==void 0?t:IT;return s.jsx(v,{name:"months","aria-label":u(),className:c.dropdown_month,style:i.dropdown_month,onChange:w,value:e.displayMonth.getMonth(),caption:l(e.displayMonth,{locale:o}),children:h.map(function(g){return s.jsx("option",{value:g.getMonth(),children:l(g,{locale:o})},g.getMonth())})})}function hV(e){var t,r=e.displayMonth,n=Zt(),a=n.fromDate,i=n.toDate,o=n.locale,l=n.styles,c=n.classNames,d=n.components,u=n.formatters.formatYearCaption,h=n.labels.labelYearDropdown,m=[];if(!a)return s.jsx(s.Fragment,{});if(!i)return s.jsx(s.Fragment,{});for(var p=a.getFullYear(),w=i.getFullYear(),v=p;v<=w;v++)m.push(zN(NT(new Date),v));var g=function(x){var b=zN(Bn(r),Number(x.target.value));e.onChange(b)},y=(t=d==null?void 0:d.Dropdown)!==null&&t!==void 0?t:IT;return s.jsx(y,{name:"years","aria-label":h(),className:c.dropdown_year,style:l.dropdown_year,onChange:g,value:r.getFullYear(),caption:u(r,{locale:o}),children:m.map(function(x){return s.jsx("option",{value:x.getFullYear(),children:u(x,{locale:o})},x.getFullYear())})})}function mV(e,t){var r=f.useState(e),n=r[0],a=r[1],i=t===void 0?n:t;return[i,a]}function pV(e){var t=e.month,r=e.defaultMonth,n=e.today,a=t||r||n||new Date,i=e.toDate,o=e.fromDate,l=e.numberOfMonths,c=l===void 0?1:l;if(i&&pf(i,a)<0){var d=-1*(c-1);a=Ks(i,d)}return o&&pf(a,o)<0&&(a=o),Bn(a)}function gV(){var e=Zt(),t=pV(e),r=mV(t,e.month),n=r[0],a=r[1],i=function(o){var l;if(!e.disableNavigation){var c=Bn(o);a(c),(l=e.onMonthChange)===null||l===void 0||l.call(e,c)}};return[n,i]}function vV(e,t){for(var r=t.reverseMonths,n=t.numberOfMonths,a=Bn(e),i=Bn(Ks(a,n)),o=pf(i,a),l=[],c=0;c<o;c++){var d=Ks(a,c);l.push(d)}return r&&(l=l.reverse()),l}function xV(e,t){if(!t.disableNavigation){var r=t.toDate,n=t.pagedNavigation,a=t.numberOfMonths,i=a===void 0?1:a,o=n?i:1,l=Bn(e);if(!r)return Ks(l,o);var c=pf(r,e);if(!(c<i))return Ks(l,o)}}function yV(e,t){if(!t.disableNavigation){var r=t.fromDate,n=t.pagedNavigation,a=t.numberOfMonths,i=a===void 0?1:a,o=n?i:1,l=Bn(e);if(!r)return Ks(l,-o);var c=pf(l,r);if(!(c<=0))return Ks(l,-o)}}var FT=f.createContext(void 0);function wV(e){var t=Zt(),r=gV(),n=r[0],a=r[1],i=vV(n,t),o=xV(n,t),l=yV(n,t),c=function(h){return i.some(function(m){return Mb(h,m)})},d=function(h,m){c(h)||(m&&MT(h,m)?a(Ks(h,1+t.numberOfMonths*-1)):a(h))},u={currentMonth:n,displayMonths:i,goToMonth:a,goToDate:d,previousMonth:l,nextMonth:o,isDateDisplayed:c};return s.jsx(FT.Provider,{value:u,children:e.children})}function Hf(){var e=f.useContext(FT);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function UN(e){var t,r=Zt(),n=r.classNames,a=r.styles,i=r.components,o=Hf().goToMonth,l=function(u){o(Ks(u,e.displayIndex?-e.displayIndex:0))},c=(t=i==null?void 0:i.CaptionLabel)!==null&&t!==void 0?t:DT,d=s.jsx(c,{id:e.id,displayMonth:e.displayMonth});return s.jsxs("div",{className:n.caption_dropdowns,style:a.caption_dropdowns,children:[s.jsx("div",{className:n.vhidden,children:d}),s.jsx(fV,{onChange:l,displayMonth:e.displayMonth}),s.jsx(hV,{onChange:l,displayMonth:e.displayMonth})]})}function bV(e){return s.jsx("svg",Je({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:s.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function jV(e){return s.jsx("svg",Je({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:s.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var dp=f.forwardRef(function(e,t){var r=Zt(),n=r.classNames,a=r.styles,i=[n.button_reset,n.button];e.className&&i.push(e.className);var o=i.join(" "),l=Je(Je({},a.button_reset),a.button);return e.style&&Object.assign(l,e.style),s.jsx("button",Je({},e,{ref:t,type:"button",className:o,style:l}))});function _V(e){var t,r,n=Zt(),a=n.dir,i=n.locale,o=n.classNames,l=n.styles,c=n.labels,d=c.labelPrevious,u=c.labelNext,h=n.components;if(!e.nextMonth&&!e.previousMonth)return s.jsx(s.Fragment,{});var m=d(e.previousMonth,{locale:i}),p=[o.nav_button,o.nav_button_previous].join(" "),w=u(e.nextMonth,{locale:i}),v=[o.nav_button,o.nav_button_next].join(" "),g=(t=h==null?void 0:h.IconRight)!==null&&t!==void 0?t:jV,y=(r=h==null?void 0:h.IconLeft)!==null&&r!==void 0?r:bV;return s.jsxs("div",{className:o.nav,style:l.nav,children:[!e.hidePrevious&&s.jsx(dp,{name:"previous-month","aria-label":m,className:p,style:l.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:a==="rtl"?s.jsx(g,{className:o.nav_icon,style:l.nav_icon}):s.jsx(y,{className:o.nav_icon,style:l.nav_icon})}),!e.hideNext&&s.jsx(dp,{name:"next-month","aria-label":w,className:v,style:l.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:a==="rtl"?s.jsx(y,{className:o.nav_icon,style:l.nav_icon}):s.jsx(g,{className:o.nav_icon,style:l.nav_icon})})]})}function BN(e){var t=Zt().numberOfMonths,r=Hf(),n=r.previousMonth,a=r.nextMonth,i=r.goToMonth,o=r.displayMonths,l=o.findIndex(function(w){return Mb(e.displayMonth,w)}),c=l===0,d=l===o.length-1,u=t>1&&(c||!d),h=t>1&&(d||!c),m=function(){n&&i(n)},p=function(){a&&i(a)};return s.jsx(_V,{displayMonth:e.displayMonth,hideNext:u,hidePrevious:h,nextMonth:a,previousMonth:n,onPreviousClick:m,onNextClick:p})}function NV(e){var t,r=Zt(),n=r.classNames,a=r.disableNavigation,i=r.styles,o=r.captionLayout,l=r.components,c=(t=l==null?void 0:l.CaptionLabel)!==null&&t!==void 0?t:DT,d;return a?d=s.jsx(c,{id:e.id,displayMonth:e.displayMonth}):o==="dropdown"?d=s.jsx(UN,{displayMonth:e.displayMonth,id:e.id}):o==="dropdown-buttons"?d=s.jsxs(s.Fragment,{children:[s.jsx(UN,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),s.jsx(BN,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):d=s.jsxs(s.Fragment,{children:[s.jsx(c,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),s.jsx(BN,{displayMonth:e.displayMonth,id:e.id})]}),s.jsx("div",{className:n.caption,style:i.caption,children:d})}function SV(e){var t=Zt(),r=t.footer,n=t.styles,a=t.classNames.tfoot;return r?s.jsx("tfoot",{className:a,style:n.tfoot,children:s.jsx("tr",{children:s.jsx("td",{colSpan:8,children:r})})}):s.jsx(s.Fragment,{})}function CV(e,t,r){for(var n=r?dl(new Date):ya(new Date,{locale:e,weekStartsOn:t}),a=[],i=0;i<7;i++){var o=yn(n,i);a.push(o)}return a}function kV(){var e=Zt(),t=e.classNames,r=e.styles,n=e.showWeekNumber,a=e.locale,i=e.weekStartsOn,o=e.ISOWeek,l=e.formatters.formatWeekdayName,c=e.labels.labelWeekday,d=CV(a,i,o);return s.jsxs("tr",{style:r.head_row,className:t.head_row,children:[n&&s.jsx("td",{style:r.head_cell,className:t.head_cell}),d.map(function(u,h){return s.jsx("th",{scope:"col",className:t.head_cell,style:r.head_cell,"aria-label":c(u,{locale:a}),children:l(u,{locale:a})},h)})]})}function EV(){var e,t=Zt(),r=t.classNames,n=t.styles,a=t.components,i=(e=a==null?void 0:a.HeadRow)!==null&&e!==void 0?e:kV;return s.jsx("thead",{style:n.head,className:r.head,children:s.jsx(i,{})})}function PV(e){var t=Zt(),r=t.locale,n=t.formatters.formatDay;return s.jsx(s.Fragment,{children:n(e.date,{locale:r})})}var Ab=f.createContext(void 0);function TV(e){if(!Vf(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return s.jsx(Ab.Provider,{value:t,children:e.children})}return s.jsx(RV,{initialProps:e.initialProps,children:e.children})}function RV(e){var t=e.initialProps,r=e.children,n=t.selected,a=t.min,i=t.max,o=function(d,u,h){var m,p;(m=t.onDayClick)===null||m===void 0||m.call(t,d,u,h);var w=!!(u.selected&&a&&(n==null?void 0:n.length)===a);if(!w){var v=!!(!u.selected&&i&&(n==null?void 0:n.length)===i);if(!v){var g=n?AT([],n):[];if(u.selected){var y=g.findIndex(function(x){return Ln(d,x)});g.splice(y,1)}else g.push(d);(p=t.onSelect)===null||p===void 0||p.call(t,g,d,u,h)}}},l={disabled:[]};n&&l.disabled.push(function(d){var u=i&&n.length>i-1,h=n.some(function(m){return Ln(m,d)});return!!(u&&!h)});var c={selected:n,onDayClick:o,modifiers:l};return s.jsx(Ab.Provider,{value:c,children:r})}function Ob(){var e=f.useContext(Ab);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function MV(e,t){var r=t||{},n=r.from,a=r.to;return n&&a?Ln(a,e)&&Ln(n,e)?void 0:Ln(a,e)?{from:a,to:void 0}:Ln(n,e)?void 0:N0(n,e)?{from:e,to:a}:{from:n,to:e}:a?N0(e,a)?{from:a,to:e}:{from:e,to:a}:n?MT(e,n)?{from:e,to:n}:{from:n,to:e}:{from:e,to:void 0}}var Db=f.createContext(void 0);function AV(e){if(!Wf(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return s.jsx(Db.Provider,{value:t,children:e.children})}return s.jsx(OV,{initialProps:e.initialProps,children:e.children})}function OV(e){var t=e.initialProps,r=e.children,n=t.selected,a=n||{},i=a.from,o=a.to,l=t.min,c=t.max,d=function(p,w,v){var g,y;(g=t.onDayClick)===null||g===void 0||g.call(t,p,w,v);var x=MV(p,n);(y=t.onSelect)===null||y===void 0||y.call(t,x,p,w,v)},u={range_start:[],range_end:[],range_middle:[],disabled:[]};if(i?(u.range_start=[i],o?(u.range_end=[o],Ln(i,o)||(u.range_middle=[{after:i,before:o}])):u.range_end=[i]):o&&(u.range_start=[o],u.range_end=[o]),l&&(i&&!o&&u.disabled.push({after:Ou(i,l-1),before:yn(i,l-1)}),i&&o&&u.disabled.push({after:i,before:yn(i,l-1)}),!i&&o&&u.disabled.push({after:Ou(o,l-1),before:yn(o,l-1)})),c){if(i&&!o&&(u.disabled.push({before:yn(i,-c+1)}),u.disabled.push({after:yn(i,c-1)})),i&&o){var h=da(o,i)+1,m=c-h;u.disabled.push({before:Ou(i,m)}),u.disabled.push({after:yn(o,m)})}!i&&o&&(u.disabled.push({before:yn(o,-c+1)}),u.disabled.push({after:yn(o,c-1)}))}return s.jsx(Db.Provider,{value:{selected:n,onDayClick:d,modifiers:u},children:r})}function Ib(){var e=f.useContext(Db);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function xm(e){return Array.isArray(e)?AT([],e):e!==void 0?[e]:[]}function DV(e){var t={};return Object.entries(e).forEach(function(r){var n=r[0],a=r[1];t[n]=xm(a)}),t}var Gs;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(Gs||(Gs={}));var IV=Gs.Selected,Ea=Gs.Disabled,FV=Gs.Hidden,LV=Gs.Today,kx=Gs.RangeEnd,Ex=Gs.RangeMiddle,Px=Gs.RangeStart,$V=Gs.Outside;function zV(e,t,r){var n,a=(n={},n[IV]=xm(e.selected),n[Ea]=xm(e.disabled),n[FV]=xm(e.hidden),n[LV]=[e.today],n[kx]=[],n[Ex]=[],n[Px]=[],n[$V]=[],n);return e.fromDate&&a[Ea].push({before:e.fromDate}),e.toDate&&a[Ea].push({after:e.toDate}),Vf(e)?a[Ea]=a[Ea].concat(t.modifiers[Ea]):Wf(e)&&(a[Ea]=a[Ea].concat(r.modifiers[Ea]),a[Px]=r.modifiers[Px],a[Ex]=r.modifiers[Ex],a[kx]=r.modifiers[kx]),a}var LT=f.createContext(void 0);function UV(e){var t=Zt(),r=Ob(),n=Ib(),a=zV(t,r,n),i=DV(t.modifiers),o=Je(Je({},a),i);return s.jsx(LT.Provider,{value:o,children:e.children})}function $T(){var e=f.useContext(LT);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function BV(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function qV(e){return!!(e&&typeof e=="object"&&"from"in e)}function VV(e){return!!(e&&typeof e=="object"&&"after"in e)}function WV(e){return!!(e&&typeof e=="object"&&"before"in e)}function HV(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function KV(e,t){var r,n=t.from,a=t.to;if(n&&a){var i=da(a,n)<0;i&&(r=[a,n],n=r[0],a=r[1]);var o=da(e,n)>=0&&da(a,e)>=0;return o}return a?Ln(a,e):n?Ln(n,e):!1}function GV(e){return Pb(e)}function YV(e){return Array.isArray(e)&&e.every(Pb)}function QV(e,t){return t.some(function(r){if(typeof r=="boolean")return r;if(GV(r))return Ln(e,r);if(YV(r))return r.includes(e);if(qV(r))return KV(e,r);if(HV(r))return r.dayOfWeek.includes(e.getDay());if(BV(r)){var n=da(r.before,e),a=da(r.after,e),i=n>0,o=a<0,l=N0(r.before,r.after);return l?o&&i:i||o}return VV(r)?da(e,r.after)>0:WV(r)?da(r.before,e)>0:typeof r=="function"?r(e):!1})}function Fb(e,t,r){var n=Object.keys(t).reduce(function(i,o){var l=t[o];return QV(e,l)&&i.push(o),i},[]),a={};return n.forEach(function(i){return a[i]=!0}),r&&!Mb(e,r)&&(a.outside=!0),a}function XV(e,t){for(var r=Bn(e[0]),n=Tb(e[e.length-1]),a,i,o=r;o<=n;){var l=Fb(o,t),c=!l.disabled&&!l.hidden;if(!c){o=yn(o,1);continue}if(l.selected)return o;l.today&&!i&&(i=o),a||(a=o),o=yn(o,1)}return i||a}var ZV=365;function zT(e,t){var r=t.moveBy,n=t.direction,a=t.context,i=t.modifiers,o=t.retry,l=o===void 0?{count:0,lastFocused:e}:o,c=a.weekStartsOn,d=a.fromDate,u=a.toDate,h=a.locale,m={day:yn,week:_0,month:Ks,year:fq,startOfWeek:function(g){return a.ISOWeek?dl(g):ya(g,{locale:h,weekStartsOn:c})},endOfWeek:function(g){return a.ISOWeek?ST(g):Rb(g,{locale:h,weekStartsOn:c})}},p=m[r](e,n==="after"?1:-1);n==="before"&&d?p=hq([d,p]):n==="after"&&u&&(p=mq([u,p]));var w=!0;if(i){var v=Fb(p,i);w=!v.disabled&&!v.hidden}return w?p:l.count>ZV?l.lastFocused:zT(p,{moveBy:r,direction:n,context:a,modifiers:i,retry:Je(Je({},l),{count:l.count+1})})}var UT=f.createContext(void 0);function JV(e){var t=Hf(),r=$T(),n=f.useState(),a=n[0],i=n[1],o=f.useState(),l=o[0],c=o[1],d=XV(t.displayMonths,r),u=a??(l&&t.isDateDisplayed(l))?l:d,h=function(){c(a),i(void 0)},m=function(g){i(g)},p=Zt(),w=function(g,y){if(a){var x=zT(a,{moveBy:g,direction:y,context:p,modifiers:r});Ln(a,x)||(t.goToDate(x,a),m(x))}},v={focusedDay:a,focusTarget:u,blur:h,focus:m,focusDayAfter:function(){return w("day","after")},focusDayBefore:function(){return w("day","before")},focusWeekAfter:function(){return w("week","after")},focusWeekBefore:function(){return w("week","before")},focusMonthBefore:function(){return w("month","before")},focusMonthAfter:function(){return w("month","after")},focusYearBefore:function(){return w("year","before")},focusYearAfter:function(){return w("year","after")},focusStartOfWeek:function(){return w("startOfWeek","before")},focusEndOfWeek:function(){return w("endOfWeek","after")}};return s.jsx(UT.Provider,{value:v,children:e.children})}function Lb(){var e=f.useContext(UT);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function e7(e,t){var r=$T(),n=Fb(e,r,t);return n}var $b=f.createContext(void 0);function t7(e){if(!Tg(e.initialProps)){var t={selected:void 0};return s.jsx($b.Provider,{value:t,children:e.children})}return s.jsx(r7,{initialProps:e.initialProps,children:e.children})}function r7(e){var t=e.initialProps,r=e.children,n=function(i,o,l){var c,d,u;if((c=t.onDayClick)===null||c===void 0||c.call(t,i,o,l),o.selected&&!t.required){(d=t.onSelect)===null||d===void 0||d.call(t,void 0,i,o,l);return}(u=t.onSelect)===null||u===void 0||u.call(t,i,i,o,l)},a={selected:t.selected,onDayClick:n};return s.jsx($b.Provider,{value:a,children:r})}function BT(){var e=f.useContext($b);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function n7(e,t){var r=Zt(),n=BT(),a=Ob(),i=Ib(),o=Lb(),l=o.focusDayAfter,c=o.focusDayBefore,d=o.focusWeekAfter,u=o.focusWeekBefore,h=o.blur,m=o.focus,p=o.focusMonthBefore,w=o.focusMonthAfter,v=o.focusYearBefore,g=o.focusYearAfter,y=o.focusStartOfWeek,x=o.focusEndOfWeek,b=function(J){var I,D,C,E;Tg(r)?(I=n.onDayClick)===null||I===void 0||I.call(n,e,t,J):Vf(r)?(D=a.onDayClick)===null||D===void 0||D.call(a,e,t,J):Wf(r)?(C=i.onDayClick)===null||C===void 0||C.call(i,e,t,J):(E=r.onDayClick)===null||E===void 0||E.call(r,e,t,J)},_=function(J){var I;m(e),(I=r.onDayFocus)===null||I===void 0||I.call(r,e,t,J)},N=function(J){var I;h(),(I=r.onDayBlur)===null||I===void 0||I.call(r,e,t,J)},P=function(J){var I;(I=r.onDayMouseEnter)===null||I===void 0||I.call(r,e,t,J)},S=function(J){var I;(I=r.onDayMouseLeave)===null||I===void 0||I.call(r,e,t,J)},T=function(J){var I;(I=r.onDayPointerEnter)===null||I===void 0||I.call(r,e,t,J)},U=function(J){var I;(I=r.onDayPointerLeave)===null||I===void 0||I.call(r,e,t,J)},q=function(J){var I;(I=r.onDayTouchCancel)===null||I===void 0||I.call(r,e,t,J)},re=function(J){var I;(I=r.onDayTouchEnd)===null||I===void 0||I.call(r,e,t,J)},G=function(J){var I;(I=r.onDayTouchMove)===null||I===void 0||I.call(r,e,t,J)},H=function(J){var I;(I=r.onDayTouchStart)===null||I===void 0||I.call(r,e,t,J)},V=function(J){var I;(I=r.onDayKeyUp)===null||I===void 0||I.call(r,e,t,J)},se=function(J){var I;switch(J.key){case"ArrowLeft":J.preventDefault(),J.stopPropagation(),r.dir==="rtl"?l():c();break;case"ArrowRight":J.preventDefault(),J.stopPropagation(),r.dir==="rtl"?c():l();break;case"ArrowDown":J.preventDefault(),J.stopPropagation(),d();break;case"ArrowUp":J.preventDefault(),J.stopPropagation(),u();break;case"PageUp":J.preventDefault(),J.stopPropagation(),J.shiftKey?v():p();break;case"PageDown":J.preventDefault(),J.stopPropagation(),J.shiftKey?g():w();break;case"Home":J.preventDefault(),J.stopPropagation(),y();break;case"End":J.preventDefault(),J.stopPropagation(),x();break}(I=r.onDayKeyDown)===null||I===void 0||I.call(r,e,t,J)},ee={onClick:b,onFocus:_,onBlur:N,onKeyDown:se,onKeyUp:V,onMouseEnter:P,onMouseLeave:S,onPointerEnter:T,onPointerLeave:U,onTouchCancel:q,onTouchEnd:re,onTouchMove:G,onTouchStart:H};return ee}function s7(){var e=Zt(),t=BT(),r=Ob(),n=Ib(),a=Tg(e)?t.selected:Vf(e)?r.selected:Wf(e)?n.selected:void 0;return a}function a7(e){return Object.values(Gs).includes(e)}function i7(e,t){var r=[e.classNames.day];return Object.keys(t).forEach(function(n){var a=e.modifiersClassNames[n];if(a)r.push(a);else if(a7(n)){var i=e.classNames["day_".concat(n)];i&&r.push(i)}}),r}function o7(e,t){var r=Je({},e.styles.day);return Object.keys(t).forEach(function(n){var a;r=Je(Je({},r),(a=e.modifiersStyles)===null||a===void 0?void 0:a[n])}),r}function l7(e,t,r){var n,a,i,o=Zt(),l=Lb(),c=e7(e,t),d=n7(e,c),u=s7(),h=!!(o.onDayClick||o.mode!=="default");f.useEffect(function(){var P;c.outside||l.focusedDay&&h&&Ln(l.focusedDay,e)&&((P=r.current)===null||P===void 0||P.focus())},[l.focusedDay,e,r,h,c.outside]);var m=i7(o,c).join(" "),p=o7(o,c),w=!!(c.outside&&!o.showOutsideDays||c.hidden),v=(i=(a=o.components)===null||a===void 0?void 0:a.DayContent)!==null&&i!==void 0?i:PV,g=s.jsx(v,{date:e,displayMonth:t,activeModifiers:c}),y={style:p,className:m,children:g,role:"gridcell"},x=l.focusTarget&&Ln(l.focusTarget,e)&&!c.outside,b=l.focusedDay&&Ln(l.focusedDay,e),_=Je(Je(Je({},y),(n={disabled:c.disabled,role:"gridcell"},n["aria-selected"]=c.selected,n.tabIndex=b||x?0:-1,n)),d),N={isButton:h,isHidden:w,activeModifiers:c,selectedDays:u,buttonProps:_,divProps:y};return N}function c7(e){var t=f.useRef(null),r=l7(e.date,e.displayMonth,t);return r.isHidden?s.jsx("div",{role:"gridcell"}):r.isButton?s.jsx(dp,Je({name:"day",ref:t},r.buttonProps)):s.jsx("div",Je({},r.divProps))}function d7(e){var t=e.number,r=e.dates,n=Zt(),a=n.onWeekNumberClick,i=n.styles,o=n.classNames,l=n.locale,c=n.labels.labelWeekNumber,d=n.formatters.formatWeekNumber,u=d(Number(t),{locale:l});if(!a)return s.jsx("span",{className:o.weeknumber,style:i.weeknumber,children:u});var h=c(Number(t),{locale:l}),m=function(p){a(t,r,p)};return s.jsx(dp,{name:"week-number","aria-label":h,className:o.weeknumber,style:i.weeknumber,onClick:m,children:u})}function u7(e){var t,r,n=Zt(),a=n.styles,i=n.classNames,o=n.showWeekNumber,l=n.components,c=(t=l==null?void 0:l.Day)!==null&&t!==void 0?t:c7,d=(r=l==null?void 0:l.WeekNumber)!==null&&r!==void 0?r:d7,u;return o&&(u=s.jsx("td",{className:i.cell,style:a.cell,children:s.jsx(d,{number:e.weekNumber,dates:e.dates})})),s.jsxs("tr",{className:i.row,style:a.row,children:[u,e.dates.map(function(h){return s.jsx("td",{className:i.cell,style:a.cell,role:"presentation",children:s.jsx(c,{displayMonth:e.displayMonth,date:h})},f9(h))})]})}function qN(e,t,r){for(var n=r!=null&&r.ISOWeek?ST(t):Rb(t,r),a=r!=null&&r.ISOWeek?dl(e):ya(e,r),i=da(n,a),o=[],l=0;l<=i;l++)o.push(yn(a,l));var c=o.reduce(function(d,u){var h=r!=null&&r.ISOWeek?ET(u):TT(u,r),m=d.find(function(p){return p.weekNumber===h});return m?(m.dates.push(u),d):(d.push({weekNumber:h,dates:[u]}),d)},[]);return c}function f7(e,t){var r=qN(Bn(e),Tb(e),t);if(t!=null&&t.useFixedWeeks){var n=m9(e,t);if(n<6){var a=r[r.length-1],i=a.dates[a.dates.length-1],o=_0(i,6-n),l=qN(_0(i,1),o,t);r.push.apply(r,l)}}return r}function h7(e){var t,r,n,a=Zt(),i=a.locale,o=a.classNames,l=a.styles,c=a.hideHead,d=a.fixedWeeks,u=a.components,h=a.weekStartsOn,m=a.firstWeekContainsDate,p=a.ISOWeek,w=f7(e.displayMonth,{useFixedWeeks:!!d,ISOWeek:p,locale:i,weekStartsOn:h,firstWeekContainsDate:m}),v=(t=u==null?void 0:u.Head)!==null&&t!==void 0?t:EV,g=(r=u==null?void 0:u.Row)!==null&&r!==void 0?r:u7,y=(n=u==null?void 0:u.Footer)!==null&&n!==void 0?n:SV;return s.jsxs("table",{id:e.id,className:o.table,style:l.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!c&&s.jsx(v,{}),s.jsx("tbody",{className:o.tbody,style:l.tbody,children:w.map(function(x){return s.jsx(g,{displayMonth:e.displayMonth,dates:x.dates,weekNumber:x.weekNumber},x.weekNumber)})}),s.jsx(y,{displayMonth:e.displayMonth})]})}function m7(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var p7=m7()?f.useLayoutEffect:f.useEffect,Tx=!1,g7=0;function VN(){return"react-day-picker-".concat(++g7)}function v7(e){var t,r=e??(Tx?VN():null),n=f.useState(r),a=n[0],i=n[1];return p7(function(){a===null&&i(VN())},[]),f.useEffect(function(){Tx===!1&&(Tx=!0)},[]),(t=e??a)!==null&&t!==void 0?t:void 0}function x7(e){var t,r,n=Zt(),a=n.dir,i=n.classNames,o=n.styles,l=n.components,c=Hf().displayMonths,d=v7(n.id?"".concat(n.id,"-").concat(e.displayIndex):void 0),u=n.id?"".concat(n.id,"-grid-").concat(e.displayIndex):void 0,h=[i.month],m=o.month,p=e.displayIndex===0,w=e.displayIndex===c.length-1,v=!p&&!w;a==="rtl"&&(t=[p,w],w=t[0],p=t[1]),p&&(h.push(i.caption_start),m=Je(Je({},m),o.caption_start)),w&&(h.push(i.caption_end),m=Je(Je({},m),o.caption_end)),v&&(h.push(i.caption_between),m=Je(Je({},m),o.caption_between));var g=(r=l==null?void 0:l.Caption)!==null&&r!==void 0?r:NV;return s.jsxs("div",{className:h.join(" "),style:m,children:[s.jsx(g,{id:d,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),s.jsx(h7,{id:u,"aria-labelledby":d,displayMonth:e.displayMonth})]},e.displayIndex)}function y7(e){var t=Zt(),r=t.classNames,n=t.styles;return s.jsx("div",{className:r.months,style:n.months,children:e.children})}function w7(e){var t,r,n=e.initialProps,a=Zt(),i=Lb(),o=Hf(),l=f.useState(!1),c=l[0],d=l[1];f.useEffect(function(){a.initialFocus&&i.focusTarget&&(c||(i.focus(i.focusTarget),d(!0)))},[a.initialFocus,c,i.focus,i.focusTarget,i]);var u=[a.classNames.root,a.className];a.numberOfMonths>1&&u.push(a.classNames.multiple_months),a.showWeekNumber&&u.push(a.classNames.with_weeknumber);var h=Je(Je({},a.styles.root),a.style),m=Object.keys(n).filter(function(w){return w.startsWith("data-")}).reduce(function(w,v){var g;return Je(Je({},w),(g={},g[v]=n[v],g))},{}),p=(r=(t=n.components)===null||t===void 0?void 0:t.Months)!==null&&r!==void 0?r:y7;return s.jsx("div",Je({className:u.join(" "),style:h,dir:a.dir,id:a.id,nonce:n.nonce,title:n.title,lang:n.lang},m,{children:s.jsx(p,{children:o.displayMonths.map(function(w,v){return s.jsx(x7,{displayIndex:v,displayMonth:w},v)})})}))}function b7(e){var t=e.children,r=W9(e,["children"]);return s.jsx(dV,{initialProps:r,children:s.jsx(wV,{children:s.jsx(t7,{initialProps:r,children:s.jsx(TV,{initialProps:r,children:s.jsx(AV,{initialProps:r,children:s.jsx(UV,{children:s.jsx(JV,{children:t})})})})})})})}function j7(e){return s.jsx(b7,Je({},e,{children:s.jsx(w7,{initialProps:e})}))}function vs({className:e,classNames:t,showOutsideDays:r=!0,locale:n,...a}){return s.jsx(j7,{showOutsideDays:r,className:le("p-3",e),locale:n??ul,classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:le(Jc({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:le(Jc({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...i})=>s.jsx(P2,{className:"h-4 w-4"}),IconRight:({...i})=>s.jsx(Vw,{className:"h-4 w-4"})},...a})}vs.displayName="Calendar";var zb={};(function e(t,r,n,a){var i=!!(t.Worker&&t.Blob&&t.Promise&&t.OffscreenCanvas&&t.OffscreenCanvasRenderingContext2D&&t.HTMLCanvasElement&&t.HTMLCanvasElement.prototype.transferControlToOffscreen&&t.URL&&t.URL.createObjectURL),o=typeof Path2D=="function"&&typeof DOMMatrix=="function",l=function(){if(!t.OffscreenCanvas)return!1;var C=new OffscreenCanvas(1,1),E=C.getContext("2d");E.fillRect(0,0,1,1);var A=C.transferToImageBitmap();try{E.createPattern(A,"no-repeat")}catch{return!1}return!0}();function c(){}function d(C){var E=r.exports.Promise,A=E!==void 0?E:t.Promise;return typeof A=="function"?new A(C):(C(c,c),null)}var u=function(C,E){return{transform:function(A){if(C)return A;if(E.has(A))return E.get(A);var Y=new OffscreenCanvas(A.width,A.height),k=Y.getContext("2d");return k.drawImage(A,0,0),E.set(A,Y),Y},clear:function(){E.clear()}}}(l,new Map),h=function(){var C=Math.floor(16.666666666666668),E,A,Y={},k=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(E=function(z){var ne=Math.random();return Y[ne]=requestAnimationFrame(function Q(R){k===R||k+C-1<R?(k=R,delete Y[ne],z()):Y[ne]=requestAnimationFrame(Q)}),ne},A=function(z){Y[z]&&cancelAnimationFrame(Y[z])}):(E=function(z){return setTimeout(z,C)},A=function(z){return clearTimeout(z)}),{frame:E,cancel:A}}(),m=function(){var C,E,A={};function Y(k){function z(ne,Q){k.postMessage({options:ne||{},callback:Q})}k.init=function(Q){var R=Q.transferControlToOffscreen();k.postMessage({canvas:R},[R])},k.fire=function(Q,R,L){if(E)return z(Q,null),E;var Z=Math.random().toString(36).slice(2);return E=d(function(ue){function _e(me){me.data.callback===Z&&(delete A[Z],k.removeEventListener("message",_e),E=null,u.clear(),L(),ue())}k.addEventListener("message",_e),z(Q,Z),A[Z]=_e.bind(null,{data:{callback:Z}})}),E},k.reset=function(){k.postMessage({reset:!0});for(var Q in A)A[Q](),delete A[Q]}}return function(){if(C)return C;if(!n&&i){var k=["var CONFETTI, SIZE = {}, module = {};","("+e.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{C=new Worker(URL.createObjectURL(new Blob([k])))}catch(z){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn("🎊 Could not load worker",z),null}Y(C)}return C}}(),p={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function w(C,E){return E?E(C):C}function v(C){return C!=null}function g(C,E,A){return w(C&&v(C[E])?C[E]:p[E],A)}function y(C){return C<0?0:Math.floor(C)}function x(C,E){return Math.floor(Math.random()*(E-C))+C}function b(C){return parseInt(C,16)}function _(C){return C.map(N)}function N(C){var E=String(C).replace(/[^0-9a-f]/gi,"");return E.length<6&&(E=E[0]+E[0]+E[1]+E[1]+E[2]+E[2]),{r:b(E.substring(0,2)),g:b(E.substring(2,4)),b:b(E.substring(4,6))}}function P(C){var E=g(C,"origin",Object);return E.x=g(E,"x",Number),E.y=g(E,"y",Number),E}function S(C){C.width=document.documentElement.clientWidth,C.height=document.documentElement.clientHeight}function T(C){var E=C.getBoundingClientRect();C.width=E.width,C.height=E.height}function U(C){var E=document.createElement("canvas");return E.style.position="fixed",E.style.top="0px",E.style.left="0px",E.style.pointerEvents="none",E.style.zIndex=C,E}function q(C,E,A,Y,k,z,ne,Q,R){C.save(),C.translate(E,A),C.rotate(z),C.scale(Y,k),C.arc(0,0,1,ne,Q,R),C.restore()}function re(C){var E=C.angle*(Math.PI/180),A=C.spread*(Math.PI/180);return{x:C.x,y:C.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:C.startVelocity*.5+Math.random()*C.startVelocity,angle2D:-E+(.5*A-Math.random()*A),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:C.color,shape:C.shape,tick:0,totalTicks:C.ticks,decay:C.decay,drift:C.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:C.gravity*3,ovalScalar:.6,scalar:C.scalar,flat:C.flat}}function G(C,E){E.x+=Math.cos(E.angle2D)*E.velocity+E.drift,E.y+=Math.sin(E.angle2D)*E.velocity+E.gravity,E.velocity*=E.decay,E.flat?(E.wobble=0,E.wobbleX=E.x+10*E.scalar,E.wobbleY=E.y+10*E.scalar,E.tiltSin=0,E.tiltCos=0,E.random=1):(E.wobble+=E.wobbleSpeed,E.wobbleX=E.x+10*E.scalar*Math.cos(E.wobble),E.wobbleY=E.y+10*E.scalar*Math.sin(E.wobble),E.tiltAngle+=.1,E.tiltSin=Math.sin(E.tiltAngle),E.tiltCos=Math.cos(E.tiltAngle),E.random=Math.random()+2);var A=E.tick++/E.totalTicks,Y=E.x+E.random*E.tiltCos,k=E.y+E.random*E.tiltSin,z=E.wobbleX+E.random*E.tiltCos,ne=E.wobbleY+E.random*E.tiltSin;if(C.fillStyle="rgba("+E.color.r+", "+E.color.g+", "+E.color.b+", "+(1-A)+")",C.beginPath(),o&&E.shape.type==="path"&&typeof E.shape.path=="string"&&Array.isArray(E.shape.matrix))C.fill(J(E.shape.path,E.shape.matrix,E.x,E.y,Math.abs(z-Y)*.1,Math.abs(ne-k)*.1,Math.PI/10*E.wobble));else if(E.shape.type==="bitmap"){var Q=Math.PI/10*E.wobble,R=Math.abs(z-Y)*.1,L=Math.abs(ne-k)*.1,Z=E.shape.bitmap.width*E.scalar,ue=E.shape.bitmap.height*E.scalar,_e=new DOMMatrix([Math.cos(Q)*R,Math.sin(Q)*R,-Math.sin(Q)*L,Math.cos(Q)*L,E.x,E.y]);_e.multiplySelf(new DOMMatrix(E.shape.matrix));var me=C.createPattern(u.transform(E.shape.bitmap),"no-repeat");me.setTransform(_e),C.globalAlpha=1-A,C.fillStyle=me,C.fillRect(E.x-Z/2,E.y-ue/2,Z,ue),C.globalAlpha=1}else if(E.shape==="circle")C.ellipse?C.ellipse(E.x,E.y,Math.abs(z-Y)*E.ovalScalar,Math.abs(ne-k)*E.ovalScalar,Math.PI/10*E.wobble,0,2*Math.PI):q(C,E.x,E.y,Math.abs(z-Y)*E.ovalScalar,Math.abs(ne-k)*E.ovalScalar,Math.PI/10*E.wobble,0,2*Math.PI);else if(E.shape==="star")for(var xe=Math.PI/2*3,Ge=4*E.scalar,_t=8*E.scalar,Ot=E.x,Ct=E.y,$t=5,B=Math.PI/$t;$t--;)Ot=E.x+Math.cos(xe)*_t,Ct=E.y+Math.sin(xe)*_t,C.lineTo(Ot,Ct),xe+=B,Ot=E.x+Math.cos(xe)*Ge,Ct=E.y+Math.sin(xe)*Ge,C.lineTo(Ot,Ct),xe+=B;else C.moveTo(Math.floor(E.x),Math.floor(E.y)),C.lineTo(Math.floor(E.wobbleX),Math.floor(k)),C.lineTo(Math.floor(z),Math.floor(ne)),C.lineTo(Math.floor(Y),Math.floor(E.wobbleY));return C.closePath(),C.fill(),E.tick<E.totalTicks}function H(C,E,A,Y,k){var z=E.slice(),ne=C.getContext("2d"),Q,R,L=d(function(Z){function ue(){Q=R=null,ne.clearRect(0,0,Y.width,Y.height),u.clear(),k(),Z()}function _e(){n&&!(Y.width===a.width&&Y.height===a.height)&&(Y.width=C.width=a.width,Y.height=C.height=a.height),!Y.width&&!Y.height&&(A(C),Y.width=C.width,Y.height=C.height),ne.clearRect(0,0,Y.width,Y.height),z=z.filter(function(me){return G(ne,me)}),z.length?Q=h.frame(_e):ue()}Q=h.frame(_e),R=ue});return{addFettis:function(Z){return z=z.concat(Z),L},canvas:C,promise:L,reset:function(){Q&&h.cancel(Q),R&&R()}}}function V(C,E){var A=!C,Y=!!g(E||{},"resize"),k=!1,z=g(E,"disableForReducedMotion",Boolean),ne=i&&!!g(E||{},"useWorker"),Q=ne?m():null,R=A?S:T,L=C&&Q?!!C.__confetti_initialized:!1,Z=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,ue;function _e(xe,Ge,_t){for(var Ot=g(xe,"particleCount",y),Ct=g(xe,"angle",Number),$t=g(xe,"spread",Number),B=g(xe,"startVelocity",Number),te=g(xe,"decay",Number),ce=g(xe,"gravity",Number),be=g(xe,"drift",Number),we=g(xe,"colors",_),pe=g(xe,"ticks",Number),Se=g(xe,"shapes"),Ue=g(xe,"scalar"),fe=!!g(xe,"flat"),We=P(xe),vt=Ot,et=[],kt=C.width*We.x,qt=C.height*We.y;vt--;)et.push(re({x:kt,y:qt,angle:Ct,spread:$t,startVelocity:B,color:we[vt%we.length],shape:Se[x(0,Se.length)],ticks:pe,decay:te,gravity:ce,drift:be,scalar:Ue,flat:fe}));return ue?ue.addFettis(et):(ue=H(C,et,R,Ge,_t),ue.promise)}function me(xe){var Ge=z||g(xe,"disableForReducedMotion",Boolean),_t=g(xe,"zIndex",Number);if(Ge&&Z)return d(function(B){B()});A&&ue?C=ue.canvas:A&&!C&&(C=U(_t),document.body.appendChild(C)),Y&&!L&&R(C);var Ot={width:C.width,height:C.height};Q&&!L&&Q.init(C),L=!0,Q&&(C.__confetti_initialized=!0);function Ct(){if(Q){var B={getBoundingClientRect:function(){if(!A)return C.getBoundingClientRect()}};R(B),Q.postMessage({resize:{width:B.width,height:B.height}});return}Ot.width=Ot.height=null}function $t(){ue=null,Y&&(k=!1,t.removeEventListener("resize",Ct)),A&&C&&(document.body.contains(C)&&document.body.removeChild(C),C=null,L=!1)}return Y&&!k&&(k=!0,t.addEventListener("resize",Ct,!1)),Q?Q.fire(xe,Ot,$t):_e(xe,Ot,$t)}return me.reset=function(){Q&&Q.reset(),ue&&ue.reset()},me}var se;function ee(){return se||(se=V(null,{useWorker:!0,resize:!0})),se}function J(C,E,A,Y,k,z,ne){var Q=new Path2D(C),R=new Path2D;R.addPath(Q,new DOMMatrix(E));var L=new Path2D;return L.addPath(R,new DOMMatrix([Math.cos(ne)*k,Math.sin(ne)*k,-Math.sin(ne)*z,Math.cos(ne)*z,A,Y])),L}function I(C){if(!o)throw new Error("path confetti are not supported in this browser");var E,A;typeof C=="string"?E=C:(E=C.path,A=C.matrix);var Y=new Path2D(E),k=document.createElement("canvas"),z=k.getContext("2d");if(!A){for(var ne=1e3,Q=ne,R=ne,L=0,Z=0,ue,_e,me=0;me<ne;me+=2)for(var xe=0;xe<ne;xe+=2)z.isPointInPath(Y,me,xe,"nonzero")&&(Q=Math.min(Q,me),R=Math.min(R,xe),L=Math.max(L,me),Z=Math.max(Z,xe));ue=L-Q,_e=Z-R;var Ge=10,_t=Math.min(Ge/ue,Ge/_e);A=[_t,0,0,_t,-Math.round(ue/2+Q)*_t,-Math.round(_e/2+R)*_t]}return{type:"path",path:E,matrix:A}}function D(C){var E,A=1,Y="#000000",k='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof C=="string"?E=C:(E=C.text,A="scalar"in C?C.scalar:A,k="fontFamily"in C?C.fontFamily:k,Y="color"in C?C.color:Y);var z=10*A,ne=""+z+"px "+k,Q=new OffscreenCanvas(z,z),R=Q.getContext("2d");R.font=ne;var L=R.measureText(E),Z=Math.ceil(L.actualBoundingBoxRight+L.actualBoundingBoxLeft),ue=Math.ceil(L.actualBoundingBoxAscent+L.actualBoundingBoxDescent),_e=2,me=L.actualBoundingBoxLeft+_e,xe=L.actualBoundingBoxAscent+_e;Z+=_e+_e,ue+=_e+_e,Q=new OffscreenCanvas(Z,ue),R=Q.getContext("2d"),R.font=ne,R.fillStyle=Y,R.fillText(E,me,xe);var Ge=1/A;return{type:"bitmap",bitmap:Q.transferToImageBitmap(),matrix:[Ge,0,0,Ge,-Z*Ge/2,-ue*Ge/2]}}r.exports=function(){return ee().apply(this,arguments)},r.exports.reset=function(){ee().reset()},r.exports.create=V,r.exports.shapeFromPath=I,r.exports.shapeFromText=D})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),zb,!1);const oa=zb.exports;zb.exports.create;const _7=()=>{var z,ne,Q;const e=Or(),{user:t}=ar(),r=os(),n=!1,a=20,[i,o]=f.useState(void 0),[l,c]=f.useState(!1),{resolvedTheme:d}=is(),{data:u}=Ze({queryKey:["roles",t==null?void 0:t.id],enabled:!!(t!=null&&t.id),queryFn:async()=>{const{data:R,error:L}=await $.from("user_roles").select("role").eq("user_id",t.id);if(L)throw L;return R}}),h=(u||[]).some(R=>R.role==="musician"),{data:m}=Ze({queryKey:["sidebar-profile",t==null?void 0:t.id],enabled:!!(t!=null&&t.id),queryFn:async()=>{const{data:R,error:L}=await $.from("profiles").select("display_name, avatar_url").eq("id",t.id).maybeSingle();if(L)throw L;return R}}),{shouldShowIndicator:p}=Uf({userId:t==null?void 0:t.id,isMusician:h}),w=(m==null?void 0:m.display_name)||(t==null?void 0:t.email)||"Usuário",v=(m==null?void 0:m.avatar_url)||void 0,g=async()=>{await $.auth.signOut(),e("/")},{data:y=[],isLoading:x}=Ze({queryKey:["genres"],queryFn:async()=>{const{data:R,error:L}=await $.from("genres").select("*").order("name");if(L)throw L;return R??[]},enabled:n}),{data:b=[],isLoading:_}=Ze({queryKey:["songs"],queryFn:async()=>{const{data:R,error:L}=await $.from("songs").select("*").order("title");if(L)throw L;return R??[]},enabled:n}),{data:N,isLoading:P,fetchNextPage:S,hasNextPage:T,isFetchingNextPage:U}=js({queryKey:["requests",t==null?void 0:t.id,((z=i==null?void 0:i.from)==null?void 0:z.toISOString())??null,((ne=i==null?void 0:i.to)==null?void 0:ne.toISOString())??null],enabled:!!t,initialPageParam:0,queryFn:async({pageParam:R})=>{const L=R*a,Z=L+a-1;let ue=$.from("requests").select("*").order("created_at",{ascending:!1});if(i!=null&&i.from){const xe=new Date(i.from);xe.setHours(0,0,0,0),ue=ue.gte("created_at",xe.toISOString())}if(i!=null&&i.to){const xe=new Date(i.to);xe.setHours(23,59,59,999),ue=ue.lte("created_at",xe.toISOString())}const{data:_e,error:me}=await ue.range(L,Z);if(me)throw me;return _e??[]},getNextPageParam:(R,L,Z)=>{if(!(((R==null?void 0:R.length)??0)<a))return Z+1}}),[q,re]=f.useState(""),[G,H]=f.useState(""),V="anon_free_requests_count",se=3,ee=5,J=()=>{try{const R=localStorage.getItem(V),L=R?Number(R):0;return Number.isFinite(L)&&L>0?L:0}catch{return 0}},I=()=>{try{const R=J()+1;localStorage.setItem(V,String(R))}catch{}};si({mutationFn:async R=>{var _e;const L=G?Number(G.replace(",",".")):null;if(!t&&!(L!=null&&L>ee)&&J()>=se)throw new Error("Você atingiu o limite de 3 pedidos gratuitos. Para continuar, contribua com valor acima de R$ 5,00.");const{data:Z,error:ue}=await $.from("requests").insert({user_id:(t==null?void 0:t.id)??null,song_id:R.songId,message:q||null,amount:L}).select("id").single();if(ue)throw ue;if(L&&L>0)try{let me=((_e=(b||[]).find(xe=>xe.id===R.songId))==null?void 0:_e.owner_id)||null;if(!me){const{data:xe}=await $.from("songs").select("owner_id").eq("id",R.songId).maybeSingle();me=(xe==null?void 0:xe.owner_id)||null}me&&await $.from("transactions").insert({musician_id:me,user_id:(t==null?void 0:t.id)||null,request_id:(Z==null?void 0:Z.id)||null,type:"request",amount:L,status:"approved",payment:"other",requester_name:null,message:q||null})}catch(me){console.warn("Falha ao registrar transação do pedido (não bloqueante)",me)}},onSuccess:async(R,L)=>{!t&&!(L!=null&&L.isPaid)&&I(),re(""),H(""),oe({title:"Pedido criado",description:"Seu pedido foi enviado."}),t&&await r.invalidateQueries({queryKey:["requests"]})},onError:R=>{oe({title:"Erro",description:R.message||"Falha ao criar pedido"})}});const D=f.useRef(null);f.useEffect(()=>{if(!D.current)return;const R=new IntersectionObserver(L=>{L[0].isIntersecting&&T&&!U&&S()},{rootMargin:"200px"});return R.observe(D.current),()=>R.disconnect()},[T,U,S]),f.useMemo(()=>{const R=new Map;for(const L of y)R.set(L.id,[]);for(const L of b){const Z=R.get(L.genre_id)||[];Z.push(L),R.set(L.genre_id,Z)}return R},[y,b]);const C=f.useMemo(()=>((N==null?void 0:N.pages)||[]).flat(),[N]),E=f.useMemo(()=>C.reduce((R,L)=>R+(Number(L.amount)||0),0),[C]),A=f.useMemo(()=>Array.from(new Set((C||[]).map(R=>R.musician_id).filter(Boolean))),[C]),{data:Y=[]}=Ze({queryKey:["req-musicians",A],enabled:!!t&&A.length>0,queryFn:async()=>{const{data:R,error:L}=await $.from("profiles").select("id, display_name, avatar_url, is_pro").in("id",A);if(L)throw L;return R||[]}}),k=f.useMemo(()=>{const R=new Map;return(Y||[]).forEach(L=>R.set(L.id,{display_name:L.display_name,avatar_url:L.avatar_url,is_pro:!!(L!=null&&L.is_pro)})),R},[Y]);return f.useEffect(()=>{if(!(t!=null&&t.id))return;const R=$.channel("requests-updates").on("postgres_changes",{event:"UPDATE",schema:"public",table:"requests",filter:`user_id=eq.${t.id}`},L=>{const Z=L.new,ue=L.old;(Z==null?void 0:Z.status)==="approved"&&(ue==null?void 0:ue.status)!=="approved"&&(oe({title:"Seu pedido foi atendido!",description:"O músico tocou sua música."}),oa({particleCount:140,spread:70,origin:{y:.6}}))}).subscribe();return()=>{try{$.removeChannel(R)}catch{}}},[t==null?void 0:t.id]),s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx(Xt,{title:"Meus Pedidos - Pedidos de Música",description:"Veja seus pedidos. Para pedir, acesse o link do músico."}),s.jsxs("header",{className:"sticky top-0 z-40 h-12 flex items-center bg-background/80 supports-[backdrop-filter]:bg-background/60 backdrop-blur border-b px-4",children:[t&&s.jsx(O,{variant:"ghost",size:"icon",className:"mr-2","aria-label":"Abrir menu",onClick:()=>c(!0),children:s.jsx(Rf,{className:"h-5 w-5"})}),s.jsxs("nav",{className:"flex w-full items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Yt,{to:"/",className:"font-semibold",children:s.jsx("img",{src:d==="dark"?"/logo_avaplay.png":"/logo_avaplay_amarelo.png",alt:"AVAPlay",className:"h-6"})}),s.jsx(Sd,{isVisible:p})]}),s.jsx("div",{className:"hidden md:flex items-center gap-2",children:t?null:s.jsx(O,{onClick:()=>e("/auth"),children:"Entrar"})})]})]}),t&&s.jsx(ca,{open:l,onOpenChange:c,children:s.jsx(Us,{side:"left",className:"w-[16rem] p-0",children:s.jsxs("nav",{className:"p-2",children:[s.jsxs("div",{className:"flex items-center gap-3 p-3 border-b mb-2",children:[s.jsxs(Dt,{className:"h-10 w-10",isPro:!!((Q=t==null?void 0:t.user_metadata)!=null&&Q.is_pro),children:[s.jsx(It,{src:v,alt:w??"Usuário"}),s.jsx(Ft,{children:(w||"U").charAt(0).toUpperCase()})]}),s.jsx("div",{className:"min-w-0",children:s.jsx("p",{className:"text-sm font-medium truncate",children:w})})]}),h&&s.jsx(O,{variant:"ghost",className:"w-full justify-start",onClick:()=>{c(!1),e("/musician")},children:"Painel"}),s.jsx(O,{variant:"ghost",className:"w-full justify-start",onClick:()=>{c(!1),e("/requests")},children:"Meus Pedidos"}),s.jsx(O,{variant:"ghost",className:"w-full justify-start",onClick:()=>{c(!1),e("/conexoes")},children:"Conexões"}),s.jsx(O,{variant:"ghost",className:"w-full justify-start",onClick:()=>{c(!1),e("/musician/profile")},children:"Editar perfil"}),s.jsx(O,{variant:"ghost",className:"w-full justify-start",onClick:()=>{c(!1),g()},children:"Sair"})]})})}),s.jsxs("main",{className:"max-w-6xl mx-auto px-4 py-6",children:[s.jsx("h1",{className:"sr-only",children:"Meus pedidos"}),n,t&&s.jsxs("section",{className:"mt-10 pb-40",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4 mt-2 flex-wrap",children:[s.jsxs(jn,{children:[s.jsx(_n,{asChild:!0,children:s.jsxs(O,{variant:"outline",size:"sm",className:"justify-start gap-2",children:[s.jsx(bn,{className:"h-4 w-4"}),i!=null&&i.from?i.to?`${Ht(i.from,"dd/MM/yyyy")} - ${Ht(i.to,"dd/MM/yyyy")}`:`${Ht(i.from,"dd/MM/yyyy")} - ...`:s.jsx("span",{children:"Selecionar período"})]})}),s.jsx(un,{className:"w-auto p-0",align:"start",children:s.jsx(vs,{mode:"range",selected:i,onSelect:o,initialFocus:!0,className:"p-3 pointer-events-auto"})})]}),s.jsx(O,{variant:"ghost",size:"sm",onClick:()=>o(void 0),children:"Limpar filtro"})]}),P?s.jsx("p",{className:"text-muted-foreground",children:"Carregando..."}):C.length===0?s.jsx("p",{className:"text-muted-foreground",children:"Você ainda não fez nenhum pedido."}):s.jsxs("div",{children:[C.map((R,L)=>{var Z,ue,_e,me,xe;return s.jsxs("div",{children:[s.jsx(tt,{className:"border-0 shadow-none",children:s.jsxs(rt,{className:"py-4 flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:new Date(R.created_at).toLocaleString()}),R.message&&s.jsx("div",{className:"mt-1",children:R.message}),R.musician_id&&s.jsxs("div",{className:"mt-2 flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsxs(Dt,{className:"h-6 w-6",isPro:!!((Z=k.get(R.musician_id))!=null&&Z.is_pro),children:[s.jsx(It,{src:((ue=k.get(R.musician_id))==null?void 0:ue.avatar_url)||void 0,alt:`Avatar do músico ${((_e=k.get(R.musician_id))==null?void 0:_e.display_name)||""}`}),s.jsx(Ft,{children:(((me=k.get(R.musician_id))==null?void 0:me.display_name)||"M").charAt(0).toUpperCase()})]}),s.jsxs("span",{children:["Músico: ",((xe=k.get(R.musician_id))==null?void 0:xe.display_name)||"—"]})]})]}),s.jsxs("div",{className:"text-right",children:[R.status==="approved"&&s.jsx("div",{className:"text-sm text-success",children:"Música tocada"}),R.amount!=null&&s.jsxs("div",{className:"text-sm",children:["R$ ",Number(R.amount).toFixed(2)]})]})]})}),L<C.length-1&&s.jsx(Zo,{})]},R.id)}),s.jsx("div",{ref:D,className:"h-8"})]}),s.jsx("div",{className:"fixed left-1/2 -translate-x-1/2 bottom-[100px] z-50 pointer-events-none",children:s.jsxs("div",{className:"pointer-events-auto bg-muted text-gray-500 px-4 py-2 rounded-full whitespace-nowrap",children:[s.jsx("span",{className:"text-sm",children:"Total de contribuição: "}),s.jsxs("span",{className:"font-semibold",children:["R$ ",E.toFixed(2)]})]})})]})]})]})},N7=()=>{const e=Or(),t=f.useRef(null);return f.useEffect(()=>{let r,n=!1;const a=async o=>{var d;try{await((d=r==null?void 0:r.clear)==null?void 0:d.call(r))}catch{}if(n)return;n=!0;const c=(u=>{const h=/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i;if(h.test(u.trim()))return u.trim();try{const p=new URL(u).pathname.match(/\/m\/([0-9a-f-]{36})/i);if(p!=null&&p[1]&&h.test(p[1]))return p[1]}catch{}return null})(o);if(c){e(`/m/${c}`);return}try{const u=new URL(o);window.location.href=u.toString();return}catch{}oe({title:"Código lido",description:o.slice(0,100)}),e("/requests")},i=o=>{};return(async()=>{try{const{Html5QrcodeScanner:o}=await Sl(async()=>{const{Html5QrcodeScanner:l}=await import("./index-DusSIBHT.js");return{Html5QrcodeScanner:l}},[]);r=new o("qr-reader",{fps:10,qrbox:{width:260,height:260},rememberLastUsedCamera:!0},!1),t.current=r,r.render(a,i)}catch(o){oe({title:"Erro ao iniciar câmera",description:(o==null?void 0:o.message)||"Permita o acesso à câmera."})}})(),()=>{(async()=>{var o;try{await((o=r==null?void 0:r.clear)==null?void 0:o.call(r))}catch{}})()}},[e]),s.jsxs("main",{className:"min-h-screen bg-background p-4",children:[s.jsx(Xt,{title:"Ler QR Code - Pedidos de Música",description:"Escaneie o QR Code para abrir a página de pedidos."}),s.jsxs("section",{className:"max-w-3xl mx-auto",children:[s.jsxs("header",{className:"mb-6",children:[s.jsx(O,{variant:"ghost",size:"icon",onClick:()=>e(-1),"aria-label":"Voltar",children:s.jsx(Jp,{className:"h-5 w-5"})}),s.jsx("h1",{className:"mt-2 text-2xl font-semibold",children:"Ler QR Code"})]}),s.jsxs("article",{className:"border rounded-lg p-4 bg-card text-card-foreground",children:[s.jsx("div",{id:"qr-reader",className:"w-full"}),s.jsx("p",{className:"mt-4 text-sm text-muted-foreground",children:"Posicione o QR Code dentro do quadrado. Se o código for um link, você será redirecionado automaticamente."}),s.jsx("div",{className:"mt-4",children:s.jsx(O,{variant:"outline",onClick:()=>e("/requests"),children:"Pular e ir para pedidos"})})]})]})]})},S7=Nl("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Hr({className:e,variant:t,...r}){return s.jsx("div",{className:le(S7({variant:t}),e),...r})}function qT(e){return Ze({queryKey:["active-profile",e],enabled:!!e,queryFn:async()=>{const{data:n,error:a}=await $.from("profiles").select("id, display_name, avatar_url, is_active, is_blocked, is_pro, username, description, payment_qr_url, pix_key, cover_url, cover_position, cover_position_mobile, cover_position_desktop, whatsapp, responsible_name, responsible_whatsapp, instagram, facebook, youtube, spotify, requests_count, shares_count").eq("id",e).eq("is_active",!0).eq("is_blocked",!1).maybeSingle();if(a)throw a;return n}})}async function VT(e){if(!e)return;const{data:t}=await $.from("profiles").select("is_blocked").eq("id",e).maybeSingle();if(t!=null&&t.is_blocked){try{await $.auth.signOut()}catch{}window.location.replace("/blocked")}}const Ur=Cg,C7=_b,k7=kg,WT=f.forwardRef(({className:e,...t},r)=>s.jsx(bd,{ref:r,className:le("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));WT.displayName=bd.displayName;const Pr=f.forwardRef(({className:e,children:t,hideClose:r,...n},a)=>s.jsxs(k7,{children:[s.jsx(WT,{}),s.jsxs(jd,{ref:a,className:le("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 focus:outline-none focus-visible:outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,!r&&s.jsxs(Eg,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[s.jsx(Mr,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Pr.displayName=jd.displayName;const Tr=({className:e,...t})=>s.jsx("div",{className:le("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Tr.displayName="DialogHeader";const pa=({className:e,...t})=>s.jsx("div",{className:le("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});pa.displayName="DialogFooter";const Rr=f.forwardRef(({className:e,...t},r)=>s.jsx(Lf,{ref:r,className:le("text-lg font-semibold leading-none tracking-tight",e),...t}));Rr.displayName=Lf.displayName;const Du=f.forwardRef(({className:e,...t},r)=>s.jsx($f,{ref:r,className:le("text-sm text-muted-foreground",e),...t}));Du.displayName=$f.displayName;function E7({className:e}){return s.jsx("svg",{viewBox:"0 0 24 24","aria-hidden":"true",focusable:"false",role:"img",className:e,fill:"currentColor",children:s.jsx("path",{d:"M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0zm5.26 17.4a.75.75 0 01-1.03.27c-2.83-1.73-6.39-2.12-10.58-1.17a.75.75 0 01-.33-1.46c4.5-1.02 8.42-.58 11.55 1.31.36.22.47.69.24 1.05zm1.48-3.3a.94.94 0 01-1.29.34c-3.24-1.98-8.18-2.56-12.01-1.41a.94.94 0 11-.52-1.8c4.3-1.24 9.69-.6 13.35 1.56.45.27.6.86.33 1.31zm.13-3.35a1.12 1.12 0 01-1.54.41c-3.7-2.2-9.34-2.4-12.65-1.32a1.12 1.12 0 11-.66-2.14c3.79-1.17 10.02-.92 14.24 1.6.53.31.71 1 .4 1.45z"})})}var P7=f.createContext(void 0);function Kf(e){const t=f.useContext(P7);return e||t||"ltr"}var Rx="rovingFocusGroup.onEntryFocus",T7={bubbles:!1,cancelable:!0},Gf="RovingFocusGroup",[S0,HT,R7]=Qp(Gf),[M7,Rg]=kn(Gf,[R7]),[A7,O7]=M7(Gf),KT=f.forwardRef((e,t)=>s.jsx(S0.Provider,{scope:e.__scopeRovingFocusGroup,children:s.jsx(S0.Slot,{scope:e.__scopeRovingFocusGroup,children:s.jsx(D7,{...e,ref:t})})}));KT.displayName=Gf;var D7=f.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:a=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:u=!1,...h}=e,m=f.useRef(null),p=ct(t,m),w=Kf(i),[v,g]=va({prop:o,defaultProp:l??null,onChange:c,caller:Gf}),[y,x]=f.useState(!1),b=yr(d),_=HT(r),N=f.useRef(!1),[P,S]=f.useState(0);return f.useEffect(()=>{const T=m.current;if(T)return T.addEventListener(Rx,b),()=>T.removeEventListener(Rx,b)},[b]),s.jsx(A7,{scope:r,orientation:n,dir:w,loop:a,currentTabStopId:v,onItemFocus:f.useCallback(T=>g(T),[g]),onItemShiftTab:f.useCallback(()=>x(!0),[]),onFocusableItemAdd:f.useCallback(()=>S(T=>T+1),[]),onFocusableItemRemove:f.useCallback(()=>S(T=>T-1),[]),children:s.jsx(Ie.div,{tabIndex:y||P===0?-1:0,"data-orientation":n,...h,ref:p,style:{outline:"none",...e.style},onMouseDown:Ce(e.onMouseDown,()=>{N.current=!0}),onFocus:Ce(e.onFocus,T=>{const U=!N.current;if(T.target===T.currentTarget&&U&&!y){const q=new CustomEvent(Rx,T7);if(T.currentTarget.dispatchEvent(q),!q.defaultPrevented){const re=_().filter(ee=>ee.focusable),G=re.find(ee=>ee.active),H=re.find(ee=>ee.id===v),se=[G,H,...re].filter(Boolean).map(ee=>ee.ref.current);QT(se,u)}}N.current=!1}),onBlur:Ce(e.onBlur,()=>x(!1))})})}),GT="RovingFocusGroupItem",YT=f.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:a=!1,tabStopId:i,children:o,...l}=e,c=Zr(),d=i||c,u=O7(GT,r),h=u.currentTabStopId===d,m=HT(r),{onFocusableItemAdd:p,onFocusableItemRemove:w,currentTabStopId:v}=u;return f.useEffect(()=>{if(n)return p(),()=>w()},[n,p,w]),s.jsx(S0.ItemSlot,{scope:r,id:d,focusable:n,active:a,children:s.jsx(Ie.span,{tabIndex:h?0:-1,"data-orientation":u.orientation,...l,ref:t,onMouseDown:Ce(e.onMouseDown,g=>{n?u.onItemFocus(d):g.preventDefault()}),onFocus:Ce(e.onFocus,()=>u.onItemFocus(d)),onKeyDown:Ce(e.onKeyDown,g=>{if(g.key==="Tab"&&g.shiftKey){u.onItemShiftTab();return}if(g.target!==g.currentTarget)return;const y=L7(g,u.orientation,u.dir);if(y!==void 0){if(g.metaKey||g.ctrlKey||g.altKey||g.shiftKey)return;g.preventDefault();let b=m().filter(_=>_.focusable).map(_=>_.ref.current);if(y==="last")b.reverse();else if(y==="prev"||y==="next"){y==="prev"&&b.reverse();const _=b.indexOf(g.currentTarget);b=u.loop?$7(b,_+1):b.slice(_+1)}setTimeout(()=>QT(b))}}),children:typeof o=="function"?o({isCurrentTabStop:h,hasTabStop:v!=null}):o})})});YT.displayName=GT;var I7={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function F7(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function L7(e,t,r){const n=F7(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return I7[n]}function QT(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function $7(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var XT=KT,ZT=YT,C0=["Enter"," "],z7=["ArrowDown","PageUp","Home"],JT=["ArrowUp","PageDown","End"],U7=[...z7,...JT],B7={ltr:[...C0,"ArrowRight"],rtl:[...C0,"ArrowLeft"]},q7={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Yf="Menu",[gf,V7,W7]=Qp(Yf),[kl,eR]=kn(Yf,[W7,wo,Rg]),Mg=wo(),tR=Rg(),[H7,El]=kl(Yf),[K7,Qf]=kl(Yf),rR=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:a,onOpenChange:i,modal:o=!0}=e,l=Mg(t),[c,d]=f.useState(null),u=f.useRef(!1),h=yr(i),m=Kf(a);return f.useEffect(()=>{const p=()=>{u.current=!0,document.addEventListener("pointerdown",w,{capture:!0,once:!0}),document.addEventListener("pointermove",w,{capture:!0,once:!0})},w=()=>u.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",w,{capture:!0}),document.removeEventListener("pointermove",w,{capture:!0})}},[]),s.jsx(ig,{...l,children:s.jsx(H7,{scope:t,open:r,onOpenChange:h,content:c,onContentChange:d,children:s.jsx(K7,{scope:t,onClose:f.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:u,dir:m,modal:o,children:n})})})};rR.displayName=Yf;var G7="MenuAnchor",Ub=f.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=Mg(r);return s.jsx(Af,{...a,...n,ref:t})});Ub.displayName=G7;var Bb="MenuPortal",[Y7,nR]=kl(Bb,{forceMount:void 0}),sR=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:a}=e,i=El(Bb,t);return s.jsx(Y7,{scope:t,forceMount:r,children:s.jsx(rn,{present:r||i.open,children:s.jsx(fd,{asChild:!0,container:a,children:n})})})};sR.displayName=Bb;var xs="MenuContent",[Q7,qb]=kl(xs),aR=f.forwardRef((e,t)=>{const r=nR(xs,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,i=El(xs,e.__scopeMenu),o=Qf(xs,e.__scopeMenu);return s.jsx(gf.Provider,{scope:e.__scopeMenu,children:s.jsx(rn,{present:n||i.open,children:s.jsx(gf.Slot,{scope:e.__scopeMenu,children:o.modal?s.jsx(X7,{...a,ref:t}):s.jsx(Z7,{...a,ref:t})})})})}),X7=f.forwardRef((e,t)=>{const r=El(xs,e.__scopeMenu),n=f.useRef(null),a=ct(t,n);return f.useEffect(()=>{const i=n.current;if(i)return Ng(i)},[]),s.jsx(Vb,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:Ce(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),Z7=f.forwardRef((e,t)=>{const r=El(xs,e.__scopeMenu);return s.jsx(Vb,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),J7=so("MenuContent.ScrollLock"),Vb=f.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:h,onInteractOutside:m,onDismiss:p,disableOutsideScroll:w,...v}=e,g=El(xs,r),y=Qf(xs,r),x=Mg(r),b=tR(r),_=V7(r),[N,P]=f.useState(null),S=f.useRef(null),T=ct(t,S,g.onContentChange),U=f.useRef(0),q=f.useRef(""),re=f.useRef(0),G=f.useRef(null),H=f.useRef("right"),V=f.useRef(0),se=w?Ff:f.Fragment,ee=w?{as:J7,allowPinchZoom:!0}:void 0,J=D=>{var Q,R;const C=q.current+D,E=_().filter(L=>!L.disabled),A=document.activeElement,Y=(Q=E.find(L=>L.ref.current===A))==null?void 0:Q.textValue,k=E.map(L=>L.textValue),z=uW(k,C,Y),ne=(R=E.find(L=>L.textValue===z))==null?void 0:R.ref.current;(function L(Z){q.current=Z,window.clearTimeout(U.current),Z!==""&&(U.current=window.setTimeout(()=>L(""),1e3))})(C),ne&&setTimeout(()=>ne.focus())};f.useEffect(()=>()=>window.clearTimeout(U.current),[]),jg();const I=f.useCallback(D=>{var E,A;return H.current===((E=G.current)==null?void 0:E.side)&&hW(D,(A=G.current)==null?void 0:A.area)},[]);return s.jsx(Q7,{scope:r,searchRef:q,onItemEnter:f.useCallback(D=>{I(D)&&D.preventDefault()},[I]),onItemLeave:f.useCallback(D=>{var C;I(D)||((C=S.current)==null||C.focus(),P(null))},[I]),onTriggerLeave:f.useCallback(D=>{I(D)&&D.preventDefault()},[I]),pointerGraceTimerRef:re,onPointerGraceIntentChange:f.useCallback(D=>{G.current=D},[]),children:s.jsx(se,{...ee,children:s.jsx(If,{asChild:!0,trapped:a,onMountAutoFocus:Ce(i,D=>{var C;D.preventDefault(),(C=S.current)==null||C.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:s.jsx(_l,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:h,onInteractOutside:m,onDismiss:p,children:s.jsx(XT,{asChild:!0,...b,dir:y.dir,orientation:"vertical",loop:n,currentTabStopId:N,onCurrentTabStopIdChange:P,onEntryFocus:Ce(c,D=>{y.isUsingKeyboardRef.current||D.preventDefault()}),preventScrollOnEntryFocus:!0,children:s.jsx(og,{role:"menu","aria-orientation":"vertical","data-state":bR(g.open),"data-radix-menu-content":"",dir:y.dir,...x,...v,ref:T,style:{outline:"none",...v.style},onKeyDown:Ce(v.onKeyDown,D=>{const E=D.target.closest("[data-radix-menu-content]")===D.currentTarget,A=D.ctrlKey||D.altKey||D.metaKey,Y=D.key.length===1;E&&(D.key==="Tab"&&D.preventDefault(),!A&&Y&&J(D.key));const k=S.current;if(D.target!==k||!U7.includes(D.key))return;D.preventDefault();const ne=_().filter(Q=>!Q.disabled).map(Q=>Q.ref.current);JT.includes(D.key)&&ne.reverse(),cW(ne)}),onBlur:Ce(e.onBlur,D=>{D.currentTarget.contains(D.target)||(window.clearTimeout(U.current),q.current="")}),onPointerMove:Ce(e.onPointerMove,vf(D=>{const C=D.target,E=V.current!==D.clientX;if(D.currentTarget.contains(C)&&E){const A=D.clientX>V.current?"right":"left";H.current=A,V.current=D.clientX}}))})})})})})})});aR.displayName=xs;var eW="MenuGroup",Wb=f.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(Ie.div,{role:"group",...n,ref:t})});Wb.displayName=eW;var tW="MenuLabel",iR=f.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(Ie.div,{...n,ref:t})});iR.displayName=tW;var up="MenuItem",WN="menu.itemSelect",Ag=f.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...a}=e,i=f.useRef(null),o=Qf(up,e.__scopeMenu),l=qb(up,e.__scopeMenu),c=ct(t,i),d=f.useRef(!1),u=()=>{const h=i.current;if(!r&&h){const m=new CustomEvent(WN,{bubbles:!0,cancelable:!0});h.addEventListener(WN,p=>n==null?void 0:n(p),{once:!0}),zw(h,m),m.defaultPrevented?d.current=!1:o.onClose()}};return s.jsx(oR,{...a,ref:c,disabled:r,onClick:Ce(e.onClick,u),onPointerDown:h=>{var m;(m=e.onPointerDown)==null||m.call(e,h),d.current=!0},onPointerUp:Ce(e.onPointerUp,h=>{var m;d.current||(m=h.currentTarget)==null||m.click()}),onKeyDown:Ce(e.onKeyDown,h=>{const m=l.searchRef.current!=="";r||m&&h.key===" "||C0.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});Ag.displayName=up;var oR=f.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:a,...i}=e,o=qb(up,r),l=tR(r),c=f.useRef(null),d=ct(t,c),[u,h]=f.useState(!1),[m,p]=f.useState("");return f.useEffect(()=>{const w=c.current;w&&p((w.textContent??"").trim())},[i.children]),s.jsx(gf.ItemSlot,{scope:r,disabled:n,textValue:a??m,children:s.jsx(ZT,{asChild:!0,...l,focusable:!n,children:s.jsx(Ie.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...i,ref:d,onPointerMove:Ce(e.onPointerMove,vf(w=>{n?o.onItemLeave(w):(o.onItemEnter(w),w.defaultPrevented||w.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ce(e.onPointerLeave,vf(w=>o.onItemLeave(w))),onFocus:Ce(e.onFocus,()=>h(!0)),onBlur:Ce(e.onBlur,()=>h(!1))})})})}),rW="MenuCheckboxItem",lR=f.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...a}=e;return s.jsx(hR,{scope:e.__scopeMenu,checked:r,children:s.jsx(Ag,{role:"menuitemcheckbox","aria-checked":fp(r)?"mixed":r,...a,ref:t,"data-state":Kb(r),onSelect:Ce(a.onSelect,()=>n==null?void 0:n(fp(r)?!0:!r),{checkForDefaultPrevented:!1})})})});lR.displayName=rW;var cR="MenuRadioGroup",[nW,sW]=kl(cR,{value:void 0,onValueChange:()=>{}}),dR=f.forwardRef((e,t)=>{const{value:r,onValueChange:n,...a}=e,i=yr(n);return s.jsx(nW,{scope:e.__scopeMenu,value:r,onValueChange:i,children:s.jsx(Wb,{...a,ref:t})})});dR.displayName=cR;var uR="MenuRadioItem",fR=f.forwardRef((e,t)=>{const{value:r,...n}=e,a=sW(uR,e.__scopeMenu),i=r===a.value;return s.jsx(hR,{scope:e.__scopeMenu,checked:i,children:s.jsx(Ag,{role:"menuitemradio","aria-checked":i,...n,ref:t,"data-state":Kb(i),onSelect:Ce(n.onSelect,()=>{var o;return(o=a.onValueChange)==null?void 0:o.call(a,r)},{checkForDefaultPrevented:!1})})})});fR.displayName=uR;var Hb="MenuItemIndicator",[hR,aW]=kl(Hb,{checked:!1}),mR=f.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...a}=e,i=aW(Hb,r);return s.jsx(rn,{present:n||fp(i.checked)||i.checked===!0,children:s.jsx(Ie.span,{...a,ref:t,"data-state":Kb(i.checked)})})});mR.displayName=Hb;var iW="MenuSeparator",pR=f.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(Ie.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});pR.displayName=iW;var oW="MenuArrow",gR=f.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=Mg(r);return s.jsx(lg,{...a,...n,ref:t})});gR.displayName=oW;var lW="MenuSub",[cQ,vR]=kl(lW),mu="MenuSubTrigger",xR=f.forwardRef((e,t)=>{const r=El(mu,e.__scopeMenu),n=Qf(mu,e.__scopeMenu),a=vR(mu,e.__scopeMenu),i=qb(mu,e.__scopeMenu),o=f.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=i,d={__scopeMenu:e.__scopeMenu},u=f.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return f.useEffect(()=>u,[u]),f.useEffect(()=>{const h=l.current;return()=>{window.clearTimeout(h),c(null)}},[l,c]),s.jsx(Ub,{asChild:!0,...d,children:s.jsx(oR,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":a.contentId,"data-state":bR(r.open),...e,ref:ti(t,a.onTriggerChange),onClick:h=>{var m;(m=e.onClick)==null||m.call(e,h),!(e.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:Ce(e.onPointerMove,vf(h=>{i.onItemEnter(h),!h.defaultPrevented&&!e.disabled&&!r.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),u()},100))})),onPointerLeave:Ce(e.onPointerLeave,vf(h=>{var p,w;u();const m=(p=r.content)==null?void 0:p.getBoundingClientRect();if(m){const v=(w=r.content)==null?void 0:w.dataset.side,g=v==="right",y=g?-5:5,x=m[g?"left":"right"],b=m[g?"right":"left"];i.onPointerGraceIntentChange({area:[{x:h.clientX+y,y:h.clientY},{x,y:m.top},{x:b,y:m.top},{x:b,y:m.bottom},{x,y:m.bottom}],side:v}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(h),h.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:Ce(e.onKeyDown,h=>{var p;const m=i.searchRef.current!=="";e.disabled||m&&h.key===" "||B7[n.dir].includes(h.key)&&(r.onOpenChange(!0),(p=r.content)==null||p.focus(),h.preventDefault())})})})});xR.displayName=mu;var yR="MenuSubContent",wR=f.forwardRef((e,t)=>{const r=nR(xs,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,i=El(xs,e.__scopeMenu),o=Qf(xs,e.__scopeMenu),l=vR(yR,e.__scopeMenu),c=f.useRef(null),d=ct(t,c);return s.jsx(gf.Provider,{scope:e.__scopeMenu,children:s.jsx(rn,{present:n||i.open,children:s.jsx(gf.Slot,{scope:e.__scopeMenu,children:s.jsx(Vb,{id:l.contentId,"aria-labelledby":l.triggerId,...a,ref:d,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{var h;o.isUsingKeyboardRef.current&&((h=c.current)==null||h.focus()),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:Ce(e.onFocusOutside,u=>{u.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:Ce(e.onEscapeKeyDown,u=>{o.onClose(),u.preventDefault()}),onKeyDown:Ce(e.onKeyDown,u=>{var p;const h=u.currentTarget.contains(u.target),m=q7[o.dir].includes(u.key);h&&m&&(i.onOpenChange(!1),(p=l.trigger)==null||p.focus(),u.preventDefault())})})})})})});wR.displayName=yR;function bR(e){return e?"open":"closed"}function fp(e){return e==="indeterminate"}function Kb(e){return fp(e)?"indeterminate":e?"checked":"unchecked"}function cW(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function dW(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function uW(e,t,r){const a=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=dW(e,Math.max(i,0));a.length===1&&(o=o.filter(d=>d!==r));const c=o.find(d=>d.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function fW(e,t){const{x:r,y:n}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],c=t[o],d=l.x,u=l.y,h=c.x,m=c.y;u>n!=m>n&&r<(h-d)*(n-u)/(m-u)+d&&(a=!a)}return a}function hW(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return fW(r,t)}function vf(e){return t=>t.pointerType==="mouse"?e(t):void 0}var mW=rR,pW=Ub,gW=sR,vW=aR,xW=Wb,yW=iR,wW=Ag,bW=lR,jW=dR,_W=fR,NW=mR,SW=pR,CW=gR,kW=xR,EW=wR,Og="DropdownMenu",[PW,dQ]=kn(Og,[eR]),En=eR(),[TW,jR]=PW(Og),_R=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:a,defaultOpen:i,onOpenChange:o,modal:l=!0}=e,c=En(t),d=f.useRef(null),[u,h]=va({prop:a,defaultProp:i??!1,onChange:o,caller:Og});return s.jsx(TW,{scope:t,triggerId:Zr(),triggerRef:d,contentId:Zr(),open:u,onOpenChange:h,onOpenToggle:f.useCallback(()=>h(m=>!m),[h]),modal:l,children:s.jsx(mW,{...c,open:u,onOpenChange:h,dir:n,modal:l,children:r})})};_R.displayName=Og;var NR="DropdownMenuTrigger",SR=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...a}=e,i=jR(NR,r),o=En(r);return s.jsx(pW,{asChild:!0,...o,children:s.jsx(Ie.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...a,ref:ti(t,i.triggerRef),onPointerDown:Ce(e.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:Ce(e.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});SR.displayName=NR;var RW="DropdownMenuPortal",CR=e=>{const{__scopeDropdownMenu:t,...r}=e,n=En(t);return s.jsx(gW,{...n,...r})};CR.displayName=RW;var kR="DropdownMenuContent",ER=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=jR(kR,r),i=En(r),o=f.useRef(!1);return s.jsx(vW,{id:a.contentId,"aria-labelledby":a.triggerId,...i,...n,ref:t,onCloseAutoFocus:Ce(e.onCloseAutoFocus,l=>{var c;o.current||(c=a.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:Ce(e.onInteractOutside,l=>{const c=l.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0,u=c.button===2||d;(!a.modal||u)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});ER.displayName=kR;var MW="DropdownMenuGroup",AW=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=En(r);return s.jsx(xW,{...a,...n,ref:t})});AW.displayName=MW;var OW="DropdownMenuLabel",PR=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=En(r);return s.jsx(yW,{...a,...n,ref:t})});PR.displayName=OW;var DW="DropdownMenuItem",TR=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=En(r);return s.jsx(wW,{...a,...n,ref:t})});TR.displayName=DW;var IW="DropdownMenuCheckboxItem",RR=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=En(r);return s.jsx(bW,{...a,...n,ref:t})});RR.displayName=IW;var FW="DropdownMenuRadioGroup",LW=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=En(r);return s.jsx(jW,{...a,...n,ref:t})});LW.displayName=FW;var $W="DropdownMenuRadioItem",MR=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=En(r);return s.jsx(_W,{...a,...n,ref:t})});MR.displayName=$W;var zW="DropdownMenuItemIndicator",AR=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=En(r);return s.jsx(NW,{...a,...n,ref:t})});AR.displayName=zW;var UW="DropdownMenuSeparator",OR=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=En(r);return s.jsx(SW,{...a,...n,ref:t})});OR.displayName=UW;var BW="DropdownMenuArrow",qW=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=En(r);return s.jsx(CW,{...a,...n,ref:t})});qW.displayName=BW;var VW="DropdownMenuSubTrigger",DR=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=En(r);return s.jsx(kW,{...a,...n,ref:t})});DR.displayName=VW;var WW="DropdownMenuSubContent",IR=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=En(r);return s.jsx(EW,{...a,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});IR.displayName=WW;var HW=_R,KW=SR,GW=CR,FR=ER,LR=PR,$R=TR,zR=RR,UR=MR,BR=AR,qR=OR,VR=DR,WR=IR;const Zi=HW,Ji=KW,YW=f.forwardRef(({className:e,inset:t,children:r,...n},a)=>s.jsxs(VR,{ref:a,className:le("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...n,children:[r,s.jsx(Vw,{className:"ml-auto h-4 w-4"})]}));YW.displayName=VR.displayName;const QW=f.forwardRef(({className:e,...t},r)=>s.jsx(WR,{ref:r,className:le("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));QW.displayName=WR.displayName;const Ya=f.forwardRef(({className:e,sideOffset:t=4,...r},n)=>s.jsx(GW,{children:s.jsx(FR,{ref:n,sideOffset:t,className:le("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));Ya.displayName=FR.displayName;const ur=f.forwardRef(({className:e,inset:t,...r},n)=>s.jsx($R,{ref:n,className:le("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...r}));ur.displayName=$R.displayName;const XW=f.forwardRef(({className:e,children:t,checked:r,...n},a)=>s.jsxs(zR,{ref:a,className:le("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...n,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(BR,{children:s.jsx(ds,{className:"h-4 w-4"})})}),t]}));XW.displayName=zR.displayName;const ZW=f.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(UR,{ref:n,className:le("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(BR,{children:s.jsx(D3,{className:"h-2 w-2 fill-current"})})}),t]}));ZW.displayName=UR.displayName;const JW=f.forwardRef(({className:e,inset:t,...r},n)=>s.jsx(LR,{ref:n,className:le("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));JW.displayName=LR.displayName;const ym=f.forwardRef(({className:e,...t},r)=>s.jsx(qR,{ref:r,className:le("-mx-1 my-1 h-px bg-muted",e),...t}));ym.displayName=qR.displayName;var Dg="Tabs",[eH,uQ]=kn(Dg,[Rg]),HR=Rg(),[tH,Gb]=eH(Dg),KR=f.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:a,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...d}=e,u=Kf(l),[h,m]=va({prop:n,onChange:a,defaultProp:i??"",caller:Dg});return s.jsx(tH,{scope:r,baseId:Zr(),value:h,onValueChange:m,orientation:o,dir:u,activationMode:c,children:s.jsx(Ie.div,{dir:u,"data-orientation":o,...d,ref:t})})});KR.displayName=Dg;var GR="TabsList",YR=f.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...a}=e,i=Gb(GR,r),o=HR(r);return s.jsx(XT,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:n,children:s.jsx(Ie.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:t})})});YR.displayName=GR;var QR="TabsTrigger",XR=f.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:a=!1,...i}=e,o=Gb(QR,r),l=HR(r),c=eM(o.baseId,n),d=tM(o.baseId,n),u=n===o.value;return s.jsx(ZT,{asChild:!0,...l,focusable:!a,active:u,children:s.jsx(Ie.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":d,"data-state":u?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...i,ref:t,onMouseDown:Ce(e.onMouseDown,h=>{!a&&h.button===0&&h.ctrlKey===!1?o.onValueChange(n):h.preventDefault()}),onKeyDown:Ce(e.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(n)}),onFocus:Ce(e.onFocus,()=>{const h=o.activationMode!=="manual";!u&&!a&&h&&o.onValueChange(n)})})})});XR.displayName=QR;var ZR="TabsContent",JR=f.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:a,children:i,...o}=e,l=Gb(ZR,r),c=eM(l.baseId,n),d=tM(l.baseId,n),u=n===l.value,h=f.useRef(u);return f.useEffect(()=>{const m=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(m)},[]),s.jsx(rn,{present:a||u,children:({present:m})=>s.jsx(Ie.div,{"data-state":u?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:d,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:h.current?"0s":void 0},children:m&&i})})});JR.displayName=ZR;function eM(e,t){return`${e}-trigger-${t}`}function tM(e,t){return`${e}-content-${t}`}var rH=KR,rM=YR,nM=XR,sM=JR;const Cd=rH,oo=f.forwardRef(({className:e,...t},r)=>s.jsx(rM,{ref:r,className:le("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));oo.displayName=rM.displayName;const zr=f.forwardRef(({className:e,...t},r)=>s.jsx(nM,{ref:r,className:le("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));zr.displayName=nM.displayName;const Yr=f.forwardRef(({className:e,...t},r)=>s.jsx(sM,{ref:r,className:le("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Yr.displayName=sM.displayName;const Yl=24;function aM(){var d,u;const{user:e}=ar(),[t,r]=f.useState("seguindo"),n=f.useRef(null),a=f.useRef(null),i=js({queryKey:["mini-following",e==null?void 0:e.id],enabled:!!(e!=null&&e.id),initialPageParam:0,getNextPageParam:(h,m)=>h.hasMore?m.length:void 0,queryFn:async({pageParam:h})=>{const p=(Number(h)||0)*Yl,w=p+Yl-1,{data:v,error:g}=await $.from("follows").select("followee_id").eq("follower_id",e.id).order("created_at",{ascending:!1}).range(p,w);if(g)throw g;const y=(v||[]).map(S=>S.followee_id);if(y.length===0)return{rows:[],hasMore:!1};const{data:x,error:b}=await $.from("profiles").select("id, display_name, avatar_url").in("id",y).eq("is_active",!0).eq("is_blocked",!1);if(b)throw b;const _=new Map((x||[]).map(S=>[S.id,S])),N=y.map(S=>_.get(S)).filter(Boolean),P=(v||[]).length===Yl;return{rows:N,hasMore:P}}}),o=f.useMemo(()=>{var h;return(((h=i.data)==null?void 0:h.pages)||[]).flatMap(m=>m.rows)},[(d=i.data)==null?void 0:d.pages]),l=js({queryKey:["mini-followers",e==null?void 0:e.id],enabled:!!(e!=null&&e.id),initialPageParam:0,getNextPageParam:(h,m)=>h.hasMore?m.length:void 0,queryFn:async({pageParam:h})=>{const p=(Number(h)||0)*Yl,w=p+Yl-1,{data:v,error:g}=await $.from("follows").select("follower_id").eq("followee_id",e.id).order("created_at",{ascending:!1}).range(p,w);if(g)throw g;const y=(v||[]).map(S=>S.follower_id);if(y.length===0)return{rows:[],hasMore:!1};const{data:x,error:b}=await $.from("profiles").select("id, display_name, avatar_url").in("id",y).eq("is_active",!0).eq("is_blocked",!1);if(b)throw b;const _=new Map((x||[]).map(S=>[S.id,S])),N=y.map(S=>_.get(S)).filter(Boolean),P=(v||[]).length===Yl;return{rows:N,hasMore:P}}}),c=f.useMemo(()=>{var h;return(((h=l.data)==null?void 0:h.pages)||[]).flatMap(m=>m.rows)},[(u=l.data)==null?void 0:u.pages]);return f.useEffect(()=>{const h=n.current;if(!h||t!=="seguindo")return;const m=new IntersectionObserver(p=>{p[0].isIntersecting&&i.hasNextPage&&!i.isFetchingNextPage&&i.fetchNextPage()});return m.observe(h),()=>m.disconnect()},[t,i.hasNextPage,i.isFetchingNextPage]),f.useEffect(()=>{const h=a.current;if(!h||t!=="seguidores")return;const m=new IntersectionObserver(p=>{p[0].isIntersecting&&l.hasNextPage&&!l.isFetchingNextPage&&l.fetchNextPage()});return m.observe(h),()=>m.disconnect()},[t,l.hasNextPage,l.isFetchingNextPage]),e!=null&&e.id?s.jsx("div",{className:"mt-2",children:s.jsxs(Cd,{value:t,onValueChange:h=>r(h),className:"w-full",children:[s.jsxs(oo,{className:"grid w-full grid-cols-2",children:[s.jsx(zr,{value:"seguindo",children:"Seguindo"}),s.jsx(zr,{value:"seguidores",children:"Seguidores"})]}),s.jsxs("div",{className:"p-2",children:[s.jsxs(Yr,{value:"seguindo",className:"mt-0",children:[i.isLoading?s.jsx("p",{className:"text-sm text-muted-foreground",children:"Carregando..."}):o.length===0?s.jsx("p",{className:"text-sm text-muted-foreground",children:"Você ainda não segue ninguém."}):s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:o.map(h=>{const m=h.display_name||"Usuário";return s.jsxs(Yt,{to:`/m/${h.id}`,className:"flex items-center gap-3 rounded-md p-2 hover:bg-muted/50",children:[s.jsxs(Dt,{className:"h-8 w-8 shrink-0",isPro:!!h.is_pro,children:[s.jsx(It,{src:h.avatar_url||void 0,alt:m}),s.jsx(Ft,{children:m.charAt(0).toUpperCase()})]}),s.jsx("div",{className:"min-w-0",children:s.jsx("p",{className:"text-sm font-medium truncate",children:m})})]},h.id)})}),s.jsx("div",{ref:n,className:"h-6"}),i.isFetchingNextPage&&s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Carregando mais..."})]}),s.jsxs(Yr,{value:"seguidores",className:"mt-0",children:[l.isLoading?s.jsx("p",{className:"text-sm text-muted-foreground",children:"Carregando..."}):c.length===0?s.jsx("p",{className:"text-sm text-muted-foreground",children:"Nenhum seguidor ainda."}):s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:c.map(h=>{const m=h.display_name||"Usuário";return s.jsxs(Yt,{to:`/m/${h.id}`,className:"flex items-center gap-3 rounded-md p-2 hover:bg-muted/50",children:[s.jsxs(Dt,{className:"h-8 w-8 shrink-0",isPro:!!h.is_pro,children:[s.jsx(It,{src:h.avatar_url||void 0,alt:m}),s.jsx(Ft,{children:m.charAt(0).toUpperCase()})]}),s.jsx("div",{className:"min-w-0",children:s.jsx("p",{className:"text-sm font-medium truncate",children:m})})]},h.id)})}),s.jsx("div",{ref:a,className:"h-6"}),l.isFetchingNextPage&&s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Carregando mais..."})]})]})]})}):null}const nH={API_BASE_URL:"https://api.veepag.com/v1",DEFAULT_COMPANY_ID:"689ba2287d1aefb263b1cdc6",ENDPOINTS:{TRANSACTION:"/transaction/",TRANSACTION_STATUS:e=>`/transaction/${e}`,TRANSACTION_CANCEL:e=>`/transaction/${e}/cancel`},DEFAULTS:{PAYMENT_EXPIRY:3600,POLLING_INTERVAL:3e4,QR_CODE_SIZE:200},PAYMENT_STATUS:{PENDING:"pending",PAID:"paid",EXPIRED:"expired",CANCELLED:"cancelled",FAILED:"failed"},PAYMENT_METHODS:{PIX:"pix"},VALIDATIONS:{MIN_AMOUNT:1,MAX_AMOUNT:1e6,MAX_DESCRIPTION_LENGTH:255,MAX_CUSTOMER_NAME_LENGTH:100,MAX_CUSTOMER_EMAIL_LENGTH:100,MAX_CUSTOMER_DOCUMENT_LENGTH:20,MAX_CUSTOMER_PHONE_LENGTH:20},ERROR_MESSAGES:{INVALID_API_KEY:"Chave da API Veepag não configurada",INVALID_AMOUNT:"Valor inválido para o pagamento",INVALID_DESCRIPTION:"Descrição inválida para o pagamento",INVALID_CUSTOMER_NAME:"Nome do cliente é obrigatório",INVALID_EXTERNAL_ID:"ID externo é obrigatório",TRANSACTION_NOT_FOUND:"Transação não encontrada",TRANSACTION_ALREADY_PAID:"Transação já foi paga",TRANSACTION_EXPIRED:"Transação expirada",TRANSACTION_CANCELLED:"Transação cancelada",TRANSACTION_FAILED:"Transação falhou",NETWORK_ERROR:"Erro de conexão com a API",UNKNOWN_ERROR:"Erro desconhecido"},DEFAULT_HEADERS:{"Content-Type":"application/json",Accept:"application/json"},TIMEOUTS:{REQUEST:3e4,POLLING:3e4},RETRY:{MAX_ATTEMPTS:3,DELAY:1e3,BACKOFF_MULTIPLIER:2}};class sH{constructor(){mh(this,"apiKey");mh(this,"baseURL");mh(this,"companyId");if(this.apiKey="8LPLznUsyRwxIlo5SH5wG0HDBxDTD7awgieoZVoSwjmHJcL32MlUuLwXnvCUjZjF",this.companyId="689ba2287d1aefb263b1cdc6",this.baseURL="https://api.veepag.com/v1",!this.apiKey)throw new Error("VEEPAG_API_KEY não configurada nas variáveis de ambiente");this.companyId||(console.warn("VEEPAG_COMPANY_ID não configurado, usando valor padrão"),this.companyId=nH.DEFAULT_COMPANY_ID)}async createTransaction(t){try{const r={companyId:this.companyId,amount:1,paymentMethod:t.paymentMethod},n=`${this.baseURL}/transaction/`,a={"Content-Type":"application/json",Authorization:`key ${this.apiKey}`,apikey:this.apiKey},i=await fetch(n,{method:"POST",headers:a,body:JSON.stringify(r)}),o=await i.text();let l=null;try{l=o?JSON.parse(o):null}catch{}if(!i.ok){const c=l&&(l.message||l.error)||i.statusText||"Erro desconhecido";throw new Error(`Erro na API Veepag: ${i.status} - ${c}`)}return l}catch(r){throw console.error("Erro ao criar transação Veepag:",r),r}}async getTransactionStatus(t){try{const r=`${this.baseURL}/transaction/${t}`,n={Authorization:`key ${this.apiKey}`,apikey:this.apiKey},a=await fetch(r,{method:"GET",headers:n}),i=await a.text();let o=null;try{o=i?JSON.parse(i):null}catch{}if(!a.ok){const l=o&&(o.message||o.error)||a.statusText||"Erro desconhecido";throw new Error(`Erro na API Veepag: ${a.status} - ${l}`)}return o}catch(r){throw console.error("Erro ao consultar transação Veepag:",r),r}}async cancelTransaction(t){try{const r=`${this.baseURL}/transaction/cancel/`,n={"Content-Type":"application/json",apikey:this.apiKey,Authorization:`key ${this.apiKey}`},a={companyId:this.companyId,cancelSubscription:!1,transactionId:t},i=await fetch(r,{method:"PUT",headers:n,body:JSON.stringify(a)}),o=await i.text();let l=null;try{l=o?JSON.parse(o):null}catch{}if(!i.ok){const c=l&&(l.message||l.error)||i.statusText||"Erro desconhecido";throw new Error(`Erro na API Veepag: ${i.status} - ${c}`)}return l}catch(r){throw console.error("Erro ao cancelar transação Veepag:",r),r}}generateQRCode(t){return`https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=${encodeURIComponent(t)}`}validateWebhookPayload(t){try{return!t.id||!t.companyId||!t.status||!t.amount?(console.error("Payload do webhook inválido:",t),null):t}catch(r){return console.error("Erro ao validar payload do webhook:",r),null}}}const iM=new sH,aH=()=>{const[e,t]=f.useState(!1),[r,n]=f.useState(null);return{createPayment:async i=>{t(!0),n(null);try{return await iM.createTransaction({amount:i,paymentMethod:"PIX"})}catch(o){const l=o instanceof Error?o.message:"Erro desconhecido";throw n(l),o}finally{t(!1)}},loading:e,error:r}},HN=e=>typeof e=="number"&&!Number.isNaN(e)?e.toLocaleString("pt-BR",{style:"currency",currency:"BRL"}):"",iH=({current:e,onStep:t,canGoTo:r})=>{const n=[{id:1,label:"Música"},{id:2,label:"Dedicatória"},{id:3,label:"Contribuição"}];return s.jsx("div",{className:"mb-3",children:s.jsx("div",{className:"flex items-center justify-center gap-8",children:n.map(a=>s.jsx("button",{type:"button",onClick:()=>r(a.id)&&t(a.id),className:"group","aria-current":e===a.id?"step":void 0,children:s.jsx("div",{className:`w-16 h-0.5 rounded-full transition-all duration-300 ${e>=a.id?"bg-gray-500":"bg-muted-foreground/20"}`})},a.id))})})},oM=({mid:e,initialView:t}={})=>{var Xj,Zj,Jj,e1,t1;const r=fb(),n=e||r.mid,a=r==null?void 0:r.section,i=Or(),o=ll(),{resolvedTheme:l}=is(),[c,d]=f.useState(1),[u,h]=f.useState(null),[m,p]=f.useState(""),[w,v]=f.useState(""),[g,y]=f.useState(""),[x,b]=f.useState(""),[_,N]=f.useState(""),[P,S]=f.useState(0),[T,U]=f.useState(!1),[q,re]=f.useState(!1),[G,H]=f.useState(null),[V,se]=f.useState(!0),[ee,J]=f.useState(!1),[I,D]=f.useState(2),[C,E]=f.useState(null),[A,Y]=f.useState(!1),[k,z]=f.useState(!1),[ne,Q]=f.useState(""),[R,L]=f.useState("");f.useState(!1);const[Z,ue]=f.useState(null),[_e,me]=f.useState(!1),[xe,Ge]=f.useState(null),[_t,Ot]=f.useState(null),[Ct,$t]=f.useState("");f.useEffect(()=>{if(!Ct)return;const j=$.channel(`pi-${Ct}`).on("postgres_changes",{event:"UPDATE",schema:"public",table:"payment_intents",filter:`provider_tx_id=eq.${Ct}`},M=>{const W=M.new,ge=String((W==null?void 0:W.status)||"").toUpperCase();(ge.includes("PAID")||ge.includes("APPROV"))&&(re(!0),fe().catch(()=>{}),me(!1))}).subscribe();return()=>{try{$.removeChannel(j)}catch{}}},[Ct]);const[B,te]=f.useState(!1),ce=f.useRef(null),be=f.useRef(null),we="ava_requester_name",pe=j=>{p(j);try{localStorage.setItem(we,j)}catch{}},Se=f.useRef(!1),Ue=f.useRef(null),fe=()=>Ue.current?Ue.current:Se.current?Promise.resolve():(Se.current=!0,Ue.current=tO().catch(j=>{throw Se.current=!1,Ue.current=null,j}).then(()=>{}),Ue.current),{createPayment:We,loading:vt,error:et}=aH();f.useEffect(()=>{c===2&&(N(""),S(0),re(!1),U(!1),Se.current=!1,Ue.current=null,se(!0),Q(""),L(""),ue(null),me(!1),Ge(null))},[c]);const kt=async()=>{if(!x){oe({title:"Valor obrigatório",description:"Digite um valor para a contribuição.",variant:"destructive"});return}try{const j=Math.round(Number(x.replace(/[^0-9,.-]/g,"").replace(",","."))*100),M=j/100;if(j<=0){oe({title:"Valor inválido",description:"Digite um valor válido para a contribuição.",variant:"destructive"});return}try{const ve=localStorage.getItem("anon_free_requests_count"),Ne=ve?Number(ve):0;if(!X&&Ne>=3&&!(M>=5)){E("Você atingiu o limite de 3 pedidos gratuitos. Para continuar, contribua com valor de R$ 5,00 ou mais."),z(!0);return}}catch{}const W=await We(j),ge=W&&(W.pixCode||W.pix_code||W.emv||W.payload)||W&&W.qrCode&&(W.qrCode.text||W.qrCode.payload);if(ge){Q(ge),L(W._id),$t(W._id),ue(null),me(!1),Ot((W==null?void 0:W.companyId)||"689ba2287d1aefb263b1cdc6");try{const Ne=(await $.auth.getUser()).data.user;await $.from("payment_intents").insert({provider:"veepag",provider_tx_id:W._id,musician_id:n||null,user_id:(Ne==null?void 0:Ne.id)||null,request_id:G||null,amount_cents:j,status:"pending"})}catch{}N(ge),D(3),S(420),se(!1)}else throw new Error("Resposta da Veepag não contém QR Code válido")}catch(j){const M=j instanceof Error?j.message:"Erro ao gerar PIX";ue(M)}};f.useEffect(()=>{c===2&&ce.current&&ce.current.focus()},[c]),f.useEffect(()=>{c===3&&be.current&&be.current.focus()},[c]),f.useEffect(()=>{if(!_||P<=0)return;const j=setInterval(()=>{S(M=>M>0?M-1:0)},1e3);return()=>clearInterval(j)},[_,P]),f.useEffect(()=>{_&&P===0&&!q&&!T&&(async()=>{try{U(!0),re(!1),me(!0),o&&ee?(N(""),se(!0),D(3),E("O tempo do PIX expirou. Gere um novo PIX."),z(!0),setTimeout(()=>{var j;return(j=be.current)==null?void 0:j.focus()},0)):o||(N(""),se(!0),d(3),E("O tempo do PIX expirou. Gere um novo PIX."),z(!0),setTimeout(()=>{var j;return(j=be.current)==null?void 0:j.focus()},0))}catch{}finally{U(!1)}})()},[P,_,q,T]),f.useEffect(()=>{if(ee&&q&&I===3){if(!Se.current)return;oa({particleCount:140,spread:70,origin:{y:.6},colors:["#10B981","#34D399","#86EFAC"]}),N(""),D(4)}},[q,ee,I]),f.useEffect(()=>{if(!ee&&q&&c===3){if(!Se.current)return;oa({particleCount:140,spread:70,origin:{y:.6},colors:["#10B981","#34D399","#86EFAC"]}),N(""),d(4)}},[q,ee,c]),f.useEffect(()=>{var j;if(ee&&I===2){if(!m){const M=((j=X==null?void 0:X.user_metadata)==null?void 0:j.full_name)||(()=>{try{return localStorage.getItem(we)||""}catch{return""}})(),W=M?String(M).split(" ")[0]:"";W&&p(W)}ce.current&&ce.current.focus()}},[ee,I]),f.useEffect(()=>{ee&&I===3&&be.current&&be.current.focus()},[ee,I]);const[qt,ir]=f.useState(!0),[F,ae]=f.useState(""),[ye,Pe]=f.useState(!1),nt=j=>{const M=String(j||"").toLowerCase();if(["pedir-musica","musicas"].includes(M))return"music";if(M==="agenda")return"schedule";if(["fotos","galeria"].includes(M))return"photos";if(["contratar","contrato"].includes(M))return"contract";if(["contribuir","contribuicao"].includes(M))return"contribute"},st=nt(a),[$e,wr]=f.useState(st||t||"music");f.useEffect(()=>{const j=nt(a);j&&j!==$e&&wr(j)},[a]),f.useEffect(()=>{t&&t!==$e&&wr(t)},[t]);const Cr=j=>{switch(j){case"music":return"pedir-musica";case"schedule":return"agenda";case"photos":return"fotos";case"contract":return"contratar";case"contribute":return"contribuir"}},Re=j=>{wr(j),Pe(j==="schedule");const M=r==null?void 0:r.username;M&&i(`/${M}/${Cr(j)}`)},[ke,qe]=f.useState(!1),[Ye,ut]=f.useState(80),[xt,yt]=f.useState(!1),[ie,He]=f.useState(!1),ze=f.useRef(null),pt=f.useRef(null);f.useEffect(()=>{o&&(F.trim()?te(!0):te(!1))},[o,F]);const[ot,Nt]=f.useState(""),[dr,Vr]=f.useState(!1),[kr,nn]=f.useState(1),hn=10,[Mt,_a]=f.useState(null),{user:X}=ar(),[Na,mn]=f.useState(!1),Ed=((Xj=X==null?void 0:X.user_metadata)==null?void 0:Xj.full_name)||(X==null?void 0:X.email)||"Usuário",Gg=((Zj=X==null?void 0:X.user_metadata)==null?void 0:Zj.avatar_url)||void 0,[Pl,Jf]=f.useState({}),[Jt,Pd]=f.useState({}),{data:Vn,isLoading:pA}=Ze({queryKey:["public-musician-photos",n],enabled:!!n,queryFn:async()=>{const{data:j,error:M}=await $.from("musician_photos").select("id, grid_url, full_url, description, created_at").eq("musician_id",n).eq("is_public",!0).order("created_at",{ascending:!1});if(M)throw M;return j||[]}});f.useEffect(()=>{(async()=>{if(!Vn||Vn.length===0){dj({}),uj({});return}const M=Vn.map(W=>W.id);try{const[W,ge]=await Promise.all([$.from("photo_likes").select("photo_id").in("photo_id",M),$.from("photo_comments").select("photo_id").in("photo_id",M)]),ve={};(W.data||[]).forEach(Et=>{ve[Et.photo_id]=(ve[Et.photo_id]||0)+1});const Ne={};(ge.data||[]).forEach(Et=>{Ne[Et.photo_id]=(Ne[Et.photo_id]||0)+1}),dj(ve),uj(Ne)}catch{}})()},[Vn]);const[Be,eh]=f.useState(null),[th,rh]=f.useState(0),[Sa,Yg]=f.useState(!1),[nh,dj]=f.useState({}),[Tl,uj]=f.useState({}),[gA,fj]=f.useState(!1),[vA,hj]=f.useState(!1),[mj,pj]=f.useState([]),[gj,vj]=f.useState([]),[Qg,Td]=f.useState({}),[xA,xj]=f.useState(!1),[ls,Xg]=f.useState([]),[yj,Zg]=f.useState(null),[yA,Rd]=f.useState(null),[Jg,wA]=f.useState({}),wj=10,[bj,jj]=f.useState(0),[sh,ah]=f.useState(!1),_j=f.useMemo(()=>{var j;return((j=ls.find(M=>M.user_id===(X==null?void 0:X.id)))==null?void 0:j.id)||null},[ls,X==null?void 0:X.id]),[ih,Md]=f.useState(""),[ev,So]=f.useState(""),[tv,oh]=f.useState({}),[bA,Nj]=f.useState({}),[jA,Ad]=f.useState(!1),[Od,rv]=f.useState(null),[Sj,lh]=f.useState(""),[_A,nv]=f.useState(!1),Dd=f.useRef(null),sv=f.useRef(null),NA=()=>{if(nv(!0),te(!0),!!o)try{const j=()=>{var M,W,ge,ve;try{(M=Dd.current)==null||M.focus();const Ne=(((W=Dd.current)==null?void 0:W.value)||"").length;(ve=(ge=Dd.current)==null?void 0:ge.setSelectionRange)==null||ve.call(ge,Ne,Ne)}catch{}};requestAnimationFrame(j),setTimeout(j,120),setTimeout(j,300)}catch{}};f.useEffect(()=>{if(!o)return;const j=()=>{try{const W=sv.current;if(!W)return;const ge=W.getBoundingClientRect();ut(Math.max(0,Math.round(ge.top+window.scrollY)))}catch{}};j(),window.addEventListener("resize",j);const M=setTimeout(j,200);return()=>{window.removeEventListener("resize",j),clearTimeout(M)}},[o,$e]);const Co=o&&$e==="music"&&(!!(F!=null&&F.trim())||B);f.useState(null);function ch(j){if(!j)return"";const M=Date.now(),W=new Date(j).getTime(),ge=Math.max(0,M-W),ve=Math.floor(ge/1e3);if(ve<60)return`${ve}s`;const Ne=Math.floor(ve/60);if(Ne<60)return`${Ne}m`;const Et=Math.floor(Ne/60);if(Et<24)return`${Et}h`;const Wt=Math.floor(Et/24);if(Wt<7)return`${Wt}d`;const Vt=Math.floor(Wt/7);if(Vt<4)return`${Vt}sem`;const Dr=Math.floor(Wt/30);return Dr<12?`${Dr}m`:`${Math.floor(Wt/365)}a`}function SA({description:j}){const[M,W]=f.useState(!1);if(!ll())return s.jsx("p",{className:"text-sm text-foreground",children:j});const ve=j.length>100;return s.jsx("div",{className:"text-sm text-foreground",children:!M&&ve?s.jsxs(s.Fragment,{children:[j.slice(0,100),"..."," ",s.jsx("button",{onClick:()=>W(!M),className:"text-xs text-primary hover:text-primary/80",children:"Ver mais"})]}):s.jsxs(s.Fragment,{children:[j,ve&&s.jsxs(s.Fragment,{children:[" ",s.jsx("button",{onClick:()=>W(!M),className:"text-xs text-primary hover:text-primary/80",children:"Ver menos"})]})]})})}f.useEffect(()=>{var j;if(c===2&&!m){const M=((j=X==null?void 0:X.user_metadata)==null?void 0:j.full_name)||(()=>{try{return localStorage.getItem(we)||""}catch{return""}})(),W=M?String(M).split(" ")[0]:"";W&&p(W)}},[c,m,(Jj=X==null?void 0:X.user_metadata)==null?void 0:Jj.full_name]),f.useEffect(()=>{var M;if(!m&&((M=X==null?void 0:X.user_metadata)!=null&&M.full_name)){const W=String(X.user_metadata.full_name).split(" ")[0]||"";W&&p(W)}(async()=>{if(Be!=null&&Be.id)try{const[{count:W},ge]=await Promise.all([$.from("photo_likes").select("*",{count:"exact",head:!0}).eq("photo_id",Be.id),X!=null&&X.id?$.from("photo_likes").select("id").eq("photo_id",Be.id).eq("user_id",X.id).maybeSingle():Promise.resolve({data:null,error:null})]);rh(W||0),Yg(!!(ge!=null&&ge.data)),await Promise.all([Cj(),av()])}catch{}})()},[Be==null?void 0:Be.id,X==null?void 0:X.id]);const Cj=async()=>{if(Be!=null&&Be.id){ah(!0);try{const{data:j,error:M,count:W}=await $.from("photo_comments").select("id, user_id, content, reply_text, replied_by, created_at",{count:"exact"}).eq("photo_id",Be.id).order("created_at",{ascending:!0}).range(0,wj-1);if(M)throw M;Xg(j||[]),jj(W||0);const ge=(j||[]).find(Ne=>Ne.user_id===(X==null?void 0:X.id));Md(""),So(ge?ge.content:"");const ve=Array.from(new Set((j||[]).flatMap(Ne=>[Ne.user_id,Ne.replied_by].filter(Boolean))));ve.length&&await Ej(ve)}finally{ah(!1)}}},kj=async()=>{if(Be!=null&&Be.id&&!(ls.length>=bj)){ah(!0);try{const j=ls.length,M=j+wj-1,{data:W,error:ge}=await $.from("photo_comments").select("id, user_id, content, reply_text, replied_by, created_at").eq("photo_id",Be.id).order("created_at",{ascending:!0}).range(j,M);if(ge)throw ge;Xg(Ne=>[...Ne,...W||[]]);const ve=Array.from(new Set((W||[]).flatMap(Ne=>[Ne.user_id,Ne.replied_by].filter(Boolean))));ve.length&&await Ej(ve)}finally{ah(!1)}}},Ej=async j=>{const M=j.filter(Ne=>!Jg[Ne]);if(!M.length)return;const{data:W,error:ge}=await $.from("profiles").select("id, display_name, avatar_url, username").in("id",M);if(ge)return;const ve={};(W||[]).forEach(Ne=>{ve[Ne.id]={display_name:Ne.display_name||null,avatar_url:Ne.avatar_url||null,username:Ne.username||null}}),wA(Ne=>({...Ne,...ve}))},Id=async()=>{if(Be!=null&&Be.id)try{const[{count:j}]=await Promise.all([$.from("photo_likes").select("*",{count:"exact",head:!0}).eq("photo_id",Be.id)]);rh(j||0),await Promise.all([Cj(),av()])}catch{}},av=async()=>{if(Be!=null&&Be.id)try{const{data:j}=await $.from("photo_likes").select("user_id, created_at").eq("photo_id",Be.id).order("created_at",{ascending:!1}).limit(4),M=Array.from(new Set((j||[]).map(Ne=>Ne.user_id)));if(M.length===0){vj([]);return}const{data:W}=await $.from("profiles").select("id, avatar_url").in("id",M).eq("is_active",!0),ge=new Map((W||[]).map(Ne=>[Ne.id,Ne.avatar_url||null])),ve=M.map(Ne=>({id:Ne,avatar_url:ge.get(Ne)||null}));vj(ve)}catch{}},Pj=async()=>{if(!(Be!=null&&Be.id))return;if(!(X!=null&&X.id)){oe({title:"Entre para curtir",description:"Faça login para curtir fotos."});return}const j=Sa;Yg(!j),rh(M=>M+(j?-1:1));try{if(j){const{error:M}=await $.from("photo_likes").delete().eq("photo_id",Be.id).eq("user_id",X.id);if(M)throw M}else{const{error:M}=await $.from("photo_likes").insert({photo_id:Be.id,user_id:X.id});if(M)throw M}await av()}catch(M){Yg(j),rh(W=>W+(j?1:-1)),oe({title:"Erro ao curtir",description:M.message,variant:"destructive"})}},CA=async()=>{if(Be!=null&&Be.id){fj(!0),hj(!0);try{const{data:j,error:M}=await $.from("photo_likes").select("user_id").eq("photo_id",Be.id);if(M)throw M;const W=Array.from(new Set((j||[]).map(Et=>Et.user_id)));if(W.length===0){pj([]),Td({});return}const{data:ge,error:ve}=await $.from("profiles").select("id, display_name, avatar_url").in("id",W).eq("is_active",!0);if(ve)throw ve;const Ne=W.map(Et=>(ge||[]).find(Wt=>Wt.id===Et)).filter(Boolean);if(pj(Ne),X!=null&&X.id){const{data:Et}=await $.from("follows").select("followee_id").eq("follower_id",X.id).in("followee_id",W),Wt={};(Et||[]).forEach(Vt=>Wt[Vt.followee_id]=!0),Td(Wt)}else Td({})}catch{}finally{hj(!1)}}},kA=async j=>{if(!(X!=null&&X.id)){oe({title:"Entre para seguir",description:"Faça login para seguir usuários."});return}const M=!!Qg[j];Td(W=>({...W,[j]:!M}));try{if(M){const{error:W}=await $.from("follows").delete().eq("follower_id",X.id).eq("followee_id",j);if(W)throw W}else{const{error:W}=await $.from("follows").insert({follower_id:X.id,followee_id:j});if(W)throw W}}catch(W){Td(ge=>({...ge,[j]:M})),oe({title:"Erro ao atualizar seguimento",description:W.message,variant:"destructive"})}},iv=async()=>{if(!(Be!=null&&Be.id))return;if(!(X!=null&&X.id)){oe({title:"Entre para comentar",description:"Faça login para comentar fotos."});return}const j=ih.trim().slice(0,120);if(!j){oe({title:"Escreva um comentário"});return}try{const M=ls.find(W=>W.user_id===X.id);if(M){const{error:W}=await $.from("photo_comments").update({content:j}).eq("id",M.id);if(W)throw W;oe({title:"Comentário atualizado"}),So(j),Md("")}else{const{error:W}=await $.from("photo_comments").insert({photo_id:Be.id,user_id:X.id,content:j});if(W)throw W;oe({title:"Comentário enviado"}),Md("")}await Id()}catch(M){oe({title:"Erro ao comentar",description:M.message,variant:"destructive"})}},Tj=async()=>{if(!(Be!=null&&Be.id)||!(X!=null&&X.id))return;const j=ls.find(W=>W.user_id===X.id);if(!j)return;const M=ev.trim().slice(0,120);if(!M){oe({title:"Escreva um comentário"});return}try{const{error:W}=await $.from("photo_comments").update({content:M}).eq("id",j.id);if(W)throw W;oe({title:"Comentário atualizado"}),await Id(),Zg(null)}catch(W){oe({title:"Erro ao atualizar",description:W.message,variant:"destructive"})}},Rj=async()=>{if(!(Be!=null&&Be.id)||!(X!=null&&X.id))return;const j=ls.find(M=>M.user_id===X.id);if(j)try{const{error:M}=await $.from("photo_comments").delete().eq("id",j.id);if(M)throw M;oe({title:"Comentário removido"}),So(""),await Id()}catch(M){oe({title:"Erro ao remover",description:M.message,variant:"destructive"})}},Mj=async j=>{if(Be!=null&&Be.id)try{const{error:M}=await $.from("photo_comments").delete().eq("id",j);if(M)throw M;oe({title:"Comentário removido"}),Xg(W=>W.filter(ge=>ge.id!==j)),jj(W=>Math.max(0,W-1))}catch(M){oe({title:"Não foi possível remover",description:M.message,variant:"destructive"})}},ov=async j=>{if(!cs||!(X!=null&&X.id))return;const M=(tv[j]||"").trim().slice(0,120);if(!M){oe({title:"Escreva uma resposta"});return}try{const{error:W}=await $.from("photo_comments").update({reply_text:M,replied_by:X.id}).eq("id",j);if(W)throw W;oe({title:"Resposta publicada"}),oh(ge=>({...ge,[j]:""})),await Id()}catch(W){oe({title:"Erro ao responder",description:W.message,variant:"destructive"})}},EA=async j=>{if(!(!cs||!(X!=null&&X.id)))try{const{error:M}=await $.from("photo_comments").update({reply_text:null,replied_by:null}).eq("id",j);if(M)throw M;oe({title:"Resposta removida"}),await Id(),Rd(null)}catch(M){oe({title:"Erro ao remover resposta",description:M.message,variant:"destructive"})}},Aj=async()=>{if(Be!=null&&Be.id){if(!(X!=null&&X.id)){oe({title:"Entre para denunciar",description:"Faça login para denunciar."});return}rv({type:"photo",id:Be.id}),lh(""),Ad(!0)}},PA=async j=>{if(!(X!=null&&X.id)){oe({title:"Entre para denunciar",description:"Faça login para denunciar."});return}rv({type:"comment",id:j}),lh(""),Ad(!0)},TA=async()=>{if(!Od||!(X!=null&&X.id))return;const j=Sj.trim();if(!j){oe({title:"Informe um motivo"});return}try{const M={photo_id:Od.type==="photo"?Od.id:null,comment_id:Od.type==="comment"?Od.id:null,user_id:X.id,reason:j},{error:W}=await $.from("photo_reports").insert(M);if(W)throw W;oe({title:"Denúncia enviada"}),Ad(!1),rv(null),lh("")}catch(M){oe({title:"Erro ao denunciar",description:M.message,variant:"destructive"})}},RA=20,[Rl,Oj]=f.useState(1),[br,Dj]=f.useState(!1),Fd=f.useMemo(()=>br?30:RA,[br]),lv=10,[Ld,Ij]=f.useState(1),cv=f.useMemo(()=>(Ld-1)*lv,[Ld]),MA=f.useMemo(()=>cv+lv-1,[cv]),{data:de,refetch:ko,isLoading:Fj}=qT(n);if(f.useEffect(()=>{VT(n).catch(()=>{})},[n]),n&&!Fj&&!de)return s.jsx(ai,{children:s.jsx("div",{className:"min-h-screen flex w-full bg-background",children:s.jsxs("main",{className:"flex-1",children:[s.jsx(Xt,{title:"Perfil indisponível",description:"Este usuário não está disponível no momento."}),s.jsx("section",{className:"max-w-5xl mx-auto px-4 py-12",children:s.jsx(tt,{className:"border-0 shadow-none",children:s.jsxs(rt,{className:"p-6 text-center space-y-4",children:[s.jsx("h1",{className:"text-2xl font-semibold",children:"Usuário indisponível"}),s.jsx("p",{className:"text-muted-foreground",children:"No momento, este usuário não está disponível. Ele pode estar concluindo o cadastro ou ter desativado o perfil."}),s.jsx(O,{asChild:!0,children:s.jsx(Yt,{to:"/",children:"Voltar para a página inicial"})})]})})})]})})});const{data:AA}=Ze({queryKey:["followers-count",n],enabled:!!n,queryFn:async()=>{const{count:j,error:M}=await $.from("follows").select("*",{count:"exact",head:!0}).eq("followee_id",n).in("followee_id",((await $.from("profiles").select("id").eq("is_active",!0).eq("is_blocked",!1)).data||[]).map(W=>W.id));if(M)throw M;return j||0}}),{data:OA}=Ze({queryKey:["public-requests-count",n],enabled:!!n,queryFn:async()=>{const{count:j,error:M}=await $.from("requests").select("*",{count:"exact",head:!0}).eq("musician_id",n);if(M)throw M;return j||0}}),{data:Ss,isLoading:qY}=Ze({queryKey:["public-following",n,Ld],enabled:!!n,queryFn:async()=>{const{data:j,error:M,count:W}=await $.from("follows").select("followee_id",{count:"exact"}).eq("follower_id",n).order("created_at",{ascending:!1}).range(cv,MA);if(M)throw M;const ge=(j||[]).map(Vt=>Vt.followee_id);if(ge.length===0)return{rows:[],count:W||0};const{data:ve,error:Ne}=await $.from("profiles").select("id, display_name, avatar_url").in("id",ge).eq("is_active",!0);if(Ne)throw Ne;const Et=new Map((ve||[]).map(Vt=>[Vt.id,Vt]));return{rows:ge.map(Vt=>Et.get(Vt)).filter(Boolean),count:W||0}}});f.useMemo(()=>Math.max(1,Math.ceil(((Ss==null?void 0:Ss.count)||0)/lv)),[Ss==null?void 0:Ss.count]);const[$d,Lj]=f.useState([]),[dv,$j]=f.useState(0);f.useEffect(()=>{Ss&&($j(Ss.count||0),Lj(j=>Ld===1?Ss.rows:[...j,...Ss.rows.filter(M=>!j.some(W=>W.id===M.id))]))},[Ss,Ld]),f.useEffect(()=>{Ij(1),Lj([]),$j(0)},[n]);const DA=$d.length<dv,[zj,VY]=f.useState({}),uv=10,[zd,Uj]=f.useState(1),fv=f.useMemo(()=>(zd-1)*uv,[zd]),IA=f.useMemo(()=>fv+uv-1,[fv]),{data:Cs,isLoading:WY}=Ze({queryKey:["public-followers",n,zd],enabled:!!n,queryFn:async()=>{const{data:j,error:M,count:W}=await $.from("follows").select("follower_id",{count:"exact"}).eq("followee_id",n).order("created_at",{ascending:!1}).range(fv,IA);if(M)throw M;const ge=(j||[]).map(Vt=>Vt.follower_id);if(ge.length===0)return{rows:[],count:W||0};const{data:ve,error:Ne}=await $.from("profiles").select("id, display_name, avatar_url").in("id",ge);if(Ne)throw Ne;const Et=new Map((ve||[]).map(Vt=>[Vt.id,Vt]));return{rows:ge.map(Vt=>Et.get(Vt)).filter(Boolean),count:W||0}}});f.useMemo(()=>Math.max(1,Math.ceil(((Cs==null?void 0:Cs.count)||0)/uv)),[Cs==null?void 0:Cs.count]);const[Ud,Bj]=f.useState([]),[hv,qj]=f.useState(0);f.useEffect(()=>{Cs&&(qj(Cs.count||0),Bj(j=>zd===1?Cs.rows:[...j,...Cs.rows.filter(M=>!j.some(W=>W.id===M.id))]))},[Cs,zd]),f.useEffect(()=>{Uj(1),Bj([]),qj(0)},[n]);const FA=Ud.length<hv,{data:Eo,refetch:LA,isLoading:Vj}=Ze({queryKey:["following-musician",X==null?void 0:X.id,n],enabled:!!(X!=null&&X.id)&&!!n,queryFn:async()=>{const{data:j,error:M}=await $.from("follows").select("id").eq("follower_id",X.id).eq("followee_id",n).maybeSingle();if(M)throw M;return!!j}}),{data:Ml}=Ze({queryKey:["genres"],queryFn:async()=>{const{data:j,error:M}=await $.from("genres").select("id, name").order("name");if(M)throw M;return j}}),{data:Al}=Ze({queryKey:["public-genre-visibility",n],enabled:!!n,queryFn:async()=>{const{data:j,error:M}=await $.from("genre_visibility").select("genre_id, is_public").eq("musician_id",n);if(M)throw M;const W=new Set;return(j||[]).forEach(ge=>{ge.is_public===!1&&W.add(ge.genre_id)}),W}}),{data:Wn,isLoading:dh}=Ze({queryKey:["songs-by-owner",n],enabled:!!n,queryFn:async()=>{try{const{data:j}=await $.from("catalog_visibility").select("is_public").eq("musician_id",n).maybeSingle();if(j&&j.is_public===!1)return[];const{data:M,error:W}=await $.from("songs").select("*").eq("owner_id",n).eq("is_public",!0);if(W)throw W;return M||[]}catch(j){if(String((j==null?void 0:j.message)||"").includes("is_public")){const{data:M}=await $.from("songs").select("*").eq("owner_id",n);return M||[]}throw j}}}),{data:Bd,isLoading:$A}=Ze({queryKey:["public-schedule",n],enabled:!!n,queryFn:async()=>{const{data:j,error:M}=await $.from("schedules").select("id, title, location, start_time").eq("musician_id",n).eq("is_public",!0).order("start_time",{ascending:!0});if(M)throw M;return j}}),Wj=f.useMemo(()=>{const j=Bd||[],M=ot.trim().toLowerCase(),W=M?j.filter(Et=>(Et.title||"").toLowerCase().includes(M)||(Et.location||"").toLowerCase().includes(M)):j;if(!Mt)return W;const ge=Mt.getFullYear(),ve=Mt.getMonth(),Ne=Mt.getDate();return W.filter(Et=>{const Wt=new Date(Et.start_time);return Wt.getFullYear()===ge&&Wt.getMonth()===ve&&Wt.getDate()===Ne})},[Bd,ot,Mt]);f.useEffect(()=>{nn(1)},[ot]),f.useEffect(()=>{if(!(Wn!=null&&Wn.length)){Jf({}),Pd({});return}const j=(Wn||[]).map(M=>M.id);(async()=>{try{const{data:M}=await $.from("song_likes").select("song_id").in("song_id",j),W={};if((M||[]).forEach(ge=>{W[ge.song_id]=(W[ge.song_id]||0)+1}),Jf(W),X!=null&&X.id){const{data:ge}=await $.from("song_likes").select("song_id").eq("user_id",X.id).in("song_id",j),ve={};(ge||[]).forEach(Ne=>{ve[Ne.song_id]=!0}),Pd(ve)}else Pd({})}catch{}})()},[Wn,X==null?void 0:X.id]);const zA=f.useMemo(()=>{var j;return(j=(Wn||[]).find(M=>!!M.cover_url))==null?void 0:j.cover_url},[Wn]),UA=(de==null?void 0:de.cover_url)||(de==null?void 0:de.avatar_url)||zA||"/placeholder.svg",BA=de==null?void 0:de.cover_position_mobile,qA=de==null?void 0:de.cover_position_desktop;f.useEffect(()=>{ko()},[n]);const cs=f.useMemo(()=>!!(X!=null&&X.id&&n&&X.id===n),[X==null?void 0:X.id,n]),{data:Hj}=Ze({queryKey:["roles",X==null?void 0:X.id],enabled:!!(X!=null&&X.id),queryFn:async()=>{const{data:j,error:M}=await $.from("user_roles").select("role").eq("user_id",X.id);if(M)throw M;return j}}),mv=f.useMemo(()=>(Hj||[]).some(j=>j.role==="musician"),[Hj]),uh=f.useMemo(()=>{const j=[],M=Dr=>(Dr||"").trim(),W=M(de==null?void 0:de.whatsapp),ge=M(de==null?void 0:de.instagram),ve=M(de==null?void 0:de.facebook),Ne=M(de==null?void 0:de.youtube),Et=M(de==null?void 0:de.spotify),Wt=Dr=>Dr.replace(/^@/,""),Vt=(Dr,Ca)=>Dr.startsWith("http")?Dr:`${Ca}${Wt(Dr)}`;if(W){const Dr=W.replace(/\D/g,""),Ca=W.startsWith("http")?W:Dr?`https://wa.me/${Dr}`:"";Ca&&j.push({key:"whatsapp",href:Ca,label:"WhatsApp",icon:$l})}return ge&&j.push({key:"instagram",href:Vt(ge,"https://instagram.com/"),label:"Instagram",icon:$3}),ve&&j.push({key:"facebook",href:Vt(ve,"https://facebook.com/"),label:"Facebook",icon:F3}),Ne&&j.push({key:"youtube",href:Vt(Ne,"https://youtube.com/"),label:"YouTube",icon:K3}),Et&&j.push({key:"spotify",href:Vt(Et,"https://open.spotify.com/"),label:"Spotify",icon:E7}),j},[de==null?void 0:de.whatsapp,de==null?void 0:de.instagram,de==null?void 0:de.facebook,de==null?void 0:de.youtube,de==null?void 0:de.spotify]),pv=f.useMemo(()=>{const j={};return(Wn||[]).forEach(M=>{const W=M.genre_id||"sem-genero";M.genre_id&&Al&&Al.has(M.genre_id)||(j[W]=j[W]||[],j[W].push(M))}),j},[Wn,Al]),Hn=f.useMemo(()=>Al?(Wn||[]).filter(j=>!j.genre_id||!Al.has(j.genre_id)):Wn||[],[Wn,Al]),gv=f.useMemo(()=>{const j=F.trim().toLowerCase();return j?(Hn||[]).filter(M=>M.title.toLowerCase().includes(j)||(M.artist||"").toLowerCase().includes(j)):Hn||[]},[Hn,F]);function VA({musicianId:j}){const{data:M}=Ze({queryKey:["public-show-types",j],enabled:!!j,queryFn:async()=>{try{const{data:W,error:ge}=await $.from("show_types").select("id, name, description, duration_hours, duration_minutes, cache_fee, is_public, show_cache, stage_map_url, technical_rider_url, promo_image_1_url, promo_image_2_url, show_type_genres(genre_id)").eq("musician_id",j).eq("is_public",!0).order("created_at",{ascending:!0});if(ge)throw ge;return W||[]}catch(W){const ge=String((W==null?void 0:W.message)||"").toLowerCase();if(ge.includes("is_public")||ge.includes("cache_fee")||ge.includes("show_cache")){const{data:ve}=await $.from("show_types").select("id, name, description, duration_hours, duration_minutes, stage_map_url, technical_rider_url, promo_image_1_url, promo_image_2_url, show_type_genres(genre_id)").eq("musician_id",j).order("created_at",{ascending:!0});return ve||[]}throw W}}});return!M||M.length===0?null:s.jsxs("section",{className:"mt-4 mb-14",children:[((de==null?void 0:de.responsible_name)||(de==null?void 0:de.responsible_whatsapp)||(de==null?void 0:de.whatsapp)||(de==null?void 0:de.description))&&s.jsxs("div",{className:"mb-3",children:[(de==null?void 0:de.responsible_name)&&s.jsxs("div",{className:"text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Responsável:"})," ",de.responsible_name]}),((de==null?void 0:de.responsible_whatsapp)||(de==null?void 0:de.whatsapp))&&s.jsx("div",{className:"mt-2",children:s.jsxs(O,{size:"sm",className:"bg-emerald-600 hover:bg-emerald-700 text-white",onClick:()=>{const W=((de==null?void 0:de.responsible_whatsapp)||(de==null?void 0:de.whatsapp)||"").replace(/\D/g,"");W&&window.open(`https://wa.me/${W}`,"_blank")},children:[s.jsx($l,{className:"h-4 w-4 mr-2"})," Abrir conversa"]})})]}),s.jsx("div",{className:"space-y-3 mt-10",children:M.map(W=>s.jsxs("div",{className:"p-0",children:[s.jsx("div",{className:"flex items-start gap-3",children:s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-medium text-lg",children:W.name}),typeof(W==null?void 0:W.cache_fee)=="number"&&((W==null?void 0:W.show_cache)??!0)?s.jsx("div",{className:"text-muted-foreground mt-1",children:(()=>{try{return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(W.cache_fee)}catch{return`R$ ${Number(W.cache_fee||0).toFixed(2)}`.replace(".",",")}})()}):null,W.description&&s.jsx("div",{className:"text-sm text-muted-foreground mt-1",children:W.description}),s.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:["Duração: ",W.duration_hours,"h",W.duration_minutes?` ${W.duration_minutes}min`:""]}),Array.isArray(W==null?void 0:W.show_type_genres)&&W.show_type_genres.length>0&&s.jsx("div",{className:"mt-2 flex flex-wrap gap-1",children:W.show_type_genres.map(ge=>{var ve;return(ve=(Ml||[]).find(Ne=>Ne.id===ge.genre_id))==null?void 0:ve.name}).filter(Boolean).map(ge=>s.jsx(Hr,{variant:"secondary",children:ge},`${W.id}-${ge}`))})]})}),s.jsxs("div",{className:"mt-3 grid grid-cols-1 sm:grid-cols-2 gap-3",children:[W.stage_map_url&&s.jsx(Kj,{label:"Mapa de Palco",url:W.stage_map_url}),W.technical_rider_url&&s.jsx(Kj,{label:"Rider Técnico",url:W.technical_rider_url}),W.promo_image_1_url&&s.jsx(Gj,{label:"Imagem de Divulgação 1",url:W.promo_image_1_url}),W.promo_image_2_url&&s.jsx(Gj,{label:"Imagem de Divulgação 2",url:W.promo_image_2_url})]}),s.jsx(Zo,{className:"my-4"})]},W.id))})]})}function WA({musicianId:j}){var a1,i1;const[M,W]=f.useState(""),[ge,ve]=f.useState(null),[Ne,Et]=f.useState(((a1=X==null?void 0:X.user_metadata)==null?void 0:a1.display_name)||""),[Wt,Vt]=f.useState(""),[Dr,Ca]=f.useState(0),[r1,qd]=f.useState(!1),[Il,wv]=f.useState(!1);f.useRef(null);const Vd=!X,[fh,n1]=f.useState(""),hh=f.useRef(!1),Fl=f.useRef(null),[s1,bv]=f.useState(!1);f.useEffect(()=>{if(!Wt||Il||Dr<=0)return;const er=setInterval(()=>{Ca(sn=>sn>0?sn-1:0)},1e3);return()=>clearInterval(er)},[Wt,Il,Dr]);const nO=()=>Fl.current?Fl.current:hh.current?Promise.resolve():(hh.current=!0,Fl.current=aO().catch(er=>{throw hh.current=!1,Fl.current=null,er}).then(()=>{}),Fl.current);f.useEffect(()=>{if(Vd&&!Ne)try{const er=localStorage.getItem(we);er&&Et(er)}catch{}},[Vd,Ne]);const sO=async()=>{if(!(de!=null&&de.pix_key)){oe({title:"Pix indisponível",description:"Este músico não cadastrou uma chave Pix."});return}const er=parseFloat((M||"0").replace(",",".")),sn=Vd?Ne.trim().length>0:!0;if(!er||er<=0){oe({title:"Informe um valor válido"});return}if(er<Dl){oe({title:"Valor mínimo",description:`A contribuição mínima é R$ ${Dl.toFixed(2).replace(".",",")}.`});return}if(!sn){oe({title:"Informe seu nome"});return}try{bv(!0);const Pn=Math.round(er*100),or=await iM.createTransaction({amount:Pn,paymentMethod:"PIX"}),jv=or&&(or.pixCode||or.pix_code||or.emv||or.payload)||(or==null?void 0:or.qrCode)&&(or.qrCode.text||or.qrCode.payload);if(!jv)throw new Error("Falha ao gerar PIX (payload ausente)");Vt(jv),n1((or==null?void 0:or._id)||"");try{const _v=(await $.auth.getUser()).data.user;await $.from("payment_intents").insert({provider:"veepag",provider_tx_id:or==null?void 0:or._id,musician_id:j||null,user_id:(_v==null?void 0:_v.id)||null,request_id:null,amount_cents:Pn,status:"pending"})}catch{}}catch(Pn){oe({title:"Erro ao gerar PIX",description:(Pn==null?void 0:Pn.message)||"Tente novamente."}),Vt(""),bv(!1);return}wv(!1),qd(!1),Ca(420),bv(!1)};async function aO(){var or;if(r1||Il)return;const er=parseFloat(M.replace(",","."));if(!er||er<=0){oe({title:"Informe um valor válido"});return}if(er<Dl){oe({title:"Valor mínimo",description:`A contribuição mínima é R$ ${Dl.toFixed(2).replace(".",",")}.`});return}const sn={musician_id:j,user_id:(X==null?void 0:X.id)||null,request_id:null,type:"contribution",amount:er,status:"approved",payment:"pix",requester_name:X?((or=X==null?void 0:X.user_metadata)==null?void 0:or.display_name)||null:Ne||null,message:null};qd(!0);const{error:Pn}=await $.from("transactions").insert(sn);if(Pn){oe({title:"Erro ao registrar contribuição",description:Pn.message}),qd(!1);return}ve(er),wv(!0),Vt(""),qd(!1),oe({title:"Transação confirmada",description:"Obrigado pela contribuição!"}),getComputedStyle(document.documentElement).getPropertyValue("--primary").trim(),oa({particleCount:120,spread:60,origin:{y:.6},colors:["#10B981","#34D399","#86EFAC"]}),W(""),Vd&&Et("")}return f.useEffect(()=>{if(!fh)return;const er=$.channel(`pi-contrib-${fh}`).on("postgres_changes",{event:"UPDATE",schema:"public",table:"payment_intents",filter:`provider_tx_id=eq.${fh}`},async sn=>{var or;const Pn=String(((or=sn.new)==null?void 0:or.status)||"").toUpperCase();if(Pn.includes("PAID")||Pn.includes("APPROV"))try{await nO()}finally{try{$.removeChannel(er)}catch{}}}).subscribe();return()=>{try{$.removeChannel(er)}catch{}}},[fh]),s.jsx(tt,{className:"border-none shadow-none",children:s.jsx(rt,{className:"p-3 space-y-4",children:Il?s.jsx(s.Fragment,{children:s.jsxs("div",{className:"flex flex-col items-center justify-center text-center gap-4 py-6",children:[s.jsx("h3",{className:"text-green-600 font-semibold text-2xl",children:"Contribuição enviada com sucesso!"}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("p",{className:"text-sm font-medium",children:"Resumo da contribuição:"}),s.jsxs("ul",{className:"text-sm list-disc pl-5 space-y-1 text-left",children:[s.jsxs("li",{children:["Contribuinte: ",s.jsx("strong",{children:Ne||((i1=X==null?void 0:X.user_metadata)==null?void 0:i1.display_name)||"Você"})]}),s.jsxs("li",{children:["Valor: ","",s.jsx("strong",{children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format((ge??parseFloat(M.replace(/[^0-9,.-]/g,"").replace(",",".")))||0)})]})]})]}),s.jsx(O,{variant:"default",onClick:()=>{Vt(""),Ca(0),wv(!1),qd(!1),W(""),ve(null),n1(""),hh.current=!1,Fl.current=null},"aria-label":"Fazer outra contribuição",children:"Fazer outra contribuição"})]})}):Wt?s.jsx(s.Fragment,{children:s.jsxs("div",{className:"flex flex-col items-center justify-center text-center gap-4 py-6",children:[Dr>0&&s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Confirmando transação em ",Math.floor(Dr/60),":",String(Dr%60).padStart(2,"0"),"..."]}),Wt?s.jsx("img",{src:`https://quickchart.io/qr?text=${encodeURIComponent(Wt)}&size=260&margin=1&ecLevel=M`,alt:"QR Code Pix",className:"rounded border",loading:"lazy"}):null,s.jsx("div",{className:"w-full max-w-xl mx-auto flex items-center justify-center",children:s.jsx(O,{variant:"outline",onClick:()=>{navigator.clipboard.writeText(Wt),oe({title:"Código copiado"})},"aria-label":"Copiar código Pix",children:"Copiar código PIX"})})]})}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx(Le,{children:"Valor"}),s.jsx(Oe,{value:M,onChange:er=>{const sn=er.target.value.replace(/\D/g,"");if(!sn){W("");return}if(sn.length===1){W(`0,0${sn}`);return}if(sn.length===2){W(`0,${sn}`);return}const Pn=sn.slice(0,-2),or=sn.slice(-2),o1=Pn.replace(/^0+(?=\d)/,"").replace(/\B(?=(\d{3})+(?!\d))/g,".");W(`${o1},${or}`)},inputMode:"numeric",placeholder:"Ex.: 20,00",className:"placeholder:text-muted-foreground/40"})]}),Vd&&s.jsxs("div",{children:[s.jsx(Le,{children:"Seu nome"}),s.jsx(Oe,{value:Ne,onChange:er=>{Et(er.target.value);try{localStorage.setItem(we,er.target.value)}catch{}},placeholder:"Seu nome",className:"placeholder:text-muted-foreground/40"})]}),de!=null&&de.pix_key?s.jsx("div",{className:"pt-2",children:s.jsx(O,{className:"w-full",onClick:sO,disabled:r1||Il||s1||!!Wt,children:s1||Wt==="loading"?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent mr-2"}),"Gerar QRCode"]}):Il?s.jsxs(s.Fragment,{children:[s.jsx(cu,{className:"h-4 w-4 mr-2"}),"Confirmado"]}):s.jsxs(s.Fragment,{children:[s.jsx(cu,{className:"h-4 w-4 mr-2"}),"Gerar QRCode"]})})}):s.jsx("p",{className:"text-sm text-muted-foreground",children:"Este músico ainda não cadastrou dados de Pix."})]})})})}function HA(j){return[".jpg",".jpeg",".png",".webp",".gif"].some(M=>j.toLowerCase().includes(M))}function Kj({label:j,url:M}){const[W,ge]=f.useState(!1),ve=()=>ge(!0),Ne=()=>window.open(M+(M.includes("?")?"&download=1":"?download=1"),"_blank"),Et=HA(M);return s.jsx("div",{className:"rounded-md border p-3 bg-accent/30",children:s.jsxs("div",{className:"flex items-center justify-between gap-3",children:[s.jsx("div",{className:"text-sm font-medium truncate",children:j}),s.jsxs("div",{className:"flex items-center gap-1",children:[Et&&s.jsxs(s.Fragment,{children:[s.jsx(O,{size:"icon",variant:"ghost",onClick:ve,"aria-label":`Visualizar ${j}`,children:s.jsx($r,{className:"h-4 w-4"})}),s.jsx(Ur,{open:W,onOpenChange:ge,children:s.jsxs(Pr,{className:"max-w-3xl",children:[s.jsx(Tr,{children:s.jsx(Rr,{children:j})}),s.jsx("img",{src:M,alt:j,className:"w-full h-auto rounded-md"})]})})]}),s.jsx(O,{size:"icon",variant:"ghost",onClick:Ne,"aria-label":`Baixar ${j}`,children:s.jsx(Hm,{className:"h-4 w-4"})})]})]})})}function Gj({label:j,url:M}){const[W,ge]=f.useState(!1),ve=()=>window.open(M+(M.includes("?")?"&download=1":"?download=1"),"_blank");return s.jsxs("div",{className:"rounded-md border p-3",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("div",{className:"text-sm font-medium",children:j}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(O,{size:"icon",variant:"ghost",onClick:()=>ge(!0),"aria-label":`Visualizar ${j}`,children:s.jsx($r,{className:"h-4 w-4"})}),s.jsx(O,{size:"icon",variant:"ghost",onClick:ve,"aria-label":`Baixar ${j}`,children:s.jsx(Hm,{className:"h-4 w-4"})})]})]}),s.jsx("img",{src:M,alt:j,className:"w-full h-40 object-cover rounded-md border"}),s.jsx(Ur,{open:W,onOpenChange:ge,children:s.jsxs(Pr,{className:"max-w-3xl",children:[s.jsx(Tr,{children:s.jsx(Rr,{children:j})}),s.jsx("img",{src:M,alt:j,className:"w-full h-auto rounded-md"})]})})]})}const KA=gv.length,vv=f.useMemo(()=>gv.slice(0,Rl*Fd),[gv,Rl,Fd]),GA=vv.length<KA,YA=(Hn||[]).length,QA=f.useMemo(()=>{const j=[];let M=Rl*Fd;const W=(Ml||[]).map(ve=>({title:ve.name,items:pv[ve.id]||[]})),ge=pv["sem-genero"]||[];for(const ve of W){if(M<=0)break;if(ve.items.length){const Ne=ve.items.slice(0,M);M-=Ne.length,j.push({title:ve.title,items:Ne})}}if(M>0&&ge.length){const ve=ge.slice(0,M);M-=ve.length,j.push({title:"Outras",items:ve})}return j},[Ml,pv,Rl]),XA=Rl*Fd<YA,Ol=async j=>{if(!X){oe({title:"Entre para curtir",description:"Crie sua conta ou faça login para curtir músicas."});return}const M=!!Jt[j];Pd(W=>({...W,[j]:!M})),Jf(W=>({...W,[j]:(W[j]||0)+(M?-1:1)}));try{if(M){const{error:W}=await $.from("song_likes").delete().eq("song_id",j).eq("user_id",X.id);if(W)throw W}else{const{error:W}=await $.from("song_likes").insert({song_id:j,user_id:X.id});if(W)throw W}}catch(W){Pd(ge=>({...ge,[j]:M})),Jf(ge=>({...ge,[j]:(ge[j]||0)+(M?1:-1)})),oe({title:"Erro ao curtir",description:W.message})}},xv=async()=>{if(n){if(!(X!=null&&X.id)){oe({title:"Entre para seguir",description:"Faça login para seguir este músico."});return}try{if(Eo){const{error:j}=await $.from("follows").delete().eq("follower_id",X.id).eq("followee_id",n);if(j)throw j;oe({title:"Deixou de seguir"})}else{const{error:j}=await $.from("follows").insert({follower_id:X.id,followee_id:n});if(j)throw j;oe({title:"Agora você segue este músico"})}await LA()}catch(j){oe({title:"Erro",description:(j==null?void 0:j.message)||"Não foi possível atualizar o seguimento."})}}},yv=async()=>{try{const j=window.location.href,M=navigator;if(M.share?await M.share({title:(de==null?void 0:de.display_name)||"Músico",url:j}):(await navigator.clipboard.writeText(j),oe({title:"Link copiado"})),n)try{await $.from("profile_shares").insert({profile_id:n,user_id:(X==null?void 0:X.id)??null}),await(ko==null?void 0:ko())}catch{}}catch{}},ZA=async()=>{await $.auth.signOut(),i("/")},Yj="anon_free_requests_count",JA=3,Dl=5,Qj=()=>{try{const j=localStorage.getItem(Yj),M=j?Number(j):0;return Number.isFinite(M)&&M>0?M:0}catch{return 0}},eO=()=>{try{const j=Qj()+1;localStorage.setItem(Yj,String(j))}catch{}},tO=async()=>{if(!u){oe({title:"Selecione uma música"});return}const j=x?Number(x.replace(/[^0-9,.-]/g,"").replace(",",".")):null;try{const W=(await $.auth.getUser()).data.user;if(!W&&Qj()>=JA&&(!j||j<Dl)){E("Você atingiu o limite de 3 pedidos gratuitos. Para continuar, contribua com valor de R$ 5,00 ou mais."),Y(!0),D(4);return}const ge={song_id:u.id,requester_name:m||null,dedication:w||null,extra_description:g||null,amount:j,user_id:W?W.id:null,musician_id:n||null};if(console.log("🔍 [MusicianPublic] Inserting request with payload:",ge),console.log("🔍 [MusicianPublic] mid (musician_id):",n),console.log("🔍 [MusicianPublic] selectedSong.id:",u.id),W){const{data:ve,error:Ne}=await $.from("requests").insert(ge).select("id").single();if(Ne)throw console.error("🚨 [MusicianPublic] Error inserting request (authenticated):",Ne),Ne;console.log("✅ [MusicianPublic] Request inserted successfully (authenticated):",ve),H(ve.id)}else{const{error:ve}=await $.from("requests").insert(ge);if(ve)throw console.error("🚨 [MusicianPublic] Error inserting request (anonymous):",ve),ve;console.log("✅ [MusicianPublic] Request inserted successfully (anonymous)"),j!=null&&j>=Dl||eO(),H(null)}try{await $.from("profiles").update({requests_count:(Number(de==null?void 0:de.requests_count)||0)+1}).eq("id",n)}catch{}try{ko==null||ko()}catch{}d(4);try{oa({particleCount:120,spread:60,origin:{y:.6},colors:["#10B981","#34D399","#86EFAC"]})}catch{}}catch(M){oe({title:"Erro ao enviar pedido",description:M.message})}},rO=de!=null&&de.display_name?`Pedir música para ${de.display_name}`:"Pedir música";return s.jsx(ai,{children:s.jsxs("div",{className:"min-h-screen flex w-full bg-background",children:[mv?s.jsx(zf,{}):null,s.jsxs("main",{className:"flex-1 flex flex-col",children:[s.jsx(Xt,{title:rO,description:"Escolha uma música, escreva sua dedicatória e contribua via Pix."}),s.jsxs("header",{className:"sticky top-0 z-30 bg-background/80 supports-[backdrop-filter]:bg-background/60 backdrop-blur border-b",children:[s.jsxs("nav",{className:"max-w-5xl mx-auto flex items-center justify-between px-4 py-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[mv?s.jsx(Nd,{className:"mr-1"}):X?s.jsx(O,{variant:"ghost",size:"icon",onClick:()=>mn(!0),"aria-label":"Abrir menu",children:s.jsx(Rf,{className:"h-5 w-5"})}):null,s.jsx(O,{variant:"ghost",size:"icon",onClick:()=>i(-1),"aria-label":"Voltar",children:s.jsx(Jp,{className:"h-5 w-5"})}),s.jsx(Yt,{to:"/",className:"font-semibold",children:s.jsx("img",{src:l==="dark"?"/logo_avaplay.png":"/logo_avaplay_amarelo.png",alt:"AVAPlay",className:"h-6"})})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(hb,{}),X?s.jsx(s.Fragment,{}):s.jsx(O,{variant:"ghost",className:"h-8 px-3 text-sm hover:text-primary hover:bg-transparent",onClick:()=>i("/auth"),children:"Entrar"})]})]}),o&&$e==="music"&&s.jsx("div",{className:`max-w-5xl mx-auto px-4 overflow-hidden transition-[max-height,opacity] duration-200 ${B?"max-h-24 opacity-100 pb-2":"max-h-0 opacity-0 pb-0 pointer-events-none"}`,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(Ls,{className:"absolute left-2 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(Oe,{placeholder:"Pesquisar músicas",value:F,onChange:j=>ae(j.target.value),ref:Dd,type:"search",inputMode:"search",enterKeyHint:"search",autoComplete:"off",className:"pl-7 pr-7 h-9 text-base sm:text-sm bg-transparent appearance-none border-transparent border-0 shadow-none ring-0 ring-offset-0 focus:outline-none focus:ring-0 focus:ring-offset-0 focus-visible:ring-0 focus-visible:ring-offset-0 focus:border-transparent focus-visible:border-transparent aria-[invalid=true]:ring-0 placeholder:text-muted-foreground/40","aria-label":"Pesquisar músicas do repertório"}),s.jsx("button",{type:"button","aria-label":"Limpar busca",className:"absolute right-1.5 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground h-9 w-9 rounded-full flex items-center justify-center hover:bg-muted/40",onMouseDown:j=>j.preventDefault(),onTouchStart:j=>j.preventDefault(),onClick:()=>{var M;ae(""),window.scrollY<=80&&te(!1);try{(M=Dd.current)==null||M.blur()}catch{}},children:s.jsx(Mr,{className:"h-5 w-5"})})]}),s.jsx(O,{variant:"ghost",size:"sm",onClick:()=>ir(j=>!j),className:"flex-shrink-0",children:qt?s.jsx(nr,{className:"h-4 w-4"}):s.jsx(Dh,{className:"h-4 w-4"})}),s.jsx(O,{variant:"ghost",size:"sm",onClick:()=>Dj(j=>!j),className:"flex-shrink-0",children:br?s.jsx(k_,{className:"h-4 w-4"}):s.jsx(Dh,{className:"h-4 w-4"})})]})})]}),!Co&&X&&s.jsx(ca,{open:Na,onOpenChange:mn,children:s.jsx(Us,{side:"left",className:"w-[16rem] p-0",children:s.jsxs("nav",{className:"p-2",children:[s.jsxs("div",{className:"flex items-center gap-3 p-3 border-b mb-2",children:[s.jsxs(Dt,{className:"h-10 w-10",isPro:!!(de!=null&&de.is_pro),children:[s.jsx(It,{src:Gg,alt:Ed??"Usuário"}),s.jsx(Ft,{children:(Ed||"U").charAt(0).toUpperCase()})]}),s.jsx("div",{className:"min-w-0",children:s.jsx("p",{className:"text-sm font-medium truncate",children:Ed})})]}),mv&&s.jsx(O,{variant:"ghost",className:"w-full justify-start",onClick:()=>{mn(!1),i("/musician")},children:"Painel"}),s.jsx(O,{variant:"ghost",className:"w-full justify-start",onClick:()=>{mn(!1),i("/requests")},children:"Meus Pedidos"}),s.jsx(O,{variant:"ghost",className:"w-full justify-start",onClick:()=>{mn(!1),i("/conexoes")},children:"Conexões"}),s.jsx(O,{variant:"ghost",className:"w-full justify-start",onClick:()=>{mn(!1),i("/musician/profile")},children:"Editar perfil"}),s.jsx(O,{variant:"ghost",className:"w-full justify-start",onClick:()=>{mn(!1),ZA()},children:"Sair"}),s.jsx(aM,{})]})})}),s.jsxs("section",{className:"max-w-5xl mx-auto px-4 py-1",children:[!Co&&s.jsx("div",{className:"relative h-40 sm:h-56 md:h-64 w-full rounded-lg overflow-hidden mb-6",children:Fj?s.jsx(Xe,{className:"absolute inset-0 w-full h-full"}):s.jsxs(s.Fragment,{children:[s.jsx("img",{src:UA,alt:`Foto do músico ${(de==null?void 0:de.display_name)||""} ou capa de música`,className:"absolute inset-0 w-full h-full object-cover",style:{objectPosition:de!=null&&de.cover_url?`center ${(o?BA??de.cover_position:qA??de.cover_position)??50}%`:"center center"},loading:"eager"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-black/40 to-transparent"}),cs&&s.jsx("div",{className:"absolute top-2 right-2 sm:top-3 sm:right-3 z-10",children:s.jsx(O,{variant:"outline",size:"icon",onClick:()=>i("/musician/profile"),"aria-label":"Editar perfil",className:"h-9 w-9 bg-background/70 supports-[backdrop-filter]:backdrop-blur-sm",children:s.jsx(Ga,{className:"h-4 w-4"})})}),s.jsxs("div",{className:"absolute bottom-0 sm:bottom-3 left-4 right-4 flex items-center gap-3",children:[s.jsx("div",{className:"relative p-1 rounded-full bg-transparent",children:s.jsxs(Dt,{className:"h-16 w-16 sm:h-20 sm:w-20 border-4 border-white/20 shadow-lg",children:[s.jsx(It,{src:(de==null?void 0:de.avatar_url)||void 0,alt:`Avatar de ${(de==null?void 0:de.display_name)||"Músico"}`}),s.jsx(Ft,{className:"text-lg sm:text-xl font-semibold bg-primary/20 text-primary-foreground",children:((t1=(e1=de==null?void 0:de.display_name)==null?void 0:e1.charAt(0))==null?void 0:t1.toUpperCase())||"M"})]})}),s.jsxs("div",{className:"inline-block rounded-md bg-background/60 backdrop-blur supports-[backdrop-filter]:backdrop-blur-sm px-1.5 py-0.5 sm:px-2 sm:py-1",children:[s.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2",children:[s.jsx("h1",{className:"text-lg sm:text-2xl font-semibold text-foreground",children:(de==null?void 0:de.display_name)||"Músico"}),(de==null?void 0:de.is_pro)&&s.jsx(ol,{size:o?22:28})]}),s.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 mt-0.5 sm:mt-1 text-xs sm:text-sm text-muted-foreground",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Yc,{className:"w-3 h-3 sm:w-4 sm:h-4"})," ",Number(AA)||0]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(nr,{className:"w-3 h-3 sm:w-4 sm:h-4"})," ",Math.max(Number((de==null?void 0:de.requests_count)||0),Number(OA||0))]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(du,{className:"w-3 h-3 sm:w-4 sm:h-4"})," ",Number(de==null?void 0:de.shares_count)||0]})]})]})]})]})}),!Co&&s.jsxs("div",{className:`mb-4 flex items-center gap-2 ${o?"flex-wrap":""}`,children:[s.jsxs("div",{className:`${o?"flex w-full":"inline-flex"} rounded-md border p-1 bg-muted/40`,children:[s.jsxs(O,{variant:$e==="music"?"secondary":"ghost",size:"sm",className:`${$e==="music"?"text-primary":void 0} ${o?"flex-1":""} text-[13px]`,onClick:()=>{Re("music")},"aria-label":"Pedir música",children:[s.jsx(nr,{className:"mr-2 h-4 w-4"})," Pedir música"]}),o&&null,s.jsxs(O,{variant:$e==="schedule"?"secondary":"ghost",size:"sm",className:`${$e==="schedule"?"text-primary":void 0} ${o?"flex-1":""}`,onClick:()=>{Re("schedule")},"aria-label":"Ver agenda",children:[s.jsx(bn,{className:`h-4 w-4 ${o?"":"mr-2"}`}),!o&&" Agenda"]}),s.jsxs(O,{variant:$e==="photos"?"secondary":"ghost",size:"sm",className:`${$e==="photos"?"text-primary":void 0} ${o?"flex-1":""}`,onClick:()=>{Re("photos")},"aria-label":"Ver fotos",children:[s.jsx(vc,{className:`h-4 w-4 ${o?"":"mr-2"}`}),!o&&" Fotos"]}),!cs&&s.jsxs(O,{variant:$e==="contract"?"secondary":"ghost",size:"sm",className:`${$e==="contract"?"text-primary":void 0} ${o?"flex-1":""}`,onClick:()=>{Re("contract")},"aria-label":"Contratar",children:[s.jsx(L3,{className:`h-4 w-4 ${o?"":"mr-2"}`}),!o&&" Contratar"]}),!cs&&s.jsxs(O,{variant:$e==="contribute"?"secondary":"ghost",size:"sm",className:`${$e==="contribute"?"text-primary":"text-green-600 hover:text-green-700 hover:bg-green-100 dark:text-green-400 dark:hover:text-green-300 dark:hover:bg-green-950/30"} ${o?"flex-1":""}`,onClick:()=>{Re("contribute")},"aria-label":"Contribuir",children:[s.jsx(fm,{className:`h-4 w-4 ${o?"":"mr-2"}`}),!o&&" Contribuir"]}),o&&s.jsx(O,{variant:"ghost",size:"sm",className:"px-2",onClick:yv,"aria-label":"Compartilhar página",children:s.jsx(du,{className:"h-4 w-4 text-muted-foreground"})})]}),!o&&s.jsxs(s.Fragment,{children:[!cs&&s.jsx(O,{className:"bg-transparent border-transparent text-primary hover:text-primary active:text-primary/90",variant:"outline",onClick:xv,disabled:Vj,"aria-label":Eo?"Deixar de seguir":"Seguir músico",children:Eo?s.jsxs(s.Fragment,{children:[s.jsx(nx,{className:"mr-2 h-4 w-4 text-primary"})," ",s.jsx("span",{className:"text-primary",children:"Seguindo"})]}):s.jsxs(s.Fragment,{children:[s.jsx(sx,{className:"mr-2 h-4 w-4 text-primary"})," ",s.jsx("span",{className:"text-primary",children:"Seguir"})]})}),s.jsx(O,{variant:"outline",className:"border-none",onClick:yv,"aria-label":"Compartilhar página",children:s.jsx(du,{className:"mr-2 h-4 w-4 text-gray-500"})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 lg:grid-cols-5 gap-6 items-start",children:[s.jsxs("div",{className:"order-2 md:col-span-1 md:order-2",children:[!Co&&(uh.length>0||o)&&s.jsxs("div",{className:`mb-3 flex items-center gap-2 ${o?"":"mt-5"}`,children:[!o&&uh.map(j=>s.jsx("a",{href:j.href,target:"_blank",rel:"noopener noreferrer","aria-label":j.label,className:"inline-flex h-8 w-8 items-center justify-center rounded-md border border-transparent text-muted-foreground hover:text-foreground hover:bg-muted transition-colors",children:s.jsx(j.icon,{className:"h-4 w-4"})},j.key)),o&&s.jsxs("div",{className:"flex items-center justify-center gap-2 w-full",children:[!cs&&s.jsx(O,{className:"bg-transparent border-transparent text-primary hover:text-primary active:text-primary/90 h-8 w-8 p-0",variant:"outline",onClick:xv,disabled:Vj,"aria-label":Eo?"Deixar de seguir":"Seguir músico",children:Eo?s.jsx(nx,{className:"h-4 w-4 text-primary"}):s.jsx(sx,{className:"h-4 w-4 text-primary"})}),s.jsx(O,{variant:"outline",className:"border-transparent h-8 w-8 p-0",onClick:yv,"aria-label":"Compartilhar página",children:s.jsx(du,{className:"h-4 w-4 text-gray-500"})})]})]}),!o&&!Co&&(de==null?void 0:de.description)&&s.jsxs("div",{className:"text-sm text-muted-foreground",children:[ke?s.jsxs("p",{children:[de.description,de.description.length>(o?80:220)&&s.jsx(O,{variant:"ghost",size:"sm",className:"px-0 h-7 text-primary hover:text-primary/60 ml-2 hover:bg-transparent",onClick:()=>qe(j=>!j),children:"Ver menos"})]}):s.jsxs("p",{children:[de.description.length>(o?80:220)?`${de.description.slice(0,o?80:220)}...`:de.description,de.description.length>(o?80:220)&&s.jsx(O,{variant:"ghost",size:"sm",className:"px-0 h-7 text-primary hover:text-primary/60 ml-2 hover:bg-transparent",onClick:()=>qe(j=>!j),children:ke?"Ver menos":"Ver mais"})]}),!!(Vn!=null&&Vn.length)&&!o&&s.jsx("div",{className:"mt-2",children:Vn.length<=8?s.jsx("div",{className:"grid grid-cols-3 gap-1",children:Vn.slice(0,6).map(j=>s.jsxs("button",{className:"relative overflow-hidden aspect-square w-full",onClick:()=>eh({id:j.id,url:j.full_url,description:j.description,created_at:j.created_at}),"aria-label":"Abrir foto",children:[s.jsx("img",{src:j.grid_url,alt:j.description||"Foto",className:"absolute inset-0 w-full h-full object-cover"}),s.jsx("div",{className:"absolute inset-0 flex items-end justify-end p-1 bg-black/0 hover:bg-black/20 transition-colors",children:s.jsxs("div",{className:`px-1 py-0.5 rounded ${o?"text-[10px]":"text-[9px]"} text-white/90 bg-black/40 flex items-center ${o?"gap-2":"gap-1"}`,children:[s.jsxs("span",{className:`inline-flex items-center ${o?"gap-1":"gap-0.5"}`,children:[s.jsx(cn,{className:`${o?"h-3 w-3":"h-2.5 w-2.5"}`}),o?nh[j.id]||0:(nh[j.id]||0).toLocaleString("pt-BR")]}),s.jsxs("span",{className:`inline-flex items-center ${o?"gap-1":"gap-0.5"}`,children:[s.jsx($l,{className:`${o?"h-3 w-3":"h-2.5 w-2.5"}`}),o?Tl[j.id]||0:(Tl[j.id]||0).toLocaleString("pt-BR")]})]})})]},`thumb-${j.id}`))}):s.jsx(s.Fragment,{})})]}),!Co&&s.jsx("div",{className:"mt-4",children:s.jsxs("div",{className:"grid grid-cols-2 gap-3 w-full",children:[s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:"flex items-center justify-center mb-2",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-base font-semibold text-foreground",children:hv||Ud.length||0}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Seguidores"})]})}),s.jsx("div",{className:"flex justify-center -space-x-2",children:(Ud||[]).slice(0,o?6:3).map(j=>{const M=j.display_name||"Usuário";return s.jsx("button",{className:"inline-block ring-1 ring-background rounded-full overflow-hidden",onClick:()=>yt(!0),"aria-label":"Abrir seguidores",children:s.jsxs(Dt,{className:"h-8 w-8",children:[j.avatar_url?s.jsx(It,{src:j.avatar_url,alt:M}):null,s.jsx(Ft,{className:"bg-muted text-foreground/70 text-[10px]",children:M.charAt(0).toUpperCase()})]})},`foll-${j.id}`)})})]}),s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:"flex items-center justify-center mb-2",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-base font-semibold text-foreground",children:dv||$d.length||0}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Seguindo"})]})}),s.jsx("div",{className:"flex justify-center -space-x-2",children:($d||[]).slice(0,o?6:3).map(j=>{const M=j.display_name||"Usuário";return s.jsx("button",{className:"inline-block ring-1 ring-background rounded-full overflow-hidden",onClick:()=>He(!0),"aria-label":"Abrir seguindo",children:s.jsxs(Dt,{className:"h-8 w-8",children:[j.avatar_url?s.jsx(It,{src:j.avatar_url,alt:M}):null,s.jsx(Ft,{className:"bg-muted text-foreground/70 text-[10px]",children:M.charAt(0).toUpperCase()})]})},`ing-${j.id}`)})})]})]})})]}),s.jsxs("div",{className:"order-1 md:col-span-3 lg:col-span-4 md:order-1",children:[$e==="contract"&&s.jsx(VA,{musicianId:n}),$e==="contribute"&&s.jsx(WA,{musicianId:n}),$e==="schedule"&&s.jsx(tt,{className:"border-none shadow-none",children:s.jsx(rt,{className:"p-0",children:$A?s.jsx("p",{className:"text-sm text-muted-foreground",children:"Carregando agenda..."}):Bd!=null&&Bd.length?s.jsxs("div",{children:[s.jsxs("div",{className:"mb-3 flex flex-col sm:flex-row gap-2 sm:items-center sm:justify-between",children:[s.jsxs("div",{className:`flex gap-2 items-center ${o?"w-full":""}`,children:[s.jsxs("div",{className:`relative transition-all duration-200 ${dr||ot?"sm:max-w-sm":"sm:max-w-[10rem]"} ${o?"flex-1":"w-full sm:w-auto"}`,children:[s.jsx(Ls,{className:"absolute left-2 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(Oe,{placeholder:o?"":"Pesquisar",value:ot,onChange:j=>Nt(j.target.value),onFocus:()=>Vr(!0),onBlur:()=>Vr(!1),className:"pl-7 pr-7 h-8 text-sm placeholder:text-muted-foreground/40","aria-label":"Pesquisar eventos da agenda"}),ot&&s.jsx("button",{type:"button","aria-label":"Limpar busca",className:"absolute right-2 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",onClick:()=>Nt(""),children:s.jsx(Mr,{className:"h-4 w-4"})})]}),o&&s.jsxs(jn,{children:[s.jsx(_n,{asChild:!0,children:s.jsx(O,{variant:"outline",size:"sm",className:"flex-shrink-0",children:s.jsx(bn,{className:"h-4 w-4"})})}),s.jsx(un,{className:"w-auto p-0",align:"end",children:s.jsx(vs,{mode:"single",selected:Mt,onSelect:_a,initialFocus:!0})})]})]}),!o&&s.jsx("div",{children:s.jsxs(jn,{children:[s.jsx(_n,{asChild:!0,children:s.jsxs(O,{variant:"outline",size:"sm",children:[s.jsx(bn,{className:"h-4 w-4 mr-2"}),Mt?`${String(Mt.getDate()).padStart(2,"0")}/${String(Mt.getMonth()+1).padStart(2,"0")}/${String(Mt.getFullYear()%100).padStart(2,"0")}`:"Filtrar por data"]})}),s.jsxs(un,{className:"w-auto p-0",align:"end",children:[s.jsx(vs,{mode:"single",selected:Mt,onSelect:j=>_a(j)}),s.jsx("div",{className:"p-2 flex justify-end",children:s.jsx(O,{variant:"ghost",size:"sm",onClick:()=>_a(null),children:"Limpar"})})]})]})})]}),s.jsx("ul",{className:"divide-y divide-border",children:Wj.slice().sort((j,M)=>new Date(j.start_time).getTime()-new Date(M.start_time).getTime()).slice(0,kr*hn).map(j=>{const M=new Date(j.start_time),W=M.getDate(),ge=String(M.getMonth()+1).padStart(2,"0"),ve=String(M.getFullYear()%100).padStart(2,"0");return s.jsx("li",{className:"py-3",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"w-12 text-center leading-none",children:[s.jsx("div",{className:"text-lg font-semibold leading-none",children:W}),s.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:[ge,"/",ve]})]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"font-medium truncate",children:j.title}),j.location&&s.jsxs("div",{className:"text-sm text-muted-foreground flex items-center gap-1 mt-0.5",children:[s.jsx(O2,{className:"h-4 w-4 shrink-0"}),s.jsx("span",{className:"truncate",children:j.location})]})]})]})},j.id)})}),s.jsx("div",{className:"mt-3 flex justify-center",children:Wj.length>kr*hn?s.jsx(O,{variant:"outline",size:"sm",onClick:()=>nn(j=>j+1),children:"Ver mais"}):s.jsx(s.Fragment,{})})]}):s.jsx("p",{className:"text-sm text-muted-foreground",children:"Nenhum evento público encontrado."})})}),$e==="music"&&dh?s.jsx("div",{className:br?"space-y-1":"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:Array.from({length:6}).map((j,M)=>s.jsx("div",{className:br?"flex items-center gap-3 p-2":"border rounded-lg p-3",children:br?s.jsxs(s.Fragment,{children:[s.jsx(Xe,{className:"h-10 w-10 rounded-md flex-shrink-0"}),s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsx(Xe,{className:"h-4 w-32"}),s.jsx(Xe,{className:"h-3 w-24"})]}),s.jsx(Xe,{className:"h-6 w-16"})]}):s.jsxs(s.Fragment,{children:[s.jsx(Xe,{className:"h-32 w-full rounded-md mb-3"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Xe,{className:"h-4 w-3/4"}),s.jsx(Xe,{className:"h-3 w-1/2"})]}),s.jsxs("div",{className:"mt-3 flex justify-between items-center",children:[s.jsx(Xe,{className:"h-6 w-16"}),s.jsx(Xe,{className:"h-6 w-20"})]})]})},M))}):$e==="music"&&!(Hn!=null&&Hn.length)?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(nr,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Nenhuma música cadastrada"}),s.jsx("p",{className:"text-muted-foreground",children:"O músico ainda não cadastrou nenhuma música em seu repertório."})]}):$e==="music"?s.jsxs(s.Fragment,{children:[!Co&&c<=3&&((Hn==null?void 0:Hn.length)??0)>0&&s.jsx(s.Fragment,{children:!o&&s.jsx(iH,{current:c,canGoTo:j=>j===1?!0:j===2||j===3?!!u:!0,onStep:j=>{if((j===2||j===3)&&!u){oe({title:"Selecione uma música"});return}d(j)}})}),c===1&&((Hn==null?void 0:Hn.length)??0)>0&&s.jsxs("div",{className:"space-y-6",children:[s.jsx(tt,{className:"border-none shadow-none",children:s.jsxs(rt,{className:"p-3 pt-0",children:[!(o&&B)&&s.jsx("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center justify-between gap-3 mb-5",children:s.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto",children:[o?s.jsx("button",{ref:sv,type:"button",onClick:NA,"aria-label":"Abrir busca",className:"inline-flex h-8 w-8 items-center justify-center rounded-md border border-transparent text-muted-foreground hover:text-foreground hover:bg-muted",children:s.jsx(Ls,{className:"h-4 w-4"})}):s.jsxs("div",{ref:sv,className:`relative transition-all duration-200 ${_A||F?"sm:max-w-sm":"sm:max-w-[10rem]"} sm:basis-auto flex-1 sm:flex-none`,children:[s.jsx(Ls,{className:"absolute left-2 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(Oe,{placeholder:"Pesquisar",value:F,onChange:j=>ae(j.target.value),onFocus:()=>nv(!0),onBlur:()=>nv(!1),className:"pl-7 pr-7 h-8 text-sm placeholder:text-muted-foreground/40","aria-label":"Pesquisar músicas do repertório"}),F&&s.jsx("button",{type:"button","aria-label":"Limpar busca",className:"absolute right-2 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",onClick:()=>ae(""),children:s.jsx(Mr,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"flex items-center gap-2 text-gray-400 flex-shrink-0",children:[s.jsx(O,{variant:"ghost",onClick:()=>ir(j=>!j),children:qt?s.jsx(nr,{className:"h-4 w-4"}):s.jsx(Dh,{className:"h-4 w-4"})}),s.jsx(O,{variant:"ghost",onClick:()=>Dj(j=>!j),children:br?s.jsx(k_,{className:"h-4 w-4"}):s.jsx(Dh,{className:"h-4 w-4"})}),o&&s.jsxs(s.Fragment,{children:[s.jsx(Zo,{orientation:"vertical",className:"h-6 mx-1"}),!cs&&s.jsx(O,{variant:"ghost",onClick:xv,"aria-label":Eo?"Deixar de seguir":"Seguir músico",className:"gap-1",children:Eo?s.jsxs(s.Fragment,{children:[s.jsx(nx,{className:"h-4 w-4 text-primary"}),s.jsx("span",{className:"text-xs",children:"Seguindo"})]}):s.jsxs(s.Fragment,{children:[s.jsx(sx,{className:"h-4 w-4 text-yellow-500"}),s.jsx("span",{className:"text-xs text-yellow-500",children:"Seguir"})]})}),s.jsxs(ca,{children:[s.jsx(xB,{asChild:!0,children:s.jsx(O,{variant:"ghost","aria-label":"Sobre",className:"px-2",children:s.jsxs("span",{className:"inline-flex items-center gap-1 text-xs text-muted-foreground",children:[s.jsx("span",{className:"inline-flex h-5 w-5 items-center justify-center rounded-full border border-border",children:"i"}),s.jsx("span",{children:"Sobre"})]})})}),s.jsx(Us,{side:"bottom",className:"h-[55vh] p-4",children:s.jsxs("div",{className:"space-y-3",children:[uh.length>0&&s.jsx("div",{className:"flex items-center gap-2 flex-wrap",children:uh.map(j=>s.jsx("a",{href:j.href,target:"_blank",rel:"noopener noreferrer","aria-label":j.label,className:"inline-flex h-9 w-9 items-center justify-center rounded-md border border-transparent text-muted-foreground hover:text-foreground hover:bg-muted transition-colors",children:s.jsx(j.icon,{className:"h-4 w-4"})},`tabbar-info-${j.key}`))}),de!=null&&de.description?s.jsx("p",{className:"text-sm text-muted-foreground whitespace-pre-line",children:de.description}):null]})})]})]})]})]})}),dh?s.jsx("div",{className:`grid ${br?"grid-cols-1 gap-0":"grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3"} mt-5`,children:Array.from({length:8}).map((j,M)=>s.jsxs("div",{className:"space-y-2",children:[s.jsx(Xe,{className:"w-full aspect-[4/3] rounded"}),s.jsx(Xe,{className:"h-4 w-3/4"}),s.jsx(Xe,{className:"h-3 w-1/2"})]},M))}):qt||F.trim()?s.jsxs("div",{children:[vv.length===0?s.jsx("p",{className:"text-sm text-muted-foreground",children:"Nenhum resultado para a busca."}):s.jsx("div",{className:`grid ${br?"grid-cols-1 gap-2":"grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3"}`,children:vv.map(j=>{var M,W,ge,ve;return s.jsx("button",{onClick:()=>h((u==null?void 0:u.id)===j.id?null:j),className:`text-left rounded-md ${br?"":"border"} ${br?"p-1":"p-3"} transition-colors hover:bg-accent ${(u==null?void 0:u.id)===j.id?"ring-2 ring-primary":""}`,"aria-label":`Selecionar ${j.title}${j.artist?` por ${j.artist}`:""}`,children:br?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"h-10 w-10 rounded overflow-hidden bg-muted shrink-0",children:j.cover_url?s.jsx("img",{src:j.cover_url,alt:`Capa de ${j.title} por ${j.artist||"Artista"}`,loading:"lazy",className:"h-full w-full object-cover"}):null}),s.jsxs("div",{className:"min-w-0 flex-1 flex flex-col justify-center",children:[s.jsxs("p",{className:"truncate",children:[s.jsx("span",{className:"text-xs font-medium",children:j.title}),j.artist&&s.jsxs("span",{className:"text-[10px] text-muted-foreground font-normal",children:[" ","(",j.artist,")"]})]}),s.jsxs("div",{className:"mt-0 flex items-center gap-2",children:[s.jsxs("button",{onClick:Ne=>{Ne.stopPropagation(),Ol(j.id)},className:`inline-flex items-center gap-1 text-xs ${Jt[j.id]?"text-primary":"text-muted-foreground"} hover:text-primary`,"aria-label":Jt[j.id]?"Remover curtida":"Curtir","aria-pressed":Jt[j.id]?"true":"false",type:"button",children:[s.jsx(cn,{className:`h-3 w-3 ${Jt[j.id]?"fill-current":""}`}),s.jsx("span",{children:(j==null?void 0:j.like_count)??Pl[j.id]??0}),s.jsx("span",{className:"text-muted-foreground",children:"·"}),s.jsx(nr,{className:"h-3 w-3"}),s.jsx("span",{className:"text-xs",title:"Pedidos desta música",children:(j==null?void 0:j.request_count)??((W=(M=j==null?void 0:j.requests)==null?void 0:M[0])==null?void 0:W.count)??zj[j.id]??0})]}),s.jsx("button",{onClick:Ne=>{Ne.stopPropagation(),h(j),o?J(!0):d(2)},className:"ml-auto inline-flex items-center rounded border px-2 h-6 text-[10px] text-muted-foreground hover:text-foreground","aria-label":`Pedir ${j.title}`,type:"button",children:"Pedir"})]})]})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"aspect-[4/3] mb-2 overflow-hidden rounded",children:j.cover_url?s.jsx("img",{src:j.cover_url,alt:`Capa de ${j.title} por ${j.artist||"Artista"}`,loading:"lazy",className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full bg-muted"})}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-xs sm:text-base font-medium truncate",children:j.title}),j.artist&&s.jsx("p",{className:"text-[10px] sm:text-sm text-muted-foreground truncate",children:j.artist})]}),s.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[s.jsxs("button",{onClick:Ne=>{Ne.stopPropagation(),Ol(j.id)},className:`inline-flex items-center gap-1 text-sm ${Jt[j.id]?"text-primary":"text-muted-foreground"} hover:text-primary`,"aria-label":Jt[j.id]?"Remover curtida":"Curtir","aria-pressed":Jt[j.id]?"true":"false",type:"button",children:[s.jsx(cn,{className:`h-4 w-4 ${Jt[j.id]?"fill-current":""}`}),s.jsx("span",{children:(j==null?void 0:j.like_count)??Pl[j.id]??0}),s.jsx("span",{className:"text-muted-foreground",children:"·"}),s.jsx(nr,{className:"h-4 w-4"}),s.jsx("span",{className:"text-sm",title:"Pedidos desta música",children:(j==null?void 0:j.request_count)??((ve=(ge=j==null?void 0:j.requests)==null?void 0:ge[0])==null?void 0:ve.count)??zj[j.id]??0})]}),s.jsx(O,{variant:"outline",size:"sm",className:"h-7 px-2 text-[10px]",onClick:Ne=>{Ne.stopPropagation(),h(j),o?J(!0):d(2)},"aria-label":`Pedir ${j.title}`,children:"Pedir"})]})]})},j.id)})}),GA&&s.jsx("div",{className:"mt-4 flex justify-center",children:s.jsx(O,{variant:"outline",onClick:()=>Oj(j=>j+1),children:"Ver mais"})})]}):s.jsx("div",{className:"space-y-8",children:Ml!=null&&Ml.length?s.jsxs(s.Fragment,{children:[QA.map(j=>s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium mb-3",children:j.title}),s.jsx("div",{className:`${br?"grid grid-cols-1 gap-0":"flex overflow-x-auto gap-3 pb-2 scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-gray-100 dark:scrollbar-thumb-gray-600 dark:scrollbar-track-gray-800"}`,children:dh?Array.from({length:8}).map((M,W)=>s.jsxs("div",{className:"space-y-2",children:[s.jsx(Xe,{className:"w-full aspect-[4/3] rounded"}),s.jsx(Xe,{className:"h-4 w-3/4"}),s.jsx(Xe,{className:"h-3 w-1/2"})]},W)):j.items.map(M=>s.jsx("button",{onClick:()=>h(M),className:`text-left rounded-md ${br?"":"border"} ${br?"p-1":"p-3"} transition-colors hover:bg-accent ${(u==null?void 0:u.id)===M.id?"ring-2 ring-primary":""} ${br?"":"w-48 flex-shrink-0"}`,children:br?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"h-10 w-10 rounded overflow-hidden bg-muted shrink-0",children:M.cover_url?s.jsx("img",{src:M.cover_url,alt:`Capa de ${M.title} por ${M.artist||"Artista"}`,loading:"lazy",className:"h-full w-full object-cover"}):null}),s.jsxs("div",{className:"min-w-0 flex-1 flex flex-col justify-center",children:[s.jsxs("p",{className:"truncate",children:[s.jsx("span",{className:"text-xs font-medium",children:M.title}),M.artist&&s.jsxs("span",{className:"text-[10px] text-muted-foreground font-normal",children:[" ","(",M.artist,")"]})]}),s.jsx("div",{className:"mt-0",children:s.jsxs("button",{onClick:W=>{W.stopPropagation(),Ol(M.id)},className:`inline-flex items-center gap-1 text-xs ${Jt[M.id]?"text-primary":"text-muted-foreground"} hover:text-primary`,"aria-label":Jt[M.id]?"Remover curtida":"Curtir","aria-pressed":Jt[M.id]?"true":"false",type:"button",children:[s.jsx(cn,{className:`h-3 w-3 ${Jt[M.id]?"fill-current":""}`}),s.jsx("span",{children:Pl[M.id]||0})]})})]})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"aspect-[4/3] mb-2 overflow-hidden rounded",children:M.cover_url?s.jsx("img",{src:M.cover_url,alt:`Capa de ${M.title} por ${M.artist||"Artista"}`,loading:"lazy",className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full bg-muted"})}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-xs sm:text-base font-medium truncate",children:M.title}),M.artist&&s.jsx("p",{className:"text-[10px] sm:text-sm text-muted-foreground truncate",children:M.artist})]}),s.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[s.jsxs("button",{onClick:W=>{W.stopPropagation(),Ol(M.id)},className:`inline-flex items-center gap-1 text-sm ${Jt[M.id]?"text-primary":"text-muted-foreground"} hover:text-primary`,"aria-label":Jt[M.id]?"Remover curtida":"Curtir","aria-pressed":Jt[M.id]?"true":"false",type:"button",children:[s.jsx(cn,{className:`h-4 w-4 ${Jt[M.id]?"fill-current":""}`}),s.jsx("span",{children:Pl[M.id]||0})]}),s.jsx(O,{variant:"outline",size:"sm",className:"h-7 px-2 text-[10px]",onClick:W=>{W.stopPropagation(),h(M),o?J(!0):d(2)},"aria-label":`Pedir ${M.title}`,children:"Pedir"})]})]})},M.id))})]},j.title)),XA&&s.jsx("div",{className:"mt-4 flex justify-center",children:s.jsx(O,{variant:"outline",onClick:()=>Oj(j=>j+1),children:"Ver mais"})})]}):s.jsx("div",{className:`grid ${br?"grid-cols-1 gap-2":"grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3"}`,children:dh?Array.from({length:8}).map((j,M)=>s.jsxs("div",{className:"space-y-2",children:[s.jsx(Xe,{className:"w-full aspect-[4/3] rounded"}),s.jsx(Xe,{className:"h-4 w-3/4"}),s.jsx(Xe,{className:"h-3 w-1/2"})]},M)):(Wn||[]).slice(0,Rl*Fd).map(j=>s.jsx("button",{onClick:()=>h(j),className:`text-left rounded-md ${br?"":"border"} ${br?"p-1":"p-3"} transition-colors hover:bg-accent ${(u==null?void 0:u.id)===j.id?"ring-2 ring-primary":""}`,children:br?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"h-10 w-10 rounded overflow-hidden bg-muted shrink-0",children:j.cover_url?s.jsx("img",{src:j.cover_url,alt:`Capa de ${j.title} por ${j.artist||"Artista"}`,loading:"lazy",className:"h-full w-full object-cover"}):null}),s.jsxs("div",{className:"min-w-0 flex-1 flex flex-col justify-center",children:[s.jsxs("p",{className:"truncate",children:[s.jsx("span",{className:"text-xs font-medium",children:j.title}),j.artist&&s.jsxs("span",{className:"text-[10px] text-muted-foreground font-normal",children:[" ","(",j.artist,")"]})]}),s.jsx("div",{className:"mt-0",children:s.jsxs("button",{onClick:M=>{M.stopPropagation(),Ol(j.id)},className:`inline-flex items-center gap-1 text-xs ${Jt[j.id]?"text-primary":"text-muted-foreground"} hover:text-primary`,"aria-label":Jt[j.id]?"Remover curtida":"Curtir","aria-pressed":Jt[j.id]?"true":"false",type:"button",children:[s.jsx(cn,{className:`h-3 w-3 ${Jt[j.id]?"fill-current":""}`}),s.jsx("span",{children:Pl[j.id]||0})]})})]})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"aspect-[4/3] mb-2 overflow-hidden rounded",children:j.cover_url?s.jsx("img",{src:j.cover_url,alt:`Capa de ${j.title} por ${j.artist||"Artista"}`,loading:"lazy",className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full bg-muted"})}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-xs sm:text-base font-medium truncate",children:j.title}),j.artist&&s.jsx("p",{className:"text-[10px] sm:text-sm text-muted-foreground truncate",children:j.artist})]}),s.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[s.jsxs("button",{onClick:M=>{M.stopPropagation(),Ol(j.id)},className:`inline-flex items-center gap-1 text-sm ${Jt[j.id]?"text-primary":"text-muted-foreground"} hover:text-primary`,"aria-label":Jt[j.id]?"Remover curtida":"Curtir","aria-pressed":Jt[j.id]?"true":"false",type:"button",children:[s.jsx(cn,{className:`h-4 w-4 ${Jt[j.id]?"fill-current":""}`}),s.jsx("span",{children:Pl[j.id]||0})]}),s.jsx(O,{variant:"outline",size:"sm",className:"h-7 px-2 text-[10px]",onClick:M=>{M.stopPropagation(),h(j),o?J(!0):d(2)},"aria-label":`Pedir ${j.title}`,children:"Pedir"})]})]})},j.id))})})]})}),u&&c===1&&s.jsx("div",{className:"sticky bottom-0 z-40 mt-6",children:s.jsx("div",{className:"bg-background/80 supports-[backdrop-filter]:backdrop-blur  p-8",children:s.jsx("div",{className:"max-w-5xl mx-auto",children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx(O,{variant:"outline",className:"flex-1 h-10",size:"lg",onClick:()=>h(null),"aria-label":"Cancelar seleção de música",children:"Cancelar"}),s.jsx(O,{className:"flex-1 h-10",size:"lg",onClick:()=>{o?J(!0):d(2)},"aria-label":"Continuar para dedicatória",children:"Continuar"})]})})})})]}),c===2&&s.jsxs("div",{className:"",children:[s.jsxs("div",{className:"p-3 space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:"Seu nome"}),s.jsx(Oe,{ref:ce,value:m,onChange:j=>p(j.target.value),placeholder:"Ex.: Ana",className:"placeholder:text-muted-foreground/40"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:"Mensagem/Dedicatória"}),s.jsx($i,{value:w,onChange:j=>v(j.target.value),placeholder:"Para quem vai essa música?",className:"placeholder:text-muted-foreground/40",maxLength:200}),s.jsx("div",{className:"flex justify-end mt-1",children:s.jsxs("span",{className:"text-xs text-muted-foreground",children:[w.length,"/200"]})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:"Descrição adicional (opcional)"}),s.jsx($i,{value:g,onChange:j=>y(j.target.value),placeholder:"Detalhes extras",className:"placeholder:text-muted-foreground/40",maxLength:200}),s.jsx("div",{className:"flex justify-end mt-1",children:s.jsxs("span",{className:"text-xs text-muted-foreground",children:[g.length,"/200"]})})]})]}),s.jsx("div",{className:"sticky bottom-0 z-40",children:s.jsx("div",{className:"bg-background/80 supports-[backdrop-filter]:backdrop-blur  p-3",children:s.jsxs("div",{className:"max-w-5xl mx-auto flex gap-2",children:[s.jsx(O,{variant:"outline",className:"flex-1 h-10",onClick:()=>d(1),"aria-label":"Voltar",children:"Voltar"}),s.jsx(O,{className:"flex-1 h-10",onClick:()=>d(3),children:"Continuar"})]})})})]}),c===3&&s.jsxs("div",{className:"",children:[s.jsx("div",{className:"p-3 space-y-4",children:_?s.jsx("div",{className:"flex flex-col items-center justify-center text-center gap-4 py-6",children:_e?s.jsxs("div",{className:"w-full max-w-sm mx-auto p-4 rounded-md border bg-muted/30",children:[s.jsx("p",{className:"text-sm",children:"PIX cancelado por tempo esgotado."}),xe==="failed"&&s.jsx("p",{className:"text-xs text-red-600 mt-1",children:"Aviso: não foi possível confirmar o cancelamento na Veepag."}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Volte e informe o valor para gerar um novo PIX."}),s.jsx("div",{className:"mt-3 flex gap-2 justify-center",children:s.jsx(O,{variant:"outline",onClick:()=>{me(!1),Ge(null),N(""),se(!0)},children:"Voltar para valor"})})]}):s.jsxs(s.Fragment,{children:[P>0&&s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Expira em ",Math.floor(P/60),":",String(P%60).padStart(2,"0")]}),q&&s.jsx("p",{className:"text-xs text-green-600",children:"Transação confirmada!"}),s.jsx("img",{src:`https://quickchart.io/qr?text=${encodeURIComponent(_)}&size=260&margin=1&ecLevel=M`,alt:"QR Code Pix",className:"rounded border",loading:"lazy"}),s.jsx("div",{className:"w-full max-w-xl mx-auto flex items-center justify-center",children:s.jsx(O,{variant:"outline",onClick:()=>{navigator.clipboard.writeText(_),oe({title:"Código copiado"})},"aria-label":"Copiar código Pix",children:"Copiar código PIX"})}),Ct&&s.jsxs("div",{className:"text-[11px] text-muted-foreground mt-2 select-all break-all",children:["ID Veepag: ",Ct]})]})}):s.jsx(s.Fragment,{children:s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:"Valor da contribuição (opcional)"}),s.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"PIX gerado via Veepag - Pagamento seguro e instantâneo"}),s.jsx(Oe,{ref:be,type:"text",inputMode:"numeric",placeholder:"Ex.: 10,00",value:x,className:"placeholder:text-muted-foreground/40",onChange:j=>{const M=j.target.value.replace(/\D/g,"");if(!M){b("");return}if(M.length===1){b(`0,0${M}`);return}if(M.length===2){b(`0,${M}`);return}const W=M.slice(0,-2),ge=M.slice(-2),Ne=W.replace(/^0+(?=\d)/,"").replace(/\B(?=(\d{3})+(?!\d))/g,".");b(`${Ne},${ge}`)}}),s.jsx("div",{className:"flex flex-wrap gap-2 mt-3",children:[15,30,50,100].map(j=>s.jsxs(O,{type:"button",variant:"secondary",size:"sm",className:"h-8 px-3 text-xs border-none bg-muted hover:bg-muted/80",onClick:()=>{const M=`${j},00`;b(M)},children:["R$ ",j.toLocaleString("pt-BR")]},j))}),k&&C&&s.jsxs("div",{className:"mt-2 p-3 rounded-md border-none bg-red-50 dark:bg-red-950/20",children:[s.jsx("p",{className:"text-sm text-red-700 dark:text-red-300 font-medium",children:C}),C!=null&&C.toLowerCase().includes("expirou")?null:s.jsx("p",{className:"text-xs text-red-600 dark:text-red-400 mt-1",children:"Contribua com R$ 5,00 ou mais, ou crie uma conta para pedidos ilimitados."})]}),et&&s.jsxs("div",{className:"mt-2 p-3 rounded-md border-none bg-red-50 dark:bg-red-950/20",children:[s.jsxs("p",{className:"text-sm text-red-700 dark:text-red-300 font-medium",children:["Erro ao gerar PIX: ",et]}),s.jsx("p",{className:"text-xs text-red-600 dark:text-red-400 mt-1",children:"Tente novamente ou entre em contato com o suporte."})]})]})})}),s.jsx("div",{className:"sticky bottom-0 z-40",children:V&&s.jsx("div",{className:"bg-background/80 supports-[backdrop-filter]:backdrop-blur  p-3",children:s.jsxs("div",{className:"max-w-5xl mx-auto flex gap-2",children:[s.jsx(O,{variant:"outline",className:"flex-1 h-10",onClick:()=>d(2),"aria-label":"Voltar",children:"Voltar"}),s.jsx(O,{className:"flex-1 h-10",disabled:vt||!x||T||q,onClick:async()=>{if(!x){oe({title:"Informe um valor válido"});return}kt()},children:vt?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent mr-2"}),"Gerando PIX..."]}):s.jsxs(s.Fragment,{children:[s.jsx(cu,{className:"h-4 w-4 mr-2"}),"Gerar PIX"]})})]})})})]}),c===4&&u&&s.jsxs("div",{className:"p-6",children:[s.jsx("div",{className:"flex flex-col items-center text-center",children:s.jsx("h3",{className:"text-green-600 font-semibold",children:"Pedido enviado com sucesso!"})}),s.jsxs("div",{className:"space-y-3 mt-4",children:[s.jsx("p",{className:"text-sm",children:"Resumo do pedido:"}),s.jsxs("ul",{className:"text-sm list-disc pl-5 space-y-1",children:[s.jsxs("li",{children:["Música: ",s.jsx("strong",{children:u.title}),u.artist?` — ${u.artist}`:""]}),m&&s.jsxs("li",{children:["Solicitante: ",s.jsx("strong",{children:m})]}),w&&s.jsxs("li",{children:["Dedicatória: ",w]}),g&&s.jsxs("li",{children:["Descrição adicional: ",g]}),x&&s.jsxs("li",{children:["Contribuição: ",HN(Number(x.replace(/[^0-9,.-]/g,"").replace(",",".")))," ","(opcional)"]})]}),!X&&s.jsxs("div",{className:"p-6 rounded-md border bg-accent/30 text-foreground",children:[s.jsx("p",{className:"text-sm",children:"Crie sua conta para acompanhar seus pedidos, curtidas e comentários."}),s.jsx("div",{className:"mt-4",children:s.jsx(O,{onClick:()=>i("/auth"),children:"Criar conta"})})]}),s.jsx("div",{className:"sticky bottom-0 z-40 mt-6",children:s.jsx("div",{className:"bg-background/80 supports-[backdrop-filter]:backdrop-blur  p-0 mt-10",children:s.jsx("div",{className:"max-w-5xl mx-auto flex gap-2",children:s.jsx(O,{className:"flex-1 h-10",onClick:()=>{d(1),h(null),p(""),v(""),y(""),b(""),H(null)},children:"Fazer outro pedido"})})})})]})]})]}):null,ee&&o&&s.jsx(ca,{open:ee,onOpenChange:j=>{J(j),j||(d(1),h(null),p(""),v(""),y(""),b(""),N(""),S(0),re(!1),U(!1),H(null),E(null),Y(!1),z(!1),D(2))},children:s.jsx(Us,{side:"bottom",className:"h-full w-full rounded-t-none p-0",children:s.jsxs("div",{className:"flex flex-col h-full",children:[s.jsx("div",{className:"flex items-center justify-center p-4 border-b",children:s.jsx("h3",{className:"text-lg font-bold bg-gradient-to-r from-yellow-200 via-yellow-400 via-amber-400 to-orange-500 bg-clip-text text-transparent",children:"Pedir música"})}),s.jsx("div",{className:"p-4 border-none",children:s.jsxs("div",{className:"flex items-center justify-center gap-8",children:[s.jsx("div",{className:"group",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:`w-16 h-0.5 rounded-full transition-all duration-300 ${I>=1?"bg-gray-500":"bg-muted-foreground/20"}`}),s.jsx("p",{className:"text-xs text-muted-foreground/70 mt-2",children:"Música"})]})}),s.jsx("div",{className:"group",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:`w-16 h-0.5 rounded-full transition-all duration-300 ${I>=2?"bg-gray-500":"bg-muted-foreground/20"}`}),s.jsx("p",{className:"text-xs text-muted-foreground/70 mt-2",children:"Identificação"})]})}),s.jsx("div",{className:"group",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:`w-16 h-0.5 rounded-full transition-all duration-300 ${I>=3?"bg-gray-500":"bg-muted-foreground/20"}`}),s.jsx("p",{className:"text-xs text-muted-foreground/70 mt-2",children:"Contribuição"})]})})]})}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-4",children:[I===2&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Seu nome"}),s.jsx(Oe,{ref:ce,value:m,onChange:j=>pe(j.target.value),placeholder:"Ex.: Ana",className:"h-11 placeholder:text-muted-foreground/40"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Mensagem/Dedicatória"}),s.jsx($i,{value:w,onChange:j=>v(j.target.value),placeholder:"Para quem vai essa música?",className:"min-h-[80px] placeholder:text-muted-foreground/40",maxLength:200}),s.jsx("div",{className:"flex justify-end mt-1",children:s.jsxs("span",{className:"text-xs text-muted-foreground",children:[w.length,"/200"]})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Descrição adicional (opcional)"}),s.jsx($i,{value:g,onChange:j=>y(j.target.value),placeholder:"Detalhes extras",className:"min-h-[80px] placeholder:text-muted-foreground/40",maxLength:200}),s.jsx("div",{className:"flex justify-end mt-1",children:s.jsxs("span",{className:"text-xs text-muted-foreground",children:[g.length,"/200"]})})]})]}),I===3&&!_&&s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Valor da contribuição (opcional)"}),s.jsx(Oe,{ref:be,type:"text",inputMode:"numeric",placeholder:"Ex.: 10,00",value:x,onChange:j=>{k&&z(!1);const M=j.target.value.replace(/\D/g,"");if(!M){b("");return}if(M.length===1){b(`0,0${M}`);return}if(M.length===2){b(`0,${M}`);return}const W=M.slice(0,-2),ge=M.slice(-2),Ne=W.replace(/^0+(?=\d)/,"").replace(/\B(?=(\d{3})+(?!\d))/g,".");b(`${Ne},${ge}`)},className:"h-11 placeholder:text-muted-foreground/40"}),s.jsx("div",{className:"flex flex-wrap gap-2 mt-3",children:[15,30,50,100].map(j=>s.jsxs(O,{type:"button",variant:"secondary",size:"sm",className:"h-8 px-3 text-xs border-none bg-muted hover:bg-muted/80",onClick:()=>{const M=`${j},00`;b(M),k&&z(!1)},children:["R$ ",j.toLocaleString("pt-BR")]},j))}),s.jsx("div",{className:"mt-4",children:s.jsx(O,{className:"w-full h-10",disabled:vt||!x||T||q,onClick:async()=>{x&&await kt()},children:vt?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent mr-2"}),"Gerando PIX..."]}):s.jsxs(s.Fragment,{children:[s.jsx(cu,{className:"h-4 w-4 mr-2"}),"Gerar PIX"]})})}),k&&C&&s.jsxs("div",{className:"mt-2 p-3 rounded-md border-none bg-red-50 dark:bg-red-950/20",children:[s.jsx("p",{className:"text-sm text-red-700 dark:text-red-300 font-medium",children:C}),C!=null&&C.toLowerCase().includes("expirou")?null:s.jsx("p",{className:"text-xs text-red-600 dark:text-red-400 mt-1",children:"Ajuste o valor acima para continuar ou crie uma conta para pedidos ilimitados."})]})]})}),I===3&&_&&s.jsxs("div",{className:"text-center space-y-4",children:[P>0&&s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Expira em ",Math.floor(P/60),":",String(P%60).padStart(2,"0")]}),q&&s.jsx("p",{className:"text-xs text-green-600",children:"Transação confirmada!"}),s.jsx("img",{src:`https://quickchart.io/qr?text=${encodeURIComponent(_)}&size=260&margin=1&ecLevel=M`,alt:"QR Code Pix",className:"rounded border mx-auto",loading:"lazy"}),s.jsx("div",{className:"flex items-center gap-2 justify-center",children:s.jsx(O,{variant:"outline",onClick:()=>{navigator.clipboard.writeText(_),oe({title:"Código copiado"})},children:"Copiar código PIX"})})]}),I===4&&!A&&s.jsx("div",{className:"flex-1 flex items-center justify-center",children:s.jsx("div",{className:"text-center space-y-6 max-w-md",children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-green-600 font-semibold text-2xl",children:"Pedido enviado com sucesso!"}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("p",{className:"text-sm font-medium",children:"Resumo do pedido:"}),s.jsxs("ul",{className:"text-sm list-disc pl-5 space-y-1 text-left",children:[s.jsxs("li",{children:["Música: ",s.jsx("strong",{children:u==null?void 0:u.title}),u!=null&&u.artist?` — ${u.artist}`:""]}),m&&s.jsxs("li",{children:["Solicitante: ",s.jsx("strong",{children:m})]}),w&&s.jsxs("li",{children:["Dedicatória: ",w]}),g&&s.jsxs("li",{children:["Descrição adicional: ",g]}),x&&s.jsxs("li",{children:["Contribuição:"," ",HN(Number(x.replace(/[^0-9,.-]/g,"").replace(",",".")))," ","(opcional)"]})]})]})]})})}),I===4&&A&&s.jsx("div",{className:"flex-1 flex items-center justify-center",children:s.jsx("div",{className:"text-center space-y-6 max-w-md",children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-red-600 font-semibold text-2xl",children:"Pedido não enviado"}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:C}),s.jsxs("div",{className:"p-4 rounded-md border bg-red-50 dark:bg-red-950/20",children:[s.jsx("p",{className:"text-sm font-medium text-red-700 dark:text-red-300",children:"Para enviar este pedido, você precisa:"}),s.jsx("ul",{className:"text-sm text-red-600 dark:text-red-400 mt-2 list-disc pl-5 space-y-1",children:s.jsx("li",{children:"Contribuir com valor de R$ 5,00 ou mais"})})]})]})]})})})]}),s.jsxs("div",{className:"p-4 border-t",children:[I===2&&s.jsx(O,{className:"w-full h-12",onClick:()=>D(3),disabled:!m.trim(),children:"Continuar"}),I===3&&!_&&s.jsx("div",{className:"flex gap-3",children:s.jsx(O,{variant:"outline",className:"flex-1 h-12",onClick:()=>{z(!1),D(2)},children:"Voltar"})}),I===4&&s.jsx(O,{className:"w-full h-12",onClick:()=>{J(!1),d(1),h(null),p(""),v(""),y(""),b(""),N(""),S(0),re(!1),U(!1),Se.current=!1,Ue.current=null,H(null),E(null),Y(!1),z(!1),D(2)},children:"Fazer outro pedido"})]})]})})}),$e==="photos"&&s.jsx(tt,{className:"border-none shadow-none",children:s.jsx(rt,{className:"p-0 m-0",children:pA?s.jsx("div",{className:"grid gap-1 grid-cols-3",children:Array.from({length:9}).map((j,M)=>s.jsx("div",{className:"aspect-square relative overflow-hidden",children:s.jsx(Xe,{className:"absolute inset-0 w-full h-full"})},M))}):Vn!=null&&Vn.length?s.jsx("div",{className:"grid gap-1 grid-cols-3",children:Vn.map(j=>s.jsxs("button",{className:"relative overflow-hidden aspect-square group",onClick:()=>eh({id:j.id,url:j.full_url,description:j.description,created_at:j.created_at}),"aria-label":"Abrir foto",children:[s.jsx("img",{src:j.grid_url,alt:j.description||"Foto",className:"absolute inset-0 w-full h-full object-cover"}),s.jsx("div",{className:"absolute inset-0 flex items-end justify-end p-1 bg-black/0 group-hover:bg-black/20 transition-colors",children:s.jsxs("div",{className:`px-1 py-0.5 rounded ${o?"text-[10px]":"text-[9px]"} text-white/90 bg-black/40 flex items-center ${o?"gap-2":"gap-1"}`,children:[s.jsxs("span",{className:`inline-flex items-center ${o?"gap-1":"gap-0.5"}`,children:[s.jsx(cn,{className:`${o?"h-3 w-3":"h-2.5 w-2.5"}`}),o?nh[j.id]||0:(nh[j.id]||0).toLocaleString("pt-BR")]}),s.jsxs("span",{className:`inline-flex items-center ${o?"gap-1":"gap-0.5"}`,children:[s.jsx($l,{className:`${o?"h-3 w-3":"h-2.5 w-2.5"}`}),o?Tl[j.id]||0:(Tl[j.id]||0).toLocaleString("pt-BR")]})]})})]},j.id))}):s.jsx("p",{className:"text-sm text-muted-foreground",children:"Nenhuma foto disponível."})})})]})]}),s.jsx(Ur,{open:xt,onOpenChange:yt,children:s.jsxs(Pr,{className:"max-w-xl p-0",children:[s.jsx("div",{className:"p-4 border-b",children:s.jsx(Tr,{children:s.jsx(Rr,{children:`Seguidores - ${hv||Ud.length||0}`})})}),s.jsxs("div",{className:"p-4 max-h-[70vh] overflow-y-auto",children:[s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:Ud.map(j=>{const M=j.display_name||"Usuário";return s.jsxs(Yt,{to:`/m/${j.id}`,className:"flex items-center gap-3",children:[s.jsxs(Dt,{className:"h-10 w-10",isPro:!!(j!=null&&j.is_pro),children:[s.jsx(It,{src:j.avatar_url||void 0,alt:M}),s.jsx(Ft,{children:M.charAt(0).toUpperCase()})]}),s.jsx("span",{className:"truncate text-sm",children:M})]},`follm-${j.id}`)})}),FA&&s.jsx("div",{className:"mt-4 flex justify-center",children:s.jsx(O,{variant:"outline",onClick:()=>Uj(j=>j+1),children:"Carregar mais"})}),s.jsx("div",{ref:ze})]})]})}),s.jsx(Ur,{open:ie,onOpenChange:He,children:s.jsxs(Pr,{className:"max-w-xl p-0",children:[s.jsx("div",{className:"p-4 border-b",children:s.jsx(Tr,{children:s.jsx(Rr,{children:`Seguindo - ${dv||$d.length||0}`})})}),s.jsxs("div",{className:"p-4 max-h-[70vh] overflow-y-auto",children:[s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:$d.map(j=>{const M=j.display_name||"Usuário";return s.jsxs(Yt,{to:`/m/${j.id}`,className:"flex items-center gap-3",children:[s.jsxs(Dt,{className:"h-10 w-10",isPro:!!(j!=null&&j.is_pro),children:[s.jsx(It,{src:j.avatar_url||void 0,alt:M}),s.jsx(Ft,{children:M.charAt(0).toUpperCase()})]}),s.jsx("span",{className:"truncate text-sm",children:M})]},`folim-${j.id}`)})}),DA&&s.jsx("div",{className:"mt-4 flex justify-center",children:s.jsx(O,{variant:"outline",onClick:()=>Ij(j=>j+1),children:"Carregar mais"})}),s.jsx("div",{ref:pt})]})]})}),Be&&s.jsx(Ur,{open:!!Be,onOpenChange:()=>eh(null),children:s.jsxs(Pr,{className:"max-w-4xl w-full h-full md:h-auto p-0",hideClose:!0,children:[s.jsx(Tr,{children:s.jsx(Rr,{children:"Visualizar foto"})}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-0",children:[s.jsxs("div",{className:"bg-black relative h-[50vh] md:h-auto",children:[s.jsx("img",{src:Be.url,alt:"Foto",className:"w-full h-full object-cover md:object-contain md:max-h-[80vh] mx-auto"}),s.jsx("button",{className:"absolute top-3 right-3 z-50 bg-black/80 hover:bg-black text-white rounded-full p-2 transition-colors shadow-lg md:hidden",onClick:()=>eh(null),"aria-label":"Fechar foto",type:"button",children:s.jsx(Mr,{className:"h-5 w-5"})}),o&&s.jsxs("div",{className:"absolute bottom-3 left-3 flex items-center gap-2 bg-white/20 backdrop-blur-md rounded-lg p-2",children:[s.jsxs(O,{variant:Sa?"secondary":"outline",size:"sm",onClick:Pj,"aria-pressed":Sa?"true":"false","aria-label":Sa?"Remover curtida":"Curtir foto",className:"bg-transparent border-white/40 hover:bg-white/20 text-white",children:[s.jsx(cn,{className:`h-4 w-4 mr-2 ${Sa?"fill-current":""}`}),th]}),s.jsxs(O,{variant:"outline",size:"sm",onClick:()=>xj(!0),"aria-label":"Ver comentários",className:"bg-transparent border-white/40 hover:bg-white/20 text-white",children:[s.jsx($l,{className:"h-4 w-4 mr-2"}),Tl[Be.id]||0]}),th>0&&s.jsx("button",{className:"flex -space-x-2",onClick:CA,"aria-label":"Ver curtidas",children:gj.map((j,M)=>s.jsxs(Dt,{className:`h-6 w-6 ring-2 ring-background ${M===0?"":"-ml-2"}`,children:[s.jsx(It,{src:j.avatar_url||void 0,alt:"avatar"}),s.jsx(Ft,{className:"bg-muted text-foreground/70 text-[10px]",children:"U"})]},j.id))}),s.jsx(O,{variant:"ghost",size:"icon",onClick:Aj,"aria-label":"Denunciar foto",className:"bg-transparent hover:bg-white/20 text-white",children:s.jsx(tx,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{className:"p-4 flex flex-col min-h-[50vh] md:min-h-[60vh] max-h-[50vh] md:max-h-[80vh] overflow-y-auto",children:[s.jsx(SA,{description:Be.description||"Sem descrição"}),!o&&s.jsx("div",{className:"mt-3 space-y-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"text-xs text-muted-foreground",children:Be!=null&&Be.created_at?ch(Be.created_at):null}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{onClick:Pj,className:`flex items-center gap-2 text-sm transition-colors ${Sa?"text-primary":"text-muted-foreground hover:text-foreground"}`,"aria-pressed":Sa?"true":"false","aria-label":Sa?"Remover curtida":"Curtir foto",children:[s.jsx(cn,{className:`h-5 w-5 ${Sa?"fill-current":""}`}),s.jsx("span",{className:"font-medium",children:th})]}),th>0&&s.jsx("div",{className:"flex -space-x-2",children:gj.slice(0,3).map((j,M)=>s.jsxs(Dt,{className:`h-5 w-5 ring-2 ring-background ${M===0?"":"-ml-2"}`,children:[s.jsx(It,{src:j.avatar_url||void 0,alt:"avatar"}),s.jsx(Ft,{className:"bg-muted text-foreground/70 text-[10px]",children:"U"})]},j.id))})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx($l,{className:"h-5 w-5"}),s.jsx("span",{className:"font-medium",children:Tl[Be.id]||0})]})]}),s.jsx("button",{onClick:Aj,className:"text-muted-foreground hover:text-foreground transition-colors p-1 rounded","aria-label":"Denunciar foto",children:s.jsx(tx,{className:"h-4 w-4"})})]})}),o&&s.jsx("div",{className:"mt-2 text-xs text-muted-foreground",children:Be!=null&&Be.created_at?ch(Be.created_at):null}),s.jsx(Zo,{className:"my-4"}),s.jsx("h4",{id:"photo-comments",className:"font-medium mb-2",children:"Comentários"}),s.jsxs("div",{className:"space-y-3 flex-1 overflow-y-auto pr-1 max-h-[50vh]",children:[ls.length===0?s.jsx("p",{className:"text-sm text-muted-foreground",children:"Seja o primeiro a comentar."}):ls.map(j=>{const M=Jg[j.user_id]||{},ge=(M.username||M.display_name||"Usuário").split(" ")[0];return s.jsxs("div",{className:"py-2 flex gap-2",children:[s.jsxs(Dt,{className:"h-6 w-6 mt-0.5",children:[s.jsx(It,{src:M.avatar_url||void 0,alt:ge}),s.jsx(Ft,{children:(ge||"U").charAt(0).toUpperCase()})]}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"text-sm",children:[s.jsx("span",{children:ge}),s.jsxs("span",{className:"text-foreground/90",children:["— ",j.content.slice(0,120)]})]}),s.jsxs("div",{className:"mt-1 flex items-center gap-2 text-xs text-muted-foreground",children:[s.jsx("span",{children:ch(j.created_at)}),j.user_id===(X==null?void 0:X.id)&&s.jsx("span",{children:"· Você"}),(X==null?void 0:X.id)&&X.id!==j.user_id&&s.jsx("button",{className:"inline-flex items-center justify-center h-6 w-6 rounded hover:bg-muted",onClick:()=>PA(j.id),"aria-label":"Denunciar comentário",title:"Denunciar",children:s.jsx(tx,{className:"h-3.5 w-3.5"})}),(j.user_id===(X==null?void 0:X.id)||cs)&&s.jsx("div",{className:"ml-auto",children:s.jsxs(Zi,{children:[s.jsx(Ji,{asChild:!0,children:s.jsx("button",{className:"inline-flex items-center justify-center h-6 w-6 rounded hover:bg-muted","aria-label":"Mais opções",children:s.jsx(Yi,{className:"h-4 w-4"})})}),s.jsxs(Ya,{align:"end",className:"w-28",children:[j.user_id===(X==null?void 0:X.id)&&s.jsx(ur,{onClick:()=>{Zg(j.id),So(j.content)},children:"Editar"}),s.jsx(ym,{}),s.jsx(ur,{className:"text-destructive focus:text-destructive",onClick:()=>j.user_id===(X==null?void 0:X.id)?Rj():Mj(j.id),children:"Excluir"})]})]})})]}),j.reply_text?bA[j.id]?s.jsxs("div",{className:"mt-2 text-xs text-foreground bg-muted/40 rounded p-2",children:[s.jsx("div",{className:"font-medium mb-1",children:"Resposta do músico"}),s.jsx("div",{children:j.reply_text}),s.jsx("button",{className:"mt-1 text-xs underline underline-offset-2 text-muted-foreground",onClick:()=>Nj(ve=>({...ve,[j.id]:!1})),children:"Ocultar resposta"})]}):s.jsx("button",{className:"mt-2 text-xs underline underline-offset-2 text-muted-foreground",onClick:()=>Nj(ve=>({...ve,[j.id]:!0})),children:"Ver resposta"}):null,yj===j.id&&j.user_id===(X==null?void 0:X.id)?s.jsx("div",{className:"mt-2",children:s.jsx(Oe,{value:ev,onChange:ve=>So(ve.target.value),onKeyDown:ve=>{ve.key==="Enter"&&!ve.shiftKey&&(ve.preventDefault(),Tj())},className:"h-8 px-2 py-1 text-sm"})}):null]})]},j.id)}),ls.length<bj&&s.jsx("div",{className:"pt-1 flex justify-center",children:s.jsx(O,{variant:"outline",size:"sm",onClick:kj,disabled:sh,children:sh?"Carregando...":"Mais"})})]}),!o&&s.jsx("div",{className:"pt-2 bg-background",children:X?_j?null:s.jsx("div",{className:"flex items-center gap-2",children:s.jsx(Oe,{value:ih,onChange:j=>Md(j.target.value),onKeyDown:j=>{j.key==="Enter"&&!j.shiftKey&&(j.preventDefault(),iv())},placeholder:"Adicione um comentário...",className:"h-8 px-2 py-1 text-sm placeholder:text-muted-foreground/40"})}):s.jsx("p",{className:"text-xs text-muted-foreground",children:"Entre para comentar."})})]})]})]})}),o&&s.jsx(ca,{open:xA,onOpenChange:xj,children:s.jsxs(Us,{side:"bottom",className:"h-[70vh] p-3 flex flex-col",children:[s.jsx("div",{className:"mb-2",children:s.jsx("h4",{className:"font-medium",children:"Comentários"})}),s.jsxs("div",{className:"flex-1 overflow-y-auto pr-1 space-y-3",onScroll:j=>{const M=j.currentTarget;M.scrollTop+M.clientHeight>=M.scrollHeight-16&&!sh&&kj()},children:[ls.length===0?s.jsx("p",{className:"text-sm text-muted-foreground",children:"Seja o primeiro a comentar."}):ls.map(j=>{const M=Jg[j.user_id]||{},ge=(M.username||M.display_name||"Usuário").split(" ")[0];return s.jsxs("div",{className:"py-2 flex gap-2",children:[s.jsxs(Dt,{className:"h-6 w-6 mt-0.5",children:[s.jsx(It,{src:M.avatar_url||void 0,alt:ge}),s.jsx(Ft,{children:(ge||"U").charAt(0).toUpperCase()})]}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"text-sm",children:[s.jsx("span",{children:ge}),s.jsxs("span",{className:"text-foreground/90",children:["— ",j.content.slice(0,120)]})]}),s.jsxs("div",{className:"mt-1 flex items-center gap-2 text-xs text-muted-foreground",children:[s.jsx("span",{children:ch(j.created_at)}),(j.user_id===(X==null?void 0:X.id)||cs)&&s.jsx("div",{className:"ml-auto",children:s.jsxs(Zi,{children:[s.jsx(Ji,{asChild:!0,children:s.jsx("button",{className:"inline-flex items-center justify-center h-6 w-6 rounded hover:bg-muted","aria-label":"Mais opções",children:s.jsx(Yi,{className:"h-4 w-4"})})}),s.jsxs(Ya,{align:"end",className:"w-28",children:[j.user_id===(X==null?void 0:X.id)&&s.jsx(ur,{onClick:()=>{Zg(j.id),So(j.content)},children:"Editar"}),s.jsx(ym,{}),s.jsx(ur,{className:"text-destructive focus:text-destructive",onClick:()=>j.user_id===(X==null?void 0:X.id)?Rj():Mj(j.id),children:"Excluir"})]})]})})]}),j.reply_text?s.jsxs("div",{className:"mt-2 text-xs text-foreground bg-muted/40 rounded p-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"font-medium",children:"Resposta do músico"}),cs&&s.jsx("div",{className:"ml-auto",children:s.jsxs(Zi,{children:[s.jsx(Ji,{asChild:!0,children:s.jsx("button",{className:"inline-flex items-center justify-center h-6 w-6 rounded hover:bg-muted","aria-label":"Opções da resposta",children:s.jsx(Yi,{className:"h-4 w-4"})})}),s.jsxs(Ya,{align:"end",className:"w-36",children:[s.jsx(ur,{onClick:()=>{oh(ve=>({...ve,[j.id]:j.reply_text||""})),Rd(j.id)},children:"Editar"}),s.jsx(ym,{}),s.jsx(ur,{className:"text-destructive focus:text-destructive",onClick:()=>EA(j.id),children:"Excluir"})]})]})})]}),yA===j.id?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Oe,{autoFocus:!0,value:tv[j.id]||j.reply_text||"",onChange:ve=>oh(Ne=>({...Ne,[j.id]:ve.target.value})),onBlur:()=>Rd(null),onKeyDown:ve=>{ve.key==="Enter"&&!ve.shiftKey&&(ve.preventDefault(),ov(j.id),Rd(null))},className:"h-8 px-2 py-1 text-xs"}),s.jsx(O,{className:"m-0 p-1",size:"sm",onClick:()=>{ov(j.id),Rd(null)},children:"Enviar"})]}):s.jsx("div",{children:j.reply_text})]}):cs?s.jsxs("div",{className:"mt-2",children:[s.jsx("label",{className:"block text-xs mb-1",children:"Responder"}),s.jsx(Oe,{value:tv[j.id]||"",onChange:ve=>oh(Ne=>({...Ne,[j.id]:ve.target.value})),onKeyDown:ve=>{ve.key==="Enter"&&!ve.shiftKey&&(ve.preventDefault(),ov(j.id))},placeholder:"Responder...",className:"h-9 px-3 placeholder:text-muted-foreground/40"})]}):null,yj===j.id&&j.user_id===(X==null?void 0:X.id)?s.jsx("div",{className:"mt-2",children:s.jsx(Oe,{value:ev,onChange:ve=>So(ve.target.value),onKeyDown:ve=>{ve.key==="Enter"&&!ve.shiftKey&&(ve.preventDefault(),Tj())},className:"h-8 px-2 py-1 text-sm placeholder:text-muted-foreground/40"})}):null]})]},j.id)}),sh&&s.jsx("div",{className:"pt-1 pb-2 text-center text-xs text-muted-foreground",children:"Carregando..."})]}),s.jsx("div",{className:"mt-2 pt-2 m-0 p-1 border-t",children:X?_j?null:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Oe,{value:ih,onChange:j=>Md(j.target.value),onKeyDown:j=>{j.key==="Enter"&&!j.shiftKey&&(j.preventDefault(),iv())},placeholder:"Adicione um comentário...",className:"h-10 px-3 placeholder:text-muted-foreground/40"}),s.jsx(O,{className:"m-0 p-1",size:"sm",onClick:iv,disabled:ih.trim().length===0,"aria-label":"Enviar comentário",children:"Comentar"})]}):s.jsx("p",{className:"text-xs text-muted-foreground",children:"Entre para comentar."})})]})}),s.jsx(Ur,{open:jA,onOpenChange:Ad,children:s.jsxs(Pr,{className:"max-w-md",children:[s.jsx(Tr,{children:s.jsx(Rr,{children:"Denunciar"})}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Descreva brevemente o motivo da denúncia. Nossa equipe avaliará o conteúdo."}),s.jsx(Oe,{value:Sj,onChange:j=>lh(j.target.value),placeholder:"Motivo da denúncia",className:"placeholder:text-muted-foreground/40"}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(O,{variant:"outline",onClick:()=>Ad(!1),children:"Cancelar"}),s.jsx(O,{onClick:TA,children:"Enviar"})]})]})]})}),s.jsx(Ur,{open:gA,onOpenChange:fj,children:s.jsxs(Pr,{className:"max-w-md",children:[s.jsx(Tr,{children:s.jsx(Rr,{children:"Curtiram"})}),vA?s.jsx("p",{className:"text-sm text-muted-foreground",children:"Carregando..."}):mj.length===0?s.jsx("p",{className:"text-sm text-muted-foreground",children:"Ninguém curtiu ainda."}):s.jsx("div",{className:"max-h-[60vh] overflow-y-auto divide-y",children:mj.map(j=>s.jsxs("div",{className:"flex items-center justify-between gap-3 py-2",children:[s.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[s.jsxs(Dt,{className:"h-8 w-8",children:[s.jsx(It,{src:j.avatar_url||void 0,alt:j.display_name||"Usuário"}),s.jsx(Ft,{children:(j.display_name||"U").charAt(0).toUpperCase()})]}),s.jsx("span",{className:"text-sm truncate",children:j.display_name||"Usuário"})]}),j.id!==(X==null?void 0:X.id)&&s.jsx(O,{size:"sm",variant:Qg[j.id]?"secondary":"outline",onClick:()=>kA(j.id),children:Qg[j.id]?"Seguindo":"Seguir"})]},j.id))})]})})]}),s.jsx("footer",{className:"mt-auto py-6 text-center text-xs text-muted-foreground",children:"© 2025 - AVAplay"})]})]})})},Ro=()=>{const{username:e,section:t}=fb(),r=Qs(),{data:n,isLoading:a}=Ze({queryKey:["profile-by-username",e],enabled:!!e,queryFn:async()=>{const{data:c,error:d}=await $.from("profiles").select("id, is_active").eq("username",(e||"").toLowerCase()).eq("is_active",!0).maybeSingle();if(d)throw d;if(!c)return null;const{data:u,error:h}=await $.from("user_roles").select("role").eq("user_id",c.id).in("role",["public","musician"]);if(h)throw h;if(u&&u.length>0)return c;const{data:m,error:p}=await $.from("songs").select("id").eq("owner_id",c.id).limit(1);if(p)throw p;return m&&m.length>0?c:null}});if(f.useEffect(()=>{document.title=e?`${e} — Perfil`:document.title},[e]),a)return null;if(!(n!=null&&n.id))return s.jsx(l0,{to:"/na",replace:!0});const i=c=>{const d=String(c||"").toLowerCase();return["pedir-musica","musicas","musicas"].includes(d)?"music":["agenda"].includes(d)?"schedule":["fotos","galeria"].includes(d)?"photos":["contratar","contrato"].includes(d)?"contract":["contribuir","contribuicao"].includes(d)?"contribute":"music"},o=(()=>{try{return(r.pathname||"").split("/").filter(Boolean)[1]}catch{return}})(),l=t||o;return s.jsx(oM,{mid:n.id,initialView:i(l)})};function oH(){return s.jsxs("main",{className:"container mx-auto px-4 py-12",children:[s.jsx(Xt,{title:"Perfil indisponível",description:"Este usuário não está disponível no momento."}),s.jsx("div",{className:"max-w-xl mx-auto",children:s.jsx(tt,{className:"border-0 shadow-none",children:s.jsxs(rt,{className:"p-6 text-center space-y-4",children:[s.jsx("h1",{className:"text-2xl font-semibold",children:"Usuário indisponível"}),s.jsx("p",{className:"text-muted-foreground",children:"No momento, este usuário não está disponível. Ele pode estar concluindo o cadastro ou ter desativado o perfil."}),s.jsx(O,{asChild:!0,children:s.jsx(Yt,{to:"/",children:"Voltar para a página inicial"})})]})})})]})}function lH(){return f.useEffect(()=>{$.auth.signOut().catch(()=>{})},[]),s.jsxs("main",{className:"container mx-auto px-4 py-12",children:[s.jsx(Xt,{title:"Conta bloqueada",description:"Este usuário está com a conta bloqueada."}),s.jsx("div",{className:"max-w-xl mx-auto",children:s.jsx(tt,{className:"border-0 shadow-none",children:s.jsxs(rt,{className:"p-6 text-center space-y-4",children:[s.jsx("h1",{className:"text-2xl font-semibold",children:"Conta bloqueada"}),s.jsx("p",{className:"text-muted-foreground",children:"Sua conta foi bloqueada. Se acredita tratar-se de um engano, entre em contato com o suporte."}),s.jsx("div",{className:"flex justify-center gap-2",children:s.jsx(O,{asChild:!0,children:s.jsx(Yt,{to:"/",children:"Ir para a página inicial"})})})]})})})]})}function k0(e,[t,r]){return Math.min(r,Math.max(t,e))}function cH(e,t){return f.useReducer((r,n)=>t[r][n]??r,e)}var Yb="ScrollArea",[lM,fQ]=kn(Yb),[dH,_s]=lM(Yb),cM=f.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:a,scrollHideDelay:i=600,...o}=e,[l,c]=f.useState(null),[d,u]=f.useState(null),[h,m]=f.useState(null),[p,w]=f.useState(null),[v,g]=f.useState(null),[y,x]=f.useState(0),[b,_]=f.useState(0),[N,P]=f.useState(!1),[S,T]=f.useState(!1),U=ct(t,re=>c(re)),q=Kf(a);return s.jsx(dH,{scope:r,type:n,dir:q,scrollHideDelay:i,scrollArea:l,viewport:d,onViewportChange:u,content:h,onContentChange:m,scrollbarX:p,onScrollbarXChange:w,scrollbarXEnabled:N,onScrollbarXEnabledChange:P,scrollbarY:v,onScrollbarYChange:g,scrollbarYEnabled:S,onScrollbarYEnabledChange:T,onCornerWidthChange:x,onCornerHeightChange:_,children:s.jsx(Ie.div,{dir:q,...o,ref:U,style:{position:"relative","--radix-scroll-area-corner-width":y+"px","--radix-scroll-area-corner-height":b+"px",...e.style}})})});cM.displayName=Yb;var dM="ScrollAreaViewport",uM=f.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:a,...i}=e,o=_s(dM,r),l=f.useRef(null),c=ct(t,l,o.onViewportChange);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),s.jsx(Ie.div,{"data-radix-scroll-area-viewport":"",...i,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:s.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});uM.displayName=dM;var ja="ScrollAreaScrollbar",Qb=f.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=_s(ja,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=a,l=e.orientation==="horizontal";return f.useEffect(()=>(l?i(!0):o(!0),()=>{l?i(!1):o(!1)}),[l,i,o]),a.type==="hover"?s.jsx(uH,{...n,ref:t,forceMount:r}):a.type==="scroll"?s.jsx(fH,{...n,ref:t,forceMount:r}):a.type==="auto"?s.jsx(fM,{...n,ref:t,forceMount:r}):a.type==="always"?s.jsx(Xb,{...n,ref:t}):null});Qb.displayName=ja;var uH=f.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=_s(ja,e.__scopeScrollArea),[i,o]=f.useState(!1);return f.useEffect(()=>{const l=a.scrollArea;let c=0;if(l){const d=()=>{window.clearTimeout(c),o(!0)},u=()=>{c=window.setTimeout(()=>o(!1),a.scrollHideDelay)};return l.addEventListener("pointerenter",d),l.addEventListener("pointerleave",u),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",d),l.removeEventListener("pointerleave",u)}}},[a.scrollArea,a.scrollHideDelay]),s.jsx(rn,{present:r||i,children:s.jsx(fM,{"data-state":i?"visible":"hidden",...n,ref:t})})}),fH=f.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=_s(ja,e.__scopeScrollArea),i=e.orientation==="horizontal",o=Fg(()=>c("SCROLL_END"),100),[l,c]=cH("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return f.useEffect(()=>{if(l==="idle"){const d=window.setTimeout(()=>c("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(d)}},[l,a.scrollHideDelay,c]),f.useEffect(()=>{const d=a.viewport,u=i?"scrollLeft":"scrollTop";if(d){let h=d[u];const m=()=>{const p=d[u];h!==p&&(c("SCROLL"),o()),h=p};return d.addEventListener("scroll",m),()=>d.removeEventListener("scroll",m)}},[a.viewport,i,c,o]),s.jsx(rn,{present:r||l!=="hidden",children:s.jsx(Xb,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:Ce(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:Ce(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),fM=f.forwardRef((e,t)=>{const r=_s(ja,e.__scopeScrollArea),{forceMount:n,...a}=e,[i,o]=f.useState(!1),l=e.orientation==="horizontal",c=Fg(()=>{if(r.viewport){const d=r.viewport.offsetWidth<r.viewport.scrollWidth,u=r.viewport.offsetHeight<r.viewport.scrollHeight;o(l?d:u)}},10);return sd(r.viewport,c),sd(r.content,c),s.jsx(rn,{present:n||i,children:s.jsx(Xb,{"data-state":i?"visible":"hidden",...a,ref:t})})}),Xb=f.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,a=_s(ja,e.__scopeScrollArea),i=f.useRef(null),o=f.useRef(0),[l,c]=f.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=vM(l.viewport,l.content),u={...n,sizes:l,onSizesChange:c,hasThumb:d>0&&d<1,onThumbChange:m=>i.current=m,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:m=>o.current=m};function h(m,p){return xH(m,o.current,l,p)}return r==="horizontal"?s.jsx(hH,{...u,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const m=a.viewport.scrollLeft,p=KN(m,l,a.dir);i.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:m=>{a.viewport&&(a.viewport.scrollLeft=m)},onDragScroll:m=>{a.viewport&&(a.viewport.scrollLeft=h(m,a.dir))}}):r==="vertical"?s.jsx(mH,{...u,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const m=a.viewport.scrollTop,p=KN(m,l);i.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:m=>{a.viewport&&(a.viewport.scrollTop=m)},onDragScroll:m=>{a.viewport&&(a.viewport.scrollTop=h(m))}}):null}),hH=f.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,i=_s(ja,e.__scopeScrollArea),[o,l]=f.useState(),c=f.useRef(null),d=ct(t,c,i.onScrollbarXChange);return f.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(mM,{"data-orientation":"horizontal",...a,ref:d,sizes:r,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Ig(r)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.x),onDragScroll:u=>e.onDragScroll(u.x),onWheelScroll:(u,h)=>{if(i.viewport){const m=i.viewport.scrollLeft+u.deltaX;e.onWheelScroll(m),yM(m,h)&&u.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&n({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:mp(o.paddingLeft),paddingEnd:mp(o.paddingRight)}})}})}),mH=f.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,i=_s(ja,e.__scopeScrollArea),[o,l]=f.useState(),c=f.useRef(null),d=ct(t,c,i.onScrollbarYChange);return f.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(mM,{"data-orientation":"vertical",...a,ref:d,sizes:r,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Ig(r)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.y),onDragScroll:u=>e.onDragScroll(u.y),onWheelScroll:(u,h)=>{if(i.viewport){const m=i.viewport.scrollTop+u.deltaY;e.onWheelScroll(m),yM(m,h)&&u.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&n({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:mp(o.paddingTop),paddingEnd:mp(o.paddingBottom)}})}})}),[pH,hM]=lM(ja),mM=f.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:a,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:d,onWheelScroll:u,onResize:h,...m}=e,p=_s(ja,r),[w,v]=f.useState(null),g=ct(t,U=>v(U)),y=f.useRef(null),x=f.useRef(""),b=p.viewport,_=n.content-n.viewport,N=yr(u),P=yr(c),S=Fg(h,10);function T(U){if(y.current){const q=U.clientX-y.current.left,re=U.clientY-y.current.top;d({x:q,y:re})}}return f.useEffect(()=>{const U=q=>{const re=q.target;(w==null?void 0:w.contains(re))&&N(q,_)};return document.addEventListener("wheel",U,{passive:!1}),()=>document.removeEventListener("wheel",U,{passive:!1})},[b,w,_,N]),f.useEffect(P,[n,P]),sd(w,S),sd(p.content,S),s.jsx(pH,{scope:r,scrollbar:w,hasThumb:a,onThumbChange:yr(i),onThumbPointerUp:yr(o),onThumbPositionChange:P,onThumbPointerDown:yr(l),children:s.jsx(Ie.div,{...m,ref:g,style:{position:"absolute",...m.style},onPointerDown:Ce(e.onPointerDown,U=>{U.button===0&&(U.target.setPointerCapture(U.pointerId),y.current=w.getBoundingClientRect(),x.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),T(U))}),onPointerMove:Ce(e.onPointerMove,T),onPointerUp:Ce(e.onPointerUp,U=>{const q=U.target;q.hasPointerCapture(U.pointerId)&&q.releasePointerCapture(U.pointerId),document.body.style.webkitUserSelect=x.current,p.viewport&&(p.viewport.style.scrollBehavior=""),y.current=null})})})}),hp="ScrollAreaThumb",pM=f.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=hM(hp,e.__scopeScrollArea);return s.jsx(rn,{present:r||a.hasThumb,children:s.jsx(gH,{ref:t,...n})})}),gH=f.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...a}=e,i=_s(hp,r),o=hM(hp,r),{onThumbPositionChange:l}=o,c=ct(t,h=>o.onThumbChange(h)),d=f.useRef(void 0),u=Fg(()=>{d.current&&(d.current(),d.current=void 0)},100);return f.useEffect(()=>{const h=i.viewport;if(h){const m=()=>{if(u(),!d.current){const p=yH(h,l);d.current=p,l()}};return l(),h.addEventListener("scroll",m),()=>h.removeEventListener("scroll",m)}},[i.viewport,u,l]),s.jsx(Ie.div,{"data-state":o.hasThumb?"visible":"hidden",...a,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:Ce(e.onPointerDownCapture,h=>{const p=h.target.getBoundingClientRect(),w=h.clientX-p.left,v=h.clientY-p.top;o.onThumbPointerDown({x:w,y:v})}),onPointerUp:Ce(e.onPointerUp,o.onThumbPointerUp)})});pM.displayName=hp;var Zb="ScrollAreaCorner",gM=f.forwardRef((e,t)=>{const r=_s(Zb,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?s.jsx(vH,{...e,ref:t}):null});gM.displayName=Zb;var vH=f.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,a=_s(Zb,r),[i,o]=f.useState(0),[l,c]=f.useState(0),d=!!(i&&l);return sd(a.scrollbarX,()=>{var h;const u=((h=a.scrollbarX)==null?void 0:h.offsetHeight)||0;a.onCornerHeightChange(u),c(u)}),sd(a.scrollbarY,()=>{var h;const u=((h=a.scrollbarY)==null?void 0:h.offsetWidth)||0;a.onCornerWidthChange(u),o(u)}),d?s.jsx(Ie.div,{...n,ref:t,style:{width:i,height:l,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function mp(e){return e?parseInt(e,10):0}function vM(e,t){const r=e/t;return isNaN(r)?0:r}function Ig(e){const t=vM(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function xH(e,t,r,n="ltr"){const a=Ig(r),i=a/2,o=t||i,l=a-o,c=r.scrollbar.paddingStart+o,d=r.scrollbar.size-r.scrollbar.paddingEnd-l,u=r.content-r.viewport,h=n==="ltr"?[0,u]:[u*-1,0];return xM([c,d],h)(e)}function KN(e,t,r="ltr"){const n=Ig(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-a,o=t.content-t.viewport,l=i-n,c=r==="ltr"?[0,o]:[o*-1,0],d=k0(e,c);return xM([0,o],[0,l])(d)}function xM(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function yM(e,t){return e>0&&e<t}var yH=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function a(){const i={left:e.scrollLeft,top:e.scrollTop},o=r.left!==i.left,l=r.top!==i.top;(o||l)&&t(),r=i,n=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(n)};function Fg(e,t){const r=yr(e),n=f.useRef(0);return f.useEffect(()=>()=>window.clearTimeout(n.current),[]),f.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function sd(e,t){const r=yr(t);Sr(()=>{let n=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return a.observe(e),()=>{window.cancelAnimationFrame(n),a.unobserve(e)}}},[e,r])}var wM=cM,wH=uM,bH=gM;const bM=f.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(wM,{ref:n,className:le("relative overflow-hidden",e),...r,children:[s.jsx(wH,{className:"h-full w-full rounded-[inherit]",children:t}),s.jsx(jM,{}),s.jsx(bH,{})]}));bM.displayName=wM.displayName;const jM=f.forwardRef(({className:e,orientation:t="vertical",...r},n)=>s.jsx(Qb,{ref:n,orientation:t,className:le("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:s.jsx(pM,{className:"relative flex-1 rounded-full bg-border"})}));jM.displayName=Qb.displayName;function jH(){const[e,t]=f.useState(!1),[r,n]=f.useState(""),[a,i]=f.useState([{id:"hello",role:"assistant",content:"Olá! Sou seu assistente. Como posso ajudar?"}]),o=f.useRef(null),{user:l}=ar(),c=Qs(),{data:d}=Ze({queryKey:["roles",l==null?void 0:l.id],enabled:!!(l!=null&&l.id),queryFn:async()=>{const{data:p,error:w}=await $.from("user_roles").select("role").eq("user_id",l.id);if(w)throw w;return p}}),u=(d||[]).some(p=>p.role==="musician"),h=c.pathname.startsWith("/musician");f.useEffect(()=>{var p;(p=o.current)==null||p.scrollIntoView({behavior:"smooth"})},[a.length,e]);const m=()=>{const p=r.trim();p&&(i(w=>[...w,{id:crypto.randomUUID(),role:"user",content:p},{id:crypto.randomUUID(),role:"assistant",content:"Obrigado! Em breve responderei com mais recursos."}]),n(""))};return!l||!u||!h?null:s.jsxs("div",{className:"fixed bottom-8 right-4 z-50",children:[!e&&s.jsx(O,{"aria-label":"Abrir assistente",className:"h-12 w-12 rounded-full shadow-lg",onClick:()=>t(!0),children:s.jsx(B3,{className:"h-5 w-5"})}),e&&s.jsxs(tt,{className:"w-[320px] sm:w-[360px] h-[440px] shadow-2xl flex flex-col",children:[s.jsxs(Qt,{className:"py-3 px-4 border-b flex flex-row items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(M3,{className:"h-5 w-5 text-emerald-600 dark:text-emerald-400"}),s.jsx(cr,{className:"text-base text-emerald-600 dark:text-emerald-400",children:"Assistente AVAPlay"})]}),s.jsx(O,{variant:"ghost",size:"icon","aria-label":"Fechar",onClick:()=>t(!1),children:s.jsx(Mr,{className:"h-4 w-4"})})]}),s.jsxs(rt,{className:"p-0 flex-1 min-h-0 flex flex-col",children:[s.jsx(bM,{className:"flex-1 min-h-0 p-3",children:s.jsxs("div",{className:"space-y-3",children:[a.map(p=>s.jsx("div",{className:p.role==="user"?"text-right":"text-left",children:s.jsx("span",{className:"inline-block px-3 py-2 rounded-md text-sm "+(p.role==="user"?"bg-primary text-primary-foreground":"bg-muted text-foreground"),children:p.content})},p.id)),s.jsx("div",{ref:o})]})}),s.jsxs("div",{className:"p-3 border-t flex items-center gap-2",children:[s.jsx(Oe,{placeholder:"Digite sua mensagem...",value:r,onChange:p=>n(p.target.value),onKeyDown:p=>{p.key==="Enter"&&m()}}),s.jsx(O,{type:"button",onClick:m,"aria-label":"Enviar",children:s.jsx(W3,{className:"h-4 w-4"})})]})]})]})]})}function _H(){var w,v,g;const{mid:e}=fb(),t=Or(),{user:r}=ar(),[n,a]=f.useState(!1),i=((w=r==null?void 0:r.user_metadata)==null?void 0:w.full_name)||(r==null?void 0:r.email)||"Usuário",o=((v=r==null?void 0:r.user_metadata)==null?void 0:v.avatar_url)||void 0,l=async()=>{await $.auth.signOut(),t("/")},{data:c}=qT(e);f.useEffect(()=>{VT(e).catch(()=>{})},[e]);const d=c!=null&&c.display_name?`Agenda de ${c.display_name}`:"Agenda do músico";if(e&&!c)return s.jsx(ai,{children:s.jsx("div",{className:"min-h-screen flex w-full bg-background",children:s.jsxs("main",{className:"flex-1",children:[s.jsx(Xt,{title:"Perfil indisponível",description:"Este usuário não está disponível no momento."}),s.jsx("section",{className:"max-w-5xl mx-auto px-4 py-12",children:s.jsx(tt,{className:"border-0 shadow-none",children:s.jsxs(rt,{className:"p-6 text-center space-y-4",children:[s.jsx("h1",{className:"text-2xl font-semibold",children:"Usuário indisponível"}),s.jsx("p",{className:"text-muted-foreground",children:"No momento, este usuário não está disponível. Ele pode estar concluindo o cadastro ou ter desativado o perfil."}),s.jsx(O,{asChild:!0,children:s.jsx(Yt,{to:"/",children:"Voltar para a página inicial"})})]})})})]})})});const{data:u}=Ze({queryKey:["roles",r==null?void 0:r.id],enabled:!!(r!=null&&r.id),queryFn:async()=>{const{data:y,error:x}=await $.from("user_roles").select("role").eq("user_id",r.id);if(x)throw x;return y}}),h=(u||[]).some(y=>y.role==="musician"),{data:m,isLoading:p}=Ze({queryKey:["public-schedules",e],enabled:!!e,queryFn:async()=>{const{data:y}=await $.from("profiles").select("id").eq("id",e).eq("is_active",!0).maybeSingle();if(!y)return[];const{data:x,error:b}=await $.from("schedules").select("id, title, location, start_time").eq("musician_id",e).eq("is_public",!0).order("start_time",{ascending:!0});if(b)throw b;return x}});return s.jsx(ai,{children:s.jsxs("div",{className:"min-h-screen flex w-full bg-background",children:[h?s.jsx(zf,{}):null,s.jsxs("main",{className:"flex-1",children:[s.jsx(Xt,{title:d,description:"Acompanhe a agenda pública do músico."}),s.jsx("header",{children:s.jsx("nav",{className:"max-w-5xl mx-auto flex items-center justify-between p-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[(h||!!r)&&s.jsx(Nd,{className:"mr-1"}),s.jsx(Yt,{to:"/",className:"font-semibold",children:s.jsx("img",{src:"/logo_avaplay.png",alt:"AVAPlay",className:"h-6"})})]})})}),r&&s.jsx(ca,{open:n,onOpenChange:a,children:s.jsx(Us,{side:"left",className:"w-[16rem] p-0",children:s.jsxs("nav",{className:"p-2",children:[s.jsxs("div",{className:"flex items-center gap-3 p-3 border-b mb-2",children:[s.jsxs(Dt,{className:"h-10 w-10",isPro:!!((g=r==null?void 0:r.user_metadata)!=null&&g.is_pro),children:[s.jsx(It,{src:o,alt:i??"Usuário"}),s.jsx(Ft,{children:(i||"U").charAt(0).toUpperCase()})]}),s.jsx("div",{className:"min-w-0",children:s.jsx("p",{className:"text-sm font-medium truncate",children:i})})]}),h&&s.jsx(O,{variant:"ghost",className:"w-full justify-start",onClick:()=>{a(!1),t("/musician")},children:"Painel"}),s.jsx(O,{variant:"ghost",className:"w-full justify-start",onClick:()=>{a(!1),t("/requests")},children:"Meus Pedidos"}),s.jsx(O,{variant:"ghost",className:"w-full justify-start",onClick:()=>{a(!1),t("/conexoes")},children:"Conexões"}),s.jsx(O,{variant:"ghost",className:"w-full justify-start",onClick:()=>{a(!1),t("/musician/profile")},children:"Editar perfil"}),s.jsx(O,{variant:"ghost",className:"w-full justify-start",onClick:()=>{a(!1),l()},children:"Sair"}),s.jsx(aM,{})]})})}),s.jsxs("section",{className:"max-w-5xl mx-auto px-4 py-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h1",{className:"text-2xl font-semibold",children:d}),s.jsxs("div",{className:"flex gap-2",children:[e&&s.jsx(O,{variant:"outline",asChild:!0,children:s.jsx(Yt,{to:`/m/${e}`,children:"Página do músico"})}),s.jsx(O,{variant:"secondary",onClick:()=>t("/"),children:"Início"})]})]}),s.jsxs(tt,{children:[s.jsx(Qt,{children:s.jsx(cr,{children:"Próximos eventos"})}),s.jsx(rt,{children:p?s.jsx("p",{className:"text-muted-foreground",children:"Carregando agenda..."}):m!=null&&m.length?s.jsx("ul",{className:"space-y-3",children:m.map(y=>s.jsxs("li",{className:"flex items-center justify-between border rounded-md p-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:new Date(y.start_time).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"})}),s.jsx("p",{className:"text-sm text-muted-foreground",children:y.location||"Local a definir"})]}),s.jsx("span",{className:"text-sm",children:y.title||"Evento"})]},y.id))}):s.jsx("p",{className:"text-muted-foreground",children:"Nenhum evento público cadastrado."})})]})]})]})]})})}const NH=()=>{const e=Qs();return f.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),s.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),s.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})};function SH({userId:e,isMusician:t,profileData:r,exists:n}){const a=os(),i=f.useMemo(()=>{if(!t)return!0;const o=r.whatsapp.replace(/\D/g,"");return!!((r.displayName||"").trim()&&(r.avatarUrl||"").trim()&&(r.coverUrl||"").trim()&&(r.description||"").trim()&&(r.username||"").trim()&&o)},[t,r]);return f.useEffect(()=>{i&&(async()=>{if(!(!e||!t||!n||!i))try{const{data:l,error:c}=await $.from("profiles").select("is_active").eq("id",e).maybeSingle();if(c)throw c;if(l!=null&&l.is_active)return;const{error:d}=await $.from("profiles").update({is_active:!0}).eq("id",e);if(d)throw d;a.invalidateQueries({queryKey:["profiles",e]}),a.invalidateQueries({queryKey:["profile-status",e]}),oe({title:"Conta ativada!",description:"Seu perfil agora está ativo e será exibido publicamente."})}catch(l){console.error("Erro ao ativar perfil:",l)}})()},[e,t,n,i,a]),{isActiveComputed:i,checkAndActivate:async()=>{if(!e||!t||!n)return!1;try{const{error:o}=await $.from("profiles").update({is_active:i}).eq("id",e);if(o)throw o;return a.invalidateQueries({queryKey:["profiles",e]}),a.invalidateQueries({queryKey:["profile-status",e]}),!0}catch(o){return console.error("Erro ao verificar/ativar perfil:",o),!1}}}}const CH=e=>{const[t,r]=f.useState(!1),[n,a]=f.useState(null),{toast:i}=Ys();return{uploadFile:async(l,c,d="")=>{var u;if(!e)throw new Error("Usuário não autenticado");r(!0),a(null);try{if(!["image/jpeg","image/png","image/webp","application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document"].includes(l.type))throw new Error("Tipo de arquivo não suportado. Use JPEG, PNG, WebP, PDF, DOC ou DOCX.");const m=5*1024*1024;if(l.size>m)throw new Error("Arquivo muito grande. Máximo de 5MB permitido.");const p=(u=l.name.split(".").pop())==null?void 0:u.toLowerCase(),w=Date.now(),v=Math.random().toString(36).substring(2,15),g=d?`${d}/`:"",y=`${e}/${g}${w}_${v}.${p}`,{data:x,error:b}=await $.storage.from(c).upload(y,l,{cacheControl:"3600",upsert:!1});if(b)throw b;const{data:_}=$.storage.from(c).getPublicUrl(x.path);return i({title:"Arquivo enviado com sucesso!",description:`${l.name} foi carregado.`}),_.publicUrl}catch(h){const m=h.message||"Erro desconhecido no upload";throw a(m),i({title:"Erro no upload",description:m,variant:"destructive"}),h}finally{r(!1)}},uploading:t,error:n}};var kH=Object.defineProperty,pp=Object.getOwnPropertySymbols,_M=Object.prototype.hasOwnProperty,NM=Object.prototype.propertyIsEnumerable,GN=(e,t,r)=>t in e?kH(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,EH=(e,t)=>{for(var r in t||(t={}))_M.call(t,r)&&GN(e,r,t[r]);if(pp)for(var r of pp(t))NM.call(t,r)&&GN(e,r,t[r]);return e},PH=(e,t)=>{var r={};for(var n in e)_M.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&pp)for(var n of pp(e))t.indexOf(n)<0&&NM.call(e,n)&&(r[n]=e[n]);return r};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var fl;(e=>{const t=class{constructor(c,d,u,h){if(this.version=c,this.errorCorrectionLevel=d,this.modules=[],this.isFunction=[],c<t.MIN_VERSION||c>t.MAX_VERSION)throw new RangeError("Version value out of range");if(h<-1||h>7)throw new RangeError("Mask value out of range");this.size=c*4+17;let m=[];for(let w=0;w<this.size;w++)m.push(!1);for(let w=0;w<this.size;w++)this.modules.push(m.slice()),this.isFunction.push(m.slice());this.drawFunctionPatterns();const p=this.addEccAndInterleave(u);if(this.drawCodewords(p),h==-1){let w=1e9;for(let v=0;v<8;v++){this.applyMask(v),this.drawFormatBits(v);const g=this.getPenaltyScore();g<w&&(h=v,w=g),this.applyMask(v)}}i(0<=h&&h<=7),this.mask=h,this.applyMask(h),this.drawFormatBits(h),this.isFunction=[]}static encodeText(c,d){const u=e.QrSegment.makeSegments(c);return t.encodeSegments(u,d)}static encodeBinary(c,d){const u=e.QrSegment.makeBytes(c);return t.encodeSegments([u],d)}static encodeSegments(c,d,u=1,h=40,m=-1,p=!0){if(!(t.MIN_VERSION<=u&&u<=h&&h<=t.MAX_VERSION)||m<-1||m>7)throw new RangeError("Invalid value");let w,v;for(w=u;;w++){const b=t.getNumDataCodewords(w,d)*8,_=l.getTotalBits(c,w);if(_<=b){v=_;break}if(w>=h)throw new RangeError("Data too long")}for(const b of[t.Ecc.MEDIUM,t.Ecc.QUARTILE,t.Ecc.HIGH])p&&v<=t.getNumDataCodewords(w,b)*8&&(d=b);let g=[];for(const b of c){n(b.mode.modeBits,4,g),n(b.numChars,b.mode.numCharCountBits(w),g);for(const _ of b.getData())g.push(_)}i(g.length==v);const y=t.getNumDataCodewords(w,d)*8;i(g.length<=y),n(0,Math.min(4,y-g.length),g),n(0,(8-g.length%8)%8,g),i(g.length%8==0);for(let b=236;g.length<y;b^=253)n(b,8,g);let x=[];for(;x.length*8<g.length;)x.push(0);return g.forEach((b,_)=>x[_>>>3]|=b<<7-(_&7)),new t(w,d,x,m)}getModule(c,d){return 0<=c&&c<this.size&&0<=d&&d<this.size&&this.modules[d][c]}getModules(){return this.modules}drawFunctionPatterns(){for(let u=0;u<this.size;u++)this.setFunctionModule(6,u,u%2==0),this.setFunctionModule(u,6,u%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const c=this.getAlignmentPatternPositions(),d=c.length;for(let u=0;u<d;u++)for(let h=0;h<d;h++)u==0&&h==0||u==0&&h==d-1||u==d-1&&h==0||this.drawAlignmentPattern(c[u],c[h]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(c){const d=this.errorCorrectionLevel.formatBits<<3|c;let u=d;for(let m=0;m<10;m++)u=u<<1^(u>>>9)*1335;const h=(d<<10|u)^21522;i(h>>>15==0);for(let m=0;m<=5;m++)this.setFunctionModule(8,m,a(h,m));this.setFunctionModule(8,7,a(h,6)),this.setFunctionModule(8,8,a(h,7)),this.setFunctionModule(7,8,a(h,8));for(let m=9;m<15;m++)this.setFunctionModule(14-m,8,a(h,m));for(let m=0;m<8;m++)this.setFunctionModule(this.size-1-m,8,a(h,m));for(let m=8;m<15;m++)this.setFunctionModule(8,this.size-15+m,a(h,m));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let c=this.version;for(let u=0;u<12;u++)c=c<<1^(c>>>11)*7973;const d=this.version<<12|c;i(d>>>18==0);for(let u=0;u<18;u++){const h=a(d,u),m=this.size-11+u%3,p=Math.floor(u/3);this.setFunctionModule(m,p,h),this.setFunctionModule(p,m,h)}}drawFinderPattern(c,d){for(let u=-4;u<=4;u++)for(let h=-4;h<=4;h++){const m=Math.max(Math.abs(h),Math.abs(u)),p=c+h,w=d+u;0<=p&&p<this.size&&0<=w&&w<this.size&&this.setFunctionModule(p,w,m!=2&&m!=4)}}drawAlignmentPattern(c,d){for(let u=-2;u<=2;u++)for(let h=-2;h<=2;h++)this.setFunctionModule(c+h,d+u,Math.max(Math.abs(h),Math.abs(u))!=1)}setFunctionModule(c,d,u){this.modules[d][c]=u,this.isFunction[d][c]=!0}addEccAndInterleave(c){const d=this.version,u=this.errorCorrectionLevel;if(c.length!=t.getNumDataCodewords(d,u))throw new RangeError("Invalid argument");const h=t.NUM_ERROR_CORRECTION_BLOCKS[u.ordinal][d],m=t.ECC_CODEWORDS_PER_BLOCK[u.ordinal][d],p=Math.floor(t.getNumRawDataModules(d)/8),w=h-p%h,v=Math.floor(p/h);let g=[];const y=t.reedSolomonComputeDivisor(m);for(let b=0,_=0;b<h;b++){let N=c.slice(_,_+v-m+(b<w?0:1));_+=N.length;const P=t.reedSolomonComputeRemainder(N,y);b<w&&N.push(0),g.push(N.concat(P))}let x=[];for(let b=0;b<g[0].length;b++)g.forEach((_,N)=>{(b!=v-m||N>=w)&&x.push(_[b])});return i(x.length==p),x}drawCodewords(c){if(c.length!=Math.floor(t.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let d=0;for(let u=this.size-1;u>=1;u-=2){u==6&&(u=5);for(let h=0;h<this.size;h++)for(let m=0;m<2;m++){const p=u-m,v=(u+1&2)==0?this.size-1-h:h;!this.isFunction[v][p]&&d<c.length*8&&(this.modules[v][p]=a(c[d>>>3],7-(d&7)),d++)}}i(d==c.length*8)}applyMask(c){if(c<0||c>7)throw new RangeError("Mask value out of range");for(let d=0;d<this.size;d++)for(let u=0;u<this.size;u++){let h;switch(c){case 0:h=(u+d)%2==0;break;case 1:h=d%2==0;break;case 2:h=u%3==0;break;case 3:h=(u+d)%3==0;break;case 4:h=(Math.floor(u/3)+Math.floor(d/2))%2==0;break;case 5:h=u*d%2+u*d%3==0;break;case 6:h=(u*d%2+u*d%3)%2==0;break;case 7:h=((u+d)%2+u*d%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[d][u]&&h&&(this.modules[d][u]=!this.modules[d][u])}}getPenaltyScore(){let c=0;for(let m=0;m<this.size;m++){let p=!1,w=0,v=[0,0,0,0,0,0,0];for(let g=0;g<this.size;g++)this.modules[m][g]==p?(w++,w==5?c+=t.PENALTY_N1:w>5&&c++):(this.finderPenaltyAddHistory(w,v),p||(c+=this.finderPenaltyCountPatterns(v)*t.PENALTY_N3),p=this.modules[m][g],w=1);c+=this.finderPenaltyTerminateAndCount(p,w,v)*t.PENALTY_N3}for(let m=0;m<this.size;m++){let p=!1,w=0,v=[0,0,0,0,0,0,0];for(let g=0;g<this.size;g++)this.modules[g][m]==p?(w++,w==5?c+=t.PENALTY_N1:w>5&&c++):(this.finderPenaltyAddHistory(w,v),p||(c+=this.finderPenaltyCountPatterns(v)*t.PENALTY_N3),p=this.modules[g][m],w=1);c+=this.finderPenaltyTerminateAndCount(p,w,v)*t.PENALTY_N3}for(let m=0;m<this.size-1;m++)for(let p=0;p<this.size-1;p++){const w=this.modules[m][p];w==this.modules[m][p+1]&&w==this.modules[m+1][p]&&w==this.modules[m+1][p+1]&&(c+=t.PENALTY_N2)}let d=0;for(const m of this.modules)d=m.reduce((p,w)=>p+(w?1:0),d);const u=this.size*this.size,h=Math.ceil(Math.abs(d*20-u*10)/u)-1;return i(0<=h&&h<=9),c+=h*t.PENALTY_N4,i(0<=c&&c<=2568888),c}getAlignmentPatternPositions(){if(this.version==1)return[];{const c=Math.floor(this.version/7)+2,d=this.version==32?26:Math.ceil((this.version*4+4)/(c*2-2))*2;let u=[6];for(let h=this.size-7;u.length<c;h-=d)u.splice(1,0,h);return u}}static getNumRawDataModules(c){if(c<t.MIN_VERSION||c>t.MAX_VERSION)throw new RangeError("Version number out of range");let d=(16*c+128)*c+64;if(c>=2){const u=Math.floor(c/7)+2;d-=(25*u-10)*u-55,c>=7&&(d-=36)}return i(208<=d&&d<=29648),d}static getNumDataCodewords(c,d){return Math.floor(t.getNumRawDataModules(c)/8)-t.ECC_CODEWORDS_PER_BLOCK[d.ordinal][c]*t.NUM_ERROR_CORRECTION_BLOCKS[d.ordinal][c]}static reedSolomonComputeDivisor(c){if(c<1||c>255)throw new RangeError("Degree out of range");let d=[];for(let h=0;h<c-1;h++)d.push(0);d.push(1);let u=1;for(let h=0;h<c;h++){for(let m=0;m<d.length;m++)d[m]=t.reedSolomonMultiply(d[m],u),m+1<d.length&&(d[m]^=d[m+1]);u=t.reedSolomonMultiply(u,2)}return d}static reedSolomonComputeRemainder(c,d){let u=d.map(h=>0);for(const h of c){const m=h^u.shift();u.push(0),d.forEach((p,w)=>u[w]^=t.reedSolomonMultiply(p,m))}return u}static reedSolomonMultiply(c,d){if(c>>>8||d>>>8)throw new RangeError("Byte out of range");let u=0;for(let h=7;h>=0;h--)u=u<<1^(u>>>7)*285,u^=(d>>>h&1)*c;return i(u>>>8==0),u}finderPenaltyCountPatterns(c){const d=c[1];i(d<=this.size*3);const u=d>0&&c[2]==d&&c[3]==d*3&&c[4]==d&&c[5]==d;return(u&&c[0]>=d*4&&c[6]>=d?1:0)+(u&&c[6]>=d*4&&c[0]>=d?1:0)}finderPenaltyTerminateAndCount(c,d,u){return c&&(this.finderPenaltyAddHistory(d,u),d=0),d+=this.size,this.finderPenaltyAddHistory(d,u),this.finderPenaltyCountPatterns(u)}finderPenaltyAddHistory(c,d){d[0]==0&&(c+=this.size),d.pop(),d.unshift(c)}};let r=t;r.MIN_VERSION=1,r.MAX_VERSION=40,r.PENALTY_N1=3,r.PENALTY_N2=3,r.PENALTY_N3=40,r.PENALTY_N4=10,r.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],r.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=r;function n(c,d,u){if(d<0||d>31||c>>>d)throw new RangeError("Value out of range");for(let h=d-1;h>=0;h--)u.push(c>>>h&1)}function a(c,d){return(c>>>d&1)!=0}function i(c){if(!c)throw new Error("Assertion error")}const o=class{constructor(c,d,u){if(this.mode=c,this.numChars=d,this.bitData=u,d<0)throw new RangeError("Invalid argument");this.bitData=u.slice()}static makeBytes(c){let d=[];for(const u of c)n(u,8,d);return new o(o.Mode.BYTE,c.length,d)}static makeNumeric(c){if(!o.isNumeric(c))throw new RangeError("String contains non-numeric characters");let d=[];for(let u=0;u<c.length;){const h=Math.min(c.length-u,3);n(parseInt(c.substr(u,h),10),h*3+1,d),u+=h}return new o(o.Mode.NUMERIC,c.length,d)}static makeAlphanumeric(c){if(!o.isAlphanumeric(c))throw new RangeError("String contains unencodable characters in alphanumeric mode");let d=[],u;for(u=0;u+2<=c.length;u+=2){let h=o.ALPHANUMERIC_CHARSET.indexOf(c.charAt(u))*45;h+=o.ALPHANUMERIC_CHARSET.indexOf(c.charAt(u+1)),n(h,11,d)}return u<c.length&&n(o.ALPHANUMERIC_CHARSET.indexOf(c.charAt(u)),6,d),new o(o.Mode.ALPHANUMERIC,c.length,d)}static makeSegments(c){return c==""?[]:o.isNumeric(c)?[o.makeNumeric(c)]:o.isAlphanumeric(c)?[o.makeAlphanumeric(c)]:[o.makeBytes(o.toUtf8ByteArray(c))]}static makeEci(c){let d=[];if(c<0)throw new RangeError("ECI assignment value out of range");if(c<128)n(c,8,d);else if(c<16384)n(2,2,d),n(c,14,d);else if(c<1e6)n(6,3,d),n(c,21,d);else throw new RangeError("ECI assignment value out of range");return new o(o.Mode.ECI,0,d)}static isNumeric(c){return o.NUMERIC_REGEX.test(c)}static isAlphanumeric(c){return o.ALPHANUMERIC_REGEX.test(c)}getData(){return this.bitData.slice()}static getTotalBits(c,d){let u=0;for(const h of c){const m=h.mode.numCharCountBits(d);if(h.numChars>=1<<m)return 1/0;u+=4+m+h.bitData.length}return u}static toUtf8ByteArray(c){c=encodeURI(c);let d=[];for(let u=0;u<c.length;u++)c.charAt(u)!="%"?d.push(c.charCodeAt(u)):(d.push(parseInt(c.substr(u+1,2),16)),u+=2);return d}};let l=o;l.NUMERIC_REGEX=/^[0-9]*$/,l.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,l.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",e.QrSegment=l})(fl||(fl={}));(e=>{(t=>{const r=class{constructor(a,i){this.ordinal=a,this.formatBits=i}};let n=r;n.LOW=new r(0,1),n.MEDIUM=new r(1,0),n.QUARTILE=new r(2,3),n.HIGH=new r(3,2),t.Ecc=n})(e.QrCode||(e.QrCode={}))})(fl||(fl={}));(e=>{(t=>{const r=class{constructor(a,i){this.modeBits=a,this.numBitsCharCount=i}numCharCountBits(a){return this.numBitsCharCount[Math.floor((a+7)/17)]}};let n=r;n.NUMERIC=new r(1,[10,12,14]),n.ALPHANUMERIC=new r(2,[9,11,13]),n.BYTE=new r(4,[8,16,16]),n.KANJI=new r(8,[8,10,12]),n.ECI=new r(7,[0,0,0]),t.Mode=n})(e.QrSegment||(e.QrSegment={}))})(fl||(fl={}));var pu=fl;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var TH={L:pu.QrCode.Ecc.LOW,M:pu.QrCode.Ecc.MEDIUM,Q:pu.QrCode.Ecc.QUARTILE,H:pu.QrCode.Ecc.HIGH},RH=128,MH="L",AH="#FFFFFF",OH="#000000",DH=!1,SM=4,IH=.1;function FH(e,t=0){const r=[];return e.forEach(function(n,a){let i=null;n.forEach(function(o,l){if(!o&&i!==null){r.push(`M${i+t} ${a+t}h${l-i}v1H${i+t}z`),i=null;return}if(l===n.length-1){if(!o)return;i===null?r.push(`M${l+t},${a+t} h1v1H${l+t}z`):r.push(`M${i+t},${a+t} h${l+1-i}v1H${i+t}z`);return}o&&i===null&&(i=l)})}),r.join("")}function LH(e,t){return e.slice().map((r,n)=>n<t.y||n>=t.y+t.h?r:r.map((a,i)=>i<t.x||i>=t.x+t.w?a:!1))}function $H(e,t,r,n){if(n==null)return null;const a=r?SM:0,i=e.length+a*2,o=Math.floor(t*IH),l=i/t,c=(n.width||o)*l,d=(n.height||o)*l,u=n.x==null?e.length/2-c/2:n.x*l,h=n.y==null?e.length/2-d/2:n.y*l;let m=null;if(n.excavate){let p=Math.floor(u),w=Math.floor(h),v=Math.ceil(c+u-p),g=Math.ceil(d+h-w);m={x:p,y:w,w:v,h:g}}return{x:u,y:h,h:d,w:c,excavation:m}}(function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0})();function CM(e){const t=e,{value:r,size:n=RH,level:a=MH,bgColor:i=AH,fgColor:o=OH,includeMargin:l=DH,imageSettings:c}=t,d=PH(t,["value","size","level","bgColor","fgColor","includeMargin","imageSettings"]);let u=pu.QrCode.encodeText(r,TH[a]).getModules();const h=l?SM:0,m=u.length+h*2,p=$H(u,n,l,c);let w=null;c!=null&&p!=null&&(p.excavation!=null&&(u=LH(u,p.excavation)),w=he.createElement("image",{xlinkHref:c.src,height:p.h,width:p.w,x:p.x+h,y:p.y+h,preserveAspectRatio:"none"}));const v=FH(u,h);return he.createElement("svg",EH({height:n,width:n,viewBox:`0 0 ${m} ${m}`},d),he.createElement("path",{fill:i,d:`M0,0 h${m}v${m}H0z`,shapeRendering:"crispEdges"}),he.createElement("path",{fill:o,d:v,shapeRendering:"crispEdges"}),w)}const zH=Nl("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Lg=f.forwardRef(({className:e,variant:t,...r},n)=>s.jsx("div",{ref:n,role:"alert",className:le(zH({variant:t}),e),...r}));Lg.displayName="Alert";const kM=f.forwardRef(({className:e,...t},r)=>s.jsx("h5",{ref:r,className:le("mb-1 font-medium leading-none tracking-tight",e),...t}));kM.displayName="AlertTitle";const $g=f.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:le("text-sm [&_p]:leading-relaxed",e),...t}));$g.displayName="AlertDescription";function EM(e){const t=f.useRef({value:e,previous:e});return f.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var UH=[" ","Enter","ArrowUp","ArrowDown"],BH=[" ","Enter"],hl="Select",[zg,Ug,qH]=Qp(hl),[kd,hQ]=kn(hl,[qH,wo]),Bg=wo(),[VH,_o]=kd(hl),[WH,HH]=kd(hl),PM=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:a,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:d,name:u,autoComplete:h,disabled:m,required:p,form:w}=e,v=Bg(t),[g,y]=f.useState(null),[x,b]=f.useState(null),[_,N]=f.useState(!1),P=Kf(d),[S,T]=va({prop:n,defaultProp:a??!1,onChange:i,caller:hl}),[U,q]=va({prop:o,defaultProp:l,onChange:c,caller:hl}),re=f.useRef(null),G=g?w||!!g.closest("form"):!0,[H,V]=f.useState(new Set),se=Array.from(H).map(ee=>ee.props.value).join(";");return s.jsx(ig,{...v,children:s.jsxs(VH,{required:p,scope:t,trigger:g,onTriggerChange:y,valueNode:x,onValueNodeChange:b,valueNodeHasChildren:_,onValueNodeHasChildrenChange:N,contentId:Zr(),value:U,onValueChange:q,open:S,onOpenChange:T,dir:P,triggerPointerDownPosRef:re,disabled:m,children:[s.jsx(zg.Provider,{scope:t,children:s.jsx(WH,{scope:e.__scopeSelect,onNativeOptionAdd:f.useCallback(ee=>{V(J=>new Set(J).add(ee))},[]),onNativeOptionRemove:f.useCallback(ee=>{V(J=>{const I=new Set(J);return I.delete(ee),I})},[]),children:r})}),G?s.jsxs(JM,{"aria-hidden":!0,required:p,tabIndex:-1,name:u,autoComplete:h,value:U,onChange:ee=>q(ee.target.value),disabled:m,form:w,children:[U===void 0?s.jsx("option",{value:""}):null,Array.from(H)]},se):null]})})};PM.displayName=hl;var TM="SelectTrigger",RM=f.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...a}=e,i=Bg(r),o=_o(TM,r),l=o.disabled||n,c=ct(t,o.onTriggerChange),d=Ug(r),u=f.useRef("touch"),[h,m,p]=t4(v=>{const g=d().filter(b=>!b.disabled),y=g.find(b=>b.value===o.value),x=r4(g,v,y);x!==void 0&&o.onValueChange(x.value)}),w=v=>{l||(o.onOpenChange(!0),p()),v&&(o.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return s.jsx(Af,{asChild:!0,...i,children:s.jsx(Ie.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":e4(o.value)?"":void 0,...a,ref:c,onClick:Ce(a.onClick,v=>{v.currentTarget.focus(),u.current!=="mouse"&&w(v)}),onPointerDown:Ce(a.onPointerDown,v=>{u.current=v.pointerType;const g=v.target;g.hasPointerCapture(v.pointerId)&&g.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(w(v),v.preventDefault())}),onKeyDown:Ce(a.onKeyDown,v=>{const g=h.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&m(v.key),!(g&&v.key===" ")&&UH.includes(v.key)&&(w(),v.preventDefault())})})})});RM.displayName=TM;var MM="SelectValue",AM=f.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,children:i,placeholder:o="",...l}=e,c=_o(MM,r),{onValueNodeHasChildrenChange:d}=c,u=i!==void 0,h=ct(t,c.onValueNodeChange);return Sr(()=>{d(u)},[d,u]),s.jsx(Ie.span,{...l,ref:h,style:{pointerEvents:"none"},children:e4(c.value)?s.jsx(s.Fragment,{children:o}):i})});AM.displayName=MM;var KH="SelectIcon",OM=f.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...a}=e;return s.jsx(Ie.span,{"aria-hidden":!0,...a,ref:t,children:n||"▼"})});OM.displayName=KH;var GH="SelectPortal",DM=e=>s.jsx(fd,{asChild:!0,...e});DM.displayName=GH;var ml="SelectContent",IM=f.forwardRef((e,t)=>{const r=_o(ml,e.__scopeSelect),[n,a]=f.useState();if(Sr(()=>{a(new DocumentFragment)},[]),!r.open){const i=n;return i?bl.createPortal(s.jsx(FM,{scope:e.__scopeSelect,children:s.jsx(zg.Slot,{scope:e.__scopeSelect,children:s.jsx("div",{children:e.children})})}),i):null}return s.jsx(LM,{...e,ref:t})});IM.displayName=ml;var Rs=10,[FM,No]=kd(ml),YH="SelectContentImpl",QH=so("SelectContent.RemoveScroll"),LM=f.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:h,collisionBoundary:m,collisionPadding:p,sticky:w,hideWhenDetached:v,avoidCollisions:g,...y}=e,x=_o(ml,r),[b,_]=f.useState(null),[N,P]=f.useState(null),S=ct(t,Q=>_(Q)),[T,U]=f.useState(null),[q,re]=f.useState(null),G=Ug(r),[H,V]=f.useState(!1),se=f.useRef(!1);f.useEffect(()=>{if(b)return Ng(b)},[b]),jg();const ee=f.useCallback(Q=>{const[R,...L]=G().map(_e=>_e.ref.current),[Z]=L.slice(-1),ue=document.activeElement;for(const _e of Q)if(_e===ue||(_e==null||_e.scrollIntoView({block:"nearest"}),_e===R&&N&&(N.scrollTop=0),_e===Z&&N&&(N.scrollTop=N.scrollHeight),_e==null||_e.focus(),document.activeElement!==ue))return},[G,N]),J=f.useCallback(()=>ee([T,b]),[ee,T,b]);f.useEffect(()=>{H&&J()},[H,J]);const{onOpenChange:I,triggerPointerDownPosRef:D}=x;f.useEffect(()=>{if(b){let Q={x:0,y:0};const R=Z=>{var ue,_e;Q={x:Math.abs(Math.round(Z.pageX)-(((ue=D.current)==null?void 0:ue.x)??0)),y:Math.abs(Math.round(Z.pageY)-(((_e=D.current)==null?void 0:_e.y)??0))}},L=Z=>{Q.x<=10&&Q.y<=10?Z.preventDefault():b.contains(Z.target)||I(!1),document.removeEventListener("pointermove",R),D.current=null};return D.current!==null&&(document.addEventListener("pointermove",R),document.addEventListener("pointerup",L,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",R),document.removeEventListener("pointerup",L,{capture:!0})}}},[b,I,D]),f.useEffect(()=>{const Q=()=>I(!1);return window.addEventListener("blur",Q),window.addEventListener("resize",Q),()=>{window.removeEventListener("blur",Q),window.removeEventListener("resize",Q)}},[I]);const[C,E]=t4(Q=>{const R=G().filter(ue=>!ue.disabled),L=R.find(ue=>ue.ref.current===document.activeElement),Z=r4(R,Q,L);Z&&setTimeout(()=>Z.ref.current.focus())}),A=f.useCallback((Q,R,L)=>{const Z=!se.current&&!L;(x.value!==void 0&&x.value===R||Z)&&(U(Q),Z&&(se.current=!0))},[x.value]),Y=f.useCallback(()=>b==null?void 0:b.focus(),[b]),k=f.useCallback((Q,R,L)=>{const Z=!se.current&&!L;(x.value!==void 0&&x.value===R||Z)&&re(Q)},[x.value]),z=n==="popper"?E0:$M,ne=z===E0?{side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:h,collisionBoundary:m,collisionPadding:p,sticky:w,hideWhenDetached:v,avoidCollisions:g}:{};return s.jsx(FM,{scope:r,content:b,viewport:N,onViewportChange:P,itemRefCallback:A,selectedItem:T,onItemLeave:Y,itemTextRefCallback:k,focusSelectedItem:J,selectedItemText:q,position:n,isPositioned:H,searchRef:C,children:s.jsx(Ff,{as:QH,allowPinchZoom:!0,children:s.jsx(If,{asChild:!0,trapped:x.open,onMountAutoFocus:Q=>{Q.preventDefault()},onUnmountAutoFocus:Ce(a,Q=>{var R;(R=x.trigger)==null||R.focus({preventScroll:!0}),Q.preventDefault()}),children:s.jsx(_l,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:Q=>Q.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:s.jsx(z,{role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:Q=>Q.preventDefault(),...y,...ne,onPlaced:()=>V(!0),ref:S,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:Ce(y.onKeyDown,Q=>{const R=Q.ctrlKey||Q.altKey||Q.metaKey;if(Q.key==="Tab"&&Q.preventDefault(),!R&&Q.key.length===1&&E(Q.key),["ArrowUp","ArrowDown","Home","End"].includes(Q.key)){let Z=G().filter(ue=>!ue.disabled).map(ue=>ue.ref.current);if(["ArrowUp","End"].includes(Q.key)&&(Z=Z.slice().reverse()),["ArrowUp","ArrowDown"].includes(Q.key)){const ue=Q.target,_e=Z.indexOf(ue);Z=Z.slice(_e+1)}setTimeout(()=>ee(Z)),Q.preventDefault()}})})})})})})});LM.displayName=YH;var XH="SelectItemAlignedPosition",$M=f.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...a}=e,i=_o(ml,r),o=No(ml,r),[l,c]=f.useState(null),[d,u]=f.useState(null),h=ct(t,S=>u(S)),m=Ug(r),p=f.useRef(!1),w=f.useRef(!0),{viewport:v,selectedItem:g,selectedItemText:y,focusSelectedItem:x}=o,b=f.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&d&&v&&g&&y){const S=i.trigger.getBoundingClientRect(),T=d.getBoundingClientRect(),U=i.valueNode.getBoundingClientRect(),q=y.getBoundingClientRect();if(i.dir!=="rtl"){const ue=q.left-T.left,_e=U.left-ue,me=S.left-_e,xe=S.width+me,Ge=Math.max(xe,T.width),_t=window.innerWidth-Rs,Ot=k0(_e,[Rs,Math.max(Rs,_t-Ge)]);l.style.minWidth=xe+"px",l.style.left=Ot+"px"}else{const ue=T.right-q.right,_e=window.innerWidth-U.right-ue,me=window.innerWidth-S.right-_e,xe=S.width+me,Ge=Math.max(xe,T.width),_t=window.innerWidth-Rs,Ot=k0(_e,[Rs,Math.max(Rs,_t-Ge)]);l.style.minWidth=xe+"px",l.style.right=Ot+"px"}const re=m(),G=window.innerHeight-Rs*2,H=v.scrollHeight,V=window.getComputedStyle(d),se=parseInt(V.borderTopWidth,10),ee=parseInt(V.paddingTop,10),J=parseInt(V.borderBottomWidth,10),I=parseInt(V.paddingBottom,10),D=se+ee+H+I+J,C=Math.min(g.offsetHeight*5,D),E=window.getComputedStyle(v),A=parseInt(E.paddingTop,10),Y=parseInt(E.paddingBottom,10),k=S.top+S.height/2-Rs,z=G-k,ne=g.offsetHeight/2,Q=g.offsetTop+ne,R=se+ee+Q,L=D-R;if(R<=k){const ue=re.length>0&&g===re[re.length-1].ref.current;l.style.bottom="0px";const _e=d.clientHeight-v.offsetTop-v.offsetHeight,me=Math.max(z,ne+(ue?Y:0)+_e+J),xe=R+me;l.style.height=xe+"px"}else{const ue=re.length>0&&g===re[0].ref.current;l.style.top="0px";const me=Math.max(k,se+v.offsetTop+(ue?A:0)+ne)+L;l.style.height=me+"px",v.scrollTop=R-k+v.offsetTop}l.style.margin=`${Rs}px 0`,l.style.minHeight=C+"px",l.style.maxHeight=G+"px",n==null||n(),requestAnimationFrame(()=>p.current=!0)}},[m,i.trigger,i.valueNode,l,d,v,g,y,i.dir,n]);Sr(()=>b(),[b]);const[_,N]=f.useState();Sr(()=>{d&&N(window.getComputedStyle(d).zIndex)},[d]);const P=f.useCallback(S=>{S&&w.current===!0&&(b(),x==null||x(),w.current=!1)},[b,x]);return s.jsx(JH,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:P,children:s.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:s.jsx(Ie.div,{...a,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});$M.displayName=XH;var ZH="SelectPopperPosition",E0=f.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=Rs,...i}=e,o=Bg(r);return s.jsx(og,{...o,...i,ref:t,align:n,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});E0.displayName=ZH;var[JH,Jb]=kd(ml,{}),P0="SelectViewport",zM=f.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...a}=e,i=No(P0,r),o=Jb(P0,r),l=ct(t,i.onViewportChange),c=f.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),s.jsx(zg.Slot,{scope:r,children:s.jsx(Ie.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:Ce(a.onScroll,d=>{const u=d.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:m}=o;if(m!=null&&m.current&&h){const p=Math.abs(c.current-u.scrollTop);if(p>0){const w=window.innerHeight-Rs*2,v=parseFloat(h.style.minHeight),g=parseFloat(h.style.height),y=Math.max(v,g);if(y<w){const x=y+p,b=Math.min(w,x),_=x-b;h.style.height=b+"px",h.style.bottom==="0px"&&(u.scrollTop=_>0?_:0,h.style.justifyContent="flex-end")}}}c.current=u.scrollTop})})})]})});zM.displayName=P0;var UM="SelectGroup",[eK,tK]=kd(UM),rK=f.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=Zr();return s.jsx(eK,{scope:r,id:a,children:s.jsx(Ie.div,{role:"group","aria-labelledby":a,...n,ref:t})})});rK.displayName=UM;var BM="SelectLabel",qM=f.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=tK(BM,r);return s.jsx(Ie.div,{id:a.id,...n,ref:t})});qM.displayName=BM;var gp="SelectItem",[nK,VM]=kd(gp),WM=f.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:i,...o}=e,l=_o(gp,r),c=No(gp,r),d=l.value===n,[u,h]=f.useState(i??""),[m,p]=f.useState(!1),w=ct(t,x=>{var b;return(b=c.itemRefCallback)==null?void 0:b.call(c,x,n,a)}),v=Zr(),g=f.useRef("touch"),y=()=>{a||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(nK,{scope:r,value:n,disabled:a,textId:v,isSelected:d,onItemTextChange:f.useCallback(x=>{h(b=>b||((x==null?void 0:x.textContent)??"").trim())},[]),children:s.jsx(zg.ItemSlot,{scope:r,value:n,disabled:a,textValue:u,children:s.jsx(Ie.div,{role:"option","aria-labelledby":v,"data-highlighted":m?"":void 0,"aria-selected":d&&m,"data-state":d?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:w,onFocus:Ce(o.onFocus,()=>p(!0)),onBlur:Ce(o.onBlur,()=>p(!1)),onClick:Ce(o.onClick,()=>{g.current!=="mouse"&&y()}),onPointerUp:Ce(o.onPointerUp,()=>{g.current==="mouse"&&y()}),onPointerDown:Ce(o.onPointerDown,x=>{g.current=x.pointerType}),onPointerMove:Ce(o.onPointerMove,x=>{var b;g.current=x.pointerType,a?(b=c.onItemLeave)==null||b.call(c):g.current==="mouse"&&x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ce(o.onPointerLeave,x=>{var b;x.currentTarget===document.activeElement&&((b=c.onItemLeave)==null||b.call(c))}),onKeyDown:Ce(o.onKeyDown,x=>{var _;((_=c.searchRef)==null?void 0:_.current)!==""&&x.key===" "||(BH.includes(x.key)&&y(),x.key===" "&&x.preventDefault())})})})})});WM.displayName=gp;var gu="SelectItemText",HM=f.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,...i}=e,o=_o(gu,r),l=No(gu,r),c=VM(gu,r),d=HH(gu,r),[u,h]=f.useState(null),m=ct(t,y=>h(y),c.onItemTextChange,y=>{var x;return(x=l.itemTextRefCallback)==null?void 0:x.call(l,y,c.value,c.disabled)}),p=u==null?void 0:u.textContent,w=f.useMemo(()=>s.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:v,onNativeOptionRemove:g}=d;return Sr(()=>(v(w),()=>g(w)),[v,g,w]),s.jsxs(s.Fragment,{children:[s.jsx(Ie.span,{id:c.textId,...i,ref:m}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?bl.createPortal(i.children,o.valueNode):null]})});HM.displayName=gu;var KM="SelectItemIndicator",GM=f.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return VM(KM,r).isSelected?s.jsx(Ie.span,{"aria-hidden":!0,...n,ref:t}):null});GM.displayName=KM;var T0="SelectScrollUpButton",YM=f.forwardRef((e,t)=>{const r=No(T0,e.__scopeSelect),n=Jb(T0,e.__scopeSelect),[a,i]=f.useState(!1),o=ct(t,n.onScrollButtonChange);return Sr(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=c.scrollTop>0;i(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?s.jsx(XM,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});YM.displayName=T0;var R0="SelectScrollDownButton",QM=f.forwardRef((e,t)=>{const r=No(R0,e.__scopeSelect),n=Jb(R0,e.__scopeSelect),[a,i]=f.useState(!1),o=ct(t,n.onScrollButtonChange);return Sr(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,u=Math.ceil(c.scrollTop)<d;i(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?s.jsx(XM,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});QM.displayName=R0;var XM=f.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=e,i=No("SelectScrollButton",r),o=f.useRef(null),l=Ug(r),c=f.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return f.useEffect(()=>()=>c(),[c]),Sr(()=>{var u;const d=l().find(h=>h.ref.current===document.activeElement);(u=d==null?void 0:d.ref.current)==null||u.scrollIntoView({block:"nearest"})},[l]),s.jsx(Ie.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:Ce(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:Ce(a.onPointerMove,()=>{var d;(d=i.onItemLeave)==null||d.call(i),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:Ce(a.onPointerLeave,()=>{c()})})}),sK="SelectSeparator",ZM=f.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return s.jsx(Ie.div,{"aria-hidden":!0,...n,ref:t})});ZM.displayName=sK;var M0="SelectArrow",aK=f.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=Bg(r),i=_o(M0,r),o=No(M0,r);return i.open&&o.position==="popper"?s.jsx(lg,{...a,...n,ref:t}):null});aK.displayName=M0;var iK="SelectBubbleInput",JM=f.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const a=f.useRef(null),i=ct(n,a),o=EM(t);return f.useEffect(()=>{const l=a.current;if(!l)return;const c=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&u){const h=new Event("change",{bubbles:!0});u.call(l,t),l.dispatchEvent(h)}},[o,t]),s.jsx(Ie.select,{...r,style:{...a2,...r.style},ref:i,defaultValue:t})});JM.displayName=iK;function e4(e){return e===""||e===void 0}function t4(e){const t=yr(e),r=f.useRef(""),n=f.useRef(0),a=f.useCallback(o=>{const l=r.current+o;t(l),function c(d){r.current=d,window.clearTimeout(n.current),d!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=f.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return f.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,i]}function r4(e,t,r){const a=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=oK(e,Math.max(i,0));a.length===1&&(o=o.filter(d=>d!==r));const c=o.find(d=>d.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function oK(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var lK=PM,n4=RM,cK=AM,dK=OM,uK=DM,s4=IM,fK=zM,a4=qM,i4=WM,hK=HM,mK=GM,o4=YM,l4=QM,c4=ZM;const pl=lK,gl=cK,lo=f.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(n4,{ref:n,className:le("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-0 focus:ring-offset-0 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,s.jsx(dK,{asChild:!0,children:s.jsx(E2,{className:"h-4 w-4 opacity-50"})})]}));lo.displayName=n4.displayName;const d4=f.forwardRef(({className:e,...t},r)=>s.jsx(o4,{ref:r,className:le("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(T2,{className:"h-4 w-4"})}));d4.displayName=o4.displayName;const u4=f.forwardRef(({className:e,...t},r)=>s.jsx(l4,{ref:r,className:le("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(E2,{className:"h-4 w-4"})}));u4.displayName=l4.displayName;const co=f.forwardRef(({className:e,children:t,position:r="popper",...n},a)=>s.jsx(uK,{children:s.jsxs(s4,{ref:a,className:le("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[s.jsx(d4,{}),s.jsx(fK,{className:le("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),s.jsx(u4,{})]})}));co.displayName=s4.displayName;const pK=f.forwardRef(({className:e,...t},r)=>s.jsx(a4,{ref:r,className:le("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));pK.displayName=a4.displayName;const Gr=f.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(i4,{ref:n,className:le("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(mK,{children:s.jsx(ds,{className:"h-4 w-4"})})}),s.jsx(hK,{children:t})]}));Gr.displayName=i4.displayName;const gK=f.forwardRef(({className:e,...t},r)=>s.jsx(c4,{ref:r,className:le("-mx-1 my-1 h-px bg-muted",e),...t}));gK.displayName=c4.displayName;var qg="Switch",[vK,mQ]=kn(qg),[xK,yK]=vK(qg),f4=f.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:a,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:d,form:u,...h}=e,[m,p]=f.useState(null),w=ct(t,b=>p(b)),v=f.useRef(!1),g=m?u||!!m.closest("form"):!0,[y,x]=va({prop:a,defaultProp:i??!1,onChange:d,caller:qg});return s.jsxs(xK,{scope:r,checked:y,disabled:l,children:[s.jsx(Ie.button,{type:"button",role:"switch","aria-checked":y,"aria-required":o,"data-state":g4(y),"data-disabled":l?"":void 0,disabled:l,value:c,...h,ref:w,onClick:Ce(e.onClick,b=>{x(_=>!_),g&&(v.current=b.isPropagationStopped(),v.current||b.stopPropagation())})}),g&&s.jsx(p4,{control:m,bubbles:!v.current,name:n,value:c,checked:y,required:o,disabled:l,form:u,style:{transform:"translateX(-100%)"}})]})});f4.displayName=qg;var h4="SwitchThumb",m4=f.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,a=yK(h4,r);return s.jsx(Ie.span,{"data-state":g4(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:t})});m4.displayName=h4;var wK="SwitchBubbleInput",p4=f.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...a},i)=>{const o=f.useRef(null),l=ct(o,i),c=EM(r),d=sE(t);return f.useEffect(()=>{const u=o.current;if(!u)return;const h=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(h,"checked").set;if(c!==r&&p){const w=new Event("click",{bubbles:n});p.call(u,r),u.dispatchEvent(w)}},[c,r,n]),s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:l,style:{...a.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});p4.displayName=wK;function g4(e){return e?"checked":"unchecked"}var v4=f4,bK=m4;const eo=f.forwardRef(({className:e,...t},r)=>s.jsx(v4,{className:le("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:s.jsx(bK,{className:le("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));eo.displayName=v4.displayName;var x4="AlertDialog",[jK,pQ]=kn(x4,[qP]),ci=qP(),y4=e=>{const{__scopeAlertDialog:t,...r}=e,n=ci(t);return s.jsx(Cg,{...n,...r,modal:!0})};y4.displayName=x4;var _K="AlertDialogTrigger",w4=f.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=ci(r);return s.jsx(_b,{...a,...n,ref:t})});w4.displayName=_K;var NK="AlertDialogPortal",b4=e=>{const{__scopeAlertDialog:t,...r}=e,n=ci(t);return s.jsx(kg,{...n,...r})};b4.displayName=NK;var SK="AlertDialogOverlay",j4=f.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=ci(r);return s.jsx(bd,{...a,...n,ref:t})});j4.displayName=SK;var Pc="AlertDialogContent",[CK,kK]=jK(Pc),EK=t2("AlertDialogContent"),_4=f.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...a}=e,i=ci(r),o=f.useRef(null),l=ct(t,o),c=f.useRef(null);return s.jsx(mB,{contentName:Pc,titleName:N4,docsSlug:"alert-dialog",children:s.jsx(CK,{scope:r,cancelRef:c,children:s.jsxs(jd,{role:"alertdialog",...i,...a,ref:l,onOpenAutoFocus:Ce(a.onOpenAutoFocus,d=>{var u;d.preventDefault(),(u=c.current)==null||u.focus({preventScroll:!0})}),onPointerDownOutside:d=>d.preventDefault(),onInteractOutside:d=>d.preventDefault(),children:[s.jsx(EK,{children:n}),s.jsx(TK,{contentRef:o})]})})})});_4.displayName=Pc;var N4="AlertDialogTitle",S4=f.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=ci(r);return s.jsx(Lf,{...a,...n,ref:t})});S4.displayName=N4;var C4="AlertDialogDescription",k4=f.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=ci(r);return s.jsx($f,{...a,...n,ref:t})});k4.displayName=C4;var PK="AlertDialogAction",E4=f.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=ci(r);return s.jsx(Eg,{...a,...n,ref:t})});E4.displayName=PK;var P4="AlertDialogCancel",T4=f.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:a}=kK(P4,r),i=ci(r),o=ct(t,a);return s.jsx(Eg,{...i,...n,ref:o})});T4.displayName=P4;var TK=({contentRef:e})=>{const t=`\`${Pc}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Pc}\` by passing a \`${C4}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Pc}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return f.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},RK=y4,MK=w4,AK=b4,R4=j4,M4=_4,A4=E4,O4=T4,D4=S4,I4=k4;const A0=RK,OK=MK,DK=AK,F4=f.forwardRef(({className:e,...t},r)=>s.jsx(R4,{className:le("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));F4.displayName=R4.displayName;const vp=f.forwardRef(({className:e,...t},r)=>s.jsxs(DK,{children:[s.jsx(F4,{}),s.jsx(M4,{ref:r,className:le("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));vp.displayName=M4.displayName;const xp=({className:e,...t})=>s.jsx("div",{className:le("flex flex-col space-y-2 text-center sm:text-left",e),...t});xp.displayName="AlertDialogHeader";const yp=({className:e,...t})=>s.jsx("div",{className:le("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});yp.displayName="AlertDialogFooter";const wp=f.forwardRef(({className:e,...t},r)=>s.jsx(D4,{ref:r,className:le("text-lg font-semibold",e),...t}));wp.displayName=D4.displayName;const bp=f.forwardRef(({className:e,...t},r)=>s.jsx(I4,{ref:r,className:le("text-sm text-muted-foreground",e),...t}));bp.displayName=I4.displayName;const jp=f.forwardRef(({className:e,...t},r)=>s.jsx(A4,{ref:r,className:le(Jc(),e),...t}));jp.displayName=A4.displayName;const _p=f.forwardRef(({className:e,...t},r)=>s.jsx(O4,{ref:r,className:le(Jc({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));_p.displayName=O4.displayName;function IK({userId:e}){const[t,r]=f.useState([]),[n,a]=f.useState(!1),[i,o]=f.useState(null),[l,c]=f.useState(""),[d,u]=f.useState(!1),[h,m]=f.useState(!1),[p,w]=f.useState(!1),[v,g]=f.useState(null),y=async()=>{if(e){a(!0);try{const{data:T,error:U}=await $.from("musician_photos").select("id, grid_url, full_url, description, is_public").eq("musician_id",e).order("created_at",{ascending:!1});if(!U){r(T||[]);return}const q=async re=>{const{data:G,error:H}=await $.storage.from(re).list(`${e}`,{limit:100,offset:0});if(H)throw H;const V=new Map,se=new Map;for(const I of G||[]){const D=I.name||"";if(D.startsWith("grid_")){const C=D.substring(5);V.set(C,$.storage.from(re).getPublicUrl(`${e}/${D}`).data.publicUrl)}if(D.startsWith("full_")){const C=D.substring(5);se.set(C,$.storage.from(re).getPublicUrl(`${e}/${D}`).data.publicUrl)}}const ee=[],J=new Set([...V.keys(),...se.keys()]);for(const I of J){const D=V.get(I)||"",C=se.get(I)||D;D&&ee.push({id:`${e}-${I}`,grid_url:D,full_url:C,description:null,is_public:!0})}ee.sort((I,D)=>I.id>D.id?-1:1),r(ee)};try{await q("musician-photos")}catch{await q("covers")}}finally{a(!1)}}};f.useEffect(()=>{y()},[e]);const x=async(T,U,q=.8)=>{if(T.size>2097152)throw new Error("Arquivo muito grande. Tamanho máximo: 2MB");const se=document.createElement("img"),ee=URL.createObjectURL(T);try{await new Promise((Y,k)=>{se.onload=()=>Y(),se.onerror=k,se.src=ee});const J=Math.min(1,U/se.naturalWidth),I=document.createElement("canvas");let D=q,C,E=0;const A=5;do{I.width=Math.round(se.naturalWidth*J),I.height=Math.round(se.naturalHeight*J);const Y=I.getContext("2d");if(!Y)throw new Error("Canvas context not available");Y.imageSmoothingEnabled=!0,Y.imageSmoothingQuality="high",Y.drawImage(se,0,0,I.width,I.height),C=await new Promise(k=>I.toBlob(z=>k(z),"image/webp",D)),C.size>332800*1.1?D=Math.max(.3,D-.1):C.size<332800*.7&&(D=Math.min(.95,D+.05)),E++}while(E<A&&(C.size>332800*1.2||C.size<332800*.6));if(C.size>2097152)throw new Error("Imagem otimizada ainda muito grande. Tente uma imagem menor.");return C}finally{URL.revokeObjectURL(ee)}},b=async T=>{var G;const U=(G=T.target.files)==null?void 0:G[0];if(T.target.value="",!U||!e)return;if(!U.type.startsWith("image/")){oe({title:"Tipo de arquivo inválido",description:"Selecione apenas arquivos de imagem.",variant:"destructive"});return}const q=2,re=q*1024*1024;if(U.size>re){oe({title:"Arquivo muito grande",description:`Tamanho máximo permitido: ${q}MB. Seu arquivo: ${(U.size/(1024*1024)).toFixed(1)}MB`,variant:"destructive"});return}if(t.length>=6){oe({title:"Limite atingido",description:"Você pode adicionar até 6 fotos."});return}u(!0);try{const H=await x(U,400,.75),V=await x(U,1e3,.8),se=Date.now(),ee=Math.random().toString(36).slice(2,8),J=`${e}/grid_${se}_${ee}.webp`,I=`${e}/full_${se}_${ee}.webp`,D="musician-photos",C="covers";async function E(k){const z=await $.storage.from(k).upload(J,H,{contentType:"image/webp",upsert:!0});if(z.error)throw z.error;const ne=await $.storage.from(k).upload(I,V,{contentType:"image/webp",upsert:!0});if(ne.error)throw ne.error;const Q=$.storage.from(k).getPublicUrl(J).data.publicUrl,R=$.storage.from(k).getPublicUrl(I).data.publicUrl;return{gridUrl:Q,fullUrl:R}}let A=null;try{A=await E(D)}catch(k){const z=String((k==null?void 0:k.message)||"").toLowerCase();if(z.includes("bucket not found")||z.includes("not found")||z.includes("does not exist"))A=await E(C);else throw k}let Y=!0;try{(await $.from("musician_photos").select("id").limit(1)).error&&(Y=!1)}catch{Y=!1}if(Y){const{error:k}=await $.from("musician_photos").insert({musician_id:e,grid_url:A.gridUrl,full_url:A.fullUrl});if(k)throw k}else{r(k=>[{id:`${se}-${ee}`,grid_url:A.gridUrl,full_url:A.fullUrl,description:null,is_public:!0},...k]),oe({title:"Foto enviada",description:"Tabela não encontrada. Exibindo somente nesta sessão."}),u(!1);return}oe({title:"Foto adicionada"}),await y()}catch(H){oe({title:"Erro ao enviar foto",description:(H==null?void 0:H.message)||String(H),variant:"destructive"})}finally{u(!1)}},_=async(T,U)=>{try{const{error:q}=await $.from("musician_photos").update({description:U}).eq("id",T);if(q)throw q;r(re=>re.map(G=>G.id===T?{...G,description:U}:G)),o(null),oe({title:"Descrição atualizada"})}catch(q){oe({title:"Erro ao salvar descrição",description:q.message,variant:"destructive"})}},N=async(T,U)=>{try{const{error:q}=await $.from("musician_photos").update({is_public:!U}).eq("id",T);if(q)throw q;r(re=>re.map(G=>G.id===T?{...G,is_public:!U}:G))}catch{r(re=>re.map(G=>G.id===T?{...G,is_public:!U}:G)),oe({title:"Visibilidade atualizada localmente",description:"Tabela indisponível no momento."})}},P=async T=>{g(T),w(!0)},S=async()=>{if(!v)return;const T=v;w(!1),g(null);try{const{error:U}=await $.from("musician_photos").delete().eq("id",T);if(U)throw U;r(q=>q.filter(re=>re.id!==T)),oe({title:"Foto removida"})}catch{try{const q=t.find(H=>H.id===T);if(!q)throw new Error("Foto não encontrada em memória");const re=(H,V)=>{const se=`/storage/v1/object/public/${V}/`,ee=H.indexOf(se);return ee===-1?null:H.substring(ee+se.length)},G=["musician-photos","covers"];for(const H of G){const V=re(q.grid_url,H),se=re(q.full_url,H),ee=[V,se].filter(Boolean);ee.length&&await $.storage.from(H).remove(ee)}r(H=>H.filter(V=>V.id!==T)),oe({title:"Foto removida do Storage"})}catch(q){oe({title:"Erro ao remover",description:q.message,variant:"destructive"})}}};return s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Fotos"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{id:"photoInput",type:"file",accept:"image/*",className:"hidden",onChange:b}),s.jsx(O,{variant:"outline",onClick:()=>{var T;return(T=document.getElementById("photoInput"))==null?void 0:T.click()},disabled:d||t.length>=6,children:d?"Enviando...":t.length>=6?"Limite atingido":s.jsxs(s.Fragment,{children:[s.jsx(uu,{className:"h-4 w-4 mr-2"})," Adicionar foto"]})})]})]}),s.jsx("p",{className:"text-xs text-muted-foreground mb-3",children:"Tamanho máximo: 2MB. Formatos aceitos: JPG, PNG, GIF. As imagens serão otimizadas automaticamente."}),n?s.jsx("div",{className:"grid grid-cols-3 gap-px",children:Array.from({length:9}).map((T,U)=>s.jsx("div",{className:"aspect-square relative overflow-hidden",children:s.jsx(Xe,{className:"absolute inset-0 w-full h-full"})},U))}):t.length===0?s.jsx("div",{className:"text-sm text-muted-foreground",children:"Nenhuma foto adicionada."}):s.jsxs("div",{className:"grid grid-cols-3 gap-px",children:[t.map(T=>s.jsxs("div",{className:"relative group overflow-hidden aspect-square",children:[s.jsx("img",{src:T.grid_url,alt:"Foto",className:"absolute inset-0 w-full h-full object-cover",loading:"lazy"}),!T.is_public&&s.jsx("div",{className:"absolute inset-0 bg-black/60 flex items-center justify-center z-10",children:s.jsxs("div",{className:"text-center text-white",children:[s.jsx(Zn,{className:"h-8 w-8 mx-auto mb-2 opacity-70"}),s.jsx("p",{className:"text-xs font-medium",children:"Foto oculta"})]})}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"}),s.jsxs("div",{className:"absolute top-2 right-2 flex items-center gap-1 z-20",children:[s.jsx(O,{variant:"ghost",size:"icon",onClick:()=>N(T.id,T.is_public),className:"text-white hover:text-white/90 hover:bg-white/10",style:{color:"white"},children:T.is_public?s.jsx($r,{className:"h-4 w-4",style:{color:"white"}}):s.jsx(Zn,{className:"h-4 w-4",style:{color:"white"}})}),s.jsx(O,{variant:"ghost",size:"icon",onClick:()=>P(T.id),className:"text-white hover:text-white/90 hover:bg-white/10",style:{color:"white"},children:s.jsx(Yn,{className:"h-4 w-4",style:{color:"white"}})})]}),s.jsx("div",{className:"absolute bottom-0 left-0 right-0",children:s.jsx("div",{className:"bg-gradient-to-t from-black/80 to-transparent p-2",children:s.jsxs("div",{className:"flex items-end justify-between gap-2",children:[s.jsx("div",{className:"text-xs text-white line-clamp-2",style:{color:"white"},children:T.description||"Sem descrição"}),s.jsx(O,{variant:"ghost",size:"icon",className:"text-white hover:text-white/90 hover:bg-white/10",style:{color:"white"},onClick:()=>{o(T.id),c(T.description||""),m(!0)},children:s.jsx(Ga,{className:"h-4 w-4",style:{color:"white"}})})]})})})]},T.id)),d&&s.jsx("div",{className:"aspect-square relative overflow-hidden bg-muted/20 rounded",children:s.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-2"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Processando..."})]})})})]}),s.jsx(Ur,{open:h,onOpenChange:T=>{m(T),T||o(null)},children:s.jsxs(Pr,{children:[s.jsx(Tr,{children:s.jsx(Rr,{children:"Editar descrição da foto"})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx($i,{value:l,onChange:T=>c(T.target.value.slice(0,200)),rows:3,maxLength:200,placeholder:"Escreva uma descrição (até 200 caracteres)"}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:[l.length,"/200"]})]}),s.jsxs(pa,{children:[s.jsx(O,{variant:"outline",onClick:()=>{m(!1),o(null)},children:"Cancelar"}),s.jsx(O,{onClick:async()=>{i&&(await _(i,l),m(!1))},children:"Salvar"})]})]})}),s.jsx(Ur,{open:p,onOpenChange:T=>{w(T),T||g(null)},children:s.jsxs(Pr,{children:[s.jsx(Tr,{children:s.jsx(Rr,{children:"Confirmar exclusão"})}),s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"flex items-center gap-3 p-3 bg-muted/30 rounded-lg",children:[s.jsx("div",{className:"w-12 h-12 bg-destructive/10 rounded-lg flex items-center justify-center",children:s.jsx(Yn,{className:"h-6 w-6 text-destructive"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Excluir foto"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Esta ação não pode ser desfeita. A foto será removida permanentemente."})]})]})}),s.jsxs(pa,{children:[s.jsx(O,{variant:"outline",onClick:()=>{w(!1),g(null)},children:"Cancelar"}),s.jsx(O,{variant:"destructive",onClick:S,children:"Excluir foto"})]})]})})]})}function L4(e){return e.toLowerCase().trim().replace(/[^a-z0-9-\s]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").replace(/^-|-$|_/g,"")}function FK(e){return e.toLowerCase().replace(/[^a-z0-9-\s]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-")}function LK(e){return e.replace(/[^0-9A-Za-zÀ-ÿ\s]/g,"").replace(/\s+/g," ").replace(/^\s+/,"")}async function O0(e,t){if(!e)return!1;const{count:r,error:n}=await $.from("profiles").select("id",{count:"exact",head:!0}).ilike("username",e).neq("id",t);if(n)throw n;return(r||0)===0}async function YN(e,t,r=5){const n=[],a=[e,`${e}-${new Date().getFullYear()}`,`${e}-${Math.floor(Math.random()*90+10)}`,`${e}-oficial`,`${e}-music`];let i=0;for(;n.length<r&&i<120;){const o=i<a.length?a[i]:`${e}-${Math.floor(Math.random()*9999)}`,l=L4(o);l&&await O0(l,t)&&!n.includes(l)&&n.push(l),i++}return n}const Np=e=>{const t=e.replace(/\D/g,"");return t.length<=2?t:t.length<=7?`(${t.slice(0,2)}) ${t.slice(2)}`:t.length<=11?`(${t.slice(0,2)}) ${t.slice(2,7)}-${t.slice(7)}`:`(${t.slice(0,2)}) ${t.slice(2,7)}-${t.slice(7,11)}`},$K=({userId:e,isMobile:t})=>{var Q;const[r,n]=f.useState([]),[a,i]=f.useState(""),[o,l]=f.useState(""),[c,d]=f.useState(null),[u,h]=f.useState(!1),[m,p]=f.useState(null),[w,v]=f.useState(null),[g,y]=f.useState([]),[x,b]=f.useState(""),{uploadFile:_}=CH(e),[N,P]=f.useState(""),S=R=>{if(R==null||isNaN(R))return"R$ 0,00";try{return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(R)}catch{return`R$ ${R.toFixed(2)}`.replace(".",",")}},T=R=>{const L=(R||"").replace(/\D/g,"");if(!L)return"";const Z=L.padStart(3,"0"),ue=Z.slice(0,-2),_e=Z.slice(-2);return`${ue.replace(/\B(?=(\d{3})+(?!\d))/g,".")},${_e}`},{data:U}=Ze({queryKey:["genres"],queryFn:async()=>{const{data:R,error:L}=await $.from("genres").select("id, name").order("name");if(L)throw L;return R}}),{data:q}=Ze({queryKey:["profile-responsible",e],enabled:!!e,queryFn:async()=>{const{data:R,error:L}=await $.from("profiles").select("responsible_name, responsible_whatsapp").eq("id",e).maybeSingle();return L&&console.log("Perfil ainda não tem campos do responsável:",L.message),R}}),{data:re,refetch:G}=Ze({queryKey:["show-types",e],enabled:!!e,queryFn:async()=>{const{data:R,error:L}=await $.from("show_types").select(`
          *,
          show_type_genres(
            genre_id,
            genres(id, name)
          )
        `).eq("musician_id",e).order("created_at",{ascending:!0});return L&&console.log("Tabela show_types ainda não existe:",L.message),(R==null?void 0:R.map(ue=>{var _e;return{...ue,genres:((_e=ue.show_type_genres)==null?void 0:_e.map(me=>me.genres))||[],cacheFee:typeof ue.cache_fee=="number"?ue.cache_fee:void 0,isPublic:typeof ue.is_public=="boolean"?ue.is_public:!0,showCache:typeof ue.show_cache=="boolean"?ue.show_cache:!0}}))||[]}});f.useEffect(()=>{if(q){i(q.responsible_name||"");const R=q.responsible_whatsapp||"";l(R?Np(R):"")}},[q]),f.useEffect(()=>{if(re){const R=re.map(L=>({id:L.id,name:L.name,description:L.description||"",durationHours:L.duration_hours,durationMinutes:L.duration_minutes,stageMapUrl:L.stage_map_url,technicalRiderUrl:L.technical_rider_url,promoImage1Url:L.promo_image_1_url,promoImage2Url:L.promo_image_2_url,genres:L.genres||[],cacheFee:typeof L.cache_fee=="number"?L.cache_fee:void 0,isPublic:typeof L.is_public=="boolean"?L.is_public:!0,showCache:typeof L.show_cache=="boolean"?L.show_cache:!0}));n(R)}},[re]),f.useEffect(()=>{if(c){const R=c.cacheFee!=null?T(Math.round((c.cacheFee||0)*100).toString()):"";P(R)}else P("")},[c]),f.useEffect(()=>{U&&y(U)},[U]);const H=async()=>{try{const R=o.replace(/\D/g,""),{error:L}=await $.from("profiles").update({responsible_name:a||null,responsible_whatsapp:R||null}).eq("id",e);L&&(localStorage.setItem(`responsible_name_${e}`,a),localStorage.setItem(`responsible_whatsapp_${e}`,R),console.log("Salvando no localStorage como fallback:",L.message)),oe({title:"Informações do responsável salvas com sucesso!"})}catch(R){oe({title:"Erro ao salvar",description:R.message,variant:"destructive"})}},V=async(R,L)=>await _(R,"show-files",L),se=async R=>{c&&(d({...c,[R]:void 0}),oe({title:"Arquivo removido!"}))},ee=R=>[".jpg",".jpeg",".png",".gif",".webp"].some(Z=>R.toLowerCase().includes(Z)),J=(R,L)=>{const Z=document.createElement("a");Z.href=R,Z.download=L,Z.target="_blank",document.body.appendChild(Z),Z.click(),document.body.removeChild(Z)},I=R=>{const L=Np(R);l(L)},D=async(R,L)=>{if(c){p(L);try{const Z=await V(R,L);d({...c,[L]:Z})}catch(Z){oe({title:"Erro ao processar arquivo",description:Z.message,variant:"destructive"})}finally{p(null)}}},C=R=>{if(!c)return;const L=c.genres||[];L.find(Z=>Z.id===R.id)||(d({...c,genres:[...L,R]}),b(""))},E=R=>{c&&d({...c,genres:(c.genres||[]).filter(L=>L.id!==R)})},A=()=>{if(!x.trim())return[];const R=((c==null?void 0:c.genres)||[]).map(L=>L.id);return g.filter(L=>L.name.toLowerCase().includes(x.toLowerCase())&&!R.includes(L.id)).slice(0,5)},Y=async()=>{if(c)try{let R=c.id;if(c.id){const{error:L}=await $.from("show_types").update({name:c.name,description:c.description||null,duration_hours:c.durationHours,duration_minutes:c.durationMinutes,stage_map_url:c.stageMapUrl||null,technical_rider_url:c.technicalRiderUrl||null,promo_image_1_url:c.promoImage1Url||null,promo_image_2_url:c.promoImage2Url||null,cache_fee:typeof c.cacheFee=="number"?c.cacheFee:null,is_public:typeof c.isPublic=="boolean"?c.isPublic:!0,show_cache:typeof c.showCache=="boolean"?c.showCache:!0}).eq("id",c.id);if(L)throw L}else{const{data:L,error:Z}=await $.from("show_types").insert({musician_id:e,name:c.name,description:c.description||null,duration_hours:c.durationHours,duration_minutes:c.durationMinutes,stage_map_url:c.stageMapUrl||null,technical_rider_url:c.technicalRiderUrl||null,promo_image_1_url:c.promoImage1Url||null,promo_image_2_url:c.promoImage2Url||null,cache_fee:typeof c.cacheFee=="number"?c.cacheFee:null,is_public:typeof c.isPublic=="boolean"?c.isPublic:!0,show_cache:typeof c.showCache=="boolean"?c.showCache:!0}).select();if(Z)throw Z;R=L[0].id}if(R&&c.genres&&c.genres.length>0){await $.from("show_type_genres").delete().eq("show_type_id",R);const L=c.genres.map(ue=>({show_type_id:R,genre_id:ue.id})),{error:Z}=await $.from("show_type_genres").insert(L);if(Z)throw Z}else R&&await $.from("show_type_genres").delete().eq("show_type_id",R);await G(),d(null),h(!1),oe({title:"Tipo de show salvo com sucesso!"})}catch(R){let L;if(c.id)L=r.map(Z=>Z.id===c.id?c:Z);else{const Z={...c,id:Date.now().toString()};L=[...r,Z]}n(L),localStorage.setItem(`show_types_${e}`,JSON.stringify(L)),d(null),h(!1),oe({title:"Tipo de show salvo (modo offline)!"}),console.log("Salvando no localStorage como fallback:",R.message)}},k=async R=>{const L=!(R.isPublic??!0);try{if(R.id){const{error:Z}=await $.from("show_types").update({is_public:L}).eq("id",R.id);if(Z)throw Z}n(Z=>Z.map(ue=>ue.id===R.id?{...ue,isPublic:L}:ue)),oe({title:L?"Show visível":"Show oculto"})}catch(Z){n(ue=>ue.map(_e=>_e.id===R.id?{..._e,isPublic:L}:_e)),oe({title:"Visibilidade atualizada localmente",description:Z==null?void 0:Z.message})}},z=async R=>{try{const{error:L}=await $.from("show_types").delete().eq("id",R);if(L)throw L;await G(),oe({title:"Tipo de show removido!"})}catch(L){const Z=r.filter(ue=>ue.id!==R);n(Z),localStorage.setItem(`show_types_${e}`,JSON.stringify(Z)),oe({title:"Tipo de show removido (modo offline)!"}),console.log("Removendo do localStorage como fallback:",L.message)}},ne=r.length<5;return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"p-0",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(Le,{htmlFor:"responsibleName",className:"text-gray-400 font-normal",children:"Nome do Responsável"}),s.jsx(Oe,{id:"responsibleName",value:a,onChange:R=>i(R.target.value),placeholder:"Nome completo"})]}),s.jsxs("div",{children:[s.jsx(Le,{htmlFor:"responsibleWhatsapp",children:"WhatsApp"}),s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx(Oe,{id:"responsibleWhatsapp",value:o,onChange:R=>I(R.target.value),placeholder:"(00) 00000-0000",maxLength:15}),s.jsx(O,{onClick:H,className:"w-full md:w-auto mt-4",children:"Salvar"})]})]})]})}),s.jsxs("div",{children:[s.jsx("div",{className:"flex justify-end items-center mb-4",children:ne&&s.jsxs(O,{variant:"outline",onClick:()=>{d({name:"",description:"",durationHours:1,durationMinutes:0,genres:[]}),h(!0)},children:[s.jsx(Nc,{className:"h-4 w-4 mr-2"}),"Adicionar Show"]})}),r.length===0?s.jsxs("div",{className:"text-center py-8 border rounded-lg",children:[s.jsx("p",{className:"text-muted-foreground",children:"Nenhum tipo de show cadastrado"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Adicione até 5 tipos de shows diferentes"})]}):s.jsx("div",{className:"space-y-0",children:r.map((R,L)=>s.jsxs("div",{children:[s.jsxs("div",{className:"py-4",children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsx("h4",{className:"font-medium truncate flex-1 mr-2",children:R.name}),t?s.jsxs(Zi,{children:[s.jsx(Ji,{asChild:!0,children:s.jsx(O,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 flex-shrink-0",children:s.jsx(Yi,{className:"h-4 w-4"})})}),s.jsxs(Ya,{align:"end",className:"w-48",children:[s.jsxs(ur,{onClick:()=>k(R),children:[R.isPublic?s.jsx($r,{className:"h-4 w-4 mr-2"}):s.jsx(Zn,{className:"h-4 w-4 mr-2"}),R.isPublic?"Ocultar":"Exibir"]}),s.jsxs(ur,{onClick:()=>{d(R),h(!0)},children:[s.jsx(Ga,{className:"h-4 w-4 mr-2"}),"Editar"]}),s.jsxs(ur,{onClick:()=>z(R.id),children:[s.jsx(Yn,{className:"h-4 w-4 mr-2"}),"Remover"]})]})]}):s.jsxs("div",{className:"flex gap-1 flex-shrink-0",children:[s.jsx(O,{variant:"ghost",size:"sm",onClick:()=>k(R),className:"text-muted-foreground hover:text-foreground",title:R.isPublic?"Ocultar este show":"Exibir este show","aria-label":R.isPublic?"Ocultar este show":"Exibir este show",children:R.isPublic?s.jsx($r,{className:"h-4 w-4"}):s.jsx(Zn,{className:"h-4 w-4"})}),s.jsx(O,{variant:"ghost",size:"sm",onClick:()=>{d(R),h(!0)},className:"text-muted-foreground hover:text-foreground",title:"Editar este show","aria-label":"Editar este show",children:s.jsx(Ga,{className:"h-4 w-4"})}),s.jsx(O,{variant:"ghost",size:"sm",onClick:()=>z(R.id),className:"text-muted-foreground hover:text-foreground",title:"Remover este show","aria-label":"Remover este show",children:s.jsx(Yn,{className:"h-4 w-4"})})]})]}),s.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:R.description}),s.jsxs("div",{className:"flex items-center gap-3 text-sm mb-2",children:[typeof R.cacheFee=="number"&&(R.showCache??!0)&&s.jsx("span",{className:"px-2 py-1 rounded border bg-secondary/30",children:S(R.cacheFee)}),s.jsxs("div",{className:"flex items-center gap-1 text-muted-foreground",children:[R.isPublic?s.jsx($r,{className:"h-3 w-3"}):s.jsx(Zn,{className:"h-3 w-3"}),s.jsx("span",{className:"text-xs",children:R.isPublic?"Visível":"Oculto"})]})]}),s.jsxs("p",{className:"text-sm mb-2",children:["Duração: ",R.durationHours,"h ",R.durationMinutes>0&&`${R.durationMinutes}min`]}),R.genres&&R.genres.length>0&&s.jsxs("div",{className:"mt-3",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(nr,{className:"h-3 w-3 text-muted-foreground"}),s.jsx("span",{className:"text-xs text-muted-foreground font-medium",children:"Estilos Musicais"})]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:R.genres.map(Z=>s.jsx("span",{className:"inline-flex items-center bg-primary/10 text-primary px-3 py-1 rounded-full text-xs font-medium border border-primary/20",children:Z.name},Z.id))})]})]}),L<r.length-1&&s.jsx("hr",{className:"border-gray"})]},R.id))})]}),s.jsx(Ur,{open:u,onOpenChange:h,children:s.jsxs(Pr,{className:"max-w-3xl max-h-[85vh] p-0 flex flex-col",children:[s.jsx(Tr,{className:"p-6 pb-2",children:s.jsx(Rr,{children:c!=null&&c.id?"Editar Show":"Novo Show"})}),c&&s.jsx("div",{className:"flex-1 overflow-y-auto px-6 pb-4",children:s.jsxs(Cd,{defaultValue:"informacoes",className:"w-full",children:[s.jsxs(oo,{className:"grid w-full grid-cols-2 mb-6",children:[s.jsx(zr,{value:"informacoes",children:"Informações"}),s.jsx(zr,{value:"arquivos",children:"Arquivos"})]}),s.jsx(Yr,{value:"informacoes",className:"space-y-4",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(Le,{htmlFor:"showName",children:"Nome do Show"}),s.jsx(Oe,{id:"showName",value:c.name,onChange:R=>d({...c,name:R.target.value}),placeholder:"Ex: Show Acústico, Festa Completa..."})]}),s.jsxs("div",{children:[s.jsx(Le,{htmlFor:"showDescription",children:"Descrição Breve"}),s.jsx($i,{id:"showDescription",value:c.description,onChange:R=>d({...c,description:R.target.value.slice(0,300)}),placeholder:"Descreva o tipo de show, repertório, equipamentos...",rows:3,maxLength:300}),s.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:[((Q=c.description)==null?void 0:Q.length)||0,"/300"]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(Le,{htmlFor:"durationHours",children:"Horas"}),s.jsxs(pl,{value:c.durationHours.toString(),onValueChange:R=>d({...c,durationHours:parseInt(R)}),children:[s.jsx(lo,{children:s.jsx(gl,{placeholder:"Selecione as horas"})}),s.jsx(co,{children:Array.from({length:24},(R,L)=>s.jsxs(Gr,{value:L.toString(),children:[L,"h"]},L))})]})]}),s.jsxs("div",{children:[s.jsx(Le,{htmlFor:"durationMinutes",children:"Minutos"}),s.jsxs(pl,{value:c.durationMinutes.toString(),onValueChange:R=>d({...c,durationMinutes:parseInt(R)}),children:[s.jsx(lo,{children:s.jsx(gl,{placeholder:"Selecione os minutos"})}),s.jsx(co,{children:Array.from({length:12},(R,L)=>L*5).map(R=>s.jsx(Gr,{value:R.toString(),children:R===0?"0min":`${R}min`},R))})]})]})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx(Le,{htmlFor:"cacheFee",children:"Cachê"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx(Oe,{id:"cacheFee",inputMode:"numeric",placeholder:"0,00",value:N,onChange:R=>{const L=T(R.target.value);P(L);const Z=Number(L.replace(/\./g,"").replace(",","."));d({...c,cacheFee:isNaN(Z)?void 0:Number(Z.toFixed(2))})},className:"w-full"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:S(c.cacheFee)})]}),s.jsxs("div",{className:"flex flex-col items-center gap-1 flex-shrink-0",children:[s.jsx(eo,{checked:c.showCache??!0,onCheckedChange:R=>d({...c,showCache:R}),"aria-label":"Exibir cachê publicamente"}),s.jsx("span",{className:"text-xs text-muted-foreground text-center",children:c.showCache?"Visível":"Oculto"})]})]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Informe quais estilos tem esse show"}),s.jsxs("div",{className:"relative",children:[s.jsxs("div",{className:"min-h-[40px] border border-input rounded-md bg-background px-3 py-2 flex flex-wrap items-center gap-2",children:[c.genres&&c.genres.length>0&&s.jsx(s.Fragment,{children:c.genres.map(R=>s.jsxs("div",{className:"flex items-center gap-1 bg-primary/10 text-primary px-2 py-1 rounded-full text-sm",children:[s.jsx("span",{children:R.name}),s.jsx("button",{type:"button",onClick:()=>E(R.id),className:"ml-1 hover:bg-primary/20 rounded-full p-0.5 transition-colors text-primary",children:"✕"})]},R.id))}),s.jsx(Oe,{value:x,onChange:R=>b(R.target.value),placeholder:c.genres&&c.genres.length>0?"Adicionar mais estilos...":"Digite um estilo musical...",className:"border-0 p-0 h-auto min-w-[200px] flex-1 focus-visible:ring-0 focus-visible:ring-offset-0"})]}),A().length>0&&s.jsx("div",{className:"absolute bottom-full left-0 right-0 z-50 bg-background border rounded-md shadow-lg max-h-40 overflow-y-auto mb-1",children:A().map(R=>s.jsx("button",{type:"button",className:"w-full px-3 py-2 text-left hover:bg-muted transition-colors",onClick:()=>C(R),children:R.name},R.id))})]})]})]})}),s.jsx(Yr,{value:"arquivos",className:"space-y-4",children:s.jsxs("div",{className:"space-y-6",children:[s.jsx("h4",{className:"text-sm font-medium text-foreground",children:"Arquivos do Show"}),s.jsxs("div",{className:"border rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx(gc,{className:"h-4 w-4 text-muted-foreground"}),s.jsx(Le,{className:"text-sm font-medium",children:"Mapa de Palco"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"(PDF, JPG, PNG - até 5MB)"})]}),c.stageMapUrl?s.jsx("div",{className:"space-y-3",children:s.jsxs("div",{className:"flex items-center justify-between p-3 bg-accent/50 border border-border rounded-md",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[ee(c.stageMapUrl)?s.jsx(vc,{className:"h-4 w-4 text-primary"}):s.jsx(gc,{className:"h-4 w-4 text-primary"}),s.jsx("span",{className:"text-sm text-foreground",children:"Arquivo enviado"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[ee(c.stageMapUrl)?s.jsx(O,{variant:"ghost",size:"sm",onClick:()=>v(c.stageMapUrl),className:"text-primary hover:text-primary hover:bg-primary/10",children:s.jsx($r,{className:"h-4 w-4"})}):s.jsx(O,{variant:"ghost",size:"sm",onClick:()=>J(c.stageMapUrl,"mapa-de-palco"),className:"text-primary hover:text-primary hover:bg-primary/10",children:s.jsx(Hm,{className:"h-4 w-4"})}),s.jsx(O,{variant:"ghost",size:"sm",onClick:()=>se("stageMapUrl"),className:"text-destructive hover:text-destructive hover:bg-destructive/10",children:s.jsx(Yn,{className:"h-4 w-4"})})]})]})}):s.jsxs("div",{children:[s.jsx("input",{type:"file",accept:".pdf,.jpg,.jpeg,.png",onChange:R=>{var Z;const L=(Z=R.target.files)==null?void 0:Z[0];L&&D(L,"stageMapUrl")},className:"hidden",id:"stageMap"}),s.jsxs(O,{variant:"outline",onClick:()=>{var R;return(R=document.getElementById("stageMap"))==null?void 0:R.click()},disabled:m==="stageMapUrl",className:"w-full",children:[s.jsx(uu,{className:"h-4 w-4 mr-2"}),m==="stageMapUrl"?"Enviando...":"Escolher Arquivo"]})]})]}),s.jsxs("div",{className:"border rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx(gc,{className:"h-4 w-4 text-muted-foreground"}),s.jsx(Le,{className:"text-sm font-medium",children:"Rider Técnico"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"(PDF, DOC, DOCX - até 5MB)"})]}),c.technicalRiderUrl?s.jsx("div",{className:"space-y-3",children:s.jsxs("div",{className:"flex items-center justify-between p-3 bg-accent/50 border border-border rounded-md",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[ee(c.technicalRiderUrl)?s.jsx(vc,{className:"h-4 w-4 text-primary"}):s.jsx(gc,{className:"h-4 w-4 text-primary"}),s.jsx("span",{className:"text-sm text-foreground",children:"Arquivo enviado"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[ee(c.technicalRiderUrl)?s.jsx(O,{variant:"ghost",size:"sm",onClick:()=>v(c.technicalRiderUrl),className:"text-primary hover:text-primary hover:bg-primary/10",children:s.jsx($r,{className:"h-4 w-4"})}):s.jsx(O,{variant:"ghost",size:"sm",onClick:()=>J(c.technicalRiderUrl,"rider-tecnico"),className:"text-primary hover:text-primary hover:bg-primary/10",children:s.jsx(Hm,{className:"h-4 w-4"})}),s.jsx(O,{variant:"ghost",size:"sm",onClick:()=>se("technicalRiderUrl"),className:"text-destructive hover:text-destructive hover:bg-destructive/10",children:s.jsx(Yn,{className:"h-4 w-4"})})]})]})}):s.jsxs("div",{children:[s.jsx("input",{type:"file",accept:".pdf,.doc,.docx",onChange:R=>{var Z;const L=(Z=R.target.files)==null?void 0:Z[0];L&&D(L,"technicalRiderUrl")},className:"hidden",id:"technicalRider"}),s.jsxs(O,{variant:"outline",onClick:()=>{var R;return(R=document.getElementById("technicalRider"))==null?void 0:R.click()},disabled:m==="technicalRiderUrl",className:"w-full",children:[s.jsx(uu,{className:"h-4 w-4 mr-2"}),m==="technicalRiderUrl"?"Enviando...":"Escolher Arquivo"]})]})]}),s.jsxs("div",{className:"border rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx(vc,{className:"h-4 w-4 text-muted-foreground"}),s.jsx(Le,{className:"text-sm font-medium",children:"Imagem de Divulgação"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"(JPG, PNG - até 5MB)"})]}),c.promoImage1Url?s.jsx("div",{className:"space-y-3",children:s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:c.promoImage1Url,alt:"Imagem de divulgação 1",className:"w-full h-32 object-cover rounded-md border"}),s.jsxs("div",{className:"absolute top-2 right-2 flex gap-1",children:[s.jsx(O,{variant:"ghost",size:"sm",onClick:()=>v(c.promoImage1Url),className:"bg-white/80 text-primary hover:text-primary hover:bg-white",children:s.jsx($r,{className:"h-4 w-4"})}),s.jsx(O,{variant:"ghost",size:"sm",onClick:()=>se("promoImage1Url"),className:"bg-white/80 text-destructive hover:text-destructive hover:bg-white",children:s.jsx(Yn,{className:"h-4 w-4"})})]})]})}):s.jsxs("div",{children:[s.jsx("input",{type:"file",accept:".jpg,.jpeg,.png",onChange:R=>{var Z;const L=(Z=R.target.files)==null?void 0:Z[0];L&&D(L,"promoImage1Url")},className:"hidden",id:"promoImage1"}),s.jsxs(O,{variant:"outline",onClick:()=>{var R;return(R=document.getElementById("promoImage1"))==null?void 0:R.click()},disabled:m==="promoImage1Url",className:"w-full",children:[s.jsx(uu,{className:"h-4 w-4 mr-2"}),m==="promoImage1Url"?"Enviando...":"Escolher Imagem"]})]})]}),s.jsxs("div",{className:"border rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx(vc,{className:"h-4 w-4 text-muted-foreground"}),s.jsx(Le,{className:"text-sm font-medium",children:"Imagem de Divulgação"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"(JPG, PNG - até 5MB)"})]}),c.promoImage2Url?s.jsx("div",{className:"space-y-3",children:s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:c.promoImage2Url,alt:"Imagem de divulgação 2",className:"w-full h-32 object-cover rounded-md border"}),s.jsxs("div",{className:"absolute top-2 right-2 flex gap-1",children:[s.jsx(O,{variant:"ghost",size:"sm",onClick:()=>v(c.promoImage2Url),className:"bg-white/80 text-primary hover:text-primary hover:bg-white",children:s.jsx($r,{className:"h-4 w-4"})}),s.jsx(O,{variant:"ghost",size:"sm",onClick:()=>se("promoImage2Url"),className:"bg-white/80 text-destructive hover:text-destructive hover:bg-white",children:s.jsx(Yn,{className:"h-4 w-4"})})]})]})}):s.jsxs("div",{children:[s.jsx("input",{type:"file",accept:".jpg,.jpeg,.png",onChange:R=>{var Z;const L=(Z=R.target.files)==null?void 0:Z[0];L&&D(L,"promoImage2Url")},className:"hidden",id:"promoImage2"}),s.jsxs(O,{variant:"outline",onClick:()=>{var R;return(R=document.getElementById("promoImage2"))==null?void 0:R.click()},disabled:m==="promoImage2Url",className:"w-full",children:[s.jsx(uu,{className:"h-4 w-4 mr-2"}),m==="promoImage2Url"?"Enviando...":"Escolher Imagem"]})]})]})]})})]})}),s.jsx(pa,{className:"p-4 border-t",children:s.jsxs("div",{className:"flex items-center justify-between gap-3 w-full",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(eo,{checked:(c==null?void 0:c.isPublic)??!0,onCheckedChange:R=>c&&d({...c,isPublic:R}),"aria-label":"Visibilidade do tipo de show"}),s.jsxs("span",{className:"flex items-center gap-1 text-muted-foreground",children:[c!=null&&c.isPublic?s.jsx($r,{className:"h-4 w-4"}):s.jsx(Zn,{className:"h-4 w-4"}),c!=null&&c.isPublic?"Visível":"Oculto"]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(O,{variant:"outline",onClick:()=>{h(!1),d(null)},children:"Cancelar"}),s.jsx(O,{onClick:Y,children:"Salvar"})]})]})})]})}),s.jsx(Ur,{open:!!w,onOpenChange:()=>v(null),children:s.jsxs(Pr,{className:"max-w-4xl max-h-[90vh] p-0",children:[s.jsx(Tr,{className:"p-6 pb-2",children:s.jsx(Rr,{children:"Visualizar Imagem"})}),w&&s.jsx("div",{className:"px-6 pb-6",children:s.jsx("img",{src:w,alt:"Visualização completa",className:"w-full h-auto max-h-[70vh] object-contain rounded-md"})})]})})]})},zK=()=>{var yt;const{user:e,loading:t}=ar(),r=Or(),n=ll(),{resolvedTheme:a}=is(),[i,o]=f.useState("dados"),[l,c]=f.useState(""),[d,u]=f.useState(""),[h,m]=f.useState(""),[p,w]=f.useState(50),[v,g]=f.useState(null),[y,x]=f.useState(null),[b,_]=f.useState("desktop"),[N,P]=f.useState(""),[S,T]=f.useState(!1),[U,q]=f.useState(!1),[re,G]=f.useState(""),[H,V]=f.useState(""),[se,ee]=f.useState(""),[J,I]=f.useState(""),[D,C]=f.useState(""),[E,A]=f.useState(!1),[Y,k]=f.useState(!1),[z,ne]=f.useState(!1),[Q,R]=f.useState(!1),[L,Z]=f.useState(!1),[ue,_e]=f.useState(""),[me,xe]=f.useState(""),Ge=f.useMemo(()=>L4(me),[me]),[_t,Ot]=f.useState(!1),[Ct,$t]=f.useState(null),[B,te]=f.useState([]),[ce,be]=f.useState(!1),[we,pe]=f.useState(!1),[Se,Ue]=f.useState(""),[fe,We]=f.useState(""),[vt,et]=f.useState(""),kt=l||(e==null?void 0:e.email)||"Usuário",qt=d||void 0;async function ir(ie,He=150*1024){const ze=await new Promise((X,Na)=>{const mn=new Image;mn.onload=()=>X(mn),mn.onerror=Na,mn.src=URL.createObjectURL(ie)}),pt=600;let ot=ze.width,Nt=ze.height;const dr=Math.min(1,pt/Math.max(ot,Nt));ot=Math.max(1,Math.round(ot*dr)),Nt=Math.max(1,Math.round(Nt*dr));const Vr=document.createElement("canvas");Vr.width=ot,Vr.height=Nt;const kr=Vr.getContext("2d");if(!kr)throw new Error("Canvas context not available");kr.drawImage(ze,0,0,ot,Nt);let nn=.4,hn=.9,Mt=null;for(let X=0;X<7;X++){const Na=(nn+hn)/2,mn=await new Promise(Ed=>Vr.toBlob(Gg=>Ed(Gg||new Blob),"image/jpeg",Na));mn.size<=He?(Mt=mn,nn=Na):hn=Na}const _a=Mt||await new Promise(X=>Vr.toBlob(Na=>X(Na||new Blob),"image/jpeg",.75));return URL.revokeObjectURL(ze.src),{blob:_a,ext:"jpg"}}const F=S||!!((yt=e==null?void 0:e.user_metadata)!=null&&yt.is_pro),ae=async(ie,He,ze=.8)=>{if(ie.size>2097152)throw new Error("Arquivo muito grande. Tamanho máximo: 2MB");const Nt=document.createElement("img"),dr=URL.createObjectURL(ie);try{await new Promise((Mt,_a)=>{Nt.onload=()=>Mt(),Nt.onerror=_a,Nt.src=dr});const Vr=Math.min(1,He/Nt.naturalWidth),kr=document.createElement("canvas");kr.width=Math.round(Nt.naturalWidth*Vr),kr.height=Math.round(Nt.naturalHeight*Vr);const nn=kr.getContext("2d");if(!nn)throw new Error("Canvas context not available");nn.imageSmoothingEnabled=!0,nn.imageSmoothingQuality="high",nn.drawImage(Nt,0,0,kr.width,kr.height);const hn=await new Promise(Mt=>kr.toBlob(_a=>Mt(_a),"image/webp",ze));if(hn.size>2097152)throw new Error("Imagem otimizada ainda muito grande. Tente uma imagem menor.");return hn}finally{URL.revokeObjectURL(dr)}},ye=async()=>{await $.auth.signOut(),r("/")},{data:Pe,refetch:nt}=Ze({queryKey:["roles",e==null?void 0:e.id],enabled:!!(e!=null&&e.id),queryFn:async()=>{const{data:ie,error:He}=await $.from("user_roles").select("role").eq("user_id",e.id);if(He)throw He;return ie}}),st=(Pe||[]).some(ie=>ie.role==="musician"),{shouldShowIndicator:$e,isActiveComputed:wr,isLoading:Cr}=Uf({userId:e==null?void 0:e.id,isMusician:st}),{checkAndActivate:Re}=SH({userId:e==null?void 0:e.id,isMusician:st,profileData:{displayName:l,avatarUrl:d,coverUrl:h,description:N,username:me||ue,whatsapp:re},exists:Q}),ke=async()=>{if(e)try{const{data:ie,error:He}=await $.from("profiles").select("*").eq("id",e.id).maybeSingle();if(He){oe({title:"Erro ao carregar perfil",description:He.message});return}if(ie){R(!0),c(ie.display_name||""),u(ie.avatar_url||""),m(ie.cover_url||""),T(!!(ie!=null&&ie.is_pro)),q(!!(ie!=null&&ie.is_active)),P(ie.description||""),Ue(ie.description||"");const ze=ie.whatsapp||"";G(ze?Np(ze):""),V(ie.instagram||""),ee(ie.facebook||""),I(ie.youtube||""),C(ie.spotify||""),_e(ie.username||""),xe(ie.username||""),w(ie.cover_position??50),g(ie.cover_position_mobile??null),x(ie.cover_position_desktop??null);const pt=ie.responsible_name,ot=ie.pix_key;et(pt&&pt.trim()!==""?pt:""),We(ot&&ot.trim()!==""?ot:"")}}catch(ie){console.error("Erro ao carregar perfil:",ie)}};f.useEffect(()=>{ke()},[e]),f.useEffect(()=>{if(!e)return;if(!st){$t(null),te([]);return}if(!Ge){$t(null),te([]);return}let ie=!1;Ot(!0);const He=setTimeout(async()=>{try{const ze=await O0(Ge,e.id);if(ie)return;if($t(ze),ze)te([]);else{const pt=await YN(Ge,e.id,5);ie||te(pt)}}catch(ze){ie||oe({title:"Erro ao validar usuário",description:ze.message})}finally{ie||Ot(!1)}},400);return()=>{ie=!0,clearTimeout(He)}},[Ge,e,st]);const qe=f.useMemo(()=>{if(!e)return"";const ie=window.location.origin;return ue?`${ie}/${ue}`:`${ie}/m/${e.id}`},[e,ue]),Ye=ie=>{const He=Np(ie);G(He)},ut=async()=>{if(e){ne(!0);try{const{error:ie}=await $.from("profiles").update({responsible_name:vt||null,pix_key:fe||null}).eq("id",e.id);if(ie)throw ie;oe({title:"Dados bancários salvos"})}catch(ie){oe({title:"Erro ao salvar dados bancários",description:ie.message})}finally{ne(!1)}}},xt=async()=>{if(e){ne(!0);try{if(st&&me){if(!/^[a-z0-9](?:[a-z0-9-]{1,28}[a-z0-9])?$/.test(Ge)){oe({title:"Nome de usuário inválido",description:"Use 3-30 caracteres, letras minúsculas, números e hífens. Não inicie/termine com hífen."});return}if(!await O0(Ge,e.id)&&Ge!==ue){if(oe({title:"Nome indisponível",description:"Escolha uma das sugestões ou tente outro."}),B.length===0){const ot=await YN(Ge,e.id,5);te(ot)}return}}const ie=re.replace(/\D/g,""),He=!1;if(Q){let ze={display_name:l||null,avatar_url:d||null,cover_url:h||null,cover_position:p,cover_position_mobile:v,cover_position_desktop:y,whatsapp:ie||null,instagram:H||null,facebook:se||null,youtube:J||null,spotify:D||null,description:N||null,username:st?me?Ge:null:void 0,is_active:He},{error:pt}=await $.from("profiles").update(ze).eq("id",e.id);if(pt&&String(pt.message).includes("cover_position_")){delete ze.cover_position_mobile,delete ze.cover_position_desktop;const ot=await $.from("profiles").update(ze).eq("id",e.id);if(ot.error)throw ot.error}else if(pt)throw pt}else{let ze={id:e.id,display_name:l||null,avatar_url:d||null,cover_url:h||null,cover_position:p,cover_position_mobile:v,cover_position_desktop:y,whatsapp:ie||null,instagram:H||null,facebook:se||null,youtube:J||null,spotify:D||null,description:N||null,username:st?me?Ge:null:void 0,is_active:He},{error:pt}=await $.from("profiles").insert(ze);if(pt&&String(pt.message).includes("cover_position_")){delete ze.cover_position_mobile,delete ze.cover_position_desktop;const ot=await $.from("profiles").insert(ze);if(ot.error)throw ot.error}else if(pt)throw pt;R(!0)}st&&_e(me?Ge:""),oe({title:"Perfil salvo"}),st&&await Re()}catch(ie){oe({title:"Erro ao salvar",description:ie.message})}finally{ne(!1)}}};return s.jsxs("main",{className:"min-h-screen bg-background flex flex-col",children:[s.jsx(Xt,{title:"Perfil do Músico e QR Code",description:"Cadastre dados e gere seu QR Code para pedidos."}),s.jsxs("header",{className:"sticky top-0 z-40 h-12 flex items-center bg-background/80 supports-[backdrop-filter]:bg-background/60 backdrop-blur border-b px-4",children:[e&&s.jsx(O,{variant:"ghost",size:"icon",className:"mr-2","aria-label":"Abrir menu",onClick:()=>Z(!0),children:s.jsx(Rf,{className:"h-5 w-5"})}),s.jsxs("nav",{className:"flex w-full items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Yt,{to:"/",className:"font-semibold",children:s.jsx("img",{src:a==="dark"?"/logo_avaplay.png":"/logo_avaplay_amarelo.png",alt:"AVAPlay",className:"h-6"})}),s.jsx(Sd,{isVisible:$e})]}),s.jsx("div",{className:"hidden md:flex items-center gap-2",children:e?null:s.jsx(O,{onClick:()=>r("/auth"),children:"Entrar"})})]})]}),s.jsxs("section",{className:"max-w-4xl mx-auto px-4 py-6",children:[e&&s.jsx(ca,{open:L,onOpenChange:Z,children:s.jsx(Us,{side:"left",className:"w-[16rem] p-0",children:s.jsxs("nav",{className:"p-2",children:[s.jsxs("div",{className:" items-center gap-3 p-3 border-b mb-2",children:[s.jsxs(Dt,{className:"h-10 w-10",isPro:F,children:[s.jsx(It,{src:qt,alt:kt??"Usuário"}),s.jsx(Ft,{children:(kt||"U").charAt(0).toUpperCase()})]}),s.jsx("div",{className:"min-w-0",children:s.jsx("p",{className:"text-sm truncate font-normal",children:kt})})]}),st&&s.jsx(O,{variant:"ghost",className:"w-full justify-start",onClick:()=>{Z(!1),r("/musician")},children:"Painel"}),s.jsx(O,{variant:"ghost",className:"w-full justify-start",onClick:()=>{Z(!1),r("/requests")},children:"Meus Pedidos"}),s.jsx(O,{variant:"ghost",className:"w-full justify-start",onClick:()=>{Z(!1),r("/conexoes")},children:"Conexões"}),s.jsx(O,{variant:"ghost",className:"w-full justify-start",onClick:()=>{Z(!1),r("/musician/profile")},children:"Editar perfil"}),s.jsx(O,{variant:"ghost",className:"w-full justify-start",onClick:()=>{Z(!1),ye()},children:"Sair"})]})})}),!e&&!t&&s.jsxs(tt,{className:"border-0 shadow-none",children:[s.jsx(Qt,{children:s.jsx(cr,{children:"Entre para configurar seu perfil"})}),s.jsx(rt,{children:s.jsx(O,{onClick:()=>r("/auth"),children:"Entrar"})})]}),e&&(st?s.jsx("div",{className:"space-y-6",children:s.jsxs(Cd,{value:i,onValueChange:o,className:"w-full",children:[n?s.jsxs("div",{className:"flex items-center gap-2 w-full",children:[s.jsxs(oo,{className:"flex-1",children:[s.jsx(zr,{value:"dados",className:"flex-1",children:"Meus dados"}),s.jsx(zr,{value:"contato",className:"flex-1",children:"Contato"})]}),s.jsxs(Zi,{children:[s.jsx(Ji,{asChild:!0,children:s.jsx(O,{variant:"outline",size:"sm",className:"h-9 px-2",children:s.jsx(Yi,{className:"h-4 w-4"})})}),s.jsxs(Ya,{align:"end",className:"w-48",children:[s.jsx(ur,{onClick:()=>o("contratantes"),children:"Contratantes"}),s.jsx(ur,{onClick:()=>o("fotos"),children:"Fotos"}),s.jsx(ur,{onClick:()=>o("qrcode"),children:"QrCode"}),s.jsx(ur,{onClick:()=>o("bancarios"),children:"Dados bancários"})]})]})]}):s.jsxs(oo,{className:"grid w-full grid-cols-6",children:[s.jsx(zr,{value:"dados",children:"Meus dados"}),s.jsx(zr,{value:"contato",children:"Contato"}),s.jsx(zr,{value:"contratantes",children:"Contratantes"}),s.jsx(zr,{value:"fotos",children:"Fotos"}),s.jsx(zr,{value:"qrcode",children:"QrCode"}),s.jsx(zr,{value:"bancarios",children:"Dados bancários"})]}),s.jsxs(Yr,{value:"dados",children:[!Cr&&!wr&&s.jsx(Lg,{className:"mt-4 border-orange-200 bg-orange-50 dark:border-orange-800 dark:bg-orange-950",variant:"default",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"flex-shrink-0 mt-0.5",children:s.jsx("svg",{className:"w-4 h-4 text-orange-500",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx(kM,{className:"text-orange-800 dark:text-orange-200 font-medium text-sm",children:"Conta inativa - Complete os campos obrigatórios"}),s.jsx($g,{className:"text-orange-700 dark:text-orange-300 text-xs mt-1",children:"Avatar, foto de capa, nome público, nome de usuário, descrição e WhatsApp. Seu perfil não será exibido publicamente até que todos os campos sejam preenchidos."})]})]})}),s.jsx(tt,{className:"border-0 shadow-none mt-5",children:s.jsxs(rt,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("input",{id:"avatarFile",type:"file",accept:"image/*",className:"hidden",onChange:async ie=>{var pt,ot;const He=ie.target,ze=(pt=He==null?void 0:He.files)==null?void 0:pt[0];if(!(!ze||!e)){k(!0);try{let Nt=ze,dr=((ot=ze.name.split(".").pop())==null?void 0:ot.toLowerCase())||"jpg",Vr=ze.type||"image/jpeg";try{const Mt=await ir(ze,153600);Nt=Mt.blob,dr=Mt.ext,Vr="image/jpeg"}catch(Mt){console.warn("Compressão do avatar falhou, enviando original:",Mt)}const kr=`${e.id}/avatar-${Date.now()}.${dr}`,{error:nn}=await $.storage.from("avatars").upload(kr,Nt,{upsert:!0,contentType:Vr});if(nn)throw nn;const{data:hn}=$.storage.from("avatars").getPublicUrl(kr);u(hn.publicUrl);try{const{error:Mt}=await $.from("profiles").update({avatar_url:hn.publicUrl}).eq("id",e.id);Mt&&await $.from("profiles").insert({id:e.id,avatar_url:hn.publicUrl})}catch(Mt){console.warn("Falha ao persistir avatar no perfil:",Mt)}oe({title:"Avatar enviado",description:"Imagem atualizada com sucesso."})}catch(Nt){oe({title:"Erro ao enviar avatar",description:Nt.message})}finally{k(!1),He&&(He.value="")}}}}),Y&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground mt-2",children:[s.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-primary border-t-transparent rounded-full"}),"Enviando imagem..."]})]}),s.jsxs("div",{children:[s.jsx(Le,{htmlFor:"displayName",children:"Nome público"}),s.jsx(Oe,{id:"displayName",value:l,onChange:ie=>c(LK(ie.target.value))})]}),s.jsxs("div",{children:[s.jsx(Le,{htmlFor:"username",children:"Nome público (link)"}),s.jsxs("div",{className:"relative",children:[s.jsx(Oe,{id:"username",placeholder:"ex.: joao-silva",value:me,onChange:ie=>xe(FK(ie.target.value)),className:"pr-8"}),s.jsx("div",{className:"absolute right-2 top-1/2 -translate-y-1/2",children:_t?s.jsx(eg,{className:"h-4 w-4 animate-spin text-muted-foreground"}):Ct===!0&&Ge?s.jsx(Ww,{className:"h-4 w-4 text-green-600"}):Ct===!1&&Ge?s.jsx(Hw,{className:"h-4 w-4 text-destructive"}):null})]}),_t?s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Verificando disponibilidade..."}):Ct===!0?s.jsxs("p",{className:"text-xs text-green-600 mt-1",children:["Disponível! Seu perfil: ",`/${Ge}`]}):Ct===!1?s.jsxs("div",{className:"text-xs mt-1",children:[s.jsx("p",{className:"text-destructive mb-2",children:"Nome em uso. Sugestões:"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:B.map(ie=>s.jsx(O,{size:"sm",variant:"secondary",onClick:()=>xe(ie),children:ie},ie))})]}):s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:'Use apenas letras minúsculas, números e "-".'})]}),s.jsxs("div",{children:[s.jsx(Le,{htmlFor:"description",children:"Descrição"}),N?s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"p-3 border rounded-lg bg-muted/30 min-h-[80px]",children:s.jsx("p",{className:"text-sm text-foreground whitespace-pre-wrap",children:N})}),s.jsx(O,{variant:"ghost",size:"sm",className:"absolute top-2 right-2 h-8 w-8 p-0 bg-background/80 hover:bg-background text-primary hover:text-primary/80",onClick:()=>{Ue(N),pe(!0)},"aria-label":"Editar descrição",children:s.jsx(Ga,{className:"h-4 w-4"})})]}):s.jsx("div",{className:"p-3 border-2 border-dashed border-muted-foreground/30 rounded-lg bg-muted/20 min-h-[80px] flex items-center justify-center cursor-pointer hover:border-primary/50 hover:bg-muted/30 transition-colors",onClick:()=>pe(!0),children:s.jsxs("div",{className:"text-center text-muted-foreground",children:[s.jsx("p",{className:"text-sm font-medium",children:"Adicionar descrição"}),s.jsx("p",{className:"text-xs",children:"Clique para contar um pouco sobre você"})]})})]}),s.jsxs("div",{children:[s.jsx(Le,{htmlFor:"coverFile",children:"Foto de capa"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Esta será a imagem de destaque no seu perfil público."}),s.jsxs("div",{className:"space-y-4",children:[h?s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:`relative ${b==="mobile"?"h-40":"h-64"} w-full rounded-lg overflow-hidden border`,children:[s.jsx("img",{src:h,alt:"Capa do músico",className:"absolute inset-0 w-full h-full object-cover",style:{objectPosition:`center ${b==="mobile"?v??p:y??p}%`},loading:"lazy"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-black/40 to-transparent"}),s.jsx("div",{className:"absolute bottom-3 left-4 right-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative p-1 rounded-full bg-transparent",children:[s.jsxs(Dt,{className:"h-16 w-16 sm:h-20 sm:w-20 border-4 border-white/20 shadow-lg cursor-pointer",onClick:()=>{var ie;return(ie=document.getElementById("avatarFile"))==null?void 0:ie.click()},children:[s.jsx(It,{src:qt,alt:kt??"Usuário"}),s.jsx(Ft,{className:"text-lg sm:text-xl font-semibold bg-primary/20 text-primary-foreground",children:(kt||"U").charAt(0).toUpperCase()})]}),Y&&s.jsx("div",{className:"absolute inset-0 rounded-full bg-black/40 backdrop-blur-sm flex items-center justify-center z-10",children:s.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-2 border-primary border-t-transparent"})}),s.jsx("button",{type:"button",className:"absolute -top-1 -right-1 h-6 w-6 rounded-full bg-background/80 border shadow-sm text-muted-foreground hover:text-foreground",onClick:()=>{var ie;return(ie=document.getElementById("avatarFile"))==null?void 0:ie.click()},"aria-label":"Editar avatar",children:s.jsx(Ga,{className:"h-3 w-3 mx-auto"})})]}),s.jsxs("div",{className:"inline-block rounded-md bg-background/60 backdrop-blur supports-[backdrop-filter]:backdrop-blur-sm px-1.5 py-1 sm:px-2 sm:py-1.5",children:[s.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2",children:[s.jsx("h1",{className:"text-lg sm:text-2xl font-semibold text-foreground",children:l||"Seu Nome"}),S&&s.jsx(ol,{size:n?22:28})]}),s.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 mt-0.5 text-xs sm:text-sm text-muted-foreground",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Yc,{className:"w-3 h-3 sm:w-4 sm:h-4"})," 0"]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(nr,{className:"w-3 h-3 sm:w-4 sm:h-4"})," 0"]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(du,{className:"w-3 h-3 sm:w-4 sm:h-4"})," 0"]})]})]})]})}),E?s.jsx("div",{className:"absolute inset-0 bg-black/30 backdrop-blur-sm flex items-center justify-center z-10 rounded-lg",children:s.jsx("div",{className:"flex flex-col items-center gap-4 p-6 bg-background/80 backdrop-blur-sm rounded-2xl shadow-xl border border-border/30",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-primary border-t-transparent"}),s.jsx("span",{className:"text-sm font-medium text-foreground",children:"Enviando..."})]})})}):null,s.jsxs("div",{className:"absolute top-3 right-3 flex gap-2",children:[s.jsx(O,{type:"button",variant:"ghost",size:"sm",className:"h-8 w-8 rounded-full bg-background/80 backdrop-blur text-muted-foreground hover:text-foreground shadow-sm",onClick:()=>{var ie;return(ie=document.getElementById("coverFile"))==null?void 0:ie.click()},children:s.jsx(Ga,{className:"h-4 w-4"})}),s.jsx(O,{type:"button",variant:"ghost",size:"sm",className:"h-8 w-8 rounded-full bg-background/80 backdrop-blur text-muted-foreground hover:text-foreground shadow-sm",onClick:()=>{m(""),w(50)},children:s.jsx(Yn,{className:"h-4 w-4"})})]})]}),s.jsx("div",{className:"pt-2",children:b==="desktop"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(Le,{className:"text-sm",children:"Desktop (vertical)"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"text-xs text-muted-foreground",children:"Topo"}),s.jsx("input",{type:"range",min:"0",max:"100",value:y??p,onChange:ie=>x(Number(ie.target.value)),className:"w-full h-2 bg-muted/30 rounded-lg appearance-none cursor-pointer slider-primary [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:w-4 [&::-webkit-slider-thumb]:h-4 [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:bg-gray-500 [&::-webkit-slider-thumb]:cursor-pointer [&::-moz-range-thumb]:w-4 [&::-moz-range-thumb]:h-4 [&::-moz-range-thumb]:rounded-full [&::-moz-range-thumb]:bg-gray-500 [&::-moz-range-thumb]:cursor-pointer",style:{background:`linear-gradient(to right, hsl(0 0% 50% / 0.7) 0%, hsl(0 0% 50% / 0.7) ${y??p}%, hsl(var(--muted) / 0.3) ${y??p}%, hsl(var(--muted) / 0.3) 100%)`}}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"Base"})]})]})}),s.jsxs("div",{className:"hidden sm:block pt-4",children:[s.jsx(Le,{className:"text-xs text-muted-foreground",children:"Prévia mobile"}),s.jsxs("div",{className:"w-[360px] max-w-full",children:[s.jsxs("div",{className:"relative h-40 w-full rounded-lg overflow-hidden border mt-1",children:[s.jsx("img",{src:h,alt:"Prévia mobile da capa",className:"absolute inset-0 w-full h-full object-cover",style:{objectPosition:`center ${v??p}%`}}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-black/40 to-transparent"})]}),s.jsxs("div",{className:"space-y-2 mt-2",children:[s.jsx(Le,{className:"text-sm",children:"Mobile (vertical)"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"text-xs text-muted-foreground",children:"Topo"}),s.jsx("input",{type:"range",min:"0",max:"100",value:v??p,onChange:ie=>g(Number(ie.target.value)),className:"w-full h-2 bg-muted/30 rounded-lg appearance-none cursor-pointer slider-primary [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:w-4 [&::-webkit-slider-thumb]:h-4 [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:bg-gray-500 [&::-webkit-slider-thumb]:cursor-pointer [&::-moz-range-thumb]:w-4 [&::-moz-range-thumb]:h-4 [&::-moz-range-thumb]:rounded-full [&::-moz-range-thumb]:bg-gray-500 [&::-moz-range-thumb]:cursor-pointer",style:{background:`linear-gradient(to right, hsl(0 0% 50% / 0.7) 0%, hsl(0 0% 50% / 0.7) ${v??p}%, hsl(var(--muted) / 0.3) ${v??p}%, hsl(var(--muted) / 0.3) 100%)`}}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"Base"})]})]})]})]})]}):s.jsx("div",{className:"relative h-40 sm:h-56 md:h-64 w-full rounded-lg overflow-hidden border-2 border-dashed border-muted-foreground/30 hover:border-primary transition-colors cursor-pointer flex items-center justify-center bg-muted/50",onClick:()=>{var ie;return(ie=document.getElementById("coverFile"))==null?void 0:ie.click()},children:s.jsxs("div",{className:"flex flex-col items-center justify-center text-muted-foreground",children:[s.jsx(vc,{className:"h-12 w-12 mb-2"}),s.jsx("span",{className:"text-sm font-medium",children:"Adicionar foto de capa"}),s.jsx("span",{className:"text-xs",children:"Clique para selecionar uma imagem"})]})}),s.jsx("input",{id:"coverFile",type:"file",accept:"image/*",className:"hidden",onChange:async ie=>{var Nt;const He=ie.target,ze=(Nt=He==null?void 0:He.files)==null?void 0:Nt[0];if(!ze||!e)return;if(!ze.type.startsWith("image/")){oe({title:"Tipo de arquivo inválido",description:"Selecione apenas arquivos de imagem.",variant:"destructive"});return}const pt=2,ot=pt*1024*1024;if(ze.size>ot){oe({title:"Arquivo muito grande",description:`Tamanho máximo permitido: ${pt}MB. Seu arquivo: ${(ze.size/(1024*1024)).toFixed(1)}MB`,variant:"destructive"});return}console.log("Iniciando upload do banner..."),A(!0),console.log("Estado uploadingCover definido como true");try{const dr=await ae(ze,1200,.8),kr=`${e.id}/cover-${Date.now()}.webp`,{error:nn}=await $.storage.from("covers").upload(kr,dr,{upsert:!0,contentType:"image/webp"});if(nn)throw nn;const{data:hn}=$.storage.from("covers").getPublicUrl(kr);if(m(hn.publicUrl),w(50),e)try{const{error:Mt}=await $.from("profiles").update({cover_url:hn.publicUrl,cover_position:50}).eq("id",e.id);Mt?(console.error("Erro ao atualizar perfil:",Mt),oe({title:"Capa enviada, mas erro ao salvar no perfil",description:"Clique em 'Salvar' para persistir as mudanças.",variant:"destructive"})):(R(!0),await ke())}catch(Mt){console.error("Erro ao atualizar perfil:",Mt)}}catch(dr){oe({title:"Erro ao enviar capa",description:dr.message})}finally{console.log("Finalizando upload, resetando uploadingCover para false"),A(!1),He&&(He.value="")}}})]})]}),s.jsxs("div",{children:[s.jsx(Le,{htmlFor:"email",children:"Email de cadastro"}),s.jsx(Oe,{className:"border-none px-0 text-gray-400",id:"email",value:(e==null?void 0:e.email)||"",readOnly:!0})]}),s.jsxs("div",{className:"pt-2 space-y-4",children:[!st&&s.jsx("div",{className:"rounded-md border p-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",children:"Tornar-se músico"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Operação irreversível. Ao ativar, você passará a receber pedidos."})]}),s.jsx(eo,{checked:!1,onCheckedChange:ie=>{ie&&be(!0)},disabled:st,"aria-label":"Ativar perfil de músico"})]})}),s.jsx(A0,{open:ce,onOpenChange:be,children:s.jsxs(vp,{children:[s.jsxs(xp,{children:[s.jsx(wp,{children:"Confirmar mudança para perfil de músico"}),s.jsx(bp,{children:"Esta ação é irreversível. Deseja realmente ativar o perfil de músico? Você não poderá retornar ao perfil apenas público."})]}),s.jsxs(yp,{children:[s.jsx(_p,{children:"Cancelar"}),s.jsx(jp,{onClick:async()=>{if(e)try{const{error:ie}=await $.from("user_roles").insert({user_id:e.id,role:"musician"});if(ie&&!String(ie.message).toLowerCase().includes("duplicate"))throw ie;oe({title:"Perfil de músico ativado"}),be(!1),await nt()}catch(ie){oe({title:"Erro ao mudar perfil",description:ie.message})}},children:"Ativar"})]})]})}),s.jsx(Ur,{open:we,onOpenChange:pe,children:s.jsxs(Pr,{className:"sm:max-w-2xl",children:[s.jsx(Tr,{children:s.jsx(Rr,{children:"Editar Descrição"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Le,{htmlFor:"description-modal",children:"Descrição"}),s.jsx($i,{id:"description-modal",placeholder:"Conte um pouco sobre você, estilos, repertório, experiência...",value:Se,onChange:ie=>Ue(ie.target.value.slice(0,400)),maxLength:400,className:"min-h-[200px] resize-none"}),s.jsxs("div",{className:"text-xs text-muted-foreground text-right",children:[(Se==null?void 0:Se.length)||0,"/400"]})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(O,{variant:"outline",onClick:()=>pe(!1),children:"Cancelar"}),s.jsx(O,{onClick:async()=>{try{if(!e)return;const{error:ie}=await $.from("profiles").update({description:Se}).eq("id",e.id);if(ie)throw ie;P(Se),pe(!1),oe({title:"Descrição salva",description:"Sua descrição foi atualizada com sucesso."})}catch(ie){oe({title:"Erro ao salvar",description:ie.message})}},disabled:!Se.trim(),children:"Salvar"})]})]})]})}),s.jsx(O,{onClick:xt,disabled:z,children:z?"Salvando...":"Salvar"})]})]})})]}),s.jsx(Yr,{value:"contato",children:s.jsx(tt,{className:"border-0 shadow-none mt-5",children:s.jsxs(rt,{children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(Le,{htmlFor:"whatsapp",children:"WhatsApp"}),s.jsx(Oe,{id:"whatsapp",value:re,onChange:ie=>Ye(ie.target.value),placeholder:"(00) 00000-0000",maxLength:15})]}),s.jsxs("div",{children:[s.jsx(Le,{htmlFor:"instagram",children:"Instagram"}),s.jsx(Oe,{id:"instagram",value:H,onChange:ie=>V(ie.target.value),placeholder:"@usuario ou URL"})]}),s.jsxs("div",{children:[s.jsx(Le,{htmlFor:"facebook",children:"Facebook"}),s.jsx(Oe,{id:"facebook",value:se,onChange:ie=>ee(ie.target.value),placeholder:"URL do perfil/página"})]}),s.jsxs("div",{children:[s.jsx(Le,{htmlFor:"youtube",children:"YouTube"}),s.jsx(Oe,{id:"youtube",value:J,onChange:ie=>I(ie.target.value),placeholder:"URL do canal"})]}),s.jsxs("div",{children:[s.jsx(Le,{htmlFor:"spotify",children:"Spotify"}),s.jsx(Oe,{id:"spotify",value:D||"",onChange:ie=>C(ie.target.value),placeholder:"URL do perfil/artist"})]})]}),s.jsx("div",{className:"pt-4",children:s.jsx(O,{onClick:xt,disabled:z,children:z?"Salvando...":"Salvar"})})]})})}),s.jsx(Yr,{value:"contratantes",children:s.jsxs(tt,{className:"border-0 shadow-none mt-5",children:[s.jsx(Qt,{children:s.jsx(cr,{children:"Tipos de Shows"})}),s.jsx(rt,{children:s.jsx($K,{userId:e.id,isMobile:n})})]})}),s.jsx(Yr,{value:"fotos",children:s.jsx(tt,{className:"border-0 shadow-none mt-0",children:s.jsx(rt,{className:"mt-10",children:s.jsx(IK,{userId:e.id})})})}),s.jsx(Yr,{value:"qrcode",children:s.jsx(tt,{className:"border-0 shadow-none",children:s.jsxs(rt,{className:"space-y-3",children:[s.jsx("div",{className:"flex items-center justify-center p-2",children:qe&&s.jsx("div",{className:"bg-card rounded-md p-2 inline-block",children:s.jsx(CM,{value:qe,size:192,includeMargin:!0})})}),s.jsx("div",{className:"flex justify-center",children:s.jsx(O,{variant:"outline",onClick:()=>{navigator.clipboard.writeText(qe),oe({title:"Link copiado"})},children:"Copiar link"})})]})})}),s.jsx(Yr,{value:"bancarios",children:s.jsxs(tt,{className:"border-0 shadow-none mt-5",children:[s.jsx(Qt,{children:s.jsx(cr,{children:"Dados bancários"})}),s.jsxs(rt,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(Le,{htmlFor:"bankResponsibleName",children:"Nome completo"}),s.jsx(Oe,{id:"bankResponsibleName",value:vt,onChange:ie=>et(ie.target.value),placeholder:"Digite seu nome completo"})]}),s.jsxs("div",{children:[s.jsx(Le,{htmlFor:"pixKey",children:"Chave PIX"}),s.jsx(Oe,{id:"pixKey",value:fe,onChange:ie=>We(ie.target.value),placeholder:"Digite sua chave PIX"})]}),s.jsx("div",{className:"flex justify-start pt-2",children:s.jsx(O,{onClick:ut,disabled:z,children:z?"Salvando...":"Salvar"})})]})]})})]})}):s.jsx("div",{className:"grid grid-cols-1 gap-6",children:s.jsxs(tt,{className:"border-0 shadow-none",children:[s.jsx(Qt,{children:s.jsx(cr,{children:"Seus dados"})}),s.jsxs(rt,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(Le,{htmlFor:"email",children:"Email de cadastro"}),s.jsx(Oe,{id:"email",value:(e==null?void 0:e.email)||"",readOnly:!0})]}),s.jsxs("div",{children:[s.jsx(Le,{htmlFor:"displayName",children:"Nome público"}),s.jsx(Oe,{id:"displayName",value:l,onChange:ie=>c(ie.target.value)})]}),s.jsxs("div",{children:[s.jsx(Le,{htmlFor:"avatarFile",children:"Avatar"}),s.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[s.jsx("input",{id:"avatarFile",type:"file",accept:"image/*",className:"hidden",onChange:async ie=>{var pt,ot;const He=ie.target,ze=(pt=He==null?void 0:He.files)==null?void 0:pt[0];if(!(!ze||!e)){k(!0);try{const Nt=((ot=ze.name.split(".").pop())==null?void 0:ot.toLowerCase())||"jpg",dr=`${e.id}/avatar-${Date.now()}.${Nt}`,{error:Vr}=await $.storage.from("avatars").upload(dr,ze,{upsert:!0,contentType:ze.type});if(Vr)throw Vr;const{data:kr}=$.storage.from("avatars").getPublicUrl(dr);u(kr.publicUrl),oe({title:"Avatar enviado",description:"Pré-visualização atualizada."})}catch(Nt){oe({title:"Erro ao enviar avatar",description:Nt.message})}finally{k(!1),He&&(He.value="")}}}}),s.jsx(O,{type:"button",variant:"outline",onClick:()=>{var ie;return(ie=document.getElementById("avatarFile"))==null?void 0:ie.click()},disabled:Y,children:Y?"Enviando...":"Enviar avatar"}),d&&s.jsx(O,{type:"button",variant:"ghost",onClick:()=>u(""),children:"Remover"})]}),d&&s.jsx("div",{className:"mt-3",children:s.jsxs(Dt,{className:"h-16 w-16",isPro:S,children:[s.jsx(It,{src:d,alt:"Avatar do músico"}),s.jsx(Ft,{children:(l||"U").charAt(0).toUpperCase()})]})})]}),s.jsxs("div",{className:"pt-2 space-y-4",children:[!st&&s.jsx("div",{className:"rounded-md border p-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",children:"Tornar-se músico"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Operação irreversível. Ao ativar, você passará a receber pedidos."})]}),s.jsx(eo,{checked:!1,onCheckedChange:ie=>{ie&&be(!0)},disabled:st,"aria-label":"Ativar perfil de músico"})]})}),s.jsx(A0,{open:ce,onOpenChange:be,children:s.jsxs(vp,{children:[s.jsxs(xp,{children:[s.jsx(wp,{children:"Confirmar mudança para perfil de músico"}),s.jsx(bp,{children:"Esta ação é irreversível. Deseja realmente ativar o perfil de músico? Você não poderá retornar ao perfil apenas público."})]}),s.jsxs(yp,{children:[s.jsx(_p,{children:"Cancelar"}),s.jsx(jp,{onClick:async()=>{if(e)try{const{error:ie}=await $.from("user_roles").insert({user_id:e.id,role:"musician"});if(ie&&!String(ie.message).toLowerCase().includes("duplicate"))throw ie;oe({title:"Perfil de músico ativado"}),be(!1),await nt()}catch(ie){oe({title:"Erro ao mudar perfil",description:ie.message})}},children:"Ativar"})]})]})}),s.jsx(O,{onClick:xt,disabled:z,children:z?"Salvando...":"Salvar"})]})]})]})}))]}),s.jsx("footer",{className:"mt-auto py-6 text-center text-xs text-muted-foreground",children:"© 2025 - AVAPlay"})]})};function UK(){const{user:e}=ar(),t=f.useRef(null);f.useEffect(()=>{if(!e)return;console.log("🔔 [NewRequestNotification] Setting up notification system for user:",e.id);const r=$.channel(`new-requests-notification-${e.id}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"requests"},async n=>{const a=n.new;if(!a)return;let i=a.musician_id===e.id;if(!i&&a.song_id)try{const{data:l}=await $.from("songs").select("owner_id").eq("id",a.song_id).limit(1).maybeSingle();i=!!l&&l.owner_id===e.id}catch{}if(!i)return;console.log("🔔 [NewRequestNotification] New request received:",a),(()=>{oa({particleCount:150,spread:70,origin:{y:.6},colors:["#10B981","#059669","#065F46","#34D399","#6EE7B7"]}),setTimeout(()=>{oa({particleCount:100,spread:60,origin:{x:.2,y:.4},colors:["#F59E0B","#D97706","#FBBF24","#FCD34D"]})},200),setTimeout(()=>{oa({particleCount:100,spread:60,origin:{x:.8,y:.4},colors:["#EF4444","#DC2626","#F87171","#FCA5A5"]})},400),setTimeout(()=>{oa({particleCount:50,spread:90,origin:{y:.1},colors:["#8B5CF6","#7C3AED","#A78BFA","#C4B5FD"]})},600)})(),oe({title:"🎵 Novo Pedido de Música!",description:`${a.requester_name||"Alguém"} acabou de solicitar uma música. Que emoção! 🎸`,duration:1e4}),"Notification"in window&&Notification.permission==="granted"&&new Notification("🎵 Novo Pedido de Música!",{body:`${a.requester_name||"Alguém"} acabou de solicitar uma música!`,icon:"/favicon.ico",tag:"new-request"})}).subscribe(n=>{console.log("🔔 [NewRequestNotification] Subscription status:",n)});return()=>{console.log("🔔 [NewRequestNotification] Cleaning up notification system"),$.removeChannel(r)}},[e]),f.useEffect(()=>{if(!(e!=null&&e.id))return;let r=!1;const n=async()=>{var i;try{const{data:o,error:l}=await $.from("requests").select("created_at").eq("musician_id",e.id).order("created_at",{ascending:!1}).limit(1);if(l)return;const c=(i=o==null?void 0:o[0])==null?void 0:i.created_at;if(!c)return;if(!t.current){t.current=c;return}c>t.current&&(t.current=c,oa({particleCount:120,spread:60,origin:{y:.6},colors:["#10B981","#34D399"]}),oe({title:"🎵 Novo Pedido de Música!",description:"Você recebeu um novo pedido.",duration:8e3}))}catch{}};n();const a=setInterval(()=>{r||n()},8e3);return()=>{r=!0,clearInterval(a)}},[e==null?void 0:e.id]),f.useEffect(()=>{"Notification"in window&&Notification.permission==="default"&&Notification.requestPermission().then(r=>{console.log("🔔 [NewRequestNotification] Notification permission:",r)})},[])}const BK=()=>{const{user:e,loading:t}=ar(),r=Or(),{resolvedTheme:n,setTheme:a}=is(),i=()=>a(n==="dark"?"light":"dark");UK();const{shouldShowIndicator:o}=Uf({userId:e==null?void 0:e.id,isMusician:!0});return f.useEffect(()=>{if(!t){if(!e){r("/auth",{replace:!0});return}(async()=>{const{data:l}=await $.from("user_roles").select("role").eq("user_id",e.id);(l||[]).some(d=>d.role==="musician")||r("/",{replace:!0})})()}},[e,t,r]),s.jsx(ai,{children:s.jsxs("div",{className:"min-h-screen flex w-full bg-background",children:[s.jsx(zf,{}),s.jsxs("main",{className:"flex-1",children:[s.jsx(Xt,{title:"Painel do Músico",description:"Gerencie QR Code, catálogo e pedidos."}),s.jsxs("header",{className:"sticky top-0 z-40 h-12 flex items-center bg-background/80 supports-[backdrop-filter]:bg-background/60 backdrop-blur border-b px-2 gap-2",children:[s.jsx(Nd,{className:"mr-1"}),s.jsxs("nav",{className:"flex w-full items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Yt,{to:"/",className:"font-semibold",children:s.jsx("img",{src:n==="dark"?"/logo_avaplay.png":"/logo_avaplay_amarelo.png",alt:"AVAPlay",className:"h-6"})}),s.jsx(Sd,{isVisible:o})]}),s.jsx(O,{variant:"ghost",size:"icon","aria-label":"Alternar tema",onClick:i,children:n==="dark"?s.jsx(rg,{className:"h-5 w-5"}):s.jsx(tg,{className:"h-5 w-5"})})]})]}),s.jsx("div",{className:"p-1",children:s.jsx(YE,{})})]})]})})},qK=()=>{const{user:e}=ar(),t=Or(),r=f.useMemo(()=>e?`${window.location.origin}/m/${e.id}`:"",[e]);return s.jsxs("section",{className:"max-w-5xl mx-auto",children:[s.jsx(Xt,{title:"QR Code do Músico",description:"Gere e compartilhe seu QR Code público."}),e?s.jsxs("div",{className:"space-y-6",children:[s.jsx(tt,{className:"border-none shadow-none",children:s.jsx(rt,{className:"pt-6",children:s.jsx("div",{className:"flex justify-center",children:s.jsx("div",{className:"bg-white p-8 rounded-lg shadow-sm border",children:s.jsx(CM,{value:r,size:280,level:"M",includeMargin:!0,bgColor:"#ffffff",fgColor:"#000000"})})})})}),s.jsxs(tt,{className:"border-none shadow-none",children:[s.jsx(Qt,{children:s.jsx(cr,{children:"Compartilhe seu perfil"})}),s.jsxs(rt,{className:"space-y-4",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Compartilhe este QR Code para que as pessoas possam acessar seu perfil público e fazer pedidos de música."}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Oe,{readOnly:!0,value:r,className:"flex-1"}),s.jsx(O,{variant:"outline",onClick:()=>{navigator.clipboard.writeText(r).then(()=>oe({title:"Link copiado!"})).catch(()=>oe({title:"Erro ao copiar",variant:"destructive"}))},children:"Copiar Link"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(O,{variant:"secondary",onClick:()=>t(`/m/${e.id}`),className:"flex-1",children:"Visualizar Perfil Público"}),s.jsx(O,{variant:"outline",onClick:()=>{window.print()},children:"Imprimir QR"})]})]})]})]})]}):s.jsxs(tt,{children:[s.jsx(Qt,{children:s.jsx(cr,{children:"Entre para gerar seu QR"})}),s.jsx(rt,{children:s.jsx(O,{onClick:()=>t("/auth"),children:"Entrar"})})]})]})};var Xf=e=>e.type==="checkbox",zo=e=>e instanceof Date,wn=e=>e==null;const $4=e=>typeof e=="object";var Nr=e=>!wn(e)&&!Array.isArray(e)&&$4(e)&&!zo(e),z4=e=>Nr(e)&&e.target?Xf(e.target)?e.target.checked:e.target.value:e,VK=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,U4=(e,t)=>e.has(VK(t)),WK=e=>{const t=e.constructor&&e.constructor.prototype;return Nr(t)&&t.hasOwnProperty("isPrototypeOf")},ej=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Fr(e){let t;const r=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(ej&&(e instanceof Blob||n))&&(r||Nr(e)))if(t=r?[]:{},!r&&!WK(e))t=e;else for(const a in e)e.hasOwnProperty(a)&&(t[a]=Fr(e[a]));else return e;return t}var Vg=e=>/^\w*$/.test(e),jr=e=>e===void 0,tj=e=>Array.isArray(e)?e.filter(Boolean):[],rj=e=>tj(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Te=(e,t,r)=>{if(!t||!Nr(e))return r;const n=(Vg(t)?[t]:rj(t)).reduce((a,i)=>wn(a)?a:a[i],e);return jr(n)||n===e?jr(e[t])?r:e[t]:n},Gn=e=>typeof e=="boolean",zt=(e,t,r)=>{let n=-1;const a=Vg(t)?[t]:rj(t),i=a.length,o=i-1;for(;++n<i;){const l=a[n];let c=r;if(n!==o){const d=e[l];c=Nr(d)||Array.isArray(d)?d:isNaN(+a[n+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const Sp={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},$s={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Pa={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},nj=he.createContext(null);nj.displayName="HookFormContext";const Wg=()=>he.useContext(nj),HK=e=>{const{children:t,...r}=e;return he.createElement(nj.Provider,{value:r},t)};var B4=(e,t,r,n=!0)=>{const a={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(a,i,{get:()=>{const o=i;return t._proxyFormState[o]!==$s.all&&(t._proxyFormState[o]=!n||$s.all),r&&(r[o]=!0),e[o]}});return a};const sj=typeof window<"u"?he.useLayoutEffect:he.useEffect;function KK(e){const t=Wg(),{control:r=t.control,disabled:n,name:a,exact:i}=e||{},[o,l]=he.useState(r._formState),c=he.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return sj(()=>r._subscribe({name:a,formState:c.current,exact:i,callback:d=>{!n&&l({...r._formState,...d})}}),[a,n,i]),he.useEffect(()=>{c.current.isValid&&r._setValid(!0)},[r]),he.useMemo(()=>B4(o,r,c.current,!1),[o,r])}var ua=e=>typeof e=="string",q4=(e,t,r,n,a)=>ua(e)?(n&&t.watch.add(e),Te(r,e,a)):Array.isArray(e)?e.map(i=>(n&&t.watch.add(i),Te(r,i))):(n&&(t.watchAll=!0),r),D0=e=>wn(e)||!$4(e);function Ba(e,t,r=new WeakSet){if(D0(e)||D0(t))return e===t;if(zo(e)&&zo(t))return e.getTime()===t.getTime();const n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const i of n){const o=e[i];if(!a.includes(i))return!1;if(i!=="ref"){const l=t[i];if(zo(o)&&zo(l)||Nr(o)&&Nr(l)||Array.isArray(o)&&Array.isArray(l)?!Ba(o,l,r):o!==l)return!1}}return!0}function GK(e){const t=Wg(),{control:r=t.control,name:n,defaultValue:a,disabled:i,exact:o,compute:l}=e||{},c=he.useRef(a),d=he.useRef(l),u=he.useRef(void 0);d.current=l;const h=he.useMemo(()=>r._getWatch(n,c.current),[r,n]),[m,p]=he.useState(d.current?d.current(h):h);return sj(()=>r._subscribe({name:n,formState:{values:!0},exact:o,callback:w=>{if(!i){const v=q4(n,r._names,w.values||r._formValues,!1,c.current);if(d.current){const g=d.current(v);Ba(g,u.current)||(p(g),u.current=g)}else p(v)}}}),[r,i,n,o]),he.useEffect(()=>r._removeUnmounted()),m}function YK(e){const t=Wg(),{name:r,disabled:n,control:a=t.control,shouldUnregister:i,defaultValue:o}=e,l=U4(a._names.array,r),c=he.useMemo(()=>Te(a._formValues,r,Te(a._defaultValues,r,o)),[a,r,o]),d=GK({control:a,name:r,defaultValue:c,exact:!0}),u=KK({control:a,name:r,exact:!0}),h=he.useRef(e),m=he.useRef(a.register(r,{...e.rules,value:d,...Gn(e.disabled)?{disabled:e.disabled}:{}}));h.current=e;const p=he.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Te(u.errors,r)},isDirty:{enumerable:!0,get:()=>!!Te(u.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!Te(u.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!Te(u.validatingFields,r)},error:{enumerable:!0,get:()=>Te(u.errors,r)}}),[u,r]),w=he.useCallback(x=>m.current.onChange({target:{value:z4(x),name:r},type:Sp.CHANGE}),[r]),v=he.useCallback(()=>m.current.onBlur({target:{value:Te(a._formValues,r),name:r},type:Sp.BLUR}),[r,a._formValues]),g=he.useCallback(x=>{const b=Te(a._fields,r);b&&x&&(b._f.ref={focus:()=>x.focus&&x.focus(),select:()=>x.select&&x.select(),setCustomValidity:_=>x.setCustomValidity(_),reportValidity:()=>x.reportValidity()})},[a._fields,r]),y=he.useMemo(()=>({name:r,value:d,...Gn(n)||u.disabled?{disabled:u.disabled||n}:{},onChange:w,onBlur:v,ref:g}),[r,n,u.disabled,w,v,g,d]);return he.useEffect(()=>{const x=a._options.shouldUnregister||i;a.register(r,{...h.current.rules,...Gn(h.current.disabled)?{disabled:h.current.disabled}:{}});const b=(_,N)=>{const P=Te(a._fields,_);P&&P._f&&(P._f.mount=N)};if(b(r,!0),x){const _=Fr(Te(a._options.defaultValues,r));zt(a._defaultValues,r,_),jr(Te(a._formValues,r))&&zt(a._formValues,r,_)}return!l&&a.register(r),()=>{(l?x&&!a._state.action:x)?a.unregister(r):b(r,!1)}},[r,a,l,i]),he.useEffect(()=>{a._setDisabledField({disabled:n,name:r})},[n,r,a]),he.useMemo(()=>({field:y,formState:u,fieldState:p}),[y,u,p])}const QK=e=>e.render(YK(e));var V4=(e,t,r,n,a)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:a||!0}}:{},Iu=e=>Array.isArray(e)?e:[e],QN=()=>{let e=[];return{get observers(){return e},next:a=>{for(const i of e)i.next&&i.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(i=>i!==a)}}),unsubscribe:()=>{e=[]}}},An=e=>Nr(e)&&!Object.keys(e).length,aj=e=>e.type==="file",zs=e=>typeof e=="function",Cp=e=>{if(!ej)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},W4=e=>e.type==="select-multiple",ij=e=>e.type==="radio",XK=e=>ij(e)||Xf(e),Mx=e=>Cp(e)&&e.isConnected;function ZK(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=jr(e)?n++:e[t[n++]];return e}function JK(e){for(const t in e)if(e.hasOwnProperty(t)&&!jr(e[t]))return!1;return!0}function Er(e,t){const r=Array.isArray(t)?t:Vg(t)?[t]:rj(t),n=r.length===1?e:ZK(e,r),a=r.length-1,i=r[a];return n&&delete n[i],a!==0&&(Nr(n)&&An(n)||Array.isArray(n)&&JK(n))&&Er(e,r.slice(0,-1)),e}var H4=e=>{for(const t in e)if(zs(e[t]))return!0;return!1};function kp(e,t={}){const r=Array.isArray(e);if(Nr(e)||r)for(const n in e)Array.isArray(e[n])||Nr(e[n])&&!H4(e[n])?(t[n]=Array.isArray(e[n])?[]:{},kp(e[n],t[n])):wn(e[n])||(t[n]=!0);return t}function K4(e,t,r){const n=Array.isArray(e);if(Nr(e)||n)for(const a in e)Array.isArray(e[a])||Nr(e[a])&&!H4(e[a])?jr(t)||D0(r[a])?r[a]=Array.isArray(e[a])?kp(e[a],[]):{...kp(e[a])}:K4(e[a],wn(t)?{}:t[a],r[a]):r[a]=!Ba(e[a],t[a]);return r}var ru=(e,t)=>K4(e,t,kp(t));const XN={value:!1,isValid:!1},ZN={value:!0,isValid:!0};var G4=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!jr(e[0].attributes.value)?jr(e[0].value)||e[0].value===""?ZN:{value:e[0].value,isValid:!0}:ZN:XN}return XN},Y4=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>jr(e)?e:t?e===""?NaN:e&&+e:r&&ua(e)?new Date(e):n?n(e):e;const JN={isValid:!1,value:null};var Q4=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,JN):JN;function eS(e){const t=e.ref;return aj(t)?t.files:ij(t)?Q4(e.refs).value:W4(t)?[...t.selectedOptions].map(({value:r})=>r):Xf(t)?G4(e.refs).value:Y4(jr(t.value)?e.ref.value:t.value,e)}var eG=(e,t,r,n)=>{const a={};for(const i of e){const o=Te(t,i);o&&zt(a,i,o._f)}return{criteriaMode:r,names:[...e],fields:a,shouldUseNativeValidation:n}},Ep=e=>e instanceof RegExp,nu=e=>jr(e)?e:Ep(e)?e.source:Nr(e)?Ep(e.value)?e.value.source:e.value:e,tS=e=>({isOnSubmit:!e||e===$s.onSubmit,isOnBlur:e===$s.onBlur,isOnChange:e===$s.onChange,isOnAll:e===$s.all,isOnTouch:e===$s.onTouched});const rS="AsyncFunction";var tG=e=>!!e&&!!e.validate&&!!(zs(e.validate)&&e.validate.constructor.name===rS||Nr(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===rS)),rG=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),nS=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const Fu=(e,t,r,n)=>{for(const a of r||Object.keys(e)){const i=Te(e,a);if(i){const{_f:o,...l}=i;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],a)&&!n)return!0;if(o.ref&&t(o.ref,o.name)&&!n)return!0;if(Fu(l,t))break}else if(Nr(l)&&Fu(l,t))break}}};function sS(e,t,r){const n=Te(e,r);if(n||Vg(r))return{error:n,name:r};const a=r.split(".");for(;a.length;){const i=a.join("."),o=Te(t,i),l=Te(e,i);if(o&&!Array.isArray(o)&&r!==i)return{name:r};if(l&&l.type)return{name:i,error:l};if(l&&l.root&&l.root.type)return{name:`${i}.root`,error:l.root};a.pop()}return{name:r}}var nG=(e,t,r,n)=>{r(e);const{name:a,...i}=e;return An(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(o=>t[o]===(!n||$s.all))},sG=(e,t,r)=>!e||!t||e===t||Iu(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),aG=(e,t,r,n,a)=>a.isOnAll?!1:!r&&a.isOnTouch?!(t||e):(r?n.isOnBlur:a.isOnBlur)?!e:(r?n.isOnChange:a.isOnChange)?e:!0,iG=(e,t)=>!tj(Te(e,t)).length&&Er(e,t),oG=(e,t,r)=>{const n=Iu(Te(e,r));return zt(n,"root",t[r]),zt(e,r,n),e},wm=e=>ua(e);function aS(e,t,r="validate"){if(wm(e)||Array.isArray(e)&&e.every(wm)||Gn(e)&&!e)return{type:r,message:wm(e)?e:"",ref:t}}var Ql=e=>Nr(e)&&!Ep(e)?e:{value:e,message:""},iS=async(e,t,r,n,a,i)=>{const{ref:o,refs:l,required:c,maxLength:d,minLength:u,min:h,max:m,pattern:p,validate:w,name:v,valueAsNumber:g,mount:y}=e._f,x=Te(r,v);if(!y||t.has(v))return{};const b=l?l[0]:o,_=G=>{a&&b.reportValidity&&(b.setCustomValidity(Gn(G)?"":G||""),b.reportValidity())},N={},P=ij(o),S=Xf(o),T=P||S,U=(g||aj(o))&&jr(o.value)&&jr(x)||Cp(o)&&o.value===""||x===""||Array.isArray(x)&&!x.length,q=V4.bind(null,v,n,N),re=(G,H,V,se=Pa.maxLength,ee=Pa.minLength)=>{const J=G?H:V;N[v]={type:G?se:ee,message:J,ref:o,...q(G?se:ee,J)}};if(i?!Array.isArray(x)||!x.length:c&&(!T&&(U||wn(x))||Gn(x)&&!x||S&&!G4(l).isValid||P&&!Q4(l).isValid)){const{value:G,message:H}=wm(c)?{value:!!c,message:c}:Ql(c);if(G&&(N[v]={type:Pa.required,message:H,ref:b,...q(Pa.required,H)},!n))return _(H),N}if(!U&&(!wn(h)||!wn(m))){let G,H;const V=Ql(m),se=Ql(h);if(!wn(x)&&!isNaN(x)){const ee=o.valueAsNumber||x&&+x;wn(V.value)||(G=ee>V.value),wn(se.value)||(H=ee<se.value)}else{const ee=o.valueAsDate||new Date(x),J=C=>new Date(new Date().toDateString()+" "+C),I=o.type=="time",D=o.type=="week";ua(V.value)&&x&&(G=I?J(x)>J(V.value):D?x>V.value:ee>new Date(V.value)),ua(se.value)&&x&&(H=I?J(x)<J(se.value):D?x<se.value:ee<new Date(se.value))}if((G||H)&&(re(!!G,V.message,se.message,Pa.max,Pa.min),!n))return _(N[v].message),N}if((d||u)&&!U&&(ua(x)||i&&Array.isArray(x))){const G=Ql(d),H=Ql(u),V=!wn(G.value)&&x.length>+G.value,se=!wn(H.value)&&x.length<+H.value;if((V||se)&&(re(V,G.message,H.message),!n))return _(N[v].message),N}if(p&&!U&&ua(x)){const{value:G,message:H}=Ql(p);if(Ep(G)&&!x.match(G)&&(N[v]={type:Pa.pattern,message:H,ref:o,...q(Pa.pattern,H)},!n))return _(H),N}if(w){if(zs(w)){const G=await w(x,r),H=aS(G,b);if(H&&(N[v]={...H,...q(Pa.validate,H.message)},!n))return _(H.message),N}else if(Nr(w)){let G={};for(const H in w){if(!An(G)&&!n)break;const V=aS(await w[H](x,r),b,H);V&&(G={...V,...q(H,V.message)},_(V.message),n&&(N[v]=G))}if(!An(G)&&(N[v]={ref:b,...G},!n))return N}}return _(!0),N};const lG={mode:$s.onSubmit,reValidateMode:$s.onChange,shouldFocusError:!0};function cG(e={}){let t={...lG,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:zs(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},a=Nr(t.defaultValues)||Nr(t.values)?Fr(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:Fr(a),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,d=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let h={...u};const m={array:QN(),state:QN()},p=t.criteriaMode===$s.all,w=B=>te=>{clearTimeout(d),d=setTimeout(B,te)},v=async B=>{if(!t.disabled&&(u.isValid||h.isValid||B)){const te=t.resolver?An((await S()).errors):await U(n,!0);te!==r.isValid&&m.state.next({isValid:te})}},g=(B,te)=>{!t.disabled&&(u.isValidating||u.validatingFields||h.isValidating||h.validatingFields)&&((B||Array.from(l.mount)).forEach(ce=>{ce&&(te?zt(r.validatingFields,ce,te):Er(r.validatingFields,ce))}),m.state.next({validatingFields:r.validatingFields,isValidating:!An(r.validatingFields)}))},y=(B,te=[],ce,be,we=!0,pe=!0)=>{if(be&&ce&&!t.disabled){if(o.action=!0,pe&&Array.isArray(Te(n,B))){const Se=ce(Te(n,B),be.argA,be.argB);we&&zt(n,B,Se)}if(pe&&Array.isArray(Te(r.errors,B))){const Se=ce(Te(r.errors,B),be.argA,be.argB);we&&zt(r.errors,B,Se),iG(r.errors,B)}if((u.touchedFields||h.touchedFields)&&pe&&Array.isArray(Te(r.touchedFields,B))){const Se=ce(Te(r.touchedFields,B),be.argA,be.argB);we&&zt(r.touchedFields,B,Se)}(u.dirtyFields||h.dirtyFields)&&(r.dirtyFields=ru(a,i)),m.state.next({name:B,isDirty:re(B,te),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else zt(i,B,te)},x=(B,te)=>{zt(r.errors,B,te),m.state.next({errors:r.errors})},b=B=>{r.errors=B,m.state.next({errors:r.errors,isValid:!1})},_=(B,te,ce,be)=>{const we=Te(n,B);if(we){const pe=Te(i,B,jr(ce)?Te(a,B):ce);jr(pe)||be&&be.defaultChecked||te?zt(i,B,te?pe:eS(we._f)):V(B,pe),o.mount&&v()}},N=(B,te,ce,be,we)=>{let pe=!1,Se=!1;const Ue={name:B};if(!t.disabled){if(!ce||be){(u.isDirty||h.isDirty)&&(Se=r.isDirty,r.isDirty=Ue.isDirty=re(),pe=Se!==Ue.isDirty);const fe=Ba(Te(a,B),te);Se=!!Te(r.dirtyFields,B),fe?Er(r.dirtyFields,B):zt(r.dirtyFields,B,!0),Ue.dirtyFields=r.dirtyFields,pe=pe||(u.dirtyFields||h.dirtyFields)&&Se!==!fe}if(ce){const fe=Te(r.touchedFields,B);fe||(zt(r.touchedFields,B,ce),Ue.touchedFields=r.touchedFields,pe=pe||(u.touchedFields||h.touchedFields)&&fe!==ce)}pe&&we&&m.state.next(Ue)}return pe?Ue:{}},P=(B,te,ce,be)=>{const we=Te(r.errors,B),pe=(u.isValid||h.isValid)&&Gn(te)&&r.isValid!==te;if(t.delayError&&ce?(c=w(()=>x(B,ce)),c(t.delayError)):(clearTimeout(d),c=null,ce?zt(r.errors,B,ce):Er(r.errors,B)),(ce?!Ba(we,ce):we)||!An(be)||pe){const Se={...be,...pe&&Gn(te)?{isValid:te}:{},errors:r.errors,name:B};r={...r,...Se},m.state.next(Se)}},S=async B=>{g(B,!0);const te=await t.resolver(i,t.context,eG(B||l.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return g(B),te},T=async B=>{const{errors:te}=await S(B);if(B)for(const ce of B){const be=Te(te,ce);be?zt(r.errors,ce,be):Er(r.errors,ce)}else r.errors=te;return te},U=async(B,te,ce={valid:!0})=>{for(const be in B){const we=B[be];if(we){const{_f:pe,...Se}=we;if(pe){const Ue=l.array.has(pe.name),fe=we._f&&tG(we._f);fe&&u.validatingFields&&g([be],!0);const We=await iS(we,l.disabled,i,p,t.shouldUseNativeValidation&&!te,Ue);if(fe&&u.validatingFields&&g([be]),We[pe.name]&&(ce.valid=!1,te))break;!te&&(Te(We,pe.name)?Ue?oG(r.errors,We,pe.name):zt(r.errors,pe.name,We[pe.name]):Er(r.errors,pe.name))}!An(Se)&&await U(Se,te,ce)}}return ce.valid},q=()=>{for(const B of l.unMount){const te=Te(n,B);te&&(te._f.refs?te._f.refs.every(ce=>!Mx(ce)):!Mx(te._f.ref))&&Q(B)}l.unMount=new Set},re=(B,te)=>!t.disabled&&(B&&te&&zt(i,B,te),!Ba(C(),a)),G=(B,te,ce)=>q4(B,l,{...o.mount?i:jr(te)?a:ua(B)?{[B]:te}:te},ce,te),H=B=>tj(Te(o.mount?i:a,B,t.shouldUnregister?Te(a,B,[]):[])),V=(B,te,ce={})=>{const be=Te(n,B);let we=te;if(be){const pe=be._f;pe&&(!pe.disabled&&zt(i,B,Y4(te,pe)),we=Cp(pe.ref)&&wn(te)?"":te,W4(pe.ref)?[...pe.ref.options].forEach(Se=>Se.selected=we.includes(Se.value)):pe.refs?Xf(pe.ref)?pe.refs.forEach(Se=>{(!Se.defaultChecked||!Se.disabled)&&(Array.isArray(we)?Se.checked=!!we.find(Ue=>Ue===Se.value):Se.checked=we===Se.value||!!we)}):pe.refs.forEach(Se=>Se.checked=Se.value===we):aj(pe.ref)?pe.ref.value="":(pe.ref.value=we,pe.ref.type||m.state.next({name:B,values:Fr(i)})))}(ce.shouldDirty||ce.shouldTouch)&&N(B,we,ce.shouldTouch,ce.shouldDirty,!0),ce.shouldValidate&&D(B)},se=(B,te,ce)=>{for(const be in te){if(!te.hasOwnProperty(be))return;const we=te[be],pe=B+"."+be,Se=Te(n,pe);(l.array.has(B)||Nr(we)||Se&&!Se._f)&&!zo(we)?se(pe,we,ce):V(pe,we,ce)}},ee=(B,te,ce={})=>{const be=Te(n,B),we=l.array.has(B),pe=Fr(te);zt(i,B,pe),we?(m.array.next({name:B,values:Fr(i)}),(u.isDirty||u.dirtyFields||h.isDirty||h.dirtyFields)&&ce.shouldDirty&&m.state.next({name:B,dirtyFields:ru(a,i),isDirty:re(B,pe)})):be&&!be._f&&!wn(pe)?se(B,pe,ce):V(B,pe,ce),nS(B,l)&&m.state.next({...r,name:B}),m.state.next({name:o.mount?B:void 0,values:Fr(i)})},J=async B=>{o.mount=!0;const te=B.target;let ce=te.name,be=!0;const we=Te(n,ce),pe=fe=>{be=Number.isNaN(fe)||zo(fe)&&isNaN(fe.getTime())||Ba(fe,Te(i,ce,fe))},Se=tS(t.mode),Ue=tS(t.reValidateMode);if(we){let fe,We;const vt=te.type?eS(we._f):z4(B),et=B.type===Sp.BLUR||B.type===Sp.FOCUS_OUT,kt=!rG(we._f)&&!t.resolver&&!Te(r.errors,ce)&&!we._f.deps||aG(et,Te(r.touchedFields,ce),r.isSubmitted,Ue,Se),qt=nS(ce,l,et);zt(i,ce,vt),et?(we._f.onBlur&&we._f.onBlur(B),c&&c(0)):we._f.onChange&&we._f.onChange(B);const ir=N(ce,vt,et),F=!An(ir)||qt;if(!et&&m.state.next({name:ce,type:B.type,values:Fr(i)}),kt)return(u.isValid||h.isValid)&&(t.mode==="onBlur"?et&&v():et||v()),F&&m.state.next({name:ce,...qt?{}:ir});if(!et&&qt&&m.state.next({...r}),t.resolver){const{errors:ae}=await S([ce]);if(pe(vt),be){const ye=sS(r.errors,n,ce),Pe=sS(ae,n,ye.name||ce);fe=Pe.error,ce=Pe.name,We=An(ae)}}else g([ce],!0),fe=(await iS(we,l.disabled,i,p,t.shouldUseNativeValidation))[ce],g([ce]),pe(vt),be&&(fe?We=!1:(u.isValid||h.isValid)&&(We=await U(n,!0)));be&&(we._f.deps&&D(we._f.deps),P(ce,We,fe,ir))}},I=(B,te)=>{if(Te(r.errors,te)&&B.focus)return B.focus(),1},D=async(B,te={})=>{let ce,be;const we=Iu(B);if(t.resolver){const pe=await T(jr(B)?B:we);ce=An(pe),be=B?!we.some(Se=>Te(pe,Se)):ce}else B?(be=(await Promise.all(we.map(async pe=>{const Se=Te(n,pe);return await U(Se&&Se._f?{[pe]:Se}:Se)}))).every(Boolean),!(!be&&!r.isValid)&&v()):be=ce=await U(n);return m.state.next({...!ua(B)||(u.isValid||h.isValid)&&ce!==r.isValid?{}:{name:B},...t.resolver||!B?{isValid:ce}:{},errors:r.errors}),te.shouldFocus&&!be&&Fu(n,I,B?we:l.mount),be},C=B=>{const te={...o.mount?i:a};return jr(B)?te:ua(B)?Te(te,B):B.map(ce=>Te(te,ce))},E=(B,te)=>({invalid:!!Te((te||r).errors,B),isDirty:!!Te((te||r).dirtyFields,B),error:Te((te||r).errors,B),isValidating:!!Te(r.validatingFields,B),isTouched:!!Te((te||r).touchedFields,B)}),A=B=>{B&&Iu(B).forEach(te=>Er(r.errors,te)),m.state.next({errors:B?r.errors:{}})},Y=(B,te,ce)=>{const be=(Te(n,B,{_f:{}})._f||{}).ref,we=Te(r.errors,B)||{},{ref:pe,message:Se,type:Ue,...fe}=we;zt(r.errors,B,{...fe,...te,ref:be}),m.state.next({name:B,errors:r.errors,isValid:!1}),ce&&ce.shouldFocus&&be&&be.focus&&be.focus()},k=(B,te)=>zs(B)?m.state.subscribe({next:ce=>"values"in ce&&B(G(void 0,te),ce)}):G(B,te,!0),z=B=>m.state.subscribe({next:te=>{sG(B.name,te.name,B.exact)&&nG(te,B.formState||u,Ot,B.reRenderRoot)&&B.callback({values:{...i},...r,...te,defaultValues:a})}}).unsubscribe,ne=B=>(o.mount=!0,h={...h,...B.formState},z({...B,formState:h})),Q=(B,te={})=>{for(const ce of B?Iu(B):l.mount)l.mount.delete(ce),l.array.delete(ce),te.keepValue||(Er(n,ce),Er(i,ce)),!te.keepError&&Er(r.errors,ce),!te.keepDirty&&Er(r.dirtyFields,ce),!te.keepTouched&&Er(r.touchedFields,ce),!te.keepIsValidating&&Er(r.validatingFields,ce),!t.shouldUnregister&&!te.keepDefaultValue&&Er(a,ce);m.state.next({values:Fr(i)}),m.state.next({...r,...te.keepDirty?{isDirty:re()}:{}}),!te.keepIsValid&&v()},R=({disabled:B,name:te})=>{(Gn(B)&&o.mount||B||l.disabled.has(te))&&(B?l.disabled.add(te):l.disabled.delete(te))},L=(B,te={})=>{let ce=Te(n,B);const be=Gn(te.disabled)||Gn(t.disabled);return zt(n,B,{...ce||{},_f:{...ce&&ce._f?ce._f:{ref:{name:B}},name:B,mount:!0,...te}}),l.mount.add(B),ce?R({disabled:Gn(te.disabled)?te.disabled:t.disabled,name:B}):_(B,!0,te.value),{...be?{disabled:te.disabled||t.disabled}:{},...t.progressive?{required:!!te.required,min:nu(te.min),max:nu(te.max),minLength:nu(te.minLength),maxLength:nu(te.maxLength),pattern:nu(te.pattern)}:{},name:B,onChange:J,onBlur:J,ref:we=>{if(we){L(B,te),ce=Te(n,B);const pe=jr(we.value)&&we.querySelectorAll&&we.querySelectorAll("input,select,textarea")[0]||we,Se=XK(pe),Ue=ce._f.refs||[];if(Se?Ue.find(fe=>fe===pe):pe===ce._f.ref)return;zt(n,B,{_f:{...ce._f,...Se?{refs:[...Ue.filter(Mx),pe,...Array.isArray(Te(a,B))?[{}]:[]],ref:{type:pe.type,name:B}}:{ref:pe}}}),_(B,!1,void 0,pe)}else ce=Te(n,B,{}),ce._f&&(ce._f.mount=!1),(t.shouldUnregister||te.shouldUnregister)&&!(U4(l.array,B)&&o.action)&&l.unMount.add(B)}}},Z=()=>t.shouldFocusError&&Fu(n,I,l.mount),ue=B=>{Gn(B)&&(m.state.next({disabled:B}),Fu(n,(te,ce)=>{const be=Te(n,ce);be&&(te.disabled=be._f.disabled||B,Array.isArray(be._f.refs)&&be._f.refs.forEach(we=>{we.disabled=be._f.disabled||B}))},0,!1))},_e=(B,te)=>async ce=>{let be;ce&&(ce.preventDefault&&ce.preventDefault(),ce.persist&&ce.persist());let we=Fr(i);if(m.state.next({isSubmitting:!0}),t.resolver){const{errors:pe,values:Se}=await S();r.errors=pe,we=Fr(Se)}else await U(n);if(l.disabled.size)for(const pe of l.disabled)Er(we,pe);if(Er(r.errors,"root"),An(r.errors)){m.state.next({errors:{}});try{await B(we,ce)}catch(pe){be=pe}}else te&&await te({...r.errors},ce),Z(),setTimeout(Z);if(m.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:An(r.errors)&&!be,submitCount:r.submitCount+1,errors:r.errors}),be)throw be},me=(B,te={})=>{Te(n,B)&&(jr(te.defaultValue)?ee(B,Fr(Te(a,B))):(ee(B,te.defaultValue),zt(a,B,Fr(te.defaultValue))),te.keepTouched||Er(r.touchedFields,B),te.keepDirty||(Er(r.dirtyFields,B),r.isDirty=te.defaultValue?re(B,Fr(Te(a,B))):re()),te.keepError||(Er(r.errors,B),u.isValid&&v()),m.state.next({...r}))},xe=(B,te={})=>{const ce=B?Fr(B):a,be=Fr(ce),we=An(B),pe=we?a:be;if(te.keepDefaultValues||(a=ce),!te.keepValues){if(te.keepDirtyValues){const Se=new Set([...l.mount,...Object.keys(ru(a,i))]);for(const Ue of Array.from(Se))Te(r.dirtyFields,Ue)?zt(pe,Ue,Te(i,Ue)):ee(Ue,Te(pe,Ue))}else{if(ej&&jr(B))for(const Se of l.mount){const Ue=Te(n,Se);if(Ue&&Ue._f){const fe=Array.isArray(Ue._f.refs)?Ue._f.refs[0]:Ue._f.ref;if(Cp(fe)){const We=fe.closest("form");if(We){We.reset();break}}}}if(te.keepFieldsRef)for(const Se of l.mount)ee(Se,Te(pe,Se));else n={}}i=t.shouldUnregister?te.keepDefaultValues?Fr(a):{}:Fr(pe),m.array.next({values:{...pe}}),m.state.next({values:{...pe}})}l={mount:te.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!u.isValid||!!te.keepIsValid||!!te.keepDirtyValues,o.watch=!!t.shouldUnregister,m.state.next({submitCount:te.keepSubmitCount?r.submitCount:0,isDirty:we?!1:te.keepDirty?r.isDirty:!!(te.keepDefaultValues&&!Ba(B,a)),isSubmitted:te.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:we?{}:te.keepDirtyValues?te.keepDefaultValues&&i?ru(a,i):r.dirtyFields:te.keepDefaultValues&&B?ru(a,B):te.keepDirty?r.dirtyFields:{},touchedFields:te.keepTouched?r.touchedFields:{},errors:te.keepErrors?r.errors:{},isSubmitSuccessful:te.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},Ge=(B,te)=>xe(zs(B)?B(i):B,te),_t=(B,te={})=>{const ce=Te(n,B),be=ce&&ce._f;if(be){const we=be.refs?be.refs[0]:be.ref;we.focus&&(we.focus(),te.shouldSelect&&zs(we.select)&&we.select())}},Ot=B=>{r={...r,...B}},$t={control:{register:L,unregister:Q,getFieldState:E,handleSubmit:_e,setError:Y,_subscribe:z,_runSchema:S,_focusError:Z,_getWatch:G,_getDirty:re,_setValid:v,_setFieldArray:y,_setDisabledField:R,_setErrors:b,_getFieldArray:H,_reset:xe,_resetDefaultValues:()=>zs(t.defaultValues)&&t.defaultValues().then(B=>{Ge(B,t.resetOptions),m.state.next({isLoading:!1})}),_removeUnmounted:q,_disableForm:ue,_subjects:m,_proxyFormState:u,get _fields(){return n},get _formValues(){return i},get _state(){return o},set _state(B){o=B},get _defaultValues(){return a},get _names(){return l},set _names(B){l=B},get _formState(){return r},get _options(){return t},set _options(B){t={...t,...B}}},subscribe:ne,trigger:D,register:L,handleSubmit:_e,watch:k,setValue:ee,getValues:C,reset:Ge,resetField:me,clearErrors:A,unregister:Q,setError:Y,setFocus:_t,getFieldState:E};return{...$t,formControl:$t}}function dG(e={}){const t=he.useRef(void 0),r=he.useRef(void 0),[n,a]=he.useState({isDirty:!1,isValidating:!1,isLoading:zs(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:zs(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:n},e.defaultValues&&!zs(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:o,...l}=cG(e);t.current={...l,formState:n}}const i=t.current.control;return i._options=e,sj(()=>{const o=i._subscribe({formState:i._proxyFormState,callback:()=>a({...i._formState}),reRenderRoot:!0});return a(l=>({...l,isReady:!0})),i._formState.isReady=!0,o},[i]),he.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),he.useEffect(()=>{e.mode&&(i._options.mode=e.mode),e.reValidateMode&&(i._options.reValidateMode=e.reValidateMode)},[i,e.mode,e.reValidateMode]),he.useEffect(()=>{e.errors&&(i._setErrors(e.errors),i._focusError())},[i,e.errors]),he.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,e.shouldUnregister]),he.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==n.isDirty&&i._subjects.state.next({isDirty:o})}},[i,n.isDirty]),he.useEffect(()=>{e.values&&!Ba(e.values,r.current)?(i._reset(e.values,{keepFieldsRef:!0,...i._options.resetOptions}),r.current=e.values,a(o=>({...o}))):i._resetDefaultValues()},[i,e.values]),he.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),t.current.formState=B4(n,i),t.current}const oS=HK,X4=f.createContext({}),Gh=({...e})=>s.jsx(X4.Provider,{value:{name:e.name},children:s.jsx(QK,{...e})}),Hg=()=>{const e=f.useContext(X4),t=f.useContext(Z4),{getFieldState:r,formState:n}=Wg(),a=r(e.name,n);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:i}=t;return{id:i,name:e.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...a}},Z4=f.createContext({}),Ma=f.forwardRef(({className:e,...t},r)=>{const n=f.useId();return s.jsx(Z4.Provider,{value:{id:n},children:s.jsx("div",{ref:r,className:le("space-y-2",e),...t})})});Ma.displayName="FormItem";const Aa=f.forwardRef(({className:e,...t},r)=>{const{error:n,formItemId:a}=Hg();return s.jsx(Le,{ref:r,className:le(n&&"text-destructive",e),htmlFor:a,...t})});Aa.displayName="FormLabel";const Oa=f.forwardRef(({...e},t)=>{const{error:r,formItemId:n,formDescriptionId:a,formMessageId:i}=Hg();return s.jsx(jl,{ref:t,id:n,"aria-describedby":r?`${a} ${i}`:`${a}`,"aria-invalid":!!r,...e})});Oa.displayName="FormControl";const uG=f.forwardRef(({className:e,...t},r)=>{const{formDescriptionId:n}=Hg();return s.jsx("p",{ref:r,id:n,className:le("text-sm text-muted-foreground",e),...t})});uG.displayName="FormDescription";const Da=f.forwardRef(({className:e,children:t,...r},n)=>{const{error:a,formMessageId:i}=Hg(),o=a?String(a==null?void 0:a.message):t;return o?s.jsx("p",{ref:n,id:i,className:le("text-sm font-medium text-destructive",e),...r,children:o}):null});Da.displayName="FormMessage";var At;(function(e){e.assertEqual=a=>{};function t(a){}e.assertIs=t;function r(a){throw new Error}e.assertNever=r,e.arrayToEnum=a=>{const i={};for(const o of a)i[o]=o;return i},e.getValidEnumValues=a=>{const i=e.objectKeys(a).filter(l=>typeof a[a[l]]!="number"),o={};for(const l of i)o[l]=a[l];return e.objectValues(o)},e.objectValues=a=>e.objectKeys(a).map(function(i){return a[i]}),e.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const i=[];for(const o in a)Object.prototype.hasOwnProperty.call(a,o)&&i.push(o);return i},e.find=(a,i)=>{for(const o of a)if(i(o))return o},e.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&Number.isFinite(a)&&Math.floor(a)===a;function n(a,i=" | "){return a.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}e.joinValues=n,e.jsonStringifyReplacer=(a,i)=>typeof i=="bigint"?i.toString():i})(At||(At={}));var lS;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(lS||(lS={}));const Ve=At.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ji=e=>{switch(typeof e){case"undefined":return Ve.undefined;case"string":return Ve.string;case"number":return Number.isNaN(e)?Ve.nan:Ve.number;case"boolean":return Ve.boolean;case"function":return Ve.function;case"bigint":return Ve.bigint;case"symbol":return Ve.symbol;case"object":return Array.isArray(e)?Ve.array:e===null?Ve.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?Ve.promise:typeof Map<"u"&&e instanceof Map?Ve.map:typeof Set<"u"&&e instanceof Set?Ve.set:typeof Date<"u"&&e instanceof Date?Ve.date:Ve.object;default:return Ve.unknown}},Ee=At.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class ii extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(i){return i.message},n={_errors:[]},a=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(a);else if(o.code==="invalid_return_type")a(o.returnTypeError);else if(o.code==="invalid_arguments")a(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let l=n,c=0;for(;c<o.path.length;){const d=o.path[c];c===o.path.length-1?(l[d]=l[d]||{_errors:[]},l[d]._errors.push(r(o))):l[d]=l[d]||{_errors:[]},l=l[d],c++}}};return a(this),n}static assert(t){if(!(t instanceof ii))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,At.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const a of this.issues)if(a.path.length>0){const i=a.path[0];r[i]=r[i]||[],r[i].push(t(a))}else n.push(t(a));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}ii.create=e=>new ii(e);const I0=(e,t)=>{let r;switch(e.code){case Ee.invalid_type:e.received===Ve.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case Ee.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,At.jsonStringifyReplacer)}`;break;case Ee.unrecognized_keys:r=`Unrecognized key(s) in object: ${At.joinValues(e.keys,", ")}`;break;case Ee.invalid_union:r="Invalid input";break;case Ee.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${At.joinValues(e.options)}`;break;case Ee.invalid_enum_value:r=`Invalid enum value. Expected ${At.joinValues(e.options)}, received '${e.received}'`;break;case Ee.invalid_arguments:r="Invalid function arguments";break;case Ee.invalid_return_type:r="Invalid function return type";break;case Ee.invalid_date:r="Invalid date";break;case Ee.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:At.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case Ee.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case Ee.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case Ee.custom:r="Invalid input";break;case Ee.invalid_intersection_types:r="Intersection results could not be merged";break;case Ee.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case Ee.not_finite:r="Number must be finite";break;default:r=t.defaultError,At.assertNever(e)}return{message:r}};let fG=I0;function hG(){return fG}const mG=e=>{const{data:t,path:r,errorMaps:n,issueData:a}=e,i=[...r,...a.path||[]],o={...a,path:i};if(a.message!==void 0)return{...a,path:i,message:a.message};let l="";const c=n.filter(d=>!!d).slice().reverse();for(const d of c)l=d(o,{data:t,defaultError:l}).message;return{...a,path:i,message:l}};function Ae(e,t){const r=hG(),n=mG({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===I0?void 0:I0].filter(a=>!!a)});e.common.issues.push(n)}class ns{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const a of r){if(a.status==="aborted")return at;a.status==="dirty"&&t.dirty(),n.push(a.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const a of r){const i=await a.key,o=await a.value;n.push({key:i,value:o})}return ns.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const a of r){const{key:i,value:o}=a;if(i.status==="aborted"||o.status==="aborted")return at;i.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||a.alwaysSet)&&(n[i.value]=o.value)}return{status:t.value,value:n}}}const at=Object.freeze({status:"aborted"}),vu=e=>({status:"dirty",value:e}),Ns=e=>({status:"valid",value:e}),cS=e=>e.status==="aborted",dS=e=>e.status==="dirty",ad=e=>e.status==="valid",Pp=e=>typeof Promise<"u"&&e instanceof Promise;var Ke;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(Ke||(Ke={}));class uo{constructor(t,r,n,a){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=a}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const uS=(e,t)=>{if(ad(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new ii(e.common.issues);return this._error=r,this._error}}};function gt(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:a}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:a}:{errorMap:(o,l)=>{const{message:c}=e;return o.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??n??l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:c??r??l.defaultError}},description:a}}class Rt{get description(){return this._def.description}_getType(t){return ji(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:ji(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new ns,ctx:{common:t.parent.common,data:t.data,parsedType:ji(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(Pp(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){const n={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ji(t)},a=this._parseSync({data:t,path:n.path,parent:n});return uS(n,a)}"~validate"(t){var n,a;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ji(t)};if(!this["~standard"].async)try{const i=this._parseSync({data:t,path:[],parent:r});return ad(i)?{value:i.value}:{issues:r.common.issues}}catch(i){(a=(n=i==null?void 0:i.message)==null?void 0:n.toLowerCase())!=null&&a.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:r}).then(i=>ad(i)?{value:i.value}:{issues:r.common.issues})}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ji(t)},a=this._parse({data:t,path:n.path,parent:n}),i=await(Pp(a)?a:Promise.resolve(a));return uS(n,i)}refine(t,r){const n=a=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(a):r;return this._refinement((a,i)=>{const o=t(a),l=()=>i.addIssue({code:Ee.custom,...n(a)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,r){return this._refinement((n,a)=>t(n)?!0:(a.addIssue(typeof r=="function"?r(n,a):r),!1))}_refinement(t){return new od({schema:this,typeName:it.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return to.create(this,this._def)}nullable(){return ld.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ga.create(this)}promise(){return Ap.create(this,this._def)}or(t){return Rp.create([this,t],this._def)}and(t){return Mp.create(this,t,this._def)}transform(t){return new od({...gt(this._def),schema:this,typeName:it.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new L0({...gt(this._def),innerType:this,defaultValue:r,typeName:it.ZodDefault})}brand(){return new FG({typeName:it.ZodBranded,type:this,...gt(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new $0({...gt(this._def),innerType:this,catchValue:r,typeName:it.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return oj.create(this,t)}readonly(){return z0.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const pG=/^c[^\s-]{8,}$/i,gG=/^[0-9a-z]+$/,vG=/^[0-9A-HJKMNP-TV-Z]{26}$/i,xG=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,yG=/^[a-z0-9_-]{21}$/i,wG=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,bG=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,jG=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,_G="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Ax;const NG=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,SG=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,CG=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,kG=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,EG=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,PG=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,J4="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",TG=new RegExp(`^${J4}$`);function eA(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function RG(e){return new RegExp(`^${eA(e)}$`)}function MG(e){let t=`${J4}T${eA(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function AG(e,t){return!!((t==="v4"||!t)&&NG.test(e)||(t==="v6"||!t)&&CG.test(e))}function OG(e,t){if(!wG.test(e))return!1;try{const[r]=e.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),a=JSON.parse(atob(n));return!(typeof a!="object"||a===null||"typ"in a&&(a==null?void 0:a.typ)!=="JWT"||!a.alg||t&&a.alg!==t)}catch{return!1}}function DG(e,t){return!!((t==="v4"||!t)&&SG.test(e)||(t==="v6"||!t)&&kG.test(e))}class zi extends Rt{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==Ve.string){const i=this._getOrReturnCtx(t);return Ae(i,{code:Ee.invalid_type,expected:Ve.string,received:i.parsedType}),at}const n=new ns;let a;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(a=this._getOrReturnCtx(t,a),Ae(a,{code:Ee.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")t.data.length>i.value&&(a=this._getOrReturnCtx(t,a),Ae(a,{code:Ee.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){const o=t.data.length>i.value,l=t.data.length<i.value;(o||l)&&(a=this._getOrReturnCtx(t,a),o?Ae(a,{code:Ee.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&Ae(a,{code:Ee.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")jG.test(t.data)||(a=this._getOrReturnCtx(t,a),Ae(a,{validation:"email",code:Ee.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")Ax||(Ax=new RegExp(_G,"u")),Ax.test(t.data)||(a=this._getOrReturnCtx(t,a),Ae(a,{validation:"emoji",code:Ee.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")xG.test(t.data)||(a=this._getOrReturnCtx(t,a),Ae(a,{validation:"uuid",code:Ee.invalid_string,message:i.message}),n.dirty());else if(i.kind==="nanoid")yG.test(t.data)||(a=this._getOrReturnCtx(t,a),Ae(a,{validation:"nanoid",code:Ee.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")pG.test(t.data)||(a=this._getOrReturnCtx(t,a),Ae(a,{validation:"cuid",code:Ee.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")gG.test(t.data)||(a=this._getOrReturnCtx(t,a),Ae(a,{validation:"cuid2",code:Ee.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")vG.test(t.data)||(a=this._getOrReturnCtx(t,a),Ae(a,{validation:"ulid",code:Ee.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{a=this._getOrReturnCtx(t,a),Ae(a,{validation:"url",code:Ee.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(a=this._getOrReturnCtx(t,a),Ae(a,{validation:"regex",code:Ee.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(a=this._getOrReturnCtx(t,a),Ae(a,{code:Ee.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(a=this._getOrReturnCtx(t,a),Ae(a,{code:Ee.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(a=this._getOrReturnCtx(t,a),Ae(a,{code:Ee.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?MG(i).test(t.data)||(a=this._getOrReturnCtx(t,a),Ae(a,{code:Ee.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="date"?TG.test(t.data)||(a=this._getOrReturnCtx(t,a),Ae(a,{code:Ee.invalid_string,validation:"date",message:i.message}),n.dirty()):i.kind==="time"?RG(i).test(t.data)||(a=this._getOrReturnCtx(t,a),Ae(a,{code:Ee.invalid_string,validation:"time",message:i.message}),n.dirty()):i.kind==="duration"?bG.test(t.data)||(a=this._getOrReturnCtx(t,a),Ae(a,{validation:"duration",code:Ee.invalid_string,message:i.message}),n.dirty()):i.kind==="ip"?AG(t.data,i.version)||(a=this._getOrReturnCtx(t,a),Ae(a,{validation:"ip",code:Ee.invalid_string,message:i.message}),n.dirty()):i.kind==="jwt"?OG(t.data,i.alg)||(a=this._getOrReturnCtx(t,a),Ae(a,{validation:"jwt",code:Ee.invalid_string,message:i.message}),n.dirty()):i.kind==="cidr"?DG(t.data,i.version)||(a=this._getOrReturnCtx(t,a),Ae(a,{validation:"cidr",code:Ee.invalid_string,message:i.message}),n.dirty()):i.kind==="base64"?EG.test(t.data)||(a=this._getOrReturnCtx(t,a),Ae(a,{validation:"base64",code:Ee.invalid_string,message:i.message}),n.dirty()):i.kind==="base64url"?PG.test(t.data)||(a=this._getOrReturnCtx(t,a),Ae(a,{validation:"base64url",code:Ee.invalid_string,message:i.message}),n.dirty()):At.assertNever(i);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(a=>t.test(a),{validation:r,code:Ee.invalid_string,...Ke.errToObj(n)})}_addCheck(t){return new zi({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Ke.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Ke.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Ke.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Ke.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...Ke.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Ke.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Ke.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Ke.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...Ke.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...Ke.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...Ke.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Ke.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...Ke.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...Ke.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...Ke.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...Ke.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...Ke.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...Ke.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...Ke.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...Ke.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...Ke.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...Ke.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...Ke.errToObj(r)})}nonempty(t){return this.min(1,Ke.errToObj(t))}trim(){return new zi({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new zi({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new zi({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}zi.create=e=>new zi({checks:[],typeName:it.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...gt(e)});function IG(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,a=r>n?r:n,i=Number.parseInt(e.toFixed(a).replace(".","")),o=Number.parseInt(t.toFixed(a).replace(".",""));return i%o/10**a}class xf extends Rt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==Ve.number){const i=this._getOrReturnCtx(t);return Ae(i,{code:Ee.invalid_type,expected:Ve.number,received:i.parsedType}),at}let n;const a=new ns;for(const i of this._def.checks)i.kind==="int"?At.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),Ae(n,{code:Ee.invalid_type,expected:"integer",received:"float",message:i.message}),a.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),Ae(n,{code:Ee.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),Ae(n,{code:Ee.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="multipleOf"?IG(t.data,i.value)!==0&&(n=this._getOrReturnCtx(t,n),Ae(n,{code:Ee.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),Ae(n,{code:Ee.not_finite,message:i.message}),a.dirty()):At.assertNever(i);return{status:a.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,Ke.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Ke.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Ke.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Ke.toString(r))}setLimit(t,r,n,a){return new xf({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Ke.toString(a)}]})}_addCheck(t){return new xf({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Ke.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Ke.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Ke.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Ke.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Ke.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Ke.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:Ke.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Ke.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Ke.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&At.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}xf.create=e=>new xf({checks:[],typeName:it.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...gt(e)});class yf extends Rt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==Ve.bigint)return this._getInvalidInput(t);let n;const a=new ns;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),Ae(n,{code:Ee.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),Ae(n,{code:Ee.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),Ae(n,{code:Ee.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):At.assertNever(i);return{status:a.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return Ae(r,{code:Ee.invalid_type,expected:Ve.bigint,received:r.parsedType}),at}gte(t,r){return this.setLimit("min",t,!0,Ke.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Ke.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Ke.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Ke.toString(r))}setLimit(t,r,n,a){return new yf({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Ke.toString(a)}]})}_addCheck(t){return new yf({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Ke.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Ke.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Ke.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Ke.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Ke.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}yf.create=e=>new yf({checks:[],typeName:it.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...gt(e)});class fS extends Rt{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==Ve.boolean){const n=this._getOrReturnCtx(t);return Ae(n,{code:Ee.invalid_type,expected:Ve.boolean,received:n.parsedType}),at}return Ns(t.data)}}fS.create=e=>new fS({typeName:it.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...gt(e)});class Tp extends Rt{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==Ve.date){const i=this._getOrReturnCtx(t);return Ae(i,{code:Ee.invalid_type,expected:Ve.date,received:i.parsedType}),at}if(Number.isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return Ae(i,{code:Ee.invalid_date}),at}const n=new ns;let a;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(a=this._getOrReturnCtx(t,a),Ae(a,{code:Ee.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(a=this._getOrReturnCtx(t,a),Ae(a,{code:Ee.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):At.assertNever(i);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Tp({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:Ke.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:Ke.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}Tp.create=e=>new Tp({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:it.ZodDate,...gt(e)});class hS extends Rt{_parse(t){if(this._getType(t)!==Ve.symbol){const n=this._getOrReturnCtx(t);return Ae(n,{code:Ee.invalid_type,expected:Ve.symbol,received:n.parsedType}),at}return Ns(t.data)}}hS.create=e=>new hS({typeName:it.ZodSymbol,...gt(e)});class mS extends Rt{_parse(t){if(this._getType(t)!==Ve.undefined){const n=this._getOrReturnCtx(t);return Ae(n,{code:Ee.invalid_type,expected:Ve.undefined,received:n.parsedType}),at}return Ns(t.data)}}mS.create=e=>new mS({typeName:it.ZodUndefined,...gt(e)});class pS extends Rt{_parse(t){if(this._getType(t)!==Ve.null){const n=this._getOrReturnCtx(t);return Ae(n,{code:Ee.invalid_type,expected:Ve.null,received:n.parsedType}),at}return Ns(t.data)}}pS.create=e=>new pS({typeName:it.ZodNull,...gt(e)});class gS extends Rt{constructor(){super(...arguments),this._any=!0}_parse(t){return Ns(t.data)}}gS.create=e=>new gS({typeName:it.ZodAny,...gt(e)});class vS extends Rt{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Ns(t.data)}}vS.create=e=>new vS({typeName:it.ZodUnknown,...gt(e)});class fo extends Rt{_parse(t){const r=this._getOrReturnCtx(t);return Ae(r,{code:Ee.invalid_type,expected:Ve.never,received:r.parsedType}),at}}fo.create=e=>new fo({typeName:it.ZodNever,...gt(e)});class xS extends Rt{_parse(t){if(this._getType(t)!==Ve.undefined){const n=this._getOrReturnCtx(t);return Ae(n,{code:Ee.invalid_type,expected:Ve.void,received:n.parsedType}),at}return Ns(t.data)}}xS.create=e=>new xS({typeName:it.ZodVoid,...gt(e)});class ga extends Rt{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),a=this._def;if(r.parsedType!==Ve.array)return Ae(r,{code:Ee.invalid_type,expected:Ve.array,received:r.parsedType}),at;if(a.exactLength!==null){const o=r.data.length>a.exactLength.value,l=r.data.length<a.exactLength.value;(o||l)&&(Ae(r,{code:o?Ee.too_big:Ee.too_small,minimum:l?a.exactLength.value:void 0,maximum:o?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),n.dirty())}if(a.minLength!==null&&r.data.length<a.minLength.value&&(Ae(r,{code:Ee.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),n.dirty()),a.maxLength!==null&&r.data.length>a.maxLength.value&&(Ae(r,{code:Ee.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,l)=>a.type._parseAsync(new uo(r,o,r.path,l)))).then(o=>ns.mergeArray(n,o));const i=[...r.data].map((o,l)=>a.type._parseSync(new uo(r,o,r.path,l)));return ns.mergeArray(n,i)}get element(){return this._def.type}min(t,r){return new ga({...this._def,minLength:{value:t,message:Ke.toString(r)}})}max(t,r){return new ga({...this._def,maxLength:{value:t,message:Ke.toString(r)}})}length(t,r){return new ga({...this._def,exactLength:{value:t,message:Ke.toString(r)}})}nonempty(t){return this.min(1,t)}}ga.create=(e,t)=>new ga({type:e,minLength:null,maxLength:null,exactLength:null,typeName:it.ZodArray,...gt(t)});function tc(e){if(e instanceof vr){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=to.create(tc(n))}return new vr({...e._def,shape:()=>t})}else return e instanceof ga?new ga({...e._def,type:tc(e.element)}):e instanceof to?to.create(tc(e.unwrap())):e instanceof ld?ld.create(tc(e.unwrap())):e instanceof vl?vl.create(e.items.map(t=>tc(t))):e}class vr extends Rt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=At.objectKeys(t);return this._cached={shape:t,keys:r},this._cached}_parse(t){if(this._getType(t)!==Ve.object){const d=this._getOrReturnCtx(t);return Ae(d,{code:Ee.invalid_type,expected:Ve.object,received:d.parsedType}),at}const{status:n,ctx:a}=this._processInputParams(t),{shape:i,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof fo&&this._def.unknownKeys==="strip"))for(const d in a.data)o.includes(d)||l.push(d);const c=[];for(const d of o){const u=i[d],h=a.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new uo(a,h,a.path,d)),alwaysSet:d in a.data})}if(this._def.catchall instanceof fo){const d=this._def.unknownKeys;if(d==="passthrough")for(const u of l)c.push({key:{status:"valid",value:u},value:{status:"valid",value:a.data[u]}});else if(d==="strict")l.length>0&&(Ae(a,{code:Ee.unrecognized_keys,keys:l}),n.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const u of l){const h=a.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new uo(a,h,a.path,u)),alwaysSet:u in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const d=[];for(const u of c){const h=await u.key,m=await u.value;d.push({key:h,value:m,alwaysSet:u.alwaysSet})}return d}).then(d=>ns.mergeObjectSync(n,d)):ns.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(t){return Ke.errToObj,new vr({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var i,o;const a=((o=(i=this._def).errorMap)==null?void 0:o.call(i,r,n).message)??n.defaultError;return r.code==="unrecognized_keys"?{message:Ke.errToObj(t).message??a}:{message:a}}}:{}})}strip(){return new vr({...this._def,unknownKeys:"strip"})}passthrough(){return new vr({...this._def,unknownKeys:"passthrough"})}extend(t){return new vr({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new vr({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:it.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new vr({...this._def,catchall:t})}pick(t){const r={};for(const n of At.objectKeys(t))t[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new vr({...this._def,shape:()=>r})}omit(t){const r={};for(const n of At.objectKeys(this.shape))t[n]||(r[n]=this.shape[n]);return new vr({...this._def,shape:()=>r})}deepPartial(){return tc(this)}partial(t){const r={};for(const n of At.objectKeys(this.shape)){const a=this.shape[n];t&&!t[n]?r[n]=a:r[n]=a.optional()}return new vr({...this._def,shape:()=>r})}required(t){const r={};for(const n of At.objectKeys(this.shape))if(t&&!t[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof to;)i=i._def.innerType;r[n]=i}return new vr({...this._def,shape:()=>r})}keyof(){return tA(At.objectKeys(this.shape))}}vr.create=(e,t)=>new vr({shape:()=>e,unknownKeys:"strip",catchall:fo.create(),typeName:it.ZodObject,...gt(t)});vr.strictCreate=(e,t)=>new vr({shape:()=>e,unknownKeys:"strict",catchall:fo.create(),typeName:it.ZodObject,...gt(t)});vr.lazycreate=(e,t)=>new vr({shape:e,unknownKeys:"strip",catchall:fo.create(),typeName:it.ZodObject,...gt(t)});class Rp extends Rt{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function a(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const o=i.map(l=>new ii(l.ctx.common.issues));return Ae(r,{code:Ee.invalid_union,unionErrors:o}),at}if(r.common.async)return Promise.all(n.map(async i=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(a);{let i;const o=[];for(const c of n){const d={...r,common:{...r.common,issues:[]},parent:null},u=c._parseSync({data:r.data,path:r.path,parent:d});if(u.status==="valid")return u;u.status==="dirty"&&!i&&(i={result:u,ctx:d}),d.common.issues.length&&o.push(d.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const l=o.map(c=>new ii(c));return Ae(r,{code:Ee.invalid_union,unionErrors:l}),at}}get options(){return this._def.options}}Rp.create=(e,t)=>new Rp({options:e,typeName:it.ZodUnion,...gt(t)});function F0(e,t){const r=ji(e),n=ji(t);if(e===t)return{valid:!0,data:e};if(r===Ve.object&&n===Ve.object){const a=At.objectKeys(t),i=At.objectKeys(e).filter(l=>a.indexOf(l)!==-1),o={...e,...t};for(const l of i){const c=F0(e[l],t[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(r===Ve.array&&n===Ve.array){if(e.length!==t.length)return{valid:!1};const a=[];for(let i=0;i<e.length;i++){const o=e[i],l=t[i],c=F0(o,l);if(!c.valid)return{valid:!1};a.push(c.data)}return{valid:!0,data:a}}else return r===Ve.date&&n===Ve.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Mp extends Rt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),a=(i,o)=>{if(cS(i)||cS(o))return at;const l=F0(i.value,o.value);return l.valid?((dS(i)||dS(o))&&r.dirty(),{status:r.value,value:l.data}):(Ae(n,{code:Ee.invalid_intersection_types}),at)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,o])=>a(i,o)):a(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Mp.create=(e,t,r)=>new Mp({left:e,right:t,typeName:it.ZodIntersection,...gt(r)});class vl extends Rt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Ve.array)return Ae(n,{code:Ee.invalid_type,expected:Ve.array,received:n.parsedType}),at;if(n.data.length<this._def.items.length)return Ae(n,{code:Ee.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),at;!this._def.rest&&n.data.length>this._def.items.length&&(Ae(n,{code:Ee.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...n.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new uo(n,o,n.path,l)):null}).filter(o=>!!o);return n.common.async?Promise.all(i).then(o=>ns.mergeArray(r,o)):ns.mergeArray(r,i)}get items(){return this._def.items}rest(t){return new vl({...this._def,rest:t})}}vl.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new vl({items:e,typeName:it.ZodTuple,rest:null,...gt(t)})};class yS extends Rt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Ve.map)return Ae(n,{code:Ee.invalid_type,expected:Ve.map,received:n.parsedType}),at;const a=this._def.keyType,i=this._def.valueType,o=[...n.data.entries()].map(([l,c],d)=>({key:a._parse(new uo(n,l,n.path,[d,"key"])),value:i._parse(new uo(n,c,n.path,[d,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const d=await c.key,u=await c.value;if(d.status==="aborted"||u.status==="aborted")return at;(d.status==="dirty"||u.status==="dirty")&&r.dirty(),l.set(d.value,u.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of o){const d=c.key,u=c.value;if(d.status==="aborted"||u.status==="aborted")return at;(d.status==="dirty"||u.status==="dirty")&&r.dirty(),l.set(d.value,u.value)}return{status:r.value,value:l}}}}yS.create=(e,t,r)=>new yS({valueType:t,keyType:e,typeName:it.ZodMap,...gt(r)});class wf extends Rt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Ve.set)return Ae(n,{code:Ee.invalid_type,expected:Ve.set,received:n.parsedType}),at;const a=this._def;a.minSize!==null&&n.data.size<a.minSize.value&&(Ae(n,{code:Ee.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),r.dirty()),a.maxSize!==null&&n.data.size>a.maxSize.value&&(Ae(n,{code:Ee.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),r.dirty());const i=this._def.valueType;function o(c){const d=new Set;for(const u of c){if(u.status==="aborted")return at;u.status==="dirty"&&r.dirty(),d.add(u.value)}return{status:r.value,value:d}}const l=[...n.data.values()].map((c,d)=>i._parse(new uo(n,c,n.path,d)));return n.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(t,r){return new wf({...this._def,minSize:{value:t,message:Ke.toString(r)}})}max(t,r){return new wf({...this._def,maxSize:{value:t,message:Ke.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}wf.create=(e,t)=>new wf({valueType:e,minSize:null,maxSize:null,typeName:it.ZodSet,...gt(t)});class wS extends Rt{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}wS.create=(e,t)=>new wS({getter:e,typeName:it.ZodLazy,...gt(t)});class bS extends Rt{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return Ae(r,{received:r.data,code:Ee.invalid_literal,expected:this._def.value}),at}return{status:"valid",value:t.data}}get value(){return this._def.value}}bS.create=(e,t)=>new bS({value:e,typeName:it.ZodLiteral,...gt(t)});function tA(e,t){return new id({values:e,typeName:it.ZodEnum,...gt(t)})}class id extends Rt{_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return Ae(r,{expected:At.joinValues(n),received:r.parsedType,code:Ee.invalid_type}),at}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return Ae(r,{received:r.data,code:Ee.invalid_enum_value,options:n}),at}return Ns(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return id.create(t,{...this._def,...r})}exclude(t,r=this._def){return id.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}id.create=tA;class jS extends Rt{_parse(t){const r=At.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==Ve.string&&n.parsedType!==Ve.number){const a=At.objectValues(r);return Ae(n,{expected:At.joinValues(a),received:n.parsedType,code:Ee.invalid_type}),at}if(this._cache||(this._cache=new Set(At.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const a=At.objectValues(r);return Ae(n,{received:n.data,code:Ee.invalid_enum_value,options:a}),at}return Ns(t.data)}get enum(){return this._def.values}}jS.create=(e,t)=>new jS({values:e,typeName:it.ZodNativeEnum,...gt(t)});class Ap extends Rt{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==Ve.promise&&r.common.async===!1)return Ae(r,{code:Ee.invalid_type,expected:Ve.promise,received:r.parsedType}),at;const n=r.parsedType===Ve.promise?r.data:Promise.resolve(r.data);return Ns(n.then(a=>this._def.type.parseAsync(a,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Ap.create=(e,t)=>new Ap({type:e,typeName:it.ZodPromise,...gt(t)});class od extends Rt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===it.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),a=this._def.effect||null,i={addIssue:o=>{Ae(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),a.type==="preprocess"){const o=a.transform(n.data,i);if(n.common.async)return Promise.resolve(o).then(async l=>{if(r.value==="aborted")return at;const c=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return c.status==="aborted"?at:c.status==="dirty"||r.value==="dirty"?vu(c.value):c});{if(r.value==="aborted")return at;const l=this._def.schema._parseSync({data:o,path:n.path,parent:n});return l.status==="aborted"?at:l.status==="dirty"||r.value==="dirty"?vu(l.value):l}}if(a.type==="refinement"){const o=l=>{const c=a.refinement(l,i);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?at:(l.status==="dirty"&&r.dirty(),o(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?at:(l.status==="dirty"&&r.dirty(),o(l.value).then(()=>({status:r.value,value:l.value}))))}if(a.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!ad(o))return at;const l=a.transform(o.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>ad(o)?Promise.resolve(a.transform(o.value,i)).then(l=>({status:r.value,value:l})):at);At.assertNever(a)}}od.create=(e,t,r)=>new od({schema:e,typeName:it.ZodEffects,effect:t,...gt(r)});od.createWithPreprocess=(e,t,r)=>new od({schema:t,effect:{type:"preprocess",transform:e},typeName:it.ZodEffects,...gt(r)});class to extends Rt{_parse(t){return this._getType(t)===Ve.undefined?Ns(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}to.create=(e,t)=>new to({innerType:e,typeName:it.ZodOptional,...gt(t)});class ld extends Rt{_parse(t){return this._getType(t)===Ve.null?Ns(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}ld.create=(e,t)=>new ld({innerType:e,typeName:it.ZodNullable,...gt(t)});class L0 extends Rt{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===Ve.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}L0.create=(e,t)=>new L0({innerType:e,typeName:it.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...gt(t)});class $0 extends Rt{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},a=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Pp(a)?a.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new ii(n.common.issues)},input:n.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new ii(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}$0.create=(e,t)=>new $0({innerType:e,typeName:it.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...gt(t)});class _S extends Rt{_parse(t){if(this._getType(t)!==Ve.nan){const n=this._getOrReturnCtx(t);return Ae(n,{code:Ee.invalid_type,expected:Ve.nan,received:n.parsedType}),at}return{status:"valid",value:t.data}}}_S.create=e=>new _S({typeName:it.ZodNaN,...gt(e)});class FG extends Rt{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class oj extends Rt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?at:i.status==="dirty"?(r.dirty(),vu(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{const a=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?at:a.status==="dirty"?(r.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:n.path,parent:n})}}static create(t,r){return new oj({in:t,out:r,typeName:it.ZodPipeline})}}class z0 extends Rt{_parse(t){const r=this._def.innerType._parse(t),n=a=>(ad(a)&&(a.value=Object.freeze(a.value)),a);return Pp(r)?r.then(a=>n(a)):n(r)}unwrap(){return this._def.innerType}}z0.create=(e,t)=>new z0({innerType:e,typeName:it.ZodReadonly,...gt(t)});vr.lazycreate;var it;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(it||(it={}));const NS=zi.create;fo.create;ga.create;const LG=vr.create;vr.strictCreate;Rp.create;Mp.create;vl.create;id.create;Ap.create;to.create;ld.create;const SS=(e,t,r)=>{if(e&&"reportValidity"in e){const n=Te(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},rA=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?SS(n.ref,r,e):n.refs&&n.refs.forEach(a=>SS(a,r,e))}},$G=(e,t)=>{t.shouldUseNativeValidation&&rA(e,t);const r={};for(const n in e){const a=Te(t.fields,n),i=Object.assign(e[n]||{},{ref:a&&a.ref});if(zG(t.names||Object.keys(e),n)){const o=Object.assign({},Te(r,n));zt(o,"root",i),zt(r,n,o)}else zt(r,n,i)}return r},zG=(e,t)=>e.some(r=>r.startsWith(t+"."));var UG=function(e,t){for(var r={};e.length;){var n=e[0],a=n.code,i=n.message,o=n.path.join(".");if(!r[o])if("unionErrors"in n){var l=n.unionErrors[0].errors[0];r[o]={message:l.message,type:l.code}}else r[o]={message:i,type:a};if("unionErrors"in n&&n.unionErrors.forEach(function(u){return u.errors.forEach(function(h){return e.push(h)})}),t){var c=r[o].types,d=c&&c[n.code];r[o]=V4(o,t,r,a,d?[].concat(d,n.message):n.message)}e.shift()}return r},BG=function(e,t,r){return r===void 0&&(r={}),function(n,a,i){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(d){return i.shouldUseNativeValidation&&rA({},i),{errors:{},values:r.raw?n:d}})}catch(d){return l(d)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:$G(UG(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}},CS=1,qG=.9,VG=.8,WG=.17,Ox=.1,Dx=.999,HG=.9999,KG=.99,GG=/[\\\/_+.#"@\[\(\{&]/,YG=/[\\\/_+.#"@\[\(\{&]/g,QG=/[\s-]/,nA=/[\s-]/g;function U0(e,t,r,n,a,i,o){if(i===t.length)return a===e.length?CS:KG;var l=`${a},${i}`;if(o[l]!==void 0)return o[l];for(var c=n.charAt(i),d=r.indexOf(c,a),u=0,h,m,p,w;d>=0;)h=U0(e,t,r,n,d+1,i+1,o),h>u&&(d===a?h*=CS:GG.test(e.charAt(d-1))?(h*=VG,p=e.slice(a,d-1).match(YG),p&&a>0&&(h*=Math.pow(Dx,p.length))):QG.test(e.charAt(d-1))?(h*=qG,w=e.slice(a,d-1).match(nA),w&&a>0&&(h*=Math.pow(Dx,w.length))):(h*=WG,a>0&&(h*=Math.pow(Dx,d-a))),e.charAt(d)!==t.charAt(i)&&(h*=HG)),(h<Ox&&r.charAt(d-1)===n.charAt(i+1)||n.charAt(i+1)===n.charAt(i)&&r.charAt(d-1)!==n.charAt(i))&&(m=U0(e,t,r,n,d+1,i+2,o),m*Ox>h&&(h=m*Ox)),h>u&&(u=h),d=r.indexOf(c,d+1);return o[l]=u,u}function kS(e){return e.toLowerCase().replace(nA," ")}function XG(e,t,r){return e=r&&r.length>0?`${e+" "+r.join(" ")}`:e,U0(e,t,kS(e),kS(t),0,0,{})}var su='[cmdk-group=""]',Ix='[cmdk-group-items=""]',ZG='[cmdk-group-heading=""]',sA='[cmdk-item=""]',ES=`${sA}:not([aria-disabled="true"])`,B0="cmdk-item-select",rc="data-value",JG=(e,t,r)=>XG(e,t,r),aA=f.createContext(void 0),Zf=()=>f.useContext(aA),iA=f.createContext(void 0),lj=()=>f.useContext(iA),oA=f.createContext(void 0),lA=f.forwardRef((e,t)=>{let r=nc(()=>{var A,Y;return{search:"",value:(Y=(A=e.value)!=null?A:e.defaultValue)!=null?Y:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),n=nc(()=>new Set),a=nc(()=>new Map),i=nc(()=>new Map),o=nc(()=>new Set),l=cA(e),{label:c,children:d,value:u,onValueChange:h,filter:m,shouldFilter:p,loop:w,disablePointerSelection:v=!1,vimBindings:g=!0,...y}=e,x=Zr(),b=Zr(),_=Zr(),N=f.useRef(null),P=dY();xl(()=>{if(u!==void 0){let A=u.trim();r.current.value=A,S.emit()}},[u]),xl(()=>{P(6,H)},[]);let S=f.useMemo(()=>({subscribe:A=>(o.current.add(A),()=>o.current.delete(A)),snapshot:()=>r.current,setState:(A,Y,k)=>{var z,ne,Q,R;if(!Object.is(r.current[A],Y)){if(r.current[A]=Y,A==="search")G(),q(),P(1,re);else if(A==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let L=document.getElementById(_);L?L.focus():(z=document.getElementById(x))==null||z.focus()}if(P(7,()=>{var L;r.current.selectedItemId=(L=V())==null?void 0:L.id,S.emit()}),k||P(5,H),((ne=l.current)==null?void 0:ne.value)!==void 0){let L=Y??"";(R=(Q=l.current).onValueChange)==null||R.call(Q,L);return}}S.emit()}},emit:()=>{o.current.forEach(A=>A())}}),[]),T=f.useMemo(()=>({value:(A,Y,k)=>{var z;Y!==((z=i.current.get(A))==null?void 0:z.value)&&(i.current.set(A,{value:Y,keywords:k}),r.current.filtered.items.set(A,U(Y,k)),P(2,()=>{q(),S.emit()}))},item:(A,Y)=>(n.current.add(A),Y&&(a.current.has(Y)?a.current.get(Y).add(A):a.current.set(Y,new Set([A]))),P(3,()=>{G(),q(),r.current.value||re(),S.emit()}),()=>{i.current.delete(A),n.current.delete(A),r.current.filtered.items.delete(A);let k=V();P(4,()=>{G(),(k==null?void 0:k.getAttribute("id"))===A&&re(),S.emit()})}),group:A=>(a.current.has(A)||a.current.set(A,new Set),()=>{i.current.delete(A),a.current.delete(A)}),filter:()=>l.current.shouldFilter,label:c||e["aria-label"],getDisablePointerSelection:()=>l.current.disablePointerSelection,listId:x,inputId:_,labelId:b,listInnerRef:N}),[]);function U(A,Y){var k,z;let ne=(z=(k=l.current)==null?void 0:k.filter)!=null?z:JG;return A?ne(A,r.current.search,Y):0}function q(){if(!r.current.search||l.current.shouldFilter===!1)return;let A=r.current.filtered.items,Y=[];r.current.filtered.groups.forEach(z=>{let ne=a.current.get(z),Q=0;ne.forEach(R=>{let L=A.get(R);Q=Math.max(L,Q)}),Y.push([z,Q])});let k=N.current;se().sort((z,ne)=>{var Q,R;let L=z.getAttribute("id"),Z=ne.getAttribute("id");return((Q=A.get(Z))!=null?Q:0)-((R=A.get(L))!=null?R:0)}).forEach(z=>{let ne=z.closest(Ix);ne?ne.appendChild(z.parentElement===ne?z:z.closest(`${Ix} > *`)):k.appendChild(z.parentElement===k?z:z.closest(`${Ix} > *`))}),Y.sort((z,ne)=>ne[1]-z[1]).forEach(z=>{var ne;let Q=(ne=N.current)==null?void 0:ne.querySelector(`${su}[${rc}="${encodeURIComponent(z[0])}"]`);Q==null||Q.parentElement.appendChild(Q)})}function re(){let A=se().find(k=>k.getAttribute("aria-disabled")!=="true"),Y=A==null?void 0:A.getAttribute(rc);S.setState("value",Y||void 0)}function G(){var A,Y,k,z;if(!r.current.search||l.current.shouldFilter===!1){r.current.filtered.count=n.current.size;return}r.current.filtered.groups=new Set;let ne=0;for(let Q of n.current){let R=(Y=(A=i.current.get(Q))==null?void 0:A.value)!=null?Y:"",L=(z=(k=i.current.get(Q))==null?void 0:k.keywords)!=null?z:[],Z=U(R,L);r.current.filtered.items.set(Q,Z),Z>0&&ne++}for(let[Q,R]of a.current)for(let L of R)if(r.current.filtered.items.get(L)>0){r.current.filtered.groups.add(Q);break}r.current.filtered.count=ne}function H(){var A,Y,k;let z=V();z&&(((A=z.parentElement)==null?void 0:A.firstChild)===z&&((k=(Y=z.closest(su))==null?void 0:Y.querySelector(ZG))==null||k.scrollIntoView({block:"nearest"})),z.scrollIntoView({block:"nearest"}))}function V(){var A;return(A=N.current)==null?void 0:A.querySelector(`${sA}[aria-selected="true"]`)}function se(){var A;return Array.from(((A=N.current)==null?void 0:A.querySelectorAll(ES))||[])}function ee(A){let Y=se()[A];Y&&S.setState("value",Y.getAttribute(rc))}function J(A){var Y;let k=V(),z=se(),ne=z.findIndex(R=>R===k),Q=z[ne+A];(Y=l.current)!=null&&Y.loop&&(Q=ne+A<0?z[z.length-1]:ne+A===z.length?z[0]:z[ne+A]),Q&&S.setState("value",Q.getAttribute(rc))}function I(A){let Y=V(),k=Y==null?void 0:Y.closest(su),z;for(;k&&!z;)k=A>0?lY(k,su):cY(k,su),z=k==null?void 0:k.querySelector(ES);z?S.setState("value",z.getAttribute(rc)):J(A)}let D=()=>ee(se().length-1),C=A=>{A.preventDefault(),A.metaKey?D():A.altKey?I(1):J(1)},E=A=>{A.preventDefault(),A.metaKey?ee(0):A.altKey?I(-1):J(-1)};return f.createElement(Ie.div,{ref:t,tabIndex:-1,...y,"cmdk-root":"",onKeyDown:A=>{var Y;(Y=y.onKeyDown)==null||Y.call(y,A);let k=A.nativeEvent.isComposing||A.keyCode===229;if(!(A.defaultPrevented||k))switch(A.key){case"n":case"j":{g&&A.ctrlKey&&C(A);break}case"ArrowDown":{C(A);break}case"p":case"k":{g&&A.ctrlKey&&E(A);break}case"ArrowUp":{E(A);break}case"Home":{A.preventDefault(),ee(0);break}case"End":{A.preventDefault(),D();break}case"Enter":{A.preventDefault();let z=V();if(z){let ne=new Event(B0);z.dispatchEvent(ne)}}}}},f.createElement("label",{"cmdk-label":"",htmlFor:T.inputId,id:T.labelId,style:fY},c),Kg(e,A=>f.createElement(iA.Provider,{value:S},f.createElement(aA.Provider,{value:T},A))))}),eY=f.forwardRef((e,t)=>{var r,n;let a=Zr(),i=f.useRef(null),o=f.useContext(oA),l=Zf(),c=cA(e),d=(n=(r=c.current)==null?void 0:r.forceMount)!=null?n:o==null?void 0:o.forceMount;xl(()=>{if(!d)return l.item(a,o==null?void 0:o.id)},[d]);let u=dA(a,i,[e.value,e.children,i],e.keywords),h=lj(),m=ho(P=>P.value&&P.value===u.current),p=ho(P=>d||l.filter()===!1?!0:P.search?P.filtered.items.get(a)>0:!0);f.useEffect(()=>{let P=i.current;if(!(!P||e.disabled))return P.addEventListener(B0,w),()=>P.removeEventListener(B0,w)},[p,e.onSelect,e.disabled]);function w(){var P,S;v(),(S=(P=c.current).onSelect)==null||S.call(P,u.current)}function v(){h.setState("value",u.current,!0)}if(!p)return null;let{disabled:g,value:y,onSelect:x,forceMount:b,keywords:_,...N}=e;return f.createElement(Ie.div,{ref:ti(i,t),...N,id:a,"cmdk-item":"",role:"option","aria-disabled":!!g,"aria-selected":!!m,"data-disabled":!!g,"data-selected":!!m,onPointerMove:g||l.getDisablePointerSelection()?void 0:v,onClick:g?void 0:w},e.children)}),tY=f.forwardRef((e,t)=>{let{heading:r,children:n,forceMount:a,...i}=e,o=Zr(),l=f.useRef(null),c=f.useRef(null),d=Zr(),u=Zf(),h=ho(p=>a||u.filter()===!1?!0:p.search?p.filtered.groups.has(o):!0);xl(()=>u.group(o),[]),dA(o,l,[e.value,e.heading,c]);let m=f.useMemo(()=>({id:o,forceMount:a}),[a]);return f.createElement(Ie.div,{ref:ti(l,t),...i,"cmdk-group":"",role:"presentation",hidden:h?void 0:!0},r&&f.createElement("div",{ref:c,"cmdk-group-heading":"","aria-hidden":!0,id:d},r),Kg(e,p=>f.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?d:void 0},f.createElement(oA.Provider,{value:m},p))))}),rY=f.forwardRef((e,t)=>{let{alwaysRender:r,...n}=e,a=f.useRef(null),i=ho(o=>!o.search);return!r&&!i?null:f.createElement(Ie.div,{ref:ti(a,t),...n,"cmdk-separator":"",role:"separator"})}),nY=f.forwardRef((e,t)=>{let{onValueChange:r,...n}=e,a=e.value!=null,i=lj(),o=ho(d=>d.search),l=ho(d=>d.selectedItemId),c=Zf();return f.useEffect(()=>{e.value!=null&&i.setState("search",e.value)},[e.value]),f.createElement(Ie.input,{ref:t,...n,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":c.listId,"aria-labelledby":c.labelId,"aria-activedescendant":l,id:c.inputId,type:"text",value:a?e.value:o,onChange:d=>{a||i.setState("search",d.target.value),r==null||r(d.target.value)}})}),sY=f.forwardRef((e,t)=>{let{children:r,label:n="Suggestions",...a}=e,i=f.useRef(null),o=f.useRef(null),l=ho(d=>d.selectedItemId),c=Zf();return f.useEffect(()=>{if(o.current&&i.current){let d=o.current,u=i.current,h,m=new ResizeObserver(()=>{h=requestAnimationFrame(()=>{let p=d.offsetHeight;u.style.setProperty("--cmdk-list-height",p.toFixed(1)+"px")})});return m.observe(d),()=>{cancelAnimationFrame(h),m.unobserve(d)}}},[]),f.createElement(Ie.div,{ref:ti(i,t),...a,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":l,"aria-label":n,id:c.listId},Kg(e,d=>f.createElement("div",{ref:ti(o,c.listInnerRef),"cmdk-list-sizer":""},d)))}),aY=f.forwardRef((e,t)=>{let{open:r,onOpenChange:n,overlayClassName:a,contentClassName:i,container:o,...l}=e;return f.createElement(Cg,{open:r,onOpenChange:n},f.createElement(kg,{container:o},f.createElement(bd,{"cmdk-overlay":"",className:a}),f.createElement(jd,{"aria-label":e.label,"cmdk-dialog":"",className:i},f.createElement(lA,{ref:t,...l}))))}),iY=f.forwardRef((e,t)=>ho(r=>r.filtered.count===0)?f.createElement(Ie.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),oY=f.forwardRef((e,t)=>{let{progress:r,children:n,label:a="Loading...",...i}=e;return f.createElement(Ie.div,{ref:t,...i,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":a},Kg(e,o=>f.createElement("div",{"aria-hidden":!0},o)))}),qn=Object.assign(lA,{List:sY,Item:eY,Input:nY,Group:tY,Separator:rY,Dialog:aY,Empty:iY,Loading:oY});function lY(e,t){let r=e.nextElementSibling;for(;r;){if(r.matches(t))return r;r=r.nextElementSibling}}function cY(e,t){let r=e.previousElementSibling;for(;r;){if(r.matches(t))return r;r=r.previousElementSibling}}function cA(e){let t=f.useRef(e);return xl(()=>{t.current=e}),t}var xl=typeof window>"u"?f.useEffect:f.useLayoutEffect;function nc(e){let t=f.useRef();return t.current===void 0&&(t.current=e()),t}function ho(e){let t=lj(),r=()=>e(t.snapshot());return f.useSyncExternalStore(t.subscribe,r,r)}function dA(e,t,r,n=[]){let a=f.useRef(),i=Zf();return xl(()=>{var o;let l=(()=>{var d;for(let u of r){if(typeof u=="string")return u.trim();if(typeof u=="object"&&"current"in u)return u.current?(d=u.current.textContent)==null?void 0:d.trim():a.current}})(),c=n.map(d=>d.trim());i.value(e,l,c),(o=t.current)==null||o.setAttribute(rc,l),a.current=l}),a}var dY=()=>{let[e,t]=f.useState(),r=nc(()=>new Map);return xl(()=>{r.current.forEach(n=>n()),r.current=new Map},[e]),(n,a)=>{r.current.set(n,a),t({})}};function uY(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function Kg({asChild:e,children:t},r){return e&&f.isValidElement(t)?f.cloneElement(uY(t),{ref:t.ref},r(t.props.children)):r(t)}var fY={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const xu=f.forwardRef(({className:e,...t},r)=>s.jsx(qn,{ref:r,className:le("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...t}));xu.displayName=qn.displayName;const bm=f.forwardRef(({className:e,...t},r)=>s.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[s.jsx(Ls,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),s.jsx(qn.Input,{ref:r,className:le("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...t})]}));bm.displayName=qn.Input.displayName;const yu=f.forwardRef(({className:e,...t},r)=>s.jsx(qn.List,{ref:r,className:le("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...t}));yu.displayName=qn.List.displayName;const q0=f.forwardRef((e,t)=>s.jsx(qn.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));q0.displayName=qn.Empty.displayName;const wu=f.forwardRef(({className:e,...t},r)=>s.jsx(qn.Group,{ref:r,className:le("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...t}));wu.displayName=qn.Group.displayName;const hY=f.forwardRef(({className:e,...t},r)=>s.jsx(qn.Separator,{ref:r,className:le("-mx-1 h-px bg-border",e),...t}));hY.displayName=qn.Separator.displayName;const Ts=f.forwardRef(({className:e,...t},r)=>s.jsx(qn.Item,{ref:r,className:le("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50",e),...t}));Ts.displayName=qn.Item.displayName;const mY=LG({title:NS().min(1,"Título é obrigatório"),artist:NS().min(1,"Artista é obrigatório")}),pY=()=>{var ir;const{user:e}=ar(),t=Or(),r=ll(),n=dG({resolver:BG(mY),defaultValues:{title:"",artist:""}}),a=async(F,ae)=>{try{const{jsPDF:ye}=await Sl(async()=>{const{jsPDF:ut}=await import("./jspdf.es.min-BYY0DKtV.js").then(xt=>xt.j);return{jsPDF:ut}},[]),Pe=new ye("p","mm","a4"),nt=Pe.internal.pageSize.getWidth(),st=Pe.internal.pageSize.getHeight(),$e=20,wr=nt-2*$e,Cr=18,Re=16,ke=15;let qe=$e,Ye=1;F.forEach((ut,xt)=>{qe+ke>st-$e&&(Pe.addPage(),qe=$e,Ye++),Pe.setFontSize(Re),Pe.setFont("helvetica","bold");const yt=`${xt+1}.`,ie=Pe.getTextWidth(yt);Pe.text(yt,$e,qe),Pe.setFontSize(Cr),Pe.setFont("helvetica","bold");const He=ut.title.toUpperCase(),ze=$e+ie+10,pt=wr-ie-10,ot=Pe.splitTextToSize(He,pt);Pe.text(ot,ze,qe);const Nt=Array.isArray(ot)?ot.length*(Cr*.353):Cr*.353;qe+=Math.max(ke,Nt+5)}),Pe.save(ae),oe({title:"PDF gerado com sucesso!",description:`Repertório salvo como ${ae}`})}catch(ye){console.error("Erro ao gerar PDF:",ye),oe({title:"Erro ao gerar PDF",description:"Não foi possível gerar o PDF. Tente novamente.",variant:"destructive"})}},{data:i,refetch:o}=Ze({queryKey:["my-songs",e==null?void 0:e.id],enabled:!!(e!=null&&e.id),queryFn:async()=>{const{data:F,error:ae}=await $.from("songs").select("*").eq("owner_id",e.id).order("sort_index",{ascending:!0,nullsFirst:!1}).order("created_at",{ascending:!0});if(ae)throw ae;return F||[]}}),[l,c]=f.useState(!0);f.useEffect(()=>{const F=(i||[])[0];F&&typeof F.is_public=="boolean"?c(!0):i&&i.length>0&&c(!1)},[i]);const{data:d}=Ze({queryKey:["genres"],queryFn:async()=>{const{data:F,error:ae}=await $.from("genres").select("id, name");if(ae)throw ae;return F||[]}}),{data:u,refetch:h}=Ze({queryKey:["genre-visibility",e==null?void 0:e.id],enabled:!!(e!=null&&e.id),queryFn:async()=>{const{data:F,error:ae}=await $.from("genre_visibility").select("genre_id, is_public").eq("musician_id",e.id);if(ae)throw ae;return F||[]}}),m=f.useMemo(()=>{const F=new Map;return(u||[]).forEach(ae=>F.set(ae.genre_id,ae.is_public)),F},[u]),p=async(F,ae)=>{if(e)try{const{error:ye}=await $.from("genre_visibility").upsert({musician_id:e.id,genre_id:F,is_public:!ae},{onConflict:"musician_id,genre_id"});if(ye)throw ye;if(l){const{error:Pe}=await $.from("songs").update({is_public:!ae}).eq("owner_id",e.id).eq("genre_id",F);if(Pe)throw Pe}oe({title:ae?"Gênero ocultado":"Gênero tornado visível"}),await Promise.all([h(),o()])}catch(ye){oe({title:"Erro ao alterar visibilidade do gênero",description:ye.message,variant:"destructive"})}},{data:w,refetch:v}=Ze({queryKey:["my-songs-likes",e==null?void 0:e.id,(i||[]).length],enabled:!!(e!=null&&e.id)&&!!(i!=null&&i.length),queryFn:async()=>{const F=(i||[]).map(nt=>nt.id),{data:ae,error:ye}=await $.from("song_likes").select("song_id").in("song_id",F);if(ye)throw ye;const Pe={};return(ae||[]).forEach(nt=>{Pe[nt.song_id]=(Pe[nt.song_id]||0)+1}),Pe}}),g=async(F,ae)=>{try{if(!l)return;const{error:ye}=await $.from("songs").update({is_public:!ae}).eq("id",F);if(ye)throw ye;oe({title:ae?"Música ocultada":"Música exibida",description:"Atualização de visibilidade aplicada."}),await o()}catch(ye){oe({title:"Erro ao alterar visibilidade",description:ye.message,variant:"destructive"})}},{data:y,refetch:x}=Ze({queryKey:["my-songs-requests",e==null?void 0:e.id,(i||[]).length],enabled:!!(e!=null&&e.id)&&!!(i!=null&&i.length),queryFn:async()=>{const F=(i||[]).map(nt=>nt.id),{data:ae,error:ye}=await $.from("requests").select("song_id").in("song_id",F);if(ye)throw ye;const Pe={};return(ae||[]).forEach(nt=>{Pe[nt.song_id]=(Pe[nt.song_id]||0)+1}),Pe}}),[b,_]=f.useState(""),[N,P]=f.useState(""),[S,T]=f.useState(!1),[U,q]=f.useState([]),re=f.useRef(null),[G,H]=f.useState(null),[V,se]=f.useState(null),[ee,J]=f.useState(!1),I=()=>{var ae;if(!i||i.length===0)return;const F=i.filter(ye=>{if(l)return ye.is_public!==!1;const Pe=ye.genre_id;return m.get(Pe)!==!1});if(F.length===0){oe({title:"Nenhuma música visível",description:"Não há músicas visíveis para gerar o PDF.",variant:"destructive"});return}a(F,`repertorio-${((ae=e==null?void 0:e.email)==null?void 0:ae.split("@")[0])||"musico"}.pdf`)},[D,C]=f.useState(""),[E,A]=f.useState("todos"),[Y,k]=f.useState(1),z=30,[ne,Q]=f.useState(!1),[R,L]=f.useState(!1),[Z,ue]=f.useState([]),[_e,me]=f.useState(null),[xe,Ge]=f.useState("all");f.useEffect(()=>{if(!(e!=null&&e.id)||!(i!=null&&i.length))return;const F=i.map(ye=>ye.id),ae=$.channel(`catalog-likes-${e.id}`).on("postgres_changes",{event:"*",schema:"public",table:"song_likes"},ye=>{var st,$e;console.log("❤️ [Catalog] Likes realtime update received:",ye),console.log("❤️ [Catalog] Event type:",ye.eventType),console.log("❤️ [Catalog] New record:",ye.new),console.log("❤️ [Catalog] Old record:",ye.old);const Pe=((st=ye.new)==null?void 0:st.song_id)||(($e=ye.old)==null?void 0:$e.song_id);Pe&&F.includes(Pe)?(console.log("❤️ [Catalog] Relevant like update - refetching data"),v()):console.log("❤️ [Catalog] Like update not relevant for this musician")}).subscribe(ye=>{console.log("Likes realtime subscription status:",ye)});return()=>{console.log("Removing likes realtime channel"),$.removeChannel(ae)}},[e==null?void 0:e.id,i,v]),f.useEffect(()=>{if(!(e!=null&&e.id)||!(i!=null&&i.length))return;const F=i.map(ye=>ye.id),ae=$.channel(`catalog-requests-${e.id}`).on("postgres_changes",{event:"*",schema:"public",table:"requests"},ye=>{var st,$e;console.log("🎼 [Catalog] Requests realtime update received:",ye),console.log("🎼 [Catalog] Event type:",ye.eventType),console.log("🎼 [Catalog] New record:",ye.new),console.log("🎼 [Catalog] Old record:",ye.old);const Pe=((st=ye.new)==null?void 0:st.song_id)||(($e=ye.old)==null?void 0:$e.song_id);Pe&&F.includes(Pe)?(console.log("🎼 [Catalog] Relevant request update - refetching data"),x()):console.log("🎼 [Catalog] Request update not relevant for this musician")}).subscribe(ye=>{console.log("Requests realtime subscription status:",ye)});return()=>{console.log("Removing requests realtime channel"),$.removeChannel(ae)}},[e==null?void 0:e.id,i,x]);const _t=f.useMemo(()=>{const F=new Map;(i||[]).forEach(Pe=>{Pe.genre_id&&F.set(Pe.genre_id,(F.get(Pe.genre_id)||0)+1)});let ae=null,ye=0;return F.forEach((Pe,nt)=>{Pe>ye&&(ye=Pe,ae=nt)}),ae||""},[i]);f.useEffect(()=>{!D&&_t&&C(_t)},[_t,D]),f.useEffect(()=>{if(V&&d&&d.length){const F=d.find(ae=>ae.name.toLowerCase()===V.toLowerCase());F&&C(F.id)}},[V,d]),f.useEffect(()=>{k(1)},[E,N,xe]);const Ot=async F=>{if(!F||F.length<2){q([]);return}T(!0);try{const{data:ae,error:ye}=await $.functions.invoke("search-songs",{body:{q:F}});if(ye)throw ye;q((ae==null?void 0:ae.results)||[])}catch(ae){console.error("Erro buscando catálogo:",ae),q([])}finally{T(!1)}};f.useEffect(()=>{const F=ae=>{re.current&&(re.current.contains(ae.target)||q([]))};return document.addEventListener("mousedown",F),()=>document.removeEventListener("mousedown",F)},[]),f.useEffect(()=>{i&&ue(F=>{const ae=i.map(st=>st.id);if(!F.length)return ae;const ye=new Set(ae),Pe=F.filter(st=>ye.has(st)),nt=ae.filter(st=>!Pe.includes(st));return[...Pe,...nt]})},[i]);const Ct=F=>{let ae=[...F||[]];if(l&&(xe==="visible"?ae=ae.filter(ye=>((ye==null?void 0:ye.is_public)??!0)===!0):xe==="hidden"&&(ae=ae.filter(ye=>((ye==null?void 0:ye.is_public)??!0)===!1))),xe==="likes")ae.sort((ye,Pe)=>((w==null?void 0:w[Pe.id])??0)-((w==null?void 0:w[ye.id])??0));else if(xe==="requests")ae.sort((ye,Pe)=>((y==null?void 0:y[Pe.id])??0)-((y==null?void 0:y[ye.id])??0));else if(Z.length>0){const ye=new Map(Z.map((Pe,nt)=>[Pe,nt]));ae.sort((Pe,nt)=>(ye.get(Pe.id)??Number.MAX_SAFE_INTEGER)-(ye.get(nt.id)??Number.MAX_SAFE_INTEGER))}return ae},$t=(F,ae)=>{me(ae),F.dataTransfer.effectAllowed="move",F.dataTransfer.setData("text/plain",ae)},B=async(F,ae)=>{F.preventDefault();const ye=_e||F.dataTransfer.getData("text/plain");if(!ye||ye===ae)return;const Pe=[...Z],nt=Pe.indexOf(ye),st=Pe.indexOf(ae);if(!(nt===-1||st===-1)&&(Pe.splice(nt,1),Pe.splice(st,0,ye),ue(Pe),me(null),!!e))try{await Promise.all(Pe.map(($e,wr)=>$.from("songs").update({sort_index:wr+1}).eq("id",$e).eq("owner_id",e.id))),oe({title:"Ordem salva"})}catch($e){console.error("Erro ao salvar ordem:",$e),oe({title:"Erro ao salvar ordem",description:($e==null?void 0:$e.message)||"Tente novamente."})}},te=F=>{n.setValue("title",F.title||""),n.setValue("artist",F.artist||""),H(F.cover_url||null),se(F.genre_name||null),q([]),_(`${F.title} — ${F.artist}`)},ce=async F=>{if(!e)return;const ae=$e=>$e.trim().toLowerCase().replace(/\s+/g," ");if((i||[]).some($e=>ae($e.title)===ae(F.title)&&ae($e.artist||"")===ae(F.artist||""))){oe({title:"Música já cadastrada",description:"Essa música já está no seu catálogo."});return}let Pe=D||null;if(!Pe&&V){const{data:$e,error:wr}=await $.from("genres").select("id, name").ilike("name",V).limit(1);!wr&&$e&&$e.length>0&&(Pe=$e[0].id)}const nt={title:F.title.trim(),artist:F.artist.trim(),owner_id:e.id,cover_url:G,genre_id:Pe};l&&(nt.is_public=!0);const{error:st}=await $.from("songs").insert(nt);if(st){oe({title:"Erro ao cadastrar música",description:st.message});return}oe({title:"Música adicionada ao catálogo"}),n.reset(),H(null),se(null),_(""),o()},be=async F=>{if(!e||!window.confirm("Tem certeza que deseja excluir esta música?"))return;const{error:ye}=await $.from("songs").delete().eq("id",F);if(ye){oe({title:"Erro ao excluir música",description:ye.message});return}oe({title:"Música excluída"}),o()},we=Object.fromEntries((d||[]).map(F=>[F.id,F.name])),pe=(i||[]).filter(F=>{const ae=N.toLowerCase().trim();return ae?F.title.toLowerCase().includes(ae)||(F.artist||"").toLowerCase().includes(ae):!0}),Se=Array.from(new Set(pe.map(F=>F.genre_id).filter(Boolean))),Ue=pe.some(F=>!F.genre_id),fe=Se.map(F=>({value:F,label:we[F]||"Sem gênero"}));Ue&&fe.push({value:"sem",label:"Sem gênero"});const We=r?1:6,vt=fe.slice(0,We),et=fe.slice(We),kt=et.some(F=>F.value===E),qt=kt&&((ir=et.find(F=>F.value===E))==null?void 0:ir.label)||"Mais...";return s.jsxs(s.Fragment,{children:[ee&&s.jsxs("div",{className:"fixed inset-0 z-50 flex items-start justify-center pt-16 px-4",onClick:()=>J(!1),children:[s.jsx("div",{className:"absolute inset-0 bg-black/50","aria-hidden":"true"}),s.jsxs("div",{className:"relative w-full max-w-sm bg-background border rounded-lg shadow-lg p-4",onClick:F=>F.stopPropagation(),children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h3",{className:"text-sm font-medium",children:"Pesquisar músicas"}),s.jsx(O,{variant:"ghost",size:"sm",onClick:()=>J(!1),children:s.jsx(Mr,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground",children:s.jsx(Ls,{className:"h-4 w-4"})}),s.jsx(Oe,{placeholder:"Pesquisar no seu catálogo...",value:N,onChange:F=>P(F.target.value),className:"pl-10 pr-10",autoFocus:!0}),N&&s.jsx("div",{className:"absolute right-2 top-1/2 transform -translate-y-1/2",children:s.jsx(O,{type:"button",variant:"ghost",size:"sm",className:"h-6 w-6 p-0 hover:bg-muted",onClick:()=>P(""),children:s.jsx(Mr,{className:"h-3 w-3"})})})]})]})]}),s.jsxs("section",{className:"max-w-5xl mx-auto px-4 overflow-x-hidden",children:[s.jsx(Xt,{title:"Catálogo do Músico",description:"Adicione músicas e gerencie seu catálogo."}),e?s.jsxs(tt,{className:"border-0 shadow-none",children:[s.jsx(Qt,{className:"p-0 m-0",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(cr,{children:"Catálogo"}),s.jsx("div",{className:"flex items-center gap-2",children:r?s.jsxs(Ur,{open:R,onOpenChange:L,children:[s.jsx(C7,{asChild:!0,children:s.jsx(O,{children:s.jsx(Nc,{className:"h-4 w-4"})})}),s.jsxs(Pr,{className:"sm:max-w-[425px]",children:[s.jsx(Tr,{children:s.jsx(Rr,{children:"Adicionar Música"})}),s.jsx("div",{className:"py-4",children:s.jsx(oS,{...n,children:s.jsxs("form",{onSubmit:n.handleSubmit(ce),className:"space-y-4",children:[s.jsxs(Ma,{children:[s.jsx(Aa,{children:"Buscar música"}),s.jsx(Oa,{children:s.jsxs("div",{className:"relative",ref:re,children:[s.jsxs("div",{className:"relative w-full",children:[s.jsx("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:s.jsx(Ls,{className:"h-4 w-4"})}),s.jsx(Oe,{placeholder:"Digite título ou artista (ex.: Meu Erro)",value:b,onChange:F=>{const ae=F.target.value;_(ae),Ot(ae)},onKeyDown:F=>{F.key==="Escape"&&q([])},className:"pl-10 pr-10"}),b&&s.jsx("div",{className:"absolute right-2 top-1/2 transform -translate-y-1/2",children:s.jsx(O,{type:"button",variant:"ghost",size:"sm",className:"h-6 w-6 p-0 hover:bg-muted",onClick:()=>{_(""),q([])},children:s.jsx(Mr,{className:"h-3 w-3"})})})]}),U.length>0&&s.jsx("div",{className:"absolute z-10 mt-1 w-full rounded-md border bg-popover text-popover-foreground shadow",children:s.jsx("ul",{className:"max-h-64 overflow-auto",children:U.map((F,ae)=>s.jsx("li",{className:"px-3 py-2 hover:bg-accent cursor-pointer",onClick:()=>te(F),children:s.jsxs("div",{className:"flex items-center gap-3",children:[F.cover_url&&s.jsx("img",{src:F.cover_url,alt:`Capa de ${F.title} - ${F.artist}`,className:"h-10 w-10 rounded object-cover",loading:"lazy"}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("p",{className:"text-sm font-medium truncate",children:F.title}),s.jsxs("p",{className:"text-xs text-muted-foreground truncate",children:[F.artist,F.genre_name?` • ${F.genre_name}`:""]})]})]})},`${F.title}-${F.artist}-${ae}`))})})]})}),s.jsx(Da,{})]}),s.jsx(Gh,{control:n.control,name:"title",render:({field:F})=>s.jsxs(Ma,{children:[s.jsx(Aa,{children:"Título"}),s.jsx(Oa,{children:s.jsx(Oe,{placeholder:"Ex.: Meu erro",...F})}),s.jsx(Da,{})]})}),s.jsx(Gh,{control:n.control,name:"artist",render:({field:F})=>s.jsxs(Ma,{children:[s.jsx(Aa,{children:"Artista"}),s.jsx(Oa,{children:s.jsx(Oe,{placeholder:"Ex.: Paralamas do sucesso",...F})}),s.jsx(Da,{})]})}),s.jsxs(Ma,{children:[s.jsx(Aa,{children:"Gênero"}),s.jsxs(jn,{children:[s.jsx(_n,{asChild:!0,children:s.jsx(Oa,{children:s.jsxs(O,{variant:"outline",role:"combobox",className:"w-full justify-between","aria-label":"Selecionar gênero",children:[D?we[D]||"Sem gênero":_t?`Sugerido: ${we[_t]||""}`:"Selecione um gênero",s.jsx(ex,{className:"ml-2 h-4 w-4 opacity-50"})]})})}),s.jsx(un,{className:"w-[--radix-popover-trigger-width] p-0 z-50",children:s.jsxs(xu,{children:[s.jsx(bm,{placeholder:"Filtrar gêneros..."}),s.jsxs(yu,{children:[s.jsx(q0,{children:"Nenhum gênero encontrado."}),s.jsxs(wu,{children:[s.jsxs(Ts,{value:"none",onSelect:()=>{C(""),k(1)},children:[s.jsx(ds,{className:le("mr-2 h-4 w-4",D===""?"opacity-100":"opacity-0")}),"Sem gênero"]},"none"),(d||[]).map(F=>s.jsxs(Ts,{value:F.name,onSelect:()=>{C(F.id),k(1)},children:[s.jsx(ds,{className:le("mr-2 h-4 w-4",D===F.id?"opacity-100":"opacity-0")}),F.name]},F.id))]})]})]})})]}),s.jsx(Da,{})]}),(G||V)&&s.jsxs("div",{className:"flex items-center gap-3",children:[G?s.jsx("img",{src:G,alt:"Prévia da capa",className:"h-14 w-14 rounded object-cover border",loading:"lazy"}):s.jsx("div",{className:"h-14 w-14 rounded border bg-muted/30 flex items-center justify-center",children:s.jsx(nr,{className:"h-5 w-5 text-muted-foreground"})}),V&&s.jsx("span",{className:"text-xs px-2 py-1 rounded-full border bg-secondary/30",children:V})]}),s.jsxs("div",{className:"flex gap-2 pt-4",children:[s.jsx(O,{type:"button",variant:"outline",onClick:()=>L(!1),className:"flex-1",children:"Fechar"}),s.jsx(O,{type:"submit",className:"flex-1",children:"Adicionar"})]})]})})})]})]}):s.jsxs(s.Fragment,{children:[!ne&&s.jsxs(O,{onClick:()=>Q(!0),children:[s.jsx(Nc,{className:"h-4 w-4"}),s.jsx("span",{className:"ml-2",children:"Adicionar músicas"})]}),ne&&s.jsxs(O,{variant:"ghost",size:"sm",onClick:()=>Q(!1),"aria-label":"Minimizar formulário",title:"Minimizar formulário",children:[s.jsx(T2,{className:"h-4 w-4"}),s.jsx("span",{className:"ml-2",children:"Minimizar"})]})]})})]})}),s.jsx(rt,{className:"p-0 m-0",children:s.jsxs("div",{className:"flex flex-col gap-4",children:[(!i||i.length===0)&&!ne&&s.jsxs("div",{className:"rounded-md border p-3 bg-muted/30",children:[s.jsx("h3",{className:"font-medium text-gray-500",children:"Você ainda não adicionou músicas"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:'Clique no botão "Adicionar músicas" no topo e pesquise pelo título ou artista para incluir no seu catálogo.'})]}),s.jsx("div",{className:ne?"":"hidden",children:s.jsx(oS,{...n,children:s.jsx("form",{onSubmit:n.handleSubmit(ce),children:s.jsxs("div",{className:"grid md:grid-cols-[360px,1fr] gap-4 items-start",children:[s.jsxs("div",{className:"hidden md:block",children:[s.jsx("div",{className:"rounded-md border overflow-hidden bg-muted/30 aspect-square",children:G?s.jsx("img",{src:G,alt:"Prévia da capa",className:"w-full h-full object-cover",loading:"lazy"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center",children:s.jsx("div",{className:"flex flex-col items-center justify-center text-muted-foreground",children:s.jsx(nr,{className:"h-10 w-10 opacity-70"})})})}),V&&s.jsx("div",{className:"mt-2 text-xs px-2 py-1 inline-block rounded-full border bg-secondary/30",children:V})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Ma,{children:[s.jsx(Aa,{children:"Buscar música"}),s.jsx(Oa,{children:s.jsxs("div",{className:"relative",ref:re,children:[s.jsxs("div",{className:"relative w-full",children:[s.jsx("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:s.jsx(Ls,{className:"h-4 w-4"})}),s.jsx(Oe,{placeholder:"Digite título ou artista (ex.: Meu Erro)",value:b,onChange:F=>{const ae=F.target.value;_(ae),Ot(ae)},onKeyDown:F=>{F.key==="Escape"&&q([])},className:"pl-10 pr-10"}),b&&s.jsx("div",{className:"absolute right-2 top-1/2 transform -translate-y-1/2",children:s.jsx(O,{type:"button",variant:"ghost",size:"sm",className:"h-6 w-6 p-0 hover:bg-muted",onClick:()=>{_(""),q([])},children:s.jsx(Mr,{className:"h-3 w-3"})})})]}),U.length>0&&s.jsx("div",{className:"absolute z-10 mt-1 w-full rounded-md border bg-popover text-popover-foreground shadow",children:s.jsx("ul",{className:"max-h-64 overflow-auto",children:U.map((F,ae)=>s.jsx("li",{className:"px-3 py-2 hover:bg-accent cursor-pointer",onClick:()=>te(F),children:s.jsxs("div",{className:"flex items-center gap-3",children:[F.cover_url&&s.jsx("img",{src:F.cover_url,alt:`Capa de ${F.title} - ${F.artist}`,className:"h-10 w-10 rounded object-cover",loading:"lazy"}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("p",{className:"text-sm font-medium truncate",children:F.title}),s.jsxs("p",{className:"text-xs text-muted-foreground truncate",children:[F.artist,F.genre_name?` • ${F.genre_name}`:""]})]})]})},`${F.title}-${F.artist}-${ae}`))})})]})}),s.jsx(Da,{})]}),s.jsx(Gh,{control:n.control,name:"title",render:({field:F})=>s.jsxs(Ma,{children:[s.jsx(Aa,{children:"Título"}),s.jsx(Oa,{children:s.jsx(Oe,{placeholder:"Ex.: Meu erro",...F})}),s.jsx(Da,{})]})}),s.jsx(Gh,{control:n.control,name:"artist",render:({field:F})=>s.jsxs(Ma,{children:[s.jsx(Aa,{children:"Artista"}),s.jsx(Oa,{children:s.jsx(Oe,{placeholder:"Ex.: Paralamas do sucesso",...F})}),s.jsx(Da,{})]})}),s.jsxs(Ma,{children:[s.jsx(Aa,{children:"Gênero"}),s.jsxs(jn,{children:[s.jsx(_n,{asChild:!0,children:s.jsx(Oa,{children:s.jsxs(O,{variant:"outline",role:"combobox",className:"w-full justify-between","aria-label":"Selecionar gênero",children:[D?we[D]||"Sem gênero":_t?`Sugerido: ${we[_t]||""}`:"Selecione um gênero",s.jsx(ex,{className:"ml-2 h-4 w-4 opacity-50"})]})})}),s.jsx(un,{className:"w-[--radix-popover-trigger-width] p-0 z-50",children:s.jsxs(xu,{children:[s.jsx(bm,{placeholder:"Filtrar gêneros..."}),s.jsxs(yu,{children:[s.jsx(q0,{children:"Nenhum gênero encontrado."}),s.jsxs(wu,{children:[s.jsxs(Ts,{value:"none",onSelect:()=>{C(""),k(1)},children:[s.jsx(ds,{className:le("mr-2 h-4 w-4",D===""?"opacity-100":"opacity-0")}),"Sem gênero"]},"none"),(d||[]).map(F=>s.jsxs(Ts,{value:F.name,onSelect:()=>{C(F.id),k(1)},children:[s.jsx(ds,{className:le("mr-2 h-4 w-4",D===F.id?"opacity-100":"opacity-0")}),F.name]},F.id))]})]})]})})]}),s.jsx(Da,{})]}),(G||V)&&s.jsxs("div",{className:"flex items-center gap-2 md:hidden",children:[G?s.jsx("img",{src:G,alt:"Prévia da capa",className:"h-14 w-14 rounded object-cover border",loading:"lazy"}):s.jsx("div",{className:"h-14 w-14 rounded border bg-muted/30 flex items-center justify-center",children:s.jsx(nr,{className:"h-5 w-5 text-muted-foreground"})}),V&&s.jsx("span",{className:"text-xs px-2 py-1 rounded-full border bg-secondary/30",children:V})]}),s.jsx(O,{type:"submit",children:"Salvar"})]})]})})})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Suas músicas:"}),s.jsx("div",{className:"mb-2",children:s.jsxs("div",{className:"flex gap-2",children:[r?s.jsx(O,{variant:"outline",size:"sm",onClick:()=>J(!0),className:"flex-shrink-0",children:s.jsx(Ls,{className:"h-4 w-4"})}):s.jsxs("div",{className:"relative flex-1",children:[s.jsx("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:s.jsx(Ls,{className:"h-4 w-4"})}),s.jsx(Oe,{placeholder:"Pesquisar no seu catálogo...",value:N,onChange:F=>P(F.target.value),className:"pl-10 pr-10"}),N&&s.jsx("div",{className:"absolute right-2 top-1/2 transform -translate-y-1/2",children:s.jsx(O,{type:"button",variant:"ghost",size:"sm",className:"h-6 w-6 p-0 hover:bg-muted",onClick:()=>P(""),children:s.jsx(Mr,{className:"h-3 w-3"})})})]}),s.jsx(gY,{userId:e==null?void 0:e.id,onAfterChange:()=>o(),isMobile:r}),s.jsxs(O,{variant:"outline",size:"sm",onClick:I,disabled:!i||i.length===0,title:"Gerar repertório de palco em PDF",children:[s.jsx(gc,{className:"h-4 w-4"}),!r&&s.jsx("span",{className:"ml-2",children:"Repertório PDF"})]}),r?s.jsxs(jn,{children:[s.jsx(_n,{asChild:!0,children:s.jsx(O,{variant:"outline",size:"sm",children:s.jsx(ex,{className:"h-4 w-4"})})}),s.jsx(un,{align:"end",className:"w-48",children:s.jsxs(xu,{children:[s.jsx(bm,{placeholder:"Ordenar por..."}),s.jsx(yu,{children:s.jsxs(wu,{children:[s.jsxs(Ts,{onSelect:()=>Ge("all"),children:[s.jsx(ds,{className:le("mr-2 h-4 w-4",xe==="all"?"opacity-100":"opacity-0")}),"Todas (ordem manual)"]}),s.jsxs(Ts,{onSelect:()=>Ge("likes"),children:[s.jsx(ds,{className:le("mr-2 h-4 w-4",xe==="likes"?"opacity-100":"opacity-0")}),"Mais curtidas"]}),s.jsxs(Ts,{onSelect:()=>Ge("requests"),children:[s.jsx(ds,{className:le("mr-2 h-4 w-4",xe==="requests"?"opacity-100":"opacity-0")}),"Mais solicitadas"]}),l?s.jsxs(s.Fragment,{children:[s.jsxs(Ts,{onSelect:()=>Ge("visible"),children:[s.jsx(ds,{className:le("mr-2 h-4 w-4",xe==="visible"?"opacity-100":"opacity-0")}),"Visíveis"]}),s.jsxs(Ts,{onSelect:()=>Ge("hidden"),children:[s.jsx(ds,{className:le("mr-2 h-4 w-4",xe==="hidden"?"opacity-100":"opacity-0")}),"Ocultas"]})]}):null]})})]})})]}):s.jsxs(pl,{value:xe,onValueChange:F=>Ge(F),children:[s.jsx(lo,{className:"w-48",children:s.jsx(gl,{placeholder:"Ordenar por"})}),s.jsxs(co,{children:[s.jsx(Gr,{value:"all",children:"Todas (ordem manual)"}),s.jsx(Gr,{value:"likes",children:"Mais curtidas"}),s.jsx(Gr,{value:"requests",children:"Mais solicitadas"}),l?s.jsxs(s.Fragment,{children:[s.jsx(Gr,{value:"visible",children:"Visíveis"}),s.jsx(Gr,{value:"hidden",children:"Ocultas"})]}):null]})]})]})}),xe==="all"&&s.jsx("p",{className:"text-xs text-muted-foreground mb-2 text-gray-700",children:"Dica: arraste para reordenar os itens."}),pe.length?s.jsxs(Cd,{value:E,onValueChange:F=>A(F),className:"w-full",children:[s.jsxs(oo,{className:"flex flex-wrap gap-1",children:[s.jsxs(zr,{value:"todos",children:["Todas (",pe.length,")"]}),vt.map(F=>s.jsx(zr,{value:F.value,children:F.label},F.value)),et.length>0&&s.jsxs(jn,{children:[s.jsx(_n,{asChild:!0,children:s.jsx(O,{variant:"ghost",size:"sm",className:le("px-3 py-1.5 text-sm font-medium rounded-sm",kt?"bg-background text-foreground shadow-sm":""),"aria-label":"Mais gêneros",children:qt})}),s.jsx(un,{align:"start",className:"z-50 bg-popover text-popover-foreground border p-1",children:s.jsx(xu,{children:s.jsx(yu,{children:s.jsx(wu,{children:et.map(F=>s.jsx(Ts,{onSelect:()=>A(F.value),children:F.label},F.value))})})})})]})]}),s.jsxs(Yr,{value:"todos",children:[s.jsx("ul",{className:"space-y-1.5",children:Ct(pe).slice(0,Y*z).map(F=>s.jsxs("li",{className:"border rounded-md p-2 flex items-start justify-between gap-2",draggable:xe==="all",onDragStart:xe==="all"?ae=>$t(ae,F.id):void 0,onDragOver:xe==="all"?ae=>ae.preventDefault():void 0,onDrop:xe==="all"?ae=>B(ae,F.id):void 0,onDragEnd:xe==="all"?()=>me(null):void 0,children:[s.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-1",children:[s.jsx(rx,{className:`h-4 w-4 ${xe==="all"?"text-muted-foreground cursor-grab":"text-muted-foreground/30 cursor-not-allowed"}`,"aria-hidden":"true"}),s.jsx("img",{src:F.cover_url||"/placeholder.svg",alt:`Capa de ${F.title}${F.artist?` — ${F.artist}`:""}`,className:"h-10 w-10 rounded object-cover border flex-shrink-0",loading:"lazy"}),s.jsxs("div",{className:"hidden md:flex md:flex-1 md:gap-4 md:min-w-0",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"text-xs text-muted-foreground uppercase tracking-wide mb-1",children:"Título"}),s.jsx("div",{className:"font-medium text-sm truncate",children:F.title})]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"text-xs text-muted-foreground uppercase tracking-wide mb-1",children:"Artista"}),s.jsx("div",{className:"text-sm truncate",children:F.artist||"—"})]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"text-xs text-muted-foreground uppercase tracking-wide mb-1",children:"Gênero"}),s.jsx("div",{className:"text-sm truncate",children:F.genre_id&&we[F.genre_id]||"Sem gênero"})]})]}),s.jsxs("div",{className:"md:hidden min-w-0 flex-1 max-w-[160px]",children:[s.jsx("p",{className:"font-medium text-sm truncate",title:F.title,children:F.title}),F.artist&&s.jsx("p",{className:"text-xs text-muted-foreground truncate",title:F.artist,children:F.artist})]})]}),s.jsxs("div",{className:"flex items-center gap-1.5",children:[!r&&s.jsxs(s.Fragment,{children:[s.jsxs("span",{className:"inline-flex items-center gap-1 text-xs text-muted-foreground",children:[s.jsx(cn,{className:"h-3 w-3"}),s.jsx("span",{children:(w==null?void 0:w[F.id])??0})]}),s.jsxs("span",{className:"inline-flex items-center gap-1 text-xs text-muted-foreground",children:[s.jsx(nr,{className:"h-3 w-3"}),s.jsx("span",{children:(y==null?void 0:y[F.id])??0})]})]}),(()=>{const ae=(F==null?void 0:F.is_public)??!0;return s.jsx(O,{variant:"ghost",size:"icon",onClick:()=>{if(!l){oe({title:"Visibilidade indisponível",description:"Atualize o banco para habilitar o controle de visibilidade (coluna is_public)."});return}g(F.id,ae)},"aria-label":ae?"Ocultar música":"Exibir música",title:ae?"Ocultar música na página pública":"Exibir música na página pública",children:ae?s.jsx($r,{className:"h-4 w-4"}):s.jsx(Zn,{className:"h-4 w-4"})})})(),s.jsxs(Zi,{children:[s.jsx(Ji,{asChild:!0,children:s.jsx(O,{variant:"ghost",size:"icon",children:s.jsx(Yi,{className:"h-4 w-4"})})}),s.jsxs(Ya,{align:"end",children:[r&&s.jsxs(s.Fragment,{children:[s.jsxs(ur,{children:[s.jsx(cn,{className:"h-4 w-4 mr-2"}),(w==null?void 0:w[F.id])??0," curtidas"]}),s.jsxs(ur,{children:[s.jsx(nr,{className:"h-4 w-4 mr-2"}),(y==null?void 0:y[F.id])??0," solicitações"]})]}),s.jsxs(ur,{onClick:()=>be(F.id),className:"text-destructive focus:text-destructive",children:[s.jsx(Yn,{className:"h-4 w-4 mr-2"}),"Excluir música"]})]})]})]})]},F.id))}),s.jsx("div",{className:"mt-3 flex justify-center",children:pe.length>Y*z?s.jsx(O,{variant:"outline",size:"sm",onClick:()=>k(F=>F+1),children:"Ver mais"}):s.jsxs("span",{className:"text-xs text-muted-foreground",children:["Exibindo ",Math.min(pe.length,Y*z)," de ",pe.length]})})]}),Se.map(F=>s.jsxs(Yr,{value:F,children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h4",{className:"text-sm font-medium",children:we[F]||"Sem gênero"}),!!we[F]&&(()=>{const ae=m.get(F),ye=typeof ae=="boolean"?ae:!0;return s.jsx(O,{variant:"ghost",size:"icon",onClick:()=>p(F,ye),"aria-label":ye?"Ocultar gênero":"Exibir gênero",title:ye?"Ocultar gênero na página pública":"Exibir gênero na página pública",children:ye?s.jsx($r,{className:"h-4 w-4"}):s.jsx(Zn,{className:"h-4 w-4"})})})()]}),s.jsx("ul",{className:"space-y-1.5",children:Ct(pe.filter(ae=>ae.genre_id===F)).slice(0,Y*z).map(ae=>s.jsxs("li",{className:"border rounded-md p-1.5 flex items-center justify-between",draggable:xe==="all",onDragStart:xe==="all"?ye=>$t(ye,ae.id):void 0,onDragOver:xe==="all"?ye=>ye.preventDefault():void 0,onDrop:xe==="all"?ye=>B(ye,ae.id):void 0,onDragEnd:xe==="all"?()=>me(null):void 0,children:[s.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-1",children:[s.jsx(rx,{className:`h-4 w-4 ${xe==="all"?"text-muted-foreground cursor-grab":"text-muted-foreground/30 cursor-not-allowed"}`,"aria-hidden":"true"}),ae.cover_url?s.jsx("img",{src:ae.cover_url,alt:`Capa de ${ae.title}${ae.artist?` — ${ae.artist}`:""}`,className:"h-10 w-10 rounded object-cover border flex-shrink-0",loading:"lazy"}):s.jsx("div",{className:"h-10 w-10 rounded border bg-muted/30 flex items-center justify-center flex-shrink-0",children:s.jsx(nr,{className:"h-4 w-4 text-muted-foreground"})}),s.jsxs("div",{className:"hidden md:grid md:grid-cols-3 md:gap-4 md:flex-1 md:min-w-0",children:[s.jsxs("div",{className:"min-w-0",children:[s.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wide mb-1",children:"Título"}),s.jsx("p",{className:"font-medium truncate",children:ae.title})]}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wide mb-1",children:"Artista"}),s.jsx("p",{className:"text-sm truncate",children:ae.artist||"—"})]}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wide mb-1",children:"Gênero"}),s.jsx("p",{className:"text-sm truncate",children:ae.genre_id&&we[ae.genre_id]||"Sem gênero"})]})]}),s.jsxs("div",{className:"md:hidden min-w-0 max-w-[120px]",children:[s.jsx("p",{className:"font-medium text-sm truncate",title:ae.title,children:ae.title}),ae.artist&&s.jsx("p",{className:"text-xs text-muted-foreground truncate",title:ae.artist,children:ae.artist})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[!r&&s.jsxs(s.Fragment,{children:[s.jsxs("span",{className:"inline-flex items-center gap-1 text-xs text-muted-foreground",children:[s.jsx(cn,{className:"h-3 w-3"}),s.jsx("span",{children:(w==null?void 0:w[ae.id])??0})]}),s.jsxs("span",{className:"inline-flex items-center gap-1 text-xs text-muted-foreground",children:[s.jsx(nr,{className:"h-3 w-3"}),s.jsx("span",{children:(y==null?void 0:y[ae.id])??0})]})]}),(()=>{const ye=(ae==null?void 0:ae.is_public)??!0;return s.jsx(O,{variant:"ghost",size:"icon",onClick:()=>{if(!l){oe({title:"Visibilidade indisponível",description:"Atualize o banco para habilitar o controle de visibilidade (coluna is_public)."});return}g(ae.id,ye)},"aria-label":ye?"Ocultar música":"Exibir música",title:ye?"Ocultar música na página pública":"Exibir música na página pública",children:ye?s.jsx($r,{className:"h-4 w-4"}):s.jsx(Zn,{className:"h-4 w-4"})})})(),s.jsxs(Zi,{children:[s.jsx(Ji,{asChild:!0,children:s.jsx(O,{variant:"ghost",size:"icon",children:s.jsx(Yi,{className:"h-4 w-4"})})}),s.jsxs(Ya,{align:"end",children:[r&&s.jsxs(s.Fragment,{children:[s.jsxs(ur,{children:[s.jsx(cn,{className:"h-4 w-4 mr-2"}),(w==null?void 0:w[ae.id])??0," curtidas"]}),s.jsxs(ur,{children:[s.jsx(nr,{className:"h-4 w-4 mr-2"}),(y==null?void 0:y[ae.id])??0," solicitações"]})]}),s.jsxs(ur,{onClick:()=>be(ae.id),className:"text-destructive focus:text-destructive",children:[s.jsx(Yn,{className:"h-4 w-4 mr-2"}),"Excluir música"]})]})]})]})]},ae.id))}),s.jsx("div",{className:"mt-3 flex justify-center",children:pe.filter(ae=>ae.genre_id===F).length>Y*z?s.jsx(O,{variant:"outline",size:"sm",onClick:()=>k(ae=>ae+1),children:"Ver mais"}):s.jsxs("span",{className:"text-xs text-muted-foreground",children:["Exibindo ",Math.min(pe.filter(ae=>ae.genre_id===F).length,Y*z)," ","de ",pe.filter(ae=>ae.genre_id===F).length]})})]},F)),Ue&&s.jsxs(Yr,{value:"sem",children:[s.jsx("ul",{className:"space-y-1.5",children:Ct(pe.filter(F=>!F.genre_id)).slice(0,Y*z).map(F=>s.jsxs("li",{className:"border rounded-md p-1.5 flex items-center justify-between",draggable:xe==="all",onDragStart:xe==="all"?ae=>$t(ae,F.id):void 0,onDragOver:xe==="all"?ae=>ae.preventDefault():void 0,onDrop:xe==="all"?ae=>B(ae,F.id):void 0,onDragEnd:xe==="all"?()=>me(null):void 0,children:[s.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-1",children:[s.jsx(rx,{className:`h-4 w-4 ${xe==="all"?"text-muted-foreground cursor-grab":"text-muted-foreground/30 cursor-not-allowed"}`,"aria-hidden":"true"}),F.cover_url?s.jsx("img",{src:F.cover_url,alt:`Capa de ${F.title}${F.artist?` — ${F.artist}`:""}`,className:"h-10 w-10 rounded object-cover border flex-shrink-0",loading:"lazy"}):s.jsx("div",{className:"h-10 w-10 rounded border bg-muted/30 flex items-center justify-center flex-shrink-0",children:s.jsx(nr,{className:"h-4 w-4 text-muted-foreground"})}),s.jsxs("div",{className:"hidden md:grid md:grid-cols-3 md:gap-4 md:flex-1 md:min-w-0",children:[s.jsxs("div",{className:"min-w-0",children:[s.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wide mb-1",children:"Título"}),s.jsx("p",{className:"font-medium truncate",children:F.title})]}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wide mb-1",children:"Artista"}),s.jsx("p",{className:"text-sm truncate",children:F.artist||"—"})]}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wide mb-1",children:"Gênero"}),s.jsx("p",{className:"text-sm truncate",children:F.genre_id&&we[F.genre_id]||"Sem gênero"})]})]}),s.jsxs("div",{className:"md:hidden min-w-0 max-w-[120px]",children:[s.jsx("p",{className:"font-medium text-sm truncate",title:F.title,children:F.title}),F.artist&&s.jsx("p",{className:"text-xs text-muted-foreground truncate",title:F.artist,children:F.artist})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[!r&&s.jsxs(s.Fragment,{children:[s.jsxs("span",{className:"inline-flex items-center gap-1 text-xs text-muted-foreground",children:[s.jsx(cn,{className:"h-3 w-3"}),s.jsx("span",{children:(w==null?void 0:w[F.id])??0})]}),s.jsxs("span",{className:"inline-flex items-center gap-1 text-xs text-muted-foreground",children:[s.jsx(nr,{className:"h-3 w-3"}),s.jsx("span",{children:(y==null?void 0:y[F.id])??0})]})]}),(()=>{const ae=(F==null?void 0:F.is_public)??!0;return s.jsx(O,{variant:"ghost",size:"icon",onClick:()=>{if(!l){oe({title:"Visibilidade indisponível",description:"Atualize o banco para habilitar o controle de visibilidade (coluna is_public)."});return}g(F.id,ae)},"aria-label":ae?"Ocultar música":"Exibir música",title:ae?"Ocultar música na página pública":"Exibir música na página pública",children:ae?s.jsx($r,{className:"h-4 w-4"}):s.jsx(Zn,{className:"h-4 w-4"})})})(),s.jsxs(Zi,{children:[s.jsx(Ji,{asChild:!0,children:s.jsx(O,{variant:"ghost",size:"icon",children:s.jsx(Yi,{className:"h-4 w-4"})})}),s.jsxs(Ya,{align:"end",children:[r&&s.jsxs(s.Fragment,{children:[s.jsxs(ur,{children:[s.jsx(cn,{className:"h-4 w-4 mr-2"}),(w==null?void 0:w[F.id])??0," curtidas"]}),s.jsxs(ur,{children:[s.jsx(nr,{className:"h-4 w-4 mr-2"}),(y==null?void 0:y[F.id])??0," solicitações"]})]}),s.jsxs(ur,{onClick:()=>be(F.id),className:"text-destructive focus:text-destructive",children:[s.jsx(Yn,{className:"h-4 w-4 mr-2"}),"Excluir música"]})]})]})]})]},F.id))}),s.jsx("div",{className:"mt-3 flex justify-center",children:pe.filter(F=>!F.genre_id).length>Y*z?s.jsx(O,{variant:"outline",size:"sm",onClick:()=>k(F=>F+1),children:"Ver mais"}):s.jsxs("span",{className:"text-xs text-muted-foreground",children:["Exibindo ",Math.min(pe.filter(F=>!F.genre_id).length,Y*z)," de"," ",pe.filter(F=>!F.genre_id).length]})})]})]}):s.jsx("p",{className:"text-sm text-muted-foreground",children:"Nenhuma música encontrada."})]})]})})]}):s.jsxs(tt,{className:"border-0 shadow-none",children:[s.jsx(Qt,{className:"p-0 m-0",children:s.jsx(cr,{children:"Entre para gerenciar seu catálogo"})}),s.jsx(rt,{className:"p-0 m-0",children:s.jsx(O,{onClick:()=>t("/auth"),children:"Entrar"})})]})]})]})},gY=({userId:e,onAfterChange:t,isMobile:r})=>{const n=os(),[a,i]=f.useState(!1),{data:o,refetch:l}=Ze({queryKey:["catalog-visibility",e],enabled:!!e,queryFn:async()=>{const{data:u,error:h}=await $.from("catalog_visibility").select("is_public").eq("musician_id",e).maybeSingle();if(h)throw h;return(u==null?void 0:u.is_public)??!0}}),c=async()=>{if(!e)return;const u=!(o??!0);try{i(!0);const{error:h}=await $.from("catalog_visibility").upsert({musician_id:e,is_public:u});if(h)throw h;const{error:m}=await $.from("songs").update({is_public:u}).eq("owner_id",e);if(m)throw m;n.setQueryData(["catalog-visibility",e],u),await l(),oe({title:u?"Catálogo visível":"Catálogo oculto"}),t==null||t()}catch(h){oe({title:"Erro ao atualizar catálogo",description:h.message,variant:"destructive"})}finally{i(!1)}},d=o??!0;return s.jsxs(O,{variant:"outline",size:"sm",onClick:c,disabled:a,"aria-label":d?"Ocultar catálogo":"Exibir catálogo",title:d?"Ocultar catálogo inteiro na página pública":"Exibir catálogo inteiro na página pública",children:[d?s.jsx($r,{className:"h-4 w-4"}):s.jsx(Zn,{className:"h-4 w-4"}),!r&&s.jsx("span",{className:"ml-2",children:d?"Catálogo visível":"Catálogo oculto"})]})},vY=()=>{const{user:e}=ar(),t=Or();f.useEffect(()=>{!(e!=null&&e.id)||!("geolocation"in navigator)||navigator.geolocation.getCurrentPosition(async N=>{const{latitude:P,longitude:S}=N.coords;try{await $.from("profiles").update({lat:P,lng:S}).eq("id",e.id)}catch{}},()=>{})},[e==null?void 0:e.id]);const[r,n]=f.useState(new Date),[a,i]=f.useState(null),o=new Date(r);o.setHours(0,0,0,0);const l=new Date(o);l.setDate(l.getDate()+1);const c=30,{data:d}=Ze({queryKey:["my-songs",e==null?void 0:e.id],enabled:!!(e!=null&&e.id),queryFn:async()=>{const{data:N,error:P}=await $.from("songs").select("id, title, artist, cover_url").eq("owner_id",e.id);if(P)throw P;return N||[]}}),{data:u,fetchNextPage:h,hasNextPage:m,isFetchingNextPage:p,refetch:w}=js({queryKey:["my-requests",e==null?void 0:e.id,o.toISOString()],enabled:!!e,initialPageParam:0,getNextPageParam:N=>N.nextCursor,queryFn:async({pageParam:N})=>{const P=Number(N)||0,S=P+c-1,{data:T,error:U}=await $.from("requests").select("id, created_at, requester_name, dedication, extra_description, amount, song_id, status").eq("musician_id",e.id).gte("created_at",o.toISOString()).lt("created_at",l.toISOString()).order("created_at",{ascending:!1}).range(P,S);if(U)throw U;const q=T||[];return{items:q,nextCursor:q.length===c?P+c:void 0}}}),v=f.useMemo(()=>(u==null?void 0:u.pages.flatMap(N=>N.items))??[],[u]),g=f.useMemo(()=>v.reduce((N,P)=>{const S=Number(P.amount??0);return N+(P.status==="approved"?S:0)},0),[v]);f.useEffect(()=>{if(!e)return;console.log("🎵 [Orders] Setting up Realtime for user:",e.id);const N=setInterval(()=>{console.log("🔄 [Orders] Polling for updates (fallback)"),w()},1e4),P=$.channel("requests-simple").on("postgres_changes",{event:"INSERT",schema:"public",table:"requests"},S=>{console.log("🎵 [Orders] NEW REQUEST INSERTED:",S);const T=S.new;T&&T.musician_id===e.id&&(console.log("🎵 [Orders] ✅ NEW REQUEST FOR THIS MUSICIAN - REFETCHING"),w())}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"requests"},S=>{console.log("🎵 [Orders] REQUEST UPDATED:",S);const T=S.new,U=S.old;(T&&T.musician_id===e.id||U&&U.musician_id===e.id)&&(console.log("🎵 [Orders] ✅ REQUEST UPDATE FOR THIS MUSICIAN - REFETCHING"),w())}).subscribe(S=>{console.log("🎵 [Orders] Realtime subscription status:",S),S==="SUBSCRIBED"?console.log("🎵 [Orders] ✅ Successfully subscribed to realtime"):S==="CHANNEL_ERROR"&&console.log("🎵 [Orders] ❌ Realtime subscription failed, relying on polling")});return()=>{console.log("🎵 [Orders] Cleaning up realtime and polling"),clearInterval(N),$.removeChannel(P)}},[e,w]);const y=N=>{const P=(d||[]).find(S=>S.id===N);return P?`${P.title}${P.artist?` — ${P.artist}`:""}`:N},x=N=>{const P=(d||[]).find(S=>S.id===N);return(P==null?void 0:P.cover_url)??null},b=N=>{switch(N){case"pending":return"pendente";case"approved":return"aprovado";case"rejected":return"rejeitado";default:return N}},_=async N=>{i(N);try{const{error:P}=await $.from("requests").update({status:"approved"}).eq("id",N);P?oe({title:"Erro ao atender",description:P.message,variant:"destructive"}):(oe({title:"Pedido atendido",description:"Você marcou o pedido como atendido."}),w())}catch{oe({title:"Erro ao atender",description:"Ocorreu um erro inesperado.",variant:"destructive"})}finally{i(null)}};return s.jsxs("section",{className:"w-full",children:[s.jsx(Xt,{title:"Pedidos do Músico",description:"Acompanhe pedidos em tempo real."}),e?s.jsxs(tt,{className:"border-0 shadow-none",children:[s.jsx(Qt,{children:s.jsx(cr,{children:"Pedidos de música"})}),s.jsxs(rt,{children:[s.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2 mb-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(jn,{children:[s.jsx(_n,{asChild:!0,children:s.jsxs(O,{variant:"outline",size:"sm",className:"justify-start gap-2",children:[s.jsx(bn,{className:"h-4 w-4"}),"Data: ",Ht(r,"dd/MM/yyyy")]})}),s.jsx(un,{className:"w-auto p-0",align:"start",children:s.jsx(vs,{mode:"single",selected:r,onSelect:N=>N&&n(N),initialFocus:!0,className:"p-3 pointer-events-auto"})})]}),s.jsx(O,{variant:"ghost",size:"sm",onClick:()=>n(new Date),children:"Limpar filtro"})]}),s.jsxs("div",{className:"w-full mt-2 text-sm text-muted-foreground",children:["Total do dia: R$ ",g.toFixed(2)]})]}),v.length?s.jsxs(s.Fragment,{children:[s.jsx("ul",{className:"divide-y",children:v.map(N=>s.jsxs("li",{className:"py-3",children:[s.jsx("p",{className:"font-semibold mb-2",children:y(N.song_id)}),s.jsxs("div",{className:"flex items-start gap-4",children:[x(N.song_id)?s.jsx("img",{src:x(N.song_id),alt:`Capa de ${y(N.song_id)}`,className:"h-12 w-12 rounded-md object-cover border",loading:"lazy"}):s.jsx("div",{className:"h-12 w-12 rounded-md bg-muted","aria-hidden":!0}),s.jsxs("div",{className:"flex-1",children:[N.requester_name&&s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Solicitante: ",N.requester_name]}),N.dedication&&s.jsxs("p",{className:"text-sm",children:["Dedicatória: ",N.dedication]}),N.extra_description&&s.jsxs("p",{className:"text-sm",children:["Descrição: ",N.extra_description]}),N.amount!==null&&N.amount!==void 0&&s.jsxs("p",{className:"text-sm",children:["Contribuição: R$ ",Number(N.amount).toFixed(2)]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Status: ",b(N.status)]}),N.status==="pending"&&Date.now()-new Date(N.created_at).getTime()<=4*60*60*1e3&&s.jsx("div",{className:"mt-3",children:s.jsxs(O,{variant:"success",size:"sm",onClick:()=>_(N.id),disabled:a===N.id,children:[a===N.id?s.jsx(eg,{className:"mr-2 h-4 w-4 animate-spin"}):s.jsx(Ww,{className:"mr-2 h-4 w-4"}),a===N.id?"Atendendo...":"Atender pedido"]})})]})]})]},N.id))}),m&&s.jsx("div",{className:"mt-4",children:s.jsx(O,{variant:"secondary",onClick:()=>h(),disabled:p,children:p?"Carregando...":"Ver mais"})})]}):s.jsx("p",{className:"text-sm text-muted-foreground",children:"Nenhum pedido recebido ainda."})]})]}):s.jsxs(tt,{className:"border-0 shadow-none",children:[s.jsx(Qt,{children:s.jsx(cr,{children:"Entre para ver seus pedidos"})}),s.jsx(rt,{children:s.jsx(O,{onClick:()=>t("/auth"),children:"Entrar"})})]})]})},mo=f.forwardRef(({className:e,...t},r)=>s.jsx("div",{className:"relative w-full overflow-auto",children:s.jsx("table",{ref:r,className:le("w-full caption-bottom text-sm",e),...t})}));mo.displayName="Table";const po=f.forwardRef(({className:e,...t},r)=>s.jsx("thead",{ref:r,className:le("[&_tr]:border-b",e),...t}));po.displayName="TableHeader";const go=f.forwardRef(({className:e,...t},r)=>s.jsx("tbody",{ref:r,className:le("[&_tr:last-child]:border-0",e),...t}));go.displayName="TableBody";const xY=f.forwardRef(({className:e,...t},r)=>s.jsx("tfoot",{ref:r,className:le("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));xY.displayName="TableFooter";const Qr=f.forwardRef(({className:e,...t},r)=>s.jsx("tr",{ref:r,className:le("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));Qr.displayName="TableRow";const ht=f.forwardRef(({className:e,...t},r)=>s.jsx("th",{ref:r,className:le("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));ht.displayName="TableHead";const lt=f.forwardRef(({className:e,...t},r)=>s.jsx("td",{ref:r,className:le("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));lt.displayName="TableCell";const yY=f.forwardRef(({className:e,...t},r)=>s.jsx("caption",{ref:r,className:le("mt-4 text-sm text-muted-foreground",e),...t}));yY.displayName="TableCaption";function pi(e){return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e||0)}function wY(){const{user:e,loading:t}=ar(),r=ll(),[n,a]=f.useState(void 0),[i,o]=f.useState(!1),[l,c]=f.useState(null),[d,u]=f.useState("normal"),[h,m]=f.useState(!1),[p,w]=f.useState(null),[v,g]=f.useState(!1),[y,x]=f.useState(null),b=os(),{toast:_}=Ys(),{data:N,isLoading:P}=Ze({queryKey:["musician-statement",e==null?void 0:e.id],enabled:!!(e!=null&&e.id),queryFn:async()=>{const{data:k,error:z}=await $.from("transactions").select("id, musician_amount, status, created_at").eq("musician_id",e.id).order("created_at",{ascending:!1});if(z)throw z;return(k||[]).map(ne=>({id:ne.id,amount:typeof ne.musician_amount=="string"?parseFloat(ne.musician_amount):ne.musician_amount||0,status:ne.status,created_at:ne.created_at}))}}),{data:S=[],isFetching:T}=Ze({queryKey:["batch-transactions",e==null?void 0:e.id,p==null?void 0:p.day],enabled:!!(e!=null&&e.id)&&!!(p!=null&&p.day),queryFn:async()=>{const{data:k,error:z}=await $.from("transactions").select("id, amount, musician_amount, status, created_at").eq("musician_id",e.id).gte("created_at",`${p.day}T00:00:00`).lte("created_at",`${p.day}T23:59:59.999`).order("created_at",{ascending:!1});if(z)throw z;return(k||[]).map(ne=>({id:ne.id,amount:Number(ne.amount)||0,musician_amount:Number(ne.musician_amount)||0,status:ne.status,created_at:ne.created_at}))}}),{data:U,fetchNextPage:q,hasNextPage:re,isFetchingNextPage:G,isFetching:H}=js({queryKey:["musician-batches",e==null?void 0:e.id],enabled:!!(e!=null&&e.id),queryFn:async({pageParam:k=0})=>{try{const{data:z,error:ne}=await $.from("transaction_batches").select("id, day, total_musician_amount, total_musician_payout, early_discount_amount, total_ava_payout, status, requested_at, is_early, early_discount_percent, payout_at").eq("musician_id",e.id).order("day",{ascending:!1}).range(k*10,k*10+9);if(ne)throw ne;return z||[]}catch(z){return _({title:"Erro ao carregar lotes",description:String((z==null?void 0:z.message)||z),variant:"destructive"}),[]}},getNextPageParam:(k,z)=>{if(!(k.length<10))return z.length},initialPageParam:0}),V=(U==null?void 0:U.pages.flat())||[],{data:se={percent:0,days:5},isFetching:ee,refetch:J}=Ze({queryKey:["early-info"],staleTime:0,queryFn:async()=>{const{data:k,error:z}=await $.rpc("current_early_withdrawal_info");if(z||!k)return{percent:0,days:5};const ne=Array.isArray(k)?k[0]:k;return{percent:Number((ne==null?void 0:ne.percent)||0),days:Number((ne==null?void 0:ne.days_to_normal)||5)}}}),{data:I={percent:0,days:5}}=Ze({queryKey:["platform-info"],queryFn:async()=>{const{data:k,error:z}=await $.rpc("current_platform_fee_info");return z||!k?{percent:0,days:5}:{percent:Number((k==null?void 0:k.percent)||0),days:Number((k==null?void 0:k.days_to_payout)||5)}}}),D=si({mutationFn:async k=>{const{error:z}=await $.rpc("request_batch_payout",{_batch_id:k.batchId,_force_early:k.isEarly});if(z)throw z},onSuccess:async()=>{await b.invalidateQueries({queryKey:["musician-batches"]}),_({title:"Solicitação enviada"})},onError:k=>_({title:"Erro ao solicitar saque",description:String((k==null?void 0:k.message)||k),variant:"destructive"})}),{totalReceived:C,totalRequested:E,totalPendingBatches:A,filtered:Y}=f.useMemo(()=>{const k=n!=null&&n.from?new Date(n.from):void 0,z=n!=null&&n.to?new Date(n.to):void 0;k&&k.setHours(0,0,0,0),z&&z.setHours(23,59,59,999);const ne=(N||[]).filter(Z=>{const ue=new Date(Z.created_at);return(!k||ue>=k)&&(!z||ue<=z)});let Q=0,R=0,L=0;return(V||[]).forEach(Z=>{const ue=Number(Z.total_musician_amount)||0,_e=Number(Z.total_musician_payout)||0;Z.status==="pending"?Q+=ue:Z.status==="requested"?R+=_e:Z.status==="paid"&&(L+=_e)}),{totalReceived:L,totalRequested:R,totalPendingBatches:Q,filtered:ne}},[N,n,V]);return t||P?s.jsxs("main",{className:"container mx-auto p-4",children:[s.jsx(Xt,{title:"Extrato do músico",description:"Veja o valor recebido e a receber com extrato diário",canonical:"/musician/extrato"}),s.jsx("h1",{className:"text-2xl font-semibold mb-4",children:"Seu extrato"}),s.jsx("p",{className:"text-muted-foreground",children:"Carregando extrato..."})]}):e?s.jsxs("main",{className:"container mx-auto p-4",children:[s.jsx(Xt,{title:"Extrato do músico | Recebimentos",description:"Extrato do músico: valor recebido e a receber, com extrato diário paginado.",canonical:"/musician/extrato"}),s.jsx("h1",{className:"text-2xl font-semibold mb-4",children:"Seu extrato"}),s.jsx("section",{className:"mb-6",children:s.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[s.jsxs("div",{className:"bg-green-50 dark:bg-green-950/20 border border-green-200 dark:border-green-800 rounded-lg p-3",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(tf,{className:"h-4 w-4 text-green-600 dark:text-green-400"}),s.jsx("span",{className:"text-xs text-green-600 dark:text-green-400 font-medium",children:"Recebido"})]}),s.jsx("p",{className:"text-base font-normal text-green-700 dark:text-green-300",children:pi(C||0)})]}),s.jsxs("div",{className:"bg-blue-50 dark:bg-blue-950/20 border border-blue-200 dark:border-blue-800 rounded-lg p-3",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(R2,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"}),s.jsx("span",{className:"text-xs text-blue-600 dark:text-blue-400 font-medium",children:"À receber"})]}),s.jsx("p",{className:"text-base font-normal text-blue-700 dark:text-blue-300",children:pi(A||0)})]}),s.jsxs("div",{className:"bg-orange-50 dark:bg-orange-950/20 border border-orange-200 dark:border-orange-800 rounded-lg p-3",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(S_,{className:"h-4 w-4 text-orange-600 dark:text-orange-400"}),s.jsx("span",{className:"text-xs text-orange-600 dark:text-orange-400 font-medium",children:"Solicitado"})]}),s.jsx("p",{className:"text-base font-normal text-orange-700 dark:text-orange-300",children:pi(E||0)})]})]})}),s.jsxs("section",{className:"mt-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-semibold",children:"Lotes diários"}),s.jsx("div",{className:"text-sm text-muted-foreground",children:V.length>0?`${V.length} lotes`:"Nenhum lote"})]}),s.jsx(tt,{className:"border border-border/50 shadow-sm",children:s.jsx(rt,{className:"p-0",children:s.jsxs("div",{className:"w-full overflow-x-auto",children:[s.jsxs(mo,{children:[s.jsx(po,{children:s.jsxs(Qr,{children:[s.jsx(ht,{children:"Dia"}),s.jsx(ht,{className:"text-right",children:"Total"}),s.jsx(ht,{className:"text-right",children:"Status"}),!r&&s.jsx(ht,{className:"text-right",children:"Solicitado em"}),!r&&s.jsx(ht,{className:"text-right",children:"Repasse"}),!r&&s.jsx(ht,{className:"text-right",children:"Ações"})]})}),s.jsx(go,{children:H?s.jsx(Qr,{children:s.jsx(lt,{colSpan:r?3:6,className:"text-center py-8",children:s.jsx("p",{className:"text-muted-foreground",children:"Carregando lotes..."})})}):V.length===0?s.jsx(Qr,{children:s.jsx(lt,{colSpan:r?3:6,className:"text-center py-8",children:s.jsx("p",{className:"text-muted-foreground",children:"Nenhum lote encontrado"})})}):V.map(k=>{const z=new Date(k.day+"T00:00:00"),ne=new Date,Q=`${ne.getFullYear()}-${String(ne.getMonth()+1).padStart(2,"0")}-${String(ne.getDate()).padStart(2,"0")}`,L=!(k.day===Q)&&k.status==="pending"&&Number(k.total_musician_amount)>0,Z=k.requested_at?Number(k.total_musician_payout)||0:Number(k.total_musician_amount)||0;return s.jsxs(Qr,{className:r?"cursor-pointer hover:bg-muted/50":"",onClick:r?()=>{x(k),g(!0)}:void 0,children:[s.jsx(lt,{children:r?`${z.getDate().toString().padStart(2,"0")}/${(z.getMonth()+1).toString().padStart(2,"0")}`:z.toLocaleDateString("pt-BR")}),s.jsx(lt,{className:"text-right",children:pi(Z)}),s.jsx(lt,{className:"text-right",children:k.status==="paid"?s.jsxs("span",{className:"inline-flex items-center gap-1 text-green-600",children:[s.jsx(R3,{className:"h-4 w-4"})," Pago"]}):k.status==="requested"?s.jsxs("span",{className:"inline-flex items-center gap-1 text-blue-600",children:[s.jsx(S_,{className:"h-4 w-4"})," Solicitado"]}):s.jsx("span",{className:"inline-flex items-center gap-1 text-muted-foreground",children:"Pendente"})}),!r&&s.jsx(lt,{className:"text-right",children:k.payout_at?new Date(k.payout_at).toLocaleDateString("pt-BR"):"—"}),!r&&s.jsx(lt,{className:"text-right",children:s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsx(O,{size:"sm",variant:"ghost",onClick:()=>{w({id:k.id,day:k.day}),m(!0)},children:"Ver contribuições"}),L&&s.jsx(s.Fragment,{children:s.jsx(O,{size:"sm",variant:"outline",onClick:()=>{const ue=Number(k.total_musician_amount)||0;u("normal"),c({id:k.id,day:k.day,total:ue}),o(!0)},children:"Solicitar saque"})})]})})]},k.id)})})]}),re&&s.jsx("div",{className:"p-4 border-t",children:s.jsx(O,{onClick:()=>q(),disabled:G,variant:"outline",className:"w-full",children:G?"Carregando...":"Carregar mais lotes"})})]})})})]}),p&&h&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:s.jsxs("div",{className:"w-full max-w-md max-h-[60vh] rounded-md bg-background border shadow-lg flex flex-col mx-auto",children:[s.jsx("div",{className:"p-4 border-b",children:s.jsxs("h3",{className:"text-lg font-semibold",children:["Contribuições do dia ",new Date(p.day+"T00:00:00").toLocaleDateString("pt-BR")]})}),s.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:T?s.jsx("p",{className:"text-muted-foreground",children:"Carregando..."}):S.length?s.jsx("div",{className:"w-full overflow-x-auto",children:s.jsxs(mo,{children:[s.jsx(po,{children:s.jsxs(Qr,{children:[s.jsx(ht,{children:"Data/Hora"}),s.jsx(ht,{className:"text-right",children:"Valor do músico"})]})}),s.jsx(go,{children:S.map(k=>s.jsxs(Qr,{children:[s.jsx(lt,{children:new Date(k.created_at).toLocaleString("pt-BR")}),s.jsx(lt,{className:"text-right",children:pi(Number(k.musician_amount)||0)})]},k.id))})]})}):s.jsx("p",{className:"text-muted-foreground",children:"Nenhuma contribuição encontrada para este dia."})}),s.jsx("div",{className:"p-4 border-t",children:s.jsx("div",{className:"flex justify-end gap-2",children:s.jsx(O,{variant:"outline",onClick:()=>m(!1),children:"Fechar"})})})]})}),l&&i&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:s.jsxs("div",{className:"w-full max-w-md rounded-md bg-background border shadow-lg p-4 space-y-3 mx-auto",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Confirmar solicitação de saque"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Lote do dia ",new Date(l.day+"T00:00:00").toLocaleDateString("pt-BR")]}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{children:"Total do músico"}),s.jsx("span",{className:"font-medium",children:pi(l.total)})]}),s.jsx("div",{className:"flex items-center justify-between text-sm",children:d==="early"?s.jsxs(s.Fragment,{children:[s.jsx("span",{children:ee?"Carregando taxa vigente...":`Total com desconto (${se.percent}% antecipado)`}),s.jsx("span",{className:"font-medium",children:(()=>{const k=ee?0:se.percent||0,z=Math.round(l.total*k/100*100)/100,ne=Math.max(Math.round((l.total-z)*100)/100,0);return pi(ne)})()})]}):s.jsxs(s.Fragment,{children:[s.jsxs("span",{children:["Agendamento (D+",I.days,")"]}),s.jsx("span",{className:"font-medium",children:(()=>{const k=new Date(l.day+"T00:00:00");k.setDate(k.getDate()+(I.days||5));const z=new Date,ne=new Date(k.getFullYear(),k.getMonth(),k.getDate()),Q=new Date(z.getFullYear(),z.getMonth(),z.getDate()),R=Math.ceil((ne.getTime()-Q.getTime())/(1e3*60*60*24));return R>0?`D+${R}`:"Hoje"})()})]})})]}),s.jsxs("div",{className:"flex gap-2 pt-2",children:[s.jsx(O,{variant:"outline",onClick:()=>o(!1),className:"flex-1",children:"Cancelar"}),s.jsx(O,{onClick:()=>{D.mutate({batchId:l.id,isEarly:d==="early"}),o(!1)},disabled:D.isPending,className:"flex-1",children:D.isPending?"Enviando...":"Confirmar"})]})]})}),y&&v&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:s.jsxs("div",{className:"w-full max-w-md rounded-md bg-background border shadow-lg p-4 space-y-3 mx-auto",children:[s.jsxs("h3",{className:"text-lg font-semibold",children:["Lote do dia ",new Date(y.day+"T00:00:00").toLocaleDateString("pt-BR")]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{children:"Total"}),s.jsx("span",{className:"font-medium",children:pi(y.requested_at?Number(y.total_musician_payout)||0:Number(y.total_musician_amount)||0)})]}),s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{children:"Status"}),s.jsx("span",{className:"font-medium",children:y.status==="paid"?"Pago":y.status==="requested"?"Solicitado":"Pendente"})]}),y.requested_at&&s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{children:"Solicitado em"}),s.jsx("span",{className:"font-medium",children:new Date(y.requested_at).toLocaleString("pt-BR")})]}),y.payout_at&&s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{children:"Repasse"}),s.jsx("span",{className:"font-medium",children:new Date(y.payout_at).toLocaleDateString("pt-BR")})]})]}),s.jsxs("div",{className:"flex gap-2 pt-2",children:[s.jsx(O,{variant:"outline",onClick:()=>{w({id:y.id,day:y.day}),m(!0),g(!1)},className:"flex-1",children:"Ver contribuições"}),s.jsx(O,{variant:"outline",onClick:()=>g(!1),className:"flex-1",children:"Fechar"})]})]})})]}):s.jsxs("main",{className:"container mx-auto p-4",children:[s.jsx(Xt,{title:"Extrato do músico",description:"Veja o valor recebido e a receber com extrato diário",canonical:"/musician/extrato"}),s.jsxs(tt,{children:[s.jsx(Qt,{children:s.jsx(cr,{children:"Faça login"})}),s.jsx(rt,{children:s.jsx("p",{className:"text-muted-foreground",children:"Você precisa estar logado para ver seu extrato."})})]})]})}function Yh(e){return e.toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"})}const Fx=20;function bY(){const{user:e}=ar(),t=os(),r=ll(),[n,a]=f.useState(),[i,o]=f.useState(""),[l,c]=f.useState(""),[d,u]=f.useState(!1),[h,m]=f.useState([]),[p,w]=f.useState(!1),v=f.useRef(null),g=f.useRef(!1),[y,x]=f.useState(1),[b,_]=f.useState("desc"),[N,P]=f.useState(),[S,T]=f.useState(""),[U,q]=f.useState(!1),[re,G]=f.useState(null),[H,V]=f.useState(),[se,ee]=f.useState(""),[J,I]=f.useState(""),[D,C]=f.useState(!1),[E,A]=f.useState([]),[Y,k]=f.useState(!1),z=f.useRef(null),ne=f.useRef(!1),[Q,R]=f.useState(!1),[L,Z]=f.useState(!1),{data:ue,isLoading:_e}=Ze({queryKey:["my-schedules",e==null?void 0:e.id,y,b,N,S],enabled:!!(e!=null&&e.id),queryFn:async()=>{let fe=$.from("schedules").select("id, title, location, start_time, link_url",{count:"exact"}).eq("musician_id",e.id);if(N){const kt=new Date(N);kt.setHours(0,0,0,0);const qt=new Date(N);qt.setHours(23,59,59,999),fe=fe.gte("start_time",kt.toISOString()).lte("start_time",qt.toISOString())}if(S){const[kt,qt]=S.split("-"),ir=new Date(parseInt(kt),parseInt(qt)-1,1),F=new Date(parseInt(kt),parseInt(qt),0,23,59,59,999);fe=fe.gte("start_time",ir.toISOString()).lte("start_time",F.toISOString())}fe=fe.order("start_time",{ascending:b==="asc"}).range((y-1)*Fx,y*Fx-1);const{data:We,error:vt,count:et}=await fe;if(vt)throw vt;return{schedules:We,count:et||0}}}),{data:me}=Ze({queryKey:["my-profile-loc",e==null?void 0:e.id],enabled:!!(e!=null&&e.id),queryFn:async()=>{const{data:fe,error:We}=await $.from("profiles").select("lat, lng").eq("id",e.id).single();if(We)throw We;return fe||{lat:null,lng:null}}}),xe=(ue==null?void 0:ue.schedules)||[],Ge=(ue==null?void 0:ue.count)||0,_t=y*Fx<Ge,Ot=async()=>{if(!e){oe({title:"Faça login",description:"Entre para cadastrar um evento."});return}if(!n){oe({title:"Selecione a data",description:"Escolha o dia do evento no calendário."});return}if(!i.trim()){oe({title:"Informe o local",description:"Preencha o local do evento."});return}u(!0);try{const fe=new Date(n.getFullYear(),n.getMonth(),n.getDate(),0,0,0),We={musician_id:e.id,start_time:fe.toISOString(),title:"Evento",location:i.trim(),link_url:l.trim()||null},{error:vt}=await $.from("schedules").insert(We);if(vt)throw vt;oe({title:"Evento cadastrado",description:`${Yh(fe)} - ${i}`}),o(""),c(""),a(void 0),R(!1),x(1),t.invalidateQueries({queryKey:["my-schedules",e.id]})}catch(fe){oe({title:"Erro ao cadastrar",description:(fe==null?void 0:fe.message)||"Tente novamente."})}finally{u(!1)}},Ct=async fe=>{if(!e){oe({title:"Faça login",description:"Entre para gerenciar seus eventos."});return}try{const{error:We}=await $.from("schedules").delete().eq("id",fe);if(We)throw We;oe({title:"Evento removido"}),x(1),t.invalidateQueries({queryKey:["my-schedules",e.id]})}catch(We){oe({title:"Erro ao remover",description:(We==null?void 0:We.message)||"Tente novamente."})}},$t=()=>{x(fe=>fe+1)},B=fe=>{G(fe.id);const We=new Date(fe.start_time);V(new Date(We.getFullYear(),We.getMonth(),We.getDate())),ne.current=!0,ee(fe.location||""),I(fe.link_url||""),q(!0)},te=async()=>{if(!(!e||!re)){if(!H){oe({title:"Selecione a data",description:"Escolha a nova data do evento."});return}if(!se.trim()){oe({title:"Informe o local",description:"Preencha o local do evento."});return}C(!0);try{const fe=new Date(H.getFullYear(),H.getMonth(),H.getDate(),0,0,0),{error:We}=await $.from("schedules").update({start_time:fe.toISOString(),location:se.trim(),link_url:J.trim()||null}).eq("id",re);if(We)throw We;oe({title:"Evento atualizado"}),q(!1),G(null),t.invalidateQueries({queryKey:["my-schedules",e.id]})}catch(fe){oe({title:"Erro ao atualizar",description:(fe==null?void 0:fe.message)||"Tente novamente."})}finally{C(!1)}}},ce=()=>{P(void 0),T(""),x(1)},be=fe=>{_(fe),x(1)},we=fe=>{P(fe),T(""),x(1)},pe=fe=>{T(fe),P(void 0),x(1)},Se=f.useMemo(()=>{const fe=new Date().getFullYear(),We=[];for(let vt=fe-1;vt<=fe+1;vt++)for(let et=1;et<=12;et++){const kt=new Date(vt,et-1).toLocaleDateString("pt-BR",{month:"long",year:"numeric"});We.push({value:`${vt}-${et.toString().padStart(2,"0")}`,label:kt.charAt(0).toUpperCase()+kt.slice(1)})}return We},[]),Ue=(N?1:0)+(S?1:0);return f.useEffect(()=>{const fe=new AbortController,We=i.trim();if(g.current){g.current=!1;return}if(We.length<3){m([]);return}const vt=setTimeout(async()=>{try{w(!0);const et=new URLSearchParams({format:"json",q:We,addressdetails:"1",limit:"8",countrycodes:"br"});if((me==null?void 0:me.lat)!=null&&(me==null?void 0:me.lng)!=null){const Re=me.lat,ke=me.lng,qe=.54,Ye=qe/Math.max(.1,Math.cos(Math.PI/180*Re)),ut=(Re-qe).toFixed(6),xt=(Re+qe).toFixed(6),yt=(ke-Ye).toFixed(6),ie=(ke+Ye).toFixed(6);et.set("viewbox",`${yt},${ut},${ie},${xt}`),et.set("bounded","1")}const kt=await fetch(`https://nominatim.openstreetmap.org/search?${et.toString()}`,{signal:fe.signal,headers:{"Accept-Language":"pt-BR"}});if(!kt.ok)throw new Error("Falha ao buscar locais");const qt=await kt.json(),ir={amenity:new Set(["bar","pub","nightclub","theatre","arts_centre","community_centre","restaurant","cafe","biergarten","cinema","concert_hall","music_venue","events_venue"]),leisure:new Set(["stadium"]),tourism:new Set(["attraction"])},F=Re=>Re.normalize("NFD").replace(/[\u0300-\u036f]/g,""),ae=F(We.toLowerCase()),ye=qt.filter(Re=>{const ke=ir[Re.class],qe=ke?ke.has(Re.type):!1,Ye=(Re.display_name.split(",")[0]||Re.display_name).trim(),ut=F(Ye.toLowerCase()).includes(ae);return qe||ut}),Pe=(me==null?void 0:me.lat)??void 0,nt=(me==null?void 0:me.lng)??void 0,st=typeof Pe=="number"&&typeof nt=="number",$e=Re=>Re*Math.PI/180,wr=(Re,ke)=>{const Ye=$e(ke.lat-Re.lat),ut=$e(ke.lng-Re.lng),xt=$e(Re.lat),yt=$e(ke.lat),ie=Math.sin(Ye/2)**2+Math.cos(xt)*Math.cos(yt)*Math.sin(ut/2)**2;return 2*6371*Math.asin(Math.sqrt(ie))},Cr=[...ye].sort((Re,ke)=>{if(!st)return 0;const qe=Re.lat?parseFloat(Re.lat):NaN,Ye=Re.lon?parseFloat(Re.lon):NaN,ut=ke.lat?parseFloat(ke.lat):NaN,xt=ke.lon?parseFloat(ke.lon):NaN,yt=Number.isFinite(qe)&&Number.isFinite(Ye),ie=Number.isFinite(ut)&&Number.isFinite(xt);if(yt&&ie){const He=wr({lat:Pe,lng:nt},{lat:qe,lng:Ye}),ze=wr({lat:Pe,lng:nt},{lat:ut,lng:xt});return He-ze}return yt?-1:ie?1:0});m(Cr.map(Re=>{var yt,ie,He,ze,pt,ot,Nt;const ke=(Re.display_name.split(",")[0]||Re.display_name).trim(),Ye=[(yt=Re.address)==null?void 0:yt.road,(ie=Re.address)==null?void 0:ie.house_number].filter(Boolean).join(", "),ut=(((He=Re.address)==null?void 0:He.city)||((ze=Re.address)==null?void 0:ze.town)||((pt=Re.address)==null?void 0:pt.village)||((ot=Re.address)==null?void 0:ot.municipality)||((Nt=Re.address)==null?void 0:Nt.county)||"").toString();return{label:[ke,Ye,ut].filter(dr=>dr&&dr.trim().length>0).join(" — "),value:ke}}))}catch(et){et instanceof DOMException&&et.name==="AbortError"||m([])}finally{w(!1)}},400);return()=>{fe.abort(),clearTimeout(vt)}},[i,me==null?void 0:me.lat,me==null?void 0:me.lng]),f.useEffect(()=>{const fe=We=>{v.current&&(v.current.contains(We.target)||m([]))};return document.addEventListener("mousedown",fe),()=>document.removeEventListener("mousedown",fe)},[]),f.useEffect(()=>{const fe=new AbortController,We=se.trim();if(ne.current){ne.current=!1;return}if(We.length<3){A([]);return}const vt=setTimeout(async()=>{try{k(!0);const et=new URLSearchParams({format:"json",q:We,addressdetails:"1",limit:"8",countrycodes:"br"});if((me==null?void 0:me.lat)!=null&&(me==null?void 0:me.lng)!=null){const Re=me.lat,ke=me.lng,qe=.54,Ye=qe/Math.max(.1,Math.cos(Math.PI/180*Re)),ut=(Re-qe).toFixed(6),xt=(Re+qe).toFixed(6),yt=(ke-Ye).toFixed(6),ie=(ke+Ye).toFixed(6);et.set("viewbox",`${yt},${ut},${ie},${xt}`),et.set("bounded","1")}const kt=await fetch(`https://nominatim.openstreetmap.org/search?${et.toString()}`,{signal:fe.signal,headers:{"Accept-Language":"pt-BR"}});if(!kt.ok)throw new Error("Falha ao buscar locais");const qt=await kt.json(),ir={amenity:new Set(["bar","pub","nightclub","theatre","arts_centre","community_centre","restaurant","cafe","biergarten","cinema","concert_hall","music_venue","events_venue"]),leisure:new Set(["stadium"]),tourism:new Set(["attraction"])},F=Re=>Re.normalize("NFD").replace(/[\u0300-\u036f]/g,""),ae=F(We.toLowerCase()),ye=qt.filter(Re=>{const ke=ir[Re.class],qe=ke?ke.has(Re.type):!1,Ye=(Re.display_name.split(",")[0]||Re.display_name).trim(),ut=F(Ye.toLowerCase()).includes(ae);return qe||ut}),Pe=(me==null?void 0:me.lat)??void 0,nt=(me==null?void 0:me.lng)??void 0,st=typeof Pe=="number"&&typeof nt=="number",$e=Re=>Re*Math.PI/180,wr=(Re,ke)=>{const Ye=$e(ke.lat-Re.lat),ut=$e(ke.lng-Re.lng),xt=$e(Re.lat),yt=$e(ke.lat),ie=Math.sin(Ye/2)**2+Math.cos(xt)*Math.cos(yt)*Math.sin(ut/2)**2;return 2*6371*Math.asin(Math.sqrt(ie))},Cr=[...ye].sort((Re,ke)=>{if(!st)return 0;const qe=Re.lat?parseFloat(Re.lat):NaN,Ye=Re.lon?parseFloat(Re.lon):NaN,ut=ke.lat?parseFloat(ke.lat):NaN,xt=ke.lon?parseFloat(ke.lon):NaN,yt=Number.isFinite(qe)&&Number.isFinite(Ye),ie=Number.isFinite(ut)&&Number.isFinite(xt);if(yt&&ie){const He=wr({lat:Pe,lng:nt},{lat:qe,lng:Ye}),ze=wr({lat:Pe,lng:nt},{lat:ut,lng:xt});return He-ze}return yt?-1:ie?1:0});A(Cr.map(Re=>{var yt,ie,He,ze,pt,ot,Nt;const ke=(Re.display_name.split(",")[0]||Re.display_name).trim(),Ye=[(yt=Re.address)==null?void 0:yt.road,(ie=Re.address)==null?void 0:ie.house_number].filter(Boolean).join(", "),ut=(((He=Re.address)==null?void 0:He.city)||((ze=Re.address)==null?void 0:ze.town)||((pt=Re.address)==null?void 0:pt.village)||((ot=Re.address)==null?void 0:ot.municipality)||((Nt=Re.address)==null?void 0:Nt.county)||"").toString();return{label:[ke,Ye,ut].filter(dr=>dr&&dr.trim().length>0).join(" — "),value:ke}}))}catch(et){et instanceof DOMException&&et.name==="AbortError"||A([])}finally{k(!1)}},400);return()=>{fe.abort(),clearTimeout(vt)}},[se,me==null?void 0:me.lat,me==null?void 0:me.lng]),f.useEffect(()=>{const fe=We=>{z.current&&(z.current.contains(We.target)||A([]))};return document.addEventListener("mousedown",fe),()=>document.removeEventListener("mousedown",fe)},[]),s.jsxs("main",{className:"container mx-auto p-4 space-y-6",children:[s.jsx(Xt,{title:"Agenda",description:"Cadastre datas e locais de eventos na sua agenda.",canonical:"/musician/agenda"}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-2xl font-semibold",children:"Agenda"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(O,{onClick:()=>Z(!0),variant:"outline",size:"sm",children:[s.jsx(hm,{className:"h-4 w-4"}),!r&&s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"ml-2",children:"Filtros"}),Ue>0&&s.jsx("span",{className:"bg-primary text-primary-foreground text-xs px-2 py-1 rounded-full ml-2",children:Ue})]}),r&&Ue>0&&s.jsx("span",{className:"bg-primary text-primary-foreground text-xs px-1.5 py-0.5 rounded-full ml-1.5",children:Ue})]}),s.jsxs(O,{onClick:()=>R(!0),children:[s.jsx(Nc,{className:"h-4 w-4"}),!r&&s.jsx("span",{className:"ml-2",children:"Novo evento"})]})]})]}),s.jsxs(tt,{className:"border-0 shadow-none",children:[s.jsx(Qt,{children:s.jsx(cr,{children:"Meus eventos"})}),s.jsx(rt,{children:_e&&y===1?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"animate-spin h-6 w-6 border-2 border-primary border-t-transparent rounded-full mx-auto"}),s.jsx("p",{className:"text-muted-foreground mt-2",children:"Carregando eventos..."})]}):xe.length>0?s.jsxs("div",{className:"space-y-4",children:[s.jsx("ul",{className:"divide-y",children:xe.map(fe=>s.jsxs("li",{className:"flex items-center justify-between p-4 hover:bg-muted/50 rounded-lg transition-colors",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"font-medium",children:new Date(fe.start_time).toLocaleDateString("pt-BR")}),s.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[s.jsx(O2,{className:"h-3.5 w-3.5"}),fe.location||"Local não informado"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-xs text-muted-foreground hidden sm:block",children:fe.title||"Evento"}),s.jsx(O,{variant:"ghost",size:"sm","aria-label":"Editar evento",onClick:()=>B(fe),children:s.jsx(Ga,{className:"h-4 w-4"})}),fe.link_url&&s.jsx("a",{href:fe.link_url,target:"_blank",rel:"noopener noreferrer","aria-label":"Abrir link do evento",className:"inline-flex items-center justify-center h-8 w-8 rounded-md hover:bg-muted",title:"Abrir link do evento",children:s.jsx(I3,{className:"h-4 w-4"})}),s.jsxs(A0,{children:[s.jsx(OK,{asChild:!0,children:s.jsx(O,{variant:"ghost",size:"sm","aria-label":"Remover evento",children:s.jsx(Yn,{className:"h-4 w-4"})})}),s.jsxs(vp,{children:[s.jsxs(xp,{children:[s.jsx(wp,{children:"Remover evento?"}),s.jsx(bp,{children:"Esta ação não pode ser desfeita. Confirme para remover da sua agenda."})]}),s.jsxs(yp,{children:[s.jsx(_p,{children:"Cancelar"}),s.jsx(jp,{onClick:()=>Ct(fe.id),children:"Remover"})]})]})]})]})]},fe.id))}),_t&&s.jsx("div",{className:"flex justify-center pt-4",children:s.jsx(O,{variant:"outline",onClick:$t,disabled:_e,children:_e?"Carregando...":"Carregar mais eventos"})}),s.jsxs("div",{className:"text-center text-sm text-muted-foreground",children:["Mostrando ",xe.length," de ",Ge," eventos"]})]}):s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"mx-auto w-16 h-16 bg-muted/30 rounded-full flex items-center justify-center mb-4",children:s.jsx(bn,{className:"h-8 w-8 text-muted-foreground"})}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:Ue>0?"Nenhum evento encontrado":"Sua agenda está vazia"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:Ue>0?"Tente ajustar os filtros ou limpar todos para ver todos os eventos.":"Comece cadastrando seu primeiro evento para organizar sua agenda."}),Ue>0?s.jsxs(O,{variant:"outline",size:"sm",onClick:ce,children:[s.jsx(Mr,{className:"h-4 w-4"}),!r&&s.jsx("span",{className:"ml-2",children:"Limpar filtros"})]}):s.jsxs(O,{onClick:()=>R(!0),children:[s.jsx(Nc,{className:"h-4 w-4"}),!r&&s.jsx("span",{className:"ml-2",children:"Cadastrar primeiro evento"})]})]})})]}),s.jsx(Ur,{open:Q,onOpenChange:R,children:s.jsxs(Pr,{className:"sm:max-w-md",children:[s.jsxs(Tr,{children:[s.jsx(Rr,{children:"Cadastrar novo evento"}),s.jsx(Du,{children:"Adicione uma nova data à sua agenda"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx(Le,{children:"Data do evento"}),s.jsxs(jn,{children:[s.jsx(_n,{asChild:!0,children:s.jsxs(O,{variant:"outline",className:le("w-full justify-start text-left font-normal",!n&&"text-muted-foreground"),children:[s.jsx(bn,{className:"mr-2 h-4 w-4"}),n?Yh(n):s.jsx("span",{children:"Escolha a data"})]})}),s.jsx(un,{className:"w-auto p-0",align:"start",children:s.jsx(vs,{mode:"single",selected:n,onSelect:a,initialFocus:!0,className:"p-3"})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Le,{htmlFor:"location-modal",children:"Local"}),s.jsxs("div",{className:"relative",ref:v,children:[s.jsx(Oe,{id:"location-modal",placeholder:"Ex.: Rooftop Center",value:i,onChange:fe=>o(fe.target.value),autoComplete:"off",className:le(p?"pl-8":void 0)}),i&&s.jsx("button",{type:"button","aria-label":"Limpar local",title:"Limpar",onMouseDown:fe=>fe.preventDefault(),onClick:()=>{o(""),m([])},className:"absolute right-2 top-1/2 -translate-y-1/2 inline-flex h-6 w-6 items-center justify-center rounded hover:bg-muted",children:s.jsx(Mr,{className:"h-4 w-4 text-muted-foreground"})}),p&&s.jsxs("div",{className:"absolute left-2 top-1/2 -translate-y-1/2 flex items-center gap-0.5",children:[s.jsx("span",{className:"inline-block h-1 w-1 rounded-full bg-muted-foreground animate-bounce [animation-delay:-0.2s]"}),s.jsx("span",{className:"inline-block h-1 w-1 rounded-full bg-muted-foreground animate-bounce [animation-delay:-0.1s]"}),s.jsx("span",{className:"inline-block h-1 w-1 rounded-full bg-muted-foreground animate-bounce"})]}),h.length>0&&s.jsx("ul",{className:"absolute left-0 right-0 z-20 border rounded-md divide-y max-h-56 overflow-auto bg-background mt-1 shadow-md",children:h.map(fe=>s.jsx("li",{className:"p-2 text-sm hover:bg-muted cursor-pointer",onClick:()=>{g.current=!0,o(fe.value),m([])},children:fe.label},`${fe.label}-${fe.value}`))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Le,{htmlFor:"link-modal",children:"Link do evento (opcional)"}),s.jsx(Oe,{id:"link-modal",type:"url",placeholder:"https://exemplo.com/meu-evento",value:l,onChange:fe=>c(fe.target.value)})]})]}),s.jsxs(pa,{className:"gap-3",children:[s.jsxs(O,{variant:"outline",onClick:()=>R(!1),children:[s.jsx(Mr,{className:"h-4 w-4 mr-2"}),"Cancelar"]}),s.jsx(O,{onClick:Ot,disabled:d,children:d?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-current border-t-transparent rounded-full mr-2"}),"Cadastrando..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Nc,{className:"h-4 w-4 mr-2"}),"Aplicar"]})})]})]})}),s.jsx(Ur,{open:L,onOpenChange:Z,children:s.jsxs(Pr,{className:"sm:max-w-lg",children:[s.jsxs(Tr,{children:[s.jsxs(Rr,{className:"flex items-center gap-2",children:[s.jsx(hm,{className:"h-5 w-5"}),"Filtros e Ordenação",Ue>0&&s.jsx("span",{className:"bg-primary text-primary-foreground text-xs px-2 py-1 rounded-full",children:Ue})]}),s.jsx(Du,{children:"Organize e encontre seus eventos"})]}),s.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Le,{children:"Ordenar por data"}),s.jsxs(pl,{value:b,onValueChange:be,children:[s.jsx(lo,{children:s.jsx(gl,{placeholder:"Ordenação"})}),s.jsxs(co,{children:[s.jsx(Gr,{value:"desc",children:"Mais recente primeiro"}),s.jsx(Gr,{value:"asc",children:"Mais antigo primeiro"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Le,{children:"Filtrar por data"}),s.jsxs(jn,{children:[s.jsx(_n,{asChild:!0,children:s.jsxs(O,{variant:"outline",className:le("w-full justify-start text-left font-normal",!N&&"text-muted-foreground"),children:[s.jsx(bn,{className:"mr-2 h-4 w-4"}),N?Yh(N):s.jsx("span",{children:"Selecione uma data"})]})}),s.jsx(un,{className:"w-auto p-0",align:"start",children:s.jsx(vs,{mode:"single",selected:N,onSelect:we,initialFocus:!0})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Le,{children:"Filtrar por mês"}),s.jsxs(pl,{value:S,onValueChange:pe,children:[s.jsx(lo,{children:s.jsx(gl,{placeholder:"Selecione um mês"})}),s.jsx(co,{children:Se.map(fe=>s.jsx(Gr,{value:fe.value,children:fe.label},fe.value))})]})]})]}),s.jsxs(pa,{children:[Ue>0&&s.jsxs(O,{variant:"outline",onClick:ce,children:[s.jsx(Mr,{className:"h-4 w-4 mr-2"}),"Limpar"]}),s.jsxs(O,{onClick:()=>Z(!1),children:[s.jsx(hm,{className:"h-4 w-4 mr-2"}),"Aplicar"]})]})]})}),s.jsx(Ur,{open:U,onOpenChange:q,children:s.jsxs(Pr,{children:[s.jsxs(Tr,{children:[s.jsx(Rr,{children:"Editar evento"}),s.jsx(Du,{children:"Atualize a data, o local e o link do evento."})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx(Le,{children:"Data do evento"}),s.jsxs(jn,{children:[s.jsx(_n,{asChild:!0,children:s.jsxs(O,{variant:"outline",className:le("w-full justify-start text-left font-normal",!H&&"text-muted-foreground"),children:[s.jsx(bn,{className:"mr-2 h-4 w-4"}),H?Yh(H):s.jsx("span",{children:"Escolha a data"})]})}),s.jsx(un,{className:"w-auto p-0",align:"start",children:s.jsx(vs,{mode:"single",selected:H,onSelect:V,initialFocus:!0})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Le,{htmlFor:"edit-location",children:"Local"}),s.jsxs("div",{className:"relative",ref:z,children:[s.jsx(Oe,{id:"edit-location",placeholder:"Ex.: Rooftop Center",value:se,onChange:fe=>ee(fe.target.value),autoComplete:"off",className:le(Y?"pl-8":void 0)}),se&&s.jsx("button",{type:"button","aria-label":"Limpar local",title:"Limpar",onMouseDown:fe=>fe.preventDefault(),onClick:()=>{ee(""),A([])},className:"absolute right-2 top-1/2 -translate-y-1/2 inline-flex h-6 w-6 items-center justify-center rounded hover:bg-muted",children:s.jsx(Mr,{className:"h-4 w-4 text-muted-foreground"})}),Y&&s.jsxs("div",{className:"absolute left-2 top-1/2 -translate-y-1/2 flex items-center gap-0.5",children:[s.jsx("span",{className:"inline-block h-1 w-1 rounded-full bg-muted-foreground animate-bounce [animation-delay:-0.2s]"}),s.jsx("span",{className:"inline-block h-1 w-1 rounded-full bg-muted-foreground animate-bounce [animation-delay:-0.1s]"}),s.jsx("span",{className:"inline-block h-1 w-1 rounded-full bg-muted-foreground animate-bounce"})]}),E.length>0&&s.jsx("ul",{className:"absolute left-0 right-0 z-20 border rounded-md divide-y max-h-56 overflow-auto bg-background mt-1 shadow-md",children:E.map(fe=>s.jsx("li",{className:"p-2 text-sm hover:bg-muted cursor-pointer",onClick:()=>{ne.current=!0,ee(fe.value),A([])},children:fe.label},`${fe.label}-${fe.value}`))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Le,{htmlFor:"edit-link",children:"Link do evento (opcional)"}),s.jsx(Oe,{id:"edit-link",type:"url",placeholder:"https://exemplo.com/meu-evento",value:J,onChange:fe=>I(fe.target.value)})]})]}),s.jsxs(pa,{children:[s.jsxs(O,{variant:"outline",onClick:()=>q(!1),disabled:D,children:[s.jsx(Mr,{className:"h-4 w-4 mr-2"}),"Cancelar"]}),s.jsx(O,{onClick:te,disabled:D,children:D?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-current border-t-transparent rounded-full mr-2"}),"Salvando..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Ga,{className:"h-4 w-4 mr-2"}),"Aplicar"]})})]})]})})]})}const jY=()=>{const e=Or(),{user:t,loading:r}=ar(),[n,a]=f.useState(""),[i,o]=f.useState(""),[l,c]=f.useState(!1);f.useEffect(()=>{},[]);const d=async()=>{if(!n||n.length<6){oe({title:"Senha muito curta",description:"Use ao menos 6 caracteres."});return}if(n!==i){oe({title:"Senhas não conferem",description:"Digite a mesma senha nos dois campos."});return}c(!0);try{const{error:u}=await $.auth.updateUser({password:n});if(u)throw u;oe({title:"Senha atualizada",description:"Faça login com sua nova senha."}),e("/auth")}catch(u){oe({title:"Erro ao atualizar senha",description:u.message})}finally{c(!1)}};return s.jsxs("main",{className:"min-h-screen flex items-center justify-center bg-background p-4",children:[s.jsx(Xt,{title:"Redefinir senha - Pedidos de Música",description:"Defina uma nova senha para sua conta."}),s.jsxs("section",{className:"w-full max-w-md border rounded-lg p-6 bg-card text-card-foreground shadow-sm",children:[s.jsxs("header",{className:"mb-6 text-center",children:[s.jsx("h1",{className:"text-2xl font-semibold",children:"Redefinir senha"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:t?"Defina sua nova senha abaixo.":"Abra o link recebido por e-mail neste dispositivo para redefinir sua senha."})]}),t?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Le,{htmlFor:"new-password",children:"Nova senha"}),s.jsx(Oe,{id:"new-password",type:"password",value:n,onChange:u=>a(u.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Le,{htmlFor:"confirm-password",children:"Confirmar nova senha"}),s.jsx(Oe,{id:"confirm-password",type:"password",value:i,onChange:u=>o(u.target.value)})]}),s.jsx(O,{className:"w-full",onClick:d,disabled:l,children:l?"Atualizando...":"Atualizar senha"})]}):s.jsx("div",{className:"space-y-4 text-center",children:s.jsx(O,{variant:"ghost",size:"icon",onClick:()=>e("/auth"),"aria-label":"Voltar",children:s.jsx(Jp,{className:"h-5 w-5"})})})]})]})},Lx=20;function _Y(){const{user:e}=ar(),{toast:t}=Ys(),[r,n]=f.useState(""),a=f.useRef(null),{data:i,fetchNextPage:o,hasNextPage:l,isFetchingNextPage:c,isLoading:d,refetch:u}=js({queryKey:["profiles-list-infinite",r,e==null?void 0:e.id],enabled:!!(e!=null&&e.id),initialPageParam:0,getNextPageParam:(g,y)=>g.hasMore?y.length:void 0,queryFn:async({pageParam:g})=>{const x=(Number(g)||0)*Lx,b=x+Lx-1;let _=$.from("profiles").select("id, display_name, avatar_url, username, is_pro").eq("is_active",!0).eq("is_blocked",!1).order("display_name",{ascending:!0,nullsFirst:!1}).range(x,b);r.trim()&&(_=_.ilike("display_name",`%${r.trim()}%`));const{data:N,error:P}=await _;if(P)throw P;return{rows:N||[],hasMore:(N||[]).length===Lx}}}),h=f.useMemo(()=>((i==null?void 0:i.pages)||[]).flatMap(g=>g.rows),[i==null?void 0:i.pages]);f.useEffect(()=>{const g=a.current;if(!g)return;const y=new IntersectionObserver(x=>{x[0].isIntersecting&&l&&!c&&o()});return y.observe(g),()=>y.disconnect()},[o,l,c]);const{data:m,refetch:p,isLoading:w}=Ze({queryKey:["my-following",e==null?void 0:e.id],enabled:!!(e!=null&&e.id),queryFn:async()=>{const{data:g,error:y}=await $.from("follows").select("followee_id").eq("follower_id",e.id);if(y)throw y;return new Set((g||[]).map(b=>b.followee_id))}}),v=async g=>{if(!(e!=null&&e.id)){t({title:"Entre para seguir",description:"Faça login para seguir perfis.",variant:"default"});return}try{if(m!=null&&m.has(g)){const{error:y}=await $.from("follows").delete().eq("follower_id",e.id).eq("followee_id",g);if(y)throw y;t({title:"Deixou de seguir"})}else{const{error:y}=await $.from("follows").insert({follower_id:e.id,followee_id:g});if(y)throw y;t({title:"Agora você está seguindo"})}await Promise.all([p(),u()])}catch(y){t({title:"Erro",description:(y==null?void 0:y.message)||"Não foi possível atualizar o seguimento.",variant:"destructive"})}};return s.jsxs("main",{className:"container mx-auto px-4 py-6",children:[s.jsx(Xt,{title:"Perfis públicos — seguir usuários",description:"Descubra perfis públicos e siga usuários. Busque por nome e gerencie quem você segue.",canonical:"/musician/perfis"}),s.jsx("h1",{className:"text-2xl font-semibold tracking-tight mb-4",children:"Músicos"}),s.jsx(tt,{className:"border-0 shadow-none",children:s.jsx(rt,{className:"px-1",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Oe,{placeholder:"buscar músico",value:r,onChange:g=>{n(g.target.value)},"aria-label":"Buscar perfis"}),s.jsx(O,{onClick:()=>u(),disabled:d,children:"Buscar"})]})})}),s.jsx(Zo,{className:"my-4"}),d?s.jsx("div",{className:"mt-6 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:Array.from({length:8}).map((g,y)=>s.jsx(tt,{className:"border-0 shadow-none",children:s.jsxs(rt,{className:"p-4 flex flex-col items-center gap-3",children:[s.jsx(Xe,{className:"h-4 w-32"}),s.jsx(Xe,{className:"h-12 w-12 rounded-full"}),s.jsx(Xe,{className:"h-8 w-24 rounded-md"})]})},y))}):s.jsx("div",{className:"mt-6 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:(h||[]).filter(g=>g.id!==(e==null?void 0:e.id)).map(g=>{const y=g.display_name||"Usuário";return s.jsx(tt,{className:"border-0 shadow-none",children:s.jsxs(rt,{className:"p-4 flex items-start gap-3",children:[s.jsx(Yt,{to:`${g.username?`/${g.username}`:`/m/${g.id}`}`,children:s.jsxs(Dt,{className:"h-16 w-16 flex-shrink-0",isPro:!!g.is_pro,children:[s.jsx(It,{src:g.avatar_url||void 0,alt:y}),s.jsx(Ft,{children:y.charAt(0).toUpperCase()})]})}),s.jsxs("div",{className:"flex flex-col items-start justify-center flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Yt,{to:`${g.username?`/${g.username}`:`/m/${g.id}`}`,className:"no-underline",children:s.jsx("p",{className:"text-sm font-medium break-words",children:y})}),g.is_pro&&s.jsx(ol,{size:14})]}),s.jsx(O,{variant:m!=null&&m.has(g.id)?"secondary":"default",onClick:()=>v(g.id),disabled:w,className:"h-7 px-2 text-xs",children:m!=null&&m.has(g.id)?"Seguindo":"Seguir"})]})]},g.id)},g.id)})}),s.jsx("div",{ref:a,className:"h-8"}),c&&s.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Carregando mais..."})]})}const Xl=20;function NY(){const{user:e}=ar(),{toast:t}=Ys(),r=os(),[n,a]=f.useState("seguindo"),i=f.useRef(null),o=f.useRef(null),{data:l,fetchNextPage:c,hasNextPage:d,isFetchingNextPage:u,isLoading:h}=js({queryKey:["my-following-infinite",e==null?void 0:e.id],enabled:!!(e!=null&&e.id),initialPageParam:0,getNextPageParam:(S,T)=>S.hasMore?T.length:void 0,queryFn:async({pageParam:S})=>{const U=(Number(S)||0)*Xl,q=U+Xl-1,{data:re,error:G}=await $.from("follows").select("followee_id").eq("follower_id",e.id).order("created_at",{ascending:!1}).range(U,q);if(G)throw G;const H=(re||[]).map(D=>D.followee_id);if(H.length===0)return{rows:[],hasMore:!1};const{data:V,error:se}=await $.from("profiles").select("id, display_name, avatar_url, username, is_pro").in("id",H);if(se)throw se;const ee=new Map((V||[]).map(D=>[D.id,D])),J=H.map(D=>ee.get(D)).filter(Boolean),I=(re||[]).length===Xl;return{rows:J,hasMore:I}}}),m=f.useMemo(()=>((l==null?void 0:l.pages)||[]).flatMap(S=>S.rows),[l==null?void 0:l.pages]),p=f.useMemo(()=>new Set(m.map(S=>S.id)),[m]),{data:w,fetchNextPage:v,hasNextPage:g,isFetchingNextPage:y,isLoading:x}=js({queryKey:["my-followers-infinite",e==null?void 0:e.id],enabled:!!(e!=null&&e.id),initialPageParam:0,getNextPageParam:(S,T)=>S.hasMore?T.length:void 0,queryFn:async({pageParam:S})=>{const U=(Number(S)||0)*Xl,q=U+Xl-1,{data:re,error:G}=await $.from("follows").select("follower_id").eq("followee_id",e.id).order("created_at",{ascending:!1}).range(U,q);if(G)throw G;const H=(re||[]).map(D=>D.follower_id);if(H.length===0)return{rows:[],hasMore:!1};const{data:V,error:se}=await $.from("profiles").select("id, display_name, avatar_url, username").in("id",H);if(se)throw se;const ee=new Map((V||[]).map(D=>[D.id,D])),J=H.map(D=>ee.get(D)).filter(Boolean),I=(re||[]).length===Xl;return{rows:J,hasMore:I}}}),b=f.useMemo(()=>((w==null?void 0:w.pages)||[]).flatMap(S=>S.rows),[w==null?void 0:w.pages]);f.useEffect(()=>{const S=i.current;if(!S||n!=="seguindo")return;const T=new IntersectionObserver(U=>{U[0].isIntersecting&&d&&!u&&c()});return T.observe(S),()=>T.disconnect()},[n,c,d,u]),f.useEffect(()=>{const S=o.current;if(!S||n!=="seguidores")return;const T=new IntersectionObserver(U=>{U[0].isIntersecting&&g&&!y&&v()});return T.observe(S),()=>T.disconnect()},[n,v,g,y]);const _=S=>{r.setQueryData(["my-following-infinite",e==null?void 0:e.id],T=>{if(!T)return T;const U=T.pages.map(q=>({...q,rows:q.rows.filter(re=>re.id!==S)}));return{...T,pages:U}})},N=async S=>{if(e!=null&&e.id)try{const{error:T}=await $.from("follows").insert({follower_id:e.id,followee_id:S});if(T)throw T;t({title:"Agora você segue"}),await r.invalidateQueries({queryKey:["my-following-infinite",e==null?void 0:e.id]})}catch(T){t({title:"Erro",description:(T==null?void 0:T.message)||"Não foi possível seguir.",variant:"destructive"})}},P=async S=>{if(e!=null&&e.id)try{const{error:T}=await $.from("follows").delete().eq("follower_id",e.id).eq("followee_id",S);if(T)throw T;_(S),t({title:"Deixou de seguir"})}catch(T){t({title:"Erro",description:(T==null?void 0:T.message)||"Não foi possível atualizar.",variant:"destructive"})}};return s.jsxs("main",{className:"container mx-auto px-4 py-6",children:[s.jsx(Xt,{title:"Seguindo e seguidores — músicos",description:"Gerencie quem você segue e seus seguidores.",canonical:"/musician/seguindo"}),s.jsx("h1",{className:"text-2xl font-semibold tracking-tight mb-4",children:"Conexões"}),s.jsx(tt,{className:"border-0 shadow-none",children:s.jsx(rt,{className:"p-0",children:s.jsxs(Cd,{value:n,onValueChange:S=>a(S),className:"w-full",children:[s.jsxs(oo,{className:"grid w-full grid-cols-2",children:[s.jsx(zr,{value:"seguindo",children:"Seguindo"}),s.jsx(zr,{value:"seguidores",children:"Seguidores"})]}),s.jsxs("div",{className:"p-4",children:[s.jsxs(Yr,{value:"seguindo",className:"mt-0",children:[h?s.jsx("p",{className:"text-sm text-muted-foreground",children:"Carregando..."}):m.length===0?s.jsx("p",{className:"text-sm text-muted-foreground",children:"Você ainda não segue ninguém."}):s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:m.map(S=>{const T=S.display_name||"Usuário";return s.jsxs("div",{className:"flex items-center justify-between gap-3 rounded-md p-3",children:[s.jsxs(Yt,{to:`/${S.username||S.id}`,className:"flex items-center gap-3 min-w-0",children:[s.jsxs(Dt,{className:"h-10 w-10 shrink-0",children:[s.jsx(It,{src:S.avatar_url||void 0,alt:T}),s.jsx(Ft,{children:T.charAt(0).toUpperCase()})]}),s.jsx("div",{className:"min-w-0",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("p",{className:"text-sm font-medium truncate",children:T}),S.is_pro&&s.jsx(ol,{size:12})]})})]}),s.jsx(O,{variant:"secondary",size:"sm",onClick:()=>P(S.id),children:"Seguindo"})]},S.id)})}),s.jsx("div",{ref:i,className:"h-8"}),u&&s.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Carregando mais..."})]}),s.jsxs(Yr,{value:"seguidores",className:"mt-0",children:[x?s.jsx("p",{className:"text-sm text-muted-foreground",children:"Carregando..."}):b.length===0?s.jsx("p",{className:"text-sm text-muted-foreground",children:"Nenhum seguidor ainda."}):s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:b.map(S=>{const T=S.display_name||"Usuário",U=p.has(S.id);return s.jsxs("div",{className:"flex items-center justify-between gap-3 rounded-md p-3",children:[s.jsxs(Yt,{to:`/${S.username||S.id}`,className:"flex items-center gap-3 min-w-0",children:[s.jsxs(Dt,{className:"h-10 w-10 shrink-0",children:[s.jsx(It,{src:S.avatar_url||void 0,alt:T}),s.jsx(Ft,{children:T.charAt(0).toUpperCase()})]}),s.jsx("div",{className:"min-w-0",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("p",{className:"text-sm font-medium truncate",children:T}),S.is_pro&&s.jsx(ol,{size:12})]})})]}),U?s.jsx(O,{variant:"secondary",size:"sm",disabled:!0,children:"Seguindo"}):s.jsx(O,{size:"sm",onClick:()=>N(S.id),children:"Seguir"})]},S.id)})}),s.jsx("div",{ref:o,className:"h-8"}),y&&s.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Carregando mais..."})]})]})]})})})]})}const Zl=24;function SY(){var T,U,q,re,G;const{user:e}=ar(),t=Or(),[r,n]=f.useState(!1),{resolvedTheme:a}=is(),i=((T=e==null?void 0:e.user_metadata)==null?void 0:T.full_name)||(e==null?void 0:e.email)||"Usuário",o=((U=e==null?void 0:e.user_metadata)==null?void 0:U.avatar_url)||void 0,l=async()=>{await $.auth.signOut(),t("/")},{toast:c}=Ys(),d=os(),{data:u}=Ze({queryKey:["roles",e==null?void 0:e.id],enabled:!!(e!=null&&e.id),queryFn:async()=>{const{data:H,error:V}=await $.from("user_roles").select("role").eq("user_id",e.id);if(V)throw V;return H}}),h=(u||[]).some(H=>H.role==="musician"),{shouldShowIndicator:m}=Uf({userId:e==null?void 0:e.id,isMusician:h}),[p,w]=f.useState("seguindo"),v=f.useRef(null),g=f.useRef(null),{data:y}=Ze({queryKey:["viewer-following-set",e==null?void 0:e.id],enabled:!!(e!=null&&e.id),queryFn:async()=>{const{data:H,error:V}=await $.from("follows").select("followee_id").eq("follower_id",e.id);if(V)throw V;return new Set((H||[]).map(se=>se.followee_id))}}),x=js({queryKey:["self-following-infinite",e==null?void 0:e.id],enabled:!!(e!=null&&e.id),initialPageParam:0,getNextPageParam:(H,V)=>H.hasMore?V.length:void 0,queryFn:async({pageParam:H})=>{const se=(Number(H)||0)*Zl,ee=se+Zl-1,{data:J,error:I}=await $.from("follows").select("followee_id").eq("follower_id",e.id).order("created_at",{ascending:!1}).range(se,ee);if(I)throw I;const D=(J||[]).map(z=>z.followee_id);if(D.length===0)return{rows:[],hasMore:!1};const{data:C,error:E}=await $.from("profiles").select("id, display_name, avatar_url").in("id",D).eq("is_active",!0).eq("is_blocked",!1);if(E)throw E;const A=new Map((C||[]).map(z=>[z.id,z])),Y=D.map(z=>A.get(z)).filter(Boolean),k=(J||[]).length===Zl;return{rows:Y,hasMore:k}}}),b=f.useMemo(()=>{var H;return(((H=x.data)==null?void 0:H.pages)||[]).flatMap(V=>V.rows)},[(q=x.data)==null?void 0:q.pages]),_=js({queryKey:["self-followers-infinite",e==null?void 0:e.id],enabled:!!(e!=null&&e.id),initialPageParam:0,getNextPageParam:(H,V)=>H.hasMore?V.length:void 0,queryFn:async({pageParam:H})=>{const se=(Number(H)||0)*Zl,ee=se+Zl-1,{data:J,error:I}=await $.from("follows").select("follower_id").eq("followee_id",e.id).order("created_at",{ascending:!1}).range(se,ee);if(I)throw I;const D=(J||[]).map(z=>z.follower_id);if(D.length===0)return{rows:[],hasMore:!1};const{data:C,error:E}=await $.from("profiles").select("id, display_name, avatar_url").in("id",D).eq("is_active",!0).eq("is_blocked",!1);if(E)throw E;const A=new Map((C||[]).map(z=>[z.id,z])),Y=D.map(z=>A.get(z)).filter(Boolean),k=(J||[]).length===Zl;return{rows:Y,hasMore:k}}}),N=f.useMemo(()=>{var H;return(((H=_.data)==null?void 0:H.pages)||[]).flatMap(V=>V.rows)},[(re=_.data)==null?void 0:re.pages]);f.useEffect(()=>{const H=v.current;if(!H||p!=="seguindo")return;const V=new IntersectionObserver(se=>{se[0].isIntersecting&&x.hasNextPage&&!x.isFetchingNextPage&&x.fetchNextPage()});return V.observe(H),()=>V.disconnect()},[p,x.hasNextPage,x.isFetchingNextPage]),f.useEffect(()=>{const H=g.current;if(!H||p!=="seguidores")return;const V=new IntersectionObserver(se=>{se[0].isIntersecting&&_.hasNextPage&&!_.isFetchingNextPage&&_.fetchNextPage()});return V.observe(H),()=>V.disconnect()},[p,_.hasNextPage,_.isFetchingNextPage]);const P=async H=>{if(!(e!=null&&e.id)){c({title:"Entre para seguir",description:"Faça login para seguir perfis."});return}try{const{error:V}=await $.from("follows").insert({follower_id:e.id,followee_id:H});if(V)throw V;c({title:"Agora você segue"}),await d.invalidateQueries({queryKey:["viewer-following-set",e.id]})}catch(V){c({title:"Erro",description:(V==null?void 0:V.message)||"Não foi possível seguir.",variant:"destructive"})}},S=async H=>{if(e!=null&&e.id)try{const{error:V}=await $.from("follows").delete().eq("follower_id",e.id).eq("followee_id",H);if(V)throw V;c({title:"Deixou de seguir"}),await d.invalidateQueries({queryKey:["viewer-following-set",e.id]})}catch(V){c({title:"Erro",description:(V==null?void 0:V.message)||"Não foi possível atualizar.",variant:"destructive"})}};return s.jsx(ai,{children:s.jsxs("div",{className:"min-h-screen flex w-full bg-background",children:[h?s.jsx(zf,{}):null,s.jsxs("main",{className:"flex-1",children:[s.jsx(Xt,{title:"Conexões",description:"Veja quem você segue e seus seguidores."}),s.jsxs("header",{className:"sticky top-0 z-40 h-12 flex items-center bg-background/80 supports-[backdrop-filter]:bg-background/60 backdrop-blur border-b px-4",children:[e&&s.jsx(O,{variant:"ghost",size:"icon",className:"mr-2","aria-label":"Abrir menu",onClick:()=>n(!0),children:s.jsx(Rf,{className:"h-5 w-5"})}),s.jsxs("nav",{className:"flex w-full items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Yt,{to:"/",className:"font-semibold",children:s.jsx("img",{src:a==="dark"?"/logo_avaplay.png":"/logo_avaplay_amarelo.png",alt:"AVAPlay",className:"h-6"})}),s.jsx(Sd,{isVisible:m})]}),s.jsx("div",{className:"hidden md:flex items-center gap-2",children:e?null:s.jsx(O,{onClick:()=>t("/auth"),children:"Entrar"})})]})]}),e&&s.jsx(ca,{open:r,onOpenChange:n,children:s.jsx(Us,{side:"left",className:"w-[16rem] p-0",children:s.jsxs("nav",{className:"p-2",children:[s.jsxs("div",{className:"flex items-center gap-3 p-3 border-b mb-2",children:[s.jsxs(Dt,{className:"h-10 w-10",isPro:!!((G=e==null?void 0:e.user_metadata)!=null&&G.is_pro),children:[s.jsx(It,{src:o,alt:i??"Usuário"}),s.jsx(Ft,{children:(i||"U").charAt(0).toUpperCase()})]}),s.jsx("div",{className:"min-w-0",children:s.jsx("p",{className:"text-sm font-medium truncate",children:i})})]}),h&&s.jsx(O,{variant:"ghost",className:"w-full justify-start",onClick:()=>{n(!1),t("/musician")},children:"Painel"}),s.jsx(O,{variant:"ghost",className:"w-full justify-start",onClick:()=>{n(!1),t("/requests")},children:"Meus Pedidos"}),s.jsx(O,{variant:"ghost",className:"w-full justify-start",onClick:()=>{n(!1),t("/conexoes")},children:"Conexões"}),s.jsx(O,{variant:"ghost",className:"w-full justify-start",onClick:()=>{n(!1),t("/musician/profile")},children:"Editar perfil"}),s.jsx(O,{variant:"ghost",className:"w-full justify-start",onClick:()=>{n(!1),l()},children:"Sair"})]})})}),s.jsxs("section",{className:"max-w-5xl mx-auto px-4 py-6",children:[s.jsx("h1",{className:"text-2xl font-semibold tracking-tight mb-4",children:"Conexões"}),s.jsx(tt,{className:"border-0 shadow-none",children:s.jsx(rt,{className:"p-0",children:s.jsxs(Cd,{value:p,onValueChange:H=>w(H),className:"w-full",children:[s.jsxs(oo,{className:"grid w-full grid-cols-2",children:[s.jsx(zr,{value:"seguindo",children:"Seguindo"}),s.jsx(zr,{value:"seguidores",children:"Seguidores"})]}),s.jsxs("div",{className:"p-4",children:[s.jsxs(Yr,{value:"seguindo",className:"mt-0",children:[x.isLoading?s.jsx("p",{className:"text-sm text-muted-foreground",children:"Carregando..."}):b.length===0?s.jsx("p",{className:"text-sm text-muted-foreground",children:"Você ainda não segue ninguém."}):s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:b.map(H=>{var ee;const V=H.display_name||"Usuário",se=(ee=y==null?void 0:y.has)==null?void 0:ee.call(y,H.id);return s.jsxs("div",{className:"flex items-center justify-between gap-3 rounded-md p-3",children:[s.jsxs(Yt,{to:`/m/${H.id}`,className:"flex items-center gap-3 min-w-0",children:[s.jsxs(Dt,{className:"h-10 w-10 shrink-0",isPro:!!H.is_pro,children:[s.jsx(It,{src:H.avatar_url||void 0,alt:V}),s.jsx(Ft,{children:V.charAt(0).toUpperCase()})]}),s.jsx("div",{className:"min-w-0",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("p",{className:"text-sm font-medium truncate",children:V}),H.is_pro&&s.jsx(ol,{size:12})]})})]}),(e==null?void 0:e.id)&&e.id!==H.id&&(se?s.jsx(O,{variant:"secondary",size:"sm",onClick:()=>S(H.id),children:"Seguindo"}):s.jsx(O,{size:"sm",onClick:()=>P(H.id),children:"Seguir"}))]},H.id)})}),s.jsx("div",{ref:v,className:"h-8"}),x.isFetchingNextPage&&s.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Carregando mais..."})]}),s.jsxs(Yr,{value:"seguidores",className:"mt-0",children:[_.isLoading?s.jsx("p",{className:"text-sm text-muted-foreground",children:"Carregando..."}):N.length===0?s.jsx("p",{className:"text-sm text-muted-foreground",children:"Nenhum seguidor ainda."}):s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:N.map(H=>{var ee;const V=H.display_name||"Usuário",se=(ee=y==null?void 0:y.has)==null?void 0:ee.call(y,H.id);return s.jsxs("div",{className:"flex items-center justify-between gap-3 rounded-md p-3",children:[s.jsxs(Yt,{to:`/m/${H.id}`,className:"flex items-center gap-3 min-w-0",children:[s.jsxs(Dt,{className:"h-10 w-10 shrink-0",isPro:!!H.is_pro,children:[s.jsx(It,{src:H.avatar_url||void 0,alt:V}),s.jsx(Ft,{children:V.charAt(0).toUpperCase()})]}),s.jsx("div",{className:"min-w-0",children:s.jsx("p",{className:"text-sm font-medium truncate",children:V})})]}),(e==null?void 0:e.id)&&e.id!==H.id&&(se?s.jsx(O,{variant:"secondary",size:"sm",disabled:!0,children:"Seguindo"}):s.jsx(O,{size:"sm",onClick:()=>P(H.id),children:"Seguir"}))]},H.id)})}),s.jsx("div",{ref:g,className:"h-8"}),_.isFetchingNextPage&&s.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Carregando mais..."})]})]})]})})})]})]})]})})}function CY(){const[e,t]=f.useState(""),[r,n]=f.useState(""),[a,i]=f.useState(!1),[o,l]=f.useState(""),c=Or(),{resolvedTheme:d}=is(),u=async h=>{h.preventDefault(),i(!0),l("");try{const{data:m,error:p}=await $.auth.signInWithPassword({email:e,password:r});if(p){l(p.message);return}if(m.user){const{data:w,error:v}=await $.rpc("has_admin_role",{_user_id:m.user.id});if(v||!w){l("Acesso negado. Você não tem permissões de administrador."),await $.auth.signOut();return}c("/admin/dashboard")}}catch{l("Erro inesperado. Tente novamente.")}finally{i(!1)}};return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx(Xt,{title:"Admin Login - AVAPlay",description:"Acesso administrativo ao sistema AVAPlay"}),s.jsx("header",{className:"sticky top-0 z-40 h-12 flex items-center bg-background/80 supports-[backdrop-filter]:bg-background/60 backdrop-blur border-b px-4",children:s.jsxs("div",{className:"flex w-full items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Yt,{to:"/",className:"font-semibold",children:s.jsx("img",{src:d==="dark"?"/logo_avaplay.png":"/logo_avaplay_amarelo.png",alt:"AVAPlay",className:"h-6"})}),s.jsx("span",{className:"text-sm text-muted-foreground px-2 py-1 bg-muted rounded-md",children:"Admin"})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsx(hb,{})})]})}),s.jsx("div",{className:"flex items-center justify-center min-h-[calc(100vh-3rem)] p-4",children:s.jsxs(tt,{className:"w-full max-w-md",children:[s.jsxs(Qt,{className:"text-center space-y-2",children:[s.jsx("div",{className:"mx-auto w-12 h-12 bg-primary/10 rounded-full flex items-center justify-center",children:s.jsx("svg",{className:"w-6 h-6 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})}),s.jsx(cr,{className:"text-2xl font-bold",children:"AVAPlay"}),s.jsx(uT,{children:"Entre com suas credenciais administrativas"})]}),s.jsx(rt,{children:s.jsxs("form",{onSubmit:u,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Le,{htmlFor:"email",children:"Email"}),s.jsx(Oe,{id:"email",type:"email",placeholder:"admin@exemplo.com",value:e,onChange:h=>t(h.target.value),required:!0,disabled:a,className:"h-10"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Le,{htmlFor:"password",children:"Senha"}),s.jsx(Oe,{id:"password",type:"password",placeholder:"••••••••",value:r,onChange:h=>n(h.target.value),required:!0,disabled:a,className:"h-10"})]}),o&&s.jsx(Lg,{variant:"destructive",children:s.jsx($g,{children:o})}),s.jsx(O,{type:"submit",className:"w-full h-10",disabled:a,children:a?s.jsxs(s.Fragment,{children:[s.jsx(eg,{className:"mr-2 h-4 w-4 animate-spin"}),"Entrando..."]}):"Entrar"}),s.jsx("div",{className:"text-center",children:s.jsx(Yt,{to:"/",className:"text-sm text-muted-foreground hover:text-foreground transition-colors",children:"← Voltar para o site principal"})})]})})]})})]})}function kY(){const{user:e,loading:t}=ar(),[r,n]=f.useState(!1),[a,i]=f.useState(!0);return f.useEffect(()=>{async function o(){if(console.log("🔍 Verificando permissões admin...",{user:e==null?void 0:e.id,authLoading:t}),!e){console.log("❌ Usuário não autenticado"),n(!1),i(!1);return}try{console.log("🔐 Verificando role admin para usuário:",e.id);const{data:l,error:c}=await $.rpc("has_admin_role",{_user_id:e.id});c?(console.error("❌ Erro ao verificar admin:",c),n(!1)):n(!!l)}catch(l){console.error("❌ Erro inesperado ao verificar admin:",l),n(!1)}finally{i(!1),console.log("🏁 Verificação admin concluída:",{isAdmin:r,isLoading:!1})}}t||o()},[e,t]),f.useEffect(()=>{console.log("🔄 Estado do useAdmin atualizado:",{isAdmin:r,isLoading:a,authLoading:t,userId:e==null?void 0:e.id})},[r,a,t,e==null?void 0:e.id]),{isAdmin:r,isLoading:a||t}}const EY=[{title:"Dashboard",url:"/admin/dashboard",icon:U3},{title:"Usuários",url:"/admin/users",icon:Yc},{title:"Taxas",url:"/admin/fees",icon:T_},{title:"Saque antecipado",url:"/admin/early-fees",icon:T_},{title:"Saques",url:"/admin/withdrawals",icon:tf},{title:"Relatórios",url:"/admin/reports",icon:A3}];function PY(){const{state:e,isMobile:t,setOpenMobile:r}=_d(),n=e==="collapsed",i=Qs().pathname,o=g=>i===g,l=Or(),{user:c}=ar(),{data:d}=Ze({queryKey:["admin-sidebar-profile",c==null?void 0:c.id],enabled:!!(c!=null&&c.id),queryFn:async()=>{const{data:g,error:y}=await $.from("profiles").select("display_name, avatar_url").eq("id",c.id).maybeSingle();if(y)throw y;return g}}),u=(d==null?void 0:d.display_name)||(c==null?void 0:c.email)||"Administrador",h=(d==null?void 0:d.avatar_url)||void 0,{resolvedTheme:m,setTheme:p}=is(),w=async()=>{await $.auth.signOut(),l("/admin/login")},v=()=>p(m==="dark"?"light":"dark");return s.jsx(Nb,{collapsible:"offcanvas",variant:"floating",children:s.jsxs(Cb,{children:[s.jsx(Sb,{children:s.jsx("div",{className:"flex items-center justify-between px-2",children:s.jsxs("div",{className:n?"flex items-center gap-2":"flex flex-col items-center gap-1",children:[s.jsxs(Dt,{className:"h-10 w-10",children:[s.jsx(It,{src:h,alt:u}),s.jsx(Ft,{children:(u||"A").charAt(0).toUpperCase()})]}),!n&&s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"text-xs text-muted-foreground truncate max-w-[10rem]",children:u}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Administrador"})]})]})})}),s.jsx(df,{}),s.jsxs(uf,{children:[s.jsx(ff,{children:"Painel"}),s.jsx(hf,{children:s.jsx(mf,{children:EY.map(g=>s.jsx(Wa,{children:s.jsx(Ha,{asChild:!0,isActive:o(g.url),children:s.jsxs(ap,{to:g.url,end:!0,onClick:()=>{t&&r(!1)},children:[s.jsx(g.icon,{className:"mr-2 h-4 w-4"}),!n&&s.jsx("span",{children:g.title})]})})},g.title))})})]}),s.jsx(df,{}),s.jsxs(uf,{children:[s.jsx(ff,{children:"Conta"}),s.jsx(hf,{children:s.jsxs(mf,{children:[s.jsx(Wa,{children:s.jsxs(Ha,{onClick:v,children:[m==="dark"?s.jsx(rg,{className:"mr-2 h-4 w-4"}):s.jsx(tg,{className:"mr-2 h-4 w-4"}),!n&&s.jsx("span",{children:m==="dark"?"Tema claro":"Tema escuro"})]})}),s.jsx(Wa,{children:s.jsx(Ha,{asChild:!0,isActive:o("/"),children:s.jsxs(ap,{to:"/",end:!0,onClick:()=>{t&&r(!1)},children:[s.jsx(M2,{className:"mr-2 h-4 w-4"}),!n&&s.jsx("span",{children:"Início"})]})})}),s.jsx(Wa,{children:s.jsxs(Ha,{onClick:w,children:[s.jsx(A2,{className:"mr-2 h-4 w-4"}),!n&&s.jsx("span",{children:"Sair"})]})})]})})]})]})})}function TY(){const{isAdmin:e,isLoading:t}=kY(),r=Or(),{resolvedTheme:n}=is();return f.useEffect(()=>{!t&&!e&&r("/admin/login")},[e,t,r]),t?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:s.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary"})}):e?s.jsx(ai,{children:s.jsxs("div",{className:"min-h-screen flex w-full bg-background",children:[s.jsx(PY,{}),s.jsxs("main",{className:"flex-1",children:[s.jsx(Xt,{title:"Painel Administrativo",description:"Gerencie usuários, músicos e configurações do sistema."}),s.jsxs("header",{className:"sticky top-0 z-40 h-12 flex items-center bg-background/80 supports-[backdrop-filter]:bg-background/60 backdrop-blur border-b px-2 gap-2",children:[s.jsx(Nd,{className:"mr-1"}),s.jsx("nav",{className:"flex w-full items-center justify-between",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Yt,{to:"/",className:"font-semibold",children:s.jsx("img",{src:n==="dark"?"/logo_avaplay.png":"/logo_avaplay_amarelo.png",alt:"AVAPlay",className:"h-6"})}),s.jsx("span",{className:"text-sm text-muted-foreground px-2 py-1 bg-muted rounded-md",children:"Admin"}),s.jsx(Sd,{isVisible:!1})]})})]}),s.jsx("div",{className:"p-1",children:s.jsx(YE,{})})]})]})}):null}function gi({title:e,value:t,subtitle:r,icon:n,loading:a=!1,trend:i,className:o}){return a?s.jsxs(tt,{className:le("",o),children:[s.jsxs(Qt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Xe,{className:"h-4 w-24"}),s.jsx(Xe,{className:"h-4 w-4"})]}),s.jsxs(rt,{children:[s.jsx(Xe,{className:"h-8 w-16 mb-2"}),s.jsx(Xe,{className:"h-3 w-32"})]})]}):s.jsxs(tt,{className:le("",o),children:[s.jsxs(Qt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(cr,{className:"text-sm font-medium text-muted-foreground",children:e}),n&&s.jsx("div",{className:"text-muted-foreground",children:n})]}),s.jsxs(rt,{children:[s.jsx("div",{className:"text-2xl font-bold",children:t}),r&&s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:r}),i&&s.jsxs("div",{className:"flex items-center mt-2",children:[s.jsxs("span",{className:le("text-xs font-medium",i.isPositive?"text-green-600":"text-red-600"),children:[i.isPositive?"+":"",i.value,"%"]}),s.jsx("span",{className:"text-xs text-muted-foreground ml-1",children:"vs. período anterior"})]})]})]})}function Qh({title:e,data:t,loading:r=!1,metric:n,className:a}){if(r)return s.jsxs(tt,{className:le("",a),children:[s.jsx(Qt,{children:s.jsx(Xe,{className:"h-5 w-32"})}),s.jsx(rt,{children:s.jsx(Xe,{className:"h-64 w-full"})})]});if(!t||t.length===0)return s.jsxs(tt,{className:le("",a),children:[s.jsx(Qt,{children:s.jsx(cr,{className:"text-lg font-semibold",children:e})}),s.jsx(rt,{children:s.jsx("div",{className:"flex items-center justify-center h-64 text-muted-foreground",children:"Nenhum dado disponível"})})]});const i=t.slice().reverse().map(u=>({date:new Date(u.day).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit"}),value:u[n]})),o=i.map(u=>u.value),l=Math.min(...o),c=Math.max(...o),d=c-l;return s.jsxs(tt,{className:le("",a),children:[s.jsx(Qt,{children:s.jsx(cr,{className:"text-lg font-semibold",children:e})}),s.jsxs(rt,{children:[s.jsx("div",{className:"h-64 flex items-end justify-between gap-1",children:i.map((u,h)=>{const m=d>0?(u.value-l)/d*100:0;return s.jsxs("div",{className:"flex-1 flex flex-col items-center",title:`${u.date}: ${u.value.toLocaleString("pt-BR")}`,children:[s.jsx("div",{className:"w-full bg-primary/20 hover:bg-primary/30 transition-colors rounded-t",style:{height:`${Math.max(m,2)}%`,minHeight:"4px"}}),s.jsx("span",{className:"text-xs text-muted-foreground mt-1 text-center",children:u.date})]},h)})}),s.jsxs("div",{className:"mt-4 flex justify-between text-sm text-muted-foreground",children:[s.jsxs("span",{children:["Mín: ",l.toLocaleString("pt-BR")]}),s.jsxs("span",{children:["Máx: ",c.toLocaleString("pt-BR")]})]})]})]})}function RY(e){const{user:t}=ar(),[r,n]=f.useState(null),[a,i]=f.useState(!0),[o,l]=f.useState(null),[c,d]=f.useState(new Date),u=f.useRef(null),h=f.useRef(!0),m=f.useCallback(async g=>{try{i(!0),l(null);const x=(g||new Date).toISOString().split("T")[0];console.log("🔄 Buscando dados para:",x);const{data:b,error:_}=await $.rpc("get_dashboard_summary",{_day:x});if(_)throw _;if(b&&b.length>0)console.log("✅ Dados obtidos via RPC:",b[0]),n(b[0]);else{const N={day:x,users_total:0,musicians_total:0,songs_total:0,requests_total:0,requests_pending_total:0,musicians_today:0,gross_today:0,ava_today:0,musicians_net_today:0};console.log("📊 Dados padrão criados:",N),n(N)}d(new Date)}catch(y){console.error("❌ Erro ao buscar dados do dashboard:",y),l(y instanceof Error?y.message:"Erro desconhecido")}finally{i(!1)}},[]),p=f.useCallback(()=>{u.current&&clearInterval(u.current),h.current=!0,u.current=setInterval(()=>{h.current&&t&&(console.log("🔄 Polling automático - atualizando dados..."),m(e))},3e4),console.log("⏰ Polling iniciado (30s)")},[m,e,t]),w=f.useCallback(()=>{h.current=!1,u.current&&(clearInterval(u.current),u.current=null),console.log("⏰ Polling parado")},[]);return f.useEffect(()=>{t&&m(e)},[t,e,m]),f.useEffect(()=>{if(t)return console.log("👤 Usuário autenticado, configurando sistema de polling..."),p(),()=>{console.log("⏰ Parando polling..."),w()}},[t,e,p,w]),{data:r,loading:a,error:o,refresh:()=>{console.log("🔄 Refresh manual solicitado"),m(e)},lastUpdate:c}}function MY(){const{user:e}=ar(),[t,r]=f.useState([]),[n,a]=f.useState(!0),[i,o]=f.useState(null),l=f.useCallback(async()=>{try{a(!0),o(null);const d=new Date,u=new Date;u.setDate(u.getDate()-30),console.log("📊 Buscando histórico de",u.toISOString().split("T")[0],"até",d.toISOString().split("T")[0]);const{data:h,error:m}=await $.from("dashboard_daily_summary").select("*").gte("day",u.toISOString().split("T")[0]).lte("day",d.toISOString().split("T")[0]).order("day",{ascending:!1});if(m)throw m;console.log("✅ Histórico obtido:",(h==null?void 0:h.length)||0,"registros"),r(h||[])}catch(d){console.error("❌ Erro ao buscar histórico do dashboard:",d),o(d instanceof Error?d.message:"Erro desconhecido")}finally{a(!1)}},[]);return f.useEffect(()=>{e&&l()},[e,l]),{data:t,loading:n,error:i,refresh:()=>{console.log("🔄 Refresh manual do histórico solicitado"),l()}}}function AY(){const[e,t]=f.useState(new Date),[r,n]=f.useState(!1),{data:a,loading:i,refresh:o,lastUpdate:l}=RY(e),{data:c,loading:d,refresh:u}=MY(),h=g=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(g),m=(g,y)=>{if(y===0)return{value:0,isPositive:!0};const x=(g-y)/y*100;return{value:Math.abs(Math.round(x)),isPositive:x>=0}},w=!c||c.length<2?null:c[1],v=g=>{g&&(console.log("📅 Data alterada para:",g.toISOString().split("T")[0]),t(g),n(!1))};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Dashboard"}),s.jsxs("p",{className:"text-muted-foreground",children:["Visão geral do sistema AVAPlay - ",Ht(e,"PPP",{locale:ul})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(jn,{open:r,onOpenChange:n,children:[s.jsx(_n,{asChild:!0,children:s.jsxs(O,{variant:"outline",className:le("w-[240px] justify-start text-left font-normal",!e&&"text-muted-foreground"),children:[s.jsx(bn,{className:"mr-2 h-4 w-4"}),e?Ht(e,"PPP",{locale:ul}):s.jsx("span",{children:"Selecionar data"})]})}),s.jsx(un,{className:"w-auto p-0",align:"end",children:s.jsx(vs,{mode:"single",selected:e,onSelect:v,initialFocus:!0})})]}),s.jsx(O,{variant:"outline",size:"icon",onClick:()=>{o(),u()},children:s.jsx(P_,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5",children:[s.jsx(gi,{title:"Músicos Totais",value:(a==null?void 0:a.musicians_total.toLocaleString("pt-BR"))||"0",subtitle:"Total de músicos cadastrados",icon:s.jsx(nr,{className:"h-4 w-4"}),loading:i}),s.jsx(gi,{title:"Músicas Totais",value:(a==null?void 0:a.songs_total.toLocaleString("pt-BR"))||"0",subtitle:"Total de músicas cadastradas",icon:s.jsx(gc,{className:"h-4 w-4"}),loading:i}),s.jsx(gi,{title:"Pedidos Totais",value:(a==null?void 0:a.requests_total.toLocaleString("pt-BR"))||"0",subtitle:"Total de pedidos realizados",icon:s.jsx(H3,{className:"h-4 w-4"}),loading:i}),s.jsx(gi,{title:"Pedidos Pendentes",value:(a==null?void 0:a.requests_pending_total.toLocaleString("pt-BR"))||"0",subtitle:"Pedidos aguardando aprovação",icon:s.jsx(R2,{className:"h-4 w-4"}),loading:i}),s.jsx(gi,{title:"Novos Músicos",value:(a==null?void 0:a.musicians_today.toLocaleString("pt-BR"))||"0",subtitle:`Novos músicos em ${Ht(e,"dd/MM/yyyy")}`,icon:s.jsx(nr,{className:"h-4 w-4"}),loading:i,trend:w?m((a==null?void 0:a.musicians_today)||0,w.musicians_today):void 0})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[s.jsx(gi,{title:"Taxa AVA do Dia",value:h((a==null?void 0:a.ava_today)||0),subtitle:`Taxa da plataforma em ${Ht(e,"dd/MM/yyyy")}`,icon:s.jsx(fm,{className:"h-4 w-4"}),loading:i,trend:w?m((a==null?void 0:a.ava_today)||0,w.ava_today):void 0}),s.jsx(gi,{title:"Receita Músicos",value:h((a==null?void 0:a.musicians_net_today)||0),subtitle:`Receita líquida dos músicos em ${Ht(e,"dd/MM/yyyy")}`,icon:s.jsx(fm,{className:"h-4 w-4"}),loading:i,trend:w?m((a==null?void 0:a.musicians_net_today)||0,w.musicians_net_today):void 0}),s.jsx(gi,{title:"Faturamento do Dia",value:h((a==null?void 0:a.gross_today)||0),subtitle:`Faturamento bruto em ${Ht(e,"dd/MM/yyyy")}`,icon:s.jsx(fm,{className:"h-4 w-4"}),loading:i,trend:w?m((a==null?void 0:a.gross_today)||0,w.gross_today):void 0})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsx(Qh,{title:"Evolução de Usuários",data:c,loading:d,metric:"users_total"}),s.jsx(Qh,{title:"Evolução de Músicos",data:c,loading:d,metric:"musicians_total"}),s.jsx(Qh,{title:"Evolução de Pedidos",data:c,loading:d,metric:"requests_total"}),s.jsx(Qh,{title:"Faturamento Diário",data:c,loading:d,metric:"gross_today"})]}),s.jsxs("div",{className:"text-center text-sm text-muted-foreground",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[s.jsx(P_,{className:"h-3 w-3 animate-spin"}),s.jsxs("span",{children:["Atualização automática a cada 30 segundos • Dados para ",Ht(e,"dd/MM/yyyy")]})]}),s.jsxs("div",{className:"text-xs",children:["Última atualização: ",Ht(l,"HH:mm:ss")]})]})]})}function OY(){return s.jsx("div",{className:"p-4",children:s.jsx(AY,{})})}const uA=({className:e,...t})=>s.jsx("nav",{role:"navigation","aria-label":"pagination",className:le("mx-auto flex w-full justify-center",e),...t});uA.displayName="Pagination";const fA=f.forwardRef(({className:e,...t},r)=>s.jsx("ul",{ref:r,className:le("flex flex-row items-center gap-1",e),...t}));fA.displayName="PaginationContent";const V0=f.forwardRef(({className:e,...t},r)=>s.jsx("li",{ref:r,className:le("",e),...t}));V0.displayName="PaginationItem";const cj=({className:e,isActive:t,size:r="icon",...n})=>s.jsx("a",{"aria-current":t?"page":void 0,className:le(Jc({variant:t?"outline":"ghost",size:r}),e),...n});cj.displayName="PaginationLink";const hA=({className:e,...t})=>s.jsxs(cj,{"aria-label":"Go to previous page",size:"default",className:le("gap-1 pl-2.5",e),...t,children:[s.jsx(P2,{className:"h-4 w-4"}),s.jsx("span",{children:"Previous"})]});hA.displayName="PaginationPrevious";const mA=({className:e,...t})=>s.jsxs(cj,{"aria-label":"Go to next page",size:"default",className:le("gap-1 pr-2.5",e),...t,children:[s.jsx("span",{children:"Next"}),s.jsx(Vw,{className:"h-4 w-4"})]});mA.displayName="PaginationNext";const Xh=20;function $x(e){return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e||0)}function zx(e){return Ht(new Date(e),"dd/MM/yyyy",{locale:ul})}function DY(){const[e,t]=f.useState(1),[r,n]=f.useState(""),[a,i]=f.useState(""),[o,l]=f.useState("all"),[c,d]=f.useState(null),[u,h]=f.useState({email:"",display_name:"",username:"",is_pro:!1,is_active:!1,is_blocked:!1,role:""}),{toast:m}=Ys(),p=os(),[w,v]=f.useState(!1),[g,y]=f.useState(null),[x,b]=f.useState([]),[_,N]=f.useState(!1),P=f.useMemo(()=>o==="all"?null:o,[o]),{data:S,isLoading:T,refetch:U,isFetching:q,isError:re,error:G}=Ze({queryKey:["admin-users",{page:e,nameFilter:r,emailFilter:a,roleParam:P}],queryFn:async()=>{try{const{data:C,error:E}=await $.rpc("admin_list_users",{p_search_name:r||null,p_search_email:a||null,p_role:P,p_page:e,p_page_size:Xh});if(E)throw E;return console.log("admin_list_users result",C),C||[]}catch(C){console.error("admin_list_users RPC error",C),m({title:"Erro ao listar usuários (RPC)",description:String((C==null?void 0:C.message)||C)}),a&&m({title:"Filtro por email indisponível",description:"Aplicando fallback sem email. Execute as migrações para habilitar a busca por email."});let E=$.from("profiles").select("id, display_name, username, is_pro, is_active, is_blocked, user_roles(role)",{count:"exact"}).order("display_name",{ascending:!0,nullsFirst:!1});if(r&&(E=E.or(`display_name.ilike.%${r}%,username.ilike.%${r}%`)),P)try{E=E.eq("user_roles.role",P)}catch(R){console.warn("Nested role filter failed; continuing without role filter",R)}const A=(e-1)*Xh,Y=e*Xh-1,{data:k,count:z,error:ne}=await E.range(A,Y);if(ne)throw console.error("profiles fallback error",ne),m({title:"Erro ao listar usuários (fallback)",description:String(ne.message||ne),variant:"destructive"}),ne;return(k||[]).map(R=>({id:R.id,display_name:R.display_name,email:null,username:R.username,is_pro:!!R.is_pro,is_active:!!R.is_active,is_blocked:!!R.is_blocked,roles:(R.user_roles||[]).map(L=>L.role),total_count:z??0}))}},keepPreviousData:!0}),H=S&&S.length>0?S[0].total_count??0:0,V=Math.max(1,Math.ceil(H/Xh));f.useEffect(()=>{t(1)},[r,a,P]);const se=C=>{d(C),h({email:C.email||"",display_name:C.display_name||"",username:C.username||"",is_pro:!!C.is_pro,is_active:!!C.is_active,is_blocked:!!C.is_blocked,role:(C.roles||[]).includes("admin")?"admin":(C.roles||[]).includes("musician")?"musician":(C.roles||[]).includes("public")?"public":""})},ee=()=>d(null),J=async C=>{if(!C.roles.includes("musician")){m({title:"Usuário não é músico",description:"Apenas usuários com perfil de músico têm repasses para visualizar.",variant:"destructive"});return}y(C),v(!0),N(!0);try{const{data:E,error:A}=await $.from("transaction_batches").select("*").eq("musician_id",C.id).order("day",{ascending:!1});if(A)throw A;b(E||[])}catch(E){console.error("Erro ao buscar repasses:",E),m({title:"Erro ao buscar repasses",description:"Não foi possível carregar os repasses deste músico.",variant:"destructive"}),b([])}finally{N(!1)}},I=()=>{v(!1),y(null),b([])},D=si({mutationFn:async()=>{if(!c)return;const C=new Set(c.roles||[]),E=u.role||"public",A=Array.from(C).filter(z=>z!==E);if(!C.has(E)){const{error:z}=await $.from("user_roles").insert([{user_id:c.id,role:E}]);if(z)throw z}if(A.length>0){const{error:z}=await $.from("user_roles").delete().eq("user_id",c.id).in("role",A);if(z)throw z}const Y={display_name:u.display_name,username:u.username,is_pro:u.is_pro,is_active:u.is_active,is_blocked:u.is_blocked},{error:k}=await $.from("profiles").update(Y).eq("id",c.id);if(k)throw k},onSuccess:async()=>{m({title:"Usuário atualizado"}),await p.invalidateQueries({queryKey:["admin-users"]}),ee()},onError:C=>{m({title:"Erro ao atualizar",description:String((C==null?void 0:C.message)||C),variant:"destructive"})}});return s.jsxs("div",{className:"p-2 md:p-4",children:[s.jsxs(tt,{children:[s.jsxs(Qt,{className:"flex flex-col gap-2",children:[s.jsx(cr,{children:"Usuários"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-2",children:[s.jsxs("div",{children:[s.jsx(Le,{htmlFor:"f-name",children:"Nome/Usuário"}),s.jsx(Oe,{id:"f-name",placeholder:"Buscar por nome ou usuário",value:r,onChange:C=>n(C.target.value)})]}),s.jsxs("div",{children:[s.jsx(Le,{htmlFor:"f-email",children:"Email"}),s.jsx(Oe,{id:"f-email",placeholder:"Buscar por email",value:a,onChange:C=>i(C.target.value)})]}),s.jsxs("div",{children:[s.jsx(Le,{children:"Tipo"}),s.jsxs(pl,{value:o,onValueChange:C=>l(C),children:[s.jsx(lo,{children:s.jsx(gl,{placeholder:"Tipo de usuário"})}),s.jsxs(co,{children:[s.jsx(Gr,{value:"all",children:"Todos"}),s.jsx(Gr,{value:"musician",children:"Músico"}),s.jsx(Gr,{value:"public",children:"Público"}),s.jsx(Gr,{value:"admin",children:"Admin"})]})]})]}),s.jsxs("div",{className:"flex items-end gap-2",children:[s.jsx(O,{onClick:()=>U(),disabled:q,children:"Filtrar"}),s.jsx(O,{variant:"outline",onClick:()=>{n(""),i(""),l("all")},children:"Limpar"})]})]})]}),s.jsxs(rt,{children:[re&&s.jsx(Lg,{variant:"destructive",className:"mb-3",children:s.jsx($g,{children:"Ocorreu um erro ao carregar a lista de usuários. Tente novamente ou verifique as migrações."})}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(mo,{children:[s.jsx(po,{children:s.jsxs(Qr,{children:[s.jsx(ht,{children:"Nome público"}),s.jsx(ht,{children:"Email"}),s.jsx(ht,{children:"Usuário"}),s.jsx(ht,{children:"is_pro"}),s.jsx(ht,{children:"is_active"}),s.jsx(ht,{children:"is_blocked"}),s.jsx(ht,{children:"Tipo"}),s.jsx(ht,{children:"Repasses"}),s.jsx(ht,{className:"text-right",children:"Ações"})]})}),s.jsxs(go,{children:[(S||[]).map(C=>s.jsxs(Qr,{className:"hover:bg-muted/50 cursor-pointer",onClick:()=>se(C),children:[s.jsx(lt,{className:"max-w-[16rem] truncate",children:C.display_name||"-"}),s.jsx(lt,{className:"max-w-[20rem] truncate",children:C.email||"-"}),s.jsx(lt,{className:"max-w-[12rem] truncate",children:C.username||"-"}),s.jsx(lt,{children:C.is_pro?s.jsx(Hr,{variant:"default",children:"PRO"}):s.jsx(Hr,{variant:"secondary",children:"—"})}),s.jsx(lt,{children:C.is_active?s.jsx(Hr,{variant:"outline",children:"Ativo"}):s.jsx(Hr,{variant:"secondary",children:"Inativo"})}),s.jsx(lt,{children:C.is_blocked?s.jsx(Hr,{variant:"destructive",children:"Bloqueado"}):s.jsx(Hr,{variant:"secondary",children:"—"})}),s.jsx(lt,{className:"space-x-1",children:(C.roles||[]).map(E=>s.jsx(Hr,{variant:"outline",children:E},E))}),s.jsx(lt,{children:C.roles.includes("musician")?s.jsxs(O,{size:"sm",variant:"outline",onClick:E=>{E.stopPropagation(),J(C)},children:[s.jsx($r,{className:"h-3 w-3 mr-1"}),"Ver"]}):s.jsx("span",{className:"text-muted-foreground text-sm",children:"—"})}),s.jsx(lt,{className:"text-right",children:s.jsx(O,{size:"sm",variant:"outline",onClick:E=>{E.stopPropagation(),se(C)},children:"Editar"})})]},C.id)),!T&&(S||[]).length===0&&s.jsx(Qr,{children:s.jsx(lt,{colSpan:9,className:"text-center text-sm text-muted-foreground",children:"Nenhum usuário encontrado"})})]})]})}),s.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:T?"Carregando...":`${H} resultados`}),s.jsx(uA,{children:s.jsxs(fA,{children:[s.jsx(V0,{children:s.jsx(hA,{href:"#",onClick:C=>{C.preventDefault(),t(E=>Math.max(1,E-1))},className:e<=1?"pointer-events-none opacity-50":""})}),s.jsx(V0,{children:s.jsx(mA,{href:"#",onClick:C=>{C.preventDefault(),t(E=>Math.min(V,E+1))},className:e>=V?"pointer-events-none opacity-50":""})})]})})]})]})]}),s.jsx(Ur,{open:!!c,onOpenChange:C=>{C||ee()},children:s.jsxs(Pr,{className:"max-h-[85vh] p-0 overflow-hidden",children:[s.jsx(Tr,{className:"px-6 pt-6",children:s.jsx(Rr,{children:"Editar usuário"})}),s.jsxs("div",{className:"grid gap-4 px-6 py-4 flex-1 overflow-y-auto",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2 col-span-2",children:[s.jsx(Le,{htmlFor:"edit-email",children:"Email"}),s.jsx(Oe,{id:"edit-email",type:"email",value:u.email,onChange:C=>h(E=>({...E,email:C.target.value}))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Le,{htmlFor:"edit-display-name",children:"Nome público"}),s.jsx(Oe,{id:"edit-display-name",value:u.display_name,onChange:C=>h(E=>({...E,display_name:C.target.value}))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Le,{htmlFor:"edit-username",children:"Usuário"}),s.jsx(Oe,{id:"edit-username",value:u.username,onChange:C=>h(E=>({...E,username:C.target.value}))})]}),s.jsxs("div",{className:"space-y-2 col-span-2",children:[s.jsx(Le,{children:"Tipo"}),s.jsxs(pl,{value:u.role||"public",onValueChange:C=>h(E=>({...E,role:C})),children:[s.jsx(lo,{children:s.jsx(gl,{placeholder:"Selecione o tipo"})}),s.jsxs(co,{children:[s.jsx(Gr,{value:"public",children:"Público"}),s.jsx(Gr,{value:"musician",children:"Músico"}),s.jsx(Gr,{value:"admin",children:"Admin"})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"flex items-center justify-between rounded-lg border p-3",children:[s.jsxs("div",{children:[s.jsx(Le,{className:"mb-0",children:"Pro"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Exibe selo PRO"})]}),s.jsx(eo,{checked:u.is_pro,onCheckedChange:C=>h(E=>({...E,is_pro:C}))})]}),s.jsxs("div",{className:"flex items-center justify-between rounded-lg border p-3",children:[s.jsxs("div",{children:[s.jsx(Le,{className:"mb-0",children:"Ativo"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Permite login"})]}),s.jsx(eo,{checked:u.is_active,onCheckedChange:C=>h(E=>({...E,is_active:C}))})]}),s.jsxs("div",{className:"flex items-center justify-between rounded-lg border p-3",children:[s.jsxs("div",{children:[s.jsx(Le,{className:"mb-0",children:"Bloqueado"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Restringe acesso"})]}),s.jsx(eo,{checked:u.is_blocked,onCheckedChange:C=>h(E=>({...E,is_blocked:C}))})]})]})]}),s.jsxs(pa,{className:"px-6 py-4 border-t bg-background sm:flex-row sm:justify-end gap-2",children:[s.jsx(O,{variant:"outline",onClick:ee,children:"Cancelar"}),s.jsx(O,{onClick:()=>D.mutate(),disabled:D.isPending,children:"Salvar"})]})]})}),s.jsx(Ur,{open:w,onOpenChange:v,children:s.jsxs(Pr,{className:"max-w-4xl max-h-[85vh] p-0 overflow-hidden",children:[s.jsx(Tr,{className:"px-6 pt-6",children:s.jsxs(Rr,{className:"flex items-center gap-2",children:[s.jsx(tf,{className:"h-5 w-5"}),"Repasses - ",(g==null?void 0:g.display_name)||(g==null?void 0:g.username)||"Músico"]})}),s.jsx("div",{className:"px-6 py-4 flex-1 overflow-y-auto",children:_?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Carregando repasses..."})]}):x.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(tf,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Nenhum repasse encontrado para este músico."})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Total de ",x.length," repasse(s) encontrado(s)"]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(mo,{children:[s.jsx(po,{children:s.jsxs(Qr,{children:[s.jsx(ht,{children:"Período"}),s.jsx(ht,{children:"Valor Bruto"}),s.jsx(ht,{children:"Valor Líquido"}),s.jsx(ht,{children:"Status"}),s.jsx(ht,{children:"Solicitado em"}),s.jsx(ht,{children:"Repassado em"}),s.jsx(ht,{children:"Antecipado"})]})}),s.jsx(go,{children:x.map(C=>s.jsxs(Qr,{children:[s.jsx(lt,{className:"font-medium",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(bn,{className:"h-4 w-4 text-muted-foreground"}),zx(C.day)]})}),s.jsx(lt,{className:"font-mono",children:$x(C.total_musician_amount)}),s.jsx(lt,{className:"font-mono",children:$x(C.total_musician_payout)}),s.jsx(lt,{children:s.jsx(Hr,{variant:C.status==="paid"?"default":"secondary",className:C.status==="paid"?"bg-green-100 text-green-800":"",children:C.status==="paid"?"Pago":"Solicitado"})}),s.jsx(lt,{children:C.requested_at?zx(C.requested_at):"—"}),s.jsx(lt,{children:C.payout_at?zx(C.payout_at):"—"}),s.jsx(lt,{children:C.is_early?s.jsxs("div",{className:"text-sm",children:[s.jsxs(Hr,{variant:"outline",className:"text-orange-600 border-orange-600",children:[C.early_discount_percent,"% desconto"]}),s.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:$x(C.early_discount_amount)})]}):s.jsx("span",{className:"text-muted-foreground text-sm",children:"—"})})]},C.id))})]})})]})}),s.jsx(pa,{className:"px-6 py-4 border-t bg-background",children:s.jsx(O,{variant:"outline",onClick:I,children:"Fechar"})})]})})]})}function IY(){const{toast:e}=Ys(),t=os(),[r,n]=f.useState(""),[a,i]=f.useState("5"),{data:o,isFetching:l}=Ze({queryKey:["fee-rates"],queryFn:async()=>{const u=await $.from("platform_fee_rates").select("id, percent, is_active, effective_from, days_to_payout").order("effective_from",{ascending:!1});if(!u.error)return u.data||[];if(String(u.error.message||u.error).includes("days_to_payout")){const{data:m,error:p}=await $.from("platform_fee_rates").select("id, percent, is_active, effective_from").order("effective_from",{ascending:!1});if(p)throw p;return m||[]}throw u.error}}),c=si({mutationFn:async()=>{const u=Number(r);if(isNaN(u)||u<0||u>100)throw new Error("Percentual inválido");const h=Number(a);if(!Number.isInteger(h)||h<0||h>60)throw new Error("Dias inválidos (0-60)");const m=await $.from("platform_fee_rates").insert({percent:u,is_active:!1,days_to_payout:h});if(!m.error)return;if(String(m.error.message||m.error).includes("days_to_payout")){const{error:w}=await $.from("platform_fee_rates").insert({percent:u,is_active:!1});if(w)throw w;return}throw m.error},onSuccess:async()=>{n(""),i("5"),e({title:"Taxa criada"}),await t.invalidateQueries({queryKey:["fee-rates"]})},onError:u=>e({title:"Erro",description:String((u==null?void 0:u.message)||u),variant:"destructive"})}),d=si({mutationFn:async u=>{const{error:h}=await $.from("platform_fee_rates").update({is_active:!1}).neq("id",u);if(h)throw h;const{error:m}=await $.from("platform_fee_rates").update({is_active:!0}).eq("id",u);if(m)throw m},onSuccess:async()=>{e({title:"Taxa ativada"}),await t.invalidateQueries({queryKey:["fee-rates"]})},onError:u=>e({title:"Erro",description:String((u==null?void 0:u.message)||u),variant:"destructive"})});return s.jsx("div",{className:"p-4 space-y-4",children:s.jsxs(tt,{children:[s.jsx(Qt,{children:s.jsx(cr,{children:"Taxas da Plataforma"})}),s.jsxs(rt,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-end gap-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Le,{htmlFor:"pct",children:"Percentual (%)"}),s.jsx(Oe,{id:"pct",placeholder:"Ex: 10",value:r,onChange:u=>n(u.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Le,{htmlFor:"days",children:"D+N (dias para saque normal)"}),s.jsx(Oe,{id:"days",placeholder:"Ex: 5",value:a,onChange:u=>i(u.target.value)})]}),s.jsx(O,{onClick:()=>c.mutate(),disabled:c.isPending||l,children:"Adicionar"})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(mo,{children:[s.jsx(po,{children:s.jsxs(Qr,{children:[s.jsx(ht,{children:"Percentual"}),s.jsx(ht,{children:"Vigente"}),s.jsx(ht,{children:"Início"}),s.jsx(ht,{children:"D+N"}),s.jsx(ht,{className:"text-right",children:"Ações"})]})}),s.jsx(go,{children:(o||[]).map(u=>s.jsxs(Qr,{children:[s.jsxs(lt,{children:[u.percent,"%"]}),s.jsx(lt,{children:u.is_active?s.jsx(Hr,{children:"Ativa"}):s.jsx(Hr,{variant:"secondary",children:"—"})}),s.jsx(lt,{children:new Date(u.effective_from).toLocaleString("pt-BR")}),s.jsx(lt,{children:u.days_to_payout??5}),s.jsx(lt,{className:"text-right",children:!u.is_active&&s.jsx(O,{size:"sm",variant:"outline",onClick:()=>d.mutate(u.id),children:"Ativar"})})]},u.id))})]})})]})]})})}function FY(){const{toast:e}=Ys(),t=os(),[r,n]=f.useState(""),{data:a,isFetching:i}=Ze({queryKey:["early-withdrawal-rates"],queryFn:async()=>{const{data:c,error:d}=await $.from("early_withdrawal_rates").select("id, percent, is_active, effective_from").order("effective_from",{ascending:!1});if(d)throw d;return c||[]}}),o=si({mutationFn:async()=>{const c=Number(r);if(isNaN(c)||c<0||c>100)throw new Error("Percentual inválido");const{error:d}=await $.from("early_withdrawal_rates").insert({percent:c,is_active:!1});if(d)throw d},onSuccess:async()=>{n(""),e({title:"Taxa de saque criada"}),await t.invalidateQueries({queryKey:["early-withdrawal-rates"]})},onError:c=>e({title:"Erro",description:String((c==null?void 0:c.message)||c),variant:"destructive"})}),l=si({mutationFn:async c=>{const{error:d}=await $.from("early_withdrawal_rates").update({is_active:!1}).neq("id",c);if(d)throw d;const{error:u}=await $.from("early_withdrawal_rates").update({is_active:!0}).eq("id",c);if(u)throw u},onSuccess:async()=>{e({title:"Taxa ativada"}),await t.invalidateQueries({queryKey:["early-withdrawal-rates"]})},onError:c=>e({title:"Erro",description:String((c==null?void 0:c.message)||c),variant:"destructive"})});return s.jsx("div",{className:"p-4 space-y-4",children:s.jsxs(tt,{children:[s.jsx(Qt,{children:s.jsx(cr,{children:"Taxas de Saque Antecipado"})}),s.jsxs(rt,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-end gap-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Le,{htmlFor:"pct",children:"Percentual (%)"}),s.jsx(Oe,{id:"pct",placeholder:"Ex: 5",value:r,onChange:c=>n(c.target.value)})]}),s.jsx(O,{onClick:()=>o.mutate(),disabled:o.isPending||i,children:"Adicionar"})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(mo,{children:[s.jsx(po,{children:s.jsxs(Qr,{children:[s.jsx(ht,{children:"Percentual"}),s.jsx(ht,{children:"Vigente"}),s.jsx(ht,{children:"Início"}),s.jsx(ht,{className:"text-right",children:"Ações"})]})}),s.jsx(go,{children:(a||[]).map(c=>s.jsxs(Qr,{children:[s.jsxs(lt,{children:[c.percent,"%"]}),s.jsx(lt,{children:c.is_active?s.jsx(Hr,{children:"Ativa"}):s.jsx(Hr,{variant:"secondary",children:"—"})}),s.jsx(lt,{children:new Date(c.effective_from).toLocaleString("pt-BR")}),s.jsx(lt,{className:"text-right",children:!c.is_active&&s.jsx(O,{size:"sm",variant:"outline",onClick:()=>l.mutate(c.id),children:"Ativar"})})]},c.id))})]})})]})]})})}function LY(){const[e,t]=f.useState(!1),{toast:r}=Ys();return{copyToClipboard:async(a,i)=>{try{await navigator.clipboard.writeText(a),t(!0),r({title:"Copiado!",description:i||"Texto copiado para a área de transferência",duration:2e3}),setTimeout(()=>t(!1),2e3)}catch(o){console.error("Failed to copy text: ",o);try{const l=document.createElement("textarea");l.value=a,l.style.position="fixed",l.style.left="-999999px",l.style.top="-999999px",document.body.appendChild(l),l.focus(),l.select(),document.execCommand("copy"),l.remove(),t(!0),r({title:"Copiado!",description:i||"Texto copiado para a área de transferência",duration:2e3}),setTimeout(()=>t(!1),2e3)}catch{r({title:"Erro",description:"Não foi possível copiar o texto",variant:"destructive",duration:3e3})}}},copied:e}}const Ux=20;function Bx(e){return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e||0)}function qx(e){if(!e)return"-";const t=new Date(e);return isNaN(t.getTime())?"-":Ht(t,"dd/MM/yyyy",{locale:ul})}function $Y(e){if(!e)return"-";const t=new Date(e);return isNaN(t.getTime())?"-":Ht(t,"dd/MM/yyyy HH:mm",{locale:ul})}function zY(){var D,C,E,A,Y;const{user:e}=ar(),{toast:t}=Ys(),{copyToClipboard:r,copied:n}=LY(),a=os(),[i,o]=f.useState(!1),[l,c]=f.useState(null),[d,u]=f.useState(new Date),[h,m]=f.useState(!1),[p,w]=f.useState({from:Ou(new Date,30),to:new Date}),[v,g]=f.useState("all");f.useState(!1);const{data:y,fetchNextPage:x,hasNextPage:b,isFetchingNextPage:_,isLoading:N,error:P,refetch:S}=js({queryKey:["admin-withdrawals",p==null?void 0:p.from,p==null?void 0:p.to,v],enabled:!!e,initialPageParam:0,getNextPageParam:k=>k.nextCursor,queryFn:async({pageParam:k})=>{const z=Number(k)||0,ne=z+Ux-1;let Q=$.from("transaction_batches").select(`
          *,
          musician_profile:profiles!transaction_batches_musician_id_fkey(
            display_name,
            username,
            pix_key,
            responsible_name,
            responsible_whatsapp
          )
        `);v==="requested"?Q=Q.eq("status","requested"):v==="paid"&&(Q=Q.eq("status","paid")),p!=null&&p.from&&(Q=Q.gte("day",p.from.toISOString().split("T")[0])),p!=null&&p.to&&(Q=Q.lte("day",p.to.toISOString().split("T")[0])),v==="paid"?Q=Q.order("payout_at",{ascending:!1}):Q=Q.order("requested_at",{ascending:!1});const{data:R,error:L}=await Q.range(z,ne);if(L)throw L;const Z=R||[];return{items:Z,nextCursor:Z.length===Ux?z+Ux:void 0}},onError:k=>{t({title:"Erro ao carregar saques",description:(k==null?void 0:k.message)||"Verifique suas permissões ou tente novamente.",variant:"destructive"}),console.error("[Admin Withdrawals] query error:",k)}}),T=(y==null?void 0:y.pages.flatMap(k=>k.items))??[],U=si({mutationFn:async({batchId:k,payoutDate:z})=>{const{error:ne}=await $.from("transaction_batches").update({status:"paid",payout_at:z.toISOString(),updated_at:new Date().toISOString()}).eq("id",k);if(ne)throw ne;return{success:!0}},onSuccess:()=>{t({title:"Repasse confirmado!",description:"O saque foi marcado como pago com sucesso."}),o(!1),c(null),a.invalidateQueries({queryKey:["admin-withdrawals"]})},onError:k=>{t({title:"Erro ao confirmar repasse",description:k.message||"Tente novamente.",variant:"destructive"})}}),q=si({mutationFn:async({batchId:k})=>{const{error:z}=await $.from("transaction_batches").update({status:"requested",payout_at:null,updated_at:new Date().toISOString()}).eq("id",k);if(z)throw z;return{success:!0}},onSuccess:()=>{t({title:"Confirmação revertida!",description:"O saque voltou ao status de solicitado."}),a.invalidateQueries({queryKey:["admin-withdrawals"]})},onError:k=>{t({title:"Erro ao reverter confirmação",description:k.message||"Tente novamente.",variant:"destructive"})}}),re=f.useCallback(async()=>{if(!(!l||!d)){m(!0);try{await U.mutateAsync({batchId:l.id,payoutDate:d})}finally{m(!1)}}},[l,d,U]),G=f.useCallback(async k=>{confirm("Tem certeza que deseja reverter a confirmação deste repasse?")&&await q.mutateAsync({batchId:k})},[q]),H=f.useCallback(k=>{w(k),a.invalidateQueries({queryKey:["admin-withdrawals"]})},[a]),V=f.useCallback(k=>{g(k),a.invalidateQueries({queryKey:["admin-withdrawals"]})},[a]),se=f.useCallback(()=>{w({from:Ou(new Date,30),to:new Date}),g("all"),a.invalidateQueries({queryKey:["admin-withdrawals"]})},[a]),ee=f.useCallback(k=>{c(k),u(new Date),o(!0)},[]),J=f.useCallback((k,z)=>{if(!k||k==="Não configurado"){t({title:"Chave PIX não disponível",description:"Este músico não configurou uma chave PIX",variant:"destructive"});return}r(k,`Chave PIX de ${z} copiada!`)},[r,t]),I=(k,z,ne)=>ne?s.jsx(Hr,{variant:"default",className:"bg-green-600",children:"Pago"}):k==="requested"?s.jsx(Hr,{variant:z?"secondary":"default",children:z?"Antecipado":"Solicitado"}):s.jsx(Hr,{variant:"outline",children:k});return e?s.jsxs(s.Fragment,{children:[s.jsx(Xt,{title:"Gerenciar Saques - Admin",description:"Gerencie todos os saques solicitados pelos músicos"}),s.jsxs("div",{className:"p-6 space-y-6",children:[P&&s.jsxs("div",{className:"p-3 rounded-md border border-destructive/30 bg-destructive/10 text-destructive text-sm",children:["Erro ao carregar dados: ",String((P==null?void 0:P.message)||P)]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Gerenciar Saques"}),s.jsx("p",{className:"text-muted-foreground",children:"Gerencie todos os saques solicitados e repasses confirmados pelos músicos"})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsx(O,{onClick:()=>S(),variant:"outline",children:"Atualizar"})})]}),s.jsxs(tt,{children:[s.jsx(Qt,{children:s.jsxs(cr,{className:"flex items-center gap-2",children:[s.jsx(hm,{className:"h-5 w-5"}),"Filtros"]})}),s.jsxs(rt,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Status"}),s.jsxs("select",{value:v,onChange:k=>V(k.target.value),className:"w-full p-2 border rounded-md",children:[s.jsx("option",{value:"all",children:"Todos os Status"}),s.jsx("option",{value:"requested",children:"Solicitados"}),s.jsx("option",{value:"paid",children:"Repasses Confirmados"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Data Início"}),s.jsxs(jn,{children:[s.jsx(_n,{asChild:!0,children:s.jsxs(O,{variant:"outline",className:le("w-full justify-start text-left font-normal",!(p!=null&&p.from)&&"text-muted-foreground"),children:[s.jsx(bn,{className:"mr-2 h-4 w-4"}),p!=null&&p.from?Ht(p.from,"dd/MM/yyyy"):s.jsx("span",{children:"Selecionar data"})]})}),s.jsx(un,{className:"w-auto p-0",align:"start",children:s.jsx(vs,{mode:"single",selected:p==null?void 0:p.from,onSelect:k=>H({from:k,to:p==null?void 0:p.to}),initialFocus:!0})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Data Fim"}),s.jsxs(jn,{children:[s.jsx(_n,{asChild:!0,children:s.jsxs(O,{variant:"outline",className:le("w-full justify-start text-left font-normal",!(p!=null&&p.to)&&"text-muted-foreground"),children:[s.jsx(bn,{className:"mr-2 h-4 w-4"}),p!=null&&p.to?Ht(p.to,"dd/MM/yyyy"):s.jsx("span",{children:"Selecionar data"})]})}),s.jsx(un,{className:"w-auto p-0",align:"start",children:s.jsx(vs,{mode:"single",selected:p==null?void 0:p.to,onSelect:k=>H({from:p==null?void 0:p.from,to:k}),initialFocus:!0})})]})]})]}),s.jsxs("div",{className:"flex items-center justify-between mt-4",children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:(p==null?void 0:p.from)&&(p==null?void 0:p.to)&&s.jsxs(s.Fragment,{children:["Período: ",Ht(p.from,"dd/MM/yyyy")," a ",Ht(p.to,"dd/MM/yyyy"),v!=="all"&&s.jsxs("span",{className:"ml-2",children:["• Status: ",v==="requested"?"Solicitados":"Repasses Confirmados"]})]})}),s.jsx(O,{onClick:se,variant:"outline",size:"sm",children:"Limpar Filtros"})]})]})]}),s.jsxs(tt,{children:[s.jsx(Qt,{children:s.jsxs(cr,{className:"flex items-center gap-2",children:[s.jsx(tf,{className:"h-5 w-5"}),v==="all"?`Todos os Saques (${T.length})`:v==="requested"?`Saques Solicitados (${T.length})`:`Repasses Confirmados (${T.length})`]})}),s.jsx(rt,{children:N?s.jsx("div",{className:"text-center py-8",children:"Carregando saques..."}):T.length===0?s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:v==="all"?"Nenhum saque encontrado no período selecionado.":v==="requested"?"Nenhum saque solicitado encontrado no período selecionado.":"Nenhum repasse confirmado encontrado no período selecionado."}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs(mo,{children:[s.jsx(po,{children:s.jsxs(Qr,{children:[s.jsx(ht,{children:"Músico"}),s.jsx(ht,{children:"Data do Lote"}),s.jsx(ht,{children:"Valor para Repasse"}),s.jsx(ht,{children:"Chave PIX"}),s.jsx(ht,{children:"Status"}),s.jsx(ht,{children:"Solicitado em"}),s.jsx(ht,{children:"Ações"})]})}),s.jsx(go,{children:T.map(k=>{var z,ne,Q,R,L,Z,ue,_e;return s.jsxs(Qr,{children:[s.jsx(lt,{children:s.jsxs("div",{className:"space-y-1",children:[s.jsx("div",{className:"font-medium",children:((z=k.musician_profile)==null?void 0:z.display_name)||"Sem nome"}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:["@",((ne=k.musician_profile)==null?void 0:ne.username)||"sem-username"]}),((Q=k.musician_profile)==null?void 0:Q.responsible_name)&&s.jsxs("div",{className:"text-xs text-muted-foreground",children:["Responsável: ",k.musician_profile.responsible_name]})]})}),s.jsx(lt,{children:s.jsxs("div",{className:"space-y-1",children:[s.jsx("div",{children:qx(k.day)}),k.is_early&&s.jsxs(Hr,{variant:"secondary",className:"text-xs",children:["Antecipado (-",k.early_discount_percent,"%)"]})]})}),s.jsx(lt,{children:s.jsxs("div",{className:"space-y-1",children:[s.jsx("div",{className:"font-medium text-green-600",children:Bx(k.total_musician_payout)}),k.early_discount_amount>0&&s.jsxs("div",{className:"text-xs text-muted-foreground",children:["Desconto: ",Bx(k.early_discount_amount)]})]})}),s.jsx(lt,{children:s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:le("flex items-center gap-2 p-2 rounded-md transition-colors",(R=k.musician_profile)!=null&&R.pix_key&&k.musician_profile.pix_key!=="Não configurado"?"cursor-pointer hover:bg-muted/50 group":"cursor-not-allowed opacity-60"),onClick:()=>{var me,xe;return J((me=k.musician_profile)==null?void 0:me.pix_key,((xe=k.musician_profile)==null?void 0:xe.display_name)||"Músico")},title:(L=k.musician_profile)!=null&&L.pix_key&&k.musician_profile.pix_key!=="Não configurado"?"Clique para copiar a chave PIX":"Chave PIX não configurada",children:[s.jsx(z3,{className:"h-3 w-3 flex-shrink-0"}),s.jsx("span",{className:"font-mono text-sm flex-1 min-w-0 truncate",children:((Z=k.musician_profile)==null?void 0:Z.pix_key)||"Não configurado"}),((ue=k.musician_profile)==null?void 0:ue.pix_key)&&k.musician_profile.pix_key!=="Não configurado"&&s.jsx(C_,{className:"h-3 w-3 opacity-0 group-hover:opacity-100 transition-opacity"})]}),((_e=k.musician_profile)==null?void 0:_e.responsible_whatsapp)&&s.jsxs("div",{className:"text-xs text-muted-foreground pl-5",children:["WhatsApp: ",k.musician_profile.responsible_whatsapp]})]})}),s.jsx(lt,{children:I(k.status,k.is_early,k.payout_at)}),s.jsx(lt,{children:s.jsxs("div",{className:"space-y-1",children:[s.jsx("div",{children:$Y(k.requested_at||"")}),k.payout_scheduled_for&&s.jsxs("div",{className:"text-xs text-muted-foreground",children:["Agendado: ",qx(k.payout_scheduled_for)]})]})}),s.jsx(lt,{children:s.jsx("div",{className:"flex items-center gap-2",children:k.payout_at?s.jsxs(O,{size:"sm",variant:"outline",onClick:()=>G(k.id),className:"text-orange-600 border-orange-600 hover:bg-orange-50",children:[s.jsx(Hw,{className:"h-4 w-4 mr-1"}),"Reverter"]}):s.jsxs(O,{size:"sm",onClick:()=>ee(k),className:"bg-green-600 hover:bg-green-700",children:[s.jsx(O3,{className:"h-4 w-4 mr-1"}),"Confirmar"]})})})]},k.id)})})]}),b&&s.jsx("div",{className:"flex justify-center pt-4",children:s.jsx(O,{onClick:()=>x(),disabled:_,variant:"outline",children:_?"Carregando...":"Carregar mais"})})]})})]}),s.jsx(Ur,{open:i,onOpenChange:o,children:s.jsxs(Pr,{children:[s.jsxs(Tr,{children:[s.jsx(Rr,{children:"Confirmar Repasse"}),s.jsx(Du,{children:"Confirme que o repasse foi efetuado para o músico."})]}),l&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4 p-4 bg-muted rounded-lg",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Músico"}),s.jsx("div",{className:"font-medium",children:((D=l.musician_profile)==null?void 0:D.display_name)||"Sem nome"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Valor"}),s.jsx("div",{className:"font-medium text-green-600",children:Bx(l.total_musician_payout)})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Chave PIX"}),s.jsxs("div",{className:le("font-mono text-sm p-2 rounded-md border transition-colors",(C=l.musician_profile)!=null&&C.pix_key&&l.musician_profile.pix_key!=="Não configurado"?"cursor-pointer hover:bg-muted/50 group flex items-center gap-2":"cursor-not-allowed opacity-60"),onClick:()=>{var k,z;return J((k=l.musician_profile)==null?void 0:k.pix_key,((z=l.musician_profile)==null?void 0:z.display_name)||"Músico")},title:(E=l.musician_profile)!=null&&E.pix_key&&l.musician_profile.pix_key!=="Não configurado"?"Clique para copiar a chave PIX":"Chave PIX não configurada",children:[s.jsx("span",{className:"flex-1",children:((A=l.musician_profile)==null?void 0:A.pix_key)||"Não configurado"}),((Y=l.musician_profile)==null?void 0:Y.pix_key)&&l.musician_profile.pix_key!=="Não configurado"&&s.jsx(C_,{className:"h-3 w-3 opacity-0 group-hover:opacity-100 transition-opacity"})]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Data do Lote"}),s.jsx("div",{className:"font-medium",children:qx(l.day)})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Data da Confirmação"}),s.jsxs(jn,{children:[s.jsx(_n,{asChild:!0,children:s.jsxs(O,{variant:"outline",className:le("w-full justify-start text-left font-normal",!d&&"text-muted-foreground"),children:[s.jsx(bn,{className:"mr-2 h-4 w-4"}),d?Ht(d,"PPP",{locale:ul}):s.jsx("span",{children:"Selecionar data"})]})}),s.jsx(un,{className:"w-auto p-0",align:"start",children:s.jsx(vs,{mode:"single",selected:d,onSelect:u,initialFocus:!0})})]})]})]}),s.jsxs(pa,{children:[s.jsx(O,{variant:"outline",onClick:()=>o(!1),disabled:h,children:"Cancelar"}),s.jsx(O,{onClick:re,disabled:!d||h,className:"bg-green-600 hover:bg-green-700",children:h?"Confirmando...":"Confirmar Repasse"})]})]})})]})]}):s.jsx("div",{children:"Carregando..."})}const UY=new m5,BY=()=>s.jsx(y5,{client:UY,children:s.jsx(MF,{attribute:"class",defaultTheme:"system",enableSystem:!0,children:s.jsxs(jE,{children:[s.jsx(PF,{}),s.jsx(dL,{}),s.jsxs(k6,{children:[s.jsxs(y6,{children:[s.jsx(wt,{path:"/",element:s.jsx(BB,{})}),s.jsx(wt,{path:"/auth",element:s.jsx(GB,{})}),s.jsx(wt,{path:"/auth/reset",element:s.jsx(jY,{})}),s.jsx(wt,{path:"/requests",element:s.jsx(_7,{})}),s.jsx(wt,{path:"/scan",element:s.jsx(N7,{})}),s.jsx(wt,{path:"/m/:mid",element:s.jsx(oM,{})}),s.jsx(wt,{path:"/m/:mid/agenda",element:s.jsx(_H,{})}),s.jsx(wt,{path:"/na",element:s.jsx(oH,{})}),s.jsx(wt,{path:"/blocked",element:s.jsx(lH,{})}),s.jsxs(wt,{path:"/musician",element:s.jsx(BK,{}),children:[s.jsx(wt,{index:!0,element:s.jsx(l0,{to:"/musician/catalogo",replace:!0})}),s.jsx(wt,{path:"qr",element:s.jsx(qK,{})}),s.jsx(wt,{path:"catalogo",element:s.jsx(pY,{})}),s.jsx(wt,{path:"pedidos",element:s.jsx(vY,{})}),s.jsx(wt,{path:"agenda",element:s.jsx(bY,{})}),s.jsx(wt,{path:"extrato",element:s.jsx(wY,{})}),s.jsx(wt,{path:"perfis",element:s.jsx(_Y,{})}),s.jsx(wt,{path:"seguindo",element:s.jsx(NY,{})})]}),s.jsx(wt,{path:"/musician/profile",element:s.jsx(zK,{})}),s.jsx(wt,{path:"/conexoes",element:s.jsx(SY,{})}),s.jsx(wt,{path:":username",element:s.jsx(Ro,{})}),s.jsx(wt,{path:":username/:section",element:s.jsx(Ro,{})}),s.jsx(wt,{path:":username/pedir-musica",element:s.jsx(Ro,{})}),s.jsx(wt,{path:":username/agenda",element:s.jsx(Ro,{})}),s.jsx(wt,{path:":username/fotos",element:s.jsx(Ro,{})}),s.jsx(wt,{path:":username/contratar",element:s.jsx(Ro,{})}),s.jsx(wt,{path:":username/contribuir",element:s.jsx(Ro,{})}),s.jsx(wt,{path:"/admin/login",element:s.jsx(CY,{})}),s.jsxs(wt,{path:"/admin",element:s.jsx(TY,{}),children:[s.jsx(wt,{index:!0,element:s.jsx(l0,{to:"/admin/dashboard",replace:!0})}),s.jsx(wt,{path:"dashboard",element:s.jsx(OY,{})}),s.jsx(wt,{path:"users",element:s.jsx(DY,{})}),s.jsx(wt,{path:"fees",element:s.jsx(IY,{})}),s.jsx(wt,{path:"early-fees",element:s.jsx(FY,{})}),s.jsx(wt,{path:"withdrawals",element:s.jsx(zY,{})})]}),s.jsx(wt,{path:"*",element:s.jsx(NH,{})})]}),s.jsx(jH,{})]})]})})});Jk(document.getElementById("root")).render(s.jsx(BY,{}));export{Sl as _,ys as c,$S as g};
