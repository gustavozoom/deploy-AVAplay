var pO=Object.defineProperty;var v1=e=>{throw TypeError(e)};var gO=(e,t,r)=>t in e?pO(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Ch=(e,t,r)=>gO(e,typeof t!="symbol"?t+"":t,r),Av=(e,t,r)=>t.has(e)||v1("Cannot "+r);var K=(e,t,r)=>(Av(e,t,"read from private field"),r?r.call(e):t.get(e)),Qe=(e,t,r)=>t.has(e)?v1("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),Ae=(e,t,r,n)=>(Av(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),mt=(e,t,r)=>(Av(e,t,"access private method"),r);var kh=(e,t,r,n)=>({set _(a){Ae(e,t,a,r)},get _(){return K(e,t,n)}});function vO(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var ys=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function GS(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function xO(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}),r}var YS={exports:{}},zp={},QS={exports:{}},_t={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lf=Symbol.for("react.element"),yO=Symbol.for("react.portal"),wO=Symbol.for("react.fragment"),bO=Symbol.for("react.strict_mode"),jO=Symbol.for("react.profiler"),_O=Symbol.for("react.provider"),NO=Symbol.for("react.context"),SO=Symbol.for("react.forward_ref"),CO=Symbol.for("react.suspense"),kO=Symbol.for("react.memo"),EO=Symbol.for("react.lazy"),x1=Symbol.iterator;function PO(e){return e===null||typeof e!="object"?null:(e=x1&&e[x1]||e["@@iterator"],typeof e=="function"?e:null)}var XS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ZS=Object.assign,JS={};function wd(e,t,r){this.props=e,this.context=t,this.refs=JS,this.updater=r||XS}wd.prototype.isReactComponent={};wd.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};wd.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function eC(){}eC.prototype=wd.prototype;function J0(e,t,r){this.props=e,this.context=t,this.refs=JS,this.updater=r||XS}var ew=J0.prototype=new eC;ew.constructor=J0;ZS(ew,wd.prototype);ew.isPureReactComponent=!0;var y1=Array.isArray,tC=Object.prototype.hasOwnProperty,tw={current:null},rC={key:!0,ref:!0,__self:!0,__source:!0};function nC(e,t,r){var n,a={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)tC.call(t,n)&&!rC.hasOwnProperty(n)&&(a[n]=t[n]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];a.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:Lf,type:e,key:i,ref:o,props:a,_owner:tw.current}}function TO(e,t){return{$$typeof:Lf,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function rw(e){return typeof e=="object"&&e!==null&&e.$$typeof===Lf}function RO(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var w1=/\/+/g;function Ov(e,t){return typeof e=="object"&&e!==null&&e.key!=null?RO(""+e.key):t.toString(36)}function dm(e,t,r,n,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Lf:case yO:o=!0}}if(o)return o=e,a=a(o),e=n===""?"."+Ov(o,0):n,y1(a)?(r="",e!=null&&(r=e.replace(w1,"$&/")+"/"),dm(a,t,r,"",function(d){return d})):a!=null&&(rw(a)&&(a=TO(a,r+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(w1,"$&/")+"/")+e)),t.push(a)),1;if(o=0,n=n===""?".":n+":",y1(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+Ov(i,l);o+=dm(i,t,r,c,a)}else if(c=PO(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+Ov(i,l++),o+=dm(i,t,r,c,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Eh(e,t,r){if(e==null)return e;var n=[],a=0;return dm(e,n,"","",function(i){return t.call(r,i,a++)}),n}function MO(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Nn={current:null},um={transition:null},AO={ReactCurrentDispatcher:Nn,ReactCurrentBatchConfig:um,ReactCurrentOwner:tw};function sC(){throw Error("act(...) is not supported in production builds of React.")}_t.Children={map:Eh,forEach:function(e,t,r){Eh(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Eh(e,function(){t++}),t},toArray:function(e){return Eh(e,function(t){return t})||[]},only:function(e){if(!rw(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};_t.Component=wd;_t.Fragment=wO;_t.Profiler=jO;_t.PureComponent=J0;_t.StrictMode=bO;_t.Suspense=CO;_t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=AO;_t.act=sC;_t.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=ZS({},e.props),a=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=tw.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)tC.call(t,c)&&!rC.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];n.children=l}return{$$typeof:Lf,type:e.type,key:a,ref:i,props:n,_owner:o}};_t.createContext=function(e){return e={$$typeof:NO,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:_O,_context:e},e.Consumer=e};_t.createElement=nC;_t.createFactory=function(e){var t=nC.bind(null,e);return t.type=e,t};_t.createRef=function(){return{current:null}};_t.forwardRef=function(e){return{$$typeof:SO,render:e}};_t.isValidElement=rw;_t.lazy=function(e){return{$$typeof:EO,_payload:{_status:-1,_result:e},_init:MO}};_t.memo=function(e,t){return{$$typeof:kO,type:e,compare:t===void 0?null:t}};_t.startTransition=function(e){var t=um.transition;um.transition={};try{e()}finally{um.transition=t}};_t.unstable_act=sC;_t.useCallback=function(e,t){return Nn.current.useCallback(e,t)};_t.useContext=function(e){return Nn.current.useContext(e)};_t.useDebugValue=function(){};_t.useDeferredValue=function(e){return Nn.current.useDeferredValue(e)};_t.useEffect=function(e,t){return Nn.current.useEffect(e,t)};_t.useId=function(){return Nn.current.useId()};_t.useImperativeHandle=function(e,t,r){return Nn.current.useImperativeHandle(e,t,r)};_t.useInsertionEffect=function(e,t){return Nn.current.useInsertionEffect(e,t)};_t.useLayoutEffect=function(e,t){return Nn.current.useLayoutEffect(e,t)};_t.useMemo=function(e,t){return Nn.current.useMemo(e,t)};_t.useReducer=function(e,t,r){return Nn.current.useReducer(e,t,r)};_t.useRef=function(e){return Nn.current.useRef(e)};_t.useState=function(e){return Nn.current.useState(e)};_t.useSyncExternalStore=function(e,t,r){return Nn.current.useSyncExternalStore(e,t,r)};_t.useTransition=function(){return Nn.current.useTransition()};_t.version="18.3.1";QS.exports=_t;var f=QS.exports;const he=GS(f),nw=vO({__proto__:null,default:he},[f]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OO=f,DO=Symbol.for("react.element"),IO=Symbol.for("react.fragment"),FO=Object.prototype.hasOwnProperty,LO=OO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,$O={key:!0,ref:!0,__self:!0,__source:!0};function aC(e,t,r){var n,a={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)FO.call(t,n)&&!$O.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:DO,type:e,key:i,ref:o,props:a,_owner:LO.current}}zp.Fragment=IO;zp.jsx=aC;zp.jsxs=aC;YS.exports=zp;var s=YS.exports,iC={exports:{}},ns={},oC={exports:{}},lC={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(I,D){var C=I.length;I.push(D);e:for(;0<C;){var T=C-1>>>1,A=I[T];if(0<a(A,D))I[T]=D,I[C]=A,C=T;else break e}}function r(I){return I.length===0?null:I[0]}function n(I){if(I.length===0)return null;var D=I[0],C=I.pop();if(C!==D){I[0]=C;e:for(var T=0,A=I.length,Y=A>>>1;T<Y;){var E=2*(T+1)-1,$=I[E],Z=E+1,Q=I[Z];if(0>a($,C))Z<A&&0>a(Q,$)?(I[T]=Q,I[Z]=C,T=Z):(I[T]=$,I[E]=C,T=E);else if(Z<A&&0>a(Q,C))I[T]=Q,I[Z]=C,T=Z;else break e}}return D}function a(I,D){var C=I.sortIndex-D.sortIndex;return C!==0?C:I.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,h=null,m=3,p=!1,w=!1,v=!1,g=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(I){for(var D=r(d);D!==null;){if(D.callback===null)n(d);else if(D.startTime<=I)n(d),D.sortIndex=D.expirationTime,t(c,D);else break;D=r(d)}}function _(I){if(v=!1,b(I),!w)if(r(c)!==null)w=!0,te(N);else{var D=r(d);D!==null&&J(_,D.startTime-I)}}function N(I,D){w=!1,v&&(v=!1,y(R),R=-1),p=!0;var C=m;try{for(b(D),h=r(c);h!==null&&(!(h.expirationTime>D)||I&&!re());){var T=h.callback;if(typeof T=="function"){h.callback=null,m=h.priorityLevel;var A=T(h.expirationTime<=D);D=e.unstable_now(),typeof A=="function"?h.callback=A:h===r(c)&&n(c),b(D)}else n(c);h=r(c)}if(h!==null)var Y=!0;else{var E=r(d);E!==null&&J(_,E.startTime-D),Y=!1}return Y}finally{h=null,m=C,p=!1}}var k=!1,S=null,R=-1,U=5,B=-1;function re(){return!(e.unstable_now()-B<U)}function G(){if(S!==null){var I=e.unstable_now();B=I;var D=!0;try{D=S(!0,I)}finally{D?H():(k=!1,S=null)}}else k=!1}var H;if(typeof x=="function")H=function(){x(G)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,se=V.port2;V.port1.onmessage=G,H=function(){se.postMessage(null)}}else H=function(){g(G,0)};function te(I){S=I,k||(k=!0,H())}function J(I,D){R=g(function(){I(e.unstable_now())},D)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(I){I.callback=null},e.unstable_continueExecution=function(){w||p||(w=!0,te(N))},e.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<I?Math.floor(1e3/I):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(I){switch(m){case 1:case 2:case 3:var D=3;break;default:D=m}var C=m;m=D;try{return I()}finally{m=C}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(I,D){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var C=m;m=I;try{return D()}finally{m=C}},e.unstable_scheduleCallback=function(I,D,C){var T=e.unstable_now();switch(typeof C=="object"&&C!==null?(C=C.delay,C=typeof C=="number"&&0<C?T+C:T):C=T,I){case 1:var A=-1;break;case 2:A=250;break;case 5:A=1073741823;break;case 4:A=1e4;break;default:A=5e3}return A=C+A,I={id:u++,callback:D,priorityLevel:I,startTime:C,expirationTime:A,sortIndex:-1},C>T?(I.sortIndex=C,t(d,I),r(c)===null&&I===r(d)&&(v?(y(R),R=-1):v=!0,J(_,C-T))):(I.sortIndex=A,t(c,I),w||p||(w=!0,te(N))),I},e.unstable_shouldYield=re,e.unstable_wrapCallback=function(I){var D=m;return function(){var C=m;m=D;try{return I.apply(this,arguments)}finally{m=C}}}})(lC);oC.exports=lC;var zO=oC.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UO=f,es=zO;function je(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var cC=new Set,Qu={};function Sl(e,t){Hc(e,t),Hc(e+"Capture",t)}function Hc(e,t){for(Qu[e]=t,e=0;e<t.length;e++)cC.add(t[e])}var Ja=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Jx=Object.prototype.hasOwnProperty,BO=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,b1={},j1={};function qO(e){return Jx.call(j1,e)?!0:Jx.call(b1,e)?!1:BO.test(e)?j1[e]=!0:(b1[e]=!0,!1)}function VO(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function WO(e,t,r,n){if(t===null||typeof t>"u"||VO(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Sn(e,t,r,n,a,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var nn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){nn[e]=new Sn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];nn[t]=new Sn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){nn[e]=new Sn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){nn[e]=new Sn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){nn[e]=new Sn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){nn[e]=new Sn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){nn[e]=new Sn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){nn[e]=new Sn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){nn[e]=new Sn(e,5,!1,e.toLowerCase(),null,!1,!1)});var sw=/[\-:]([a-z])/g;function aw(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(sw,aw);nn[t]=new Sn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(sw,aw);nn[t]=new Sn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(sw,aw);nn[t]=new Sn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){nn[e]=new Sn(e,1,!1,e.toLowerCase(),null,!1,!1)});nn.xlinkHref=new Sn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){nn[e]=new Sn(e,1,!1,e.toLowerCase(),null,!0,!0)});function iw(e,t,r,n){var a=nn.hasOwnProperty(t)?nn[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(WO(t,r,a,n)&&(r=null),n||a===null?qO(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var ci=UO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ph=Symbol.for("react.element"),lc=Symbol.for("react.portal"),cc=Symbol.for("react.fragment"),ow=Symbol.for("react.strict_mode"),ey=Symbol.for("react.profiler"),dC=Symbol.for("react.provider"),uC=Symbol.for("react.context"),lw=Symbol.for("react.forward_ref"),ty=Symbol.for("react.suspense"),ry=Symbol.for("react.suspense_list"),cw=Symbol.for("react.memo"),_i=Symbol.for("react.lazy"),fC=Symbol.for("react.offscreen"),_1=Symbol.iterator;function su(e){return e===null||typeof e!="object"?null:(e=_1&&e[_1]||e["@@iterator"],typeof e=="function"?e:null)}var gr=Object.assign,Dv;function xu(e){if(Dv===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Dv=t&&t[1]||""}return`
`+Dv+e}var Iv=!1;function Fv(e,t){if(!e||Iv)return"";Iv=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var n=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){n=d}e.call(t.prototype)}else{try{throw Error()}catch(d){n=d}e()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var a=d.stack.split(`
`),i=n.stack.split(`
`),o=a.length-1,l=i.length-1;1<=o&&0<=l&&a[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==i[l]){var c=`
`+a[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{Iv=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?xu(e):""}function HO(e){switch(e.tag){case 5:return xu(e.type);case 16:return xu("Lazy");case 13:return xu("Suspense");case 19:return xu("SuspenseList");case 0:case 2:case 15:return e=Fv(e.type,!1),e;case 11:return e=Fv(e.type.render,!1),e;case 1:return e=Fv(e.type,!0),e;default:return""}}function ny(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case cc:return"Fragment";case lc:return"Portal";case ey:return"Profiler";case ow:return"StrictMode";case ty:return"Suspense";case ry:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case uC:return(e.displayName||"Context")+".Consumer";case dC:return(e._context.displayName||"Context")+".Provider";case lw:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case cw:return t=e.displayName||null,t!==null?t:ny(e.type)||"Memo";case _i:t=e._payload,e=e._init;try{return ny(e(t))}catch{}}return null}function KO(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ny(t);case 8:return t===ow?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ao(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function hC(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function GO(e){var t=hC(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Th(e){e._valueTracker||(e._valueTracker=GO(e))}function mC(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=hC(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Dm(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function sy(e,t){var r=t.checked;return gr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function N1(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=ao(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function pC(e,t){t=t.checked,t!=null&&iw(e,"checked",t,!1)}function ay(e,t){pC(e,t);var r=ao(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?iy(e,t.type,r):t.hasOwnProperty("defaultValue")&&iy(e,t.type,ao(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function S1(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function iy(e,t,r){(t!=="number"||Dm(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var yu=Array.isArray;function jc(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+ao(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function oy(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(je(91));return gr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function C1(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(je(92));if(yu(r)){if(1<r.length)throw Error(je(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:ao(r)}}function gC(e,t){var r=ao(t.value),n=ao(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function k1(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function vC(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ly(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?vC(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Rh,xC=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Rh=Rh||document.createElement("div"),Rh.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Rh.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Xu(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Au={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},YO=["Webkit","ms","Moz","O"];Object.keys(Au).forEach(function(e){YO.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Au[t]=Au[e]})});function yC(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Au.hasOwnProperty(e)&&Au[e]?(""+t).trim():t+"px"}function wC(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=yC(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var QO=gr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function cy(e,t){if(t){if(QO[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(je(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(je(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(je(61))}if(t.style!=null&&typeof t.style!="object")throw Error(je(62))}}function dy(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var uy=null;function dw(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var fy=null,_c=null,Nc=null;function E1(e){if(e=Uf(e)){if(typeof fy!="function")throw Error(je(280));var t=e.stateNode;t&&(t=Wp(t),fy(e.stateNode,e.type,t))}}function bC(e){_c?Nc?Nc.push(e):Nc=[e]:_c=e}function jC(){if(_c){var e=_c,t=Nc;if(Nc=_c=null,E1(e),t)for(e=0;e<t.length;e++)E1(t[e])}}function _C(e,t){return e(t)}function NC(){}var Lv=!1;function SC(e,t,r){if(Lv)return e(t,r);Lv=!0;try{return _C(e,t,r)}finally{Lv=!1,(_c!==null||Nc!==null)&&(NC(),jC())}}function Zu(e,t){var r=e.stateNode;if(r===null)return null;var n=Wp(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(je(231,t,typeof r));return r}var hy=!1;if(Ja)try{var au={};Object.defineProperty(au,"passive",{get:function(){hy=!0}}),window.addEventListener("test",au,au),window.removeEventListener("test",au,au)}catch{hy=!1}function XO(e,t,r,n,a,i,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(r,d)}catch(u){this.onError(u)}}var Ou=!1,Im=null,Fm=!1,my=null,ZO={onError:function(e){Ou=!0,Im=e}};function JO(e,t,r,n,a,i,o,l,c){Ou=!1,Im=null,XO.apply(ZO,arguments)}function eD(e,t,r,n,a,i,o,l,c){if(JO.apply(this,arguments),Ou){if(Ou){var d=Im;Ou=!1,Im=null}else throw Error(je(198));Fm||(Fm=!0,my=d)}}function Cl(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function CC(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function P1(e){if(Cl(e)!==e)throw Error(je(188))}function tD(e){var t=e.alternate;if(!t){if(t=Cl(e),t===null)throw Error(je(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return P1(a),e;if(i===n)return P1(a),t;i=i.sibling}throw Error(je(188))}if(r.return!==n.return)r=a,n=i;else{for(var o=!1,l=a.child;l;){if(l===r){o=!0,r=a,n=i;break}if(l===n){o=!0,n=a,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=a;break}if(l===n){o=!0,n=i,r=a;break}l=l.sibling}if(!o)throw Error(je(189))}}if(r.alternate!==n)throw Error(je(190))}if(r.tag!==3)throw Error(je(188));return r.stateNode.current===r?e:t}function kC(e){return e=tD(e),e!==null?EC(e):null}function EC(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=EC(e);if(t!==null)return t;e=e.sibling}return null}var PC=es.unstable_scheduleCallback,T1=es.unstable_cancelCallback,rD=es.unstable_shouldYield,nD=es.unstable_requestPaint,Sr=es.unstable_now,sD=es.unstable_getCurrentPriorityLevel,uw=es.unstable_ImmediatePriority,TC=es.unstable_UserBlockingPriority,Lm=es.unstable_NormalPriority,aD=es.unstable_LowPriority,RC=es.unstable_IdlePriority,Up=null,ga=null;function iD(e){if(ga&&typeof ga.onCommitFiberRoot=="function")try{ga.onCommitFiberRoot(Up,e,void 0,(e.current.flags&128)===128)}catch{}}var qs=Math.clz32?Math.clz32:cD,oD=Math.log,lD=Math.LN2;function cD(e){return e>>>=0,e===0?32:31-(oD(e)/lD|0)|0}var Mh=64,Ah=4194304;function wu(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function $m(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~a;l!==0?n=wu(l):(i&=o,i!==0&&(n=wu(i)))}else o=r&~a,o!==0?n=wu(o):i!==0&&(n=wu(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-qs(t),a=1<<r,n|=e[r],t&=~a;return n}function dD(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function uD(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-qs(i),l=1<<o,c=a[o];c===-1?(!(l&r)||l&n)&&(a[o]=dD(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function py(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function MC(){var e=Mh;return Mh<<=1,!(Mh&4194240)&&(Mh=64),e}function $v(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function $f(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-qs(t),e[t]=r}function fD(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-qs(r),i=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~i}}function fw(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-qs(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var Wt=0;function AC(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var OC,hw,DC,IC,FC,gy=!1,Oh=[],Vi=null,Wi=null,Hi=null,Ju=new Map,ef=new Map,Ci=[],hD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function R1(e,t){switch(e){case"focusin":case"focusout":Vi=null;break;case"dragenter":case"dragleave":Wi=null;break;case"mouseover":case"mouseout":Hi=null;break;case"pointerover":case"pointerout":Ju.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ef.delete(t.pointerId)}}function iu(e,t,r,n,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},t!==null&&(t=Uf(t),t!==null&&hw(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function mD(e,t,r,n,a){switch(t){case"focusin":return Vi=iu(Vi,e,t,r,n,a),!0;case"dragenter":return Wi=iu(Wi,e,t,r,n,a),!0;case"mouseover":return Hi=iu(Hi,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return Ju.set(i,iu(Ju.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,ef.set(i,iu(ef.get(i)||null,e,t,r,n,a)),!0}return!1}function LC(e){var t=Vo(e.target);if(t!==null){var r=Cl(t);if(r!==null){if(t=r.tag,t===13){if(t=CC(r),t!==null){e.blockedOn=t,FC(e.priority,function(){DC(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function fm(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=vy(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);uy=n,r.target.dispatchEvent(n),uy=null}else return t=Uf(r),t!==null&&hw(t),e.blockedOn=r,!1;t.shift()}return!0}function M1(e,t,r){fm(e)&&r.delete(t)}function pD(){gy=!1,Vi!==null&&fm(Vi)&&(Vi=null),Wi!==null&&fm(Wi)&&(Wi=null),Hi!==null&&fm(Hi)&&(Hi=null),Ju.forEach(M1),ef.forEach(M1)}function ou(e,t){e.blockedOn===t&&(e.blockedOn=null,gy||(gy=!0,es.unstable_scheduleCallback(es.unstable_NormalPriority,pD)))}function tf(e){function t(a){return ou(a,e)}if(0<Oh.length){ou(Oh[0],e);for(var r=1;r<Oh.length;r++){var n=Oh[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Vi!==null&&ou(Vi,e),Wi!==null&&ou(Wi,e),Hi!==null&&ou(Hi,e),Ju.forEach(t),ef.forEach(t),r=0;r<Ci.length;r++)n=Ci[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Ci.length&&(r=Ci[0],r.blockedOn===null);)LC(r),r.blockedOn===null&&Ci.shift()}var Sc=ci.ReactCurrentBatchConfig,zm=!0;function gD(e,t,r,n){var a=Wt,i=Sc.transition;Sc.transition=null;try{Wt=1,mw(e,t,r,n)}finally{Wt=a,Sc.transition=i}}function vD(e,t,r,n){var a=Wt,i=Sc.transition;Sc.transition=null;try{Wt=4,mw(e,t,r,n)}finally{Wt=a,Sc.transition=i}}function mw(e,t,r,n){if(zm){var a=vy(e,t,r,n);if(a===null)Yv(e,t,n,Um,r),R1(e,n);else if(mD(a,e,t,r,n))n.stopPropagation();else if(R1(e,n),t&4&&-1<hD.indexOf(e)){for(;a!==null;){var i=Uf(a);if(i!==null&&OC(i),i=vy(e,t,r,n),i===null&&Yv(e,t,n,Um,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else Yv(e,t,n,null,r)}}var Um=null;function vy(e,t,r,n){if(Um=null,e=dw(n),e=Vo(e),e!==null)if(t=Cl(e),t===null)e=null;else if(r=t.tag,r===13){if(e=CC(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Um=e,null}function $C(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(sD()){case uw:return 1;case TC:return 4;case Lm:case aD:return 16;case RC:return 536870912;default:return 16}default:return 16}}var $i=null,pw=null,hm=null;function zC(){if(hm)return hm;var e,t=pw,r=t.length,n,a="value"in $i?$i.value:$i.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===a[i-n];n++);return hm=a.slice(e,1<n?1-n:void 0)}function mm(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Dh(){return!0}function A1(){return!1}function ss(e){function t(r,n,a,i,o){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Dh:A1,this.isPropagationStopped=A1,this}return gr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Dh)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Dh)},persist:function(){},isPersistent:Dh}),t}var bd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gw=ss(bd),zf=gr({},bd,{view:0,detail:0}),xD=ss(zf),zv,Uv,lu,Bp=gr({},zf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vw,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==lu&&(lu&&e.type==="mousemove"?(zv=e.screenX-lu.screenX,Uv=e.screenY-lu.screenY):Uv=zv=0,lu=e),zv)},movementY:function(e){return"movementY"in e?e.movementY:Uv}}),O1=ss(Bp),yD=gr({},Bp,{dataTransfer:0}),wD=ss(yD),bD=gr({},zf,{relatedTarget:0}),Bv=ss(bD),jD=gr({},bd,{animationName:0,elapsedTime:0,pseudoElement:0}),_D=ss(jD),ND=gr({},bd,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),SD=ss(ND),CD=gr({},bd,{data:0}),D1=ss(CD),kD={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ED={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},PD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function TD(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=PD[e])?!!t[e]:!1}function vw(){return TD}var RD=gr({},zf,{key:function(e){if(e.key){var t=kD[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=mm(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ED[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vw,charCode:function(e){return e.type==="keypress"?mm(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?mm(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),MD=ss(RD),AD=gr({},Bp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),I1=ss(AD),OD=gr({},zf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vw}),DD=ss(OD),ID=gr({},bd,{propertyName:0,elapsedTime:0,pseudoElement:0}),FD=ss(ID),LD=gr({},Bp,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),$D=ss(LD),zD=[9,13,27,32],xw=Ja&&"CompositionEvent"in window,Du=null;Ja&&"documentMode"in document&&(Du=document.documentMode);var UD=Ja&&"TextEvent"in window&&!Du,UC=Ja&&(!xw||Du&&8<Du&&11>=Du),F1=" ",L1=!1;function BC(e,t){switch(e){case"keyup":return zD.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qC(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var dc=!1;function BD(e,t){switch(e){case"compositionend":return qC(t);case"keypress":return t.which!==32?null:(L1=!0,F1);case"textInput":return e=t.data,e===F1&&L1?null:e;default:return null}}function qD(e,t){if(dc)return e==="compositionend"||!xw&&BC(e,t)?(e=zC(),hm=pw=$i=null,dc=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return UC&&t.locale!=="ko"?null:t.data;default:return null}}var VD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $1(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!VD[e.type]:t==="textarea"}function VC(e,t,r,n){bC(n),t=Bm(t,"onChange"),0<t.length&&(r=new gw("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Iu=null,rf=null;function WD(e){tk(e,0)}function qp(e){var t=hc(e);if(mC(t))return e}function HD(e,t){if(e==="change")return t}var WC=!1;if(Ja){var qv;if(Ja){var Vv="oninput"in document;if(!Vv){var z1=document.createElement("div");z1.setAttribute("oninput","return;"),Vv=typeof z1.oninput=="function"}qv=Vv}else qv=!1;WC=qv&&(!document.documentMode||9<document.documentMode)}function U1(){Iu&&(Iu.detachEvent("onpropertychange",HC),rf=Iu=null)}function HC(e){if(e.propertyName==="value"&&qp(rf)){var t=[];VC(t,rf,e,dw(e)),SC(WD,t)}}function KD(e,t,r){e==="focusin"?(U1(),Iu=t,rf=r,Iu.attachEvent("onpropertychange",HC)):e==="focusout"&&U1()}function GD(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return qp(rf)}function YD(e,t){if(e==="click")return qp(t)}function QD(e,t){if(e==="input"||e==="change")return qp(t)}function XD(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ws=typeof Object.is=="function"?Object.is:XD;function nf(e,t){if(Ws(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!Jx.call(t,a)||!Ws(e[a],t[a]))return!1}return!0}function B1(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function q1(e,t){var r=B1(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=B1(r)}}function KC(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?KC(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function GC(){for(var e=window,t=Dm();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Dm(e.document)}return t}function yw(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function ZD(e){var t=GC(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&KC(r.ownerDocument.documentElement,r)){if(n!==null&&yw(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!e.extend&&i>n&&(a=n,n=i,i=a),a=q1(r,i);var o=q1(r,n);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var JD=Ja&&"documentMode"in document&&11>=document.documentMode,uc=null,xy=null,Fu=null,yy=!1;function V1(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;yy||uc==null||uc!==Dm(n)||(n=uc,"selectionStart"in n&&yw(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Fu&&nf(Fu,n)||(Fu=n,n=Bm(xy,"onSelect"),0<n.length&&(t=new gw("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=uc)))}function Ih(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var fc={animationend:Ih("Animation","AnimationEnd"),animationiteration:Ih("Animation","AnimationIteration"),animationstart:Ih("Animation","AnimationStart"),transitionend:Ih("Transition","TransitionEnd")},Wv={},YC={};Ja&&(YC=document.createElement("div").style,"AnimationEvent"in window||(delete fc.animationend.animation,delete fc.animationiteration.animation,delete fc.animationstart.animation),"TransitionEvent"in window||delete fc.transitionend.transition);function Vp(e){if(Wv[e])return Wv[e];if(!fc[e])return e;var t=fc[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in YC)return Wv[e]=t[r];return e}var QC=Vp("animationend"),XC=Vp("animationiteration"),ZC=Vp("animationstart"),JC=Vp("transitionend"),ek=new Map,W1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function bo(e,t){ek.set(e,t),Sl(t,[e])}for(var Hv=0;Hv<W1.length;Hv++){var Kv=W1[Hv],eI=Kv.toLowerCase(),tI=Kv[0].toUpperCase()+Kv.slice(1);bo(eI,"on"+tI)}bo(QC,"onAnimationEnd");bo(XC,"onAnimationIteration");bo(ZC,"onAnimationStart");bo("dblclick","onDoubleClick");bo("focusin","onFocus");bo("focusout","onBlur");bo(JC,"onTransitionEnd");Hc("onMouseEnter",["mouseout","mouseover"]);Hc("onMouseLeave",["mouseout","mouseover"]);Hc("onPointerEnter",["pointerout","pointerover"]);Hc("onPointerLeave",["pointerout","pointerover"]);Sl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Sl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Sl("onBeforeInput",["compositionend","keypress","textInput","paste"]);Sl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Sl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Sl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rI=new Set("cancel close invalid load scroll toggle".split(" ").concat(bu));function H1(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,eD(n,t,void 0,e),e.currentTarget=null}function tk(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==i&&a.isPropagationStopped())break e;H1(a,l,d),i=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==i&&a.isPropagationStopped())break e;H1(a,l,d),i=c}}}if(Fm)throw e=my,Fm=!1,my=null,e}function rr(e,t){var r=t[Ny];r===void 0&&(r=t[Ny]=new Set);var n=e+"__bubble";r.has(n)||(rk(t,e,2,!1),r.add(n))}function Gv(e,t,r){var n=0;t&&(n|=4),rk(r,e,n,t)}var Fh="_reactListening"+Math.random().toString(36).slice(2);function sf(e){if(!e[Fh]){e[Fh]=!0,cC.forEach(function(r){r!=="selectionchange"&&(rI.has(r)||Gv(r,!1,e),Gv(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Fh]||(t[Fh]=!0,Gv("selectionchange",!1,t))}}function rk(e,t,r,n){switch($C(t)){case 1:var a=gD;break;case 4:a=vD;break;default:a=mw}r=a.bind(null,t,r,e),a=void 0,!hy||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function Yv(e,t,r,n,a){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=Vo(l),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}l=l.parentNode}}n=n.return}SC(function(){var d=i,u=dw(r),h=[];e:{var m=ek.get(e);if(m!==void 0){var p=gw,w=e;switch(e){case"keypress":if(mm(r)===0)break e;case"keydown":case"keyup":p=MD;break;case"focusin":w="focus",p=Bv;break;case"focusout":w="blur",p=Bv;break;case"beforeblur":case"afterblur":p=Bv;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=O1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=wD;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=DD;break;case QC:case XC:case ZC:p=_D;break;case JC:p=FD;break;case"scroll":p=xD;break;case"wheel":p=$D;break;case"copy":case"cut":case"paste":p=SD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=I1}var v=(t&4)!==0,g=!v&&e==="scroll",y=v?m!==null?m+"Capture":null:m;v=[];for(var x=d,b;x!==null;){b=x;var _=b.stateNode;if(b.tag===5&&_!==null&&(b=_,y!==null&&(_=Zu(x,y),_!=null&&v.push(af(x,_,b)))),g)break;x=x.return}0<v.length&&(m=new p(m,w,null,r,u),h.push({event:m,listeners:v}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",m&&r!==uy&&(w=r.relatedTarget||r.fromElement)&&(Vo(w)||w[ei]))break e;if((p||m)&&(m=u.window===u?u:(m=u.ownerDocument)?m.defaultView||m.parentWindow:window,p?(w=r.relatedTarget||r.toElement,p=d,w=w?Vo(w):null,w!==null&&(g=Cl(w),w!==g||w.tag!==5&&w.tag!==6)&&(w=null)):(p=null,w=d),p!==w)){if(v=O1,_="onMouseLeave",y="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(v=I1,_="onPointerLeave",y="onPointerEnter",x="pointer"),g=p==null?m:hc(p),b=w==null?m:hc(w),m=new v(_,x+"leave",p,r,u),m.target=g,m.relatedTarget=b,_=null,Vo(u)===d&&(v=new v(y,x+"enter",w,r,u),v.target=b,v.relatedTarget=g,_=v),g=_,p&&w)t:{for(v=p,y=w,x=0,b=v;b;b=Bl(b))x++;for(b=0,_=y;_;_=Bl(_))b++;for(;0<x-b;)v=Bl(v),x--;for(;0<b-x;)y=Bl(y),b--;for(;x--;){if(v===y||y!==null&&v===y.alternate)break t;v=Bl(v),y=Bl(y)}v=null}else v=null;p!==null&&K1(h,m,p,v,!1),w!==null&&g!==null&&K1(h,g,w,v,!0)}}e:{if(m=d?hc(d):window,p=m.nodeName&&m.nodeName.toLowerCase(),p==="select"||p==="input"&&m.type==="file")var N=HD;else if($1(m))if(WC)N=QD;else{N=GD;var k=KD}else(p=m.nodeName)&&p.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(N=YD);if(N&&(N=N(e,d))){VC(h,N,r,u);break e}k&&k(e,m,d),e==="focusout"&&(k=m._wrapperState)&&k.controlled&&m.type==="number"&&iy(m,"number",m.value)}switch(k=d?hc(d):window,e){case"focusin":($1(k)||k.contentEditable==="true")&&(uc=k,xy=d,Fu=null);break;case"focusout":Fu=xy=uc=null;break;case"mousedown":yy=!0;break;case"contextmenu":case"mouseup":case"dragend":yy=!1,V1(h,r,u);break;case"selectionchange":if(JD)break;case"keydown":case"keyup":V1(h,r,u)}var S;if(xw)e:{switch(e){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else dc?BC(e,r)&&(R="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(R="onCompositionStart");R&&(UC&&r.locale!=="ko"&&(dc||R!=="onCompositionStart"?R==="onCompositionEnd"&&dc&&(S=zC()):($i=u,pw="value"in $i?$i.value:$i.textContent,dc=!0)),k=Bm(d,R),0<k.length&&(R=new D1(R,e,null,r,u),h.push({event:R,listeners:k}),S?R.data=S:(S=qC(r),S!==null&&(R.data=S)))),(S=UD?BD(e,r):qD(e,r))&&(d=Bm(d,"onBeforeInput"),0<d.length&&(u=new D1("onBeforeInput","beforeinput",null,r,u),h.push({event:u,listeners:d}),u.data=S))}tk(h,t)})}function af(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Bm(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=Zu(e,r),i!=null&&n.unshift(af(e,i,a)),i=Zu(e,t),i!=null&&n.push(af(e,i,a))),e=e.return}return n}function Bl(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function K1(e,t,r,n,a){for(var i=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,d=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&d!==null&&(l=d,a?(c=Zu(r,i),c!=null&&o.unshift(af(r,c,l))):a||(c=Zu(r,i),c!=null&&o.push(af(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var nI=/\r\n?/g,sI=/\u0000|\uFFFD/g;function G1(e){return(typeof e=="string"?e:""+e).replace(nI,`
`).replace(sI,"")}function Lh(e,t,r){if(t=G1(t),G1(e)!==t&&r)throw Error(je(425))}function qm(){}var wy=null,by=null;function jy(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var _y=typeof setTimeout=="function"?setTimeout:void 0,aI=typeof clearTimeout=="function"?clearTimeout:void 0,Y1=typeof Promise=="function"?Promise:void 0,iI=typeof queueMicrotask=="function"?queueMicrotask:typeof Y1<"u"?function(e){return Y1.resolve(null).then(e).catch(oI)}:_y;function oI(e){setTimeout(function(){throw e})}function Qv(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),tf(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);tf(t)}function Ki(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Q1(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var jd=Math.random().toString(36).slice(2),la="__reactFiber$"+jd,of="__reactProps$"+jd,ei="__reactContainer$"+jd,Ny="__reactEvents$"+jd,lI="__reactListeners$"+jd,cI="__reactHandles$"+jd;function Vo(e){var t=e[la];if(t)return t;for(var r=e.parentNode;r;){if(t=r[ei]||r[la]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Q1(e);e!==null;){if(r=e[la])return r;e=Q1(e)}return t}e=r,r=e.parentNode}return null}function Uf(e){return e=e[la]||e[ei],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function hc(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(je(33))}function Wp(e){return e[of]||null}var Sy=[],mc=-1;function jo(e){return{current:e}}function sr(e){0>mc||(e.current=Sy[mc],Sy[mc]=null,mc--)}function Yt(e,t){mc++,Sy[mc]=e.current,e.current=t}var io={},fn=jo(io),Fn=jo(!1),il=io;function Kc(e,t){var r=e.type.contextTypes;if(!r)return io;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ln(e){return e=e.childContextTypes,e!=null}function Vm(){sr(Fn),sr(fn)}function X1(e,t,r){if(fn.current!==io)throw Error(je(168));Yt(fn,t),Yt(Fn,r)}function nk(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(je(108,KO(e)||"Unknown",a));return gr({},r,n)}function Wm(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||io,il=fn.current,Yt(fn,e),Yt(Fn,Fn.current),!0}function Z1(e,t,r){var n=e.stateNode;if(!n)throw Error(je(169));r?(e=nk(e,t,il),n.__reactInternalMemoizedMergedChildContext=e,sr(Fn),sr(fn),Yt(fn,e)):sr(Fn),Yt(Fn,r)}var Ua=null,Hp=!1,Xv=!1;function sk(e){Ua===null?Ua=[e]:Ua.push(e)}function dI(e){Hp=!0,sk(e)}function _o(){if(!Xv&&Ua!==null){Xv=!0;var e=0,t=Wt;try{var r=Ua;for(Wt=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Ua=null,Hp=!1}catch(a){throw Ua!==null&&(Ua=Ua.slice(e+1)),PC(uw,_o),a}finally{Wt=t,Xv=!1}}return null}var pc=[],gc=0,Hm=null,Km=0,fs=[],hs=0,ol=null,Wa=1,Ha="";function $o(e,t){pc[gc++]=Km,pc[gc++]=Hm,Hm=e,Km=t}function ak(e,t,r){fs[hs++]=Wa,fs[hs++]=Ha,fs[hs++]=ol,ol=e;var n=Wa;e=Ha;var a=32-qs(n)-1;n&=~(1<<a),r+=1;var i=32-qs(t)+a;if(30<i){var o=a-a%5;i=(n&(1<<o)-1).toString(32),n>>=o,a-=o,Wa=1<<32-qs(t)+a|r<<a|n,Ha=i+e}else Wa=1<<i|r<<a|n,Ha=e}function ww(e){e.return!==null&&($o(e,1),ak(e,1,0))}function bw(e){for(;e===Hm;)Hm=pc[--gc],pc[gc]=null,Km=pc[--gc],pc[gc]=null;for(;e===ol;)ol=fs[--hs],fs[hs]=null,Ha=fs[--hs],fs[hs]=null,Wa=fs[--hs],fs[hs]=null}var Zn=null,Qn=null,or=!1,Ls=null;function ik(e,t){var r=ps(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function J1(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Zn=e,Qn=Ki(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Zn=e,Qn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=ol!==null?{id:Wa,overflow:Ha}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=ps(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Zn=e,Qn=null,!0):!1;default:return!1}}function Cy(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ky(e){if(or){var t=Qn;if(t){var r=t;if(!J1(e,t)){if(Cy(e))throw Error(je(418));t=Ki(r.nextSibling);var n=Zn;t&&J1(e,t)?ik(n,r):(e.flags=e.flags&-4097|2,or=!1,Zn=e)}}else{if(Cy(e))throw Error(je(418));e.flags=e.flags&-4097|2,or=!1,Zn=e}}}function e_(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Zn=e}function $h(e){if(e!==Zn)return!1;if(!or)return e_(e),or=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!jy(e.type,e.memoizedProps)),t&&(t=Qn)){if(Cy(e))throw ok(),Error(je(418));for(;t;)ik(e,t),t=Ki(t.nextSibling)}if(e_(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(je(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Qn=Ki(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Qn=null}}else Qn=Zn?Ki(e.stateNode.nextSibling):null;return!0}function ok(){for(var e=Qn;e;)e=Ki(e.nextSibling)}function Gc(){Qn=Zn=null,or=!1}function jw(e){Ls===null?Ls=[e]:Ls.push(e)}var uI=ci.ReactCurrentBatchConfig;function cu(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(je(309));var n=r.stateNode}if(!n)throw Error(je(147,e));var a=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=a.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(je(284));if(!r._owner)throw Error(je(290,e))}return e}function zh(e,t){throw e=Object.prototype.toString.call(t),Error(je(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function t_(e){var t=e._init;return t(e._payload)}function lk(e){function t(y,x){if(e){var b=y.deletions;b===null?(y.deletions=[x],y.flags|=16):b.push(x)}}function r(y,x){if(!e)return null;for(;x!==null;)t(y,x),x=x.sibling;return null}function n(y,x){for(y=new Map;x!==null;)x.key!==null?y.set(x.key,x):y.set(x.index,x),x=x.sibling;return y}function a(y,x){return y=Xi(y,x),y.index=0,y.sibling=null,y}function i(y,x,b){return y.index=b,e?(b=y.alternate,b!==null?(b=b.index,b<x?(y.flags|=2,x):b):(y.flags|=2,x)):(y.flags|=1048576,x)}function o(y){return e&&y.alternate===null&&(y.flags|=2),y}function l(y,x,b,_){return x===null||x.tag!==6?(x=sx(b,y.mode,_),x.return=y,x):(x=a(x,b),x.return=y,x)}function c(y,x,b,_){var N=b.type;return N===cc?u(y,x,b.props.children,_,b.key):x!==null&&(x.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===_i&&t_(N)===x.type)?(_=a(x,b.props),_.ref=cu(y,x,b),_.return=y,_):(_=bm(b.type,b.key,b.props,null,y.mode,_),_.ref=cu(y,x,b),_.return=y,_)}function d(y,x,b,_){return x===null||x.tag!==4||x.stateNode.containerInfo!==b.containerInfo||x.stateNode.implementation!==b.implementation?(x=ax(b,y.mode,_),x.return=y,x):(x=a(x,b.children||[]),x.return=y,x)}function u(y,x,b,_,N){return x===null||x.tag!==7?(x=sl(b,y.mode,_,N),x.return=y,x):(x=a(x,b),x.return=y,x)}function h(y,x,b){if(typeof x=="string"&&x!==""||typeof x=="number")return x=sx(""+x,y.mode,b),x.return=y,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Ph:return b=bm(x.type,x.key,x.props,null,y.mode,b),b.ref=cu(y,null,x),b.return=y,b;case lc:return x=ax(x,y.mode,b),x.return=y,x;case _i:var _=x._init;return h(y,_(x._payload),b)}if(yu(x)||su(x))return x=sl(x,y.mode,b,null),x.return=y,x;zh(y,x)}return null}function m(y,x,b,_){var N=x!==null?x.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return N!==null?null:l(y,x,""+b,_);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Ph:return b.key===N?c(y,x,b,_):null;case lc:return b.key===N?d(y,x,b,_):null;case _i:return N=b._init,m(y,x,N(b._payload),_)}if(yu(b)||su(b))return N!==null?null:u(y,x,b,_,null);zh(y,b)}return null}function p(y,x,b,_,N){if(typeof _=="string"&&_!==""||typeof _=="number")return y=y.get(b)||null,l(x,y,""+_,N);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Ph:return y=y.get(_.key===null?b:_.key)||null,c(x,y,_,N);case lc:return y=y.get(_.key===null?b:_.key)||null,d(x,y,_,N);case _i:var k=_._init;return p(y,x,b,k(_._payload),N)}if(yu(_)||su(_))return y=y.get(b)||null,u(x,y,_,N,null);zh(x,_)}return null}function w(y,x,b,_){for(var N=null,k=null,S=x,R=x=0,U=null;S!==null&&R<b.length;R++){S.index>R?(U=S,S=null):U=S.sibling;var B=m(y,S,b[R],_);if(B===null){S===null&&(S=U);break}e&&S&&B.alternate===null&&t(y,S),x=i(B,x,R),k===null?N=B:k.sibling=B,k=B,S=U}if(R===b.length)return r(y,S),or&&$o(y,R),N;if(S===null){for(;R<b.length;R++)S=h(y,b[R],_),S!==null&&(x=i(S,x,R),k===null?N=S:k.sibling=S,k=S);return or&&$o(y,R),N}for(S=n(y,S);R<b.length;R++)U=p(S,y,R,b[R],_),U!==null&&(e&&U.alternate!==null&&S.delete(U.key===null?R:U.key),x=i(U,x,R),k===null?N=U:k.sibling=U,k=U);return e&&S.forEach(function(re){return t(y,re)}),or&&$o(y,R),N}function v(y,x,b,_){var N=su(b);if(typeof N!="function")throw Error(je(150));if(b=N.call(b),b==null)throw Error(je(151));for(var k=N=null,S=x,R=x=0,U=null,B=b.next();S!==null&&!B.done;R++,B=b.next()){S.index>R?(U=S,S=null):U=S.sibling;var re=m(y,S,B.value,_);if(re===null){S===null&&(S=U);break}e&&S&&re.alternate===null&&t(y,S),x=i(re,x,R),k===null?N=re:k.sibling=re,k=re,S=U}if(B.done)return r(y,S),or&&$o(y,R),N;if(S===null){for(;!B.done;R++,B=b.next())B=h(y,B.value,_),B!==null&&(x=i(B,x,R),k===null?N=B:k.sibling=B,k=B);return or&&$o(y,R),N}for(S=n(y,S);!B.done;R++,B=b.next())B=p(S,y,R,B.value,_),B!==null&&(e&&B.alternate!==null&&S.delete(B.key===null?R:B.key),x=i(B,x,R),k===null?N=B:k.sibling=B,k=B);return e&&S.forEach(function(G){return t(y,G)}),or&&$o(y,R),N}function g(y,x,b,_){if(typeof b=="object"&&b!==null&&b.type===cc&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Ph:e:{for(var N=b.key,k=x;k!==null;){if(k.key===N){if(N=b.type,N===cc){if(k.tag===7){r(y,k.sibling),x=a(k,b.props.children),x.return=y,y=x;break e}}else if(k.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===_i&&t_(N)===k.type){r(y,k.sibling),x=a(k,b.props),x.ref=cu(y,k,b),x.return=y,y=x;break e}r(y,k);break}else t(y,k);k=k.sibling}b.type===cc?(x=sl(b.props.children,y.mode,_,b.key),x.return=y,y=x):(_=bm(b.type,b.key,b.props,null,y.mode,_),_.ref=cu(y,x,b),_.return=y,y=_)}return o(y);case lc:e:{for(k=b.key;x!==null;){if(x.key===k)if(x.tag===4&&x.stateNode.containerInfo===b.containerInfo&&x.stateNode.implementation===b.implementation){r(y,x.sibling),x=a(x,b.children||[]),x.return=y,y=x;break e}else{r(y,x);break}else t(y,x);x=x.sibling}x=ax(b,y.mode,_),x.return=y,y=x}return o(y);case _i:return k=b._init,g(y,x,k(b._payload),_)}if(yu(b))return w(y,x,b,_);if(su(b))return v(y,x,b,_);zh(y,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,x!==null&&x.tag===6?(r(y,x.sibling),x=a(x,b),x.return=y,y=x):(r(y,x),x=sx(b,y.mode,_),x.return=y,y=x),o(y)):r(y,x)}return g}var Yc=lk(!0),ck=lk(!1),Gm=jo(null),Ym=null,vc=null,_w=null;function Nw(){_w=vc=Ym=null}function Sw(e){var t=Gm.current;sr(Gm),e._currentValue=t}function Ey(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Cc(e,t){Ym=e,_w=vc=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Dn=!0),e.firstContext=null)}function ws(e){var t=e._currentValue;if(_w!==e)if(e={context:e,memoizedValue:t,next:null},vc===null){if(Ym===null)throw Error(je(308));vc=e,Ym.dependencies={lanes:0,firstContext:e}}else vc=vc.next=e;return t}var Wo=null;function Cw(e){Wo===null?Wo=[e]:Wo.push(e)}function dk(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,Cw(t)):(r.next=a.next,a.next=r),t.interleaved=r,ti(e,n)}function ti(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Ni=!1;function kw(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function uk(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ya(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Gi(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Mt&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,ti(e,r)}return a=n.interleaved,a===null?(t.next=t,Cw(n)):(t.next=a.next,a.next=t),n.interleaved=t,ti(e,r)}function pm(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,fw(e,r)}}function r_(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Qm(e,t,r,n){var a=e.updateQueue;Ni=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?i=d:o.next=d,o=c;var u=e.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==o&&(l===null?u.firstBaseUpdate=d:l.next=d,u.lastBaseUpdate=c))}if(i!==null){var h=a.baseState;o=0,u=d=c=null,l=i;do{var m=l.lane,p=l.eventTime;if((n&m)===m){u!==null&&(u=u.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var w=e,v=l;switch(m=t,p=r,v.tag){case 1:if(w=v.payload,typeof w=="function"){h=w.call(p,h,m);break e}h=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=v.payload,m=typeof w=="function"?w.call(p,h,m):w,m==null)break e;h=gr({},h,m);break e;case 2:Ni=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,m=a.effects,m===null?a.effects=[l]:m.push(l))}else p={eventTime:p,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(d=u=p,c=h):u=u.next=p,o|=m;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;m=l,l=m.next,m.next=null,a.lastBaseUpdate=m,a.shared.pending=null}}while(!0);if(u===null&&(c=h),a.baseState=c,a.firstBaseUpdate=d,a.lastBaseUpdate=u,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);cl|=o,e.lanes=o,e.memoizedState=h}}function n_(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(je(191,a));a.call(n)}}}var Bf={},va=jo(Bf),lf=jo(Bf),cf=jo(Bf);function Ho(e){if(e===Bf)throw Error(je(174));return e}function Ew(e,t){switch(Yt(cf,t),Yt(lf,e),Yt(va,Bf),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ly(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ly(t,e)}sr(va),Yt(va,t)}function Qc(){sr(va),sr(lf),sr(cf)}function fk(e){Ho(cf.current);var t=Ho(va.current),r=ly(t,e.type);t!==r&&(Yt(lf,e),Yt(va,r))}function Pw(e){lf.current===e&&(sr(va),sr(lf))}var hr=jo(0);function Xm(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Zv=[];function Tw(){for(var e=0;e<Zv.length;e++)Zv[e]._workInProgressVersionPrimary=null;Zv.length=0}var gm=ci.ReactCurrentDispatcher,Jv=ci.ReactCurrentBatchConfig,ll=0,mr=null,zr=null,Yr=null,Zm=!1,Lu=!1,df=0,fI=0;function an(){throw Error(je(321))}function Rw(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Ws(e[r],t[r]))return!1;return!0}function Mw(e,t,r,n,a,i){if(ll=i,mr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,gm.current=e===null||e.memoizedState===null?gI:vI,e=r(n,a),Lu){i=0;do{if(Lu=!1,df=0,25<=i)throw Error(je(301));i+=1,Yr=zr=null,t.updateQueue=null,gm.current=xI,e=r(n,a)}while(Lu)}if(gm.current=Jm,t=zr!==null&&zr.next!==null,ll=0,Yr=zr=mr=null,Zm=!1,t)throw Error(je(300));return e}function Aw(){var e=df!==0;return df=0,e}function sa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Yr===null?mr.memoizedState=Yr=e:Yr=Yr.next=e,Yr}function bs(){if(zr===null){var e=mr.alternate;e=e!==null?e.memoizedState:null}else e=zr.next;var t=Yr===null?mr.memoizedState:Yr.next;if(t!==null)Yr=t,zr=e;else{if(e===null)throw Error(je(310));zr=e,e={memoizedState:zr.memoizedState,baseState:zr.baseState,baseQueue:zr.baseQueue,queue:zr.queue,next:null},Yr===null?mr.memoizedState=Yr=e:Yr=Yr.next=e}return Yr}function uf(e,t){return typeof t=="function"?t(e):t}function ex(e){var t=bs(),r=t.queue;if(r===null)throw Error(je(311));r.lastRenderedReducer=e;var n=zr,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var l=o=null,c=null,d=i;do{var u=d.lane;if((ll&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:e(n,d.action);else{var h={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=h,o=n):c=c.next=h,mr.lanes|=u,cl|=u}d=d.next}while(d!==null&&d!==i);c===null?o=n:c.next=l,Ws(n,t.memoizedState)||(Dn=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do i=a.lane,mr.lanes|=i,cl|=i,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function tx(e){var t=bs(),r=t.queue;if(r===null)throw Error(je(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);Ws(i,t.memoizedState)||(Dn=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function hk(){}function mk(e,t){var r=mr,n=bs(),a=t(),i=!Ws(n.memoizedState,a);if(i&&(n.memoizedState=a,Dn=!0),n=n.queue,Ow(vk.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||Yr!==null&&Yr.memoizedState.tag&1){if(r.flags|=2048,ff(9,gk.bind(null,r,n,a,t),void 0,null),Jr===null)throw Error(je(349));ll&30||pk(r,t,a)}return a}function pk(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=mr.updateQueue,t===null?(t={lastEffect:null,stores:null},mr.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function gk(e,t,r,n){t.value=r,t.getSnapshot=n,xk(t)&&yk(e)}function vk(e,t,r){return r(function(){xk(t)&&yk(e)})}function xk(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Ws(e,r)}catch{return!0}}function yk(e){var t=ti(e,1);t!==null&&Vs(t,e,1,-1)}function s_(e){var t=sa();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:uf,lastRenderedState:e},t.queue=e,e=e.dispatch=pI.bind(null,mr,e),[t.memoizedState,e]}function ff(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=mr.updateQueue,t===null?(t={lastEffect:null,stores:null},mr.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function wk(){return bs().memoizedState}function vm(e,t,r,n){var a=sa();mr.flags|=e,a.memoizedState=ff(1|t,r,void 0,n===void 0?null:n)}function Kp(e,t,r,n){var a=bs();n=n===void 0?null:n;var i=void 0;if(zr!==null){var o=zr.memoizedState;if(i=o.destroy,n!==null&&Rw(n,o.deps)){a.memoizedState=ff(t,r,i,n);return}}mr.flags|=e,a.memoizedState=ff(1|t,r,i,n)}function a_(e,t){return vm(8390656,8,e,t)}function Ow(e,t){return Kp(2048,8,e,t)}function bk(e,t){return Kp(4,2,e,t)}function jk(e,t){return Kp(4,4,e,t)}function _k(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Nk(e,t,r){return r=r!=null?r.concat([e]):null,Kp(4,4,_k.bind(null,t,e),r)}function Dw(){}function Sk(e,t){var r=bs();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Rw(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Ck(e,t){var r=bs();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Rw(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function kk(e,t,r){return ll&21?(Ws(r,t)||(r=MC(),mr.lanes|=r,cl|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Dn=!0),e.memoizedState=r)}function hI(e,t){var r=Wt;Wt=r!==0&&4>r?r:4,e(!0);var n=Jv.transition;Jv.transition={};try{e(!1),t()}finally{Wt=r,Jv.transition=n}}function Ek(){return bs().memoizedState}function mI(e,t,r){var n=Qi(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Pk(e))Tk(t,r);else if(r=dk(e,t,r,n),r!==null){var a=_n();Vs(r,e,n,a),Rk(r,t,n)}}function pI(e,t,r){var n=Qi(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Pk(e))Tk(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(a.hasEagerState=!0,a.eagerState=l,Ws(l,o)){var c=t.interleaved;c===null?(a.next=a,Cw(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=dk(e,t,a,n),r!==null&&(a=_n(),Vs(r,e,n,a),Rk(r,t,n))}}function Pk(e){var t=e.alternate;return e===mr||t!==null&&t===mr}function Tk(e,t){Lu=Zm=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Rk(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,fw(e,r)}}var Jm={readContext:ws,useCallback:an,useContext:an,useEffect:an,useImperativeHandle:an,useInsertionEffect:an,useLayoutEffect:an,useMemo:an,useReducer:an,useRef:an,useState:an,useDebugValue:an,useDeferredValue:an,useTransition:an,useMutableSource:an,useSyncExternalStore:an,useId:an,unstable_isNewReconciler:!1},gI={readContext:ws,useCallback:function(e,t){return sa().memoizedState=[e,t===void 0?null:t],e},useContext:ws,useEffect:a_,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,vm(4194308,4,_k.bind(null,t,e),r)},useLayoutEffect:function(e,t){return vm(4194308,4,e,t)},useInsertionEffect:function(e,t){return vm(4,2,e,t)},useMemo:function(e,t){var r=sa();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=sa();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=mI.bind(null,mr,e),[n.memoizedState,e]},useRef:function(e){var t=sa();return e={current:e},t.memoizedState=e},useState:s_,useDebugValue:Dw,useDeferredValue:function(e){return sa().memoizedState=e},useTransition:function(){var e=s_(!1),t=e[0];return e=hI.bind(null,e[1]),sa().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=mr,a=sa();if(or){if(r===void 0)throw Error(je(407));r=r()}else{if(r=t(),Jr===null)throw Error(je(349));ll&30||pk(n,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,a_(vk.bind(null,n,i,e),[e]),n.flags|=2048,ff(9,gk.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=sa(),t=Jr.identifierPrefix;if(or){var r=Ha,n=Wa;r=(n&~(1<<32-qs(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=df++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=fI++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},vI={readContext:ws,useCallback:Sk,useContext:ws,useEffect:Ow,useImperativeHandle:Nk,useInsertionEffect:bk,useLayoutEffect:jk,useMemo:Ck,useReducer:ex,useRef:wk,useState:function(){return ex(uf)},useDebugValue:Dw,useDeferredValue:function(e){var t=bs();return kk(t,zr.memoizedState,e)},useTransition:function(){var e=ex(uf)[0],t=bs().memoizedState;return[e,t]},useMutableSource:hk,useSyncExternalStore:mk,useId:Ek,unstable_isNewReconciler:!1},xI={readContext:ws,useCallback:Sk,useContext:ws,useEffect:Ow,useImperativeHandle:Nk,useInsertionEffect:bk,useLayoutEffect:jk,useMemo:Ck,useReducer:tx,useRef:wk,useState:function(){return tx(uf)},useDebugValue:Dw,useDeferredValue:function(e){var t=bs();return zr===null?t.memoizedState=e:kk(t,zr.memoizedState,e)},useTransition:function(){var e=tx(uf)[0],t=bs().memoizedState;return[e,t]},useMutableSource:hk,useSyncExternalStore:mk,useId:Ek,unstable_isNewReconciler:!1};function As(e,t){if(e&&e.defaultProps){t=gr({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Py(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:gr({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Gp={isMounted:function(e){return(e=e._reactInternals)?Cl(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=_n(),a=Qi(e),i=Ya(n,a);i.payload=t,r!=null&&(i.callback=r),t=Gi(e,i,a),t!==null&&(Vs(t,e,a,n),pm(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=_n(),a=Qi(e),i=Ya(n,a);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Gi(e,i,a),t!==null&&(Vs(t,e,a,n),pm(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=_n(),n=Qi(e),a=Ya(r,n);a.tag=2,t!=null&&(a.callback=t),t=Gi(e,a,n),t!==null&&(Vs(t,e,n,r),pm(t,e,n))}};function i_(e,t,r,n,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!nf(r,n)||!nf(a,i):!0}function Mk(e,t,r){var n=!1,a=io,i=t.contextType;return typeof i=="object"&&i!==null?i=ws(i):(a=Ln(t)?il:fn.current,n=t.contextTypes,i=(n=n!=null)?Kc(e,a):io),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Gp,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function o_(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Gp.enqueueReplaceState(t,t.state,null)}function Ty(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},kw(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=ws(i):(i=Ln(t)?il:fn.current,a.context=Kc(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Py(e,t,i,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Gp.enqueueReplaceState(a,a.state,null),Qm(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Xc(e,t){try{var r="",n=t;do r+=HO(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function rx(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Ry(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var yI=typeof WeakMap=="function"?WeakMap:Map;function Ak(e,t,r){r=Ya(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){tp||(tp=!0,Uy=n),Ry(e,t)},r}function Ok(e,t,r){r=Ya(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){Ry(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Ry(e,t),typeof n!="function"&&(Yi===null?Yi=new Set([this]):Yi.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function l_(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new yI;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=AI.bind(null,e,t,r),t.then(e,e))}function c_(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function d_(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Ya(-1,1),t.tag=2,Gi(r,t,1))),r.lanes|=1),e)}var wI=ci.ReactCurrentOwner,Dn=!1;function gn(e,t,r,n){t.child=e===null?ck(t,null,r,n):Yc(t,e.child,r,n)}function u_(e,t,r,n,a){r=r.render;var i=t.ref;return Cc(t,a),n=Mw(e,t,r,n,i,a),r=Aw(),e!==null&&!Dn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,ri(e,t,a)):(or&&r&&ww(t),t.flags|=1,gn(e,t,n,a),t.child)}function f_(e,t,r,n,a){if(e===null){var i=r.type;return typeof i=="function"&&!qw(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,Dk(e,t,i,n,a)):(e=bm(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:nf,r(o,n)&&e.ref===t.ref)return ri(e,t,a)}return t.flags|=1,e=Xi(i,n),e.ref=t.ref,e.return=t,t.child=e}function Dk(e,t,r,n,a){if(e!==null){var i=e.memoizedProps;if(nf(i,n)&&e.ref===t.ref)if(Dn=!1,t.pendingProps=n=i,(e.lanes&a)!==0)e.flags&131072&&(Dn=!0);else return t.lanes=e.lanes,ri(e,t,a)}return My(e,t,r,n,a)}function Ik(e,t,r){var n=t.pendingProps,a=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Yt(yc,Hn),Hn|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Yt(yc,Hn),Hn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Yt(yc,Hn),Hn|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,Yt(yc,Hn),Hn|=n;return gn(e,t,a,r),t.child}function Fk(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function My(e,t,r,n,a){var i=Ln(r)?il:fn.current;return i=Kc(t,i),Cc(t,a),r=Mw(e,t,r,n,i,a),n=Aw(),e!==null&&!Dn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,ri(e,t,a)):(or&&n&&ww(t),t.flags|=1,gn(e,t,r,a),t.child)}function h_(e,t,r,n,a){if(Ln(r)){var i=!0;Wm(t)}else i=!1;if(Cc(t,a),t.stateNode===null)xm(e,t),Mk(t,r,n),Ty(t,r,n,a),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,d=r.contextType;typeof d=="object"&&d!==null?d=ws(d):(d=Ln(r)?il:fn.current,d=Kc(t,d));var u=r.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==d)&&o_(t,o,n,d),Ni=!1;var m=t.memoizedState;o.state=m,Qm(t,n,o,a),c=t.memoizedState,l!==n||m!==c||Fn.current||Ni?(typeof u=="function"&&(Py(t,r,u,n),c=t.memoizedState),(l=Ni||i_(t,r,l,n,m,c,d))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=d,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,uk(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:As(t.type,l),o.props=d,h=t.pendingProps,m=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=ws(c):(c=Ln(r)?il:fn.current,c=Kc(t,c));var p=r.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||m!==c)&&o_(t,o,n,c),Ni=!1,m=t.memoizedState,o.state=m,Qm(t,n,o,a);var w=t.memoizedState;l!==h||m!==w||Fn.current||Ni?(typeof p=="function"&&(Py(t,r,p,n),w=t.memoizedState),(d=Ni||i_(t,r,d,n,m,w,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,w,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,w,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=w),o.props=n,o.state=w,o.context=c,n=d):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),n=!1)}return Ay(e,t,r,n,i,a)}function Ay(e,t,r,n,a,i){Fk(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return a&&Z1(t,r,!1),ri(e,t,i);n=t.stateNode,wI.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=Yc(t,e.child,null,i),t.child=Yc(t,null,l,i)):gn(e,t,l,i),t.memoizedState=n.state,a&&Z1(t,r,!0),t.child}function Lk(e){var t=e.stateNode;t.pendingContext?X1(e,t.pendingContext,t.pendingContext!==t.context):t.context&&X1(e,t.context,!1),Ew(e,t.containerInfo)}function m_(e,t,r,n,a){return Gc(),jw(a),t.flags|=256,gn(e,t,r,n),t.child}var Oy={dehydrated:null,treeContext:null,retryLane:0};function Dy(e){return{baseLanes:e,cachePool:null,transitions:null}}function $k(e,t,r){var n=t.pendingProps,a=hr.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Yt(hr,a&1),e===null)return ky(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Xp(o,n,0,null),e=sl(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Dy(r),t.memoizedState=Oy,e):Iw(t,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return bI(e,t,o,n,l,a,r);if(i){i=n.fallback,o=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Xi(a,c),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?i=Xi(l,i):(i=sl(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?Dy(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=Oy,n}return i=e.child,e=i.sibling,n=Xi(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Iw(e,t){return t=Xp({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Uh(e,t,r,n){return n!==null&&jw(n),Yc(t,e.child,null,r),e=Iw(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function bI(e,t,r,n,a,i,o){if(r)return t.flags&256?(t.flags&=-257,n=rx(Error(je(422))),Uh(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,a=t.mode,n=Xp({mode:"visible",children:n.children},a,0,null),i=sl(i,a,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&Yc(t,e.child,null,o),t.child.memoizedState=Dy(o),t.memoizedState=Oy,i);if(!(t.mode&1))return Uh(e,t,o,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(je(419)),n=rx(i,n,void 0),Uh(e,t,o,n)}if(l=(o&e.childLanes)!==0,Dn||l){if(n=Jr,n!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,ti(e,a),Vs(n,e,a,-1))}return Bw(),n=rx(Error(je(421))),Uh(e,t,o,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=OI.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,Qn=Ki(a.nextSibling),Zn=t,or=!0,Ls=null,e!==null&&(fs[hs++]=Wa,fs[hs++]=Ha,fs[hs++]=ol,Wa=e.id,Ha=e.overflow,ol=t),t=Iw(t,n.children),t.flags|=4096,t)}function p_(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Ey(e.return,t,r)}function nx(e,t,r,n,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function zk(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;if(gn(e,t,n.children,r),n=hr.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&p_(e,r,t);else if(e.tag===19)p_(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Yt(hr,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&Xm(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),nx(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Xm(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}nx(t,!0,r,null,i);break;case"together":nx(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function xm(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ri(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),cl|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(je(153));if(t.child!==null){for(e=t.child,r=Xi(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Xi(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function jI(e,t,r){switch(t.tag){case 3:Lk(t),Gc();break;case 5:fk(t);break;case 1:Ln(t.type)&&Wm(t);break;case 4:Ew(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;Yt(Gm,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Yt(hr,hr.current&1),t.flags|=128,null):r&t.child.childLanes?$k(e,t,r):(Yt(hr,hr.current&1),e=ri(e,t,r),e!==null?e.sibling:null);Yt(hr,hr.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return zk(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Yt(hr,hr.current),n)break;return null;case 22:case 23:return t.lanes=0,Ik(e,t,r)}return ri(e,t,r)}var Uk,Iy,Bk,qk;Uk=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Iy=function(){};Bk=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,Ho(va.current);var i=null;switch(r){case"input":a=sy(e,a),n=sy(e,n),i=[];break;case"select":a=gr({},a,{value:void 0}),n=gr({},n,{value:void 0}),i=[];break;case"textarea":a=oy(e,a),n=oy(e,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=qm)}cy(r,n);var o;r=null;for(d in a)if(!n.hasOwnProperty(d)&&a.hasOwnProperty(d)&&a[d]!=null)if(d==="style"){var l=a[d];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Qu.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in n){var c=n[d];if(l=a!=null?a[d]:void 0,n.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Qu.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&rr("scroll",e),i||l===c||(i=[])):(i=i||[]).push(d,c))}r&&(i=i||[]).push("style",r);var d=i;(t.updateQueue=d)&&(t.flags|=4)}};qk=function(e,t,r,n){r!==n&&(t.flags|=4)};function du(e,t){if(!or)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function on(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function _I(e,t,r){var n=t.pendingProps;switch(bw(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return on(t),null;case 1:return Ln(t.type)&&Vm(),on(t),null;case 3:return n=t.stateNode,Qc(),sr(Fn),sr(fn),Tw(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&($h(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ls!==null&&(Vy(Ls),Ls=null))),Iy(e,t),on(t),null;case 5:Pw(t);var a=Ho(cf.current);if(r=t.type,e!==null&&t.stateNode!=null)Bk(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(je(166));return on(t),null}if(e=Ho(va.current),$h(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[la]=t,n[of]=i,e=(t.mode&1)!==0,r){case"dialog":rr("cancel",n),rr("close",n);break;case"iframe":case"object":case"embed":rr("load",n);break;case"video":case"audio":for(a=0;a<bu.length;a++)rr(bu[a],n);break;case"source":rr("error",n);break;case"img":case"image":case"link":rr("error",n),rr("load",n);break;case"details":rr("toggle",n);break;case"input":N1(n,i),rr("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},rr("invalid",n);break;case"textarea":C1(n,i),rr("invalid",n)}cy(r,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&Lh(n.textContent,l,e),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Lh(n.textContent,l,e),a=["children",""+l]):Qu.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&rr("scroll",n)}switch(r){case"input":Th(n),S1(n,i,!0);break;case"textarea":Th(n),k1(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=qm)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=vC(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[la]=t,e[of]=n,Uk(e,t,!1,!1),t.stateNode=e;e:{switch(o=dy(r,n),r){case"dialog":rr("cancel",e),rr("close",e),a=n;break;case"iframe":case"object":case"embed":rr("load",e),a=n;break;case"video":case"audio":for(a=0;a<bu.length;a++)rr(bu[a],e);a=n;break;case"source":rr("error",e),a=n;break;case"img":case"image":case"link":rr("error",e),rr("load",e),a=n;break;case"details":rr("toggle",e),a=n;break;case"input":N1(e,n),a=sy(e,n),rr("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=gr({},n,{value:void 0}),rr("invalid",e);break;case"textarea":C1(e,n),a=oy(e,n),rr("invalid",e);break;default:a=n}cy(r,a),l=a;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?wC(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&xC(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Xu(e,c):typeof c=="number"&&Xu(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Qu.hasOwnProperty(i)?c!=null&&i==="onScroll"&&rr("scroll",e):c!=null&&iw(e,i,c,o))}switch(r){case"input":Th(e),S1(e,n,!1);break;case"textarea":Th(e),k1(e);break;case"option":n.value!=null&&e.setAttribute("value",""+ao(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?jc(e,!!n.multiple,i,!1):n.defaultValue!=null&&jc(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=qm)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return on(t),null;case 6:if(e&&t.stateNode!=null)qk(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(je(166));if(r=Ho(cf.current),Ho(va.current),$h(t)){if(n=t.stateNode,r=t.memoizedProps,n[la]=t,(i=n.nodeValue!==r)&&(e=Zn,e!==null))switch(e.tag){case 3:Lh(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Lh(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[la]=t,t.stateNode=n}return on(t),null;case 13:if(sr(hr),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(or&&Qn!==null&&t.mode&1&&!(t.flags&128))ok(),Gc(),t.flags|=98560,i=!1;else if(i=$h(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(je(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(je(317));i[la]=t}else Gc(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;on(t),i=!1}else Ls!==null&&(Vy(Ls),Ls=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||hr.current&1?Wr===0&&(Wr=3):Bw())),t.updateQueue!==null&&(t.flags|=4),on(t),null);case 4:return Qc(),Iy(e,t),e===null&&sf(t.stateNode.containerInfo),on(t),null;case 10:return Sw(t.type._context),on(t),null;case 17:return Ln(t.type)&&Vm(),on(t),null;case 19:if(sr(hr),i=t.memoizedState,i===null)return on(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)du(i,!1);else{if(Wr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Xm(e),o!==null){for(t.flags|=128,du(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Yt(hr,hr.current&1|2),t.child}e=e.sibling}i.tail!==null&&Sr()>Zc&&(t.flags|=128,n=!0,du(i,!1),t.lanes=4194304)}else{if(!n)if(e=Xm(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),du(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!or)return on(t),null}else 2*Sr()-i.renderingStartTime>Zc&&r!==1073741824&&(t.flags|=128,n=!0,du(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Sr(),t.sibling=null,r=hr.current,Yt(hr,n?r&1|2:r&1),t):(on(t),null);case 22:case 23:return Uw(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Hn&1073741824&&(on(t),t.subtreeFlags&6&&(t.flags|=8192)):on(t),null;case 24:return null;case 25:return null}throw Error(je(156,t.tag))}function NI(e,t){switch(bw(t),t.tag){case 1:return Ln(t.type)&&Vm(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Qc(),sr(Fn),sr(fn),Tw(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Pw(t),null;case 13:if(sr(hr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(je(340));Gc()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return sr(hr),null;case 4:return Qc(),null;case 10:return Sw(t.type._context),null;case 22:case 23:return Uw(),null;case 24:return null;default:return null}}var Bh=!1,dn=!1,SI=typeof WeakSet=="function"?WeakSet:Set,$e=null;function xc(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){br(e,t,n)}else r.current=null}function Fy(e,t,r){try{r()}catch(n){br(e,t,n)}}var g_=!1;function CI(e,t){if(wy=zm,e=GC(),yw(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,d=0,u=0,h=e,m=null;t:for(;;){for(var p;h!==r||a!==0&&h.nodeType!==3||(l=o+a),h!==i||n!==0&&h.nodeType!==3||(c=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)m=h,h=p;for(;;){if(h===e)break t;if(m===r&&++d===a&&(l=o),m===i&&++u===n&&(c=o),(p=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=p}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(by={focusedElem:e,selectionRange:r},zm=!1,$e=t;$e!==null;)if(t=$e,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,$e=e;else for(;$e!==null;){t=$e;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var v=w.memoizedProps,g=w.memoizedState,y=t.stateNode,x=y.getSnapshotBeforeUpdate(t.elementType===t.type?v:As(t.type,v),g);y.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(je(163))}}catch(_){br(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,$e=e;break}$e=t.return}return w=g_,g_=!1,w}function $u(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&Fy(t,r,i)}a=a.next}while(a!==n)}}function Yp(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Ly(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Vk(e){var t=e.alternate;t!==null&&(e.alternate=null,Vk(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[la],delete t[of],delete t[Ny],delete t[lI],delete t[cI])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Wk(e){return e.tag===5||e.tag===3||e.tag===4}function v_(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Wk(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function $y(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=qm));else if(n!==4&&(e=e.child,e!==null))for($y(e,t,r),e=e.sibling;e!==null;)$y(e,t,r),e=e.sibling}function zy(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(zy(e,t,r),e=e.sibling;e!==null;)zy(e,t,r),e=e.sibling}var tn=null,Is=!1;function hi(e,t,r){for(r=r.child;r!==null;)Hk(e,t,r),r=r.sibling}function Hk(e,t,r){if(ga&&typeof ga.onCommitFiberUnmount=="function")try{ga.onCommitFiberUnmount(Up,r)}catch{}switch(r.tag){case 5:dn||xc(r,t);case 6:var n=tn,a=Is;tn=null,hi(e,t,r),tn=n,Is=a,tn!==null&&(Is?(e=tn,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):tn.removeChild(r.stateNode));break;case 18:tn!==null&&(Is?(e=tn,r=r.stateNode,e.nodeType===8?Qv(e.parentNode,r):e.nodeType===1&&Qv(e,r),tf(e)):Qv(tn,r.stateNode));break;case 4:n=tn,a=Is,tn=r.stateNode.containerInfo,Is=!0,hi(e,t,r),tn=n,Is=a;break;case 0:case 11:case 14:case 15:if(!dn&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Fy(r,t,o),a=a.next}while(a!==n)}hi(e,t,r);break;case 1:if(!dn&&(xc(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){br(r,t,l)}hi(e,t,r);break;case 21:hi(e,t,r);break;case 22:r.mode&1?(dn=(n=dn)||r.memoizedState!==null,hi(e,t,r),dn=n):hi(e,t,r);break;default:hi(e,t,r)}}function x_(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new SI),t.forEach(function(n){var a=DI.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function Es(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:tn=l.stateNode,Is=!1;break e;case 3:tn=l.stateNode.containerInfo,Is=!0;break e;case 4:tn=l.stateNode.containerInfo,Is=!0;break e}l=l.return}if(tn===null)throw Error(je(160));Hk(i,o,a),tn=null,Is=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(d){br(a,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Kk(t,e),t=t.sibling}function Kk(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Es(t,e),na(e),n&4){try{$u(3,e,e.return),Yp(3,e)}catch(v){br(e,e.return,v)}try{$u(5,e,e.return)}catch(v){br(e,e.return,v)}}break;case 1:Es(t,e),na(e),n&512&&r!==null&&xc(r,r.return);break;case 5:if(Es(t,e),na(e),n&512&&r!==null&&xc(r,r.return),e.flags&32){var a=e.stateNode;try{Xu(a,"")}catch(v){br(e,e.return,v)}}if(n&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&pC(a,i),dy(l,o);var d=dy(l,i);for(o=0;o<c.length;o+=2){var u=c[o],h=c[o+1];u==="style"?wC(a,h):u==="dangerouslySetInnerHTML"?xC(a,h):u==="children"?Xu(a,h):iw(a,u,h,d)}switch(l){case"input":ay(a,i);break;case"textarea":gC(a,i);break;case"select":var m=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?jc(a,!!i.multiple,p,!1):m!==!!i.multiple&&(i.defaultValue!=null?jc(a,!!i.multiple,i.defaultValue,!0):jc(a,!!i.multiple,i.multiple?[]:"",!1))}a[of]=i}catch(v){br(e,e.return,v)}}break;case 6:if(Es(t,e),na(e),n&4){if(e.stateNode===null)throw Error(je(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(v){br(e,e.return,v)}}break;case 3:if(Es(t,e),na(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{tf(t.containerInfo)}catch(v){br(e,e.return,v)}break;case 4:Es(t,e),na(e);break;case 13:Es(t,e),na(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||($w=Sr())),n&4&&x_(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(dn=(d=dn)||u,Es(t,e),dn=d):Es(t,e),na(e),n&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!u&&e.mode&1)for($e=e,u=e.child;u!==null;){for(h=$e=u;$e!==null;){switch(m=$e,p=m.child,m.tag){case 0:case 11:case 14:case 15:$u(4,m,m.return);break;case 1:xc(m,m.return);var w=m.stateNode;if(typeof w.componentWillUnmount=="function"){n=m,r=m.return;try{t=n,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(v){br(n,r,v)}}break;case 5:xc(m,m.return);break;case 22:if(m.memoizedState!==null){w_(h);continue}}p!==null?(p.return=m,$e=p):w_(h)}u=u.sibling}e:for(u=null,h=e;;){if(h.tag===5){if(u===null){u=h;try{a=h.stateNode,d?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=yC("display",o))}catch(v){br(e,e.return,v)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(v){br(e,e.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Es(t,e),na(e),n&4&&x_(e);break;case 21:break;default:Es(t,e),na(e)}}function na(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Wk(r)){var n=r;break e}r=r.return}throw Error(je(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(Xu(a,""),n.flags&=-33);var i=v_(e);zy(e,i,a);break;case 3:case 4:var o=n.stateNode.containerInfo,l=v_(e);$y(e,l,o);break;default:throw Error(je(161))}}catch(c){br(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function kI(e,t,r){$e=e,Gk(e)}function Gk(e,t,r){for(var n=(e.mode&1)!==0;$e!==null;){var a=$e,i=a.child;if(a.tag===22&&n){var o=a.memoizedState!==null||Bh;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||dn;l=Bh;var d=dn;if(Bh=o,(dn=c)&&!d)for($e=a;$e!==null;)o=$e,c=o.child,o.tag===22&&o.memoizedState!==null?b_(a):c!==null?(c.return=o,$e=c):b_(a);for(;i!==null;)$e=i,Gk(i),i=i.sibling;$e=a,Bh=l,dn=d}y_(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,$e=i):y_(e)}}function y_(e){for(;$e!==null;){var t=$e;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:dn||Yp(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!dn)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:As(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&n_(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}n_(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&tf(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(je(163))}dn||t.flags&512&&Ly(t)}catch(m){br(t,t.return,m)}}if(t===e){$e=null;break}if(r=t.sibling,r!==null){r.return=t.return,$e=r;break}$e=t.return}}function w_(e){for(;$e!==null;){var t=$e;if(t===e){$e=null;break}var r=t.sibling;if(r!==null){r.return=t.return,$e=r;break}$e=t.return}}function b_(e){for(;$e!==null;){var t=$e;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Yp(4,t)}catch(c){br(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(c){br(t,a,c)}}var i=t.return;try{Ly(t)}catch(c){br(t,i,c)}break;case 5:var o=t.return;try{Ly(t)}catch(c){br(t,o,c)}}}catch(c){br(t,t.return,c)}if(t===e){$e=null;break}var l=t.sibling;if(l!==null){l.return=t.return,$e=l;break}$e=t.return}}var EI=Math.ceil,ep=ci.ReactCurrentDispatcher,Fw=ci.ReactCurrentOwner,gs=ci.ReactCurrentBatchConfig,Mt=0,Jr=null,Ar=null,rn=0,Hn=0,yc=jo(0),Wr=0,hf=null,cl=0,Qp=0,Lw=0,zu=null,An=null,$w=0,Zc=1/0,La=null,tp=!1,Uy=null,Yi=null,qh=!1,zi=null,rp=0,Uu=0,By=null,ym=-1,wm=0;function _n(){return Mt&6?Sr():ym!==-1?ym:ym=Sr()}function Qi(e){return e.mode&1?Mt&2&&rn!==0?rn&-rn:uI.transition!==null?(wm===0&&(wm=MC()),wm):(e=Wt,e!==0||(e=window.event,e=e===void 0?16:$C(e.type)),e):1}function Vs(e,t,r,n){if(50<Uu)throw Uu=0,By=null,Error(je(185));$f(e,r,n),(!(Mt&2)||e!==Jr)&&(e===Jr&&(!(Mt&2)&&(Qp|=r),Wr===4&&ki(e,rn)),$n(e,n),r===1&&Mt===0&&!(t.mode&1)&&(Zc=Sr()+500,Hp&&_o()))}function $n(e,t){var r=e.callbackNode;uD(e,t);var n=$m(e,e===Jr?rn:0);if(n===0)r!==null&&T1(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&T1(r),t===1)e.tag===0?dI(j_.bind(null,e)):sk(j_.bind(null,e)),iI(function(){!(Mt&6)&&_o()}),r=null;else{switch(AC(n)){case 1:r=uw;break;case 4:r=TC;break;case 16:r=Lm;break;case 536870912:r=RC;break;default:r=Lm}r=r2(r,Yk.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Yk(e,t){if(ym=-1,wm=0,Mt&6)throw Error(je(327));var r=e.callbackNode;if(kc()&&e.callbackNode!==r)return null;var n=$m(e,e===Jr?rn:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=np(e,n);else{t=n;var a=Mt;Mt|=2;var i=Xk();(Jr!==e||rn!==t)&&(La=null,Zc=Sr()+500,nl(e,t));do try{RI();break}catch(l){Qk(e,l)}while(!0);Nw(),ep.current=i,Mt=a,Ar!==null?t=0:(Jr=null,rn=0,t=Wr)}if(t!==0){if(t===2&&(a=py(e),a!==0&&(n=a,t=qy(e,a))),t===1)throw r=hf,nl(e,0),ki(e,n),$n(e,Sr()),r;if(t===6)ki(e,n);else{if(a=e.current.alternate,!(n&30)&&!PI(a)&&(t=np(e,n),t===2&&(i=py(e),i!==0&&(n=i,t=qy(e,i))),t===1))throw r=hf,nl(e,0),ki(e,n),$n(e,Sr()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(je(345));case 2:zo(e,An,La);break;case 3:if(ki(e,n),(n&130023424)===n&&(t=$w+500-Sr(),10<t)){if($m(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){_n(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=_y(zo.bind(null,e,An,La),t);break}zo(e,An,La);break;case 4:if(ki(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var o=31-qs(n);i=1<<o,o=t[o],o>a&&(a=o),n&=~i}if(n=a,n=Sr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*EI(n/1960))-n,10<n){e.timeoutHandle=_y(zo.bind(null,e,An,La),n);break}zo(e,An,La);break;case 5:zo(e,An,La);break;default:throw Error(je(329))}}}return $n(e,Sr()),e.callbackNode===r?Yk.bind(null,e):null}function qy(e,t){var r=zu;return e.current.memoizedState.isDehydrated&&(nl(e,t).flags|=256),e=np(e,t),e!==2&&(t=An,An=r,t!==null&&Vy(t)),e}function Vy(e){An===null?An=e:An.push.apply(An,e)}function PI(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!Ws(i(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ki(e,t){for(t&=~Lw,t&=~Qp,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-qs(t),n=1<<r;e[r]=-1,t&=~n}}function j_(e){if(Mt&6)throw Error(je(327));kc();var t=$m(e,0);if(!(t&1))return $n(e,Sr()),null;var r=np(e,t);if(e.tag!==0&&r===2){var n=py(e);n!==0&&(t=n,r=qy(e,n))}if(r===1)throw r=hf,nl(e,0),ki(e,t),$n(e,Sr()),r;if(r===6)throw Error(je(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,zo(e,An,La),$n(e,Sr()),null}function zw(e,t){var r=Mt;Mt|=1;try{return e(t)}finally{Mt=r,Mt===0&&(Zc=Sr()+500,Hp&&_o())}}function dl(e){zi!==null&&zi.tag===0&&!(Mt&6)&&kc();var t=Mt;Mt|=1;var r=gs.transition,n=Wt;try{if(gs.transition=null,Wt=1,e)return e()}finally{Wt=n,gs.transition=r,Mt=t,!(Mt&6)&&_o()}}function Uw(){Hn=yc.current,sr(yc)}function nl(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,aI(r)),Ar!==null)for(r=Ar.return;r!==null;){var n=r;switch(bw(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Vm();break;case 3:Qc(),sr(Fn),sr(fn),Tw();break;case 5:Pw(n);break;case 4:Qc();break;case 13:sr(hr);break;case 19:sr(hr);break;case 10:Sw(n.type._context);break;case 22:case 23:Uw()}r=r.return}if(Jr=e,Ar=e=Xi(e.current,null),rn=Hn=t,Wr=0,hf=null,Lw=Qp=cl=0,An=zu=null,Wo!==null){for(t=0;t<Wo.length;t++)if(r=Wo[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=a,n.next=o}r.pending=n}Wo=null}return e}function Qk(e,t){do{var r=Ar;try{if(Nw(),gm.current=Jm,Zm){for(var n=mr.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}Zm=!1}if(ll=0,Yr=zr=mr=null,Lu=!1,df=0,Fw.current=null,r===null||r.return===null){Wr=1,hf=t,Ar=null;break}e:{var i=e,o=r.return,l=r,c=t;if(t=rn,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=l,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var m=u.alternate;m?(u.updateQueue=m.updateQueue,u.memoizedState=m.memoizedState,u.lanes=m.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=c_(o);if(p!==null){p.flags&=-257,d_(p,o,l,i,t),p.mode&1&&l_(i,d,t),t=p,c=d;var w=t.updateQueue;if(w===null){var v=new Set;v.add(c),t.updateQueue=v}else w.add(c);break e}else{if(!(t&1)){l_(i,d,t),Bw();break e}c=Error(je(426))}}else if(or&&l.mode&1){var g=c_(o);if(g!==null){!(g.flags&65536)&&(g.flags|=256),d_(g,o,l,i,t),jw(Xc(c,l));break e}}i=c=Xc(c,l),Wr!==4&&(Wr=2),zu===null?zu=[i]:zu.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var y=Ak(i,c,t);r_(i,y);break e;case 1:l=c;var x=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof x.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Yi===null||!Yi.has(b)))){i.flags|=65536,t&=-t,i.lanes|=t;var _=Ok(i,l,t);r_(i,_);break e}}i=i.return}while(i!==null)}Jk(r)}catch(N){t=N,Ar===r&&r!==null&&(Ar=r=r.return);continue}break}while(!0)}function Xk(){var e=ep.current;return ep.current=Jm,e===null?Jm:e}function Bw(){(Wr===0||Wr===3||Wr===2)&&(Wr=4),Jr===null||!(cl&268435455)&&!(Qp&268435455)||ki(Jr,rn)}function np(e,t){var r=Mt;Mt|=2;var n=Xk();(Jr!==e||rn!==t)&&(La=null,nl(e,t));do try{TI();break}catch(a){Qk(e,a)}while(!0);if(Nw(),Mt=r,ep.current=n,Ar!==null)throw Error(je(261));return Jr=null,rn=0,Wr}function TI(){for(;Ar!==null;)Zk(Ar)}function RI(){for(;Ar!==null&&!rD();)Zk(Ar)}function Zk(e){var t=t2(e.alternate,e,Hn);e.memoizedProps=e.pendingProps,t===null?Jk(e):Ar=t,Fw.current=null}function Jk(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=NI(r,t),r!==null){r.flags&=32767,Ar=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Wr=6,Ar=null;return}}else if(r=_I(r,t,Hn),r!==null){Ar=r;return}if(t=t.sibling,t!==null){Ar=t;return}Ar=t=e}while(t!==null);Wr===0&&(Wr=5)}function zo(e,t,r){var n=Wt,a=gs.transition;try{gs.transition=null,Wt=1,MI(e,t,r,n)}finally{gs.transition=a,Wt=n}return null}function MI(e,t,r,n){do kc();while(zi!==null);if(Mt&6)throw Error(je(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(je(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(fD(e,i),e===Jr&&(Ar=Jr=null,rn=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||qh||(qh=!0,r2(Lm,function(){return kc(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=gs.transition,gs.transition=null;var o=Wt;Wt=1;var l=Mt;Mt|=4,Fw.current=null,CI(e,r),Kk(r,e),ZD(by),zm=!!wy,by=wy=null,e.current=r,kI(r),nD(),Mt=l,Wt=o,gs.transition=i}else e.current=r;if(qh&&(qh=!1,zi=e,rp=a),i=e.pendingLanes,i===0&&(Yi=null),iD(r.stateNode),$n(e,Sr()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(tp)throw tp=!1,e=Uy,Uy=null,e;return rp&1&&e.tag!==0&&kc(),i=e.pendingLanes,i&1?e===By?Uu++:(Uu=0,By=e):Uu=0,_o(),null}function kc(){if(zi!==null){var e=AC(rp),t=gs.transition,r=Wt;try{if(gs.transition=null,Wt=16>e?16:e,zi===null)var n=!1;else{if(e=zi,zi=null,rp=0,Mt&6)throw Error(je(331));var a=Mt;for(Mt|=4,$e=e.current;$e!==null;){var i=$e,o=i.child;if($e.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for($e=d;$e!==null;){var u=$e;switch(u.tag){case 0:case 11:case 15:$u(8,u,i)}var h=u.child;if(h!==null)h.return=u,$e=h;else for(;$e!==null;){u=$e;var m=u.sibling,p=u.return;if(Vk(u),u===d){$e=null;break}if(m!==null){m.return=p,$e=m;break}$e=p}}}var w=i.alternate;if(w!==null){var v=w.child;if(v!==null){w.child=null;do{var g=v.sibling;v.sibling=null,v=g}while(v!==null)}}$e=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,$e=o;else e:for(;$e!==null;){if(i=$e,i.flags&2048)switch(i.tag){case 0:case 11:case 15:$u(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,$e=y;break e}$e=i.return}}var x=e.current;for($e=x;$e!==null;){o=$e;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,$e=b;else e:for(o=x;$e!==null;){if(l=$e,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Yp(9,l)}}catch(N){br(l,l.return,N)}if(l===o){$e=null;break e}var _=l.sibling;if(_!==null){_.return=l.return,$e=_;break e}$e=l.return}}if(Mt=a,_o(),ga&&typeof ga.onPostCommitFiberRoot=="function")try{ga.onPostCommitFiberRoot(Up,e)}catch{}n=!0}return n}finally{Wt=r,gs.transition=t}}return!1}function __(e,t,r){t=Xc(r,t),t=Ak(e,t,1),e=Gi(e,t,1),t=_n(),e!==null&&($f(e,1,t),$n(e,t))}function br(e,t,r){if(e.tag===3)__(e,e,r);else for(;t!==null;){if(t.tag===3){__(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Yi===null||!Yi.has(n))){e=Xc(r,e),e=Ok(t,e,1),t=Gi(t,e,1),e=_n(),t!==null&&($f(t,1,e),$n(t,e));break}}t=t.return}}function AI(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=_n(),e.pingedLanes|=e.suspendedLanes&r,Jr===e&&(rn&r)===r&&(Wr===4||Wr===3&&(rn&130023424)===rn&&500>Sr()-$w?nl(e,0):Lw|=r),$n(e,t)}function e2(e,t){t===0&&(e.mode&1?(t=Ah,Ah<<=1,!(Ah&130023424)&&(Ah=4194304)):t=1);var r=_n();e=ti(e,t),e!==null&&($f(e,t,r),$n(e,r))}function OI(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),e2(e,r)}function DI(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(je(314))}n!==null&&n.delete(t),e2(e,r)}var t2;t2=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Fn.current)Dn=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Dn=!1,jI(e,t,r);Dn=!!(e.flags&131072)}else Dn=!1,or&&t.flags&1048576&&ak(t,Km,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;xm(e,t),e=t.pendingProps;var a=Kc(t,fn.current);Cc(t,r),a=Mw(null,t,n,e,a,r);var i=Aw();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ln(n)?(i=!0,Wm(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,kw(t),a.updater=Gp,t.stateNode=a,a._reactInternals=t,Ty(t,n,e,r),t=Ay(null,t,n,!0,i,r)):(t.tag=0,or&&i&&ww(t),gn(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(xm(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=FI(n),e=As(n,e),a){case 0:t=My(null,t,n,e,r);break e;case 1:t=h_(null,t,n,e,r);break e;case 11:t=u_(null,t,n,e,r);break e;case 14:t=f_(null,t,n,As(n.type,e),r);break e}throw Error(je(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:As(n,a),My(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:As(n,a),h_(e,t,n,a,r);case 3:e:{if(Lk(t),e===null)throw Error(je(387));n=t.pendingProps,i=t.memoizedState,a=i.element,uk(e,t),Qm(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=Xc(Error(je(423)),t),t=m_(e,t,n,r,a);break e}else if(n!==a){a=Xc(Error(je(424)),t),t=m_(e,t,n,r,a);break e}else for(Qn=Ki(t.stateNode.containerInfo.firstChild),Zn=t,or=!0,Ls=null,r=ck(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Gc(),n===a){t=ri(e,t,r);break e}gn(e,t,n,r)}t=t.child}return t;case 5:return fk(t),e===null&&ky(t),n=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,o=a.children,jy(n,a)?o=null:i!==null&&jy(n,i)&&(t.flags|=32),Fk(e,t),gn(e,t,o,r),t.child;case 6:return e===null&&ky(t),null;case 13:return $k(e,t,r);case 4:return Ew(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Yc(t,null,n,r):gn(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:As(n,a),u_(e,t,n,a,r);case 7:return gn(e,t,t.pendingProps,r),t.child;case 8:return gn(e,t,t.pendingProps.children,r),t.child;case 12:return gn(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,Yt(Gm,n._currentValue),n._currentValue=o,i!==null)if(Ws(i.value,o)){if(i.children===a.children&&!Fn.current){t=ri(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=Ya(-1,r&-r),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),Ey(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(je(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),Ey(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}gn(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,Cc(t,r),a=ws(a),n=n(a),t.flags|=1,gn(e,t,n,r),t.child;case 14:return n=t.type,a=As(n,t.pendingProps),a=As(n.type,a),f_(e,t,n,a,r);case 15:return Dk(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:As(n,a),xm(e,t),t.tag=1,Ln(n)?(e=!0,Wm(t)):e=!1,Cc(t,r),Mk(t,n,a),Ty(t,n,a,r),Ay(null,t,n,!0,e,r);case 19:return zk(e,t,r);case 22:return Ik(e,t,r)}throw Error(je(156,t.tag))};function r2(e,t){return PC(e,t)}function II(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ps(e,t,r,n){return new II(e,t,r,n)}function qw(e){return e=e.prototype,!(!e||!e.isReactComponent)}function FI(e){if(typeof e=="function")return qw(e)?1:0;if(e!=null){if(e=e.$$typeof,e===lw)return 11;if(e===cw)return 14}return 2}function Xi(e,t){var r=e.alternate;return r===null?(r=ps(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function bm(e,t,r,n,a,i){var o=2;if(n=e,typeof e=="function")qw(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case cc:return sl(r.children,a,i,t);case ow:o=8,a|=8;break;case ey:return e=ps(12,r,t,a|2),e.elementType=ey,e.lanes=i,e;case ty:return e=ps(13,r,t,a),e.elementType=ty,e.lanes=i,e;case ry:return e=ps(19,r,t,a),e.elementType=ry,e.lanes=i,e;case fC:return Xp(r,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case dC:o=10;break e;case uC:o=9;break e;case lw:o=11;break e;case cw:o=14;break e;case _i:o=16,n=null;break e}throw Error(je(130,e==null?e:typeof e,""))}return t=ps(o,r,t,a),t.elementType=e,t.type=n,t.lanes=i,t}function sl(e,t,r,n){return e=ps(7,e,n,t),e.lanes=r,e}function Xp(e,t,r,n){return e=ps(22,e,n,t),e.elementType=fC,e.lanes=r,e.stateNode={isHidden:!1},e}function sx(e,t,r){return e=ps(6,e,null,t),e.lanes=r,e}function ax(e,t,r){return t=ps(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function LI(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$v(0),this.expirationTimes=$v(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$v(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Vw(e,t,r,n,a,i,o,l,c){return e=new LI(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=ps(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},kw(i),e}function $I(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:lc,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function n2(e){if(!e)return io;e=e._reactInternals;e:{if(Cl(e)!==e||e.tag!==1)throw Error(je(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ln(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(je(171))}if(e.tag===1){var r=e.type;if(Ln(r))return nk(e,r,t)}return t}function s2(e,t,r,n,a,i,o,l,c){return e=Vw(r,n,!0,e,a,i,o,l,c),e.context=n2(null),r=e.current,n=_n(),a=Qi(r),i=Ya(n,a),i.callback=t??null,Gi(r,i,a),e.current.lanes=a,$f(e,a,n),$n(e,n),e}function Zp(e,t,r,n){var a=t.current,i=_n(),o=Qi(a);return r=n2(r),t.context===null?t.context=r:t.pendingContext=r,t=Ya(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Gi(a,t,o),e!==null&&(Vs(e,a,o,i),pm(e,a,o)),o}function sp(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function N_(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Ww(e,t){N_(e,t),(e=e.alternate)&&N_(e,t)}function zI(){return null}var a2=typeof reportError=="function"?reportError:function(e){console.error(e)};function Hw(e){this._internalRoot=e}Jp.prototype.render=Hw.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(je(409));Zp(e,t,null,null)};Jp.prototype.unmount=Hw.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;dl(function(){Zp(null,e,null,null)}),t[ei]=null}};function Jp(e){this._internalRoot=e}Jp.prototype.unstable_scheduleHydration=function(e){if(e){var t=IC();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Ci.length&&t!==0&&t<Ci[r].priority;r++);Ci.splice(r,0,e),r===0&&LC(e)}};function Kw(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function eg(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function S_(){}function UI(e,t,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var d=sp(o);i.call(d)}}var o=s2(t,n,e,0,null,!1,!1,"",S_);return e._reactRootContainer=o,e[ei]=o.current,sf(e.nodeType===8?e.parentNode:e),dl(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var d=sp(c);l.call(d)}}var c=Vw(e,0,!1,null,null,!1,!1,"",S_);return e._reactRootContainer=c,e[ei]=c.current,sf(e.nodeType===8?e.parentNode:e),dl(function(){Zp(t,c,r,n)}),c}function tg(e,t,r,n,a){var i=r._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var l=a;a=function(){var c=sp(o);l.call(c)}}Zp(t,o,e,a)}else o=UI(r,t,e,a,n);return sp(o)}OC=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=wu(t.pendingLanes);r!==0&&(fw(t,r|1),$n(t,Sr()),!(Mt&6)&&(Zc=Sr()+500,_o()))}break;case 13:dl(function(){var n=ti(e,1);if(n!==null){var a=_n();Vs(n,e,1,a)}}),Ww(e,1)}};hw=function(e){if(e.tag===13){var t=ti(e,134217728);if(t!==null){var r=_n();Vs(t,e,134217728,r)}Ww(e,134217728)}};DC=function(e){if(e.tag===13){var t=Qi(e),r=ti(e,t);if(r!==null){var n=_n();Vs(r,e,t,n)}Ww(e,t)}};IC=function(){return Wt};FC=function(e,t){var r=Wt;try{return Wt=e,t()}finally{Wt=r}};fy=function(e,t,r){switch(t){case"input":if(ay(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=Wp(n);if(!a)throw Error(je(90));mC(n),ay(n,a)}}}break;case"textarea":gC(e,r);break;case"select":t=r.value,t!=null&&jc(e,!!r.multiple,t,!1)}};_C=zw;NC=dl;var BI={usingClientEntryPoint:!1,Events:[Uf,hc,Wp,bC,jC,zw]},uu={findFiberByHostInstance:Vo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},qI={bundleType:uu.bundleType,version:uu.version,rendererPackageName:uu.rendererPackageName,rendererConfig:uu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ci.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=kC(e),e===null?null:e.stateNode},findFiberByHostInstance:uu.findFiberByHostInstance||zI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vh.isDisabled&&Vh.supportsFiber)try{Up=Vh.inject(qI),ga=Vh}catch{}}ns.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=BI;ns.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Kw(t))throw Error(je(200));return $I(e,t,null,r)};ns.createRoot=function(e,t){if(!Kw(e))throw Error(je(299));var r=!1,n="",a=a2;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=Vw(e,1,!1,null,null,r,!1,n,a),e[ei]=t.current,sf(e.nodeType===8?e.parentNode:e),new Hw(t)};ns.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(je(188)):(e=Object.keys(e).join(","),Error(je(268,e)));return e=kC(t),e=e===null?null:e.stateNode,e};ns.flushSync=function(e){return dl(e)};ns.hydrate=function(e,t,r){if(!eg(t))throw Error(je(200));return tg(null,e,t,!0,r)};ns.hydrateRoot=function(e,t,r){if(!Kw(e))throw Error(je(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",o=a2;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=s2(t,null,e,1,r??null,a,!1,i,o),e[ei]=t.current,sf(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new Jp(t)};ns.render=function(e,t,r){if(!eg(t))throw Error(je(200));return tg(null,e,t,!1,r)};ns.unmountComponentAtNode=function(e){if(!eg(e))throw Error(je(40));return e._reactRootContainer?(dl(function(){tg(null,null,e,!1,function(){e._reactRootContainer=null,e[ei]=null})}),!0):!1};ns.unstable_batchedUpdates=zw;ns.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!eg(r))throw Error(je(200));if(e==null||e._reactInternals===void 0)throw Error(je(38));return tg(e,t,r,!1,n)};ns.version="18.3.1-next-f1338f8080-20240426";function i2(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i2)}catch(e){console.error(e)}}i2(),iC.exports=ns;var kl=iC.exports;const o2=GS(kl);var l2,C_=kl;l2=C_.createRoot,C_.hydrateRoot;const VI=1,WI=1e6;let ix=0;function HI(){return ix=(ix+1)%Number.MAX_SAFE_INTEGER,ix.toString()}const ox=new Map,k_=e=>{if(ox.has(e))return;const t=setTimeout(()=>{ox.delete(e),Bu({type:"REMOVE_TOAST",toastId:e})},WI);ox.set(e,t)},KI=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,VI)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?k_(r):e.toasts.forEach(n=>{k_(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},jm=[];let _m={toasts:[]};function Bu(e){_m=KI(_m,e),jm.forEach(t=>{t(_m)})}function oe({...e}){const t=HI(),r=a=>Bu({type:"UPDATE_TOAST",toast:{...a,id:t}}),n=()=>Bu({type:"DISMISS_TOAST",toastId:t});return Bu({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||n()}}}),{id:t,dismiss:n,update:r}}function Qs(){const[e,t]=f.useState(_m);return f.useEffect(()=>(jm.push(t),()=>{const r=jm.indexOf(t);r>-1&&jm.splice(r,1)}),[e]),{...e,toast:oe,dismiss:r=>Bu({type:"DISMISS_TOAST",toastId:r})}}function Se(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function E_(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function ni(...e){return t=>{let r=!1;const n=e.map(a=>{const i=E_(a,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<n.length;a++){const i=n[a];typeof i=="function"?i():E_(e[a],null)}}}}function ct(...e){return f.useCallback(ni(...e),e)}function GI(e,t){const r=f.createContext(t),n=i=>{const{children:o,...l}=i,c=f.useMemo(()=>l,Object.values(l));return s.jsx(r.Provider,{value:c,children:o})};n.displayName=e+"Provider";function a(i){const o=f.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,a]}function Cn(e,t=[]){let r=[];function n(i,o){const l=f.createContext(o),c=r.length;r=[...r,o];const d=h=>{var y;const{scope:m,children:p,...w}=h,v=((y=m==null?void 0:m[e])==null?void 0:y[c])||l,g=f.useMemo(()=>w,Object.values(w));return s.jsx(v.Provider,{value:g,children:p})};d.displayName=i+"Provider";function u(h,m){var v;const p=((v=m==null?void 0:m[e])==null?void 0:v[c])||l,w=f.useContext(p);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[d,u]}const a=()=>{const i=r.map(o=>f.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return f.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,YI(a,...t)]}function YI(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:d})=>{const h=c(i)[`__scope${d}`];return{...l,...h}},{});return f.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function oo(e){const t=QI(e),r=f.forwardRef((n,a)=>{const{children:i,...o}=n,l=f.Children.toArray(i),c=l.find(XI);if(c){const d=c.props.children,u=l.map(h=>h===c?f.Children.count(d)>1?f.Children.only(null):f.isValidElement(d)?d.props.children:null:h);return s.jsx(t,{...o,ref:a,children:f.isValidElement(d)?f.cloneElement(d,void 0,u):null})}return s.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}var El=oo("Slot");function QI(e){const t=f.forwardRef((r,n)=>{const{children:a,...i}=r;if(f.isValidElement(a)){const o=JI(a),l=ZI(i,a.props);return a.type!==f.Fragment&&(l.ref=n?ni(n,o):o),f.cloneElement(a,l)}return f.Children.count(a)>1?f.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var c2=Symbol("radix.slottable");function d2(e){const t=({children:r})=>s.jsx(s.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=c2,t}function XI(e){return f.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===c2}function ZI(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function JI(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function rg(e){const t=e+"CollectionProvider",[r,n]=Cn(t),[a,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=v=>{const{scope:g,children:y}=v,x=he.useRef(null),b=he.useRef(new Map).current;return s.jsx(a,{scope:g,itemMap:b,collectionRef:x,children:y})};o.displayName=t;const l=e+"CollectionSlot",c=oo(l),d=he.forwardRef((v,g)=>{const{scope:y,children:x}=v,b=i(l,y),_=ct(g,b.collectionRef);return s.jsx(c,{ref:_,children:x})});d.displayName=l;const u=e+"CollectionItemSlot",h="data-radix-collection-item",m=oo(u),p=he.forwardRef((v,g)=>{const{scope:y,children:x,...b}=v,_=he.useRef(null),N=ct(g,_),k=i(u,y);return he.useEffect(()=>(k.itemMap.set(_,{ref:_,...b}),()=>void k.itemMap.delete(_))),s.jsx(m,{[h]:"",ref:N,children:x})});p.displayName=u;function w(v){const g=i(e+"CollectionConsumer",v);return he.useCallback(()=>{const x=g.collectionRef.current;if(!x)return[];const b=Array.from(x.querySelectorAll(`[${h}]`));return Array.from(g.itemMap.values()).sort((k,S)=>b.indexOf(k.ref.current)-b.indexOf(S.ref.current))},[g.collectionRef,g.itemMap])}return[{Provider:o,Slot:d,ItemSlot:p},w,n]}var e3=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Le=e3.reduce((e,t)=>{const r=oo(`Primitive.${t}`),n=f.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function Gw(e,t){e&&kl.flushSync(()=>e.dispatchEvent(t))}function jr(e){const t=f.useRef(e);return f.useEffect(()=>{t.current=e}),f.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function t3(e,t=globalThis==null?void 0:globalThis.document){const r=jr(e);f.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var r3="DismissableLayer",Wy="dismissableLayer.update",n3="dismissableLayer.pointerDownOutside",s3="dismissableLayer.focusOutside",P_,u2=f.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Pl=f.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,d=f.useContext(u2),[u,h]=f.useState(null),m=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=f.useState({}),w=ct(t,S=>h(S)),v=Array.from(d.layers),[g]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),y=v.indexOf(g),x=u?v.indexOf(u):-1,b=d.layersWithOutsidePointerEventsDisabled.size>0,_=x>=y,N=i3(S=>{const R=S.target,U=[...d.branches].some(B=>B.contains(R));!_||U||(a==null||a(S),o==null||o(S),S.defaultPrevented||l==null||l())},m),k=o3(S=>{const R=S.target;[...d.branches].some(B=>B.contains(R))||(i==null||i(S),o==null||o(S),S.defaultPrevented||l==null||l())},m);return t3(S=>{x===d.layers.size-1&&(n==null||n(S),!S.defaultPrevented&&l&&(S.preventDefault(),l()))},m),f.useEffect(()=>{if(u)return r&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(P_=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(u)),d.layers.add(u),T_(),()=>{r&&d.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=P_)}},[u,m,r,d]),f.useEffect(()=>()=>{u&&(d.layers.delete(u),d.layersWithOutsidePointerEventsDisabled.delete(u),T_())},[u,d]),f.useEffect(()=>{const S=()=>p({});return document.addEventListener(Wy,S),()=>document.removeEventListener(Wy,S)},[]),s.jsx(Le.div,{...c,ref:w,style:{pointerEvents:b?_?"auto":"none":void 0,...e.style},onFocusCapture:Se(e.onFocusCapture,k.onFocusCapture),onBlurCapture:Se(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:Se(e.onPointerDownCapture,N.onPointerDownCapture)})});Pl.displayName=r3;var a3="DismissableLayerBranch",f2=f.forwardRef((e,t)=>{const r=f.useContext(u2),n=f.useRef(null),a=ct(t,n);return f.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),s.jsx(Le.div,{...e,ref:a})});f2.displayName=a3;function i3(e,t=globalThis==null?void 0:globalThis.document){const r=jr(e),n=f.useRef(!1),a=f.useRef(()=>{});return f.useEffect(()=>{const i=l=>{if(l.target&&!n.current){let c=function(){h2(n3,r,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function o3(e,t=globalThis==null?void 0:globalThis.document){const r=jr(e),n=f.useRef(!1);return f.useEffect(()=>{const a=i=>{i.target&&!n.current&&h2(s3,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function T_(){const e=new CustomEvent(Wy);document.dispatchEvent(e)}function h2(e,t,r,{discrete:n}){const a=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?Gw(a,i):a.dispatchEvent(i)}var l3=Pl,c3=f2,kr=globalThis!=null&&globalThis.document?f.useLayoutEffect:()=>{},d3="Portal",_d=f.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[a,i]=f.useState(!1);kr(()=>i(!0),[]);const o=r||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?o2.createPortal(s.jsx(Le.div,{...n,ref:t}),o):null});_d.displayName=d3;function u3(e,t){return f.useReducer((r,n)=>t[r][n]??r,e)}var sn=e=>{const{present:t,children:r}=e,n=f3(t),a=typeof r=="function"?r({present:n.isPresent}):f.Children.only(r),i=ct(n.ref,h3(a));return typeof r=="function"||n.isPresent?f.cloneElement(a,{ref:i}):null};sn.displayName="Presence";function f3(e){const[t,r]=f.useState(),n=f.useRef(null),a=f.useRef(e),i=f.useRef("none"),o=e?"mounted":"unmounted",[l,c]=u3(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return f.useEffect(()=>{const d=Wh(n.current);i.current=l==="mounted"?d:"none"},[l]),kr(()=>{const d=n.current,u=a.current;if(u!==e){const m=i.current,p=Wh(d);e?c("MOUNT"):p==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(u&&m!==p?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),kr(()=>{if(t){let d;const u=t.ownerDocument.defaultView??window,h=p=>{const v=Wh(n.current).includes(p.animationName);if(p.target===t&&v&&(c("ANIMATION_END"),!a.current)){const g=t.style.animationFillMode;t.style.animationFillMode="forwards",d=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=g)})}},m=p=>{p.target===t&&(i.current=Wh(n.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{u.clearTimeout(d),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:f.useCallback(d=>{n.current=d?getComputedStyle(d):null,r(d)},[])}}function Wh(e){return(e==null?void 0:e.animationName)||"none"}function h3(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var m3=nw[" useInsertionEffect ".trim().toString()]||kr;function ba({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[a,i,o]=p3({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:a;{const u=f.useRef(e!==void 0);f.useEffect(()=>{const h=u.current;h!==l&&console.warn(`${n} is changing from ${h?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=l},[l,n])}const d=f.useCallback(u=>{var h;if(l){const m=g3(u)?u(e):u;m!==e&&((h=o.current)==null||h.call(o,m))}else i(u)},[l,e,i,o]);return[c,d]}function p3({defaultProp:e,onChange:t}){const[r,n]=f.useState(e),a=f.useRef(r),i=f.useRef(t);return m3(()=>{i.current=t},[t]),f.useEffect(()=>{var o;a.current!==r&&((o=i.current)==null||o.call(i,r),a.current=r)},[r,a]),[r,n,i]}function g3(e){return typeof e=="function"}var m2=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),v3="VisuallyHidden",ng=f.forwardRef((e,t)=>s.jsx(Le.span,{...e,ref:t,style:{...m2,...e.style}}));ng.displayName=v3;var x3=ng,Yw="ToastProvider",[Qw,y3,w3]=rg("Toast"),[p2,rQ]=Cn("Toast",[w3]),[b3,sg]=p2(Yw),g2=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:a="right",swipeThreshold:i=50,children:o}=e,[l,c]=f.useState(null),[d,u]=f.useState(0),h=f.useRef(!1),m=f.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${Yw}\`. Expected non-empty \`string\`.`),s.jsx(Qw.Provider,{scope:t,children:s.jsx(b3,{scope:t,label:r,duration:n,swipeDirection:a,swipeThreshold:i,toastCount:d,viewport:l,onViewportChange:c,onToastAdd:f.useCallback(()=>u(p=>p+1),[]),onToastRemove:f.useCallback(()=>u(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:m,children:o})})};g2.displayName=Yw;var v2="ToastViewport",j3=["F8"],Hy="toast.viewportPause",Ky="toast.viewportResume",x2=f.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=j3,label:a="Notifications ({hotkey})",...i}=e,o=sg(v2,r),l=y3(r),c=f.useRef(null),d=f.useRef(null),u=f.useRef(null),h=f.useRef(null),m=ct(t,h,o.onViewportChange),p=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),w=o.toastCount>0;f.useEffect(()=>{const g=y=>{var b;n.length!==0&&n.every(_=>y[_]||y.code===_)&&((b=h.current)==null||b.focus())};return document.addEventListener("keydown",g),()=>document.removeEventListener("keydown",g)},[n]),f.useEffect(()=>{const g=c.current,y=h.current;if(w&&g&&y){const x=()=>{if(!o.isClosePausedRef.current){const k=new CustomEvent(Hy);y.dispatchEvent(k),o.isClosePausedRef.current=!0}},b=()=>{if(o.isClosePausedRef.current){const k=new CustomEvent(Ky);y.dispatchEvent(k),o.isClosePausedRef.current=!1}},_=k=>{!g.contains(k.relatedTarget)&&b()},N=()=>{g.contains(document.activeElement)||b()};return g.addEventListener("focusin",x),g.addEventListener("focusout",_),g.addEventListener("pointermove",x),g.addEventListener("pointerleave",N),window.addEventListener("blur",x),window.addEventListener("focus",b),()=>{g.removeEventListener("focusin",x),g.removeEventListener("focusout",_),g.removeEventListener("pointermove",x),g.removeEventListener("pointerleave",N),window.removeEventListener("blur",x),window.removeEventListener("focus",b)}}},[w,o.isClosePausedRef]);const v=f.useCallback(({tabbingDirection:g})=>{const x=l().map(b=>{const _=b.ref.current,N=[_,...D3(_)];return g==="forwards"?N:N.reverse()});return(g==="forwards"?x.reverse():x).flat()},[l]);return f.useEffect(()=>{const g=h.current;if(g){const y=x=>{var N,k,S;const b=x.altKey||x.ctrlKey||x.metaKey;if(x.key==="Tab"&&!b){const R=document.activeElement,U=x.shiftKey;if(x.target===g&&U){(N=d.current)==null||N.focus();return}const G=v({tabbingDirection:U?"backwards":"forwards"}),H=G.findIndex(V=>V===R);lx(G.slice(H+1))?x.preventDefault():U?(k=d.current)==null||k.focus():(S=u.current)==null||S.focus()}};return g.addEventListener("keydown",y),()=>g.removeEventListener("keydown",y)}},[l,v]),s.jsxs(c3,{ref:c,role:"region","aria-label":a.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:w?void 0:"none"},children:[w&&s.jsx(Gy,{ref:d,onFocusFromOutsideViewport:()=>{const g=v({tabbingDirection:"forwards"});lx(g)}}),s.jsx(Qw.Slot,{scope:r,children:s.jsx(Le.ol,{tabIndex:-1,...i,ref:m})}),w&&s.jsx(Gy,{ref:u,onFocusFromOutsideViewport:()=>{const g=v({tabbingDirection:"backwards"});lx(g)}})]})});x2.displayName=v2;var y2="ToastFocusProxy",Gy=f.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...a}=e,i=sg(y2,r);return s.jsx(ng,{"aria-hidden":!0,tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:o=>{var d;const l=o.relatedTarget;!((d=i.viewport)!=null&&d.contains(l))&&n()}})});Gy.displayName=y2;var qf="Toast",_3="toast.swipeStart",N3="toast.swipeMove",S3="toast.swipeCancel",C3="toast.swipeEnd",w2=f.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:a,onOpenChange:i,...o}=e,[l,c]=ba({prop:n,defaultProp:a??!0,onChange:i,caller:qf});return s.jsx(sn,{present:r||l,children:s.jsx(P3,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:jr(e.onPause),onResume:jr(e.onResume),onSwipeStart:Se(e.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Se(e.onSwipeMove,d=>{const{x:u,y:h}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:Se(e.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Se(e.onSwipeEnd,d=>{const{x:u,y:h}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),c(!1)})})})});w2.displayName=qf;var[k3,E3]=p2(qf,{onClose(){}}),P3=f.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:a,open:i,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:d,onSwipeStart:u,onSwipeMove:h,onSwipeCancel:m,onSwipeEnd:p,...w}=e,v=sg(qf,r),[g,y]=f.useState(null),x=ct(t,V=>y(V)),b=f.useRef(null),_=f.useRef(null),N=a||v.duration,k=f.useRef(0),S=f.useRef(N),R=f.useRef(0),{onToastAdd:U,onToastRemove:B}=v,re=jr(()=>{var se;(g==null?void 0:g.contains(document.activeElement))&&((se=v.viewport)==null||se.focus()),o()}),G=f.useCallback(V=>{!V||V===1/0||(window.clearTimeout(R.current),k.current=new Date().getTime(),R.current=window.setTimeout(re,V))},[re]);f.useEffect(()=>{const V=v.viewport;if(V){const se=()=>{G(S.current),d==null||d()},te=()=>{const J=new Date().getTime()-k.current;S.current=S.current-J,window.clearTimeout(R.current),c==null||c()};return V.addEventListener(Hy,te),V.addEventListener(Ky,se),()=>{V.removeEventListener(Hy,te),V.removeEventListener(Ky,se)}}},[v.viewport,N,c,d,G]),f.useEffect(()=>{i&&!v.isClosePausedRef.current&&G(N)},[i,N,v.isClosePausedRef,G]),f.useEffect(()=>(U(),()=>B()),[U,B]);const H=f.useMemo(()=>g?k2(g):null,[g]);return v.viewport?s.jsxs(s.Fragment,{children:[H&&s.jsx(T3,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:H}),s.jsx(k3,{scope:r,onClose:re,children:kl.createPortal(s.jsx(Qw.ItemSlot,{scope:r,children:s.jsx(l3,{asChild:!0,onEscapeKeyDown:Se(l,()=>{v.isFocusedToastEscapeKeyDownRef.current||re(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:s.jsx(Le.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":v.swipeDirection,...w,ref:x,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Se(e.onKeyDown,V=>{V.key==="Escape"&&(l==null||l(V.nativeEvent),V.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,re()))}),onPointerDown:Se(e.onPointerDown,V=>{V.button===0&&(b.current={x:V.clientX,y:V.clientY})}),onPointerMove:Se(e.onPointerMove,V=>{if(!b.current)return;const se=V.clientX-b.current.x,te=V.clientY-b.current.y,J=!!_.current,I=["left","right"].includes(v.swipeDirection),D=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,C=I?D(0,se):0,T=I?0:D(0,te),A=V.pointerType==="touch"?10:2,Y={x:C,y:T},E={originalEvent:V,delta:Y};J?(_.current=Y,Hh(N3,h,E,{discrete:!1})):R_(Y,v.swipeDirection,A)?(_.current=Y,Hh(_3,u,E,{discrete:!1}),V.target.setPointerCapture(V.pointerId)):(Math.abs(se)>A||Math.abs(te)>A)&&(b.current=null)}),onPointerUp:Se(e.onPointerUp,V=>{const se=_.current,te=V.target;if(te.hasPointerCapture(V.pointerId)&&te.releasePointerCapture(V.pointerId),_.current=null,b.current=null,se){const J=V.currentTarget,I={originalEvent:V,delta:se};R_(se,v.swipeDirection,v.swipeThreshold)?Hh(C3,p,I,{discrete:!0}):Hh(S3,m,I,{discrete:!0}),J.addEventListener("click",D=>D.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),T3=e=>{const{__scopeToast:t,children:r,...n}=e,a=sg(qf,t),[i,o]=f.useState(!1),[l,c]=f.useState(!1);return A3(()=>o(!0)),f.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:s.jsx(_d,{asChild:!0,children:s.jsx(ng,{...n,children:i&&s.jsxs(s.Fragment,{children:[a.label," ",r]})})})},R3="ToastTitle",b2=f.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return s.jsx(Le.div,{...n,ref:t})});b2.displayName=R3;var M3="ToastDescription",j2=f.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return s.jsx(Le.div,{...n,ref:t})});j2.displayName=M3;var _2="ToastAction",N2=f.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?s.jsx(C2,{altText:r,asChild:!0,children:s.jsx(Xw,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${_2}\`. Expected non-empty \`string\`.`),null)});N2.displayName=_2;var S2="ToastClose",Xw=f.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,a=E3(S2,r);return s.jsx(C2,{asChild:!0,children:s.jsx(Le.button,{type:"button",...n,ref:t,onClick:Se(e.onClick,a.onClose)})})});Xw.displayName=S2;var C2=f.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...a}=e;return s.jsx(Le.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...a,ref:t})});function k2(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),O3(n)){const a=n.ariaHidden||n.hidden||n.style.display==="none",i=n.dataset.radixToastAnnounceExclude==="";if(!a)if(i){const o=n.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...k2(n))}}),t}function Hh(e,t,r,{discrete:n}){const a=r.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?Gw(a,i):a.dispatchEvent(i)}var R_=(e,t,r=0)=>{const n=Math.abs(e.x),a=Math.abs(e.y),i=n>a;return t==="left"||t==="right"?i&&n>r:!i&&a>r};function A3(e=()=>{}){const t=jr(e);kr(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function O3(e){return e.nodeType===e.ELEMENT_NODE}function D3(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function lx(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var I3=g2,E2=x2,P2=w2,T2=b2,R2=j2,M2=N2,A2=Xw;function O2(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=O2(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function D2(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=O2(e))&&(n&&(n+=" "),n+=t);return n}const M_=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,A_=D2,Tl=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return A_(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:i}=t,o=Object.keys(a).map(d=>{const u=r==null?void 0:r[d],h=i==null?void 0:i[d];if(u===null)return null;const m=M_(u)||M_(h);return a[d][m]}),l=r&&Object.entries(r).reduce((d,u)=>{let[h,m]=u;return m===void 0||(d[h]=m),d},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((d,u)=>{let{class:h,className:m,...p}=u;return Object.entries(p).every(w=>{let[v,g]=w;return Array.isArray(g)?g.includes({...i,...l}[v]):{...i,...l}[v]===g})?[...d,h,m]:d},[]);return A_(e,o,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F3=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),I2=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var L3={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $3=f.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:o,...l},c)=>f.createElement("svg",{ref:c,...L3,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:I2("lucide",a),...l},[...o.map(([d,u])=>f.createElement(d,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fe=(e,t)=>{const r=f.forwardRef(({className:n,...a},i)=>f.createElement($3,{ref:i,iconNode:t,className:I2(`lucide-${F3(e)}`,n),...a}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ag=Fe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z3=Fe("BadgeCheck",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U3=Fe("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wn=Fe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B3=Fe("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cs=Fe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F2=Fe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L2=Fe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zw=Fe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $2=Fe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cx=Fe("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q3=Fe("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jw=Fe("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eb=Fe("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V3=Fe("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O_=Fe("Clock3",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16.5 12",key:"1aq6pp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z2=Fe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D_=Fe("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nm=Fe("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ap=Fe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zi=Fe("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W3=Fe("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xn=Fe("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ur=Fe("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H3=Fe("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wc=Fe("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sm=Fe("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dx=Fe("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ux=Fe("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K3=Fe("Handshake",[["path",{d:"m11 17 2 2a1 1 0 1 0 3-3",key:"efffak"}],["path",{d:"m14 14 2.5 2.5a1 1 0 1 0 3-3l-3.88-3.88a3 3 0 0 0-4.24 0l-.88.88a1 1 0 1 1-3-3l2.81-2.81a5.79 5.79 0 0 1 7.06-.87l.47.28a2 2 0 0 0 1.42.25L21 4",key:"9pr0kb"}],["path",{d:"m21 3 1 11h-2",key:"1tisrp"}],["path",{d:"M3 3 2 14l6.5 6.5a1 1 0 1 0 3-3",key:"1uvwmv"}],["path",{d:"M3 4h8",key:"1ep09j"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cn=Fe("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U2=Fe("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bc=Fe("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G3=Fe("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y3=Fe("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q3=Fe("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I_=Fe("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F_=Fe("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kh=Fe("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ig=Fe("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B2=Fe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q2=Fe("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vf=Fe("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ql=Fe("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X3=Fe("MessageSquareText",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}],["path",{d:"M13 8H7",key:"14i4kc"}],["path",{d:"M17 12H7",key:"16if0g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const og=Fe("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nr=Fe("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z3=Fe("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ec=Fe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ju=Fe("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J3=Fe("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L_=Fe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $s=Fe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eF=Fe("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $_=Fe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cm=Fe("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qa=Fe("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lg=Fe("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gn=Fe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tF=Fe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _u=Fe("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fx=Fe("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hx=Fe("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tb=Fe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jc=Fe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mf=Fe("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mr=Fe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rF=Fe("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]),rb="-",nF=e=>{const t=aF(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const l=o.split(rb);return l[0]===""&&l.length!==1&&l.shift(),V2(l,t)||sF(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},V2=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),a=n?V2(e.slice(1),n):void 0;if(a)return a;if(t.validators.length===0)return;const i=e.join(rb);return(o=t.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},z_=/^\[(.+)\]$/,sF=e=>{if(z_.test(e)){const t=z_.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},aF=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return oF(Object.entries(e.classGroups),r).forEach(([i,o])=>{Yy(o,n,i,t)}),n},Yy=(e,t,r,n)=>{e.forEach(a=>{if(typeof a=="string"){const i=a===""?t:U_(t,a);i.classGroupId=r;return}if(typeof a=="function"){if(iF(a)){Yy(a(n),t,r,n);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([i,o])=>{Yy(o,U_(t,i),r,n)})})},U_=(e,t)=>{let r=e;return t.split(rb).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},iF=e=>e.isThemeGetter,oF=(e,t)=>t?e.map(([r,n])=>{const a=n.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[t+o,l])):i);return[r,a]}):e,lF=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const a=(i,o)=>{r.set(i,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return a(i,o),o},set(i,o){r.has(i)?r.set(i,o):a(i,o)}}},W2="!",cF=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,a=t[0],i=t.length,o=l=>{const c=[];let d=0,u=0,h;for(let g=0;g<l.length;g++){let y=l[g];if(d===0){if(y===a&&(n||l.slice(g,g+i)===t)){c.push(l.slice(u,g)),u=g+i;continue}if(y==="/"){h=g;continue}}y==="["?d++:y==="]"&&d--}const m=c.length===0?l:l.substring(u),p=m.startsWith(W2),w=p?m.substring(1):m,v=h&&h>u?h-u:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:w,maybePostfixModifierPosition:v}};return r?l=>r({className:l,parseClassName:o}):o},dF=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},uF=e=>({cache:lF(e.cacheSize),parseClassName:cF(e),...nF(e)}),fF=/\s+/,hF=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a}=t,i=[],o=e.trim().split(fF);let l="";for(let c=o.length-1;c>=0;c-=1){const d=o[c],{modifiers:u,hasImportantModifier:h,baseClassName:m,maybePostfixModifierPosition:p}=r(d);let w=!!p,v=n(w?m.substring(0,p):m);if(!v){if(!w){l=d+(l.length>0?" "+l:l);continue}if(v=n(m),!v){l=d+(l.length>0?" "+l:l);continue}w=!1}const g=dF(u).join(":"),y=h?g+W2:g,x=y+v;if(i.includes(x))continue;i.push(x);const b=a(v,w);for(let _=0;_<b.length;++_){const N=b[_];i.push(y+N)}l=d+(l.length>0?" "+l:l)}return l};function mF(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=H2(t))&&(n&&(n+=" "),n+=r);return n}const H2=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=H2(e[n]))&&(r&&(r+=" "),r+=t);return r};function pF(e,...t){let r,n,a,i=o;function o(c){const d=t.reduce((u,h)=>h(u),e());return r=uF(d),n=r.cache.get,a=r.cache.set,i=l,l(c)}function l(c){const d=n(c);if(d)return d;const u=hF(c,r);return a(c,u),u}return function(){return i(mF.apply(null,arguments))}}const tr=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},K2=/^\[(?:([a-z-]+):)?(.+)\]$/i,gF=/^\d+\/\d+$/,vF=new Set(["px","full","screen"]),xF=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,yF=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,wF=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,bF=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,jF=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Pa=e=>Pc(e)||vF.has(e)||gF.test(e),mi=e=>Nd(e,"length",TF),Pc=e=>!!e&&!Number.isNaN(Number(e)),mx=e=>Nd(e,"number",Pc),fu=e=>!!e&&Number.isInteger(Number(e)),_F=e=>e.endsWith("%")&&Pc(e.slice(0,-1)),ut=e=>K2.test(e),pi=e=>xF.test(e),NF=new Set(["length","size","percentage"]),SF=e=>Nd(e,NF,G2),CF=e=>Nd(e,"position",G2),kF=new Set(["image","url"]),EF=e=>Nd(e,kF,MF),PF=e=>Nd(e,"",RF),hu=()=>!0,Nd=(e,t,r)=>{const n=K2.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},TF=e=>yF.test(e)&&!wF.test(e),G2=()=>!1,RF=e=>bF.test(e),MF=e=>jF.test(e),AF=()=>{const e=tr("colors"),t=tr("spacing"),r=tr("blur"),n=tr("brightness"),a=tr("borderColor"),i=tr("borderRadius"),o=tr("borderSpacing"),l=tr("borderWidth"),c=tr("contrast"),d=tr("grayscale"),u=tr("hueRotate"),h=tr("invert"),m=tr("gap"),p=tr("gradientColorStops"),w=tr("gradientColorStopPositions"),v=tr("inset"),g=tr("margin"),y=tr("opacity"),x=tr("padding"),b=tr("saturate"),_=tr("scale"),N=tr("sepia"),k=tr("skew"),S=tr("space"),R=tr("translate"),U=()=>["auto","contain","none"],B=()=>["auto","hidden","clip","visible","scroll"],re=()=>["auto",ut,t],G=()=>[ut,t],H=()=>["",Pa,mi],V=()=>["auto",Pc,ut],se=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],te=()=>["solid","dashed","dotted","double","none"],J=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],I=()=>["start","end","center","between","around","evenly","stretch"],D=()=>["","0",ut],C=()=>["auto","avoid","all","avoid-page","page","left","right","column"],T=()=>[Pc,ut];return{cacheSize:500,separator:":",theme:{colors:[hu],spacing:[Pa,mi],blur:["none","",pi,ut],brightness:T(),borderColor:[e],borderRadius:["none","","full",pi,ut],borderSpacing:G(),borderWidth:H(),contrast:T(),grayscale:D(),hueRotate:T(),invert:D(),gap:G(),gradientColorStops:[e],gradientColorStopPositions:[_F,mi],inset:re(),margin:re(),opacity:T(),padding:G(),saturate:T(),scale:T(),sepia:D(),skew:T(),space:G(),translate:G()},classGroups:{aspect:[{aspect:["auto","square","video",ut]}],container:["container"],columns:[{columns:[pi]}],"break-after":[{"break-after":C()}],"break-before":[{"break-before":C()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...se(),ut]}],overflow:[{overflow:B()}],"overflow-x":[{"overflow-x":B()}],"overflow-y":[{"overflow-y":B()}],overscroll:[{overscroll:U()}],"overscroll-x":[{"overscroll-x":U()}],"overscroll-y":[{"overscroll-y":U()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",fu,ut]}],basis:[{basis:re()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ut]}],grow:[{grow:D()}],shrink:[{shrink:D()}],order:[{order:["first","last","none",fu,ut]}],"grid-cols":[{"grid-cols":[hu]}],"col-start-end":[{col:["auto",{span:["full",fu,ut]},ut]}],"col-start":[{"col-start":V()}],"col-end":[{"col-end":V()}],"grid-rows":[{"grid-rows":[hu]}],"row-start-end":[{row:["auto",{span:[fu,ut]},ut]}],"row-start":[{"row-start":V()}],"row-end":[{"row-end":V()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ut]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ut]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...I()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...I(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...I(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[g]}],mx:[{mx:[g]}],my:[{my:[g]}],ms:[{ms:[g]}],me:[{me:[g]}],mt:[{mt:[g]}],mr:[{mr:[g]}],mb:[{mb:[g]}],ml:[{ml:[g]}],"space-x":[{"space-x":[S]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[S]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ut,t]}],"min-w":[{"min-w":[ut,t,"min","max","fit"]}],"max-w":[{"max-w":[ut,t,"none","full","min","max","fit","prose",{screen:[pi]},pi]}],h:[{h:[ut,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ut,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ut,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ut,t,"auto","min","max","fit"]}],"font-size":[{text:["base",pi,mi]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",mx]}],"font-family":[{font:[hu]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ut]}],"line-clamp":[{"line-clamp":["none",Pc,mx]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Pa,ut]}],"list-image":[{"list-image":["none",ut]}],"list-style-type":[{list:["none","disc","decimal",ut]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...te(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Pa,mi]}],"underline-offset":[{"underline-offset":["auto",Pa,ut]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:G()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ut]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ut]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...se(),CF]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",SF]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},EF]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...te(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:te()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...te()]}],"outline-offset":[{"outline-offset":[Pa,ut]}],"outline-w":[{outline:[Pa,mi]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:H()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[Pa,mi]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",pi,PF]}],"shadow-color":[{shadow:[hu]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...J(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":J()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",pi,ut]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[h]}],saturate:[{saturate:[b]}],sepia:[{sepia:[N]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[N]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ut]}],duration:[{duration:T()}],ease:[{ease:["linear","in","out","in-out",ut]}],delay:[{delay:T()}],animate:[{animate:["none","spin","ping","pulse","bounce",ut]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[fu,ut]}],"translate-x":[{"translate-x":[R]}],"translate-y":[{"translate-y":[R]}],"skew-x":[{"skew-x":[k]}],"skew-y":[{"skew-y":[k]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ut]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ut]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":G()}],"scroll-mx":[{"scroll-mx":G()}],"scroll-my":[{"scroll-my":G()}],"scroll-ms":[{"scroll-ms":G()}],"scroll-me":[{"scroll-me":G()}],"scroll-mt":[{"scroll-mt":G()}],"scroll-mr":[{"scroll-mr":G()}],"scroll-mb":[{"scroll-mb":G()}],"scroll-ml":[{"scroll-ml":G()}],"scroll-p":[{"scroll-p":G()}],"scroll-px":[{"scroll-px":G()}],"scroll-py":[{"scroll-py":G()}],"scroll-ps":[{"scroll-ps":G()}],"scroll-pe":[{"scroll-pe":G()}],"scroll-pt":[{"scroll-pt":G()}],"scroll-pr":[{"scroll-pr":G()}],"scroll-pb":[{"scroll-pb":G()}],"scroll-pl":[{"scroll-pl":G()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ut]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Pa,mi,mx]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},OF=pF(AF);function le(...e){return OF(D2(e))}const DF=I3,Y2=f.forwardRef(({className:e,...t},r)=>s.jsx(E2,{ref:r,className:le("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));Y2.displayName=E2.displayName;const IF=Tl("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Q2=f.forwardRef(({className:e,variant:t,...r},n)=>s.jsx(P2,{ref:n,className:le(IF({variant:t}),e),...r}));Q2.displayName=P2.displayName;const FF=f.forwardRef(({className:e,...t},r)=>s.jsx(M2,{ref:r,className:le("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));FF.displayName=M2.displayName;const X2=f.forwardRef(({className:e,...t},r)=>s.jsx(A2,{ref:r,className:le("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:s.jsx(Mr,{className:"h-4 w-4"})}));X2.displayName=A2.displayName;const Z2=f.forwardRef(({className:e,...t},r)=>s.jsx(T2,{ref:r,className:le("text-sm font-semibold",e),...t}));Z2.displayName=T2.displayName;const J2=f.forwardRef(({className:e,...t},r)=>s.jsx(R2,{ref:r,className:le("text-sm opacity-90",e),...t}));J2.displayName=R2.displayName;function LF(){const{toasts:e}=Qs();return s.jsxs(DF,{children:[e.map(function({id:t,title:r,description:n,action:a,...i}){return s.jsxs(Q2,{...i,children:[s.jsxs("div",{className:"grid gap-1",children:[r&&s.jsx(Z2,{children:r}),n&&s.jsx(J2,{children:n})]}),a,s.jsx(X2,{})]},t)}),s.jsx(Y2,{})]})}var ip=["light","dark"],nb="(prefers-color-scheme: dark)",$F=typeof window>"u",sb=f.createContext(void 0),zF={setTheme:e=>{},themes:[]},as=()=>{var e;return(e=f.useContext(sb))!=null?e:zF},UF=e=>f.useContext(sb)?e.children:f.createElement(qF,{...e}),BF=["light","dark"],qF=({forcedTheme:e,disableTransitionOnChange:t=!1,enableSystem:r=!0,enableColorScheme:n=!0,storageKey:a="theme",themes:i=BF,defaultTheme:o=r?"system":"light",attribute:l="data-theme",value:c,children:d,nonce:u})=>{let[h,m]=f.useState(()=>B_(a,o)),[p,w]=f.useState(()=>B_(a)),v=c?Object.values(c):i,g=f.useCallback(_=>{let N=_;if(!N)return;_==="system"&&r&&(N=q_());let k=c?c[N]:N,S=t?WF():null,R=document.documentElement;if(l==="class"?(R.classList.remove(...v),k&&R.classList.add(k)):k?R.setAttribute(l,k):R.removeAttribute(l),n){let U=ip.includes(o)?o:null,B=ip.includes(N)?N:U;R.style.colorScheme=B}S==null||S()},[]),y=f.useCallback(_=>{let N=typeof _=="function"?_(_):_;m(N);try{localStorage.setItem(a,N)}catch{}},[e]),x=f.useCallback(_=>{let N=q_(_);w(N),h==="system"&&r&&!e&&g("system")},[h,e]);f.useEffect(()=>{let _=window.matchMedia(nb);return _.addListener(x),x(_),()=>_.removeListener(x)},[x]),f.useEffect(()=>{let _=N=>{if(N.key!==a)return;let k=N.newValue||o;y(k)};return window.addEventListener("storage",_),()=>window.removeEventListener("storage",_)},[y]),f.useEffect(()=>{g(e??h)},[e,h]);let b=f.useMemo(()=>({theme:h,setTheme:y,forcedTheme:e,resolvedTheme:h==="system"?p:h,themes:r?[...i,"system"]:i,systemTheme:r?p:void 0}),[h,y,e,p,r,i]);return f.createElement(sb.Provider,{value:b},f.createElement(VF,{forcedTheme:e,disableTransitionOnChange:t,enableSystem:r,enableColorScheme:n,storageKey:a,themes:i,defaultTheme:o,attribute:l,value:c,children:d,attrs:v,nonce:u}),d)},VF=f.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:a,defaultTheme:i,value:o,attrs:l,nonce:c})=>{let d=i==="system",u=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(w=>`'${w}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,h=a?ip.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",m=(w,v=!1,g=!0)=>{let y=o?o[w]:w,x=v?w+"|| ''":`'${y}'`,b="";return a&&g&&!v&&ip.includes(w)&&(b+=`d.style.colorScheme = '${w}';`),r==="class"?v||y?b+=`c.add(${x})`:b+="null":y&&(b+=`d[s](n,${x})`),b},p=e?`!function(){${u}${m(e)}}()`:n?`!function(){try{${u}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${d})){var t='${nb}',m=window.matchMedia(t);if(m.media!==t||m.matches){${m("dark")}}else{${m("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${m(o?"x[e]":"e",!0)}}${d?"":"else{"+m(i,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${u}var e=localStorage.getItem('${t}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${m(o?"x[e]":"e",!0)}}else{${m(i,!1,!1)};}${h}}catch(t){}}();`;return f.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:p}})}),B_=(e,t)=>{if($F)return;let r;try{r=localStorage.getItem(e)||void 0}catch{}return r||t},WF=()=>{let e=document.createElement("style");return e.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(e),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(e)},1)}},q_=e=>(e||(e=window.matchMedia(nb)),e.matches?"dark":"light"),HF=e=>{switch(e){case"success":return YF;case"info":return XF;case"warning":return QF;case"error":return ZF;default:return null}},KF=Array(12).fill(0),GF=({visible:e,className:t})=>he.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},he.createElement("div",{className:"sonner-spinner"},KF.map((r,n)=>he.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),YF=he.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},he.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),QF=he.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},he.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),XF=he.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},he.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),ZF=he.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},he.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),JF=he.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},he.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),he.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),eL=()=>{let[e,t]=he.useState(document.hidden);return he.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},Qy=1,tL=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,a=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:Qy++,i=this.toasts.find(l=>l.id===a),o=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),i?this.toasts=this.toasts.map(l=>l.id===a?(this.publish({...l,...e,id:a,title:r}),{...l,...e,id:a,dismissible:o,title:r}):l):this.addToast({title:r,...n,dismissible:o,id:a}),a},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),a=r!==void 0,i,o=n.then(async c=>{if(i=["resolve",c],he.isValidElement(c))a=!1,this.create({id:r,type:"default",message:c});else if(nL(c)&&!c.ok){a=!1;let d=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,u=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:r,type:"error",message:d,description:u})}else if(t.success!==void 0){a=!1;let d=typeof t.success=="function"?await t.success(c):t.success,u=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"success",message:d,description:u})}}).catch(async c=>{if(i=["reject",c],t.error!==void 0){a=!1;let d=typeof t.error=="function"?await t.error(c):t.error,u=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"error",message:d,description:u})}}).finally(()=>{var c;a&&(this.dismiss(r),r=void 0),(c=t.finally)==null||c.call(t)}),l=()=>new Promise((c,d)=>o.then(()=>i[0]==="reject"?d(i[1]):c(i[1])).catch(d));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||Qy++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Mn=new tL,rL=(e,t)=>{let r=(t==null?void 0:t.id)||Qy++;return Mn.addToast({title:e,...t,id:r}),r},nL=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",sL=rL,aL=()=>Mn.toasts,iL=()=>Mn.getActiveToasts();Object.assign(sL,{success:Mn.success,info:Mn.info,warning:Mn.warning,error:Mn.error,custom:Mn.custom,message:Mn.message,promise:Mn.promise,dismiss:Mn.dismiss,loading:Mn.loading},{getHistory:aL,getToasts:iL});function oL(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}oL(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Gh(e){return e.label!==void 0}var lL=3,cL="32px",dL="16px",V_=4e3,uL=356,fL=14,hL=20,mL=200;function Ps(...e){return e.filter(Boolean).join(" ")}function pL(e){let[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}var gL=e=>{var t,r,n,a,i,o,l,c,d,u,h;let{invert:m,toast:p,unstyled:w,interacting:v,setHeights:g,visibleToasts:y,heights:x,index:b,toasts:_,expanded:N,removeToast:k,defaultRichColors:S,closeButton:R,style:U,cancelButtonStyle:B,actionButtonStyle:re,className:G="",descriptionClassName:H="",duration:V,position:se,gap:te,loadingIcon:J,expandByDefault:I,classNames:D,icons:C,closeButtonAriaLabel:T="Close toast",pauseWhenPageIsHidden:A}=e,[Y,E]=he.useState(null),[$,Z]=he.useState(null),[Q,P]=he.useState(!1),[F,X]=he.useState(!1),[de,Ne]=he.useState(!1),[me,xe]=he.useState(!1),[Ye,Nt]=he.useState(!1),[kt,Ut]=he.useState(0),[Et,q]=he.useState(0),ne=he.useRef(p.duration||V||V_),ue=he.useRef(null),be=he.useRef(null),we=b===0,pe=b+1<=y,Ee=p.type,We=p.dismissible!==!1,fe=p.className||"",De=p.descriptionClassName||"",gt=he.useMemo(()=>x.findIndex(Ce=>Ce.toastId===p.id)||0,[x,p.id]),rt=he.useMemo(()=>{var Ce;return(Ce=p.closeButton)!=null?Ce:R},[p.closeButton,R]),pt=he.useMemo(()=>p.duration||V||V_,[p.duration,V]),Pt=he.useRef(0),cr=he.useRef(0),z=he.useRef(0),ae=he.useRef(null),[ye,Pe]=se.split("-"),nt=he.useMemo(()=>x.reduce((Ce,qe,Re)=>Re>=gt?Ce:Ce+qe.height,0),[x,gt]),st=eL(),Ge=p.invert||m,vr=Ee==="loading";cr.current=he.useMemo(()=>gt*te+nt,[gt,nt]),he.useEffect(()=>{ne.current=pt},[pt]),he.useEffect(()=>{P(!0)},[]),he.useEffect(()=>{let Ce=be.current;if(Ce){let qe=Ce.getBoundingClientRect().height;return q(qe),g(Re=>[{toastId:p.id,height:qe,position:p.position},...Re]),()=>g(Re=>Re.filter(ot=>ot.toastId!==p.id))}},[g,p.id]),he.useLayoutEffect(()=>{if(!Q)return;let Ce=be.current,qe=Ce.style.height;Ce.style.height="auto";let Re=Ce.getBoundingClientRect().height;Ce.style.height=qe,q(Re),g(ot=>ot.find(wt=>wt.toastId===p.id)?ot.map(wt=>wt.toastId===p.id?{...wt,height:Re}:wt):[{toastId:p.id,height:Re,position:p.position},...ot])},[Q,p.title,p.description,g,p.id]);let Dr=he.useCallback(()=>{X(!0),Ut(cr.current),g(Ce=>Ce.filter(qe=>qe.toastId!==p.id)),setTimeout(()=>{k(p)},mL)},[p,k,g,cr]);he.useEffect(()=>{if(p.promise&&Ee==="loading"||p.duration===1/0||p.type==="loading")return;let Ce;return N||v||A&&st?(()=>{if(z.current<Pt.current){let qe=new Date().getTime()-Pt.current;ne.current=ne.current-qe}z.current=new Date().getTime()})():ne.current!==1/0&&(Pt.current=new Date().getTime(),Ce=setTimeout(()=>{var qe;(qe=p.onAutoClose)==null||qe.call(p,p),Dr()},ne.current)),()=>clearTimeout(Ce)},[N,v,p,Ee,A,st,Dr]),he.useEffect(()=>{p.delete&&Dr()},[Dr,p.delete]);function Me(){var Ce,qe,Re;return C!=null&&C.loading?he.createElement("div",{className:Ps(D==null?void 0:D.loader,(Ce=p==null?void 0:p.classNames)==null?void 0:Ce.loader,"sonner-loader"),"data-visible":Ee==="loading"},C.loading):J?he.createElement("div",{className:Ps(D==null?void 0:D.loader,(qe=p==null?void 0:p.classNames)==null?void 0:qe.loader,"sonner-loader"),"data-visible":Ee==="loading"},J):he.createElement(GF,{className:Ps(D==null?void 0:D.loader,(Re=p==null?void 0:p.classNames)==null?void 0:Re.loader),visible:Ee==="loading"})}return he.createElement("li",{tabIndex:0,ref:be,className:Ps(G,fe,D==null?void 0:D.toast,(t=p==null?void 0:p.classNames)==null?void 0:t.toast,D==null?void 0:D.default,D==null?void 0:D[Ee],(r=p==null?void 0:p.classNames)==null?void 0:r[Ee]),"data-sonner-toast":"","data-rich-colors":(n=p.richColors)!=null?n:S,"data-styled":!(p.jsx||p.unstyled||w),"data-mounted":Q,"data-promise":!!p.promise,"data-swiped":Ye,"data-removed":F,"data-visible":pe,"data-y-position":ye,"data-x-position":Pe,"data-index":b,"data-front":we,"data-swiping":de,"data-dismissible":We,"data-type":Ee,"data-invert":Ge,"data-swipe-out":me,"data-swipe-direction":$,"data-expanded":!!(N||I&&Q),style:{"--index":b,"--toasts-before":b,"--z-index":_.length-b,"--offset":`${F?kt:cr.current}px`,"--initial-height":I?"auto":`${Et}px`,...U,...p.style},onDragEnd:()=>{Ne(!1),E(null),ae.current=null},onPointerDown:Ce=>{vr||!We||(ue.current=new Date,Ut(cr.current),Ce.target.setPointerCapture(Ce.pointerId),Ce.target.tagName!=="BUTTON"&&(Ne(!0),ae.current={x:Ce.clientX,y:Ce.clientY}))},onPointerUp:()=>{var Ce,qe,Re,ot;if(me||!We)return;ae.current=null;let wt=Number(((Ce=be.current)==null?void 0:Ce.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),ht=Number(((qe=be.current)==null?void 0:qe.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),ie=new Date().getTime()-((Re=ue.current)==null?void 0:Re.getTime()),He=Y==="x"?wt:ht,Ue=Math.abs(He)/ie;if(Math.abs(He)>=hL||Ue>.11){Ut(cr.current),(ot=p.onDismiss)==null||ot.call(p,p),Z(Y==="x"?wt>0?"right":"left":ht>0?"down":"up"),Dr(),xe(!0),Nt(!1);return}Ne(!1),E(null)},onPointerMove:Ce=>{var qe,Re,ot,wt;if(!ae.current||!We||((qe=window.getSelection())==null?void 0:qe.toString().length)>0)return;let ht=Ce.clientY-ae.current.y,ie=Ce.clientX-ae.current.x,He=(Re=e.swipeDirections)!=null?Re:pL(se);!Y&&(Math.abs(ie)>1||Math.abs(ht)>1)&&E(Math.abs(ie)>Math.abs(ht)?"x":"y");let Ue={x:0,y:0};Y==="y"?(He.includes("top")||He.includes("bottom"))&&(He.includes("top")&&ht<0||He.includes("bottom")&&ht>0)&&(Ue.y=ht):Y==="x"&&(He.includes("left")||He.includes("right"))&&(He.includes("left")&&ie<0||He.includes("right")&&ie>0)&&(Ue.x=ie),(Math.abs(Ue.x)>0||Math.abs(Ue.y)>0)&&Nt(!0),(ot=be.current)==null||ot.style.setProperty("--swipe-amount-x",`${Ue.x}px`),(wt=be.current)==null||wt.style.setProperty("--swipe-amount-y",`${Ue.y}px`)}},rt&&!p.jsx?he.createElement("button",{"aria-label":T,"data-disabled":vr,"data-close-button":!0,onClick:vr||!We?()=>{}:()=>{var Ce;Dr(),(Ce=p.onDismiss)==null||Ce.call(p,p)},className:Ps(D==null?void 0:D.closeButton,(a=p==null?void 0:p.classNames)==null?void 0:a.closeButton)},(i=C==null?void 0:C.close)!=null?i:JF):null,p.jsx||f.isValidElement(p.title)?p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title:he.createElement(he.Fragment,null,Ee||p.icon||p.promise?he.createElement("div",{"data-icon":"",className:Ps(D==null?void 0:D.icon,(o=p==null?void 0:p.classNames)==null?void 0:o.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||Me():null,p.type!=="loading"?p.icon||(C==null?void 0:C[Ee])||HF(Ee):null):null,he.createElement("div",{"data-content":"",className:Ps(D==null?void 0:D.content,(l=p==null?void 0:p.classNames)==null?void 0:l.content)},he.createElement("div",{"data-title":"",className:Ps(D==null?void 0:D.title,(c=p==null?void 0:p.classNames)==null?void 0:c.title)},typeof p.title=="function"?p.title():p.title),p.description?he.createElement("div",{"data-description":"",className:Ps(H,De,D==null?void 0:D.description,(d=p==null?void 0:p.classNames)==null?void 0:d.description)},typeof p.description=="function"?p.description():p.description):null),f.isValidElement(p.cancel)?p.cancel:p.cancel&&Gh(p.cancel)?he.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||B,onClick:Ce=>{var qe,Re;Gh(p.cancel)&&We&&((Re=(qe=p.cancel).onClick)==null||Re.call(qe,Ce),Dr())},className:Ps(D==null?void 0:D.cancelButton,(u=p==null?void 0:p.classNames)==null?void 0:u.cancelButton)},p.cancel.label):null,f.isValidElement(p.action)?p.action:p.action&&Gh(p.action)?he.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||re,onClick:Ce=>{var qe,Re;Gh(p.action)&&((Re=(qe=p.action).onClick)==null||Re.call(qe,Ce),!Ce.defaultPrevented&&Dr())},className:Ps(D==null?void 0:D.actionButton,(h=p==null?void 0:p.classNames)==null?void 0:h.actionButton)},p.action.label):null))};function W_(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function vL(e,t){let r={};return[e,t].forEach((n,a)=>{let i=a===1,o=i?"--mobile-offset":"--offset",l=i?dL:cL;function c(d){["top","right","bottom","left"].forEach(u=>{r[`${o}-${u}`]=typeof d=="number"?`${d}px`:d})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(d=>{n[d]===void 0?r[`${o}-${d}`]=l:r[`${o}-${d}`]=typeof n[d]=="number"?`${n[d]}px`:n[d]}):c(l)}),r}var xL=f.forwardRef(function(e,t){let{invert:r,position:n="bottom-right",hotkey:a=["altKey","KeyT"],expand:i,closeButton:o,className:l,offset:c,mobileOffset:d,theme:u="light",richColors:h,duration:m,style:p,visibleToasts:w=lL,toastOptions:v,dir:g=W_(),gap:y=fL,loadingIcon:x,icons:b,containerAriaLabel:_="Notifications",pauseWhenPageIsHidden:N}=e,[k,S]=he.useState([]),R=he.useMemo(()=>Array.from(new Set([n].concat(k.filter(A=>A.position).map(A=>A.position)))),[k,n]),[U,B]=he.useState([]),[re,G]=he.useState(!1),[H,V]=he.useState(!1),[se,te]=he.useState(u!=="system"?u:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),J=he.useRef(null),I=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),D=he.useRef(null),C=he.useRef(!1),T=he.useCallback(A=>{S(Y=>{var E;return(E=Y.find($=>$.id===A.id))!=null&&E.delete||Mn.dismiss(A.id),Y.filter(({id:$})=>$!==A.id)})},[]);return he.useEffect(()=>Mn.subscribe(A=>{if(A.dismiss){S(Y=>Y.map(E=>E.id===A.id?{...E,delete:!0}:E));return}setTimeout(()=>{o2.flushSync(()=>{S(Y=>{let E=Y.findIndex($=>$.id===A.id);return E!==-1?[...Y.slice(0,E),{...Y[E],...A},...Y.slice(E+1)]:[A,...Y]})})})}),[]),he.useEffect(()=>{if(u!=="system"){te(u);return}if(u==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?te("dark"):te("light")),typeof window>"u")return;let A=window.matchMedia("(prefers-color-scheme: dark)");try{A.addEventListener("change",({matches:Y})=>{te(Y?"dark":"light")})}catch{A.addListener(({matches:E})=>{try{te(E?"dark":"light")}catch($){console.error($)}})}},[u]),he.useEffect(()=>{k.length<=1&&G(!1)},[k]),he.useEffect(()=>{let A=Y=>{var E,$;a.every(Z=>Y[Z]||Y.code===Z)&&(G(!0),(E=J.current)==null||E.focus()),Y.code==="Escape"&&(document.activeElement===J.current||($=J.current)!=null&&$.contains(document.activeElement))&&G(!1)};return document.addEventListener("keydown",A),()=>document.removeEventListener("keydown",A)},[a]),he.useEffect(()=>{if(J.current)return()=>{D.current&&(D.current.focus({preventScroll:!0}),D.current=null,C.current=!1)}},[J.current]),he.createElement("section",{ref:t,"aria-label":`${_} ${I}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},R.map((A,Y)=>{var E;let[$,Z]=A.split("-");return k.length?he.createElement("ol",{key:A,dir:g==="auto"?W_():g,tabIndex:-1,ref:J,className:l,"data-sonner-toaster":!0,"data-theme":se,"data-y-position":$,"data-lifted":re&&k.length>1&&!i,"data-x-position":Z,style:{"--front-toast-height":`${((E=U[0])==null?void 0:E.height)||0}px`,"--width":`${uL}px`,"--gap":`${y}px`,...p,...vL(c,d)},onBlur:Q=>{C.current&&!Q.currentTarget.contains(Q.relatedTarget)&&(C.current=!1,D.current&&(D.current.focus({preventScroll:!0}),D.current=null))},onFocus:Q=>{Q.target instanceof HTMLElement&&Q.target.dataset.dismissible==="false"||C.current||(C.current=!0,D.current=Q.relatedTarget)},onMouseEnter:()=>G(!0),onMouseMove:()=>G(!0),onMouseLeave:()=>{H||G(!1)},onDragEnd:()=>G(!1),onPointerDown:Q=>{Q.target instanceof HTMLElement&&Q.target.dataset.dismissible==="false"||V(!0)},onPointerUp:()=>V(!1)},k.filter(Q=>!Q.position&&Y===0||Q.position===A).map((Q,P)=>{var F,X;return he.createElement(gL,{key:Q.id,icons:b,index:P,toast:Q,defaultRichColors:h,duration:(F=v==null?void 0:v.duration)!=null?F:m,className:v==null?void 0:v.className,descriptionClassName:v==null?void 0:v.descriptionClassName,invert:r,visibleToasts:w,closeButton:(X=v==null?void 0:v.closeButton)!=null?X:o,interacting:H,position:A,style:v==null?void 0:v.style,unstyled:v==null?void 0:v.unstyled,classNames:v==null?void 0:v.classNames,cancelButtonStyle:v==null?void 0:v.cancelButtonStyle,actionButtonStyle:v==null?void 0:v.actionButtonStyle,removeToast:T,toasts:k.filter(de=>de.position==Q.position),heights:U.filter(de=>de.position==Q.position),setHeights:B,expandByDefault:i,gap:y,loadingIcon:x,expanded:re,pauseWhenPageIsHidden:N,swipeDirections:e.swipeDirections})})):null}))});const yL=({...e})=>{const{theme:t="system"}=as();return s.jsx(xL,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var wL=nw[" useId ".trim().toString()]||(()=>{}),bL=0;function en(e){const[t,r]=f.useState(wL());return kr(()=>{e||r(n=>n??String(bL++))},[e]),e||(t?`radix-${t}`:"")}const jL=["top","right","bottom","left"],lo=Math.min,Yn=Math.max,op=Math.round,Yh=Math.floor,xa=e=>({x:e,y:e}),_L={left:"right",right:"left",bottom:"top",top:"bottom"},NL={start:"end",end:"start"};function Xy(e,t,r){return Yn(e,lo(t,r))}function si(e,t){return typeof e=="function"?e(t):e}function ai(e){return e.split("-")[0]}function Sd(e){return e.split("-")[1]}function ab(e){return e==="x"?"y":"x"}function ib(e){return e==="y"?"height":"width"}const SL=new Set(["top","bottom"]);function ha(e){return SL.has(ai(e))?"y":"x"}function ob(e){return ab(ha(e))}function CL(e,t,r){r===void 0&&(r=!1);const n=Sd(e),a=ob(e),i=ib(a);let o=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=lp(o)),[o,lp(o)]}function kL(e){const t=lp(e);return[Zy(e),t,Zy(t)]}function Zy(e){return e.replace(/start|end/g,t=>NL[t])}const H_=["left","right"],K_=["right","left"],EL=["top","bottom"],PL=["bottom","top"];function TL(e,t,r){switch(e){case"top":case"bottom":return r?t?K_:H_:t?H_:K_;case"left":case"right":return t?EL:PL;default:return[]}}function RL(e,t,r,n){const a=Sd(e);let i=TL(ai(e),r==="start",n);return a&&(i=i.map(o=>o+"-"+a),t&&(i=i.concat(i.map(Zy)))),i}function lp(e){return e.replace(/left|right|bottom|top/g,t=>_L[t])}function ML(e){return{top:0,right:0,bottom:0,left:0,...e}}function eE(e){return typeof e!="number"?ML(e):{top:e,right:e,bottom:e,left:e}}function cp(e){const{x:t,y:r,width:n,height:a}=e;return{width:n,height:a,top:r,left:t,right:t+n,bottom:r+a,x:t,y:r}}function G_(e,t,r){let{reference:n,floating:a}=e;const i=ha(t),o=ob(t),l=ib(o),c=ai(t),d=i==="y",u=n.x+n.width/2-a.width/2,h=n.y+n.height/2-a.height/2,m=n[l]/2-a[l]/2;let p;switch(c){case"top":p={x:u,y:n.y-a.height};break;case"bottom":p={x:u,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:h};break;case"left":p={x:n.x-a.width,y:h};break;default:p={x:n.x,y:n.y}}switch(Sd(t)){case"start":p[o]-=m*(r&&d?-1:1);break;case"end":p[o]+=m*(r&&d?-1:1);break}return p}const AL=async(e,t,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:i=[],platform:o}=r,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let d=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:u,y:h}=G_(d,n,c),m=n,p={},w=0;for(let v=0;v<l.length;v++){const{name:g,fn:y}=l[v],{x,y:b,data:_,reset:N}=await y({x:u,y:h,initialPlacement:n,placement:m,strategy:a,middlewareData:p,rects:d,platform:o,elements:{reference:e,floating:t}});u=x??u,h=b??h,p={...p,[g]:{...p[g],..._}},N&&w<=50&&(w++,typeof N=="object"&&(N.placement&&(m=N.placement),N.rects&&(d=N.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:a}):N.rects),{x:u,y:h}=G_(d,m,c)),v=-1)}return{x:u,y:h,placement:m,strategy:a,middlewareData:p}};async function pf(e,t){var r;t===void 0&&(t={});const{x:n,y:a,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:d="clippingAncestors",rootBoundary:u="viewport",elementContext:h="floating",altBoundary:m=!1,padding:p=0}=si(t,e),w=eE(p),g=l[m?h==="floating"?"reference":"floating":h],y=cp(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(g)))==null||r?g:g.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:d,rootBoundary:u,strategy:c})),x=h==="floating"?{x:n,y:a,width:o.floating.width,height:o.floating.height}:o.reference,b=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),_=await(i.isElement==null?void 0:i.isElement(b))?await(i.getScale==null?void 0:i.getScale(b))||{x:1,y:1}:{x:1,y:1},N=cp(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:x,offsetParent:b,strategy:c}):x);return{top:(y.top-N.top+w.top)/_.y,bottom:(N.bottom-y.bottom+w.bottom)/_.y,left:(y.left-N.left+w.left)/_.x,right:(N.right-y.right+w.right)/_.x}}const OL=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:a,rects:i,platform:o,elements:l,middlewareData:c}=t,{element:d,padding:u=0}=si(e,t)||{};if(d==null)return{};const h=eE(u),m={x:r,y:n},p=ob(a),w=ib(p),v=await o.getDimensions(d),g=p==="y",y=g?"top":"left",x=g?"bottom":"right",b=g?"clientHeight":"clientWidth",_=i.reference[w]+i.reference[p]-m[p]-i.floating[w],N=m[p]-i.reference[p],k=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let S=k?k[b]:0;(!S||!await(o.isElement==null?void 0:o.isElement(k)))&&(S=l.floating[b]||i.floating[w]);const R=_/2-N/2,U=S/2-v[w]/2-1,B=lo(h[y],U),re=lo(h[x],U),G=B,H=S-v[w]-re,V=S/2-v[w]/2+R,se=Xy(G,V,H),te=!c.arrow&&Sd(a)!=null&&V!==se&&i.reference[w]/2-(V<G?B:re)-v[w]/2<0,J=te?V<G?V-G:V-H:0;return{[p]:m[p]+J,data:{[p]:se,centerOffset:V-se-J,...te&&{alignmentOffset:J}},reset:te}}}),DL=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:a,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:d}=t,{mainAxis:u=!0,crossAxis:h=!0,fallbackPlacements:m,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:v=!0,...g}=si(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const y=ai(a),x=ha(l),b=ai(l)===l,_=await(c.isRTL==null?void 0:c.isRTL(d.floating)),N=m||(b||!v?[lp(l)]:kL(l)),k=w!=="none";!m&&k&&N.push(...RL(l,v,w,_));const S=[l,...N],R=await pf(t,g),U=[];let B=((n=i.flip)==null?void 0:n.overflows)||[];if(u&&U.push(R[y]),h){const V=CL(a,o,_);U.push(R[V[0]],R[V[1]])}if(B=[...B,{placement:a,overflows:U}],!U.every(V=>V<=0)){var re,G;const V=(((re=i.flip)==null?void 0:re.index)||0)+1,se=S[V];if(se&&(!(h==="alignment"?x!==ha(se):!1)||B.every(I=>I.overflows[0]>0&&ha(I.placement)===x)))return{data:{index:V,overflows:B},reset:{placement:se}};let te=(G=B.filter(J=>J.overflows[0]<=0).sort((J,I)=>J.overflows[1]-I.overflows[1])[0])==null?void 0:G.placement;if(!te)switch(p){case"bestFit":{var H;const J=(H=B.filter(I=>{if(k){const D=ha(I.placement);return D===x||D==="y"}return!0}).map(I=>[I.placement,I.overflows.filter(D=>D>0).reduce((D,C)=>D+C,0)]).sort((I,D)=>I[1]-D[1])[0])==null?void 0:H[0];J&&(te=J);break}case"initialPlacement":te=l;break}if(a!==te)return{reset:{placement:te}}}return{}}}};function Y_(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Q_(e){return jL.some(t=>e[t]>=0)}const IL=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...a}=si(e,t);switch(n){case"referenceHidden":{const i=await pf(t,{...a,elementContext:"reference"}),o=Y_(i,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:Q_(o)}}}case"escaped":{const i=await pf(t,{...a,altBoundary:!0}),o=Y_(i,r.floating);return{data:{escapedOffsets:o,escaped:Q_(o)}}}default:return{}}}}},tE=new Set(["left","top"]);async function FL(e,t){const{placement:r,platform:n,elements:a}=e,i=await(n.isRTL==null?void 0:n.isRTL(a.floating)),o=ai(r),l=Sd(r),c=ha(r)==="y",d=tE.has(o)?-1:1,u=i&&c?-1:1,h=si(t,e);let{mainAxis:m,crossAxis:p,alignmentAxis:w}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof w=="number"&&(p=l==="end"?w*-1:w),c?{x:p*u,y:m*d}:{x:m*d,y:p*u}}const LL=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:a,y:i,placement:o,middlewareData:l}=t,c=await FL(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:a+c.x,y:i+c.y,data:{...c,placement:o}}}}},$L=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:a}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:g=>{let{x:y,y:x}=g;return{x:y,y:x}}},...c}=si(e,t),d={x:r,y:n},u=await pf(t,c),h=ha(ai(a)),m=ab(h);let p=d[m],w=d[h];if(i){const g=m==="y"?"top":"left",y=m==="y"?"bottom":"right",x=p+u[g],b=p-u[y];p=Xy(x,p,b)}if(o){const g=h==="y"?"top":"left",y=h==="y"?"bottom":"right",x=w+u[g],b=w-u[y];w=Xy(x,w,b)}const v=l.fn({...t,[m]:p,[h]:w});return{...v,data:{x:v.x-r,y:v.y-n,enabled:{[m]:i,[h]:o}}}}}},zL=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:a,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=si(e,t),u={x:r,y:n},h=ha(a),m=ab(h);let p=u[m],w=u[h];const v=si(l,t),g=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(c){const b=m==="y"?"height":"width",_=i.reference[m]-i.floating[b]+g.mainAxis,N=i.reference[m]+i.reference[b]-g.mainAxis;p<_?p=_:p>N&&(p=N)}if(d){var y,x;const b=m==="y"?"width":"height",_=tE.has(ai(a)),N=i.reference[h]-i.floating[b]+(_&&((y=o.offset)==null?void 0:y[h])||0)+(_?0:g.crossAxis),k=i.reference[h]+i.reference[b]+(_?0:((x=o.offset)==null?void 0:x[h])||0)-(_?g.crossAxis:0);w<N?w=N:w>k&&(w=k)}return{[m]:p,[h]:w}}}},UL=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:a,rects:i,platform:o,elements:l}=t,{apply:c=()=>{},...d}=si(e,t),u=await pf(t,d),h=ai(a),m=Sd(a),p=ha(a)==="y",{width:w,height:v}=i.floating;let g,y;h==="top"||h==="bottom"?(g=h,y=m===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(y=h,g=m==="end"?"top":"bottom");const x=v-u.top-u.bottom,b=w-u.left-u.right,_=lo(v-u[g],x),N=lo(w-u[y],b),k=!t.middlewareData.shift;let S=_,R=N;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(R=b),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(S=x),k&&!m){const B=Yn(u.left,0),re=Yn(u.right,0),G=Yn(u.top,0),H=Yn(u.bottom,0);p?R=w-2*(B!==0||re!==0?B+re:Yn(u.left,u.right)):S=v-2*(G!==0||H!==0?G+H:Yn(u.top,u.bottom))}await c({...t,availableWidth:R,availableHeight:S});const U=await o.getDimensions(l.floating);return w!==U.width||v!==U.height?{reset:{rects:!0}}:{}}}};function cg(){return typeof window<"u"}function Cd(e){return rE(e)?(e.nodeName||"").toLowerCase():"#document"}function Jn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Na(e){var t;return(t=(rE(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function rE(e){return cg()?e instanceof Node||e instanceof Jn(e).Node:!1}function Hs(e){return cg()?e instanceof Element||e instanceof Jn(e).Element:!1}function ja(e){return cg()?e instanceof HTMLElement||e instanceof Jn(e).HTMLElement:!1}function X_(e){return!cg()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Jn(e).ShadowRoot}const BL=new Set(["inline","contents"]);function Wf(e){const{overflow:t,overflowX:r,overflowY:n,display:a}=Ks(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!BL.has(a)}const qL=new Set(["table","td","th"]);function VL(e){return qL.has(Cd(e))}const WL=[":popover-open",":modal"];function dg(e){return WL.some(t=>{try{return e.matches(t)}catch{return!1}})}const HL=["transform","translate","scale","rotate","perspective"],KL=["transform","translate","scale","rotate","perspective","filter"],GL=["paint","layout","strict","content"];function lb(e){const t=cb(),r=Hs(e)?Ks(e):e;return HL.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||KL.some(n=>(r.willChange||"").includes(n))||GL.some(n=>(r.contain||"").includes(n))}function YL(e){let t=co(e);for(;ja(t)&&!ed(t);){if(lb(t))return t;if(dg(t))return null;t=co(t)}return null}function cb(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const QL=new Set(["html","body","#document"]);function ed(e){return QL.has(Cd(e))}function Ks(e){return Jn(e).getComputedStyle(e)}function ug(e){return Hs(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function co(e){if(Cd(e)==="html")return e;const t=e.assignedSlot||e.parentNode||X_(e)&&e.host||Na(e);return X_(t)?t.host:t}function nE(e){const t=co(e);return ed(t)?e.ownerDocument?e.ownerDocument.body:e.body:ja(t)&&Wf(t)?t:nE(t)}function gf(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=nE(e),i=a===((n=e.ownerDocument)==null?void 0:n.body),o=Jn(a);if(i){const l=Jy(o);return t.concat(o,o.visualViewport||[],Wf(a)?a:[],l&&r?gf(l):[])}return t.concat(a,gf(a,[],r))}function Jy(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function sE(e){const t=Ks(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=ja(e),i=a?e.offsetWidth:r,o=a?e.offsetHeight:n,l=op(r)!==i||op(n)!==o;return l&&(r=i,n=o),{width:r,height:n,$:l}}function db(e){return Hs(e)?e:e.contextElement}function Tc(e){const t=db(e);if(!ja(t))return xa(1);const r=t.getBoundingClientRect(),{width:n,height:a,$:i}=sE(t);let o=(i?op(r.width):r.width)/n,l=(i?op(r.height):r.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const XL=xa(0);function aE(e){const t=Jn(e);return!cb()||!t.visualViewport?XL:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function ZL(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Jn(e)?!1:t}function ul(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),i=db(e);let o=xa(1);t&&(n?Hs(n)&&(o=Tc(n)):o=Tc(e));const l=ZL(i,r,n)?aE(i):xa(0);let c=(a.left+l.x)/o.x,d=(a.top+l.y)/o.y,u=a.width/o.x,h=a.height/o.y;if(i){const m=Jn(i),p=n&&Hs(n)?Jn(n):n;let w=m,v=Jy(w);for(;v&&n&&p!==w;){const g=Tc(v),y=v.getBoundingClientRect(),x=Ks(v),b=y.left+(v.clientLeft+parseFloat(x.paddingLeft))*g.x,_=y.top+(v.clientTop+parseFloat(x.paddingTop))*g.y;c*=g.x,d*=g.y,u*=g.x,h*=g.y,c+=b,d+=_,w=Jn(v),v=Jy(w)}}return cp({width:u,height:h,x:c,y:d})}function ub(e,t){const r=ug(e).scrollLeft;return t?t.left+r:ul(Na(e)).left+r}function iE(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),a=n.left+t.scrollLeft-(r?0:ub(e,n)),i=n.top+t.scrollTop;return{x:a,y:i}}function JL(e){let{elements:t,rect:r,offsetParent:n,strategy:a}=e;const i=a==="fixed",o=Na(n),l=t?dg(t.floating):!1;if(n===o||l&&i)return r;let c={scrollLeft:0,scrollTop:0},d=xa(1);const u=xa(0),h=ja(n);if((h||!h&&!i)&&((Cd(n)!=="body"||Wf(o))&&(c=ug(n)),ja(n))){const p=ul(n);d=Tc(n),u.x=p.x+n.clientLeft,u.y=p.y+n.clientTop}const m=o&&!h&&!i?iE(o,c,!0):xa(0);return{width:r.width*d.x,height:r.height*d.y,x:r.x*d.x-c.scrollLeft*d.x+u.x+m.x,y:r.y*d.y-c.scrollTop*d.y+u.y+m.y}}function e$(e){return Array.from(e.getClientRects())}function t$(e){const t=Na(e),r=ug(e),n=e.ownerDocument.body,a=Yn(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=Yn(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+ub(e);const l=-r.scrollTop;return Ks(n).direction==="rtl"&&(o+=Yn(t.clientWidth,n.clientWidth)-a),{width:a,height:i,x:o,y:l}}function r$(e,t){const r=Jn(e),n=Na(e),a=r.visualViewport;let i=n.clientWidth,o=n.clientHeight,l=0,c=0;if(a){i=a.width,o=a.height;const d=cb();(!d||d&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}return{width:i,height:o,x:l,y:c}}const n$=new Set(["absolute","fixed"]);function s$(e,t){const r=ul(e,!0,t==="fixed"),n=r.top+e.clientTop,a=r.left+e.clientLeft,i=ja(e)?Tc(e):xa(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=a*i.x,d=n*i.y;return{width:o,height:l,x:c,y:d}}function Z_(e,t,r){let n;if(t==="viewport")n=r$(e,r);else if(t==="document")n=t$(Na(e));else if(Hs(t))n=s$(t,r);else{const a=aE(e);n={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return cp(n)}function oE(e,t){const r=co(e);return r===t||!Hs(r)||ed(r)?!1:Ks(r).position==="fixed"||oE(r,t)}function a$(e,t){const r=t.get(e);if(r)return r;let n=gf(e,[],!1).filter(l=>Hs(l)&&Cd(l)!=="body"),a=null;const i=Ks(e).position==="fixed";let o=i?co(e):e;for(;Hs(o)&&!ed(o);){const l=Ks(o),c=lb(o);!c&&l.position==="fixed"&&(a=null),(i?!c&&!a:!c&&l.position==="static"&&!!a&&n$.has(a.position)||Wf(o)&&!c&&oE(e,o))?n=n.filter(u=>u!==o):a=l,o=co(o)}return t.set(e,n),n}function i$(e){let{element:t,boundary:r,rootBoundary:n,strategy:a}=e;const o=[...r==="clippingAncestors"?dg(t)?[]:a$(t,this._c):[].concat(r),n],l=o[0],c=o.reduce((d,u)=>{const h=Z_(t,u,a);return d.top=Yn(h.top,d.top),d.right=lo(h.right,d.right),d.bottom=lo(h.bottom,d.bottom),d.left=Yn(h.left,d.left),d},Z_(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function o$(e){const{width:t,height:r}=sE(e);return{width:t,height:r}}function l$(e,t,r){const n=ja(t),a=Na(t),i=r==="fixed",o=ul(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=xa(0);function d(){c.x=ub(a)}if(n||!n&&!i)if((Cd(t)!=="body"||Wf(a))&&(l=ug(t)),n){const p=ul(t,!0,i,t);c.x=p.x+t.clientLeft,c.y=p.y+t.clientTop}else a&&d();i&&!n&&a&&d();const u=a&&!n&&!i?iE(a,l):xa(0),h=o.left+l.scrollLeft-c.x-u.x,m=o.top+l.scrollTop-c.y-u.y;return{x:h,y:m,width:o.width,height:o.height}}function px(e){return Ks(e).position==="static"}function J_(e,t){if(!ja(e)||Ks(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Na(e)===r&&(r=r.ownerDocument.body),r}function lE(e,t){const r=Jn(e);if(dg(e))return r;if(!ja(e)){let a=co(e);for(;a&&!ed(a);){if(Hs(a)&&!px(a))return a;a=co(a)}return r}let n=J_(e,t);for(;n&&VL(n)&&px(n);)n=J_(n,t);return n&&ed(n)&&px(n)&&!lb(n)?r:n||YL(e)||r}const c$=async function(e){const t=this.getOffsetParent||lE,r=this.getDimensions,n=await r(e.floating);return{reference:l$(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function d$(e){return Ks(e).direction==="rtl"}const u$={convertOffsetParentRelativeRectToViewportRelativeRect:JL,getDocumentElement:Na,getClippingRect:i$,getOffsetParent:lE,getElementRects:c$,getClientRects:e$,getDimensions:o$,getScale:Tc,isElement:Hs,isRTL:d$};function cE(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function f$(e,t){let r=null,n;const a=Na(e);function i(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const d=e.getBoundingClientRect(),{left:u,top:h,width:m,height:p}=d;if(l||t(),!m||!p)return;const w=Yh(h),v=Yh(a.clientWidth-(u+m)),g=Yh(a.clientHeight-(h+p)),y=Yh(u),b={rootMargin:-w+"px "+-v+"px "+-g+"px "+-y+"px",threshold:Yn(0,lo(1,c))||1};let _=!0;function N(k){const S=k[0].intersectionRatio;if(S!==c){if(!_)return o();S?o(!1,S):n=setTimeout(()=>{o(!1,1e-7)},1e3)}S===1&&!cE(d,e.getBoundingClientRect())&&o(),_=!1}try{r=new IntersectionObserver(N,{...b,root:a.ownerDocument})}catch{r=new IntersectionObserver(N,b)}r.observe(e)}return o(!0),i}function h$(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,d=db(e),u=a||i?[...d?gf(d):[],...gf(t)]:[];u.forEach(y=>{a&&y.addEventListener("scroll",r,{passive:!0}),i&&y.addEventListener("resize",r)});const h=d&&l?f$(d,r):null;let m=-1,p=null;o&&(p=new ResizeObserver(y=>{let[x]=y;x&&x.target===d&&p&&(p.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var b;(b=p)==null||b.observe(t)})),r()}),d&&!c&&p.observe(d),p.observe(t));let w,v=c?ul(e):null;c&&g();function g(){const y=ul(e);v&&!cE(v,y)&&r(),v=y,w=requestAnimationFrame(g)}return r(),()=>{var y;u.forEach(x=>{a&&x.removeEventListener("scroll",r),i&&x.removeEventListener("resize",r)}),h==null||h(),(y=p)==null||y.disconnect(),p=null,c&&cancelAnimationFrame(w)}}const m$=LL,p$=$L,g$=DL,v$=UL,x$=IL,eN=OL,y$=zL,w$=(e,t,r)=>{const n=new Map,a={platform:u$,...r},i={...a.platform,_c:n};return AL(e,t,{...a,platform:i})};var b$=typeof document<"u",j$=function(){},km=b$?f.useLayoutEffect:j$;function dp(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!dp(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=r;n--!==0;){const i=a[n];if(!(i==="_owner"&&e.$$typeof)&&!dp(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function dE(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function tN(e,t){const r=dE(e);return Math.round(t*r)/r}function gx(e){const t=f.useRef(e);return km(()=>{t.current=e}),t}function _$(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:d}=e,[u,h]=f.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[m,p]=f.useState(n);dp(m,n)||p(n);const[w,v]=f.useState(null),[g,y]=f.useState(null),x=f.useCallback(I=>{I!==k.current&&(k.current=I,v(I))},[]),b=f.useCallback(I=>{I!==S.current&&(S.current=I,y(I))},[]),_=i||w,N=o||g,k=f.useRef(null),S=f.useRef(null),R=f.useRef(u),U=c!=null,B=gx(c),re=gx(a),G=gx(d),H=f.useCallback(()=>{if(!k.current||!S.current)return;const I={placement:t,strategy:r,middleware:m};re.current&&(I.platform=re.current),w$(k.current,S.current,I).then(D=>{const C={...D,isPositioned:G.current!==!1};V.current&&!dp(R.current,C)&&(R.current=C,kl.flushSync(()=>{h(C)}))})},[m,t,r,re,G]);km(()=>{d===!1&&R.current.isPositioned&&(R.current.isPositioned=!1,h(I=>({...I,isPositioned:!1})))},[d]);const V=f.useRef(!1);km(()=>(V.current=!0,()=>{V.current=!1}),[]),km(()=>{if(_&&(k.current=_),N&&(S.current=N),_&&N){if(B.current)return B.current(_,N,H);H()}},[_,N,H,B,U]);const se=f.useMemo(()=>({reference:k,floating:S,setReference:x,setFloating:b}),[x,b]),te=f.useMemo(()=>({reference:_,floating:N}),[_,N]),J=f.useMemo(()=>{const I={position:r,left:0,top:0};if(!te.floating)return I;const D=tN(te.floating,u.x),C=tN(te.floating,u.y);return l?{...I,transform:"translate("+D+"px, "+C+"px)",...dE(te.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:D,top:C}},[r,l,te.floating,u.x,u.y]);return f.useMemo(()=>({...u,update:H,refs:se,elements:te,floatingStyles:J}),[u,H,se,te,J])}const N$=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:a}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?eN({element:n.current,padding:a}).fn(r):{}:n?eN({element:n,padding:a}).fn(r):{}}}},S$=(e,t)=>({...m$(e),options:[e,t]}),C$=(e,t)=>({...p$(e),options:[e,t]}),k$=(e,t)=>({...y$(e),options:[e,t]}),E$=(e,t)=>({...g$(e),options:[e,t]}),P$=(e,t)=>({...v$(e),options:[e,t]}),T$=(e,t)=>({...x$(e),options:[e,t]}),R$=(e,t)=>({...N$(e),options:[e,t]});var M$="Arrow",uE=f.forwardRef((e,t)=>{const{children:r,width:n=10,height:a=5,...i}=e;return s.jsx(Le.svg,{...i,ref:t,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});uE.displayName=M$;var A$=uE;function fE(e){const[t,r]=f.useState(void 0);return kr(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,l=d.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var fb="Popper",[hE,No]=Cn(fb),[O$,mE]=hE(fb),pE=e=>{const{__scopePopper:t,children:r}=e,[n,a]=f.useState(null);return s.jsx(O$,{scope:t,anchor:n,onAnchorChange:a,children:r})};pE.displayName=fb;var gE="PopperAnchor",vE=f.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...a}=e,i=mE(gE,r),o=f.useRef(null),l=ct(t,o);return f.useEffect(()=>{i.onAnchorChange((n==null?void 0:n.current)||o.current)}),n?null:s.jsx(Le.div,{...a,ref:l})});vE.displayName=gE;var hb="PopperContent",[D$,I$]=hE(hb),xE=f.forwardRef((e,t)=>{var Q,P,F,X,de,Ne;const{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:u=0,sticky:h="partial",hideWhenDetached:m=!1,updatePositionStrategy:p="optimized",onPlaced:w,...v}=e,g=mE(hb,r),[y,x]=f.useState(null),b=ct(t,me=>x(me)),[_,N]=f.useState(null),k=fE(_),S=(k==null?void 0:k.width)??0,R=(k==null?void 0:k.height)??0,U=n+(i!=="center"?"-"+i:""),B=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},re=Array.isArray(d)?d:[d],G=re.length>0,H={padding:B,boundary:re.filter(L$),altBoundary:G},{refs:V,floatingStyles:se,placement:te,isPositioned:J,middlewareData:I}=_$({strategy:"fixed",placement:U,whileElementsMounted:(...me)=>h$(...me,{animationFrame:p==="always"}),elements:{reference:g.anchor},middleware:[S$({mainAxis:a+R,alignmentAxis:o}),c&&C$({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?k$():void 0,...H}),c&&E$({...H}),P$({...H,apply:({elements:me,rects:xe,availableWidth:Ye,availableHeight:Nt})=>{const{width:kt,height:Ut}=xe.reference,Et=me.floating.style;Et.setProperty("--radix-popper-available-width",`${Ye}px`),Et.setProperty("--radix-popper-available-height",`${Nt}px`),Et.setProperty("--radix-popper-anchor-width",`${kt}px`),Et.setProperty("--radix-popper-anchor-height",`${Ut}px`)}}),_&&R$({element:_,padding:l}),$$({arrowWidth:S,arrowHeight:R}),m&&T$({strategy:"referenceHidden",...H})]}),[D,C]=bE(te),T=jr(w);kr(()=>{J&&(T==null||T())},[J,T]);const A=(Q=I.arrow)==null?void 0:Q.x,Y=(P=I.arrow)==null?void 0:P.y,E=((F=I.arrow)==null?void 0:F.centerOffset)!==0,[$,Z]=f.useState();return kr(()=>{y&&Z(window.getComputedStyle(y).zIndex)},[y]),s.jsx("div",{ref:V.setFloating,"data-radix-popper-content-wrapper":"",style:{...se,transform:J?se.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:$,"--radix-popper-transform-origin":[(X=I.transformOrigin)==null?void 0:X.x,(de=I.transformOrigin)==null?void 0:de.y].join(" "),...((Ne=I.hide)==null?void 0:Ne.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(D$,{scope:r,placedSide:D,onArrowChange:N,arrowX:A,arrowY:Y,shouldHideArrow:E,children:s.jsx(Le.div,{"data-side":D,"data-align":C,...v,ref:b,style:{...v.style,animation:J?void 0:"none"}})})})});xE.displayName=hb;var yE="PopperArrow",F$={top:"bottom",right:"left",bottom:"top",left:"right"},wE=f.forwardRef(function(t,r){const{__scopePopper:n,...a}=t,i=I$(yE,n),o=F$[i.placedSide];return s.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:s.jsx(A$,{...a,ref:r,style:{...a.style,display:"block"}})})});wE.displayName=yE;function L$(e){return e!==null}var $$=e=>({name:"transformOrigin",options:e,fn(t){var g,y,x;const{placement:r,rects:n,middlewareData:a}=t,o=((g=a.arrow)==null?void 0:g.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[d,u]=bE(r),h={start:"0%",center:"50%",end:"100%"}[u],m=(((y=a.arrow)==null?void 0:y.x)??0)+l/2,p=(((x=a.arrow)==null?void 0:x.y)??0)+c/2;let w="",v="";return d==="bottom"?(w=o?h:`${m}px`,v=`${-c}px`):d==="top"?(w=o?h:`${m}px`,v=`${n.floating.height+c}px`):d==="right"?(w=`${-c}px`,v=o?h:`${p}px`):d==="left"&&(w=`${n.floating.width+c}px`,v=o?h:`${p}px`),{data:{x:w,y:v}}}});function bE(e){const[t,r="center"]=e.split("-");return[t,r]}var fg=pE,Hf=vE,hg=xE,mg=wE,[pg,nQ]=Cn("Tooltip",[No]),gg=No(),jE="TooltipProvider",z$=700,e0="tooltip.open",[U$,mb]=pg(jE),_E=e=>{const{__scopeTooltip:t,delayDuration:r=z$,skipDelayDuration:n=300,disableHoverableContent:a=!1,children:i}=e,o=f.useRef(!0),l=f.useRef(!1),c=f.useRef(0);return f.useEffect(()=>{const d=c.current;return()=>window.clearTimeout(d)},[]),s.jsx(U$,{scope:t,isOpenDelayedRef:o,delayDuration:r,onOpen:f.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:f.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:f.useCallback(d=>{l.current=d},[]),disableHoverableContent:a,children:i})};_E.displayName=jE;var vf="Tooltip",[B$,vg]=pg(vf),NE=e=>{const{__scopeTooltip:t,children:r,open:n,defaultOpen:a,onOpenChange:i,disableHoverableContent:o,delayDuration:l}=e,c=mb(vf,e.__scopeTooltip),d=gg(t),[u,h]=f.useState(null),m=en(),p=f.useRef(0),w=o??c.disableHoverableContent,v=l??c.delayDuration,g=f.useRef(!1),[y,x]=ba({prop:n,defaultProp:a??!1,onChange:S=>{S?(c.onOpen(),document.dispatchEvent(new CustomEvent(e0))):c.onClose(),i==null||i(S)},caller:vf}),b=f.useMemo(()=>y?g.current?"delayed-open":"instant-open":"closed",[y]),_=f.useCallback(()=>{window.clearTimeout(p.current),p.current=0,g.current=!1,x(!0)},[x]),N=f.useCallback(()=>{window.clearTimeout(p.current),p.current=0,x(!1)},[x]),k=f.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{g.current=!0,x(!0),p.current=0},v)},[v,x]);return f.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=0)},[]),s.jsx(fg,{...d,children:s.jsx(B$,{scope:t,contentId:m,open:y,stateAttribute:b,trigger:u,onTriggerChange:h,onTriggerEnter:f.useCallback(()=>{c.isOpenDelayedRef.current?k():_()},[c.isOpenDelayedRef,k,_]),onTriggerLeave:f.useCallback(()=>{w?N():(window.clearTimeout(p.current),p.current=0)},[N,w]),onOpen:_,onClose:N,disableHoverableContent:w,children:r})})};NE.displayName=vf;var t0="TooltipTrigger",SE=f.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=vg(t0,r),i=mb(t0,r),o=gg(r),l=f.useRef(null),c=ct(t,l,a.onTriggerChange),d=f.useRef(!1),u=f.useRef(!1),h=f.useCallback(()=>d.current=!1,[]);return f.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),s.jsx(Hf,{asChild:!0,...o,children:s.jsx(Le.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...n,ref:c,onPointerMove:Se(e.onPointerMove,m=>{m.pointerType!=="touch"&&!u.current&&!i.isPointerInTransitRef.current&&(a.onTriggerEnter(),u.current=!0)}),onPointerLeave:Se(e.onPointerLeave,()=>{a.onTriggerLeave(),u.current=!1}),onPointerDown:Se(e.onPointerDown,()=>{a.open&&a.onClose(),d.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:Se(e.onFocus,()=>{d.current||a.onOpen()}),onBlur:Se(e.onBlur,a.onClose),onClick:Se(e.onClick,a.onClose)})})});SE.displayName=t0;var q$="TooltipPortal",[sQ,V$]=pg(q$,{forceMount:void 0}),td="TooltipContent",CE=f.forwardRef((e,t)=>{const r=V$(td,e.__scopeTooltip),{forceMount:n=r.forceMount,side:a="top",...i}=e,o=vg(td,e.__scopeTooltip);return s.jsx(sn,{present:n||o.open,children:o.disableHoverableContent?s.jsx(kE,{side:a,...i,ref:t}):s.jsx(W$,{side:a,...i,ref:t})})}),W$=f.forwardRef((e,t)=>{const r=vg(td,e.__scopeTooltip),n=mb(td,e.__scopeTooltip),a=f.useRef(null),i=ct(t,a),[o,l]=f.useState(null),{trigger:c,onClose:d}=r,u=a.current,{onPointerInTransitChange:h}=n,m=f.useCallback(()=>{l(null),h(!1)},[h]),p=f.useCallback((w,v)=>{const g=w.currentTarget,y={x:w.clientX,y:w.clientY},x=Q$(y,g.getBoundingClientRect()),b=X$(y,x),_=Z$(v.getBoundingClientRect()),N=e5([...b,..._]);l(N),h(!0)},[h]);return f.useEffect(()=>()=>m(),[m]),f.useEffect(()=>{if(c&&u){const w=g=>p(g,u),v=g=>p(g,c);return c.addEventListener("pointerleave",w),u.addEventListener("pointerleave",v),()=>{c.removeEventListener("pointerleave",w),u.removeEventListener("pointerleave",v)}}},[c,u,p,m]),f.useEffect(()=>{if(o){const w=v=>{const g=v.target,y={x:v.clientX,y:v.clientY},x=(c==null?void 0:c.contains(g))||(u==null?void 0:u.contains(g)),b=!J$(y,o);x?m():b&&(m(),d())};return document.addEventListener("pointermove",w),()=>document.removeEventListener("pointermove",w)}},[c,u,o,d,m]),s.jsx(kE,{...e,ref:i})}),[H$,K$]=pg(vf,{isInside:!1}),G$=d2("TooltipContent"),kE=f.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":a,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=e,c=vg(td,r),d=gg(r),{onClose:u}=c;return f.useEffect(()=>(document.addEventListener(e0,u),()=>document.removeEventListener(e0,u)),[u]),f.useEffect(()=>{if(c.trigger){const h=m=>{const p=m.target;p!=null&&p.contains(c.trigger)&&u()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[c.trigger,u]),s.jsx(Pl,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:u,children:s.jsxs(hg,{"data-state":c.stateAttribute,...d,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[s.jsx(G$,{children:n}),s.jsx(H$,{scope:r,isInside:!0,children:s.jsx(x3,{id:c.contentId,role:"tooltip",children:a||n})})]})})});CE.displayName=td;var EE="TooltipArrow",Y$=f.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=gg(r);return K$(EE,r).isInside?null:s.jsx(mg,{...a,...n,ref:t})});Y$.displayName=EE;function Q$(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(r,n,a,i)){case i:return"left";case a:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function X$(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function Z$(e){const{top:t,right:r,bottom:n,left:a}=e;return[{x:a,y:t},{x:r,y:t},{x:r,y:n},{x:a,y:n}]}function J$(e,t){const{x:r,y:n}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],c=t[o],d=l.x,u=l.y,h=c.x,m=c.y;u>n!=m>n&&r<(h-d)*(n-u)/(m-u)+d&&(a=!a)}return a}function e5(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),t5(t)}function t5(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const a=e[n];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))t.pop();else break}t.push(a)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const a=e[n];for(;r.length>=2;){const i=r[r.length-1],o=r[r.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))r.pop();else break}r.push(a)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var r5=_E,n5=NE,s5=SE,PE=CE;const TE=r5,a5=n5,i5=s5,RE=f.forwardRef(({className:e,sideOffset:t=4,...r},n)=>s.jsx(PE,{ref:n,sideOffset:t,className:le("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));RE.displayName=PE.displayName;var kd=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},fl=typeof window>"u"||"Deno"in globalThis;function vn(){}function o5(e,t){return typeof e=="function"?e(t):e}function r0(e){return typeof e=="number"&&e>=0&&e!==1/0}function ME(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Ji(e,t){return typeof e=="function"?e(t):e}function us(e,t){return typeof e=="function"?e(t):e}function rN(e,t){const{type:r="all",exact:n,fetchStatus:a,predicate:i,queryKey:o,stale:l}=e;if(o){if(n){if(t.queryHash!==pb(o,t.options))return!1}else if(!xf(t.queryKey,o))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||a&&a!==t.state.fetchStatus||i&&!i(t))}function nN(e,t){const{exact:r,status:n,predicate:a,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(hl(t.options.mutationKey)!==hl(i))return!1}else if(!xf(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||a&&!a(t))}function pb(e,t){return((t==null?void 0:t.queryKeyHashFn)||hl)(e)}function hl(e){return JSON.stringify(e,(t,r)=>n0(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function xf(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>xf(e[r],t[r])):!1}function AE(e,t){if(e===t)return e;const r=sN(e)&&sN(t);if(r||n0(e)&&n0(t)){const n=r?e:Object.keys(e),a=n.length,i=r?t:Object.keys(t),o=i.length,l=r?[]:{},c=new Set(n);let d=0;for(let u=0;u<o;u++){const h=r?u:i[u];(!r&&c.has(h)||r)&&e[h]===void 0&&t[h]===void 0?(l[h]=void 0,d++):(l[h]=AE(e[h],t[h]),l[h]===e[h]&&e[h]!==void 0&&d++)}return a===o&&d===a?e:l}return t}function up(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function sN(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function n0(e){if(!aN(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!aN(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function aN(e){return Object.prototype.toString.call(e)==="[object Object]"}function l5(e){return new Promise(t=>{setTimeout(t,e)})}function s0(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?AE(e,t):t}function c5(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function d5(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var gb=Symbol();function OE(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===gb?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function DE(e,t){return typeof e=="function"?e(...t):!!e}var Go,Pi,Oc,LS,u5=(LS=class extends kd{constructor(){super();Qe(this,Go);Qe(this,Pi);Qe(this,Oc);Ae(this,Oc,t=>{if(!fl&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){K(this,Pi)||this.setEventListener(K(this,Oc))}onUnsubscribe(){var t;this.hasListeners()||((t=K(this,Pi))==null||t.call(this),Ae(this,Pi,void 0))}setEventListener(t){var r;Ae(this,Oc,t),(r=K(this,Pi))==null||r.call(this),Ae(this,Pi,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){K(this,Go)!==t&&(Ae(this,Go,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof K(this,Go)=="boolean"?K(this,Go):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Go=new WeakMap,Pi=new WeakMap,Oc=new WeakMap,LS),vb=new u5,Dc,Ti,Ic,$S,f5=($S=class extends kd{constructor(){super();Qe(this,Dc,!0);Qe(this,Ti);Qe(this,Ic);Ae(this,Ic,t=>{if(!fl&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){K(this,Ti)||this.setEventListener(K(this,Ic))}onUnsubscribe(){var t;this.hasListeners()||((t=K(this,Ti))==null||t.call(this),Ae(this,Ti,void 0))}setEventListener(t){var r;Ae(this,Ic,t),(r=K(this,Ti))==null||r.call(this),Ae(this,Ti,t(this.setOnline.bind(this)))}setOnline(t){K(this,Dc)!==t&&(Ae(this,Dc,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return K(this,Dc)}},Dc=new WeakMap,Ti=new WeakMap,Ic=new WeakMap,$S),fp=new f5;function a0(){let e,t;const r=new Promise((a,i)=>{e=a,t=i});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),e(a)},r.reject=a=>{n({status:"rejected",reason:a}),t(a)},r}function h5(e){return Math.min(1e3*2**e,3e4)}function IE(e){return(e??"online")==="online"?fp.isOnline():!0}var FE=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function vx(e){return e instanceof FE}function LE(e){let t=!1,r=0,n=!1,a;const i=a0(),o=v=>{var g;n||(m(new FE(v)),(g=e.abort)==null||g.call(e))},l=()=>{t=!0},c=()=>{t=!1},d=()=>vb.isFocused()&&(e.networkMode==="always"||fp.isOnline())&&e.canRun(),u=()=>IE(e.networkMode)&&e.canRun(),h=v=>{var g;n||(n=!0,(g=e.onSuccess)==null||g.call(e,v),a==null||a(),i.resolve(v))},m=v=>{var g;n||(n=!0,(g=e.onError)==null||g.call(e,v),a==null||a(),i.reject(v))},p=()=>new Promise(v=>{var g;a=y=>{(n||d())&&v(y)},(g=e.onPause)==null||g.call(e)}).then(()=>{var v;a=void 0,n||(v=e.onContinue)==null||v.call(e)}),w=()=>{if(n)return;let v;const g=r===0?e.initialPromise:void 0;try{v=g??e.fn()}catch(y){v=Promise.reject(y)}Promise.resolve(v).then(h).catch(y=>{var k;if(n)return;const x=e.retry??(fl?0:3),b=e.retryDelay??h5,_=typeof b=="function"?b(r,y):b,N=x===!0||typeof x=="number"&&r<x||typeof x=="function"&&x(r,y);if(t||!N){m(y);return}r++,(k=e.onFail)==null||k.call(e,r,y),l5(_).then(()=>d()?void 0:p()).then(()=>{t?m(y):w()})})};return{promise:i,cancel:o,continue:()=>(a==null||a(),i),cancelRetry:l,continueRetry:c,canStart:u,start:()=>(u()?w():p().then(w),i)}}var m5=e=>setTimeout(e,0);function p5(){let e=[],t=0,r=l=>{l()},n=l=>{l()},a=m5;const i=l=>{t?e.push(l):a(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&a(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{a=l}}}var Vr=p5(),Yo,zS,$E=(zS=class{constructor(){Qe(this,Yo)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),r0(this.gcTime)&&Ae(this,Yo,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(fl?1/0:5*60*1e3))}clearGcTimeout(){K(this,Yo)&&(clearTimeout(K(this,Yo)),Ae(this,Yo,void 0))}},Yo=new WeakMap,zS),Fc,Qo,ds,Xo,ln,Of,Zo,Os,Ma,US,g5=(US=class extends $E{constructor(t){super();Qe(this,Os);Qe(this,Fc);Qe(this,Qo);Qe(this,ds);Qe(this,Xo);Qe(this,ln);Qe(this,Of);Qe(this,Zo);Ae(this,Zo,!1),Ae(this,Of,t.defaultOptions),this.setOptions(t.options),this.observers=[],Ae(this,Xo,t.client),Ae(this,ds,K(this,Xo).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Ae(this,Fc,v5(this.options)),this.state=t.state??K(this,Fc),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=K(this,ln))==null?void 0:t.promise}setOptions(t){this.options={...K(this,Of),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&K(this,ds).remove(this)}setData(t,r){const n=s0(this.state.data,t,this.options);return mt(this,Os,Ma).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){mt(this,Os,Ma).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,a;const r=(n=K(this,ln))==null?void 0:n.promise;return(a=K(this,ln))==null||a.cancel(t),r?r.then(vn).catch(vn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(K(this,Fc))}isActive(){return this.observers.some(t=>us(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===gb||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Ji(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!ME(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=K(this,ln))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=K(this,ln))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),K(this,ds).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(K(this,ln)&&(K(this,Zo)?K(this,ln).cancel({revert:!0}):K(this,ln).cancelRetry()),this.scheduleGc()),K(this,ds).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||mt(this,Os,Ma).call(this,{type:"invalidate"})}fetch(t,r){var d,u,h;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(K(this,ln))return K(this,ln).continueRetry(),K(this,ln).promise}if(t&&this.setOptions(t),!this.options.queryFn){const m=this.observers.find(p=>p.options.queryFn);m&&this.setOptions(m.options)}const n=new AbortController,a=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(Ae(this,Zo,!0),n.signal)})},i=()=>{const m=OE(this.options,r),w=(()=>{const v={client:K(this,Xo),queryKey:this.queryKey,meta:this.meta};return a(v),v})();return Ae(this,Zo,!1),this.options.persister?this.options.persister(m,w,this):m(w)},l=(()=>{const m={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:K(this,Xo),state:this.state,fetchFn:i};return a(m),m})();(d=this.options.behavior)==null||d.onFetch(l,this),Ae(this,Qo,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=l.fetchOptions)==null?void 0:u.meta))&&mt(this,Os,Ma).call(this,{type:"fetch",meta:(h=l.fetchOptions)==null?void 0:h.meta});const c=m=>{var p,w,v,g;vx(m)&&m.silent||mt(this,Os,Ma).call(this,{type:"error",error:m}),vx(m)||((w=(p=K(this,ds).config).onError)==null||w.call(p,m,this),(g=(v=K(this,ds).config).onSettled)==null||g.call(v,this.state.data,m,this)),this.scheduleGc()};return Ae(this,ln,LE({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,abort:n.abort.bind(n),onSuccess:m=>{var p,w,v,g;if(m===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(m)}catch(y){c(y);return}(w=(p=K(this,ds).config).onSuccess)==null||w.call(p,m,this),(g=(v=K(this,ds).config).onSettled)==null||g.call(v,m,this.state.error,this),this.scheduleGc()},onError:c,onFail:(m,p)=>{mt(this,Os,Ma).call(this,{type:"failed",failureCount:m,error:p})},onPause:()=>{mt(this,Os,Ma).call(this,{type:"pause"})},onContinue:()=>{mt(this,Os,Ma).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),K(this,ln).start()}},Fc=new WeakMap,Qo=new WeakMap,ds=new WeakMap,Xo=new WeakMap,ln=new WeakMap,Of=new WeakMap,Zo=new WeakMap,Os=new WeakSet,Ma=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...zE(n.data,this.options),fetchMeta:t.meta??null};case"success":return Ae(this,Qo,void 0),{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=t.error;return vx(a)&&a.revert&&K(this,Qo)?{...K(this,Qo),fetchStatus:"idle"}:{...n,error:a,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),Vr.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),K(this,ds).notify({query:this,type:"updated",action:t})})},US);function zE(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:IE(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function v5(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var aa,BS,x5=(BS=class extends kd{constructor(t={}){super();Qe(this,aa);this.config=t,Ae(this,aa,new Map)}build(t,r,n){const a=r.queryKey,i=r.queryHash??pb(a,r);let o=this.get(i);return o||(o=new g5({client:t,queryKey:a,queryHash:i,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(a)}),this.add(o)),o}add(t){K(this,aa).has(t.queryHash)||(K(this,aa).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=K(this,aa).get(t.queryHash);r&&(t.destroy(),r===t&&K(this,aa).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Vr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return K(this,aa).get(t)}getAll(){return[...K(this,aa).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>rN(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>rN(t,n)):r}notify(t){Vr.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){Vr.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Vr.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},aa=new WeakMap,BS),ia,mn,Jo,oa,wi,qS,y5=(qS=class extends $E{constructor(t){super();Qe(this,oa);Qe(this,ia);Qe(this,mn);Qe(this,Jo);this.mutationId=t.mutationId,Ae(this,mn,t.mutationCache),Ae(this,ia,[]),this.state=t.state||UE(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){K(this,ia).includes(t)||(K(this,ia).push(t),this.clearGcTimeout(),K(this,mn).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Ae(this,ia,K(this,ia).filter(r=>r!==t)),this.scheduleGc(),K(this,mn).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){K(this,ia).length||(this.state.status==="pending"?this.scheduleGc():K(this,mn).remove(this))}continue(){var t;return((t=K(this,Jo))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,o,l,c,d,u,h,m,p,w,v,g,y,x,b,_,N,k,S,R;const r=()=>{mt(this,oa,wi).call(this,{type:"continue"})};Ae(this,Jo,LE({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(U,B)=>{mt(this,oa,wi).call(this,{type:"failed",failureCount:U,error:B})},onPause:()=>{mt(this,oa,wi).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>K(this,mn).canRun(this)}));const n=this.state.status==="pending",a=!K(this,Jo).canStart();try{if(n)r();else{mt(this,oa,wi).call(this,{type:"pending",variables:t,isPaused:a}),await((o=(i=K(this,mn).config).onMutate)==null?void 0:o.call(i,t,this));const B=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,t));B!==this.state.context&&mt(this,oa,wi).call(this,{type:"pending",context:B,variables:t,isPaused:a})}const U=await K(this,Jo).start();return await((u=(d=K(this,mn).config).onSuccess)==null?void 0:u.call(d,U,t,this.state.context,this)),await((m=(h=this.options).onSuccess)==null?void 0:m.call(h,U,t,this.state.context)),await((w=(p=K(this,mn).config).onSettled)==null?void 0:w.call(p,U,null,this.state.variables,this.state.context,this)),await((g=(v=this.options).onSettled)==null?void 0:g.call(v,U,null,t,this.state.context)),mt(this,oa,wi).call(this,{type:"success",data:U}),U}catch(U){try{throw await((x=(y=K(this,mn).config).onError)==null?void 0:x.call(y,U,t,this.state.context,this)),await((_=(b=this.options).onError)==null?void 0:_.call(b,U,t,this.state.context)),await((k=(N=K(this,mn).config).onSettled)==null?void 0:k.call(N,void 0,U,this.state.variables,this.state.context,this)),await((R=(S=this.options).onSettled)==null?void 0:R.call(S,void 0,U,t,this.state.context)),U}finally{mt(this,oa,wi).call(this,{type:"error",error:U})}}finally{K(this,mn).runNext(this)}}},ia=new WeakMap,mn=new WeakMap,Jo=new WeakMap,oa=new WeakSet,wi=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Vr.batch(()=>{K(this,ia).forEach(n=>{n.onMutationUpdate(t)}),K(this,mn).notify({mutation:this,type:"updated",action:t})})},qS);function UE(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ba,Ds,Df,VS,w5=(VS=class extends kd{constructor(t={}){super();Qe(this,Ba);Qe(this,Ds);Qe(this,Df);this.config=t,Ae(this,Ba,new Set),Ae(this,Ds,new Map),Ae(this,Df,0)}build(t,r,n){const a=new y5({mutationCache:this,mutationId:++kh(this,Df)._,options:t.defaultMutationOptions(r),state:n});return this.add(a),a}add(t){K(this,Ba).add(t);const r=Qh(t);if(typeof r=="string"){const n=K(this,Ds).get(r);n?n.push(t):K(this,Ds).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(K(this,Ba).delete(t)){const r=Qh(t);if(typeof r=="string"){const n=K(this,Ds).get(r);if(n)if(n.length>1){const a=n.indexOf(t);a!==-1&&n.splice(a,1)}else n[0]===t&&K(this,Ds).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=Qh(t);if(typeof r=="string"){const n=K(this,Ds).get(r),a=n==null?void 0:n.find(i=>i.state.status==="pending");return!a||a===t}else return!0}runNext(t){var n;const r=Qh(t);if(typeof r=="string"){const a=(n=K(this,Ds).get(r))==null?void 0:n.find(i=>i!==t&&i.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Vr.batch(()=>{K(this,Ba).forEach(t=>{this.notify({type:"removed",mutation:t})}),K(this,Ba).clear(),K(this,Ds).clear()})}getAll(){return Array.from(K(this,Ba))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>nN(r,n))}findAll(t={}){return this.getAll().filter(r=>nN(t,r))}notify(t){Vr.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return Vr.batch(()=>Promise.all(t.map(r=>r.continue().catch(vn))))}},Ba=new WeakMap,Ds=new WeakMap,Df=new WeakMap,VS);function Qh(e){var t;return(t=e.options.scope)==null?void 0:t.id}function hp(e){return{onFetch:(t,r)=>{var u,h,m,p,w;const n=t.options,a=(m=(h=(u=t.fetchOptions)==null?void 0:u.meta)==null?void 0:h.fetchMore)==null?void 0:m.direction,i=((p=t.state.data)==null?void 0:p.pages)||[],o=((w=t.state.data)==null?void 0:w.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const d=async()=>{let v=!1;const g=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(t.signal.aborted?v=!0:t.signal.addEventListener("abort",()=>{v=!0}),t.signal)})},y=OE(t.options,t.fetchOptions),x=async(b,_,N)=>{if(v)return Promise.reject();if(_==null&&b.pages.length)return Promise.resolve(b);const S=(()=>{const re={client:t.client,queryKey:t.queryKey,pageParam:_,direction:N?"backward":"forward",meta:t.options.meta};return g(re),re})(),R=await y(S),{maxPages:U}=t.options,B=N?d5:c5;return{pages:B(b.pages,R,U),pageParams:B(b.pageParams,_,U)}};if(a&&i.length){const b=a==="backward",_=b?BE:i0,N={pages:i,pageParams:o},k=_(n,N);l=await x(N,k,b)}else{const b=e??i.length;do{const _=c===0?o[0]??n.initialPageParam:i0(n,l);if(c>0&&_==null)break;l=await x(l,_),c++}while(c<b)}return l};t.options.persister?t.fetchFn=()=>{var v,g;return(g=(v=t.options).persister)==null?void 0:g.call(v,d,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=d}}}function i0(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function BE(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}function b5(e,t){return t?i0(e,t)!=null:!1}function j5(e,t){return!t||!e.getPreviousPageParam?!1:BE(e,t)!=null}var yr,Ri,Mi,Lc,$c,Ai,zc,Uc,WS,_5=(WS=class{constructor(e={}){Qe(this,yr);Qe(this,Ri);Qe(this,Mi);Qe(this,Lc);Qe(this,$c);Qe(this,Ai);Qe(this,zc);Qe(this,Uc);Ae(this,yr,e.queryCache||new x5),Ae(this,Ri,e.mutationCache||new w5),Ae(this,Mi,e.defaultOptions||{}),Ae(this,Lc,new Map),Ae(this,$c,new Map),Ae(this,Ai,0)}mount(){kh(this,Ai)._++,K(this,Ai)===1&&(Ae(this,zc,vb.subscribe(async e=>{e&&(await this.resumePausedMutations(),K(this,yr).onFocus())})),Ae(this,Uc,fp.subscribe(async e=>{e&&(await this.resumePausedMutations(),K(this,yr).onOnline())})))}unmount(){var e,t;kh(this,Ai)._--,K(this,Ai)===0&&((e=K(this,zc))==null||e.call(this),Ae(this,zc,void 0),(t=K(this,Uc))==null||t.call(this),Ae(this,Uc,void 0))}isFetching(e){return K(this,yr).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return K(this,Ri).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=K(this,yr).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=K(this,yr).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Ji(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return K(this,yr).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),a=K(this,yr).get(n.queryHash),i=a==null?void 0:a.state.data,o=o5(t,i);if(o!==void 0)return K(this,yr).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return Vr.batch(()=>K(this,yr).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=K(this,yr).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=K(this,yr);Vr.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=K(this,yr);return Vr.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=Vr.batch(()=>K(this,yr).findAll(e).map(a=>a.cancel(r)));return Promise.all(n).then(vn).catch(vn)}invalidateQueries(e,t={}){return Vr.batch(()=>(K(this,yr).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=Vr.batch(()=>K(this,yr).findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let i=a.fetch(void 0,r);return r.throwOnError||(i=i.catch(vn)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(vn)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=K(this,yr).build(this,t);return r.isStaleByTime(Ji(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(vn).catch(vn)}fetchInfiniteQuery(e){return e.behavior=hp(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(vn).catch(vn)}ensureInfiniteQueryData(e){return e.behavior=hp(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return fp.isOnline()?K(this,Ri).resumePausedMutations():Promise.resolve()}getQueryCache(){return K(this,yr)}getMutationCache(){return K(this,Ri)}getDefaultOptions(){return K(this,Mi)}setDefaultOptions(e){Ae(this,Mi,e)}setQueryDefaults(e,t){K(this,Lc).set(hl(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...K(this,Lc).values()],r={};return t.forEach(n=>{xf(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){K(this,$c).set(hl(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...K(this,$c).values()],r={};return t.forEach(n=>{xf(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...K(this,Mi).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=pb(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===gb&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...K(this,Mi).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){K(this,yr).clear(),K(this,Ri).clear()}},yr=new WeakMap,Ri=new WeakMap,Mi=new WeakMap,Lc=new WeakMap,$c=new WeakMap,Ai=new WeakMap,zc=new WeakMap,Uc=new WeakMap,WS),Pn,Ct,If,pn,el,Bc,Oi,Di,Ff,qc,Vc,tl,rl,Ii,Wc,zt,Nu,o0,l0,c0,d0,u0,f0,h0,VE,HS,qE=(HS=class extends kd{constructor(t,r){super();Qe(this,zt);Qe(this,Pn);Qe(this,Ct);Qe(this,If);Qe(this,pn);Qe(this,el);Qe(this,Bc);Qe(this,Oi);Qe(this,Di);Qe(this,Ff);Qe(this,qc);Qe(this,Vc);Qe(this,tl);Qe(this,rl);Qe(this,Ii);Qe(this,Wc,new Set);this.options=r,Ae(this,Pn,t),Ae(this,Di,null),Ae(this,Oi,a0()),this.options.experimental_prefetchInRender||K(this,Oi).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(K(this,Ct).addObserver(this),iN(K(this,Ct),this.options)?mt(this,zt,Nu).call(this):this.updateResult(),mt(this,zt,d0).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return m0(K(this,Ct),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return m0(K(this,Ct),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,mt(this,zt,u0).call(this),mt(this,zt,f0).call(this),K(this,Ct).removeObserver(this)}setOptions(t){const r=this.options,n=K(this,Ct);if(this.options=K(this,Pn).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof us(this.options.enabled,K(this,Ct))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");mt(this,zt,h0).call(this),K(this,Ct).setOptions(this.options),r._defaulted&&!up(this.options,r)&&K(this,Pn).getQueryCache().notify({type:"observerOptionsUpdated",query:K(this,Ct),observer:this});const a=this.hasListeners();a&&oN(K(this,Ct),n,this.options,r)&&mt(this,zt,Nu).call(this),this.updateResult(),a&&(K(this,Ct)!==n||us(this.options.enabled,K(this,Ct))!==us(r.enabled,K(this,Ct))||Ji(this.options.staleTime,K(this,Ct))!==Ji(r.staleTime,K(this,Ct)))&&mt(this,zt,o0).call(this);const i=mt(this,zt,l0).call(this);a&&(K(this,Ct)!==n||us(this.options.enabled,K(this,Ct))!==us(r.enabled,K(this,Ct))||i!==K(this,Ii))&&mt(this,zt,c0).call(this,i)}getOptimisticResult(t){const r=K(this,Pn).getQueryCache().build(K(this,Pn),t),n=this.createResult(r,t);return S5(this,n)&&(Ae(this,pn,n),Ae(this,Bc,this.options),Ae(this,el,K(this,Ct).state)),n}getCurrentResult(){return K(this,pn)}trackResult(t,r){return new Proxy(t,{get:(n,a)=>(this.trackProp(a),r==null||r(a),Reflect.get(n,a))})}trackProp(t){K(this,Wc).add(t)}getCurrentQuery(){return K(this,Ct)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=K(this,Pn).defaultQueryOptions(t),n=K(this,Pn).getQueryCache().build(K(this,Pn),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return mt(this,zt,Nu).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),K(this,pn)))}createResult(t,r){var U;const n=K(this,Ct),a=this.options,i=K(this,pn),o=K(this,el),l=K(this,Bc),d=t!==n?t.state:K(this,If),{state:u}=t;let h={...u},m=!1,p;if(r._optimisticResults){const B=this.hasListeners(),re=!B&&iN(t,r),G=B&&oN(t,n,r,a);(re||G)&&(h={...h,...zE(u.data,t.options)}),r._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:w,errorUpdatedAt:v,status:g}=h;p=h.data;let y=!1;if(r.placeholderData!==void 0&&p===void 0&&g==="pending"){let B;i!=null&&i.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData)?(B=i.data,y=!0):B=typeof r.placeholderData=="function"?r.placeholderData((U=K(this,Vc))==null?void 0:U.state.data,K(this,Vc)):r.placeholderData,B!==void 0&&(g="success",p=s0(i==null?void 0:i.data,B,r),m=!0)}if(r.select&&p!==void 0&&!y)if(i&&p===(o==null?void 0:o.data)&&r.select===K(this,Ff))p=K(this,qc);else try{Ae(this,Ff,r.select),p=r.select(p),p=s0(i==null?void 0:i.data,p,r),Ae(this,qc,p),Ae(this,Di,null)}catch(B){Ae(this,Di,B)}K(this,Di)&&(w=K(this,Di),p=K(this,qc),v=Date.now(),g="error");const x=h.fetchStatus==="fetching",b=g==="pending",_=g==="error",N=b&&x,k=p!==void 0,R={status:g,fetchStatus:h.fetchStatus,isPending:b,isSuccess:g==="success",isError:_,isInitialLoading:N,isLoading:N,data:p,dataUpdatedAt:h.dataUpdatedAt,error:w,errorUpdatedAt:v,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>d.dataUpdateCount||h.errorUpdateCount>d.errorUpdateCount,isFetching:x,isRefetching:x&&!b,isLoadingError:_&&!k,isPaused:h.fetchStatus==="paused",isPlaceholderData:m,isRefetchError:_&&k,isStale:xb(t,r),refetch:this.refetch,promise:K(this,Oi),isEnabled:us(r.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const B=H=>{R.status==="error"?H.reject(R.error):R.data!==void 0&&H.resolve(R.data)},re=()=>{const H=Ae(this,Oi,R.promise=a0());B(H)},G=K(this,Oi);switch(G.status){case"pending":t.queryHash===n.queryHash&&B(G);break;case"fulfilled":(R.status==="error"||R.data!==G.value)&&re();break;case"rejected":(R.status!=="error"||R.error!==G.reason)&&re();break}}return R}updateResult(){const t=K(this,pn),r=this.createResult(K(this,Ct),this.options);if(Ae(this,el,K(this,Ct).state),Ae(this,Bc,this.options),K(this,el).data!==void 0&&Ae(this,Vc,K(this,Ct)),up(r,t))return;Ae(this,pn,r);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:a}=this.options,i=typeof a=="function"?a():a;if(i==="all"||!i&&!K(this,Wc).size)return!0;const o=new Set(i??K(this,Wc));return this.options.throwOnError&&o.add("error"),Object.keys(K(this,pn)).some(l=>{const c=l;return K(this,pn)[c]!==t[c]&&o.has(c)})};mt(this,zt,VE).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&mt(this,zt,d0).call(this)}},Pn=new WeakMap,Ct=new WeakMap,If=new WeakMap,pn=new WeakMap,el=new WeakMap,Bc=new WeakMap,Oi=new WeakMap,Di=new WeakMap,Ff=new WeakMap,qc=new WeakMap,Vc=new WeakMap,tl=new WeakMap,rl=new WeakMap,Ii=new WeakMap,Wc=new WeakMap,zt=new WeakSet,Nu=function(t){mt(this,zt,h0).call(this);let r=K(this,Ct).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(vn)),r},o0=function(){mt(this,zt,u0).call(this);const t=Ji(this.options.staleTime,K(this,Ct));if(fl||K(this,pn).isStale||!r0(t))return;const n=ME(K(this,pn).dataUpdatedAt,t)+1;Ae(this,tl,setTimeout(()=>{K(this,pn).isStale||this.updateResult()},n))},l0=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(K(this,Ct)):this.options.refetchInterval)??!1},c0=function(t){mt(this,zt,f0).call(this),Ae(this,Ii,t),!(fl||us(this.options.enabled,K(this,Ct))===!1||!r0(K(this,Ii))||K(this,Ii)===0)&&Ae(this,rl,setInterval(()=>{(this.options.refetchIntervalInBackground||vb.isFocused())&&mt(this,zt,Nu).call(this)},K(this,Ii)))},d0=function(){mt(this,zt,o0).call(this),mt(this,zt,c0).call(this,mt(this,zt,l0).call(this))},u0=function(){K(this,tl)&&(clearTimeout(K(this,tl)),Ae(this,tl,void 0))},f0=function(){K(this,rl)&&(clearInterval(K(this,rl)),Ae(this,rl,void 0))},h0=function(){const t=K(this,Pn).getQueryCache().build(K(this,Pn),this.options);if(t===K(this,Ct))return;const r=K(this,Ct);Ae(this,Ct,t),Ae(this,If,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},VE=function(t){Vr.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(K(this,pn))}),K(this,Pn).getQueryCache().notify({query:K(this,Ct),type:"observerResultsUpdated"})})},HS);function N5(e,t){return us(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function iN(e,t){return N5(e,t)||e.state.data!==void 0&&m0(e,t,t.refetchOnMount)}function m0(e,t,r){if(us(t.enabled,e)!==!1&&Ji(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&xb(e,t)}return!1}function oN(e,t,r,n){return(e!==t||us(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&xb(e,r)}function xb(e,t){return us(t.enabled,e)!==!1&&e.isStaleByTime(Ji(t.staleTime,e))}function S5(e,t){return!up(e.getCurrentResult(),t)}var C5=class extends qE{constructor(e,t){super(e,t)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(e){super.setOptions({...e,behavior:hp()})}getOptimisticResult(e){return e.behavior=hp(),super.getOptimisticResult(e)}fetchNextPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"forward"}}})}fetchPreviousPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"backward"}}})}createResult(e,t){var w,v;const{state:r}=e,n=super.createResult(e,t),{isFetching:a,isRefetching:i,isError:o,isRefetchError:l}=n,c=(v=(w=r.fetchMeta)==null?void 0:w.fetchMore)==null?void 0:v.direction,d=o&&c==="forward",u=a&&c==="forward",h=o&&c==="backward",m=a&&c==="backward";return{...n,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:b5(t,r.data),hasPreviousPage:j5(t,r.data),isFetchNextPageError:d,isFetchingNextPage:u,isFetchPreviousPageError:h,isFetchingPreviousPage:m,isRefetchError:l&&!d&&!h,isRefetching:i&&!u&&!m}}},Fi,Li,Tn,qa,Za,Em,p0,KS,k5=(KS=class extends kd{constructor(r,n){super();Qe(this,Za);Qe(this,Fi);Qe(this,Li);Qe(this,Tn);Qe(this,qa);Ae(this,Fi,r),this.setOptions(n),this.bindMethods(),mt(this,Za,Em).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var a;const n=this.options;this.options=K(this,Fi).defaultMutationOptions(r),up(this.options,n)||K(this,Fi).getMutationCache().notify({type:"observerOptionsUpdated",mutation:K(this,Tn),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&hl(n.mutationKey)!==hl(this.options.mutationKey)?this.reset():((a=K(this,Tn))==null?void 0:a.state.status)==="pending"&&K(this,Tn).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=K(this,Tn))==null||r.removeObserver(this)}onMutationUpdate(r){mt(this,Za,Em).call(this),mt(this,Za,p0).call(this,r)}getCurrentResult(){return K(this,Li)}reset(){var r;(r=K(this,Tn))==null||r.removeObserver(this),Ae(this,Tn,void 0),mt(this,Za,Em).call(this),mt(this,Za,p0).call(this)}mutate(r,n){var a;return Ae(this,qa,n),(a=K(this,Tn))==null||a.removeObserver(this),Ae(this,Tn,K(this,Fi).getMutationCache().build(K(this,Fi),this.options)),K(this,Tn).addObserver(this),K(this,Tn).execute(r)}},Fi=new WeakMap,Li=new WeakMap,Tn=new WeakMap,qa=new WeakMap,Za=new WeakSet,Em=function(){var n;const r=((n=K(this,Tn))==null?void 0:n.state)??UE();Ae(this,Li,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},p0=function(r){Vr.batch(()=>{var n,a,i,o,l,c,d,u;if(K(this,qa)&&this.hasListeners()){const h=K(this,Li).variables,m=K(this,Li).context;(r==null?void 0:r.type)==="success"?((a=(n=K(this,qa)).onSuccess)==null||a.call(n,r.data,h,m),(o=(i=K(this,qa)).onSettled)==null||o.call(i,r.data,null,h,m)):(r==null?void 0:r.type)==="error"&&((c=(l=K(this,qa)).onError)==null||c.call(l,r.error,h,m),(u=(d=K(this,qa)).onSettled)==null||u.call(d,void 0,r.error,h,m))}this.listeners.forEach(h=>{h(K(this,Li))})})},KS),WE=f.createContext(void 0),is=e=>{const t=f.useContext(WE);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},E5=({client:e,children:t})=>(f.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),s.jsx(WE.Provider,{value:e,children:t})),HE=f.createContext(!1),P5=()=>f.useContext(HE);HE.Provider;function T5(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var R5=f.createContext(T5()),M5=()=>f.useContext(R5),A5=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},O5=e=>{f.useEffect(()=>{e.clearReset()},[e])},D5=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(a&&e.data===void 0||DE(r,[e.error,n])),I5=e=>{if(e.suspense){const t=n=>n==="static"?n:Math.max(n??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...n)=>t(r(...n)):t(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},F5=(e,t)=>e.isLoading&&e.isFetching&&!t,L5=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,lN=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function KE(e,t,r){var h,m,p,w,v;const n=P5(),a=M5(),i=is(),o=i.defaultQueryOptions(e);(m=(h=i.getDefaultOptions().queries)==null?void 0:h._experimental_beforeQuery)==null||m.call(h,o),o._optimisticResults=n?"isRestoring":"optimistic",I5(o),A5(o,a),O5(a);const l=!i.getQueryCache().get(o.queryHash),[c]=f.useState(()=>new t(i,o)),d=c.getOptimisticResult(o),u=!n&&e.subscribed!==!1;if(f.useSyncExternalStore(f.useCallback(g=>{const y=u?c.subscribe(Vr.batchCalls(g)):vn;return c.updateResult(),y},[c,u]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),f.useEffect(()=>{c.setOptions(o)},[o,c]),L5(o,d))throw lN(o,c,a);if(D5({result:d,errorResetBoundary:a,throwOnError:o.throwOnError,query:i.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw d.error;if((w=(p=i.getDefaultOptions().queries)==null?void 0:p._experimental_afterQuery)==null||w.call(p,o,d),o.experimental_prefetchInRender&&!fl&&F5(d,n)){const g=l?lN(o,c,a):(v=i.getQueryCache().get(o.queryHash))==null?void 0:v.promise;g==null||g.catch(vn).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?d:c.trackResult(d)}function Ze(e,t){return KE(e,qE)}function ii(e,t){const r=is(),[n]=f.useState(()=>new k5(r,e));f.useEffect(()=>{n.setOptions(e)},[n,e]);const a=f.useSyncExternalStore(f.useCallback(o=>n.subscribe(Vr.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=f.useCallback((o,l)=>{n.mutate(o,l).catch(vn)},[n]);if(a.error&&DE(n.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:i,mutateAsync:a.mutate}}function js(e,t){return KE(e,C5)}/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yf(){return yf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yf.apply(this,arguments)}var Ui;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ui||(Ui={}));const cN="popstate";function $5(e){e===void 0&&(e={});function t(n,a){let{pathname:i,search:o,hash:l}=n.location;return g0("",{pathname:i,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:mp(a)}return U5(t,r,null,e)}function pr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function GE(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function z5(){return Math.random().toString(36).substr(2,8)}function dN(e,t){return{usr:e.state,key:e.key,idx:t}}function g0(e,t,r,n){return r===void 0&&(r=null),yf({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Ed(t):t,{state:r,key:t&&t.key||n||z5()})}function mp(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Ed(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function U5(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:i=!1}=n,o=a.history,l=Ui.Pop,c=null,d=u();d==null&&(d=0,o.replaceState(yf({},o.state,{idx:d}),""));function u(){return(o.state||{idx:null}).idx}function h(){l=Ui.Pop;let g=u(),y=g==null?null:g-d;d=g,c&&c({action:l,location:v.location,delta:y})}function m(g,y){l=Ui.Push;let x=g0(v.location,g,y);d=u()+1;let b=dN(x,d),_=v.createHref(x);try{o.pushState(b,"",_)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;a.location.assign(_)}i&&c&&c({action:l,location:v.location,delta:1})}function p(g,y){l=Ui.Replace;let x=g0(v.location,g,y);d=u();let b=dN(x,d),_=v.createHref(x);o.replaceState(b,"",_),i&&c&&c({action:l,location:v.location,delta:0})}function w(g){let y=a.location.origin!=="null"?a.location.origin:a.location.href,x=typeof g=="string"?g:mp(g);return x=x.replace(/ $/,"%20"),pr(y,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,y)}let v={get action(){return l},get location(){return e(a,o)},listen(g){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(cN,h),c=g,()=>{a.removeEventListener(cN,h),c=null}},createHref(g){return t(a,g)},createURL:w,encodeLocation(g){let y=w(g);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:m,replace:p,go(g){return o.go(g)}};return v}var uN;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(uN||(uN={}));function B5(e,t,r){return r===void 0&&(r="/"),q5(e,t,r,!1)}function q5(e,t,r,n){let a=typeof t=="string"?Ed(t):t,i=rd(a.pathname||"/",r);if(i==null)return null;let o=YE(e);V5(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=t6(i);l=J5(o[c],d,n)}return l}function YE(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(pr(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let d=eo([n,c.relativePath]),u=r.concat(c);i.children&&i.children.length>0&&(pr(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),YE(i.children,t,u,d)),!(i.path==null&&!i.index)&&t.push({path:d,score:X5(d,i.index),routesMeta:u})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))a(i,o);else for(let c of QE(i.path))a(i,o,c)}),t}function QE(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let o=QE(n.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),a&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function V5(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Z5(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const W5=/^:[\w-]+$/,H5=3,K5=2,G5=1,Y5=10,Q5=-2,fN=e=>e==="*";function X5(e,t){let r=e.split("/"),n=r.length;return r.some(fN)&&(n+=Q5),t&&(n+=K5),r.filter(a=>!fN(a)).reduce((a,i)=>a+(W5.test(i)?H5:i===""?G5:Y5),n)}function Z5(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function J5(e,t,r){let{routesMeta:n}=e,a={},i="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],d=l===n.length-1,u=i==="/"?t:t.slice(i.length)||"/",h=pp({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),m=c.route;if(!h&&d&&r&&!n[n.length-1].route.index&&(h=pp({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},u)),!h)return null;Object.assign(a,h.params),o.push({params:a,pathname:eo([i,h.pathname]),pathnameBase:a6(eo([i,h.pathnameBase])),route:m}),h.pathnameBase!=="/"&&(i=eo([i,h.pathnameBase]))}return o}function pp(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=e6(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((d,u,h)=>{let{paramName:m,isOptional:p}=u;if(m==="*"){let v=l[h]||"";o=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const w=l[h];return p&&!w?d[m]=void 0:d[m]=(w||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:e}}function e6(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),GE(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function t6(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return GE(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function rd(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function r6(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?Ed(e):e;return{pathname:r?r.startsWith("/")?r:n6(r,t):t,search:i6(n),hash:o6(a)}}function n6(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function xx(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function s6(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function yb(e,t){let r=s6(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function wb(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=Ed(e):(a=yf({},e),pr(!a.pathname||!a.pathname.includes("?"),xx("?","pathname","search",a)),pr(!a.pathname||!a.pathname.includes("#"),xx("#","pathname","hash",a)),pr(!a.search||!a.search.includes("#"),xx("#","search","hash",a)));let i=e===""||a.pathname==="",o=i?"/":a.pathname,l;if(o==null)l=r;else{let h=t.length-1;if(!n&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),h-=1;a.pathname=m.join("/")}l=h>=0?t[h]:"/"}let c=r6(a,l),d=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}const eo=e=>e.join("/").replace(/\/\/+/g,"/"),a6=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),i6=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,o6=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function l6(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const XE=["post","put","patch","delete"];new Set(XE);const c6=["get",...XE];new Set(c6);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wf(){return wf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wf.apply(this,arguments)}const xg=f.createContext(null),ZE=f.createContext(null),di=f.createContext(null),yg=f.createContext(null),Sa=f.createContext({outlet:null,matches:[],isDataRoute:!1}),JE=f.createContext(null);function d6(e,t){let{relative:r}=t===void 0?{}:t;Pd()||pr(!1);let{basename:n,navigator:a}=f.useContext(di),{hash:i,pathname:o,search:l}=wg(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:eo([n,o])),a.createHref({pathname:c,search:l,hash:i})}function Pd(){return f.useContext(yg)!=null}function Xs(){return Pd()||pr(!1),f.useContext(yg).location}function eP(e){f.useContext(di).static||f.useLayoutEffect(e)}function Or(){let{isDataRoute:e}=f.useContext(Sa);return e?S6():u6()}function u6(){Pd()||pr(!1);let e=f.useContext(xg),{basename:t,future:r,navigator:n}=f.useContext(di),{matches:a}=f.useContext(Sa),{pathname:i}=Xs(),o=JSON.stringify(yb(a,r.v7_relativeSplatPath)),l=f.useRef(!1);return eP(()=>{l.current=!0}),f.useCallback(function(d,u){if(u===void 0&&(u={}),!l.current)return;if(typeof d=="number"){n.go(d);return}let h=wb(d,JSON.parse(o),i,u.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:eo([t,h.pathname])),(u.replace?n.replace:n.push)(h,u.state,u)},[t,n,o,i,e])}const f6=f.createContext(null);function h6(e){let t=f.useContext(Sa).outlet;return t&&f.createElement(f6.Provider,{value:e},t)}function bb(){let{matches:e}=f.useContext(Sa),t=e[e.length-1];return t?t.params:{}}function wg(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=f.useContext(di),{matches:a}=f.useContext(Sa),{pathname:i}=Xs(),o=JSON.stringify(yb(a,n.v7_relativeSplatPath));return f.useMemo(()=>wb(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function m6(e,t){return p6(e,t)}function p6(e,t,r,n){Pd()||pr(!1);let{navigator:a}=f.useContext(di),{matches:i}=f.useContext(Sa),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let d=Xs(),u;if(t){var h;let g=typeof t=="string"?Ed(t):t;c==="/"||(h=g.pathname)!=null&&h.startsWith(c)||pr(!1),u=g}else u=d;let m=u.pathname||"/",p=m;if(c!=="/"){let g=c.replace(/^\//,"").split("/");p="/"+m.replace(/^\//,"").split("/").slice(g.length).join("/")}let w=B5(e,{pathname:p}),v=w6(w&&w.map(g=>Object.assign({},g,{params:Object.assign({},l,g.params),pathname:eo([c,a.encodeLocation?a.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?c:eo([c,a.encodeLocation?a.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),i,r,n);return t&&v?f.createElement(yg.Provider,{value:{location:wf({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Ui.Pop}},v):v}function g6(){let e=N6(),t=l6(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return f.createElement(f.Fragment,null,f.createElement("h2",null,"Unexpected Application Error!"),f.createElement("h3",{style:{fontStyle:"italic"}},t),r?f.createElement("pre",{style:a},r):null,null)}const v6=f.createElement(g6,null);class x6 extends f.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?f.createElement(Sa.Provider,{value:this.props.routeContext},f.createElement(JE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function y6(e){let{routeContext:t,match:r,children:n}=e,a=f.useContext(xg);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),f.createElement(Sa.Provider,{value:t},n)}function w6(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(a=r)==null?void 0:a.errors;if(l!=null){let u=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);u>=0||pr(!1),o=o.slice(0,Math.min(o.length,u+1))}let c=!1,d=-1;if(r&&n&&n.v7_partialHydration)for(let u=0;u<o.length;u++){let h=o[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(d=u),h.route.id){let{loaderData:m,errors:p}=r,w=h.route.loader&&m[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||w){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((u,h,m)=>{let p,w=!1,v=null,g=null;r&&(p=l&&h.route.id?l[h.route.id]:void 0,v=h.route.errorElement||v6,c&&(d<0&&m===0?(w=!0,g=null):d===m&&(w=!0,g=h.route.hydrateFallbackElement||null)));let y=t.concat(o.slice(0,m+1)),x=()=>{let b;return p?b=v:w?b=g:h.route.Component?b=f.createElement(h.route.Component,null):h.route.element?b=h.route.element:b=u,f.createElement(y6,{match:h,routeContext:{outlet:u,matches:y,isDataRoute:r!=null},children:b})};return r&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?f.createElement(x6,{location:r.location,revalidation:r.revalidation,component:v,error:p,children:x(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):x()},null)}var tP=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(tP||{}),gp=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(gp||{});function b6(e){let t=f.useContext(xg);return t||pr(!1),t}function j6(e){let t=f.useContext(ZE);return t||pr(!1),t}function _6(e){let t=f.useContext(Sa);return t||pr(!1),t}function rP(e){let t=_6(),r=t.matches[t.matches.length-1];return r.route.id||pr(!1),r.route.id}function N6(){var e;let t=f.useContext(JE),r=j6(gp.UseRouteError),n=rP(gp.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function S6(){let{router:e}=b6(tP.UseNavigateStable),t=rP(gp.UseNavigateStable),r=f.useRef(!1);return eP(()=>{r.current=!0}),f.useCallback(function(a,i){i===void 0&&(i={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,wf({fromRouteId:t},i)))},[e,t])}function C6(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function v0(e){let{to:t,replace:r,state:n,relative:a}=e;Pd()||pr(!1);let{future:i,static:o}=f.useContext(di),{matches:l}=f.useContext(Sa),{pathname:c}=Xs(),d=Or(),u=wb(t,yb(l,i.v7_relativeSplatPath),c,a==="path"),h=JSON.stringify(u);return f.useEffect(()=>d(JSON.parse(h),{replace:r,state:n,relative:a}),[d,h,a,r,n]),null}function nP(e){return h6(e.context)}function bt(e){pr(!1)}function k6(e){let{basename:t="/",children:r=null,location:n,navigationType:a=Ui.Pop,navigator:i,static:o=!1,future:l}=e;Pd()&&pr(!1);let c=t.replace(/^\/*/,"/"),d=f.useMemo(()=>({basename:c,navigator:i,static:o,future:wf({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof n=="string"&&(n=Ed(n));let{pathname:u="/",search:h="",hash:m="",state:p=null,key:w="default"}=n,v=f.useMemo(()=>{let g=rd(u,c);return g==null?null:{location:{pathname:g,search:h,hash:m,state:p,key:w},navigationType:a}},[c,u,h,m,p,w,a]);return v==null?null:f.createElement(di.Provider,{value:d},f.createElement(yg.Provider,{children:r,value:v}))}function E6(e){let{children:t,location:r}=e;return m6(x0(t),r)}new Promise(()=>{});function x0(e,t){t===void 0&&(t=[]);let r=[];return f.Children.forEach(e,(n,a)=>{if(!f.isValidElement(n))return;let i=[...t,a];if(n.type===f.Fragment){r.push.apply(r,x0(n.props.children,i));return}n.type!==bt&&pr(!1),!n.props.index||!n.props.children||pr(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=x0(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vp(){return vp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vp.apply(this,arguments)}function sP(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function P6(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function T6(e,t){return e.button===0&&(!t||t==="_self")&&!P6(e)}const R6=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],M6=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],A6="6";try{window.__reactRouterVersion=A6}catch{}const O6=f.createContext({isTransitioning:!1}),D6="startTransition",hN=nw[D6];function I6(e){let{basename:t,children:r,future:n,window:a}=e,i=f.useRef();i.current==null&&(i.current=$5({window:a,v5Compat:!0}));let o=i.current,[l,c]=f.useState({action:o.action,location:o.location}),{v7_startTransition:d}=n||{},u=f.useCallback(h=>{d&&hN?hN(()=>c(h)):c(h)},[c,d]);return f.useLayoutEffect(()=>o.listen(u),[o,u]),f.useEffect(()=>C6(n),[n]),f.createElement(k6,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const F6=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",L6=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Qt=f.forwardRef(function(t,r){let{onClick:n,relative:a,reloadDocument:i,replace:o,state:l,target:c,to:d,preventScrollReset:u,viewTransition:h}=t,m=sP(t,R6),{basename:p}=f.useContext(di),w,v=!1;if(typeof d=="string"&&L6.test(d)&&(w=d,F6))try{let b=new URL(window.location.href),_=d.startsWith("//")?new URL(b.protocol+d):new URL(d),N=rd(_.pathname,p);_.origin===b.origin&&N!=null?d=N+_.search+_.hash:v=!0}catch{}let g=d6(d,{relative:a}),y=z6(d,{replace:o,state:l,target:c,preventScrollReset:u,relative:a,viewTransition:h});function x(b){n&&n(b),b.defaultPrevented||y(b)}return f.createElement("a",vp({},m,{href:w||g,onClick:v||i?n:x,ref:r,target:c}))}),xp=f.forwardRef(function(t,r){let{"aria-current":n="page",caseSensitive:a=!1,className:i="",end:o=!1,style:l,to:c,viewTransition:d,children:u}=t,h=sP(t,M6),m=wg(c,{relative:h.relative}),p=Xs(),w=f.useContext(ZE),{navigator:v,basename:g}=f.useContext(di),y=w!=null&&U6(m)&&d===!0,x=v.encodeLocation?v.encodeLocation(m).pathname:m.pathname,b=p.pathname,_=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;a||(b=b.toLowerCase(),_=_?_.toLowerCase():null,x=x.toLowerCase()),_&&g&&(_=rd(_,g)||_);const N=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let k=b===x||!o&&b.startsWith(x)&&b.charAt(N)==="/",S=_!=null&&(_===x||!o&&_.startsWith(x)&&_.charAt(x.length)==="/"),R={isActive:k,isPending:S,isTransitioning:y},U=k?n:void 0,B;typeof i=="function"?B=i(R):B=[i,k?"active":null,S?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let re=typeof l=="function"?l(R):l;return f.createElement(Qt,vp({},h,{"aria-current":U,className:B,ref:r,style:re,to:c,viewTransition:d}),typeof u=="function"?u(R):u)});var y0;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(y0||(y0={}));var mN;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(mN||(mN={}));function $6(e){let t=f.useContext(xg);return t||pr(!1),t}function z6(e,t){let{target:r,replace:n,state:a,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,c=Or(),d=Xs(),u=wg(e,{relative:o});return f.useCallback(h=>{if(T6(h,r)){h.preventDefault();let m=n!==void 0?n:mp(d)===mp(u);c(e,{replace:m,state:a,preventScrollReset:i,relative:o,viewTransition:l})}},[d,c,u,n,a,r,e,i,o,l])}function U6(e,t){t===void 0&&(t={});let r=f.useContext(O6);r==null&&pr(!1);let{basename:n}=$6(y0.useViewTransitionState),a=wg(e,{relative:t.relative});if(!r.isTransitioning)return!1;let i=rd(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=rd(r.nextLocation.pathname,n)||r.nextLocation.pathname;return pp(a.pathname,o)!=null||pp(a.pathname,i)!=null}const nd=Tl("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-0 focus-visible:ring-offset-0 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-white hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),O=f.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...a},i)=>{const o=n?El:"button";return s.jsx(o,{className:le(nd({variant:t,size:r,className:e})),ref:i,...a})});O.displayName="Button";function jb(){const{theme:e,setTheme:t,resolvedTheme:r}=as(),[n,a]=f.useState(!1);f.useEffect(()=>a(!0),[]);const i=(n?r:e)==="dark";return s.jsx(O,{variant:"ghost",size:"icon","aria-label":"Alternar tema",onClick:()=>t(i?"light":"dark"),className:"rounded-full",children:i?s.jsx(lg,{className:"h-4 w-4"}):s.jsx(og,{className:"h-4 w-4"})})}const Zt=({title:e,description:t,canonical:r})=>(f.useEffect(()=>{if(e&&(document.title=e),t){let i=document.querySelector('meta[name="description"]');i||(i=document.createElement("meta"),i.setAttribute("name","description"),document.head.appendChild(i)),i.setAttribute("content",t)}const n=r||window.location.href;let a=document.querySelector('link[rel="canonical"]');a||(a=document.createElement("link"),a.setAttribute("rel","canonical"),document.head.appendChild(a)),a.setAttribute("href",n)},[e,t,r]),null),B6="modulepreload",q6=function(e){return"/webapp-ava/"+e},pN={},Rl=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));a=Promise.allSettled(r.map(c=>{if(c=q6(c),c in pN)return;pN[c]=!0;const d=c.endsWith(".css"),u=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const h=document.createElement("link");if(h.rel=d?"stylesheet":B6,d||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),d)return new Promise((m,p)=>{h.addEventListener("load",m),h.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return a.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})},V6=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Rl(async()=>{const{default:n}=await Promise.resolve().then(()=>Td);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class _b extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class W6 extends _b{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class gN extends _b{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class vN extends _b{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var w0;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(w0||(w0={}));var H6=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(h){o(h)}}function c(u){try{d(n.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};class K6{constructor(t,{headers:r={},customFetch:n,region:a=w0.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=V6(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return H6(this,void 0,void 0,function*(){try{const{headers:a,method:i,body:o}=r;let l={},{region:c}=r;c||(c=this.region);const d=new URL(`${this.url}/${t}`);c&&c!=="any"&&(l["x-region"]=c,d.searchParams.set("forceFunctionRegion",c));let u;o&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(l["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(l["Content-Type"]="application/json",u=JSON.stringify(o)));const h=yield this.fetch(d.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),a),body:u}).catch(v=>{throw new W6(v)}),m=h.headers.get("x-relay-error");if(m&&m==="true")throw new gN(h);if(!h.ok)throw new vN(h);let p=((n=h.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),w;return p==="application/json"?w=yield h.json():p==="application/octet-stream"?w=yield h.blob():p==="text/event-stream"?w=h:p==="multipart/form-data"?w=yield h.formData():w=yield h.text(),{data:w,error:null,response:h}}catch(a){return{data:null,error:a,response:a instanceof vN||a instanceof gN?a.context:void 0}}})}}var On={},Nb={},bg={},Kf={},jg={},_g={},G6=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},sd=G6();const Y6=sd.fetch,aP=sd.fetch.bind(sd),iP=sd.Headers,Q6=sd.Request,X6=sd.Response,Td=Object.freeze(Object.defineProperty({__proto__:null,Headers:iP,Request:Q6,Response:X6,default:aP,fetch:Y6},Symbol.toStringTag,{value:"Module"})),Z6=xO(Td);var Ng={};Object.defineProperty(Ng,"__esModule",{value:!0});let J6=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Ng.default=J6;var oP=ys&&ys.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(_g,"__esModule",{value:!0});const e8=oP(Z6),t8=oP(Ng);let r8=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=e8.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let a=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,c;let d=null,u=null,h=null,m=i.status,p=i.statusText;if(i.ok){if(this.method!=="HEAD"){const y=await i.text();y===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=y:u=JSON.parse(y))}const v=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),g=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");v&&g&&g.length>1&&(h=parseInt(g[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(d={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,h=null,m=406,p="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{const v=await i.text();try{d=JSON.parse(v),Array.isArray(d)&&i.status===404&&(u=[],d=null,m=200,p="OK")}catch{i.status===404&&v===""?(m=204,p="No Content"):d={message:v}}if(d&&this.isMaybeSingle&&(!((c=d==null?void 0:d.details)===null||c===void 0)&&c.includes("0 rows"))&&(d=null,m=200,p="OK"),d&&this.shouldThrowOnError)throw new t8.default(d)}return{error:d,data:u,count:h,status:m,statusText:p}});return this.shouldThrowOnError||(a=a.catch(i=>{var o,l,c;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),a.then(t,r)}returns(){return this}overrideTypes(){return this}};_g.default=r8;var n8=ys&&ys.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(jg,"__esModule",{value:!0});const s8=n8(_g);let a8=class extends s8.default{select(t){let r=!1;const n=(t??"*").split("").map(a=>/\s/.test(a)&&!r?"":(a==='"'&&(r=!r),a)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:a,referencedTable:i=a}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const a=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:a=n}={}){const i=typeof a>"u"?"offset":`${a}.offset`,o=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:a=!1,wal:i=!1,format:o="text"}={}){var l;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,a?"buffers":null,i?"wal":null].filter(Boolean).join("|"),d=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${d}"; options=${c};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};jg.default=a8;var i8=ys&&ys.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Kf,"__esModule",{value:!0});const o8=i8(jg);let l8=class extends o8.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:a}={}){let i="";a==="plain"?i="pl":a==="phrase"?i="ph":a==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${o}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const a=n?`${n}.or`:"or";return this.url.searchParams.append(a,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};Kf.default=l8;var c8=ys&&ys.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(bg,"__esModule",{value:!0});const mu=c8(Kf);let d8=class{constructor(t,{headers:r={},schema:n,fetch:a}){this.url=t,this.headers=r,this.schema=n,this.fetch=a}select(t,{head:r=!1,count:n}={}){const a=r?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),n&&(this.headers.Prefer=`count=${n}`),new mu.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const a="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const o=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new mu.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:a,defaultToNull:i=!0}={}){const o="POST",l=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&l.push(this.headers.Prefer),a&&l.push(`count=${a}`),i||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const c=t.reduce((d,u)=>d.concat(Object.keys(u)),[]);if(c.length>0){const d=[...new Set(c)].map(u=>`"${u}"`);this.url.searchParams.set("columns",d.join(","))}}return new mu.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",a=[];return this.headers.Prefer&&a.push(this.headers.Prefer),r&&a.push(`count=${r}`),this.headers.Prefer=a.join(","),new mu.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new mu.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};bg.default=d8;var Sg={},Cg={};Object.defineProperty(Cg,"__esModule",{value:!0});Cg.version=void 0;Cg.version="0.0.0-automated";Object.defineProperty(Sg,"__esModule",{value:!0});Sg.DEFAULT_HEADERS=void 0;const u8=Cg;Sg.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${u8.version}`};var lP=ys&&ys.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Nb,"__esModule",{value:!0});const f8=lP(bg),h8=lP(Kf),m8=Sg;let p8=class cP{constructor(t,{headers:r={},schema:n,fetch:a}={}){this.url=t,this.headers=Object.assign(Object.assign({},m8.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=a}from(t){const r=new URL(`${this.url}/${t}`);return new f8.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new cP(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:a=!1,count:i}={}){let o;const l=new URL(`${this.url}/rpc/${t}`);let c;n||a?(o=n?"HEAD":"GET",Object.entries(r).filter(([u,h])=>h!==void 0).map(([u,h])=>[u,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([u,h])=>{l.searchParams.append(u,h)})):(o="POST",c=r);const d=Object.assign({},this.headers);return i&&(d.Prefer=`count=${i}`),new h8.default({method:o,url:l,headers:d,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};Nb.default=p8;var Rd=ys&&ys.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(On,"__esModule",{value:!0});On.PostgrestError=On.PostgrestBuilder=On.PostgrestTransformBuilder=On.PostgrestFilterBuilder=On.PostgrestQueryBuilder=On.PostgrestClient=void 0;const dP=Rd(Nb);On.PostgrestClient=dP.default;const uP=Rd(bg);On.PostgrestQueryBuilder=uP.default;const fP=Rd(Kf);On.PostgrestFilterBuilder=fP.default;const hP=Rd(jg);On.PostgrestTransformBuilder=hP.default;const mP=Rd(_g);On.PostgrestBuilder=mP.default;const pP=Rd(Ng);On.PostgrestError=pP.default;var g8=On.default={PostgrestClient:dP.default,PostgrestQueryBuilder:uP.default,PostgrestFilterBuilder:fP.default,PostgrestTransformBuilder:hP.default,PostgrestBuilder:mP.default,PostgrestError:pP.default};const{PostgrestClient:v8,PostgrestQueryBuilder:uQ,PostgrestFilterBuilder:fQ,PostgrestTransformBuilder:hQ,PostgrestBuilder:mQ,PostgrestError:pQ}=g8;class x8{static dynamicRequire(t){try{return typeof process<"u"&&process.versions&&process.versions.node&&typeof require<"u"?require(t):null}catch{return null}}static detectEnvironment(){var t,r;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const n=parseInt(process.versions.node.split(".")[0]);if(n>=22)try{if(typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};const a=this.dynamicRequire("undici");if(a&&a.WebSocket)return{type:"native",constructor:a.WebSocket};throw new Error("undici not available")}catch{return{type:"unsupported",error:`Node.js ${n} detected but native WebSocket not found.`,workaround:'Install the "ws" package or check your Node.js installation.'}}try{const a=this.dynamicRequire("ws");if(a)return{type:"ws",constructor:(r=a.WebSocket)!==null&&r!==void 0?r:a};throw new Error("ws package not available")}catch{return{type:"unsupported",error:`Node.js ${n} detected without WebSocket support.`,workaround:'Install the "ws" package: npm install ws'}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const y8="2.15.0",w8=`realtime-js/${y8}`,b8="1.0.0",b0=1e4,j8=1e3,_8=100;var qu;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(qu||(qu={}));var Lr;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Lr||(Lr={}));var Fs;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Fs||(Fs={}));var j0;(function(e){e.websocket="websocket"})(j0||(j0={}));var qo;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(qo||(qo={}));class N8{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const a=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(t.slice(o,o+a));o=o+a;const c=n.decode(t.slice(o,o+i));o=o+i;const d=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:c,payload:d}}}class gP{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Gt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Gt||(Gt={}));const xN=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((i,o)=>(i[o]=S8(o,e,t,a),i),{})},S8=(e,t,r,n)=>{const a=t.find(l=>l.name===e),i=a==null?void 0:a.type,o=r[e];return i&&!n.includes(i)?vP(i,o):_0(o)},vP=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return P8(t,r)}switch(e){case Gt.bool:return C8(t);case Gt.float4:case Gt.float8:case Gt.int2:case Gt.int4:case Gt.int8:case Gt.numeric:case Gt.oid:return k8(t);case Gt.json:case Gt.jsonb:return E8(t);case Gt.timestamp:return T8(t);case Gt.abstime:case Gt.date:case Gt.daterange:case Gt.int4range:case Gt.int8range:case Gt.money:case Gt.reltime:case Gt.text:case Gt.time:case Gt.timestamptz:case Gt.timetz:case Gt.tsrange:case Gt.tstzrange:return _0(t);default:return _0(t)}},_0=e=>e,C8=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},k8=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},E8=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},P8=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>vP(t,l))}return e},T8=e=>typeof e=="string"?e.replace(" ","T"):e,xP=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class yx{constructor(t,r,n={},a=b0){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var yN;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(yN||(yN={}));class Vu{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Vu.syncState(this.state,a,i,o),this.pendingDiffs.forEach(c=>{this.state=Vu.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Vu.syncDiff(this.state,a,i,o),l())}),this.onJoin((a,i,o)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:o})}),this.onLeave((a,i,o)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const i=this.cloneDeep(t),o=this.transformState(r),l={},c={};return this.map(i,(d,u)=>{o[d]||(c[d]=u)}),this.map(o,(d,u)=>{const h=i[d];if(h){const m=u.map(g=>g.presence_ref),p=h.map(g=>g.presence_ref),w=u.filter(g=>p.indexOf(g.presence_ref)<0),v=h.filter(g=>m.indexOf(g.presence_ref)<0);w.length>0&&(l[d]=w),v.length>0&&(c[d]=v)}else l[d]=u}),this.syncDiff(i,{joins:l,leaves:c},n,a)}static syncDiff(t,r,n,a){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(i,(l,c)=>{var d;const u=(d=t[l])!==null&&d!==void 0?d:[];if(t[l]=this.cloneDeep(c),u.length>0){const h=t[l].map(p=>p.presence_ref),m=u.filter(p=>h.indexOf(p.presence_ref)<0);t[l].unshift(...m)}n(l,u,c)}),this.map(o,(l,c)=>{let d=t[l];if(!d)return;const u=c.map(h=>h.presence_ref);d=d.filter(h=>u.indexOf(h.presence_ref)<0),t[l]=d,a(l,d,c),d.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var wN;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(wN||(wN={}));var Wu;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Wu||(Wu={}));var $a;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})($a||($a={}));class Sb{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Lr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new yx(this,Fs.join,this.params,this.timeout),this.rejoinTimer=new gP(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Lr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Lr.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Lr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Lr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Lr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Fs.reply,{},(a,i)=>{this._trigger(this._replyEventName(i),a)}),this.presence=new Vu(this),this.broadcastEndpointURL=xP(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Lr.closed){const{config:{broadcast:i,presence:o,private:l}}=this.params,c=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(m=>m.filter))!==null&&a!==void 0?a:[],d=!!this.bindings[Wu.PRESENCE]&&this.bindings[Wu.PRESENCE].length>0,u={},h={broadcast:i,presence:Object.assign(Object.assign({},o),{enabled:d}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(u.access_token=this.socket.accessTokenValue),this._onError(m=>t==null?void 0:t($a.CHANNEL_ERROR,m)),this._onClose(()=>t==null?void 0:t($a.CLOSED)),this.updateJoinPayload(Object.assign({config:h},u)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:m})=>{var p;if(this.socket.setAuth(),m===void 0){t==null||t($a.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,v=(p=w==null?void 0:w.length)!==null&&p!==void 0?p:0,g=[];for(let y=0;y<v;y++){const x=w[y],{filter:{event:b,schema:_,table:N,filter:k}}=x,S=m&&m[y];if(S&&S.event===b&&S.schema===_&&S.table===N&&S.filter===k)g.push(Object.assign(Object.assign({},x),{id:S.id}));else{this.unsubscribe(),this.state=Lr.errored,t==null||t($a.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,t&&t($a.SUBSCRIBED);return}}).receive("error",m=>{this.state=Lr.errored,t==null||t($a.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{t==null||t($a.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===Lr.joined&&t===Wu.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=d.body)===null||a===void 0?void 0:a.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const d=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),d.receive("ok",()=>i("ok")),d.receive("error",()=>i("error")),d.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Lr.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Fs.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new yx(this,Fs.leave,{},t),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Lr.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const a=new AbortController,i=setTimeout(()=>a.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new yx(this,t,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>_8){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,i;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:d,join:u}=Fs;if(n&&[l,c,d,u].indexOf(o)>=0&&n!==this._joinRef())return;let m=this._onMessage(o,r,n);if(r&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(p=>{var w,v,g;return((w=p.filter)===null||w===void 0?void 0:w.event)==="*"||((g=(v=p.filter)===null||v===void 0?void 0:v.event)===null||g===void 0?void 0:g.toLocaleLowerCase())===o}).map(p=>p.callback(m,n)):(i=this.bindings[o])===null||i===void 0||i.filter(p=>{var w,v,g,y,x,b;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const _=p.id,N=(w=p.filter)===null||w===void 0?void 0:w.event;return _&&((v=r.ids)===null||v===void 0?void 0:v.includes(_))&&(N==="*"||(N==null?void 0:N.toLocaleLowerCase())===((g=r.data)===null||g===void 0?void 0:g.type.toLocaleLowerCase()))}else{const _=(x=(y=p==null?void 0:p.filter)===null||y===void 0?void 0:y.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return _==="*"||_===((b=r==null?void 0:r.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof m=="object"&&"ids"in m){const w=m.data,{schema:v,table:g,commit_timestamp:y,type:x,errors:b}=w;m=Object.assign(Object.assign({},{schema:v,table:g,commit_timestamp:y,eventType:x,new:{},old:{},errors:b}),this._getPayloadRecords(w))}p.callback(m,n)})}_isClosed(){return this.state===Lr.closed}_isJoined(){return this.state===Lr.joined}_isJoining(){return this.state===Lr.joining}_isLeaving(){return this.state===Lr.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),i={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Sb.isEqual(a.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Fs.close,{},t)}_onError(t){this._on(Fs.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Lr.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=xN(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=xN(t.columns,t.old_record)),r}}const bN=()=>{},Xh={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},R8=[1e3,2e3,5e3,1e4],M8=1e4,A8=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class O8{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=b0,this.transport=null,this.heartbeatIntervalMs=Xh.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=bN,this.ref=0,this.reconnectTimer=null,this.logger=bN,this.conn=null,this.sendBuffer=[],this.serializer=new N8,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>{let i;return a?i=a:typeof fetch>"u"?i=(...o)=>Rl(async()=>{const{default:l}=await Promise.resolve().then(()=>Td);return{default:l}},void 0).then(({default:l})=>l(...o)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${j0.websocket}`,this.httpEndpoint=xP(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=x8.createWebSocket(this.endpointURL())}catch(t){throw this._setConnectionState("disconnected"),new Error(`WebSocket not available: ${t.message}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:b8}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case qu.connecting:return qo.Connecting;case qu.open:return qo.Open;case qu.closing:return qo.Closing;default:return qo.Closed}}isConnected(){return this.connectionState()===qo.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,a=this.getChannels().find(i=>i.topic===n);if(a)return a;{const i=new Sb(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:a,ref:i}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,a),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(j8,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Xh.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{r.topic==="phoenix"&&r.event==="phx_reply"&&this.heartbeatCallback(r.payload.status==="ok"?"ok":"error"),r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:a,payload:i,ref:o}=r,l=o?`(${o})`:"",c=i.status||"";this.log("receive",`${c} ${n} ${a} ${l}`.trim(),i),this.channels.filter(d=>d._isMember(n)).forEach(d=>d._trigger(a,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Fs.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([A8],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const a={access_token:r,version:w8};r&&n.updateJoinPayload(a),n.joinedOnce&&n._isJoined()&&n._push(Fs.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new gP(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Xh.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,a,i,o,l,c,d;if(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:b0,this.heartbeatIntervalMs=(a=t==null?void 0:t.heartbeatIntervalMs)!==null&&a!==void 0?a:Xh.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=t==null?void 0:t.reconnectAfterMs)!==null&&l!==void 0?l:u=>R8[u-1]||M8,this.encode=(c=t==null?void 0:t.encode)!==null&&c!==void 0?c:(u,h)=>h(JSON.stringify(u)),this.decode=(d=t==null?void 0:t.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class Cb extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Kr(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class D8 extends Cb{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class N0 extends Cb{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var I8=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(h){o(h)}}function c(u){try{d(n.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};const yP=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Rl(async()=>{const{default:n}=await Promise.resolve().then(()=>Td);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},F8=()=>I8(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Rl(()=>Promise.resolve().then(()=>Td),void 0)).Response:Response}),S0=e=>{if(Array.isArray(e))return e.map(r=>S0(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[a]=S0(n)}),t},L8=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var Ml=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(h){o(h)}}function c(u){try{d(n.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};const wx=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),$8=(e,t,r)=>Ml(void 0,void 0,void 0,function*(){const n=yield F8();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(a=>{const i=e.status||500,o=(a==null?void 0:a.statusCode)||i+"";t(new D8(wx(a),i,o))}).catch(a=>{t(new N0(wx(a),a))}):t(new N0(wx(e),e))}),z8=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?a:(L8(n)?(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,Object.assign(Object.assign({},a),r))};function Gf(e,t,r,n,a,i){return Ml(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(r,z8(t,n,a,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>$8(c,l,n))})})}function yp(e,t,r,n){return Ml(this,void 0,void 0,function*(){return Gf(e,"GET",t,r,n)})}function za(e,t,r,n,a){return Ml(this,void 0,void 0,function*(){return Gf(e,"POST",t,n,a,r)})}function C0(e,t,r,n,a){return Ml(this,void 0,void 0,function*(){return Gf(e,"PUT",t,n,a,r)})}function U8(e,t,r,n){return Ml(this,void 0,void 0,function*(){return Gf(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function wP(e,t,r,n,a){return Ml(this,void 0,void 0,function*(){return Gf(e,"DELETE",t,n,a,r)})}var En=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(h){o(h)}}function c(u){try{d(n.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};const B8={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},jN={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class q8{constructor(t,r={},n,a){this.url=t,this.headers=r,this.bucketId=n,this.fetch=yP(a)}uploadOrUpdate(t,r,n,a){return En(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},jN),a);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),a!=null&&a.headers&&(l=Object.assign(Object.assign({},l),a.headers));const d=this._removeEmptyFolders(r),u=this._getFinalPath(d),h=yield(t=="PUT"?C0:za)(this.fetch,`${this.url}/object/${u}`,i,Object.assign({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:d,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(Kr(i))return{data:null,error:i};throw i}})}upload(t,r,n){return En(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,a){return En(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let c;const d=Object.assign({upsert:jN.upsert},a),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",d.cacheControl)):(c=n,u["cache-control"]=`max-age=${d.cacheControl}`,u["content-type"]=d.contentType);const h=yield C0(this.fetch,l.toString(),c,{headers:u});return{data:{path:i,fullPath:h.Key},error:null}}catch(c){if(Kr(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return En(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const a=Object.assign({},this.headers);r!=null&&r.upsert&&(a["x-upsert"]="true");const i=yield za(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new Cb("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(n){if(Kr(n))return{data:null,error:n};throw n}})}update(t,r,n){return En(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return En(this,void 0,void 0,function*(){try{return{data:yield za(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(Kr(a))return{data:null,error:a};throw a}})}copy(t,r,n){return En(this,void 0,void 0,function*(){try{return{data:{path:(yield za(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(Kr(a))return{data:null,error:a};throw a}})}createSignedUrl(t,r,n){return En(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),i=yield za(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(a){if(Kr(a))return{data:null,error:a};throw a}})}createSignedUrls(t,r,n){return En(this,void 0,void 0,function*(){try{const a=yield za(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(a){if(Kr(a))return{data:null,error:a};throw a}})}download(t,r){return En(this,void 0,void 0,function*(){const a=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield yp(this.fetch,`${this.url}/${a}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(Kr(l))return{data:null,error:l};throw l}})}info(t){return En(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield yp(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:S0(n),error:null}}catch(n){if(Kr(n))return{data:null,error:n};throw n}})}exists(t){return En(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield U8(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Kr(n)&&n instanceof N0){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),a=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&a.push(i);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&a.push(c);let d=a.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${d}`)}}}remove(t){return En(this,void 0,void 0,function*(){try{return{data:yield wP(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(Kr(r))return{data:null,error:r};throw r}})}list(t,r,n){return En(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},B8),r),{prefix:t||""});return{data:yield za(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(Kr(a))return{data:null,error:a};throw a}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const V8="2.10.4",W8={"X-Client-Info":`storage-js/${V8}`};var Vl=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(h){o(h)}}function c(u){try{d(n.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};class H8{constructor(t,r={},n,a){const i=new URL(t);a!=null&&a.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},W8),r),this.fetch=yP(n)}listBuckets(){return Vl(this,void 0,void 0,function*(){try{return{data:yield yp(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Kr(t))return{data:null,error:t};throw t}})}getBucket(t){return Vl(this,void 0,void 0,function*(){try{return{data:yield yp(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(Kr(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return Vl(this,void 0,void 0,function*(){try{return{data:yield za(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Kr(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return Vl(this,void 0,void 0,function*(){try{return{data:yield C0(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Kr(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Vl(this,void 0,void 0,function*(){try{return{data:yield za(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(Kr(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Vl(this,void 0,void 0,function*(){try{return{data:yield wP(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(Kr(r))return{data:null,error:r};throw r}})}}class K8 extends H8{constructor(t,r={},n,a){super(t,r,n,a)}from(t){return new q8(this.url,this.headers,t,this.fetch)}}const G8="2.54.0";let Su="";typeof Deno<"u"?Su="deno":typeof document<"u"?Su="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Su="react-native":Su="node";const Y8={"X-Client-Info":`supabase-js-${Su}/${G8}`},Q8={headers:Y8},X8={schema:"public"},Z8={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},J8={};var ez=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(h){o(h)}}function c(u){try{d(n.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};const tz=e=>{let t;return e?t=e:typeof fetch>"u"?t=aP:t=fetch,(...r)=>t(...r)},rz=()=>typeof Headers>"u"?iP:Headers,nz=(e,t,r)=>{const n=tz(r),a=rz();return(i,o)=>ez(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let d=new a(o==null?void 0:o.headers);return d.has("apikey")||d.set("apikey",e),d.has("Authorization")||d.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},o),{headers:d}))})};var sz=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(h){o(h)}}function c(u){try{d(n.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};function az(e){return e.endsWith("/")?e:e+"/"}function iz(e,t){var r,n;const{db:a,auth:i,realtime:o,global:l}=e,{db:c,auth:d,realtime:u,global:h}=t,m={db:Object.assign(Object.assign({},c),a),auth:Object.assign(Object.assign({},d),i),realtime:Object.assign(Object.assign({},u),o),storage:{},global:Object.assign(Object.assign(Object.assign({},h),l),{headers:Object.assign(Object.assign({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>sz(this,void 0,void 0,function*(){return""})};return e.accessToken?m.accessToken=e.accessToken:delete m.accessToken,m}const bP="2.71.1",nc=30*1e3,k0=3,bx=k0*nc,oz="http://localhost:9999",lz="supabase.auth.token",cz={"X-Client-Info":`gotrue-js/${bP}`},E0="X-Supabase-Api-Version",jP={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},dz=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,uz=10*60*1e3;class kb extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function dt(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class fz extends kb{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function hz(e){return dt(e)&&e.name==="AuthApiError"}class _P extends kb{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class So extends kb{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}}class bi extends So{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function mz(e){return dt(e)&&e.name==="AuthSessionMissingError"}class Zh extends So{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Jh extends So{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class em extends So{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function pz(e){return dt(e)&&e.name==="AuthImplicitGrantRedirectError"}class _N extends So{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class P0 extends So{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function jx(e){return dt(e)&&e.name==="AuthRetryableFetchError"}class NN extends So{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class T0 extends So{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const wp="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),SN=` 	
\r=`.split(""),gz=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<SN.length;t+=1)e[SN[t].charCodeAt(0)]=-2;for(let t=0;t<wp.length;t+=1)e[wp[t].charCodeAt(0)]=t;return e})();function CN(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(wp[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(wp[n]),t.queuedBits-=6}}function NP(e,t,r){const n=gz[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function kN(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=o=>{yz(o,n,r)};for(let o=0;o<e.length;o+=1)NP(e.charCodeAt(o),a,i);return t.join("")}function vz(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function xz(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}vz(n,t)}}function yz(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function wz(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)NP(e.charCodeAt(a),r,n);return new Uint8Array(t)}function bz(e){const t=[];return xz(e,r=>t.push(r)),new Uint8Array(t)}function jz(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};return e.forEach(a=>CN(a,r,n)),CN(null,r,n),t.join("")}function _z(e){return Math.round(Date.now()/1e3)+e}function Nz(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Ts=()=>typeof window<"u"&&typeof document<"u",Io={tested:!1,writable:!1},SP=()=>{if(!Ts())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Io.tested)return Io.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Io.tested=!0,Io.writable=!0}catch{Io.tested=!0,Io.writable=!1}return Io.writable};function Sz(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,i)=>{t[i]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const CP=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Rl(async()=>{const{default:n}=await Promise.resolve().then(()=>Td);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},Cz=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",sc=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Fo=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},gi=async(e,t)=>{await e.removeItem(t)};class kg{constructor(){this.promise=new kg.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}kg.promiseConstructor=Promise;function _x(e){const t=e.split(".");if(t.length!==3)throw new T0("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!dz.test(t[n]))throw new T0("JWT not in base64url format");return{header:JSON.parse(kN(t[0])),payload:JSON.parse(kN(t[1])),signature:wz(t[2]),raw:{header:t[0],payload:t[1]}}}async function kz(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Ez(e,t){return new Promise((n,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){a(o);return}}})()})}function Pz(e){return("0"+e.toString(16)).substr(-2)}function Tz(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,Pz).join("")}async function Rz(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function Mz(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await Rz(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Wl(e,t,r=!1){const n=Tz();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await sc(e,`${t}-code-verifier`,a);const i=await Mz(n);return[i,n===i?"plain":"s256"]}const Az=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Oz(e){const t=e.headers.get(E0);if(!t||!t.match(Az))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Dz(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Iz(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Fz=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Hl(e){if(!Fz.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Nx(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function EN(e){return JSON.parse(JSON.stringify(e))}var Lz=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};const Uo=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),$z=[502,503,504];async function PN(e){var t;if(!Cz(e))throw new P0(Uo(e),0);if($z.includes(e.status))throw new P0(Uo(e),e.status);let r;try{r=await e.json()}catch(i){throw new _P(Uo(i),i)}let n;const a=Oz(e);if(a&&a.getTime()>=jP["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new NN(Uo(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new bi}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new NN(Uo(r),e.status,r.weak_password.reasons);throw new fz(Uo(r),e.status||500,n)}const zz=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function jt(e,t,r,n){var a;const i=Object.assign({},n==null?void 0:n.headers);i[E0]||(i[E0]=jP["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await Uz(e,t,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function Uz(e,t,r,n,a,i){const o=zz(t,n,a,i);let l;try{l=await e(r,Object.assign({},o))}catch(c){throw console.error(c),new P0(Uo(c),0)}if(l.ok||await PN(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await PN(c)}}function Aa(e){var t;let r=null;Wz(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=_z(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function TN(e){const t=Aa(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Ei(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Bz(e){return{data:e,error:null}}function qz(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i}=e,o=Lz(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function Vz(e){return e}function Wz(e){return e.access_token&&e.refresh_token&&e.expires_in}const Sx=["global","local","others"];var Hz=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};class Kz{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=CP(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=Sx[0]){if(Sx.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Sx.join(", ")}`);try{return await jt(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(dt(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await jt(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Ei})}catch(n){if(dt(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Hz(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await jt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:qz,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(dt(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await jt(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ei})}catch(r){if(dt(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,i,o,l,c;try{const d={nextPage:null,lastPage:0,total:0},u=await jt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:Vz});if(u.error)throw u.error;const h=await u.json(),m=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(c=(l=u.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(w=>{const v=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),g=JSON.parse(w.split(";")[1].split("=")[1]);d[`${g}Page`]=v}),d.total=parseInt(m)),{data:Object.assign(Object.assign({},h),d),error:null}}catch(d){if(dt(d))return{data:{users:[]},error:d};throw d}}async getUserById(t){Hl(t);try{return await jt(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ei})}catch(r){if(dt(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Hl(t);try{return await jt(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Ei})}catch(n){if(dt(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Hl(t);try{return await jt(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Ei})}catch(n){if(dt(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Hl(t.userId);try{const{data:r,error:n}=await jt(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(dt(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Hl(t.userId),Hl(t.id);try{return{data:await jt(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(dt(r))return{data:null,error:r};throw r}}}function RN(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function Gz(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Kl={debug:!!(globalThis&&SP()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class kP extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Yz extends kP{}async function Qz(e,t,r){Kl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Kl.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){Kl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{Kl.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw Kl.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Yz(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Kl.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}Gz();const Xz={url:oz,storageKey:lz,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:cz,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function MN(e,t,r){return await r()}const Gl={};class bf{constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=bf.nextInstanceID,bf.nextInstanceID+=1,this.instanceID>0&&Ts()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},Xz),t);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new Kz({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=CP(a.fetch),this.lock=a.lock||MN,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:Ts()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=Qz:this.lock=MN,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:SP()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=RN(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=RN(this.memoryStorage)),Ts()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var t,r;return(r=(t=Gl[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Gl[this.storageKey]=Object.assign(Object.assign({},Gl[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Gl[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Gl[this.storageKey]=Object.assign(Object.assign({},Gl[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${bP}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=Sz(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Ts()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),pz(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=a;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return dt(r)?{error:r}:{error:new _P("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const i=await jt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:Aa}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(i){if(dt(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,a;try{let i;if("email"in t){const{email:u,password:h,options:m}=t;let p=null,w=null;this.flowType==="pkce"&&([p,w]=await Wl(this.storage,this.storageKey)),i=await jt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:u,password:h,data:(r=m==null?void 0:m.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:p,code_challenge_method:w},xform:Aa})}else if("phone"in t){const{phone:u,password:h,options:m}=t;i=await jt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:h,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},channel:(a=m==null?void 0:m.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:Aa})}else throw new Jh("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(i){if(dt(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:l}=t;r=await jt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:TN})}else if("phone"in t){const{phone:i,password:o,options:l}=t;r=await jt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:TN})}else throw new Jh("You must provide either an email or phone number and a password");const{data:n,error:a}=r;return a?{data:{user:null,session:null},error:a}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Zh}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(dt(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,a,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,a,i,o,l,c,d,u,h,m,p;let w,v;if("message"in t)w=t.message,v=t.signature;else{const{chain:g,wallet:y,statement:x,options:b}=t;let _;if(Ts())if(typeof y=="object")_=y;else{const k=window;if("solana"in k&&typeof k.solana=="object"&&("signIn"in k.solana&&typeof k.solana.signIn=="function"||"signMessage"in k.solana&&typeof k.solana.signMessage=="function"))_=k.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=y}const N=new URL((r=b==null?void 0:b.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const k=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b==null?void 0:b.signInWithSolana),{version:"1",domain:N.host,uri:N.href}),x?{statement:x}:null));let S;if(Array.isArray(k)&&k[0]&&typeof k[0]=="object")S=k[0];else if(k&&typeof k=="object"&&"signedMessage"in k&&"signature"in k)S=k;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in S&&"signature"in S&&(typeof S.signedMessage=="string"||S.signedMessage instanceof Uint8Array)&&S.signature instanceof Uint8Array)w=typeof S.signedMessage=="string"?S.signedMessage:new TextDecoder().decode(S.signedMessage),v=S.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${N.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...x?["",x,""]:[""],"Version: 1",`URI: ${N.href}`,`Issued At: ${(a=(n=b==null?void 0:b.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=b==null?void 0:b.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((o=b==null?void 0:b.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((l=b==null?void 0:b.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((c=b==null?void 0:b.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((d=b==null?void 0:b.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((h=(u=b==null?void 0:b.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||h===void 0)&&h.length?["Resources",...b.signInWithSolana.resources.map(S=>`- ${S}`)]:[]].join(`
`);const k=await _.signMessage(new TextEncoder().encode(w),"utf8");if(!k||!(k instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=k}}try{const{data:g,error:y}=await jt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:jz(v)},!((m=t.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:Aa});if(y)throw y;return!g||!g.session||!g.user?{data:{user:null,session:null},error:new Zh}:(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),{data:Object.assign({},g),error:y})}catch(g){if(dt(g))return{data:{user:null,session:null},error:g};throw g}}async _exchangeCodeForSession(t){const r=await Fo(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{const{data:i,error:o}=await jt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Aa});if(await gi(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Zh}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:o})}catch(i){if(dt(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:i,nonce:o}=t,l=await jt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Aa}),{data:c,error:d}=l;return d?{data:{user:null,session:null},error:d}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Zh}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:d})}catch(r){if(dt(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,a,i,o;try{if("email"in t){const{email:l,options:c}=t;let d=null,u=null;this.flowType==="pkce"&&([d,u]=await Wl(this.storage,this.storageKey));const{error:h}=await jt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:d,code_challenge_method:u},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:l,options:c}=t,{data:d,error:u}=await jt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:u}}throw new Jh("You must provide either an email or phone number.")}catch(l){if(dt(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let a,i;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await jt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:Aa});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,d=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(a){if(dt(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(t){var r,n,a;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Wl(this.storage,this.storageKey)),await jt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:Bz})}catch(i){if(dt(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new bi;const{error:a}=await jt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:a}})}catch(t){if(dt(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:i}=t,{error:o}=await jt(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:a,options:i}=t,{data:o,error:l}=await jt(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new Jh("You must provide either an email or phone number and a type")}catch(r){if(dt(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Fo(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<bx:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await Fo(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=Nx()}if(this.storage.isServer&&t.user){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,d,u)=>(!o&&d==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,d,u))})}return{data:{session:t},error:null}}const{session:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await jt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ei}):await this._useSession(async r=>{var n,a,i;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new bi}:await jt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=o.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:Ei})})}catch(r){if(dt(r))return mz(r)&&(await this._removeSession(),await gi(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:i}=n;if(i)throw i;if(!a.session)throw new bi;const o=a.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Wl(this.storage,this.storageKey));const{data:d,error:u}=await jt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:Ei});if(u)throw u;return o.user=d.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(dt(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new bi;const r=Date.now()/1e3;let n=r,a=!0,i=null;const{payload:o}=_x(t.access_token);if(o.exp&&(n=o.exp,a=n<=r),a){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(dt(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new bi;const{session:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(dt(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Ts())throw new em("No browser detected.");if(t.error||t.error_description||t.error_code)throw new em(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new _N("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new em("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new _N("No code detected.");const{data:x,error:b}=await this._exchangeCodeForSession(t.code);if(b)throw b;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:x.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:d}=t;if(!i||!l||!o||!d)throw new em("No session defined in URL");const u=Math.round(Date.now()/1e3),h=parseInt(l);let m=u+h;c&&(m=parseInt(c));const p=m-u;p*1e3<=nc&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${h}s`);const w=m-h;u-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,m,u):u-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,m,u);const{data:v,error:g}=await this._getUser(i);if(g)throw g;const y={provider_token:n,provider_refresh_token:a,access_token:i,expires_in:h,expires_at:m,refresh_token:o,token_type:d,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:t.type},error:null}}catch(n){if(dt(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Fo(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{error:i};const o=(n=a.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(hz(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await gi(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=Nz(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await Wl(this.storage,this.storageKey,!0));try{return await jt(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(dt(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(dt(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:a}=await this._useSession(async i=>{var o,l,c,d,u;const{data:h,error:m}=i;if(m)throw m;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await jt(this.fetch,"GET",p,{headers:this.headers,jwt:(u=(d=h.session)===null||d===void 0?void 0:d.access_token)!==null&&u!==void 0?u:void 0})});if(a)throw a;return Ts()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(dt(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)throw o;return await jt(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(dt(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await Ez(async a=>(a>0&&await kz(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await jt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Aa})),(a,i)=>{const o=200*Math.pow(2,a);return i&&jx(i)&&Date.now()+o-n<nc})}catch(n){if(this._debug(r,"error",n),dt(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Ts()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await Fo(this.storage,this.storageKey);if(a&&this.userStorage){let o=await Fo(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:a.user},await sc(this.userStorage,this.storageKey+"-user",o)),a.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:Nx()}else if(a&&!a.user&&!a.user){const o=await Fo(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(a.user=o.user,await gi(this.storage,this.storageKey+"-user"),await sc(this.storage,this.storageKey,a)):a.user=Nx()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const i=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<bx;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${bx}s`),i){if(this.autoRefreshToken&&a.refresh_token){const{error:o}=await this._callRefreshToken(a.refresh_token);o&&(console.error(o),jx(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(a.access_token);!l&&(o!=null&&o.user)?(a.user=o.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new bi;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new kg;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new bi;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(a,"error",i),dt(i)){const o={session:null,error:i};return jx(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await sc(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const i=EN(a);await sc(this.storage,this.storageKey,i)}else{const a=EN(r);await sc(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await gi(this.storage,this.storageKey),await gi(this.storage,this.storageKey+"-code-verifier"),await gi(this.storage,this.storageKey+"-user"),this.userStorage&&await gi(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Ts()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),nc);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/nc);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${nc}ms, refresh threshold is ${k0} ticks`),a<=k0&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof kP)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ts()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await Wl(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});a.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);a.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await jt(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(dt(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:d}=await jt(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return d?{data:null,error:d}:(t.factorType==="totp"&&(!((a=c==null?void 0:c.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(dt(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{data:null,error:i};const{data:o,error:l}=await jt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(r){if(dt(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await jt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(dt(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],a=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:a,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:a},error:i}=t;if(i)return{data:null,error:i};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=_x(a.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((n=(r=a.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const u=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+uz>a)return n;const{data:i,error:o}=await jt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=a,n=i.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:p,error:w}=await this.getSession();if(w||!p.session)return{data:null,error:w};n=p.session.access_token}const{header:a,payload:i,signature:o,raw:{header:l,payload:c}}=_x(n);r!=null&&r.allowExpired||Dz(i.exp);const d=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!d){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:i,header:a,signature:o},error:null}}const u=Iz(a.alg),h=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,o,bz(`${l}.${c}`)))throw new T0("Invalid JWT signature");return{data:{claims:i,header:a,signature:o},error:null}}catch(n){if(dt(n))return{data:null,error:n};throw n}}}bf.nextInstanceID=0;const Zz=bf;class Jz extends Zz{constructor(t){super(t)}}var eU=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(h){o(h)}}function c(u){try{d(n.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};class tU{constructor(t,r,n){var a,i,o;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const l=az(t),c=new URL(l);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const d=`sb-${c.hostname.split(".")[0]}-auth-token`,u={db:X8,realtime:J8,auth:Object.assign(Object.assign({},Z8),{storageKey:d}),global:Q8},h=iz(n??{},u);this.storageKey=(a=h.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(i=h.global.headers)!==null&&i!==void 0?i:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(m,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=h.auth)!==null&&o!==void 0?o:{},this.headers,h.global.fetch),this.fetch=nz(r,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new v8(new URL("rest/v1",c).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),this.storage=new K8(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new K6(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return eU(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,storageKey:i,flowType:o,lock:l,debug:c},d,u){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Jz({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),d),storageKey:i,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,flowType:o,lock:l,debug:c,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new O8(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const rU=(e,t,r)=>new tU(e,t,r);function nU(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}nU()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const sU="https://nzgrcblgylxbguzwtprr.supabase.co",aU="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im56Z3JjYmxneWx4Ymd1end0cHJyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQ2MTE2NzksImV4cCI6MjA3MDE4NzY3OX0.qvHVa261qPObPuN63rTeiG0DnwbPHMA-JxQaUG2NXjk",L=rU(sU,aU,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0},realtime:{params:{eventsPerSecond:10}}}),Ie=f.forwardRef(({className:e,type:t,...r},n)=>s.jsx("input",{type:t,className:le("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground/60 focus-visible:outline-none focus-visible:ring-0 focus-visible:ring-offset-0 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));Ie.displayName="Input";var EP={exports:{}},PP={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ad=f;function iU(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var oU=typeof Object.is=="function"?Object.is:iU,lU=ad.useState,cU=ad.useEffect,dU=ad.useLayoutEffect,uU=ad.useDebugValue;function fU(e,t){var r=t(),n=lU({inst:{value:r,getSnapshot:t}}),a=n[0].inst,i=n[1];return dU(function(){a.value=r,a.getSnapshot=t,Cx(a)&&i({inst:a})},[e,r,t]),cU(function(){return Cx(a)&&i({inst:a}),e(function(){Cx(a)&&i({inst:a})})},[e]),uU(r),r}function Cx(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!oU(e,r)}catch{return!0}}function hU(e,t){return t()}var mU=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?hU:fU;PP.useSyncExternalStore=ad.useSyncExternalStore!==void 0?ad.useSyncExternalStore:mU;EP.exports=PP;var pU=EP.exports;function gU(){return pU.useSyncExternalStore(vU,()=>!0,()=>!1)}function vU(){return()=>{}}var Eb="Avatar",[xU,gQ]=Cn(Eb),[yU,TP]=xU(Eb),RP=f.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[a,i]=f.useState("idle");return s.jsx(yU,{scope:r,imageLoadingStatus:a,onImageLoadingStatusChange:i,children:s.jsx(Le.span,{...n,ref:t})})});RP.displayName=Eb;var MP="AvatarImage",AP=f.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:a=()=>{},...i}=e,o=TP(MP,r),l=wU(n,i),c=jr(d=>{a(d),o.onImageLoadingStatusChange(d)});return kr(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?s.jsx(Le.img,{...i,ref:t,src:n}):null});AP.displayName=MP;var OP="AvatarFallback",DP=f.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...a}=e,i=TP(OP,r),[o,l]=f.useState(n===void 0);return f.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),o&&i.imageLoadingStatus!=="loaded"?s.jsx(Le.span,{...a,ref:t}):null});DP.displayName=OP;function AN(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function wU(e,{referrerPolicy:t,crossOrigin:r}){const n=gU(),a=f.useRef(null),i=n?(a.current||(a.current=new window.Image),a.current):null,[o,l]=f.useState(()=>AN(i,e));return kr(()=>{l(AN(i,e))},[i,e]),kr(()=>{const c=h=>()=>{l(h)};if(!i)return;const d=c("loaded"),u=c("error");return i.addEventListener("load",d),i.addEventListener("error",u),t&&(i.referrerPolicy=t),typeof r=="string"&&(i.crossOrigin=r),()=>{i.removeEventListener("load",d),i.removeEventListener("error",u)}},[i,r,t]),o}var IP=RP,FP=AP,LP=DP;const Ft=f.forwardRef(({className:e,isPro:t,...r},n)=>s.jsx(IP,{ref:n,className:le("relative inline-flex h-10 w-10 shrink-0 rounded-full",e),...r}));Ft.displayName=IP.displayName;const Lt=f.forwardRef(({className:e,...t},r)=>s.jsx(FP,{ref:r,className:le("aspect-square h-full w-full rounded-full overflow-hidden",e),...t}));Lt.displayName=FP.displayName;const $t=f.forwardRef(({className:e,...t},r)=>s.jsx(LP,{ref:r,className:le("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));$t.displayName=LP.displayName;const uo=({size:e=32,className:t})=>{const r="polygon(50% 0%, 60% 6%, 72% 6%, 79% 16%, 90% 21%, 90% 33%, 96% 45%, 90% 57%, 90% 69%, 79% 74%, 72% 84%, 60% 84%, 50% 90%, 40% 84%, 28% 84%, 21% 74%, 10% 69%, 10% 57%, 4% 45%, 10% 33%, 10% 21%, 21% 16%, 28% 6%, 40% 6%)",n=`${e}px`;return s.jsxs("div",{className:le("relative inline-flex items-center justify-center drop-shadow-sm",t),style:{width:n,height:n},"aria-label":"Selo Pro",children:[s.jsx("div",{className:"absolute inset-0 bg-blue-500",style:{clipPath:r,WebkitClipPath:r}}),s.jsx("div",{className:"absolute inset-0 ring-2 ring-white/60",style:{clipPath:r,WebkitClipPath:r}}),s.jsx(cs,{className:"relative text-white",style:{width:e*.45,height:e*.45}})]})};function Xe({className:e,...t}){return s.jsx("div",{className:le("animate-pulse rounded-md bg-muted",e),...t})}const tm=24,bU=()=>{const e=Or(),[t,r]=f.useState(""),{data:n,fetchNextPage:a,hasNextPage:i,isFetchingNextPage:o,isLoading:l}=js({queryKey:["musician-search",t],initialPageParam:0,queryFn:async({pageParam:S})=>{const R=S*tm;let U=L.from("profiles").select("id, display_name, avatar_url, username, requests_count, lat, lng, is_pro").eq("is_active",!0).eq("is_blocked",!1).order("display_name",{ascending:!0});const{data:B,error:re}=await U;if(re)throw re;const{data:G,error:H}=await L.from("songs").select("owner_id");if(H)throw H;const V=new Set((G||[]).map(J=>J.owner_id)),se=(B||[]).filter(J=>V.has(J.id)),te=t.trim();return te?se.filter(I=>{var D,C;return((D=I.display_name)==null?void 0:D.toLowerCase().includes(te.toLowerCase()))||((C=I.username)==null?void 0:C.toLowerCase().includes(te.toLowerCase()))}).slice(R,R+tm):se.slice(R,R+tm)},getNextPageParam:(S,R,U)=>{if(!(((S==null?void 0:S.length)??0)<tm))return U+1}}),c=f.useMemo(()=>((n==null?void 0:n.pages)||[]).flat(),[n==null?void 0:n.pages]),d=f.useMemo(()=>(c||[]).map(S=>S.id).filter(Boolean),[c]),[u,h]=f.useState({}),[m,p]=f.useState({}),[w,v]=f.useState({});f.useEffect(()=>{let S=!1;return(async()=>{if(!d.length){h({}),p({}),v({});return}try{const{data:R,error:U}=await L.from("follows").select("followee_id").in("followee_id",d);if(U)throw U;const B={};(R||[]).forEach(re=>{B[re.followee_id]=(B[re.followee_id]||0)+1}),S||h(B)}catch{S||h({})}try{const R={};c.forEach(U=>{R[U.id]=U.requests_count||0}),S||p(R)}catch{S||p({})}try{const{data:R,error:U}=await L.from("songs").select("id, owner_id").in("owner_id",d);if(U)throw U;const B=new Map,re=[];if((R||[]).forEach(G=>{G!=null&&G.id&&(G!=null&&G.owner_id)&&(B.set(G.id,G.owner_id),re.push(G.id))}),re.length===0)S||v({});else{const{data:G,error:H}=await L.from("song_likes").select("song_id").in("song_id",re);if(H)throw H;const V={};(G||[]).forEach(se=>{const te=B.get(se.song_id);te&&(V[te]=(V[te]||0)+1)}),S||v(V)}}catch{S||v({})}})(),()=>{S=!0}},[d.join(",")]);const[g,y]=f.useState("requests"),[x,b]=f.useState(null);f.useEffect(()=>{"geolocation"in navigator&&navigator.geolocation.getCurrentPosition(S=>b({lat:S.coords.latitude,lng:S.coords.longitude}),()=>{})},[]),f.useEffect(()=>{x&&y(S=>S==="requests"?"nearby":S)},[x]);const _=(S,R)=>{const U=te=>te*Math.PI/180,re=U(R.lat-S.lat),G=U(R.lng-S.lng),H=U(S.lat),V=U(R.lat),se=Math.sin(re/2)**2+Math.cos(H)*Math.cos(V)*Math.sin(G/2)**2;return 2*6371*Math.asin(Math.sqrt(se))},N=f.useMemo(()=>{const S=[...c];return g==="requests"?S.sort((R,U)=>(U.requests_count??0)-(R.requests_count??0)||String(R.display_name||"").localeCompare(String(U.display_name||""))):g==="nearby"&&x?S.map(R=>({...R,_dist:typeof R.lat=="number"&&typeof R.lng=="number"?_(x,{lat:R.lat,lng:R.lng}):Number.POSITIVE_INFINITY})).sort((R,U)=>R._dist-U._dist):S.sort((R,U)=>String(R.display_name||"").localeCompare(String(U.display_name||"")))},[c,g,x]),k=f.useRef(null);return f.useEffect(()=>{if(!k.current)return;const S=new IntersectionObserver(R=>{R[0].isIntersecting&&i&&!o&&a()},{rootMargin:"200px"});return S.observe(k.current),()=>S.disconnect()},[i,o,a]),s.jsx("section",{"aria-label":"Pesquisar",className:"mt-10",children:s.jsxs("div",{className:"max-w-3xl mx-auto",children:[s.jsx("label",{htmlFor:"q",className:"sr-only",children:"Pesquisar"}),s.jsxs("div",{className:"relative mb-4",children:[s.jsx($s,{className:"pointer-events-none absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground/60"}),s.jsx(Ie,{id:"q",value:t,onChange:S=>r(S.target.value),placeholder:"Pesquisar",className:"lg:text-2xl text-sm placeholder:text-muted-foreground py-8 font-normal pl-10 pr-10"}),t?s.jsx("button",{type:"button",onClick:()=>r(""),"aria-label":"Limpar busca",className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground/60 hover:text-muted-foreground",children:s.jsx(Mr,{className:"h-5 w-5"})}):null]}),s.jsx("div",{children:l?s.jsx("div",{className:"divide-y",children:Array.from({length:8}).map((S,R)=>s.jsxs("div",{className:"w-full py-3 flex items-center gap-3",children:[s.jsx(Xe,{className:"h-10 w-10 rounded-full"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx(Xe,{className:"h-4 w-40 mb-2"}),s.jsx(Xe,{className:"h-3 w-24"})]}),s.jsx(Xe,{className:"h-4 w-16"})]},R))}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"divide-y",children:N.map(S=>s.jsxs("button",{onClick:()=>e(`/${S.username}`),className:"w-full text-left py-3 flex items-center gap-3 hover-scale","aria-label":`Ir para página do músico ${S.display_name||"Sem nome"}`,children:[s.jsxs(Ft,{className:"h-10 w-10",isPro:!!S.is_pro,children:[s.jsx(Lt,{src:S.avatar_url||void 0,alt:`Avatar de ${S.display_name||"Músico"}`}),s.jsx($t,{children:(S.display_name||"M").charAt(0).toUpperCase()})]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("p",{className:"font-medium truncate",children:S.display_name||"Músico"}),S.is_pro&&s.jsx(uo,{size:12})]}),s.jsxs("p",{className:"text-sm text-muted-foreground truncate",children:["/",S.username||"usuario"]})]}),s.jsxs("div",{className:"text-sm text-muted-foreground whitespace-nowrap inline-flex items-center gap-3",children:[s.jsxs("span",{className:"inline-flex items-center gap-1",children:[s.jsx(nr,{className:"h-4 w-4"}),s.jsx("span",{children:Number.isFinite(m[S.id])?m[S.id]:0})]}),s.jsxs("span",{className:"inline-flex items-center gap-1",children:[s.jsx(Jc,{className:"h-4 w-4"}),s.jsx("span",{children:Number.isFinite(u[S.id])?u[S.id]:0})]})]})]},S.id))}),s.jsx("div",{ref:k,className:"h-12"})]})})]})})};function ar(){const[e,t]=f.useState(null),[r,n]=f.useState(null),[a,i]=f.useState(!0),[o,l]=f.useState(null);return f.useEffect(()=>{const{data:{subscription:c}}=L.auth.onAuthStateChange((d,u)=>{t(u),n((u==null?void 0:u.user)??null)});return L.auth.getSession().then(({data:d})=>{var u;t(d.session),n(((u=d.session)==null?void 0:u.user)??null),i(!1)}),()=>c.unsubscribe()},[]),f.useEffect(()=>{(async()=>{if(r!=null&&r.id&&o!==r.id)try{const{data:d}=await L.from("profiles").select("is_blocked").eq("id",r.id).maybeSingle();if(d!=null&&d.is_blocked)try{await L.auth.signOut()}finally{t(null),n(null),window.location.replace("/blocked")}else l(r.id)}catch{}})()},[r==null?void 0:r.id,o]),{session:e,user:r,loading:a}}const kx=768;function ml(){const[e,t]=f.useState(void 0);return f.useEffect(()=>{const r=window.matchMedia(`(max-width: ${kx-1}px)`),n=()=>{t(window.innerWidth<kx)};return r.addEventListener("change",n),t(window.innerWidth<kx),()=>r.removeEventListener("change",n)},[]),!!e}var jU="Separator",ON="horizontal",_U=["horizontal","vertical"],$P=f.forwardRef((e,t)=>{const{decorative:r,orientation:n=ON,...a}=e,i=NU(n)?n:ON,l=r?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return s.jsx(Le.div,{"data-orientation":i,...l,...a,ref:t})});$P.displayName=jU;function NU(e){return _U.includes(e)}var zP=$P;const al=f.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},a)=>s.jsx(zP,{ref:a,decorative:r,orientation:t,className:le("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));al.displayName=zP.displayName;var Ex="focusScope.autoFocusOnMount",Px="focusScope.autoFocusOnUnmount",DN={bubbles:!1,cancelable:!0},SU="FocusScope",Yf=f.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[l,c]=f.useState(null),d=jr(a),u=jr(i),h=f.useRef(null),m=ct(t,v=>c(v)),p=f.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;f.useEffect(()=>{if(n){let v=function(b){if(p.paused||!l)return;const _=b.target;l.contains(_)?h.current=_:ji(h.current,{select:!0})},g=function(b){if(p.paused||!l)return;const _=b.relatedTarget;_!==null&&(l.contains(_)||ji(h.current,{select:!0}))},y=function(b){if(document.activeElement===document.body)for(const N of b)N.removedNodes.length>0&&ji(l)};document.addEventListener("focusin",v),document.addEventListener("focusout",g);const x=new MutationObserver(y);return l&&x.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",g),x.disconnect()}}},[n,l,p.paused]),f.useEffect(()=>{if(l){FN.add(p);const v=document.activeElement;if(!l.contains(v)){const y=new CustomEvent(Ex,DN);l.addEventListener(Ex,d),l.dispatchEvent(y),y.defaultPrevented||(CU(RU(UP(l)),{select:!0}),document.activeElement===v&&ji(l))}return()=>{l.removeEventListener(Ex,d),setTimeout(()=>{const y=new CustomEvent(Px,DN);l.addEventListener(Px,u),l.dispatchEvent(y),y.defaultPrevented||ji(v??document.body,{select:!0}),l.removeEventListener(Px,u),FN.remove(p)},0)}}},[l,d,u,p]);const w=f.useCallback(v=>{if(!r&&!n||p.paused)return;const g=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,y=document.activeElement;if(g&&y){const x=v.currentTarget,[b,_]=kU(x);b&&_?!v.shiftKey&&y===_?(v.preventDefault(),r&&ji(b,{select:!0})):v.shiftKey&&y===b&&(v.preventDefault(),r&&ji(_,{select:!0})):y===x&&v.preventDefault()}},[r,n,p.paused]);return s.jsx(Le.div,{tabIndex:-1,...o,ref:m,onKeyDown:w})});Yf.displayName=SU;function CU(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(ji(n,{select:t}),document.activeElement!==r)return}function kU(e){const t=UP(e),r=IN(t,e),n=IN(t.reverse(),e);return[r,n]}function UP(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function IN(e,t){for(const r of e)if(!EU(r,{upTo:t}))return r}function EU(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function PU(e){return e instanceof HTMLInputElement&&"select"in e}function ji(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&PU(e)&&t&&e.select()}}var FN=TU();function TU(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=LN(e,t),e.unshift(t)},remove(t){var r;e=LN(e,t),(r=e[0])==null||r.resume()}}}function LN(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function RU(e){return e.filter(t=>t.tagName!=="A")}var Tx=0;function Eg(){f.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??$N()),document.body.insertAdjacentElement("beforeend",e[1]??$N()),Tx++,()=>{Tx===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Tx--}},[])}function $N(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var ca=function(){return ca=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},ca.apply(this,arguments)};function BP(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function MU(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}var Pm="right-scroll-bar-position",Tm="width-before-scroll-bar",AU="with-scroll-bars-hidden",OU="--removed-body-scroll-bar-size";function Rx(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function DU(e,t){var r=f.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=t,r.facade}var IU=typeof window<"u"?f.useLayoutEffect:f.useEffect,zN=new WeakMap;function FU(e,t){var r=DU(null,function(n){return e.forEach(function(a){return Rx(a,n)})});return IU(function(){var n=zN.get(r);if(n){var a=new Set(n),i=new Set(e),o=r.current;a.forEach(function(l){i.has(l)||Rx(l,null)}),i.forEach(function(l){a.has(l)||Rx(l,o)})}zN.set(r,e)},[e]),r}function LU(e){return e}function $U(e,t){t===void 0&&(t=LU);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var o=t(i,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(n=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(l){return i(l)},filter:function(){return r}}},assignMedium:function(i){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(i),o=r}var c=function(){var u=o;o=[],u.forEach(i)},d=function(){return Promise.resolve().then(c)};d(),r={push:function(u){o.push(u),d()},filter:function(u){return o=o.filter(u),r}}}};return a}function zU(e){e===void 0&&(e={});var t=$U(null);return t.options=ca({async:!0,ssr:!1},e),t}var qP=function(e){var t=e.sideCar,r=BP(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return f.createElement(n,ca({},r))};qP.isSideCarExport=!0;function UU(e,t){return e.useMedium(t),qP}var VP=zU(),Mx=function(){},Pg=f.forwardRef(function(e,t){var r=f.useRef(null),n=f.useState({onScrollCapture:Mx,onWheelCapture:Mx,onTouchMoveCapture:Mx}),a=n[0],i=n[1],o=e.forwardProps,l=e.children,c=e.className,d=e.removeScrollBar,u=e.enabled,h=e.shards,m=e.sideCar,p=e.noRelative,w=e.noIsolation,v=e.inert,g=e.allowPinchZoom,y=e.as,x=y===void 0?"div":y,b=e.gapMode,_=BP(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),N=m,k=FU([r,t]),S=ca(ca({},_),a);return f.createElement(f.Fragment,null,u&&f.createElement(N,{sideCar:VP,removeScrollBar:d,shards:h,noRelative:p,noIsolation:w,inert:v,setCallbacks:i,allowPinchZoom:!!g,lockRef:r,gapMode:b}),o?f.cloneElement(f.Children.only(l),ca(ca({},S),{ref:k})):f.createElement(x,ca({},S,{className:c,ref:k}),l))});Pg.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Pg.classNames={fullWidth:Tm,zeroRight:Pm};var BU=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function qU(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=BU();return t&&e.setAttribute("nonce",t),e}function VU(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function WU(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var HU=function(){var e=0,t=null;return{add:function(r){e==0&&(t=qU())&&(VU(t,r),WU(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},KU=function(){var e=HU();return function(t,r){f.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},WP=function(){var e=KU(),t=function(r){var n=r.styles,a=r.dynamic;return e(n,a),null};return t},GU={left:0,top:0,right:0,gap:0},Ax=function(e){return parseInt(e||"",10)||0},YU=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[Ax(r),Ax(n),Ax(a)]},QU=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return GU;var t=YU(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},XU=WP(),Rc="data-scroll-locked",ZU=function(e,t,r,n){var a=e.left,i=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(AU,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(Rc,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Pm,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Tm,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Pm," .").concat(Pm,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Tm," .").concat(Tm,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Rc,`] {
    `).concat(OU,": ").concat(l,`px;
  }
`)},UN=function(){var e=parseInt(document.body.getAttribute(Rc)||"0",10);return isFinite(e)?e:0},JU=function(){f.useEffect(function(){return document.body.setAttribute(Rc,(UN()+1).toString()),function(){var e=UN()-1;e<=0?document.body.removeAttribute(Rc):document.body.setAttribute(Rc,e.toString())}},[])},eB=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,a=n===void 0?"margin":n;JU();var i=f.useMemo(function(){return QU(a)},[a]);return f.createElement(XU,{styles:ZU(i,!t,a,r?"":"!important")})},R0=!1;if(typeof window<"u")try{var rm=Object.defineProperty({},"passive",{get:function(){return R0=!0,!0}});window.addEventListener("test",rm,rm),window.removeEventListener("test",rm,rm)}catch{R0=!1}var Yl=R0?{passive:!1}:!1,tB=function(e){return e.tagName==="TEXTAREA"},HP=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!tB(e)&&r[t]==="visible")},rB=function(e){return HP(e,"overflowY")},nB=function(e){return HP(e,"overflowX")},BN=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=KP(e,n);if(a){var i=GP(e,n),o=i[1],l=i[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},sB=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},aB=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},KP=function(e,t){return e==="v"?rB(t):nB(t)},GP=function(e,t){return e==="v"?sB(t):aB(t)},iB=function(e,t){return e==="h"&&t==="rtl"?-1:1},oB=function(e,t,r,n,a){var i=iB(e,window.getComputedStyle(t).direction),o=i*n,l=r.target,c=t.contains(l),d=!1,u=o>0,h=0,m=0;do{if(!l)break;var p=GP(e,l),w=p[0],v=p[1],g=p[2],y=v-g-i*w;(w||y)&&KP(e,l)&&(h+=y,m+=w);var x=l.parentNode;l=x&&x.nodeType===Node.DOCUMENT_FRAGMENT_NODE?x.host:x}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(u&&(Math.abs(h)<1||!a)||!u&&(Math.abs(m)<1||!a))&&(d=!0),d},nm=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},qN=function(e){return[e.deltaX,e.deltaY]},VN=function(e){return e&&"current"in e?e.current:e},lB=function(e,t){return e[0]===t[0]&&e[1]===t[1]},cB=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},dB=0,Ql=[];function uB(e){var t=f.useRef([]),r=f.useRef([0,0]),n=f.useRef(),a=f.useState(dB++)[0],i=f.useState(WP)[0],o=f.useRef(e);f.useEffect(function(){o.current=e},[e]),f.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var v=MU([e.lockRef.current],(e.shards||[]).map(VN),!0).filter(Boolean);return v.forEach(function(g){return g.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),v.forEach(function(g){return g.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=f.useCallback(function(v,g){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!o.current.allowPinchZoom;var y=nm(v),x=r.current,b="deltaX"in v?v.deltaX:x[0]-y[0],_="deltaY"in v?v.deltaY:x[1]-y[1],N,k=v.target,S=Math.abs(b)>Math.abs(_)?"h":"v";if("touches"in v&&S==="h"&&k.type==="range")return!1;var R=BN(S,k);if(!R)return!0;if(R?N=S:(N=S==="v"?"h":"v",R=BN(S,k)),!R)return!1;if(!n.current&&"changedTouches"in v&&(b||_)&&(n.current=N),!N)return!0;var U=n.current||N;return oB(U,g,v,U==="h"?b:_,!0)},[]),c=f.useCallback(function(v){var g=v;if(!(!Ql.length||Ql[Ql.length-1]!==i)){var y="deltaY"in g?qN(g):nm(g),x=t.current.filter(function(N){return N.name===g.type&&(N.target===g.target||g.target===N.shadowParent)&&lB(N.delta,y)})[0];if(x&&x.should){g.cancelable&&g.preventDefault();return}if(!x){var b=(o.current.shards||[]).map(VN).filter(Boolean).filter(function(N){return N.contains(g.target)}),_=b.length>0?l(g,b[0]):!o.current.noIsolation;_&&g.cancelable&&g.preventDefault()}}},[]),d=f.useCallback(function(v,g,y,x){var b={name:v,delta:g,target:y,should:x,shadowParent:fB(y)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(_){return _!==b})},1)},[]),u=f.useCallback(function(v){r.current=nm(v),n.current=void 0},[]),h=f.useCallback(function(v){d(v.type,qN(v),v.target,l(v,e.lockRef.current))},[]),m=f.useCallback(function(v){d(v.type,nm(v),v.target,l(v,e.lockRef.current))},[]);f.useEffect(function(){return Ql.push(i),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:m}),document.addEventListener("wheel",c,Yl),document.addEventListener("touchmove",c,Yl),document.addEventListener("touchstart",u,Yl),function(){Ql=Ql.filter(function(v){return v!==i}),document.removeEventListener("wheel",c,Yl),document.removeEventListener("touchmove",c,Yl),document.removeEventListener("touchstart",u,Yl)}},[]);var p=e.removeScrollBar,w=e.inert;return f.createElement(f.Fragment,null,w?f.createElement(i,{styles:cB(a)}):null,p?f.createElement(eB,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function fB(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const hB=UU(VP,uB);var Qf=f.forwardRef(function(e,t){return f.createElement(Pg,ca({},e,{ref:t,sideCar:hB}))});Qf.classNames=Pg.classNames;var mB=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Xl=new WeakMap,sm=new WeakMap,am={},Ox=0,YP=function(e){return e&&(e.host||YP(e.parentNode))},pB=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=YP(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},gB=function(e,t,r,n){var a=pB(t,Array.isArray(e)?e:[e]);am[r]||(am[r]=new WeakMap);var i=am[r],o=[],l=new Set,c=new Set(a),d=function(h){!h||l.has(h)||(l.add(h),d(h.parentNode))};a.forEach(d);var u=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(m){if(l.has(m))u(m);else try{var p=m.getAttribute(n),w=p!==null&&p!=="false",v=(Xl.get(m)||0)+1,g=(i.get(m)||0)+1;Xl.set(m,v),i.set(m,g),o.push(m),v===1&&w&&sm.set(m,!0),g===1&&m.setAttribute(r,"true"),w||m.setAttribute(n,"true")}catch(y){console.error("aria-hidden: cannot operate on ",m,y)}})};return u(t),l.clear(),Ox++,function(){o.forEach(function(h){var m=Xl.get(h)-1,p=i.get(h)-1;Xl.set(h,m),i.set(h,p),m||(sm.has(h)||h.removeAttribute(n),sm.delete(h)),p||h.removeAttribute(r)}),Ox--,Ox||(Xl=new WeakMap,Xl=new WeakMap,sm=new WeakMap,am={})}},Tg=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),a=mB(e);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live]"))),gB(n,a,r,"aria-hidden")):function(){return null}},Rg="Dialog",[QP,XP]=Cn(Rg),[vB,Zs]=QP(Rg),ZP=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:o=!0}=e,l=f.useRef(null),c=f.useRef(null),[d,u]=ba({prop:n,defaultProp:a??!1,onChange:i,caller:Rg});return s.jsx(vB,{scope:t,triggerRef:l,contentRef:c,contentId:en(),titleId:en(),descriptionId:en(),open:d,onOpenChange:u,onOpenToggle:f.useCallback(()=>u(h=>!h),[u]),modal:o,children:r})};ZP.displayName=Rg;var JP="DialogTrigger",eT=f.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Zs(JP,r),i=ct(t,a.triggerRef);return s.jsx(Le.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":Rb(a.open),...n,ref:i,onClick:Se(e.onClick,a.onOpenToggle)})});eT.displayName=JP;var Pb="DialogPortal",[xB,tT]=QP(Pb,{forceMount:void 0}),rT=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:a}=e,i=Zs(Pb,t);return s.jsx(xB,{scope:t,forceMount:r,children:f.Children.map(n,o=>s.jsx(sn,{present:r||i.open,children:s.jsx(_d,{asChild:!0,container:a,children:o})}))})};rT.displayName=Pb;var bp="DialogOverlay",nT=f.forwardRef((e,t)=>{const r=tT(bp,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=Zs(bp,e.__scopeDialog);return i.modal?s.jsx(sn,{present:n||i.open,children:s.jsx(wB,{...a,ref:t})}):null});nT.displayName=bp;var yB=oo("DialogOverlay.RemoveScroll"),wB=f.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Zs(bp,r);return s.jsx(Qf,{as:yB,allowPinchZoom:!0,shards:[a.contentRef],children:s.jsx(Le.div,{"data-state":Rb(a.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),pl="DialogContent",sT=f.forwardRef((e,t)=>{const r=tT(pl,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=Zs(pl,e.__scopeDialog);return s.jsx(sn,{present:n||i.open,children:i.modal?s.jsx(bB,{...a,ref:t}):s.jsx(jB,{...a,ref:t})})});sT.displayName=pl;var bB=f.forwardRef((e,t)=>{const r=Zs(pl,e.__scopeDialog),n=f.useRef(null),a=ct(t,r.contentRef,n);return f.useEffect(()=>{const i=n.current;if(i)return Tg(i)},[]),s.jsx(aT,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Se(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Se(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:Se(e.onFocusOutside,i=>i.preventDefault())})}),jB=f.forwardRef((e,t)=>{const r=Zs(pl,e.__scopeDialog),n=f.useRef(!1),a=f.useRef(!1);return s.jsx(aT,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((d=r.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),aT=f.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=e,l=Zs(pl,r),c=f.useRef(null),d=ct(t,c);return Eg(),s.jsxs(s.Fragment,{children:[s.jsx(Yf,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx(Pl,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Rb(l.open),...o,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(NB,{titleId:l.titleId}),s.jsx(CB,{contentRef:c,descriptionId:l.descriptionId})]})]})}),Tb="DialogTitle",iT=f.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Zs(Tb,r);return s.jsx(Le.h2,{id:a.titleId,...n,ref:t})});iT.displayName=Tb;var oT="DialogDescription",lT=f.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Zs(oT,r);return s.jsx(Le.p,{id:a.descriptionId,...n,ref:t})});lT.displayName=oT;var cT="DialogClose",dT=f.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Zs(cT,r);return s.jsx(Le.button,{type:"button",...n,ref:t,onClick:Se(e.onClick,()=>a.onOpenChange(!1))})});dT.displayName=cT;function Rb(e){return e?"open":"closed"}var uT="DialogTitleWarning",[_B,fT]=GI(uT,{contentName:pl,titleName:Tb,docsSlug:"dialog"}),NB=({titleId:e})=>{const t=fT(uT),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return f.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},SB="DialogDescriptionWarning",CB=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${fT(SB).contentName}}.`;return f.useEffect(()=>{var i;const a=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},Mg=ZP,Mb=eT,Ag=rT,Md=nT,Ad=sT,Xf=iT,Zf=lT,Og=dT;const zs=Mg,kB=Mb,EB=Ag,hT=f.forwardRef(({className:e,...t},r)=>s.jsx(Md,{className:le("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));hT.displayName=Md.displayName;const PB=Tl("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),ms=f.forwardRef(({side:e="right",className:t,children:r,hideClose:n,...a},i)=>s.jsxs(EB,{children:[s.jsx(hT,{}),s.jsxs(Ad,{ref:i,className:le(PB({side:e}),t),...a,children:[r,!n&&s.jsxs(Og,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-0 focus:ring-offset-0 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[s.jsx(Mr,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));ms.displayName=Ad.displayName;const TB=f.forwardRef(({className:e,...t},r)=>s.jsx(Xf,{ref:r,className:le("text-lg font-semibold text-foreground",e),...t}));TB.displayName=Xf.displayName;const RB=f.forwardRef(({className:e,...t},r)=>s.jsx(Zf,{ref:r,className:le("text-sm text-muted-foreground",e),...t}));RB.displayName=Zf.displayName;const MB="sidebar:state",AB=60*60*24*7,OB="13rem",DB="16rem",IB="3rem",FB="b",mT=f.createContext(null);function Od(){const e=f.useContext(mT);if(!e)throw new Error("useSidebar must be used within a SidebarProvider.");return e}const oi=f.forwardRef(({defaultOpen:e=!0,open:t,onOpenChange:r,className:n,style:a,children:i,...o},l)=>{const c=ml(),[d,u]=f.useState(!1),[h,m]=f.useState(e),p=t??h,w=f.useCallback(x=>{const b=typeof x=="function"?x(p):x;r?r(b):m(b),document.cookie=`${MB}=${b}; path=/; max-age=${AB}`},[r,p]),v=f.useCallback(()=>c?u(x=>!x):w(x=>!x),[c,w,u]);f.useEffect(()=>{const x=b=>{b.key===FB&&(b.metaKey||b.ctrlKey)&&(b.preventDefault(),v())};return window.addEventListener("keydown",x),()=>window.removeEventListener("keydown",x)},[v]);const g=p?"expanded":"collapsed",y=f.useMemo(()=>({state:g,open:p,setOpen:w,isMobile:c,openMobile:d,setOpenMobile:u,toggleSidebar:v}),[g,p,w,c,d,u,v]);return s.jsx(mT.Provider,{value:y,children:s.jsx(TE,{delayDuration:0,children:s.jsx("div",{style:{"--sidebar-width":OB,"--sidebar-width-icon":IB,...a},className:le("group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar",n),ref:l,...o,children:i})})})});oi.displayName="SidebarProvider";const Ab=f.forwardRef(({side:e="left",variant:t="sidebar",collapsible:r="offcanvas",className:n,children:a,...i},o)=>{const{isMobile:l,state:c,openMobile:d,setOpenMobile:u}=Od();return r==="none"?s.jsx("div",{className:le("flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",n),ref:o,...i,children:a}):l?s.jsx(zs,{open:d,onOpenChange:u,...i,children:s.jsx(ms,{"data-sidebar":"sidebar","data-mobile":"true",className:"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden",style:{"--sidebar-width":DB},side:e,children:s.jsx("div",{className:"flex h-full w-full flex-col",children:a})})}):s.jsxs("div",{ref:o,className:"group peer hidden md:block text-sidebar-foreground","data-state":c,"data-collapsible":c==="collapsed"?r:"","data-variant":t,"data-side":e,children:[s.jsx("div",{className:le("duration-200 relative h-svh w-[--sidebar-width] bg-transparent transition-[width] ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",t==="floating"||t==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]")}),s.jsx("div",{className:le("duration-200 fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] ease-linear md:flex",e==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",t==="floating"||t==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",n),...i,children:s.jsx("div",{"data-sidebar":"sidebar",className:"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow",children:a})})]})});Ab.displayName="Sidebar";const Dd=f.forwardRef(({className:e,onClick:t,...r},n)=>{const{toggleSidebar:a}=Od();return s.jsxs(O,{ref:n,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:le("h-7 w-7",e),onClick:i=>{t==null||t(i),a()},...r,children:[s.jsx(Z3,{}),s.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})});Dd.displayName="SidebarTrigger";const LB=f.forwardRef(({className:e,...t},r)=>{const{toggleSidebar:n}=Od();return s.jsx("button",{ref:r,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:n,title:"Toggle Sidebar",className:le("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] hover:after:bg-sidebar-border group-data-[side=left]:-right-4 group-data-[side=right]:left-0 sm:flex","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",e),...t})});LB.displayName="SidebarRail";const $B=f.forwardRef(({className:e,...t},r)=>s.jsx("main",{ref:r,className:le("relative flex min-h-svh flex-1 flex-col bg-background","peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",e),...t}));$B.displayName="SidebarInset";const zB=f.forwardRef(({className:e,...t},r)=>s.jsx(Ie,{ref:r,"data-sidebar":"input",className:le("h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",e),...t}));zB.displayName="SidebarInput";const Ob=f.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,"data-sidebar":"header",className:le("flex flex-col gap-2 p-2",e),...t}));Ob.displayName="SidebarHeader";const UB=f.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,"data-sidebar":"footer",className:le("flex flex-col gap-2 p-2",e),...t}));UB.displayName="SidebarFooter";const jf=f.forwardRef(({className:e,...t},r)=>s.jsx(al,{ref:r,"data-sidebar":"separator",className:le("mx-2 w-auto bg-sidebar-border",e),...t}));jf.displayName="SidebarSeparator";const Db=f.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,"data-sidebar":"content",className:le("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",e),...t}));Db.displayName="SidebarContent";const _f=f.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,"data-sidebar":"group",className:le("relative flex w-full min-w-0 flex-col p-2",e),...t}));_f.displayName="SidebarGroup";const Nf=f.forwardRef(({className:e,asChild:t=!1,...r},n)=>{const a=t?El:"div";return s.jsx(a,{ref:n,"data-sidebar":"group-label",className:le("duration-200 flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opa] ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",e),...r})});Nf.displayName="SidebarGroupLabel";const BB=f.forwardRef(({className:e,asChild:t=!1,...r},n)=>{const a=t?El:"button";return s.jsx(a,{ref:n,"data-sidebar":"group-action",className:le("absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","group-data-[collapsible=icon]:hidden",e),...r})});BB.displayName="SidebarGroupAction";const Sf=f.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,"data-sidebar":"group-content",className:le("w-full text-sm",e),...t}));Sf.displayName="SidebarGroupContent";const Cf=f.forwardRef(({className:e,...t},r)=>s.jsx("ul",{ref:r,"data-sidebar":"menu",className:le("flex w-full min-w-0 flex-col gap-1",e),...t}));Cf.displayName="SidebarMenu";const Ka=f.forwardRef(({className:e,...t},r)=>s.jsx("li",{ref:r,"data-sidebar":"menu-item",className:le("group/menu-item relative",e),...t}));Ka.displayName="SidebarMenuItem";const qB=Tl("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),Ga=f.forwardRef(({asChild:e=!1,isActive:t=!1,variant:r="default",size:n="default",tooltip:a,className:i,...o},l)=>{const c=e?El:"button",{isMobile:d,state:u}=Od(),h=s.jsx(c,{ref:l,"data-sidebar":"menu-button","data-size":n,"data-active":t,className:le(qB({variant:r,size:n}),i),...o});return a?(typeof a=="string"&&(a={children:a}),s.jsxs(a5,{children:[s.jsx(i5,{asChild:!0,children:h}),s.jsx(RE,{side:"right",align:"center",hidden:u!=="collapsed"||d,...a})]})):h});Ga.displayName="SidebarMenuButton";const VB=f.forwardRef(({className:e,asChild:t=!1,showOnHover:r=!1,...n},a)=>{const i=t?El:"button";return s.jsx(i,{ref:a,"data-sidebar":"menu-action",className:le("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 peer-hover/menu-button:text-sidebar-accent-foreground [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",r&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",e),...n})});VB.displayName="SidebarMenuAction";const WB=f.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,"data-sidebar":"menu-badge",className:le("absolute right-1 flex h-5 min-w-5 items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground select-none pointer-events-none","peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",e),...t}));WB.displayName="SidebarMenuBadge";const HB=f.forwardRef(({className:e,showIcon:t=!1,...r},n)=>{const a=f.useMemo(()=>`${Math.floor(Math.random()*40)+50}%`,[]);return s.jsxs("div",{ref:n,"data-sidebar":"menu-skeleton",className:le("rounded-md h-8 flex gap-2 px-2 items-center",e),...r,children:[t&&s.jsx(Xe,{className:"size-4 rounded-md","data-sidebar":"menu-skeleton-icon"}),s.jsx(Xe,{className:"h-4 flex-1 max-w-[--skeleton-width]","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":a}})]})});HB.displayName="SidebarMenuSkeleton";const KB=f.forwardRef(({className:e,...t},r)=>s.jsx("ul",{ref:r,"data-sidebar":"menu-sub",className:le("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",e),...t}));KB.displayName="SidebarMenuSub";const GB=f.forwardRef(({...e},t)=>s.jsx("li",{ref:t,...e}));GB.displayName="SidebarMenuSubItem";const YB=f.forwardRef(({asChild:e=!1,size:t="md",isActive:r,className:n,...a},i)=>{const o=e?El:"a";return s.jsx(o,{ref:i,"data-sidebar":"menu-sub-button","data-size":t,"data-active":r,className:le("flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",t==="sm"&&"text-xs",t==="md"&&"text-sm","group-data-[collapsible=icon]:hidden",n),...a})});YB.displayName="SidebarMenuSubButton";const QB=[{title:"Perfil",url:"/musician/profile",icon:tb},{title:"QR Code",url:"/musician/qr",icon:ju},{title:"Catálogo",url:"/musician/catalogo",icon:nr},{title:"Pedidos",url:"/musician/pedidos",icon:F_},{title:"Agenda",url:"/musician/agenda",icon:wn},{title:"Músicos",url:"/musician/perfis",icon:Jc},{title:"Seguindo",url:"/musician/seguindo",icon:Jc},{title:"Extrato",url:"/musician/extrato",icon:J3},{title:"Meus pedidos",url:"/requests",icon:F_}];function Jf(){const{state:e,isMobile:t,setOpenMobile:r}=Od(),n=e==="collapsed",i=Xs().pathname,o=g=>i===g,l=Or(),{user:c}=ar(),{data:d}=Ze({queryKey:["sidebar-profile",c==null?void 0:c.id],enabled:!!(c!=null&&c.id),queryFn:async()=>{const{data:g,error:y}=await L.from("profiles").select("display_name, avatar_url, is_pro").eq("id",c.id).maybeSingle();if(y)throw y;return g}}),u=(d==null?void 0:d.display_name)||(c==null?void 0:c.email)||"Músico",h=(d==null?void 0:d.avatar_url)||void 0,{resolvedTheme:m,setTheme:p}=as(),w=async()=>{await L.auth.signOut(),l("/")},v=()=>p(m==="dark"?"light":"dark");return s.jsx(Ab,{collapsible:"offcanvas",variant:"floating",children:s.jsxs(Db,{children:[s.jsx(Ob,{children:s.jsx("div",{className:"flex items-center justify-between px-2",children:s.jsxs("div",{className:n?"flex items-center gap-2":"flex flex-col items-center gap-1",children:[s.jsxs(Ft,{className:"h-10 w-10",isPro:!!(d!=null&&d.is_pro),children:[s.jsx(Lt,{src:h,alt:u}),s.jsx($t,{children:(u||"M").charAt(0).toUpperCase()})]}),!n&&s.jsx("p",{className:"text-xs text-muted-foreground truncate max-w-[10rem]",children:u})]})})}),s.jsx(jf,{}),s.jsxs(_f,{children:[s.jsx(Nf,{children:"Painel"}),s.jsx(Sf,{children:s.jsx(Cf,{children:QB.map(g=>s.jsx(Ka,{children:s.jsx(Ga,{asChild:!0,isActive:o(g.url),children:s.jsxs(xp,{to:g.url,end:!0,onClick:()=>{t&&r(!1)},children:[s.jsx(g.icon,{className:"mr-2 h-4 w-4 text-primary"}),!n&&s.jsx("span",{className:"text-muted-foreground/90",children:g.title})]})})},g.title))})})]}),s.jsx(jf,{}),s.jsxs(_f,{children:[s.jsx(Nf,{children:"Conta"}),s.jsx(Sf,{children:s.jsxs(Cf,{children:[s.jsx(Ka,{children:s.jsxs(Ga,{onClick:v,children:[m==="dark"?s.jsx(lg,{className:"mr-2 h-4 w-4 text-primary"}):s.jsx(og,{className:"mr-2 h-4 w-4 text-primary"}),!n&&s.jsx("span",{className:"text-muted-foreground/90",children:m==="dark"?"Tema claro":"Tema escuro"})]})}),s.jsx(Ka,{children:s.jsx(Ga,{asChild:!0,isActive:o("/"),children:s.jsxs(xp,{to:"/",end:!0,onClick:()=>{t&&r(!1)},children:[s.jsx(U2,{className:"mr-2 h-4 w-4 text-primary"}),!n&&s.jsx("span",{className:"text-muted-foreground/90",children:"Início"})]})})}),s.jsx(Ka,{children:s.jsxs(Ga,{onClick:w,children:[s.jsx(B2,{className:"mr-2 h-4 w-4 text-primary"}),!n&&s.jsx("span",{className:"text-muted-foreground/90",children:"Sair"})]})})]})})]})]})})}function Id({isVisible:e,className:t=""}){return s.jsxs("div",{className:`flex items-center gap-2 px-2 py-1 bg-orange-100 dark:bg-orange-900/30 border border-orange-200 dark:border-orange-800 rounded-full transition-all duration-300 ease-in-out ${e?"opacity-100 scale-100 translate-x-0":"opacity-0 scale-95 -translate-x-2 pointer-events-none"} ${t}`,children:[s.jsx("svg",{className:"w-3 h-3 text-orange-600 dark:text-orange-400",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),s.jsx("span",{className:"text-xs font-medium text-orange-700 dark:text-orange-300",children:"Conta Inativa"})]})}function eh({userId:e,isMusician:t}){const[r,n]=f.useState(!1),{data:a,isLoading:i,error:o}=Ze({queryKey:["profile-status",e],enabled:!!e&&t,queryFn:async()=>{const{data:d,error:u}=await L.from("profiles").select("display_name, avatar_url, cover_url, description, username, whatsapp").eq("id",e).maybeSingle();if(u)throw u;return d},staleTime:5*60*1e3,gcTime:10*60*1e3}),l=f.useMemo(()=>{if(!t)return!0;if(!a)return!1;const d=(a.whatsapp||"").replace(/\D/g,"");return!!((a.display_name||"").trim()&&(a.avatar_url||"").trim()&&(a.cover_url||"").trim()&&(a.description||"").trim()&&(a.username||"").trim()&&d)},[t,a]);f.useEffect(()=>{if(e){n(!1);return}!i&&a!==null&&!r&&n(!0)},[e,i,a,r]);const c=f.useMemo(()=>t&&r&&!i&&!l&&a!==null,[t,r,i,l,a]);return{profile:a,isLoading:i,error:o,isActiveComputed:l,shouldShowIndicator:c,isInitialized:r}}const XB=()=>{var h,m,p;const e=Or(),{user:t}=ar(),[r,n]=f.useState(!1),a=((h=t==null?void 0:t.user_metadata)==null?void 0:h.full_name)||(t==null?void 0:t.email)||"Usuário",i=((m=t==null?void 0:t.user_metadata)==null?void 0:m.avatar_url)||void 0,o=async()=>{await L.auth.signOut(),e("/")},{data:l}=Ze({queryKey:["roles",t==null?void 0:t.id],enabled:!!(t!=null&&t.id),queryFn:async()=>{const{data:w,error:v}=await L.from("user_roles").select("role").eq("user_id",t.id);if(v)throw v;return w}}),c=(l||[]).some(w=>w.role==="musician"),{shouldShowIndicator:d}=eh({userId:t==null?void 0:t.id,isMusician:c}),{resolvedTheme:u}=as();return s.jsx(oi,{children:s.jsxs("div",{className:"min-h-screen flex w-full bg-background",children:[c?s.jsx(Jf,{}):null,s.jsxs("main",{className:"flex-1 flex flex-col",children:[s.jsx(Zt,{title:"Pedidos de Música - Início",description:"Crie e gerencie seus pedidos de música."}),s.jsx("header",{className:"sticky top-0 z-40 h-12 flex items-center bg-background/80 supports-[backdrop-filter]:bg-background/60 backdrop-blur border-b px-4",children:s.jsxs("div",{className:"flex w-full items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[c?s.jsx(Dd,{className:"mr-1"}):t?s.jsx(O,{variant:"ghost",size:"icon",onClick:()=>n(!0),"aria-label":"Abrir menu",children:s.jsx(Vf,{className:"h-5 w-5"})}):null,s.jsx(Qt,{to:"/",className:"font-semibold",children:s.jsx("img",{src:u==="dark"?"/logo_avaplay.png":"/logo_avaplay_amarelo.png",alt:"AVAPlay",className:"h-6"})}),s.jsx(Id,{isVisible:d})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(jb,{}),t?null:s.jsx(O,{variant:"ghost",className:"h-8 px-3 text-xs hover:text-primary hover:bg-transparent flex items-center",onClick:()=>e("/auth"),children:"Entrar"})]})]})}),s.jsxs("section",{className:"max-w-5xl mx-auto px-4 py-16",children:[s.jsx("section",{className:"text-center",children:s.jsx("p",{className:"text-lg mb-6 bg-gradient-to-r from-yellow-200 via-yellow-400 via-amber-400 to-orange-500 bg-clip-text text-transparent font-bold text-xl",children:"Peça sua música, envie dedicatórias, contribua em tempo real."})}),s.jsx(bU,{})]}),s.jsx("footer",{className:"mt-auto py-6 text-center text-xs text-muted-foreground",children:"© 2025 - AVAplay"}),t&&s.jsx(zs,{open:r,onOpenChange:n,children:s.jsx(ms,{side:"left",className:"w-[16rem] p-0",children:s.jsxs("nav",{className:"p-2",children:[s.jsxs("div",{className:"flex items-center gap-3 p-3 border-b mb-2",children:[s.jsxs(Ft,{className:"h-10 w-10",isPro:!!((p=t==null?void 0:t.user_metadata)!=null&&p.is_pro),children:[s.jsx(Lt,{src:i,alt:a??"Usuário"}),s.jsx($t,{children:(a||"U").charAt(0).toUpperCase()})]}),s.jsx("div",{className:"min-w-0",children:s.jsx("p",{className:"text-sm font-medium truncate",children:a})})]}),c&&s.jsx(O,{variant:"ghost",className:"w-full justify-start",onClick:()=>{n(!1),e("/musician")},children:"Painel"}),s.jsx(O,{variant:"ghost",className:"w-full justify-start",onClick:()=>{n(!1),e("/requests")},children:"Meus Pedidos"}),s.jsx(O,{variant:"ghost",className:"w-full justify-start",onClick:()=>{n(!1),e("/conexoes")},children:"Conexões"}),s.jsx(O,{variant:"ghost",className:"w-full justify-start",onClick:()=>{n(!1),e("/musician/profile")},children:"Editar perfil"}),s.jsx(O,{variant:"ghost",className:"w-full justify-start",onClick:()=>{n(!1),o()},children:"Sair"})]})})})]})]})})};var ZB="Label",pT=f.forwardRef((e,t)=>s.jsx(Le.label,{...e,ref:t,onMouseDown:r=>{var a;r.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));pT.displayName=ZB;var gT=pT;const JB=Tl("text-sm font-normal text-muted-foreground leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ze=f.forwardRef(({className:e,...t},r)=>s.jsx(gT,{ref:r,className:le(JB(),e),...t}));ze.displayName=gT.displayName;function vT(e){return e.toLowerCase().trim().replace(/[^a-z0-9-\s]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").replace(/^-|-$|_/g,"")}function eq(e){return e.toLowerCase().replace(/[^a-z0-9-\s]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-")}function tq(e){return/^[^@\s]+@[^@\s]+\.[^@\s]+$/.test(e.trim())}async function xT(e){if(!e)return!1;const{data:t,error:r}=await L.from("profiles").select("id").ilike("username",e).maybeSingle();if(r&&r.code!=="PGRST116")throw r;return!t}async function rq(e,t=5){const r=[],n=[e,`${e}-${new Date().getFullYear()}`,`${e}-${Math.floor(Math.random()*90+10)}`];let a=0;for(;r.length<t&&a<100;){const i=a<n.length?n[a]:`${e}-${Math.floor(Math.random()*9999)}`,o=vT(i);o&&await xT(o)&&!r.includes(o)&&r.push(o),a++}return r}const nq=()=>{const e=Or(),{user:t,session:r,loading:n}=ar(),{resolvedTheme:a}=as(),[i,o]=f.useState(""),[l,c]=f.useState(""),[d,u]=f.useState("public"),[h,m]=f.useState(!1),[p,w]=f.useState(!1),[v,g]=f.useState("login"),[y,x]=f.useState(!0),[b,_]=f.useState(""),N=f.useMemo(()=>vT(b),[b]),[k,S]=f.useState(null),[R,U]=f.useState(!1),[B,re]=f.useState([]),G=f.useMemo(()=>tq(i)&&l.trim().length>=6,[i,l]),[H,V]=f.useState(!1),[se,te]=f.useState(!1),J=()=>s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsxs("header",{className:"sticky top-0 z-40 h-12 flex items-center bg-background/80 supports-[backdrop-filter]:bg-background/60 backdrop-blur border-b px-4",children:[s.jsx(Xe,{className:"h-8 w-8 mr-2"}),s.jsxs("nav",{className:"flex w-full items-center justify-between",children:[s.jsx(Xe,{className:"h-6 w-24"}),s.jsx("div",{className:"hidden md:flex items-center gap-2"})]})]}),s.jsx("main",{className:"max-w-5xl mx-auto px-4 py-8",children:s.jsxs("section",{className:"w-full max-w-md mx-auto border-none rounded-lg p-6 bg-card text-card-foreground shadow-sm",children:[s.jsxs("header",{className:"mb-6 text-center",children:[s.jsx(Xe,{className:"h-10 w-36 mx-auto mb-2"}),s.jsx(Xe,{className:"h-4 w-48 mx-auto"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Xe,{className:"h-4 w-16"}),s.jsx(Xe,{className:"h-10 w-full"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Xe,{className:"h-4 w-16"}),s.jsx(Xe,{className:"h-10 w-full"})]}),s.jsx(Xe,{className:"h-10 w-full"}),s.jsxs("div",{className:"flex items-center gap-3 my-2",children:[s.jsx("div",{className:"h-px bg-border flex-1"}),s.jsx(Xe,{className:"h-3 w-8"}),s.jsx("div",{className:"h-px bg-border flex-1"})]}),s.jsx(Xe,{className:"h-10 w-full"}),s.jsx("div",{className:"text-center",children:s.jsx(Xe,{className:"h-4 w-40 mx-auto"})}),s.jsx("div",{className:"text-center",children:s.jsx(Xe,{className:"h-4 w-56 mx-auto"})})]})]})})]});f.useEffect(()=>{const A=setTimeout(()=>{x(!1)},800);return()=>clearTimeout(A)},[]),f.useEffect(()=>{t&&setTimeout(async()=>{try{const{data:A}=await L.from("profiles").select("is_blocked").eq("id",t.id).maybeSingle();if(A!=null&&A.is_blocked){await L.auth.signOut(),e("/blocked");return}const Y=localStorage.getItem("pending_role"),E=localStorage.getItem("pending_username"),$={id:t.id};E&&($.username=E),await L.from("profiles").upsert($,{onConflict:"id"}),Y&&(await L.from("user_roles").upsert({user_id:t.id,role:Y},{onConflict:"user_id,role"}),localStorage.removeItem("pending_role")),E&&localStorage.removeItem("pending_username")}catch{}e("/")},0)},[t,e]),f.useEffect(()=>{if(v!=="signup"||d!=="musician"){S(null),re([]),U(!1);return}if(!N){S(null),re([]),U(!1);return}let A=!1;U(!0);const Y=setTimeout(async()=>{try{const E=await xT(N);if(A)return;if(S(E),E)re([]);else{const $=await rq(N,5);A||re($)}}catch(E){A||oe({title:"Erro",description:E.message})}finally{A||U(!1)}},400);return()=>{A=!0,clearTimeout(Y),U(!1)}},[N,v,d]);const I=async()=>{m(!0);const{error:A}=await L.auth.signInWithPassword({email:i,password:l});m(!1),oe(A?{title:"Erro ao entrar",description:A.message}:{title:"Bem-vindo!",description:"Login realizado com sucesso."})},D=async()=>{if(d==="musician"){if(!N){oe({title:"Informe um nome de usuário",description:"Ex.: gustavo-andrade"});return}if(!k){oe({title:"Nome indisponível",description:"Escolha uma das sugestões ou tente outro nome."});return}}m(!0);try{localStorage.setItem("pending_role",d),d==="musician"&&N&&localStorage.setItem("pending_username",N);const A=`${window.location.origin}/`,{error:Y}=await L.auth.signUp({email:i,password:l,options:{emailRedirectTo:A}});Y?(localStorage.removeItem("pending_role"),localStorage.removeItem("pending_username"),oe({title:"Erro no cadastro",description:Y.message})):oe({title:"Verifique seu e-mail",description:"Enviamos um link de confirmação para ativar sua conta."})}finally{m(!1)}},C=async()=>{if(!i){oe({title:"Informe seu e-mail",description:"Preencha o campo de e-mail para receber o link."});return}m(!0);try{const A=`${window.location.origin}/auth/reset`,{error:Y}=await L.auth.resetPasswordForEmail(i,{redirectTo:A});oe(Y?{title:"Erro ao enviar e-mail",description:Y.message}:{title:"Verifique seu e-mail",description:"Enviamos um link para redefinir sua senha."})}finally{m(!1)}},T=async A=>{w(!0);try{A==="signup"&&(localStorage.setItem("pending_role",d),d==="musician"&&N&&localStorage.setItem("pending_username",N));const Y=`${window.location.origin}/`,{error:E}=await L.auth.signInWithOAuth({provider:"google",options:{redirectTo:Y}});E&&(A==="signup"&&(localStorage.removeItem("pending_role"),localStorage.removeItem("pending_username")),oe({title:"Erro no Google",description:E.message}))}catch(Y){A==="signup"&&(localStorage.removeItem("pending_role"),localStorage.removeItem("pending_username")),oe({title:"Erro no Google",description:(Y==null?void 0:Y.message)||"Não foi possível continuar com Google."})}finally{w(!1)}};return y||n||h||p?s.jsx(J,{}):s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx(Zt,{title:`${v==="login"?"Entrar":"Cadastrar"} - Pedidos de Música`,description:"Acesse sua conta para gerenciar pedidos de música."}),s.jsxs("header",{className:"sticky top-0 z-40 h-12 flex items-center bg-background/80 supports-[backdrop-filter]:bg-background/60 backdrop-blur border-b px-4",children:[s.jsx(O,{variant:"ghost",size:"icon",className:"mr-2","aria-label":"Voltar",onClick:()=>e("/"),children:s.jsx(ag,{className:"h-5 w-5"})}),s.jsx("nav",{className:"flex w-full items-center justify-between",children:s.jsx("div",{className:"hidden md:flex items-center gap-2"})})]}),s.jsx("main",{className:"max-w-5xl mx-auto px-4 py-8",children:s.jsxs("section",{className:"w-full max-w-md mx-auto border-none rounded-lg p-6 bg-card text-card-foreground shadow-sm",children:[s.jsxs("header",{className:"mb-6 text-center flex flex-col items-center",children:[s.jsx("img",{src:a==="dark"?"/logo_avaplay.png":"/logo_avaplay_amarelo.png",alt:"AVAPlay",className:"h-10"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:v==="login"?"Entre para continuar":"Crie sua conta para continuar"})]}),v==="login"?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ze,{htmlFor:"email-login",children:"Email"}),s.jsx(Ie,{id:"email-login",type:"email",placeholder:"seu email",value:i,onChange:A=>o(A.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ze,{htmlFor:"password-login",children:"Senha"}),s.jsxs("div",{className:"relative",children:[s.jsx(Ie,{id:"password-login",type:H?"text":"password",value:l,onChange:A=>c(A.target.value)}),s.jsx("button",{type:"button",className:"absolute right-2 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",onClick:()=>V(A=>!A),"aria-label":H?"Ocultar senha":"Mostrar senha",children:H?s.jsx(Xn,{className:"h-4 w-4"}):s.jsx(Ur,{className:"h-4 w-4"})})]})]}),s.jsx(O,{className:"w-full",onClick:I,disabled:h||!G,children:h?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-current border-t-transparent rounded-full"}),"Entrando..."]}):"Entrar"}),s.jsxs("div",{className:"flex items-center gap-3 my-2",children:[s.jsx("div",{className:"h-px bg-border flex-1"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"ou"}),s.jsx("div",{className:"h-px bg-border flex-1"})]}),s.jsx(O,{variant:"outline",className:"w-full",onClick:()=>T("login"),disabled:p,children:p?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-current border-t-transparent rounded-full"}),"Conectando..."]}):s.jsxs(s.Fragment,{children:[s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",className:"h-4 w-4 mr-2",children:[s.jsx("path",{fill:"#FFC107",d:"M43.6 20.5H42V20H24v8h11.3C33.6 31.9 29.2 36 24 36c-6.6 0-12-5.4-12-12s5.4-12 12-12c3 0 5.8 1.1 7.9 3l5.7-5.7C33.1 6.1 28.8 4 24 4 16.1 4 9.3 8.5 6.3 14.7z"}),s.jsx("path",{fill:"#FF3D00",d:"M6.3 14.7l6.6 4.8C14.6 16 18.9 12 24 12c3 0 5.8 1.1 7.9 3l5.7-5.7C33.1 6.1 28.8 4 24 4 16.1 4 9.3 8.5 6.3 14.7z"}),s.jsx("path",{fill:"#4CAF50",d:"M24 44c5.1 0 9.7-1.9 13.1-5.1l-6.1-5.1C29.1 35 26.7 36 24 36c-5.2 0-9.6-4.1-10.6-9.4l-6.7 5.2C9.3 39.5 16.1 44 24 44z"}),s.jsx("path",{fill:"#1976D2",d:"M43.6 20.5H42V20H24v8h11.3c-1 4.3-5.4 8-11.3 8-5.2 0-9.6-4.1-10.6-9.4l-6.7 5.2C9.3 39.5 16.1 44 24 44c8.9 0 19.5-9 19.5-20 0-1.2-.1-2.3-.3-3.5z"})]}),"Continuar com Google"]})}),s.jsx("div",{className:"text-center",children:s.jsx(O,{variant:"link",type:"button",onClick:C,className:"px-0",children:"Esqueci minha senha"})}),s.jsxs("div",{className:"text-center text-sm mt-2",children:["Ainda não tem conta? ","",s.jsx("button",{className:"text-yellow-500 hover:text-yellow-600 font-medium",onClick:()=>g("signup"),children:"Cadastre-se"})]})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ze,{children:"Você é?"}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs(O,{type:"button",variant:d==="public"?"default":"outline",onClick:()=>u("public"),children:[s.jsx(tb,{className:"h-4 w-4 mr-2"})," Público"]}),s.jsxs(O,{type:"button",variant:d==="musician"?"default":"outline",onClick:()=>u("musician"),children:[s.jsx(nr,{className:"h-4 w-4 mr-2"})," Músico"]})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Escolha seu tipo de conta. Você pode alterar depois nas configurações do perfil."})]}),d==="musician"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(ze,{htmlFor:"username",children:"Nome público (link)"}),s.jsxs("div",{className:"relative",children:[s.jsx(Ie,{id:"username",placeholder:"ex.: gustavo-andrade",value:b,onChange:A=>_(eq(A.target.value)),className:"pr-8"}),s.jsx("div",{className:"absolute right-2 top-1/2 -translate-y-1/2",children:R?s.jsx(ig,{className:"h-4 w-4 animate-spin text-muted-foreground"}):k===!0&&N?s.jsx(Jw,{className:"h-4 w-4 text-green-600"}):k===!1&&N?s.jsx(eb,{className:"h-4 w-4 text-destructive"}):null})]}),R?s.jsx("p",{className:"text-xs text-muted-foreground",children:"Verificando disponibilidade..."}):k===!0?s.jsxs("p",{className:"text-xs text-green-600",children:["Disponível! Seu perfil: ",`/${N}`]}):k===!1?s.jsxs("div",{className:"text-xs",children:[s.jsx("p",{className:"text-destructive mb-2",children:"Nome em uso. Sugestões:"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:B.map(A=>s.jsx(O,{size:"sm",variant:"secondary",onClick:()=>_(A),children:A},A))})]}):s.jsx("p",{className:"text-xs text-muted-foreground",children:'Use apenas letras minúsculas, números e "-".'})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ze,{htmlFor:"email-signup",children:"Email"}),s.jsx(Ie,{id:"email-signup",type:"email",placeholder:"seu email",value:i,onChange:A=>o(A.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ze,{htmlFor:"password-signup",children:"Senha"}),s.jsxs("div",{className:"relative",children:[s.jsx(Ie,{id:"password-signup",type:se?"text":"password",value:l,onChange:A=>c(A.target.value)}),s.jsx("button",{type:"button",className:"absolute right-2 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",onClick:()=>te(A=>!A),"aria-label":se?"Ocultar senha":"Mostrar senha",children:se?s.jsx(Xn,{className:"h-4 w-4"}):s.jsx(Ur,{className:"h-4 w-4"})})]})]}),s.jsx(O,{className:"w-full",onClick:D,disabled:h||R,children:h?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-current border-t-transparent rounded-full"}),"Cadastrando..."]}):"Cadastrar"}),s.jsxs("div",{className:"flex items-center gap-3 my-2",children:[s.jsx("div",{className:"h-px bg-border flex-1"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"ou"}),s.jsx("div",{className:"h-px bg-border flex-1"})]}),s.jsx(O,{variant:"outline",className:"w-full",onClick:()=>T("signup"),disabled:p,children:p?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-current border-t-transparent rounded-full"}),"Conectando..."]}):s.jsxs(s.Fragment,{children:[s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",className:"h-4 w-4 mr-2",children:[s.jsx("path",{fill:"#FFC107",d:"M43.6 20.5H42V20H24v8h11.3C33.6 31.9 29.2 36 24 36c-6.6 0-12-5.4-12-12s5.4-12 12-12c3 0 5.8 1.1 7.9 3l5.7-5.7C33.1 6.1 28.8 4 24 4 16.1 4 9.3 8.5 6.3 14.7z"}),s.jsx("path",{fill:"#FF3D00",d:"M6.3 14.7l6.6 4.8C14.6 16 18.9 12 24 12c3 0 5.8 1.1 7.9 3l5.7-5.7C33.1 6.1 28.8 4 24 4 16.1 4 9.3 8.5 6.3 14.7z"}),s.jsx("path",{fill:"#4CAF50",d:"M24 44c5.1 0 9.7-1.9 13.1-5.1l-6.1-5.1C29.1 35 26.7 36 24 36c-5.2 0-9.6-4.1-10.6-9.4l-6.7 5.2C9.3 39.5 16.1 44 24 44z"}),s.jsx("path",{fill:"#1976D2",d:"M43.6 20.5H42V20H24v8h11.3c-1 4.3-5.4 8-11.3 8-5.2 0-9.6-4.1-10.6-9.4l-6.7 5.2C9.3 39.5 16.1 44 24 44c8.9 0 19.5-9 19.5-20 0-1.2-.1-2.3-.3-3.5z"})]}),"Cadastrar com Google"]})}),s.jsxs("div",{className:"text-center text-sm mt-2",children:["Já tem conta? ","",s.jsx("button",{className:"text-yellow-500 hover:text-yellow-600 font-medium",onClick:()=>g("login"),children:"Entrar"})]})]})]})})]})},Bi=f.forwardRef(({className:e,...t},r)=>s.jsx("textarea",{className:le("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-0 focus-visible:ring-offset-0 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));Bi.displayName="Textarea";const et=f.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:le("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));et.displayName="Card";const Xt=f.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:le("flex flex-col space-y-1.5 p-6",e),...t}));Xt.displayName="CardHeader";const lr=f.forwardRef(({className:e,...t},r)=>s.jsx("h3",{ref:r,className:le("text-2xl font-semibold leading-none tracking-tight",e),...t}));lr.displayName="CardTitle";const yT=f.forwardRef(({className:e,...t},r)=>s.jsx("p",{ref:r,className:le("text-sm text-muted-foreground",e),...t}));yT.displayName="CardDescription";const tt=f.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:le("p-6 pt-0",e),...t}));tt.displayName="CardContent";const sq=f.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:le("flex items-center p-6 pt-0",e),...t}));sq.displayName="CardFooter";var Dg="Popover",[wT,vQ]=Cn(Dg,[No]),th=No(),[aq,Co]=wT(Dg),bT=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:o=!1}=e,l=th(t),c=f.useRef(null),[d,u]=f.useState(!1),[h,m]=ba({prop:n,defaultProp:a??!1,onChange:i,caller:Dg});return s.jsx(fg,{...l,children:s.jsx(aq,{scope:t,contentId:en(),triggerRef:c,open:h,onOpenChange:m,onOpenToggle:f.useCallback(()=>m(p=>!p),[m]),hasCustomAnchor:d,onCustomAnchorAdd:f.useCallback(()=>u(!0),[]),onCustomAnchorRemove:f.useCallback(()=>u(!1),[]),modal:o,children:r})})};bT.displayName=Dg;var jT="PopoverAnchor",iq=f.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Co(jT,r),i=th(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=a;return f.useEffect(()=>(o(),()=>l()),[o,l]),s.jsx(Hf,{...i,...n,ref:t})});iq.displayName=jT;var _T="PopoverTrigger",NT=f.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Co(_T,r),i=th(r),o=ct(t,a.triggerRef),l=s.jsx(Le.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":PT(a.open),...n,ref:o,onClick:Se(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?l:s.jsx(Hf,{asChild:!0,...i,children:l})});NT.displayName=_T;var Ib="PopoverPortal",[oq,lq]=wT(Ib,{forceMount:void 0}),ST=e=>{const{__scopePopover:t,forceMount:r,children:n,container:a}=e,i=Co(Ib,t);return s.jsx(oq,{scope:t,forceMount:r,children:s.jsx(sn,{present:r||i.open,children:s.jsx(_d,{asChild:!0,container:a,children:n})})})};ST.displayName=Ib;var id="PopoverContent",CT=f.forwardRef((e,t)=>{const r=lq(id,e.__scopePopover),{forceMount:n=r.forceMount,...a}=e,i=Co(id,e.__scopePopover);return s.jsx(sn,{present:n||i.open,children:i.modal?s.jsx(dq,{...a,ref:t}):s.jsx(uq,{...a,ref:t})})});CT.displayName=id;var cq=oo("PopoverContent.RemoveScroll"),dq=f.forwardRef((e,t)=>{const r=Co(id,e.__scopePopover),n=f.useRef(null),a=ct(t,n),i=f.useRef(!1);return f.useEffect(()=>{const o=n.current;if(o)return Tg(o)},[]),s.jsx(Qf,{as:cq,allowPinchZoom:!0,children:s.jsx(kT,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Se(e.onCloseAutoFocus,o=>{var l;o.preventDefault(),i.current||(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:Se(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,d=l.button===2||c;i.current=d},{checkForDefaultPrevented:!1}),onFocusOutside:Se(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),uq=f.forwardRef((e,t)=>{const r=Co(id,e.__scopePopover),n=f.useRef(!1),a=f.useRef(!1);return s.jsx(kT,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((d=r.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),kT=f.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:u,...h}=e,m=Co(id,r),p=th(r);return Eg(),s.jsx(Yf,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx(Pl,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:u,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onDismiss:()=>m.onOpenChange(!1),children:s.jsx(hg,{"data-state":PT(m.open),role:"dialog",id:m.contentId,...p,...h,ref:t,style:{...h.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),ET="PopoverClose",fq=f.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Co(ET,r);return s.jsx(Le.button,{type:"button",...n,ref:t,onClick:Se(e.onClick,()=>a.onOpenChange(!1))})});fq.displayName=ET;var hq="PopoverArrow",mq=f.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=th(r);return s.jsx(mg,{...a,...n,ref:t})});mq.displayName=hq;function PT(e){return e?"open":"closed"}var pq=bT,gq=NT,vq=ST,TT=CT;const bn=pq,jn=gq,un=f.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},a)=>s.jsx(vq,{children:s.jsx(TT,{ref:a,align:t,sideOffset:r,className:le("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));un.displayName=TT.displayName;function At(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function ts(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function xn(e,t){const r=At(e);return isNaN(t)?ts(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function Gs(e,t){const r=At(e);if(isNaN(t))return ts(e,NaN);if(!t)return r;const n=r.getDate(),a=ts(e,r.getTime());a.setMonth(r.getMonth()+t+1,0);const i=a.getDate();return n>=i?a:(r.setFullYear(a.getFullYear(),a.getMonth(),n),r)}const Fb=6048e5,xq=864e5;let yq={};function rh(){return yq}function _a(e,t){var l,c,d,u;const r=rh(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((u=(d=r.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??0,a=At(e),i=a.getDay(),o=(i<n?7:0)+i-n;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function gl(e){return _a(e,{weekStartsOn:1})}function RT(e){const t=At(e),r=t.getFullYear(),n=ts(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const a=gl(n),i=ts(e,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const o=gl(i);return t.getTime()>=a.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function od(e){const t=At(e);return t.setHours(0,0,0,0),t}function jp(e){const t=At(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function ma(e,t){const r=od(e),n=od(t),a=+r-jp(r),i=+n-jp(n);return Math.round((a-i)/xq)}function wq(e){const t=RT(e),r=ts(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),gl(r)}function M0(e,t){const r=t*7;return xn(e,r)}function bq(e,t){return Gs(e,t*12)}function jq(e){let t;return e.forEach(function(r){const n=At(r);(t===void 0||t<n||isNaN(Number(n)))&&(t=n)}),t||new Date(NaN)}function _q(e){let t;return e.forEach(r=>{const n=At(r);(!t||t>n||isNaN(+n))&&(t=n)}),t||new Date(NaN)}function In(e,t){const r=od(e),n=od(t);return+r==+n}function Lb(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Nq(e){if(!Lb(e)&&typeof e!="number")return!1;const t=At(e);return!isNaN(Number(t))}function kf(e,t){const r=At(e),n=At(t),a=r.getFullYear()-n.getFullYear(),i=r.getMonth()-n.getMonth();return a*12+i}function Sq(e,t,r){const n=_a(e,r),a=_a(t,r),i=+n-jp(n),o=+a-jp(a);return Math.round((i-o)/Fb)}function $b(e){const t=At(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function zn(e){const t=At(e);return t.setDate(1),t.setHours(0,0,0,0),t}function MT(e){const t=At(e),r=ts(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function zb(e,t){var l,c,d,u;const r=rh(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((u=(d=r.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??0,a=At(e),i=a.getDay(),o=(i<n?-7:0)+6-(i-n);return a.setDate(a.getDate()+o),a.setHours(23,59,59,999),a}function AT(e){return zb(e,{weekStartsOn:1})}const Cq={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},kq=(e,t,r)=>{let n;const a=Cq[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Mc(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const Eq={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Pq={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Tq={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Rq={date:Mc({formats:Eq,defaultWidth:"full"}),time:Mc({formats:Pq,defaultWidth:"full"}),dateTime:Mc({formats:Tq,defaultWidth:"full"})},Mq={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Aq=(e,t,r,n)=>Mq[e];function da(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):o;a=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const Oq={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Dq={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Iq={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Fq={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Lq={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},$q={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},zq=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Uq={ordinalNumber:zq,era:da({values:Oq,defaultWidth:"wide"}),quarter:da({values:Dq,defaultWidth:"wide",argumentCallback:e=>e-1}),month:da({values:Iq,defaultWidth:"wide"}),day:da({values:Fq,defaultWidth:"wide"}),dayPeriod:da({values:Lq,defaultWidth:"wide",formattingValues:$q,defaultFormattingWidth:"wide"})};function ua(e){return(t,r={})=>{const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const o=i[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?qq(l,h=>h.test(o)):Bq(l,h=>h.test(o));let d;d=e.valueCallback?e.valueCallback(c):c,d=r.valueCallback?r.valueCallback(d):d;const u=t.slice(o.length);return{value:d,rest:u}}}function Bq(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function qq(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function OT(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const a=n[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(a.length);return{value:o,rest:l}}}const Vq=/^(\d+)(th|st|nd|rd)?/i,Wq=/\d+/i,Hq={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Kq={any:[/^b/i,/^(a|c)/i]},Gq={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Yq={any:[/1/i,/2/i,/3/i,/4/i]},Qq={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Xq={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Zq={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Jq={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},e9={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},t9={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},r9={ordinalNumber:OT({matchPattern:Vq,parsePattern:Wq,valueCallback:e=>parseInt(e,10)}),era:ua({matchPatterns:Hq,defaultMatchWidth:"wide",parsePatterns:Kq,defaultParseWidth:"any"}),quarter:ua({matchPatterns:Gq,defaultMatchWidth:"wide",parsePatterns:Yq,defaultParseWidth:"any",valueCallback:e=>e+1}),month:ua({matchPatterns:Qq,defaultMatchWidth:"wide",parsePatterns:Xq,defaultParseWidth:"any"}),day:ua({matchPatterns:Zq,defaultMatchWidth:"wide",parsePatterns:Jq,defaultParseWidth:"any"}),dayPeriod:ua({matchPatterns:e9,defaultMatchWidth:"any",parsePatterns:t9,defaultParseWidth:"any"})},DT={code:"en-US",formatDistance:kq,formatLong:Rq,formatRelative:Aq,localize:Uq,match:r9,options:{weekStartsOn:0,firstWeekContainsDate:1}};function n9(e){const t=At(e);return ma(t,MT(t))+1}function IT(e){const t=At(e),r=+gl(t)-+wq(t);return Math.round(r/Fb)+1}function FT(e,t){var u,h,m,p;const r=At(e),n=r.getFullYear(),a=rh(),i=(t==null?void 0:t.firstWeekContainsDate)??((h=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??a.firstWeekContainsDate??((p=(m=a.locale)==null?void 0:m.options)==null?void 0:p.firstWeekContainsDate)??1,o=ts(e,0);o.setFullYear(n+1,0,i),o.setHours(0,0,0,0);const l=_a(o,t),c=ts(e,0);c.setFullYear(n,0,i),c.setHours(0,0,0,0);const d=_a(c,t);return r.getTime()>=l.getTime()?n+1:r.getTime()>=d.getTime()?n:n-1}function s9(e,t){var l,c,d,u;const r=rh(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((u=(d=r.locale)==null?void 0:d.options)==null?void 0:u.firstWeekContainsDate)??1,a=FT(e,t),i=ts(e,0);return i.setFullYear(a,0,n),i.setHours(0,0,0,0),_a(i,t)}function LT(e,t){const r=At(e),n=+_a(r,t)-+s9(r,t);return Math.round(n/Fb)+1}function Vt(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const vi={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return Vt(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Vt(r+1,2)},d(e,t){return Vt(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Vt(e.getHours()%12||12,t.length)},H(e,t){return Vt(e.getHours(),t.length)},m(e,t){return Vt(e.getMinutes(),t.length)},s(e,t){return Vt(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return Vt(a,t.length)}},Zl={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},WN={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return vi.y(e,t)},Y:function(e,t,r,n){const a=FT(e,n),i=a>0?a:1-a;if(t==="YY"){const o=i%100;return Vt(o,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):Vt(i,t.length)},R:function(e,t){const r=RT(e);return Vt(r,t.length)},u:function(e,t){const r=e.getFullYear();return Vt(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Vt(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Vt(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return vi.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return Vt(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const a=LT(e,n);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):Vt(a,t.length)},I:function(e,t,r){const n=IT(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):Vt(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):vi.d(e,t)},D:function(e,t,r){const n=n9(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Vt(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return Vt(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return Vt(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),a=n===0?7:n;switch(t){case"i":return String(a);case"ii":return Vt(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let a;switch(n===12?a=Zl.noon:n===0?a=Zl.midnight:a=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let a;switch(n>=17?a=Zl.evening:n>=12?a=Zl.afternoon:n>=4?a=Zl.morning:a=Zl.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return vi.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):vi.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Vt(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):Vt(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):vi.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):vi.s(e,t)},S:function(e,t){return vi.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return KN(n);case"XXXX":case"XX":return Bo(n);case"XXXXX":case"XXX":default:return Bo(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return KN(n);case"xxxx":case"xx":return Bo(n);case"xxxxx":case"xxx":default:return Bo(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+HN(n,":");case"OOOO":default:return"GMT"+Bo(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+HN(n,":");case"zzzz":default:return"GMT"+Bo(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return Vt(n,t.length)},T:function(e,t,r){const n=e.getTime();return Vt(n,t.length)}};function HN(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),i=n%60;return i===0?r+String(a):r+String(a)+t+Vt(i,2)}function KN(e,t){return e%60===0?(e>0?"-":"+")+Vt(Math.abs(e)/60,2):Bo(e,t)}function Bo(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Vt(Math.trunc(n/60),2),i=Vt(n%60,2);return r+a+t+i}const GN=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},$T=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},a9=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return GN(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",GN(n,t)).replace("{{time}}",$T(a,t))},i9={p:$T,P:a9},o9=/^D+$/,l9=/^Y+$/,c9=["D","DD","YY","YYYY"];function d9(e){return o9.test(e)}function u9(e){return l9.test(e)}function f9(e,t,r){const n=h9(e,t,r);if(console.warn(n),c9.includes(e))throw new RangeError(n)}function h9(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const m9=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,p9=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,g9=/^'([^]*?)'?$/,v9=/''/g,x9=/[a-zA-Z]/;function Ht(e,t,r){var u,h,m,p,w,v,g,y;const n=rh(),a=(r==null?void 0:r.locale)??n.locale??DT,i=(r==null?void 0:r.firstWeekContainsDate)??((h=(u=r==null?void 0:r.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??n.firstWeekContainsDate??((p=(m=n.locale)==null?void 0:m.options)==null?void 0:p.firstWeekContainsDate)??1,o=(r==null?void 0:r.weekStartsOn)??((v=(w=r==null?void 0:r.locale)==null?void 0:w.options)==null?void 0:v.weekStartsOn)??n.weekStartsOn??((y=(g=n.locale)==null?void 0:g.options)==null?void 0:y.weekStartsOn)??0,l=At(e);if(!Nq(l))throw new RangeError("Invalid time value");let c=t.match(p9).map(x=>{const b=x[0];if(b==="p"||b==="P"){const _=i9[b];return _(x,a.formatLong)}return x}).join("").match(m9).map(x=>{if(x==="''")return{isToken:!1,value:"'"};const b=x[0];if(b==="'")return{isToken:!1,value:y9(x)};if(WN[b])return{isToken:!0,value:x};if(b.match(x9))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:x}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const d={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return c.map(x=>{if(!x.isToken)return x.value;const b=x.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&u9(b)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&d9(b))&&f9(b,t,String(e));const _=WN[b[0]];return _(l,b,a.localize,d)}).join("")}function y9(e){const t=e.match(g9);return t?t[1].replace(v9,"'"):e}function w9(e){const t=At(e),r=t.getFullYear(),n=t.getMonth(),a=ts(e,0);return a.setFullYear(r,n+1,0),a.setHours(0,0,0,0),a.getDate()}function b9(e){return Math.trunc(+At(e)/1e3)}function j9(e){const t=At(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(0,0,0,0),t}function _9(e,t){return Sq(j9(e),zn(e),t)+1}function A0(e,t){const r=At(e),n=At(t);return r.getTime()>n.getTime()}function zT(e,t){const r=At(e),n=At(t);return+r<+n}function Ub(e,t){const r=At(e),n=At(t);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function N9(e,t){const r=At(e),n=At(t);return r.getFullYear()===n.getFullYear()}function Hu(e,t){return xn(e,-t)}function Dx(e,t){const r=At(e),n=r.getFullYear(),a=r.getDate(),i=ts(e,0);i.setFullYear(n,t,15),i.setHours(0,0,0,0);const o=w9(i);return r.setMonth(t,Math.min(a,o)),r}function YN(e,t){const r=At(e);return isNaN(+r)?ts(e,NaN):(r.setFullYear(t),r)}const S9={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 mês",other:"cerca de {{count}} meses"},xMonths:{one:"1 mês",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},C9=(e,t,r)=>{let n;const a=S9[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",String(t)),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"em "+n:"há "+n:n},k9={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},E9={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},P9={full:"{{date}} 'às' {{time}}",long:"{{date}} 'às' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},T9={date:Mc({formats:k9,defaultWidth:"full"}),time:Mc({formats:E9,defaultWidth:"full"}),dateTime:Mc({formats:P9,defaultWidth:"full"})},R9={lastWeek:e=>{const t=e.getDay();return"'"+(t===0||t===6?"último":"última")+"' eeee 'às' p"},yesterday:"'ontem às' p",today:"'hoje às' p",tomorrow:"'amanhã às' p",nextWeek:"eeee 'às' p",other:"P"},M9=(e,t,r,n)=>{const a=R9[e];return typeof a=="function"?a(t):a},A9={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},O9={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1º trimestre","2º trimestre","3º trimestre","4º trimestre"]},D9={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","março","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},I9={narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","terça","quarta","quinta","sexta","sábado"],wide:["domingo","segunda-feira","terça-feira","quarta-feira","quinta-feira","sexta-feira","sábado"]},F9={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"}},L9={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},$9=(e,t)=>{const r=Number(e);return(t==null?void 0:t.unit)==="week"?r+"ª":r+"º"},z9={ordinalNumber:$9,era:da({values:A9,defaultWidth:"wide"}),quarter:da({values:O9,defaultWidth:"wide",argumentCallback:e=>e-1}),month:da({values:D9,defaultWidth:"wide"}),day:da({values:I9,defaultWidth:"wide"}),dayPeriod:da({values:F9,defaultWidth:"wide",formattingValues:L9,defaultFormattingWidth:"wide"})},U9=/^(\d+)[ºªo]?/i,B9=/\d+/i,q9={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},V9={any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},W9={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234](º)? trimestre/i},H9={any:[/1/i,/2/i,/3/i,/4/i]},K9={narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|março|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},G9={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},Y9={narrow:/^(dom|[23456]ª?|s[aá]b)/i,short:/^(dom|[23456]ª?|s[aá]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[aá]b)/i,wide:/^(domingo|(segunda|ter[cç]a|quarta|quinta|sexta)([- ]feira)?|s[aá]bado)/i},Q9={short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[aá]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[aá]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[aá]b/i]},X9={narrow:/^(a|p|mn|md|(da) (manhã|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manhã|tarde|noite))/i},Z9={any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manhã/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},J9={ordinalNumber:OT({matchPattern:U9,parsePattern:B9,valueCallback:e=>parseInt(e,10)}),era:ua({matchPatterns:q9,defaultMatchWidth:"wide",parsePatterns:V9,defaultParseWidth:"any"}),quarter:ua({matchPatterns:W9,defaultMatchWidth:"wide",parsePatterns:H9,defaultParseWidth:"any",valueCallback:e=>e+1}),month:ua({matchPatterns:K9,defaultMatchWidth:"wide",parsePatterns:G9,defaultParseWidth:"any"}),day:ua({matchPatterns:Y9,defaultMatchWidth:"wide",parsePatterns:Q9,defaultParseWidth:"any"}),dayPeriod:ua({matchPatterns:X9,defaultMatchWidth:"any",parsePatterns:Z9,defaultParseWidth:"any"})},vl={code:"pt-BR",formatDistance:C9,formatLong:T9,formatRelative:M9,localize:z9,match:J9,options:{weekStartsOn:0,firstWeekContainsDate:1}};var Je=function(){return Je=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Je.apply(this,arguments)};function eV(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function UT(e,t,r){for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}function nh(e){return e.mode==="multiple"}function sh(e){return e.mode==="range"}function Ig(e){return e.mode==="single"}var tV={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function rV(e,t){return Ht(e,"LLLL y",t)}function nV(e,t){return Ht(e,"d",t)}function sV(e,t){return Ht(e,"LLLL",t)}function aV(e){return"".concat(e)}function iV(e,t){return Ht(e,"cccccc",t)}function oV(e,t){return Ht(e,"yyyy",t)}var lV=Object.freeze({__proto__:null,formatCaption:rV,formatDay:nV,formatMonthCaption:sV,formatWeekNumber:aV,formatWeekdayName:iV,formatYearCaption:oV}),cV=function(e,t,r){return Ht(e,"do MMMM (EEEE)",r)},dV=function(){return"Month: "},uV=function(){return"Go to next month"},fV=function(){return"Go to previous month"},hV=function(e,t){return Ht(e,"cccc",t)},mV=function(e){return"Week n. ".concat(e)},pV=function(){return"Year: "},gV=Object.freeze({__proto__:null,labelDay:cV,labelMonthDropdown:dV,labelNext:uV,labelPrevious:fV,labelWeekNumber:mV,labelWeekday:hV,labelYearDropdown:pV});function vV(){var e="buttons",t=tV,r=DT,n={},a={},i=1,o={},l=new Date;return{captionLayout:e,classNames:t,formatters:lV,labels:gV,locale:r,modifiersClassNames:n,modifiers:a,numberOfMonths:i,styles:o,today:l,mode:"default"}}function xV(e){var t=e.fromYear,r=e.toYear,n=e.fromMonth,a=e.toMonth,i=e.fromDate,o=e.toDate;return n?i=zn(n):t&&(i=new Date(t,0,1)),a?o=$b(a):r&&(o=new Date(r,11,31)),{fromDate:i?od(i):void 0,toDate:o?od(o):void 0}}var BT=f.createContext(void 0);function yV(e){var t,r=e.initialProps,n=vV(),a=xV(r),i=a.fromDate,o=a.toDate,l=(t=r.captionLayout)!==null&&t!==void 0?t:n.captionLayout;l!=="buttons"&&(!i||!o)&&(l="buttons");var c;(Ig(r)||nh(r)||sh(r))&&(c=r.onSelect);var d=Je(Je(Je({},n),r),{captionLayout:l,classNames:Je(Je({},n.classNames),r.classNames),components:Je({},r.components),formatters:Je(Je({},n.formatters),r.formatters),fromDate:i,labels:Je(Je({},n.labels),r.labels),mode:r.mode||n.mode,modifiers:Je(Je({},n.modifiers),r.modifiers),modifiersClassNames:Je(Je({},n.modifiersClassNames),r.modifiersClassNames),onSelect:c,styles:Je(Je({},n.styles),r.styles),toDate:o});return s.jsx(BT.Provider,{value:d,children:e.children})}function Jt(){var e=f.useContext(BT);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function qT(e){var t=Jt(),r=t.locale,n=t.classNames,a=t.styles,i=t.formatters.formatCaption;return s.jsx("div",{className:n.caption_label,style:a.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:i(e.displayMonth,{locale:r})})}function wV(e){return s.jsx("svg",Je({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:s.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function VT(e){var t,r,n=e.onChange,a=e.value,i=e.children,o=e.caption,l=e.className,c=e.style,d=Jt(),u=(r=(t=d.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&r!==void 0?r:wV;return s.jsxs("div",{className:l,style:c,children:[s.jsx("span",{className:d.classNames.vhidden,children:e["aria-label"]}),s.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:d.classNames.dropdown,style:d.styles.dropdown,value:a,onChange:n,children:i}),s.jsxs("div",{className:d.classNames.caption_label,style:d.styles.caption_label,"aria-hidden":"true",children:[o,s.jsx(u,{className:d.classNames.dropdown_icon,style:d.styles.dropdown_icon})]})]})}function bV(e){var t,r=Jt(),n=r.fromDate,a=r.toDate,i=r.styles,o=r.locale,l=r.formatters.formatMonthCaption,c=r.classNames,d=r.components,u=r.labels.labelMonthDropdown;if(!n)return s.jsx(s.Fragment,{});if(!a)return s.jsx(s.Fragment,{});var h=[];if(N9(n,a))for(var m=zn(n),p=n.getMonth();p<=a.getMonth();p++)h.push(Dx(m,p));else for(var m=zn(new Date),p=0;p<=11;p++)h.push(Dx(m,p));var w=function(g){var y=Number(g.target.value),x=Dx(zn(e.displayMonth),y);e.onChange(x)},v=(t=d==null?void 0:d.Dropdown)!==null&&t!==void 0?t:VT;return s.jsx(v,{name:"months","aria-label":u(),className:c.dropdown_month,style:i.dropdown_month,onChange:w,value:e.displayMonth.getMonth(),caption:l(e.displayMonth,{locale:o}),children:h.map(function(g){return s.jsx("option",{value:g.getMonth(),children:l(g,{locale:o})},g.getMonth())})})}function jV(e){var t,r=e.displayMonth,n=Jt(),a=n.fromDate,i=n.toDate,o=n.locale,l=n.styles,c=n.classNames,d=n.components,u=n.formatters.formatYearCaption,h=n.labels.labelYearDropdown,m=[];if(!a)return s.jsx(s.Fragment,{});if(!i)return s.jsx(s.Fragment,{});for(var p=a.getFullYear(),w=i.getFullYear(),v=p;v<=w;v++)m.push(YN(MT(new Date),v));var g=function(x){var b=YN(zn(r),Number(x.target.value));e.onChange(b)},y=(t=d==null?void 0:d.Dropdown)!==null&&t!==void 0?t:VT;return s.jsx(y,{name:"years","aria-label":h(),className:c.dropdown_year,style:l.dropdown_year,onChange:g,value:r.getFullYear(),caption:u(r,{locale:o}),children:m.map(function(x){return s.jsx("option",{value:x.getFullYear(),children:u(x,{locale:o})},x.getFullYear())})})}function _V(e,t){var r=f.useState(e),n=r[0],a=r[1],i=t===void 0?n:t;return[i,a]}function NV(e){var t=e.month,r=e.defaultMonth,n=e.today,a=t||r||n||new Date,i=e.toDate,o=e.fromDate,l=e.numberOfMonths,c=l===void 0?1:l;if(i&&kf(i,a)<0){var d=-1*(c-1);a=Gs(i,d)}return o&&kf(a,o)<0&&(a=o),zn(a)}function SV(){var e=Jt(),t=NV(e),r=_V(t,e.month),n=r[0],a=r[1],i=function(o){var l;if(!e.disableNavigation){var c=zn(o);a(c),(l=e.onMonthChange)===null||l===void 0||l.call(e,c)}};return[n,i]}function CV(e,t){for(var r=t.reverseMonths,n=t.numberOfMonths,a=zn(e),i=zn(Gs(a,n)),o=kf(i,a),l=[],c=0;c<o;c++){var d=Gs(a,c);l.push(d)}return r&&(l=l.reverse()),l}function kV(e,t){if(!t.disableNavigation){var r=t.toDate,n=t.pagedNavigation,a=t.numberOfMonths,i=a===void 0?1:a,o=n?i:1,l=zn(e);if(!r)return Gs(l,o);var c=kf(r,e);if(!(c<i))return Gs(l,o)}}function EV(e,t){if(!t.disableNavigation){var r=t.fromDate,n=t.pagedNavigation,a=t.numberOfMonths,i=a===void 0?1:a,o=n?i:1,l=zn(e);if(!r)return Gs(l,-o);var c=kf(l,r);if(!(c<=0))return Gs(l,-o)}}var WT=f.createContext(void 0);function PV(e){var t=Jt(),r=SV(),n=r[0],a=r[1],i=CV(n,t),o=kV(n,t),l=EV(n,t),c=function(h){return i.some(function(m){return Ub(h,m)})},d=function(h,m){c(h)||(m&&zT(h,m)?a(Gs(h,1+t.numberOfMonths*-1)):a(h))},u={currentMonth:n,displayMonths:i,goToMonth:a,goToDate:d,previousMonth:l,nextMonth:o,isDateDisplayed:c};return s.jsx(WT.Provider,{value:u,children:e.children})}function ah(){var e=f.useContext(WT);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function QN(e){var t,r=Jt(),n=r.classNames,a=r.styles,i=r.components,o=ah().goToMonth,l=function(u){o(Gs(u,e.displayIndex?-e.displayIndex:0))},c=(t=i==null?void 0:i.CaptionLabel)!==null&&t!==void 0?t:qT,d=s.jsx(c,{id:e.id,displayMonth:e.displayMonth});return s.jsxs("div",{className:n.caption_dropdowns,style:a.caption_dropdowns,children:[s.jsx("div",{className:n.vhidden,children:d}),s.jsx(bV,{onChange:l,displayMonth:e.displayMonth}),s.jsx(jV,{onChange:l,displayMonth:e.displayMonth})]})}function TV(e){return s.jsx("svg",Je({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:s.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function RV(e){return s.jsx("svg",Je({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:s.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var _p=f.forwardRef(function(e,t){var r=Jt(),n=r.classNames,a=r.styles,i=[n.button_reset,n.button];e.className&&i.push(e.className);var o=i.join(" "),l=Je(Je({},a.button_reset),a.button);return e.style&&Object.assign(l,e.style),s.jsx("button",Je({},e,{ref:t,type:"button",className:o,style:l}))});function MV(e){var t,r,n=Jt(),a=n.dir,i=n.locale,o=n.classNames,l=n.styles,c=n.labels,d=c.labelPrevious,u=c.labelNext,h=n.components;if(!e.nextMonth&&!e.previousMonth)return s.jsx(s.Fragment,{});var m=d(e.previousMonth,{locale:i}),p=[o.nav_button,o.nav_button_previous].join(" "),w=u(e.nextMonth,{locale:i}),v=[o.nav_button,o.nav_button_next].join(" "),g=(t=h==null?void 0:h.IconRight)!==null&&t!==void 0?t:RV,y=(r=h==null?void 0:h.IconLeft)!==null&&r!==void 0?r:TV;return s.jsxs("div",{className:o.nav,style:l.nav,children:[!e.hidePrevious&&s.jsx(_p,{name:"previous-month","aria-label":m,className:p,style:l.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:a==="rtl"?s.jsx(g,{className:o.nav_icon,style:l.nav_icon}):s.jsx(y,{className:o.nav_icon,style:l.nav_icon})}),!e.hideNext&&s.jsx(_p,{name:"next-month","aria-label":w,className:v,style:l.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:a==="rtl"?s.jsx(y,{className:o.nav_icon,style:l.nav_icon}):s.jsx(g,{className:o.nav_icon,style:l.nav_icon})})]})}function XN(e){var t=Jt().numberOfMonths,r=ah(),n=r.previousMonth,a=r.nextMonth,i=r.goToMonth,o=r.displayMonths,l=o.findIndex(function(w){return Ub(e.displayMonth,w)}),c=l===0,d=l===o.length-1,u=t>1&&(c||!d),h=t>1&&(d||!c),m=function(){n&&i(n)},p=function(){a&&i(a)};return s.jsx(MV,{displayMonth:e.displayMonth,hideNext:u,hidePrevious:h,nextMonth:a,previousMonth:n,onPreviousClick:m,onNextClick:p})}function AV(e){var t,r=Jt(),n=r.classNames,a=r.disableNavigation,i=r.styles,o=r.captionLayout,l=r.components,c=(t=l==null?void 0:l.CaptionLabel)!==null&&t!==void 0?t:qT,d;return a?d=s.jsx(c,{id:e.id,displayMonth:e.displayMonth}):o==="dropdown"?d=s.jsx(QN,{displayMonth:e.displayMonth,id:e.id}):o==="dropdown-buttons"?d=s.jsxs(s.Fragment,{children:[s.jsx(QN,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),s.jsx(XN,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):d=s.jsxs(s.Fragment,{children:[s.jsx(c,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),s.jsx(XN,{displayMonth:e.displayMonth,id:e.id})]}),s.jsx("div",{className:n.caption,style:i.caption,children:d})}function OV(e){var t=Jt(),r=t.footer,n=t.styles,a=t.classNames.tfoot;return r?s.jsx("tfoot",{className:a,style:n.tfoot,children:s.jsx("tr",{children:s.jsx("td",{colSpan:8,children:r})})}):s.jsx(s.Fragment,{})}function DV(e,t,r){for(var n=r?gl(new Date):_a(new Date,{locale:e,weekStartsOn:t}),a=[],i=0;i<7;i++){var o=xn(n,i);a.push(o)}return a}function IV(){var e=Jt(),t=e.classNames,r=e.styles,n=e.showWeekNumber,a=e.locale,i=e.weekStartsOn,o=e.ISOWeek,l=e.formatters.formatWeekdayName,c=e.labels.labelWeekday,d=DV(a,i,o);return s.jsxs("tr",{style:r.head_row,className:t.head_row,children:[n&&s.jsx("td",{style:r.head_cell,className:t.head_cell}),d.map(function(u,h){return s.jsx("th",{scope:"col",className:t.head_cell,style:r.head_cell,"aria-label":c(u,{locale:a}),children:l(u,{locale:a})},h)})]})}function FV(){var e,t=Jt(),r=t.classNames,n=t.styles,a=t.components,i=(e=a==null?void 0:a.HeadRow)!==null&&e!==void 0?e:IV;return s.jsx("thead",{style:n.head,className:r.head,children:s.jsx(i,{})})}function LV(e){var t=Jt(),r=t.locale,n=t.formatters.formatDay;return s.jsx(s.Fragment,{children:n(e.date,{locale:r})})}var Bb=f.createContext(void 0);function $V(e){if(!nh(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return s.jsx(Bb.Provider,{value:t,children:e.children})}return s.jsx(zV,{initialProps:e.initialProps,children:e.children})}function zV(e){var t=e.initialProps,r=e.children,n=t.selected,a=t.min,i=t.max,o=function(d,u,h){var m,p;(m=t.onDayClick)===null||m===void 0||m.call(t,d,u,h);var w=!!(u.selected&&a&&(n==null?void 0:n.length)===a);if(!w){var v=!!(!u.selected&&i&&(n==null?void 0:n.length)===i);if(!v){var g=n?UT([],n):[];if(u.selected){var y=g.findIndex(function(x){return In(d,x)});g.splice(y,1)}else g.push(d);(p=t.onSelect)===null||p===void 0||p.call(t,g,d,u,h)}}},l={disabled:[]};n&&l.disabled.push(function(d){var u=i&&n.length>i-1,h=n.some(function(m){return In(m,d)});return!!(u&&!h)});var c={selected:n,onDayClick:o,modifiers:l};return s.jsx(Bb.Provider,{value:c,children:r})}function qb(){var e=f.useContext(Bb);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function UV(e,t){var r=t||{},n=r.from,a=r.to;return n&&a?In(a,e)&&In(n,e)?void 0:In(a,e)?{from:a,to:void 0}:In(n,e)?void 0:A0(n,e)?{from:e,to:a}:{from:n,to:e}:a?A0(e,a)?{from:a,to:e}:{from:e,to:a}:n?zT(e,n)?{from:e,to:n}:{from:n,to:e}:{from:e,to:void 0}}var Vb=f.createContext(void 0);function BV(e){if(!sh(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return s.jsx(Vb.Provider,{value:t,children:e.children})}return s.jsx(qV,{initialProps:e.initialProps,children:e.children})}function qV(e){var t=e.initialProps,r=e.children,n=t.selected,a=n||{},i=a.from,o=a.to,l=t.min,c=t.max,d=function(p,w,v){var g,y;(g=t.onDayClick)===null||g===void 0||g.call(t,p,w,v);var x=UV(p,n);(y=t.onSelect)===null||y===void 0||y.call(t,x,p,w,v)},u={range_start:[],range_end:[],range_middle:[],disabled:[]};if(i?(u.range_start=[i],o?(u.range_end=[o],In(i,o)||(u.range_middle=[{after:i,before:o}])):u.range_end=[i]):o&&(u.range_start=[o],u.range_end=[o]),l&&(i&&!o&&u.disabled.push({after:Hu(i,l-1),before:xn(i,l-1)}),i&&o&&u.disabled.push({after:i,before:xn(i,l-1)}),!i&&o&&u.disabled.push({after:Hu(o,l-1),before:xn(o,l-1)})),c){if(i&&!o&&(u.disabled.push({before:xn(i,-c+1)}),u.disabled.push({after:xn(i,c-1)})),i&&o){var h=ma(o,i)+1,m=c-h;u.disabled.push({before:Hu(i,m)}),u.disabled.push({after:xn(o,m)})}!i&&o&&(u.disabled.push({before:xn(o,-c+1)}),u.disabled.push({after:xn(o,c-1)}))}return s.jsx(Vb.Provider,{value:{selected:n,onDayClick:d,modifiers:u},children:r})}function Wb(){var e=f.useContext(Vb);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function Rm(e){return Array.isArray(e)?UT([],e):e!==void 0?[e]:[]}function VV(e){var t={};return Object.entries(e).forEach(function(r){var n=r[0],a=r[1];t[n]=Rm(a)}),t}var Ys;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(Ys||(Ys={}));var WV=Ys.Selected,Ta=Ys.Disabled,HV=Ys.Hidden,KV=Ys.Today,Ix=Ys.RangeEnd,Fx=Ys.RangeMiddle,Lx=Ys.RangeStart,GV=Ys.Outside;function YV(e,t,r){var n,a=(n={},n[WV]=Rm(e.selected),n[Ta]=Rm(e.disabled),n[HV]=Rm(e.hidden),n[KV]=[e.today],n[Ix]=[],n[Fx]=[],n[Lx]=[],n[GV]=[],n);return e.fromDate&&a[Ta].push({before:e.fromDate}),e.toDate&&a[Ta].push({after:e.toDate}),nh(e)?a[Ta]=a[Ta].concat(t.modifiers[Ta]):sh(e)&&(a[Ta]=a[Ta].concat(r.modifiers[Ta]),a[Lx]=r.modifiers[Lx],a[Fx]=r.modifiers[Fx],a[Ix]=r.modifiers[Ix]),a}var HT=f.createContext(void 0);function QV(e){var t=Jt(),r=qb(),n=Wb(),a=YV(t,r,n),i=VV(t.modifiers),o=Je(Je({},a),i);return s.jsx(HT.Provider,{value:o,children:e.children})}function KT(){var e=f.useContext(HT);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function XV(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function ZV(e){return!!(e&&typeof e=="object"&&"from"in e)}function JV(e){return!!(e&&typeof e=="object"&&"after"in e)}function e7(e){return!!(e&&typeof e=="object"&&"before"in e)}function t7(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function r7(e,t){var r,n=t.from,a=t.to;if(n&&a){var i=ma(a,n)<0;i&&(r=[a,n],n=r[0],a=r[1]);var o=ma(e,n)>=0&&ma(a,e)>=0;return o}return a?In(a,e):n?In(n,e):!1}function n7(e){return Lb(e)}function s7(e){return Array.isArray(e)&&e.every(Lb)}function a7(e,t){return t.some(function(r){if(typeof r=="boolean")return r;if(n7(r))return In(e,r);if(s7(r))return r.includes(e);if(ZV(r))return r7(e,r);if(t7(r))return r.dayOfWeek.includes(e.getDay());if(XV(r)){var n=ma(r.before,e),a=ma(r.after,e),i=n>0,o=a<0,l=A0(r.before,r.after);return l?o&&i:i||o}return JV(r)?ma(e,r.after)>0:e7(r)?ma(r.before,e)>0:typeof r=="function"?r(e):!1})}function Hb(e,t,r){var n=Object.keys(t).reduce(function(i,o){var l=t[o];return a7(e,l)&&i.push(o),i},[]),a={};return n.forEach(function(i){return a[i]=!0}),r&&!Ub(e,r)&&(a.outside=!0),a}function i7(e,t){for(var r=zn(e[0]),n=$b(e[e.length-1]),a,i,o=r;o<=n;){var l=Hb(o,t),c=!l.disabled&&!l.hidden;if(!c){o=xn(o,1);continue}if(l.selected)return o;l.today&&!i&&(i=o),a||(a=o),o=xn(o,1)}return i||a}var o7=365;function GT(e,t){var r=t.moveBy,n=t.direction,a=t.context,i=t.modifiers,o=t.retry,l=o===void 0?{count:0,lastFocused:e}:o,c=a.weekStartsOn,d=a.fromDate,u=a.toDate,h=a.locale,m={day:xn,week:M0,month:Gs,year:bq,startOfWeek:function(g){return a.ISOWeek?gl(g):_a(g,{locale:h,weekStartsOn:c})},endOfWeek:function(g){return a.ISOWeek?AT(g):zb(g,{locale:h,weekStartsOn:c})}},p=m[r](e,n==="after"?1:-1);n==="before"&&d?p=jq([d,p]):n==="after"&&u&&(p=_q([u,p]));var w=!0;if(i){var v=Hb(p,i);w=!v.disabled&&!v.hidden}return w?p:l.count>o7?l.lastFocused:GT(p,{moveBy:r,direction:n,context:a,modifiers:i,retry:Je(Je({},l),{count:l.count+1})})}var YT=f.createContext(void 0);function l7(e){var t=ah(),r=KT(),n=f.useState(),a=n[0],i=n[1],o=f.useState(),l=o[0],c=o[1],d=i7(t.displayMonths,r),u=a??(l&&t.isDateDisplayed(l))?l:d,h=function(){c(a),i(void 0)},m=function(g){i(g)},p=Jt(),w=function(g,y){if(a){var x=GT(a,{moveBy:g,direction:y,context:p,modifiers:r});In(a,x)||(t.goToDate(x,a),m(x))}},v={focusedDay:a,focusTarget:u,blur:h,focus:m,focusDayAfter:function(){return w("day","after")},focusDayBefore:function(){return w("day","before")},focusWeekAfter:function(){return w("week","after")},focusWeekBefore:function(){return w("week","before")},focusMonthBefore:function(){return w("month","before")},focusMonthAfter:function(){return w("month","after")},focusYearBefore:function(){return w("year","before")},focusYearAfter:function(){return w("year","after")},focusStartOfWeek:function(){return w("startOfWeek","before")},focusEndOfWeek:function(){return w("endOfWeek","after")}};return s.jsx(YT.Provider,{value:v,children:e.children})}function Kb(){var e=f.useContext(YT);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function c7(e,t){var r=KT(),n=Hb(e,r,t);return n}var Gb=f.createContext(void 0);function d7(e){if(!Ig(e.initialProps)){var t={selected:void 0};return s.jsx(Gb.Provider,{value:t,children:e.children})}return s.jsx(u7,{initialProps:e.initialProps,children:e.children})}function u7(e){var t=e.initialProps,r=e.children,n=function(i,o,l){var c,d,u;if((c=t.onDayClick)===null||c===void 0||c.call(t,i,o,l),o.selected&&!t.required){(d=t.onSelect)===null||d===void 0||d.call(t,void 0,i,o,l);return}(u=t.onSelect)===null||u===void 0||u.call(t,i,i,o,l)},a={selected:t.selected,onDayClick:n};return s.jsx(Gb.Provider,{value:a,children:r})}function QT(){var e=f.useContext(Gb);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function f7(e,t){var r=Jt(),n=QT(),a=qb(),i=Wb(),o=Kb(),l=o.focusDayAfter,c=o.focusDayBefore,d=o.focusWeekAfter,u=o.focusWeekBefore,h=o.blur,m=o.focus,p=o.focusMonthBefore,w=o.focusMonthAfter,v=o.focusYearBefore,g=o.focusYearAfter,y=o.focusStartOfWeek,x=o.focusEndOfWeek,b=function(J){var I,D,C,T;Ig(r)?(I=n.onDayClick)===null||I===void 0||I.call(n,e,t,J):nh(r)?(D=a.onDayClick)===null||D===void 0||D.call(a,e,t,J):sh(r)?(C=i.onDayClick)===null||C===void 0||C.call(i,e,t,J):(T=r.onDayClick)===null||T===void 0||T.call(r,e,t,J)},_=function(J){var I;m(e),(I=r.onDayFocus)===null||I===void 0||I.call(r,e,t,J)},N=function(J){var I;h(),(I=r.onDayBlur)===null||I===void 0||I.call(r,e,t,J)},k=function(J){var I;(I=r.onDayMouseEnter)===null||I===void 0||I.call(r,e,t,J)},S=function(J){var I;(I=r.onDayMouseLeave)===null||I===void 0||I.call(r,e,t,J)},R=function(J){var I;(I=r.onDayPointerEnter)===null||I===void 0||I.call(r,e,t,J)},U=function(J){var I;(I=r.onDayPointerLeave)===null||I===void 0||I.call(r,e,t,J)},B=function(J){var I;(I=r.onDayTouchCancel)===null||I===void 0||I.call(r,e,t,J)},re=function(J){var I;(I=r.onDayTouchEnd)===null||I===void 0||I.call(r,e,t,J)},G=function(J){var I;(I=r.onDayTouchMove)===null||I===void 0||I.call(r,e,t,J)},H=function(J){var I;(I=r.onDayTouchStart)===null||I===void 0||I.call(r,e,t,J)},V=function(J){var I;(I=r.onDayKeyUp)===null||I===void 0||I.call(r,e,t,J)},se=function(J){var I;switch(J.key){case"ArrowLeft":J.preventDefault(),J.stopPropagation(),r.dir==="rtl"?l():c();break;case"ArrowRight":J.preventDefault(),J.stopPropagation(),r.dir==="rtl"?c():l();break;case"ArrowDown":J.preventDefault(),J.stopPropagation(),d();break;case"ArrowUp":J.preventDefault(),J.stopPropagation(),u();break;case"PageUp":J.preventDefault(),J.stopPropagation(),J.shiftKey?v():p();break;case"PageDown":J.preventDefault(),J.stopPropagation(),J.shiftKey?g():w();break;case"Home":J.preventDefault(),J.stopPropagation(),y();break;case"End":J.preventDefault(),J.stopPropagation(),x();break}(I=r.onDayKeyDown)===null||I===void 0||I.call(r,e,t,J)},te={onClick:b,onFocus:_,onBlur:N,onKeyDown:se,onKeyUp:V,onMouseEnter:k,onMouseLeave:S,onPointerEnter:R,onPointerLeave:U,onTouchCancel:B,onTouchEnd:re,onTouchMove:G,onTouchStart:H};return te}function h7(){var e=Jt(),t=QT(),r=qb(),n=Wb(),a=Ig(e)?t.selected:nh(e)?r.selected:sh(e)?n.selected:void 0;return a}function m7(e){return Object.values(Ys).includes(e)}function p7(e,t){var r=[e.classNames.day];return Object.keys(t).forEach(function(n){var a=e.modifiersClassNames[n];if(a)r.push(a);else if(m7(n)){var i=e.classNames["day_".concat(n)];i&&r.push(i)}}),r}function g7(e,t){var r=Je({},e.styles.day);return Object.keys(t).forEach(function(n){var a;r=Je(Je({},r),(a=e.modifiersStyles)===null||a===void 0?void 0:a[n])}),r}function v7(e,t,r){var n,a,i,o=Jt(),l=Kb(),c=c7(e,t),d=f7(e,c),u=h7(),h=!!(o.onDayClick||o.mode!=="default");f.useEffect(function(){var k;c.outside||l.focusedDay&&h&&In(l.focusedDay,e)&&((k=r.current)===null||k===void 0||k.focus())},[l.focusedDay,e,r,h,c.outside]);var m=p7(o,c).join(" "),p=g7(o,c),w=!!(c.outside&&!o.showOutsideDays||c.hidden),v=(i=(a=o.components)===null||a===void 0?void 0:a.DayContent)!==null&&i!==void 0?i:LV,g=s.jsx(v,{date:e,displayMonth:t,activeModifiers:c}),y={style:p,className:m,children:g,role:"gridcell"},x=l.focusTarget&&In(l.focusTarget,e)&&!c.outside,b=l.focusedDay&&In(l.focusedDay,e),_=Je(Je(Je({},y),(n={disabled:c.disabled,role:"gridcell"},n["aria-selected"]=c.selected,n.tabIndex=b||x?0:-1,n)),d),N={isButton:h,isHidden:w,activeModifiers:c,selectedDays:u,buttonProps:_,divProps:y};return N}function x7(e){var t=f.useRef(null),r=v7(e.date,e.displayMonth,t);return r.isHidden?s.jsx("div",{role:"gridcell"}):r.isButton?s.jsx(_p,Je({name:"day",ref:t},r.buttonProps)):s.jsx("div",Je({},r.divProps))}function y7(e){var t=e.number,r=e.dates,n=Jt(),a=n.onWeekNumberClick,i=n.styles,o=n.classNames,l=n.locale,c=n.labels.labelWeekNumber,d=n.formatters.formatWeekNumber,u=d(Number(t),{locale:l});if(!a)return s.jsx("span",{className:o.weeknumber,style:i.weeknumber,children:u});var h=c(Number(t),{locale:l}),m=function(p){a(t,r,p)};return s.jsx(_p,{name:"week-number","aria-label":h,className:o.weeknumber,style:i.weeknumber,onClick:m,children:u})}function w7(e){var t,r,n=Jt(),a=n.styles,i=n.classNames,o=n.showWeekNumber,l=n.components,c=(t=l==null?void 0:l.Day)!==null&&t!==void 0?t:x7,d=(r=l==null?void 0:l.WeekNumber)!==null&&r!==void 0?r:y7,u;return o&&(u=s.jsx("td",{className:i.cell,style:a.cell,children:s.jsx(d,{number:e.weekNumber,dates:e.dates})})),s.jsxs("tr",{className:i.row,style:a.row,children:[u,e.dates.map(function(h){return s.jsx("td",{className:i.cell,style:a.cell,role:"presentation",children:s.jsx(c,{displayMonth:e.displayMonth,date:h})},b9(h))})]})}function ZN(e,t,r){for(var n=r!=null&&r.ISOWeek?AT(t):zb(t,r),a=r!=null&&r.ISOWeek?gl(e):_a(e,r),i=ma(n,a),o=[],l=0;l<=i;l++)o.push(xn(a,l));var c=o.reduce(function(d,u){var h=r!=null&&r.ISOWeek?IT(u):LT(u,r),m=d.find(function(p){return p.weekNumber===h});return m?(m.dates.push(u),d):(d.push({weekNumber:h,dates:[u]}),d)},[]);return c}function b7(e,t){var r=ZN(zn(e),$b(e),t);if(t!=null&&t.useFixedWeeks){var n=_9(e,t);if(n<6){var a=r[r.length-1],i=a.dates[a.dates.length-1],o=M0(i,6-n),l=ZN(M0(i,1),o,t);r.push.apply(r,l)}}return r}function j7(e){var t,r,n,a=Jt(),i=a.locale,o=a.classNames,l=a.styles,c=a.hideHead,d=a.fixedWeeks,u=a.components,h=a.weekStartsOn,m=a.firstWeekContainsDate,p=a.ISOWeek,w=b7(e.displayMonth,{useFixedWeeks:!!d,ISOWeek:p,locale:i,weekStartsOn:h,firstWeekContainsDate:m}),v=(t=u==null?void 0:u.Head)!==null&&t!==void 0?t:FV,g=(r=u==null?void 0:u.Row)!==null&&r!==void 0?r:w7,y=(n=u==null?void 0:u.Footer)!==null&&n!==void 0?n:OV;return s.jsxs("table",{id:e.id,className:o.table,style:l.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!c&&s.jsx(v,{}),s.jsx("tbody",{className:o.tbody,style:l.tbody,children:w.map(function(x){return s.jsx(g,{displayMonth:e.displayMonth,dates:x.dates,weekNumber:x.weekNumber},x.weekNumber)})}),s.jsx(y,{displayMonth:e.displayMonth})]})}function _7(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var N7=_7()?f.useLayoutEffect:f.useEffect,$x=!1,S7=0;function JN(){return"react-day-picker-".concat(++S7)}function C7(e){var t,r=e??($x?JN():null),n=f.useState(r),a=n[0],i=n[1];return N7(function(){a===null&&i(JN())},[]),f.useEffect(function(){$x===!1&&($x=!0)},[]),(t=e??a)!==null&&t!==void 0?t:void 0}function k7(e){var t,r,n=Jt(),a=n.dir,i=n.classNames,o=n.styles,l=n.components,c=ah().displayMonths,d=C7(n.id?"".concat(n.id,"-").concat(e.displayIndex):void 0),u=n.id?"".concat(n.id,"-grid-").concat(e.displayIndex):void 0,h=[i.month],m=o.month,p=e.displayIndex===0,w=e.displayIndex===c.length-1,v=!p&&!w;a==="rtl"&&(t=[p,w],w=t[0],p=t[1]),p&&(h.push(i.caption_start),m=Je(Je({},m),o.caption_start)),w&&(h.push(i.caption_end),m=Je(Je({},m),o.caption_end)),v&&(h.push(i.caption_between),m=Je(Je({},m),o.caption_between));var g=(r=l==null?void 0:l.Caption)!==null&&r!==void 0?r:AV;return s.jsxs("div",{className:h.join(" "),style:m,children:[s.jsx(g,{id:d,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),s.jsx(j7,{id:u,"aria-labelledby":d,displayMonth:e.displayMonth})]},e.displayIndex)}function E7(e){var t=Jt(),r=t.classNames,n=t.styles;return s.jsx("div",{className:r.months,style:n.months,children:e.children})}function P7(e){var t,r,n=e.initialProps,a=Jt(),i=Kb(),o=ah(),l=f.useState(!1),c=l[0],d=l[1];f.useEffect(function(){a.initialFocus&&i.focusTarget&&(c||(i.focus(i.focusTarget),d(!0)))},[a.initialFocus,c,i.focus,i.focusTarget,i]);var u=[a.classNames.root,a.className];a.numberOfMonths>1&&u.push(a.classNames.multiple_months),a.showWeekNumber&&u.push(a.classNames.with_weeknumber);var h=Je(Je({},a.styles.root),a.style),m=Object.keys(n).filter(function(w){return w.startsWith("data-")}).reduce(function(w,v){var g;return Je(Je({},w),(g={},g[v]=n[v],g))},{}),p=(r=(t=n.components)===null||t===void 0?void 0:t.Months)!==null&&r!==void 0?r:E7;return s.jsx("div",Je({className:u.join(" "),style:h,dir:a.dir,id:a.id,nonce:n.nonce,title:n.title,lang:n.lang},m,{children:s.jsx(p,{children:o.displayMonths.map(function(w,v){return s.jsx(k7,{displayIndex:v,displayMonth:w},v)})})}))}function T7(e){var t=e.children,r=eV(e,["children"]);return s.jsx(yV,{initialProps:r,children:s.jsx(PV,{children:s.jsx(d7,{initialProps:r,children:s.jsx($V,{initialProps:r,children:s.jsx(BV,{initialProps:r,children:s.jsx(QV,{children:s.jsx(l7,{children:t})})})})})})})}function R7(e){return s.jsx(T7,Je({},e,{children:s.jsx(P7,{initialProps:e})}))}function vs({className:e,classNames:t,showOutsideDays:r=!0,locale:n,...a}){return s.jsx(R7,{showOutsideDays:r,className:le("p-3",e),locale:n??vl,classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:le(nd({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:le(nd({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...i})=>s.jsx(L2,{className:"h-4 w-4"}),IconRight:({...i})=>s.jsx(Zw,{className:"h-4 w-4"})},...a})}vs.displayName="Calendar";var Yb={};(function e(t,r,n,a){var i=!!(t.Worker&&t.Blob&&t.Promise&&t.OffscreenCanvas&&t.OffscreenCanvasRenderingContext2D&&t.HTMLCanvasElement&&t.HTMLCanvasElement.prototype.transferControlToOffscreen&&t.URL&&t.URL.createObjectURL),o=typeof Path2D=="function"&&typeof DOMMatrix=="function",l=function(){if(!t.OffscreenCanvas)return!1;var C=new OffscreenCanvas(1,1),T=C.getContext("2d");T.fillRect(0,0,1,1);var A=C.transferToImageBitmap();try{T.createPattern(A,"no-repeat")}catch{return!1}return!0}();function c(){}function d(C){var T=r.exports.Promise,A=T!==void 0?T:t.Promise;return typeof A=="function"?new A(C):(C(c,c),null)}var u=function(C,T){return{transform:function(A){if(C)return A;if(T.has(A))return T.get(A);var Y=new OffscreenCanvas(A.width,A.height),E=Y.getContext("2d");return E.drawImage(A,0,0),T.set(A,Y),Y},clear:function(){T.clear()}}}(l,new Map),h=function(){var C=Math.floor(16.666666666666668),T,A,Y={},E=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(T=function($){var Z=Math.random();return Y[Z]=requestAnimationFrame(function Q(P){E===P||E+C-1<P?(E=P,delete Y[Z],$()):Y[Z]=requestAnimationFrame(Q)}),Z},A=function($){Y[$]&&cancelAnimationFrame(Y[$])}):(T=function($){return setTimeout($,C)},A=function($){return clearTimeout($)}),{frame:T,cancel:A}}(),m=function(){var C,T,A={};function Y(E){function $(Z,Q){E.postMessage({options:Z||{},callback:Q})}E.init=function(Q){var P=Q.transferControlToOffscreen();E.postMessage({canvas:P},[P])},E.fire=function(Q,P,F){if(T)return $(Q,null),T;var X=Math.random().toString(36).slice(2);return T=d(function(de){function Ne(me){me.data.callback===X&&(delete A[X],E.removeEventListener("message",Ne),T=null,u.clear(),F(),de())}E.addEventListener("message",Ne),$(Q,X),A[X]=Ne.bind(null,{data:{callback:X}})}),T},E.reset=function(){E.postMessage({reset:!0});for(var Q in A)A[Q](),delete A[Q]}}return function(){if(C)return C;if(!n&&i){var E=["var CONFETTI, SIZE = {}, module = {};","("+e.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{C=new Worker(URL.createObjectURL(new Blob([E])))}catch($){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn("🎊 Could not load worker",$),null}Y(C)}return C}}(),p={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function w(C,T){return T?T(C):C}function v(C){return C!=null}function g(C,T,A){return w(C&&v(C[T])?C[T]:p[T],A)}function y(C){return C<0?0:Math.floor(C)}function x(C,T){return Math.floor(Math.random()*(T-C))+C}function b(C){return parseInt(C,16)}function _(C){return C.map(N)}function N(C){var T=String(C).replace(/[^0-9a-f]/gi,"");return T.length<6&&(T=T[0]+T[0]+T[1]+T[1]+T[2]+T[2]),{r:b(T.substring(0,2)),g:b(T.substring(2,4)),b:b(T.substring(4,6))}}function k(C){var T=g(C,"origin",Object);return T.x=g(T,"x",Number),T.y=g(T,"y",Number),T}function S(C){C.width=document.documentElement.clientWidth,C.height=document.documentElement.clientHeight}function R(C){var T=C.getBoundingClientRect();C.width=T.width,C.height=T.height}function U(C){var T=document.createElement("canvas");return T.style.position="fixed",T.style.top="0px",T.style.left="0px",T.style.pointerEvents="none",T.style.zIndex=C,T}function B(C,T,A,Y,E,$,Z,Q,P){C.save(),C.translate(T,A),C.rotate($),C.scale(Y,E),C.arc(0,0,1,Z,Q,P),C.restore()}function re(C){var T=C.angle*(Math.PI/180),A=C.spread*(Math.PI/180);return{x:C.x,y:C.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:C.startVelocity*.5+Math.random()*C.startVelocity,angle2D:-T+(.5*A-Math.random()*A),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:C.color,shape:C.shape,tick:0,totalTicks:C.ticks,decay:C.decay,drift:C.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:C.gravity*3,ovalScalar:.6,scalar:C.scalar,flat:C.flat}}function G(C,T){T.x+=Math.cos(T.angle2D)*T.velocity+T.drift,T.y+=Math.sin(T.angle2D)*T.velocity+T.gravity,T.velocity*=T.decay,T.flat?(T.wobble=0,T.wobbleX=T.x+10*T.scalar,T.wobbleY=T.y+10*T.scalar,T.tiltSin=0,T.tiltCos=0,T.random=1):(T.wobble+=T.wobbleSpeed,T.wobbleX=T.x+10*T.scalar*Math.cos(T.wobble),T.wobbleY=T.y+10*T.scalar*Math.sin(T.wobble),T.tiltAngle+=.1,T.tiltSin=Math.sin(T.tiltAngle),T.tiltCos=Math.cos(T.tiltAngle),T.random=Math.random()+2);var A=T.tick++/T.totalTicks,Y=T.x+T.random*T.tiltCos,E=T.y+T.random*T.tiltSin,$=T.wobbleX+T.random*T.tiltCos,Z=T.wobbleY+T.random*T.tiltSin;if(C.fillStyle="rgba("+T.color.r+", "+T.color.g+", "+T.color.b+", "+(1-A)+")",C.beginPath(),o&&T.shape.type==="path"&&typeof T.shape.path=="string"&&Array.isArray(T.shape.matrix))C.fill(J(T.shape.path,T.shape.matrix,T.x,T.y,Math.abs($-Y)*.1,Math.abs(Z-E)*.1,Math.PI/10*T.wobble));else if(T.shape.type==="bitmap"){var Q=Math.PI/10*T.wobble,P=Math.abs($-Y)*.1,F=Math.abs(Z-E)*.1,X=T.shape.bitmap.width*T.scalar,de=T.shape.bitmap.height*T.scalar,Ne=new DOMMatrix([Math.cos(Q)*P,Math.sin(Q)*P,-Math.sin(Q)*F,Math.cos(Q)*F,T.x,T.y]);Ne.multiplySelf(new DOMMatrix(T.shape.matrix));var me=C.createPattern(u.transform(T.shape.bitmap),"no-repeat");me.setTransform(Ne),C.globalAlpha=1-A,C.fillStyle=me,C.fillRect(T.x-X/2,T.y-de/2,X,de),C.globalAlpha=1}else if(T.shape==="circle")C.ellipse?C.ellipse(T.x,T.y,Math.abs($-Y)*T.ovalScalar,Math.abs(Z-E)*T.ovalScalar,Math.PI/10*T.wobble,0,2*Math.PI):B(C,T.x,T.y,Math.abs($-Y)*T.ovalScalar,Math.abs(Z-E)*T.ovalScalar,Math.PI/10*T.wobble,0,2*Math.PI);else if(T.shape==="star")for(var xe=Math.PI/2*3,Ye=4*T.scalar,Nt=8*T.scalar,kt=T.x,Ut=T.y,Et=5,q=Math.PI/Et;Et--;)kt=T.x+Math.cos(xe)*Nt,Ut=T.y+Math.sin(xe)*Nt,C.lineTo(kt,Ut),xe+=q,kt=T.x+Math.cos(xe)*Ye,Ut=T.y+Math.sin(xe)*Ye,C.lineTo(kt,Ut),xe+=q;else C.moveTo(Math.floor(T.x),Math.floor(T.y)),C.lineTo(Math.floor(T.wobbleX),Math.floor(E)),C.lineTo(Math.floor($),Math.floor(Z)),C.lineTo(Math.floor(Y),Math.floor(T.wobbleY));return C.closePath(),C.fill(),T.tick<T.totalTicks}function H(C,T,A,Y,E){var $=T.slice(),Z=C.getContext("2d"),Q,P,F=d(function(X){function de(){Q=P=null,Z.clearRect(0,0,Y.width,Y.height),u.clear(),E(),X()}function Ne(){n&&!(Y.width===a.width&&Y.height===a.height)&&(Y.width=C.width=a.width,Y.height=C.height=a.height),!Y.width&&!Y.height&&(A(C),Y.width=C.width,Y.height=C.height),Z.clearRect(0,0,Y.width,Y.height),$=$.filter(function(me){return G(Z,me)}),$.length?Q=h.frame(Ne):de()}Q=h.frame(Ne),P=de});return{addFettis:function(X){return $=$.concat(X),F},canvas:C,promise:F,reset:function(){Q&&h.cancel(Q),P&&P()}}}function V(C,T){var A=!C,Y=!!g(T||{},"resize"),E=!1,$=g(T,"disableForReducedMotion",Boolean),Z=i&&!!g(T||{},"useWorker"),Q=Z?m():null,P=A?S:R,F=C&&Q?!!C.__confetti_initialized:!1,X=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,de;function Ne(xe,Ye,Nt){for(var kt=g(xe,"particleCount",y),Ut=g(xe,"angle",Number),Et=g(xe,"spread",Number),q=g(xe,"startVelocity",Number),ne=g(xe,"decay",Number),ue=g(xe,"gravity",Number),be=g(xe,"drift",Number),we=g(xe,"colors",_),pe=g(xe,"ticks",Number),Ee=g(xe,"shapes"),We=g(xe,"scalar"),fe=!!g(xe,"flat"),De=k(xe),gt=kt,rt=[],pt=C.width*De.x,Pt=C.height*De.y;gt--;)rt.push(re({x:pt,y:Pt,angle:Ut,spread:Et,startVelocity:q,color:we[gt%we.length],shape:Ee[x(0,Ee.length)],ticks:pe,decay:ne,gravity:ue,drift:be,scalar:We,flat:fe}));return de?de.addFettis(rt):(de=H(C,rt,P,Ye,Nt),de.promise)}function me(xe){var Ye=$||g(xe,"disableForReducedMotion",Boolean),Nt=g(xe,"zIndex",Number);if(Ye&&X)return d(function(q){q()});A&&de?C=de.canvas:A&&!C&&(C=U(Nt),document.body.appendChild(C)),Y&&!F&&P(C);var kt={width:C.width,height:C.height};Q&&!F&&Q.init(C),F=!0,Q&&(C.__confetti_initialized=!0);function Ut(){if(Q){var q={getBoundingClientRect:function(){if(!A)return C.getBoundingClientRect()}};P(q),Q.postMessage({resize:{width:q.width,height:q.height}});return}kt.width=kt.height=null}function Et(){de=null,Y&&(E=!1,t.removeEventListener("resize",Ut)),A&&C&&(document.body.contains(C)&&document.body.removeChild(C),C=null,F=!1)}return Y&&!E&&(E=!0,t.addEventListener("resize",Ut,!1)),Q?Q.fire(xe,kt,Et):Ne(xe,kt,Et)}return me.reset=function(){Q&&Q.reset(),de&&de.reset()},me}var se;function te(){return se||(se=V(null,{useWorker:!0,resize:!0})),se}function J(C,T,A,Y,E,$,Z){var Q=new Path2D(C),P=new Path2D;P.addPath(Q,new DOMMatrix(T));var F=new Path2D;return F.addPath(P,new DOMMatrix([Math.cos(Z)*E,Math.sin(Z)*E,-Math.sin(Z)*$,Math.cos(Z)*$,A,Y])),F}function I(C){if(!o)throw new Error("path confetti are not supported in this browser");var T,A;typeof C=="string"?T=C:(T=C.path,A=C.matrix);var Y=new Path2D(T),E=document.createElement("canvas"),$=E.getContext("2d");if(!A){for(var Z=1e3,Q=Z,P=Z,F=0,X=0,de,Ne,me=0;me<Z;me+=2)for(var xe=0;xe<Z;xe+=2)$.isPointInPath(Y,me,xe,"nonzero")&&(Q=Math.min(Q,me),P=Math.min(P,xe),F=Math.max(F,me),X=Math.max(X,xe));de=F-Q,Ne=X-P;var Ye=10,Nt=Math.min(Ye/de,Ye/Ne);A=[Nt,0,0,Nt,-Math.round(de/2+Q)*Nt,-Math.round(Ne/2+P)*Nt]}return{type:"path",path:T,matrix:A}}function D(C){var T,A=1,Y="#000000",E='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof C=="string"?T=C:(T=C.text,A="scalar"in C?C.scalar:A,E="fontFamily"in C?C.fontFamily:E,Y="color"in C?C.color:Y);var $=10*A,Z=""+$+"px "+E,Q=new OffscreenCanvas($,$),P=Q.getContext("2d");P.font=Z;var F=P.measureText(T),X=Math.ceil(F.actualBoundingBoxRight+F.actualBoundingBoxLeft),de=Math.ceil(F.actualBoundingBoxAscent+F.actualBoundingBoxDescent),Ne=2,me=F.actualBoundingBoxLeft+Ne,xe=F.actualBoundingBoxAscent+Ne;X+=Ne+Ne,de+=Ne+Ne,Q=new OffscreenCanvas(X,de),P=Q.getContext("2d"),P.font=Z,P.fillStyle=Y,P.fillText(T,me,xe);var Ye=1/A;return{type:"bitmap",bitmap:Q.transferToImageBitmap(),matrix:[Ye,0,0,Ye,-X*Ye/2,-de*Ye/2]}}r.exports=function(){return te().apply(this,arguments)},r.exports.reset=function(){te().reset()},r.exports.create=V,r.exports.shapeFromPath=I,r.exports.shapeFromText=D})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),Yb,!1);const fa=Yb.exports;Yb.exports.create;const M7=()=>{var $,Z,Q;const e=Or(),{user:t}=ar(),r=is(),n=!1,a=20,[i,o]=f.useState(void 0),[l,c]=f.useState(!1),{resolvedTheme:d}=as(),{data:u}=Ze({queryKey:["roles",t==null?void 0:t.id],enabled:!!(t!=null&&t.id),queryFn:async()=>{const{data:P,error:F}=await L.from("user_roles").select("role").eq("user_id",t.id);if(F)throw F;return P}}),h=(u||[]).some(P=>P.role==="musician"),{data:m}=Ze({queryKey:["sidebar-profile",t==null?void 0:t.id],enabled:!!(t!=null&&t.id),queryFn:async()=>{const{data:P,error:F}=await L.from("profiles").select("display_name, avatar_url").eq("id",t.id).maybeSingle();if(F)throw F;return P}}),{shouldShowIndicator:p}=eh({userId:t==null?void 0:t.id,isMusician:h}),w=(m==null?void 0:m.display_name)||(t==null?void 0:t.email)||"Usuário",v=(m==null?void 0:m.avatar_url)||void 0,g=async()=>{await L.auth.signOut(),e("/")},{data:y=[],isLoading:x}=Ze({queryKey:["genres"],queryFn:async()=>{const{data:P,error:F}=await L.from("genres").select("*").order("name");if(F)throw F;return P??[]},enabled:n}),{data:b=[],isLoading:_}=Ze({queryKey:["songs"],queryFn:async()=>{const{data:P,error:F}=await L.from("songs").select("*").order("title");if(F)throw F;return P??[]},enabled:n}),{data:N,isLoading:k,fetchNextPage:S,hasNextPage:R,isFetchingNextPage:U}=js({queryKey:["requests",t==null?void 0:t.id,(($=i==null?void 0:i.from)==null?void 0:$.toISOString())??null,((Z=i==null?void 0:i.to)==null?void 0:Z.toISOString())??null],enabled:!!t,initialPageParam:0,queryFn:async({pageParam:P})=>{const F=P*a,X=F+a-1;let de=L.from("requests").select("*").order("created_at",{ascending:!1});if(i!=null&&i.from){const xe=new Date(i.from);xe.setHours(0,0,0,0),de=de.gte("created_at",xe.toISOString())}if(i!=null&&i.to){const xe=new Date(i.to);xe.setHours(23,59,59,999),de=de.lte("created_at",xe.toISOString())}const{data:Ne,error:me}=await de.range(F,X);if(me)throw me;return Ne??[]},getNextPageParam:(P,F,X)=>{if(!(((P==null?void 0:P.length)??0)<a))return X+1}}),[B,re]=f.useState(""),[G,H]=f.useState(""),V="anon_free_requests_count",se=3,te=5,J=()=>{try{const P=localStorage.getItem(V),F=P?Number(P):0;return Number.isFinite(F)&&F>0?F:0}catch{return 0}},I=()=>{try{const P=J()+1;localStorage.setItem(V,String(P))}catch{}};ii({mutationFn:async P=>{var Ne;const F=G?Number(G.replace(",",".")):null;if(!t&&!(F!=null&&F>te)&&J()>=se)throw new Error("Você atingiu o limite de 3 pedidos gratuitos. Para continuar, contribua com valor acima de R$ 5,00.");const{data:X,error:de}=await L.from("requests").insert({user_id:(t==null?void 0:t.id)??null,song_id:P.songId,message:B||null,amount:F}).select("id").single();if(de)throw de;if(F&&F>0)try{let me=((Ne=(b||[]).find(xe=>xe.id===P.songId))==null?void 0:Ne.owner_id)||null;if(!me){const{data:xe}=await L.from("songs").select("owner_id").eq("id",P.songId).maybeSingle();me=(xe==null?void 0:xe.owner_id)||null}me&&await L.from("transactions").insert({musician_id:me,user_id:(t==null?void 0:t.id)||null,request_id:(X==null?void 0:X.id)||null,type:"request",amount:F,status:"approved",payment:"other",requester_name:null,message:B||null})}catch(me){console.warn("Falha ao registrar transação do pedido (não bloqueante)",me)}},onSuccess:async(P,F)=>{!t&&!(F!=null&&F.isPaid)&&I(),re(""),H(""),oe({title:"Pedido criado",description:"Seu pedido foi enviado."}),t&&await r.invalidateQueries({queryKey:["requests"]})},onError:P=>{oe({title:"Erro",description:P.message||"Falha ao criar pedido"})}});const D=f.useRef(null);f.useEffect(()=>{if(!D.current)return;const P=new IntersectionObserver(F=>{F[0].isIntersecting&&R&&!U&&S()},{rootMargin:"200px"});return P.observe(D.current),()=>P.disconnect()},[R,U,S]),f.useMemo(()=>{const P=new Map;for(const F of y)P.set(F.id,[]);for(const F of b){const X=P.get(F.genre_id)||[];X.push(F),P.set(F.genre_id,X)}return P},[y,b]);const C=f.useMemo(()=>((N==null?void 0:N.pages)||[]).flat(),[N]),T=f.useMemo(()=>C.reduce((P,F)=>P+(Number(F.amount)||0),0),[C]),A=f.useMemo(()=>Array.from(new Set((C||[]).map(P=>P.musician_id).filter(Boolean))),[C]),{data:Y=[]}=Ze({queryKey:["req-musicians",A],enabled:!!t&&A.length>0,queryFn:async()=>{const{data:P,error:F}=await L.from("profiles").select("id, display_name, avatar_url, is_pro").in("id",A);if(F)throw F;return P||[]}}),E=f.useMemo(()=>{const P=new Map;return(Y||[]).forEach(F=>P.set(F.id,{display_name:F.display_name,avatar_url:F.avatar_url,is_pro:!!(F!=null&&F.is_pro)})),P},[Y]);return f.useEffect(()=>{if(!(t!=null&&t.id))return;const P=L.channel("requests-updates").on("postgres_changes",{event:"UPDATE",schema:"public",table:"requests",filter:`user_id=eq.${t.id}`},F=>{const X=F.new,de=F.old;(X==null?void 0:X.status)==="approved"&&(de==null?void 0:de.status)!=="approved"&&(oe({title:"Seu pedido foi atendido!",description:"O músico tocou sua música."}),fa({particleCount:140,spread:70,origin:{y:.6}}))}).subscribe();return()=>{try{L.removeChannel(P)}catch{}}},[t==null?void 0:t.id]),s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx(Zt,{title:"Meus Pedidos - Pedidos de Música",description:"Veja seus pedidos. Para pedir, acesse o link do músico."}),s.jsxs("header",{className:"sticky top-0 z-40 h-12 flex items-center bg-background/80 supports-[backdrop-filter]:bg-background/60 backdrop-blur border-b px-4",children:[t&&s.jsx(O,{variant:"ghost",size:"icon",className:"mr-2","aria-label":"Abrir menu",onClick:()=>c(!0),children:s.jsx(Vf,{className:"h-5 w-5"})}),s.jsxs("nav",{className:"flex w-full items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Qt,{to:"/",className:"font-semibold",children:s.jsx("img",{src:d==="dark"?"/logo_avaplay.png":"/logo_avaplay_amarelo.png",alt:"AVAPlay",className:"h-6"})}),s.jsx(Id,{isVisible:p})]}),s.jsx("div",{className:"hidden md:flex items-center gap-2",children:t?null:s.jsx(O,{onClick:()=>e("/auth"),children:"Entrar"})})]})]}),t&&s.jsx(zs,{open:l,onOpenChange:c,children:s.jsx(ms,{side:"left",className:"w-[16rem] p-0",children:s.jsxs("nav",{className:"p-2",children:[s.jsxs("div",{className:"flex items-center gap-3 p-3 border-b mb-2",children:[s.jsxs(Ft,{className:"h-10 w-10",isPro:!!((Q=t==null?void 0:t.user_metadata)!=null&&Q.is_pro),children:[s.jsx(Lt,{src:v,alt:w??"Usuário"}),s.jsx($t,{children:(w||"U").charAt(0).toUpperCase()})]}),s.jsx("div",{className:"min-w-0",children:s.jsx("p",{className:"text-sm font-medium truncate",children:w})})]}),h&&s.jsx(O,{variant:"ghost",className:"w-full justify-start",onClick:()=>{c(!1),e("/musician")},children:"Painel"}),s.jsx(O,{variant:"ghost",className:"w-full justify-start",onClick:()=>{c(!1),e("/requests")},children:"Meus Pedidos"}),s.jsx(O,{variant:"ghost",className:"w-full justify-start",onClick:()=>{c(!1),e("/conexoes")},children:"Conexões"}),s.jsx(O,{variant:"ghost",className:"w-full justify-start",onClick:()=>{c(!1),e("/musician/profile")},children:"Editar perfil"}),s.jsx(O,{variant:"ghost",className:"w-full justify-start",onClick:()=>{c(!1),g()},children:"Sair"})]})})}),s.jsxs("main",{className:"max-w-6xl mx-auto px-4 py-6",children:[s.jsx("h1",{className:"sr-only",children:"Meus pedidos"}),n,t&&s.jsxs("section",{className:"mt-10 pb-40",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4 mt-2 flex-wrap",children:[s.jsxs(bn,{children:[s.jsx(jn,{asChild:!0,children:s.jsxs(O,{variant:"outline",size:"sm",className:"justify-start gap-2",children:[s.jsx(wn,{className:"h-4 w-4"}),i!=null&&i.from?i.to?`${Ht(i.from,"dd/MM/yyyy")} - ${Ht(i.to,"dd/MM/yyyy")}`:`${Ht(i.from,"dd/MM/yyyy")} - ...`:s.jsx("span",{children:"Selecionar período"})]})}),s.jsx(un,{className:"w-auto p-0",align:"start",children:s.jsx(vs,{mode:"range",selected:i,onSelect:o,initialFocus:!0,className:"p-3 pointer-events-auto"})})]}),s.jsx(O,{variant:"ghost",size:"sm",onClick:()=>o(void 0),children:"Limpar filtro"})]}),k?s.jsx("p",{className:"text-muted-foreground",children:"Carregando..."}):C.length===0?s.jsx("p",{className:"text-muted-foreground",children:"Você ainda não fez nenhum pedido."}):s.jsxs("div",{children:[C.map((P,F)=>{var X,de,Ne,me,xe;return s.jsxs("div",{children:[s.jsx(et,{className:"border-0 shadow-none",children:s.jsxs(tt,{className:"py-4 flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:new Date(P.created_at).toLocaleString()}),P.message&&s.jsx("div",{className:"mt-1",children:P.message}),P.musician_id&&s.jsxs("div",{className:"mt-2 flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsxs(Ft,{className:"h-6 w-6",isPro:!!((X=E.get(P.musician_id))!=null&&X.is_pro),children:[s.jsx(Lt,{src:((de=E.get(P.musician_id))==null?void 0:de.avatar_url)||void 0,alt:`Avatar do músico ${((Ne=E.get(P.musician_id))==null?void 0:Ne.display_name)||""}`}),s.jsx($t,{children:(((me=E.get(P.musician_id))==null?void 0:me.display_name)||"M").charAt(0).toUpperCase()})]}),s.jsxs("span",{children:["Músico: ",((xe=E.get(P.musician_id))==null?void 0:xe.display_name)||"—"]})]})]}),s.jsxs("div",{className:"text-right",children:[P.status==="approved"&&s.jsx("div",{className:"text-sm text-success",children:"Música tocada"}),P.amount!=null&&s.jsxs("div",{className:"text-sm",children:["R$ ",Number(P.amount).toFixed(2)]})]})]})}),F<C.length-1&&s.jsx(al,{})]},P.id)}),s.jsx("div",{ref:D,className:"h-8"})]}),s.jsx("div",{className:"fixed left-1/2 -translate-x-1/2 bottom-[100px] z-50 pointer-events-none",children:s.jsxs("div",{className:"pointer-events-auto bg-muted text-gray-500 px-4 py-2 rounded-full whitespace-nowrap",children:[s.jsx("span",{className:"text-sm",children:"Total de contribuição: "}),s.jsxs("span",{className:"font-semibold",children:["R$ ",T.toFixed(2)]})]})})]})]})]})},A7=()=>{const e=Or(),t=f.useRef(null);return f.useEffect(()=>{let r,n=!1;const a=async o=>{var d;try{await((d=r==null?void 0:r.clear)==null?void 0:d.call(r))}catch{}if(n)return;n=!0;const c=(u=>{const h=/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i;if(h.test(u.trim()))return u.trim();try{const p=new URL(u).pathname.match(/\/m\/([0-9a-f-]{36})/i);if(p!=null&&p[1]&&h.test(p[1]))return p[1]}catch{}return null})(o);if(c){e(`/m/${c}`);return}try{const u=new URL(o);window.location.href=u.toString();return}catch{}oe({title:"Código lido",description:o.slice(0,100)}),e("/requests")},i=o=>{};return(async()=>{try{const{Html5QrcodeScanner:o}=await Rl(async()=>{const{Html5QrcodeScanner:l}=await import("./index-bVmjVxD6.js");return{Html5QrcodeScanner:l}},[]);r=new o("qr-reader",{fps:10,qrbox:{width:260,height:260},rememberLastUsedCamera:!0},!1),t.current=r,r.render(a,i)}catch(o){oe({title:"Erro ao iniciar câmera",description:(o==null?void 0:o.message)||"Permita o acesso à câmera."})}})(),()=>{(async()=>{var o;try{await((o=r==null?void 0:r.clear)==null?void 0:o.call(r))}catch{}})()}},[e]),s.jsxs("main",{className:"min-h-screen bg-background p-4",children:[s.jsx(Zt,{title:"Ler QR Code - Pedidos de Música",description:"Escaneie o QR Code para abrir a página de pedidos."}),s.jsxs("section",{className:"max-w-3xl mx-auto",children:[s.jsxs("header",{className:"mb-6",children:[s.jsx(O,{variant:"ghost",size:"icon",onClick:()=>e(-1),"aria-label":"Voltar",children:s.jsx(ag,{className:"h-5 w-5"})}),s.jsx("h1",{className:"mt-2 text-2xl font-semibold",children:"Ler QR Code"})]}),s.jsxs("article",{className:"border rounded-lg p-4 bg-card text-card-foreground",children:[s.jsx("div",{id:"qr-reader",className:"w-full"}),s.jsx("p",{className:"mt-4 text-sm text-muted-foreground",children:"Posicione o QR Code dentro do quadrado. Se o código for um link, você será redirecionado automaticamente."}),s.jsx("div",{className:"mt-4",children:s.jsx(O,{variant:"outline",onClick:()=>e("/requests"),children:"Pular e ir para pedidos"})})]})]})]})},O7=Tl("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Gr({className:e,variant:t,...r}){return s.jsx("div",{className:le(O7({variant:t}),e),...r})}function XT(e){return Ze({queryKey:["active-profile",e],enabled:!!e,queryFn:async()=>{const{data:n,error:a}=await L.from("profiles").select("id, display_name, avatar_url, is_active, is_blocked, is_pro, username, description, payment_qr_url, pix_key, cover_url, cover_position, cover_position_mobile, cover_position_desktop, whatsapp, responsible_name, responsible_whatsapp, instagram, facebook, youtube, spotify, requests_count, shares_count").eq("id",e).eq("is_active",!0).eq("is_blocked",!1).maybeSingle();if(a)throw a;return n}})}async function ZT(e){if(!e)return;const{data:t}=await L.from("profiles").select("is_blocked").eq("id",e).maybeSingle();if(t!=null&&t.is_blocked){try{await L.auth.signOut()}catch{}window.location.replace("/blocked")}}const qr=Mg,D7=Mb,I7=Ag,JT=f.forwardRef(({className:e,...t},r)=>s.jsx(Md,{ref:r,className:le("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));JT.displayName=Md.displayName;const Pr=f.forwardRef(({className:e,children:t,hideClose:r,...n},a)=>s.jsxs(I7,{children:[s.jsx(JT,{}),s.jsxs(Ad,{ref:a,className:le("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 focus:outline-none focus-visible:outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,!r&&s.jsxs(Og,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[s.jsx(Mr,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Pr.displayName=Ad.displayName;const Tr=({className:e,...t})=>s.jsx("div",{className:le("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Tr.displayName="DialogHeader";const ya=({className:e,...t})=>s.jsx("div",{className:le("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});ya.displayName="DialogFooter";const Rr=f.forwardRef(({className:e,...t},r)=>s.jsx(Xf,{ref:r,className:le("text-lg font-semibold leading-none tracking-tight",e),...t}));Rr.displayName=Xf.displayName;const Ku=f.forwardRef(({className:e,...t},r)=>s.jsx(Zf,{ref:r,className:le("text-sm text-muted-foreground",e),...t}));Ku.displayName=Zf.displayName;var eR="AlertDialog",[F7,xQ]=Cn(eR,[XP]),ui=XP(),tR=e=>{const{__scopeAlertDialog:t,...r}=e,n=ui(t);return s.jsx(Mg,{...n,...r,modal:!0})};tR.displayName=eR;var L7="AlertDialogTrigger",rR=f.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=ui(r);return s.jsx(Mb,{...a,...n,ref:t})});rR.displayName=L7;var $7="AlertDialogPortal",nR=e=>{const{__scopeAlertDialog:t,...r}=e,n=ui(t);return s.jsx(Ag,{...n,...r})};nR.displayName=$7;var z7="AlertDialogOverlay",sR=f.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=ui(r);return s.jsx(Md,{...a,...n,ref:t})});sR.displayName=z7;var Ac="AlertDialogContent",[U7,B7]=F7(Ac),q7=d2("AlertDialogContent"),aR=f.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...a}=e,i=ui(r),o=f.useRef(null),l=ct(t,o),c=f.useRef(null);return s.jsx(_B,{contentName:Ac,titleName:iR,docsSlug:"alert-dialog",children:s.jsx(U7,{scope:r,cancelRef:c,children:s.jsxs(Ad,{role:"alertdialog",...i,...a,ref:l,onOpenAutoFocus:Se(a.onOpenAutoFocus,d=>{var u;d.preventDefault(),(u=c.current)==null||u.focus({preventScroll:!0})}),onPointerDownOutside:d=>d.preventDefault(),onInteractOutside:d=>d.preventDefault(),children:[s.jsx(q7,{children:n}),s.jsx(W7,{contentRef:o})]})})})});aR.displayName=Ac;var iR="AlertDialogTitle",oR=f.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=ui(r);return s.jsx(Xf,{...a,...n,ref:t})});oR.displayName=iR;var lR="AlertDialogDescription",cR=f.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=ui(r);return s.jsx(Zf,{...a,...n,ref:t})});cR.displayName=lR;var V7="AlertDialogAction",dR=f.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=ui(r);return s.jsx(Og,{...a,...n,ref:t})});dR.displayName=V7;var uR="AlertDialogCancel",fR=f.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:a}=B7(uR,r),i=ui(r),o=ct(t,a);return s.jsx(Og,{...i,...n,ref:o})});fR.displayName=uR;var W7=({contentRef:e})=>{const t=`\`${Ac}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Ac}\` by passing a \`${lR}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Ac}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return f.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},H7=tR,K7=rR,G7=nR,hR=sR,mR=aR,pR=dR,gR=fR,vR=oR,xR=cR;const Ef=H7,Y7=K7,Q7=G7,yR=f.forwardRef(({className:e,...t},r)=>s.jsx(hR,{className:le("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));yR.displayName=hR.displayName;const ld=f.forwardRef(({className:e,...t},r)=>s.jsxs(Q7,{children:[s.jsx(yR,{}),s.jsx(mR,{ref:r,className:le("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));ld.displayName=mR.displayName;const cd=({className:e,...t})=>s.jsx("div",{className:le("flex flex-col space-y-2 text-center sm:text-left",e),...t});cd.displayName="AlertDialogHeader";const dd=({className:e,...t})=>s.jsx("div",{className:le("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});dd.displayName="AlertDialogFooter";const ud=f.forwardRef(({className:e,...t},r)=>s.jsx(vR,{ref:r,className:le("text-lg font-semibold",e),...t}));ud.displayName=vR.displayName;const fd=f.forwardRef(({className:e,...t},r)=>s.jsx(xR,{ref:r,className:le("text-sm text-muted-foreground",e),...t}));fd.displayName=xR.displayName;const hd=f.forwardRef(({className:e,...t},r)=>s.jsx(pR,{ref:r,className:le(nd(),e),...t}));hd.displayName=pR.displayName;const md=f.forwardRef(({className:e,...t},r)=>s.jsx(gR,{ref:r,className:le(nd({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));md.displayName=gR.displayName;function X7({className:e}){return s.jsx("svg",{viewBox:"0 0 24 24","aria-hidden":"true",focusable:"false",role:"img",className:e,fill:"currentColor",children:s.jsx("path",{d:"M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0zm5.26 17.4a.75.75 0 01-1.03.27c-2.83-1.73-6.39-2.12-10.58-1.17a.75.75 0 01-.33-1.46c4.5-1.02 8.42-.58 11.55 1.31.36.22.47.69.24 1.05zm1.48-3.3a.94.94 0 01-1.29.34c-3.24-1.98-8.18-2.56-12.01-1.41a.94.94 0 11-.52-1.8c4.3-1.24 9.69-.6 13.35 1.56.45.27.6.86.33 1.31zm.13-3.35a1.12 1.12 0 01-1.54.41c-3.7-2.2-9.34-2.4-12.65-1.32a1.12 1.12 0 11-.66-2.14c3.79-1.17 10.02-.92 14.24 1.6.53.31.71 1 .4 1.45z"})})}var Z7=f.createContext(void 0);function ih(e){const t=f.useContext(Z7);return e||t||"ltr"}var zx="rovingFocusGroup.onEntryFocus",J7={bubbles:!1,cancelable:!0},oh="RovingFocusGroup",[O0,wR,eW]=rg(oh),[tW,Fg]=Cn(oh,[eW]),[rW,nW]=tW(oh),bR=f.forwardRef((e,t)=>s.jsx(O0.Provider,{scope:e.__scopeRovingFocusGroup,children:s.jsx(O0.Slot,{scope:e.__scopeRovingFocusGroup,children:s.jsx(sW,{...e,ref:t})})}));bR.displayName=oh;var sW=f.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:a=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:u=!1,...h}=e,m=f.useRef(null),p=ct(t,m),w=ih(i),[v,g]=ba({prop:o,defaultProp:l??null,onChange:c,caller:oh}),[y,x]=f.useState(!1),b=jr(d),_=wR(r),N=f.useRef(!1),[k,S]=f.useState(0);return f.useEffect(()=>{const R=m.current;if(R)return R.addEventListener(zx,b),()=>R.removeEventListener(zx,b)},[b]),s.jsx(rW,{scope:r,orientation:n,dir:w,loop:a,currentTabStopId:v,onItemFocus:f.useCallback(R=>g(R),[g]),onItemShiftTab:f.useCallback(()=>x(!0),[]),onFocusableItemAdd:f.useCallback(()=>S(R=>R+1),[]),onFocusableItemRemove:f.useCallback(()=>S(R=>R-1),[]),children:s.jsx(Le.div,{tabIndex:y||k===0?-1:0,"data-orientation":n,...h,ref:p,style:{outline:"none",...e.style},onMouseDown:Se(e.onMouseDown,()=>{N.current=!0}),onFocus:Se(e.onFocus,R=>{const U=!N.current;if(R.target===R.currentTarget&&U&&!y){const B=new CustomEvent(zx,J7);if(R.currentTarget.dispatchEvent(B),!B.defaultPrevented){const re=_().filter(te=>te.focusable),G=re.find(te=>te.active),H=re.find(te=>te.id===v),se=[G,H,...re].filter(Boolean).map(te=>te.ref.current);NR(se,u)}}N.current=!1}),onBlur:Se(e.onBlur,()=>x(!1))})})}),jR="RovingFocusGroupItem",_R=f.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:a=!1,tabStopId:i,children:o,...l}=e,c=en(),d=i||c,u=nW(jR,r),h=u.currentTabStopId===d,m=wR(r),{onFocusableItemAdd:p,onFocusableItemRemove:w,currentTabStopId:v}=u;return f.useEffect(()=>{if(n)return p(),()=>w()},[n,p,w]),s.jsx(O0.ItemSlot,{scope:r,id:d,focusable:n,active:a,children:s.jsx(Le.span,{tabIndex:h?0:-1,"data-orientation":u.orientation,...l,ref:t,onMouseDown:Se(e.onMouseDown,g=>{n?u.onItemFocus(d):g.preventDefault()}),onFocus:Se(e.onFocus,()=>u.onItemFocus(d)),onKeyDown:Se(e.onKeyDown,g=>{if(g.key==="Tab"&&g.shiftKey){u.onItemShiftTab();return}if(g.target!==g.currentTarget)return;const y=oW(g,u.orientation,u.dir);if(y!==void 0){if(g.metaKey||g.ctrlKey||g.altKey||g.shiftKey)return;g.preventDefault();let b=m().filter(_=>_.focusable).map(_=>_.ref.current);if(y==="last")b.reverse();else if(y==="prev"||y==="next"){y==="prev"&&b.reverse();const _=b.indexOf(g.currentTarget);b=u.loop?lW(b,_+1):b.slice(_+1)}setTimeout(()=>NR(b))}}),children:typeof o=="function"?o({isCurrentTabStop:h,hasTabStop:v!=null}):o})})});_R.displayName=jR;var aW={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function iW(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function oW(e,t,r){const n=iW(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return aW[n]}function NR(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function lW(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var SR=bR,CR=_R,D0=["Enter"," "],cW=["ArrowDown","PageUp","Home"],kR=["ArrowUp","PageDown","End"],dW=[...cW,...kR],uW={ltr:[...D0,"ArrowRight"],rtl:[...D0,"ArrowLeft"]},fW={ltr:["ArrowLeft"],rtl:["ArrowRight"]},lh="Menu",[Pf,hW,mW]=rg(lh),[Al,ER]=Cn(lh,[mW,No,Fg]),Lg=No(),PR=Fg(),[pW,Ol]=Al(lh),[gW,ch]=Al(lh),TR=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:a,onOpenChange:i,modal:o=!0}=e,l=Lg(t),[c,d]=f.useState(null),u=f.useRef(!1),h=jr(i),m=ih(a);return f.useEffect(()=>{const p=()=>{u.current=!0,document.addEventListener("pointerdown",w,{capture:!0,once:!0}),document.addEventListener("pointermove",w,{capture:!0,once:!0})},w=()=>u.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",w,{capture:!0}),document.removeEventListener("pointermove",w,{capture:!0})}},[]),s.jsx(fg,{...l,children:s.jsx(pW,{scope:t,open:r,onOpenChange:h,content:c,onContentChange:d,children:s.jsx(gW,{scope:t,onClose:f.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:u,dir:m,modal:o,children:n})})})};TR.displayName=lh;var vW="MenuAnchor",Qb=f.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=Lg(r);return s.jsx(Hf,{...a,...n,ref:t})});Qb.displayName=vW;var Xb="MenuPortal",[xW,RR]=Al(Xb,{forceMount:void 0}),MR=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:a}=e,i=Ol(Xb,t);return s.jsx(xW,{scope:t,forceMount:r,children:s.jsx(sn,{present:r||i.open,children:s.jsx(_d,{asChild:!0,container:a,children:n})})})};MR.displayName=Xb;var xs="MenuContent",[yW,Zb]=Al(xs),AR=f.forwardRef((e,t)=>{const r=RR(xs,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,i=Ol(xs,e.__scopeMenu),o=ch(xs,e.__scopeMenu);return s.jsx(Pf.Provider,{scope:e.__scopeMenu,children:s.jsx(sn,{present:n||i.open,children:s.jsx(Pf.Slot,{scope:e.__scopeMenu,children:o.modal?s.jsx(wW,{...a,ref:t}):s.jsx(bW,{...a,ref:t})})})})}),wW=f.forwardRef((e,t)=>{const r=Ol(xs,e.__scopeMenu),n=f.useRef(null),a=ct(t,n);return f.useEffect(()=>{const i=n.current;if(i)return Tg(i)},[]),s.jsx(Jb,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:Se(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),bW=f.forwardRef((e,t)=>{const r=Ol(xs,e.__scopeMenu);return s.jsx(Jb,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),jW=oo("MenuContent.ScrollLock"),Jb=f.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:h,onInteractOutside:m,onDismiss:p,disableOutsideScroll:w,...v}=e,g=Ol(xs,r),y=ch(xs,r),x=Lg(r),b=PR(r),_=hW(r),[N,k]=f.useState(null),S=f.useRef(null),R=ct(t,S,g.onContentChange),U=f.useRef(0),B=f.useRef(""),re=f.useRef(0),G=f.useRef(null),H=f.useRef("right"),V=f.useRef(0),se=w?Qf:f.Fragment,te=w?{as:jW,allowPinchZoom:!0}:void 0,J=D=>{var Q,P;const C=B.current+D,T=_().filter(F=>!F.disabled),A=document.activeElement,Y=(Q=T.find(F=>F.ref.current===A))==null?void 0:Q.textValue,E=T.map(F=>F.textValue),$=OW(E,C,Y),Z=(P=T.find(F=>F.textValue===$))==null?void 0:P.ref.current;(function F(X){B.current=X,window.clearTimeout(U.current),X!==""&&(U.current=window.setTimeout(()=>F(""),1e3))})(C),Z&&setTimeout(()=>Z.focus())};f.useEffect(()=>()=>window.clearTimeout(U.current),[]),Eg();const I=f.useCallback(D=>{var T,A;return H.current===((T=G.current)==null?void 0:T.side)&&IW(D,(A=G.current)==null?void 0:A.area)},[]);return s.jsx(yW,{scope:r,searchRef:B,onItemEnter:f.useCallback(D=>{I(D)&&D.preventDefault()},[I]),onItemLeave:f.useCallback(D=>{var C;I(D)||((C=S.current)==null||C.focus(),k(null))},[I]),onTriggerLeave:f.useCallback(D=>{I(D)&&D.preventDefault()},[I]),pointerGraceTimerRef:re,onPointerGraceIntentChange:f.useCallback(D=>{G.current=D},[]),children:s.jsx(se,{...te,children:s.jsx(Yf,{asChild:!0,trapped:a,onMountAutoFocus:Se(i,D=>{var C;D.preventDefault(),(C=S.current)==null||C.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:s.jsx(Pl,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:h,onInteractOutside:m,onDismiss:p,children:s.jsx(SR,{asChild:!0,...b,dir:y.dir,orientation:"vertical",loop:n,currentTabStopId:N,onCurrentTabStopIdChange:k,onEntryFocus:Se(c,D=>{y.isUsingKeyboardRef.current||D.preventDefault()}),preventScrollOnEntryFocus:!0,children:s.jsx(hg,{role:"menu","aria-orientation":"vertical","data-state":YR(g.open),"data-radix-menu-content":"",dir:y.dir,...x,...v,ref:R,style:{outline:"none",...v.style},onKeyDown:Se(v.onKeyDown,D=>{const T=D.target.closest("[data-radix-menu-content]")===D.currentTarget,A=D.ctrlKey||D.altKey||D.metaKey,Y=D.key.length===1;T&&(D.key==="Tab"&&D.preventDefault(),!A&&Y&&J(D.key));const E=S.current;if(D.target!==E||!dW.includes(D.key))return;D.preventDefault();const Z=_().filter(Q=>!Q.disabled).map(Q=>Q.ref.current);kR.includes(D.key)&&Z.reverse(),MW(Z)}),onBlur:Se(e.onBlur,D=>{D.currentTarget.contains(D.target)||(window.clearTimeout(U.current),B.current="")}),onPointerMove:Se(e.onPointerMove,Tf(D=>{const C=D.target,T=V.current!==D.clientX;if(D.currentTarget.contains(C)&&T){const A=D.clientX>V.current?"right":"left";H.current=A,V.current=D.clientX}}))})})})})})})});AR.displayName=xs;var _W="MenuGroup",ej=f.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(Le.div,{role:"group",...n,ref:t})});ej.displayName=_W;var NW="MenuLabel",OR=f.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(Le.div,{...n,ref:t})});OR.displayName=NW;var Np="MenuItem",eS="menu.itemSelect",$g=f.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...a}=e,i=f.useRef(null),o=ch(Np,e.__scopeMenu),l=Zb(Np,e.__scopeMenu),c=ct(t,i),d=f.useRef(!1),u=()=>{const h=i.current;if(!r&&h){const m=new CustomEvent(eS,{bubbles:!0,cancelable:!0});h.addEventListener(eS,p=>n==null?void 0:n(p),{once:!0}),Gw(h,m),m.defaultPrevented?d.current=!1:o.onClose()}};return s.jsx(DR,{...a,ref:c,disabled:r,onClick:Se(e.onClick,u),onPointerDown:h=>{var m;(m=e.onPointerDown)==null||m.call(e,h),d.current=!0},onPointerUp:Se(e.onPointerUp,h=>{var m;d.current||(m=h.currentTarget)==null||m.click()}),onKeyDown:Se(e.onKeyDown,h=>{const m=l.searchRef.current!=="";r||m&&h.key===" "||D0.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});$g.displayName=Np;var DR=f.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:a,...i}=e,o=Zb(Np,r),l=PR(r),c=f.useRef(null),d=ct(t,c),[u,h]=f.useState(!1),[m,p]=f.useState("");return f.useEffect(()=>{const w=c.current;w&&p((w.textContent??"").trim())},[i.children]),s.jsx(Pf.ItemSlot,{scope:r,disabled:n,textValue:a??m,children:s.jsx(CR,{asChild:!0,...l,focusable:!n,children:s.jsx(Le.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...i,ref:d,onPointerMove:Se(e.onPointerMove,Tf(w=>{n?o.onItemLeave(w):(o.onItemEnter(w),w.defaultPrevented||w.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Se(e.onPointerLeave,Tf(w=>o.onItemLeave(w))),onFocus:Se(e.onFocus,()=>h(!0)),onBlur:Se(e.onBlur,()=>h(!1))})})})}),SW="MenuCheckboxItem",IR=f.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...a}=e;return s.jsx(UR,{scope:e.__scopeMenu,checked:r,children:s.jsx($g,{role:"menuitemcheckbox","aria-checked":Sp(r)?"mixed":r,...a,ref:t,"data-state":rj(r),onSelect:Se(a.onSelect,()=>n==null?void 0:n(Sp(r)?!0:!r),{checkForDefaultPrevented:!1})})})});IR.displayName=SW;var FR="MenuRadioGroup",[CW,kW]=Al(FR,{value:void 0,onValueChange:()=>{}}),LR=f.forwardRef((e,t)=>{const{value:r,onValueChange:n,...a}=e,i=jr(n);return s.jsx(CW,{scope:e.__scopeMenu,value:r,onValueChange:i,children:s.jsx(ej,{...a,ref:t})})});LR.displayName=FR;var $R="MenuRadioItem",zR=f.forwardRef((e,t)=>{const{value:r,...n}=e,a=kW($R,e.__scopeMenu),i=r===a.value;return s.jsx(UR,{scope:e.__scopeMenu,checked:i,children:s.jsx($g,{role:"menuitemradio","aria-checked":i,...n,ref:t,"data-state":rj(i),onSelect:Se(n.onSelect,()=>{var o;return(o=a.onValueChange)==null?void 0:o.call(a,r)},{checkForDefaultPrevented:!1})})})});zR.displayName=$R;var tj="MenuItemIndicator",[UR,EW]=Al(tj,{checked:!1}),BR=f.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...a}=e,i=EW(tj,r);return s.jsx(sn,{present:n||Sp(i.checked)||i.checked===!0,children:s.jsx(Le.span,{...a,ref:t,"data-state":rj(i.checked)})})});BR.displayName=tj;var PW="MenuSeparator",qR=f.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(Le.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});qR.displayName=PW;var TW="MenuArrow",VR=f.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=Lg(r);return s.jsx(mg,{...a,...n,ref:t})});VR.displayName=TW;var RW="MenuSub",[yQ,WR]=Al(RW),Cu="MenuSubTrigger",HR=f.forwardRef((e,t)=>{const r=Ol(Cu,e.__scopeMenu),n=ch(Cu,e.__scopeMenu),a=WR(Cu,e.__scopeMenu),i=Zb(Cu,e.__scopeMenu),o=f.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=i,d={__scopeMenu:e.__scopeMenu},u=f.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return f.useEffect(()=>u,[u]),f.useEffect(()=>{const h=l.current;return()=>{window.clearTimeout(h),c(null)}},[l,c]),s.jsx(Qb,{asChild:!0,...d,children:s.jsx(DR,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":a.contentId,"data-state":YR(r.open),...e,ref:ni(t,a.onTriggerChange),onClick:h=>{var m;(m=e.onClick)==null||m.call(e,h),!(e.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:Se(e.onPointerMove,Tf(h=>{i.onItemEnter(h),!h.defaultPrevented&&!e.disabled&&!r.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),u()},100))})),onPointerLeave:Se(e.onPointerLeave,Tf(h=>{var p,w;u();const m=(p=r.content)==null?void 0:p.getBoundingClientRect();if(m){const v=(w=r.content)==null?void 0:w.dataset.side,g=v==="right",y=g?-5:5,x=m[g?"left":"right"],b=m[g?"right":"left"];i.onPointerGraceIntentChange({area:[{x:h.clientX+y,y:h.clientY},{x,y:m.top},{x:b,y:m.top},{x:b,y:m.bottom},{x,y:m.bottom}],side:v}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(h),h.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:Se(e.onKeyDown,h=>{var p;const m=i.searchRef.current!=="";e.disabled||m&&h.key===" "||uW[n.dir].includes(h.key)&&(r.onOpenChange(!0),(p=r.content)==null||p.focus(),h.preventDefault())})})})});HR.displayName=Cu;var KR="MenuSubContent",GR=f.forwardRef((e,t)=>{const r=RR(xs,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,i=Ol(xs,e.__scopeMenu),o=ch(xs,e.__scopeMenu),l=WR(KR,e.__scopeMenu),c=f.useRef(null),d=ct(t,c);return s.jsx(Pf.Provider,{scope:e.__scopeMenu,children:s.jsx(sn,{present:n||i.open,children:s.jsx(Pf.Slot,{scope:e.__scopeMenu,children:s.jsx(Jb,{id:l.contentId,"aria-labelledby":l.triggerId,...a,ref:d,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{var h;o.isUsingKeyboardRef.current&&((h=c.current)==null||h.focus()),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:Se(e.onFocusOutside,u=>{u.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:Se(e.onEscapeKeyDown,u=>{o.onClose(),u.preventDefault()}),onKeyDown:Se(e.onKeyDown,u=>{var p;const h=u.currentTarget.contains(u.target),m=fW[o.dir].includes(u.key);h&&m&&(i.onOpenChange(!1),(p=l.trigger)==null||p.focus(),u.preventDefault())})})})})})});GR.displayName=KR;function YR(e){return e?"open":"closed"}function Sp(e){return e==="indeterminate"}function rj(e){return Sp(e)?"indeterminate":e?"checked":"unchecked"}function MW(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function AW(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function OW(e,t,r){const a=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=AW(e,Math.max(i,0));a.length===1&&(o=o.filter(d=>d!==r));const c=o.find(d=>d.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function DW(e,t){const{x:r,y:n}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],c=t[o],d=l.x,u=l.y,h=c.x,m=c.y;u>n!=m>n&&r<(h-d)*(n-u)/(m-u)+d&&(a=!a)}return a}function IW(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return DW(r,t)}function Tf(e){return t=>t.pointerType==="mouse"?e(t):void 0}var FW=TR,LW=Qb,$W=MR,zW=AR,UW=ej,BW=OR,qW=$g,VW=IR,WW=LR,HW=zR,KW=BR,GW=qR,YW=VR,QW=HR,XW=GR,zg="DropdownMenu",[ZW,wQ]=Cn(zg,[ER]),kn=ER(),[JW,QR]=ZW(zg),XR=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:a,defaultOpen:i,onOpenChange:o,modal:l=!0}=e,c=kn(t),d=f.useRef(null),[u,h]=ba({prop:a,defaultProp:i??!1,onChange:o,caller:zg});return s.jsx(JW,{scope:t,triggerId:en(),triggerRef:d,contentId:en(),open:u,onOpenChange:h,onOpenToggle:f.useCallback(()=>h(m=>!m),[h]),modal:l,children:s.jsx(FW,{...c,open:u,onOpenChange:h,dir:n,modal:l,children:r})})};XR.displayName=zg;var ZR="DropdownMenuTrigger",JR=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...a}=e,i=QR(ZR,r),o=kn(r);return s.jsx(LW,{asChild:!0,...o,children:s.jsx(Le.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...a,ref:ni(t,i.triggerRef),onPointerDown:Se(e.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:Se(e.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});JR.displayName=ZR;var eH="DropdownMenuPortal",eM=e=>{const{__scopeDropdownMenu:t,...r}=e,n=kn(t);return s.jsx($W,{...n,...r})};eM.displayName=eH;var tM="DropdownMenuContent",rM=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=QR(tM,r),i=kn(r),o=f.useRef(!1);return s.jsx(zW,{id:a.contentId,"aria-labelledby":a.triggerId,...i,...n,ref:t,onCloseAutoFocus:Se(e.onCloseAutoFocus,l=>{var c;o.current||(c=a.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:Se(e.onInteractOutside,l=>{const c=l.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0,u=c.button===2||d;(!a.modal||u)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});rM.displayName=tM;var tH="DropdownMenuGroup",rH=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=kn(r);return s.jsx(UW,{...a,...n,ref:t})});rH.displayName=tH;var nH="DropdownMenuLabel",nM=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=kn(r);return s.jsx(BW,{...a,...n,ref:t})});nM.displayName=nH;var sH="DropdownMenuItem",sM=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=kn(r);return s.jsx(qW,{...a,...n,ref:t})});sM.displayName=sH;var aH="DropdownMenuCheckboxItem",aM=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=kn(r);return s.jsx(VW,{...a,...n,ref:t})});aM.displayName=aH;var iH="DropdownMenuRadioGroup",oH=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=kn(r);return s.jsx(WW,{...a,...n,ref:t})});oH.displayName=iH;var lH="DropdownMenuRadioItem",iM=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=kn(r);return s.jsx(HW,{...a,...n,ref:t})});iM.displayName=lH;var cH="DropdownMenuItemIndicator",oM=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=kn(r);return s.jsx(KW,{...a,...n,ref:t})});oM.displayName=cH;var dH="DropdownMenuSeparator",lM=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=kn(r);return s.jsx(GW,{...a,...n,ref:t})});lM.displayName=dH;var uH="DropdownMenuArrow",fH=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=kn(r);return s.jsx(YW,{...a,...n,ref:t})});fH.displayName=uH;var hH="DropdownMenuSubTrigger",cM=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=kn(r);return s.jsx(QW,{...a,...n,ref:t})});cM.displayName=hH;var mH="DropdownMenuSubContent",dM=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=kn(r);return s.jsx(XW,{...a,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});dM.displayName=mH;var pH=XR,gH=JR,vH=eM,uM=rM,fM=nM,hM=sM,mM=aM,pM=iM,gM=oM,vM=lM,xM=cM,yM=dM;const to=pH,ro=gH,xH=f.forwardRef(({className:e,inset:t,children:r,...n},a)=>s.jsxs(xM,{ref:a,className:le("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...n,children:[r,s.jsx(Zw,{className:"ml-auto h-4 w-4"})]}));xH.displayName=xM.displayName;const yH=f.forwardRef(({className:e,...t},r)=>s.jsx(yM,{ref:r,className:le("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));yH.displayName=yM.displayName;const Xa=f.forwardRef(({className:e,sideOffset:t=4,...r},n)=>s.jsx(vH,{children:s.jsx(uM,{ref:n,sideOffset:t,className:le("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));Xa.displayName=uM.displayName;const fr=f.forwardRef(({className:e,inset:t,...r},n)=>s.jsx(hM,{ref:n,className:le("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...r}));fr.displayName=hM.displayName;const wH=f.forwardRef(({className:e,children:t,checked:r,...n},a)=>s.jsxs(mM,{ref:a,className:le("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...n,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(gM,{children:s.jsx(cs,{className:"h-4 w-4"})})}),t]}));wH.displayName=mM.displayName;const bH=f.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(pM,{ref:n,className:le("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(gM,{children:s.jsx(V3,{className:"h-2 w-2 fill-current"})})}),t]}));bH.displayName=pM.displayName;const jH=f.forwardRef(({className:e,inset:t,...r},n)=>s.jsx(fM,{ref:n,className:le("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));jH.displayName=fM.displayName;const Mm=f.forwardRef(({className:e,...t},r)=>s.jsx(vM,{ref:r,className:le("-mx-1 my-1 h-px bg-muted",e),...t}));Mm.displayName=vM.displayName;var Ug="Tabs",[_H,bQ]=Cn(Ug,[Fg]),wM=Fg(),[NH,nj]=_H(Ug),bM=f.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:a,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...d}=e,u=ih(l),[h,m]=ba({prop:n,onChange:a,defaultProp:i??"",caller:Ug});return s.jsx(NH,{scope:r,baseId:en(),value:h,onValueChange:m,orientation:o,dir:u,activationMode:c,children:s.jsx(Le.div,{dir:u,"data-orientation":o,...d,ref:t})})});bM.displayName=Ug;var jM="TabsList",_M=f.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...a}=e,i=nj(jM,r),o=wM(r);return s.jsx(SR,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:n,children:s.jsx(Le.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:t})})});_M.displayName=jM;var NM="TabsTrigger",SM=f.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:a=!1,...i}=e,o=nj(NM,r),l=wM(r),c=EM(o.baseId,n),d=PM(o.baseId,n),u=n===o.value;return s.jsx(CR,{asChild:!0,...l,focusable:!a,active:u,children:s.jsx(Le.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":d,"data-state":u?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...i,ref:t,onMouseDown:Se(e.onMouseDown,h=>{!a&&h.button===0&&h.ctrlKey===!1?o.onValueChange(n):h.preventDefault()}),onKeyDown:Se(e.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(n)}),onFocus:Se(e.onFocus,()=>{const h=o.activationMode!=="manual";!u&&!a&&h&&o.onValueChange(n)})})})});SM.displayName=NM;var CM="TabsContent",kM=f.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:a,children:i,...o}=e,l=nj(CM,r),c=EM(l.baseId,n),d=PM(l.baseId,n),u=n===l.value,h=f.useRef(u);return f.useEffect(()=>{const m=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(m)},[]),s.jsx(sn,{present:a||u,children:({present:m})=>s.jsx(Le.div,{"data-state":u?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:d,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:h.current?"0s":void 0},children:m&&i})})});kM.displayName=CM;function EM(e,t){return`${e}-trigger-${t}`}function PM(e,t){return`${e}-content-${t}`}var SH=bM,TM=_M,RM=SM,MM=kM;const Fd=SH,fo=f.forwardRef(({className:e,...t},r)=>s.jsx(TM,{ref:r,className:le("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));fo.displayName=TM.displayName;const Br=f.forwardRef(({className:e,...t},r)=>s.jsx(RM,{ref:r,className:le("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Br.displayName=RM.displayName;const Xr=f.forwardRef(({className:e,...t},r)=>s.jsx(MM,{ref:r,className:le("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Xr.displayName=MM.displayName;const Jl=24;function AM(){var d,u;const{user:e}=ar(),[t,r]=f.useState("seguindo"),n=f.useRef(null),a=f.useRef(null),i=js({queryKey:["mini-following",e==null?void 0:e.id],enabled:!!(e!=null&&e.id),initialPageParam:0,getNextPageParam:(h,m)=>h.hasMore?m.length:void 0,queryFn:async({pageParam:h})=>{const p=(Number(h)||0)*Jl,w=p+Jl-1,{data:v,error:g}=await L.from("follows").select("followee_id").eq("follower_id",e.id).order("created_at",{ascending:!1}).range(p,w);if(g)throw g;const y=(v||[]).map(S=>S.followee_id);if(y.length===0)return{rows:[],hasMore:!1};const{data:x,error:b}=await L.from("profiles").select("id, display_name, avatar_url").in("id",y).eq("is_active",!0).eq("is_blocked",!1);if(b)throw b;const _=new Map((x||[]).map(S=>[S.id,S])),N=y.map(S=>_.get(S)).filter(Boolean),k=(v||[]).length===Jl;return{rows:N,hasMore:k}}}),o=f.useMemo(()=>{var h;return(((h=i.data)==null?void 0:h.pages)||[]).flatMap(m=>m.rows)},[(d=i.data)==null?void 0:d.pages]),l=js({queryKey:["mini-followers",e==null?void 0:e.id],enabled:!!(e!=null&&e.id),initialPageParam:0,getNextPageParam:(h,m)=>h.hasMore?m.length:void 0,queryFn:async({pageParam:h})=>{const p=(Number(h)||0)*Jl,w=p+Jl-1,{data:v,error:g}=await L.from("follows").select("follower_id").eq("followee_id",e.id).order("created_at",{ascending:!1}).range(p,w);if(g)throw g;const y=(v||[]).map(S=>S.follower_id);if(y.length===0)return{rows:[],hasMore:!1};const{data:x,error:b}=await L.from("profiles").select("id, display_name, avatar_url").in("id",y).eq("is_active",!0).eq("is_blocked",!1);if(b)throw b;const _=new Map((x||[]).map(S=>[S.id,S])),N=y.map(S=>_.get(S)).filter(Boolean),k=(v||[]).length===Jl;return{rows:N,hasMore:k}}}),c=f.useMemo(()=>{var h;return(((h=l.data)==null?void 0:h.pages)||[]).flatMap(m=>m.rows)},[(u=l.data)==null?void 0:u.pages]);return f.useEffect(()=>{const h=n.current;if(!h||t!=="seguindo")return;const m=new IntersectionObserver(p=>{p[0].isIntersecting&&i.hasNextPage&&!i.isFetchingNextPage&&i.fetchNextPage()});return m.observe(h),()=>m.disconnect()},[t,i.hasNextPage,i.isFetchingNextPage]),f.useEffect(()=>{const h=a.current;if(!h||t!=="seguidores")return;const m=new IntersectionObserver(p=>{p[0].isIntersecting&&l.hasNextPage&&!l.isFetchingNextPage&&l.fetchNextPage()});return m.observe(h),()=>m.disconnect()},[t,l.hasNextPage,l.isFetchingNextPage]),e!=null&&e.id?s.jsx("div",{className:"mt-2",children:s.jsxs(Fd,{value:t,onValueChange:h=>r(h),className:"w-full",children:[s.jsxs(fo,{className:"grid w-full grid-cols-2",children:[s.jsx(Br,{value:"seguindo",children:"Seguindo"}),s.jsx(Br,{value:"seguidores",children:"Seguidores"})]}),s.jsxs("div",{className:"p-2",children:[s.jsxs(Xr,{value:"seguindo",className:"mt-0",children:[i.isLoading?s.jsx("p",{className:"text-sm text-muted-foreground",children:"Carregando..."}):o.length===0?s.jsx("p",{className:"text-sm text-muted-foreground",children:"Você ainda não segue ninguém."}):s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:o.map(h=>{const m=h.display_name||"Usuário";return s.jsxs(Qt,{to:`/m/${h.id}`,className:"flex items-center gap-3 rounded-md p-2 hover:bg-muted/50",children:[s.jsxs(Ft,{className:"h-8 w-8 shrink-0",isPro:!!h.is_pro,children:[s.jsx(Lt,{src:h.avatar_url||void 0,alt:m}),s.jsx($t,{children:m.charAt(0).toUpperCase()})]}),s.jsx("div",{className:"min-w-0",children:s.jsx("p",{className:"text-sm font-medium truncate",children:m})})]},h.id)})}),s.jsx("div",{ref:n,className:"h-6"}),i.isFetchingNextPage&&s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Carregando mais..."})]}),s.jsxs(Xr,{value:"seguidores",className:"mt-0",children:[l.isLoading?s.jsx("p",{className:"text-sm text-muted-foreground",children:"Carregando..."}):c.length===0?s.jsx("p",{className:"text-sm text-muted-foreground",children:"Nenhum seguidor ainda."}):s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:c.map(h=>{const m=h.display_name||"Usuário";return s.jsxs(Qt,{to:`/m/${h.id}`,className:"flex items-center gap-3 rounded-md p-2 hover:bg-muted/50",children:[s.jsxs(Ft,{className:"h-8 w-8 shrink-0",isPro:!!h.is_pro,children:[s.jsx(Lt,{src:h.avatar_url||void 0,alt:m}),s.jsx($t,{children:m.charAt(0).toUpperCase()})]}),s.jsx("div",{className:"min-w-0",children:s.jsx("p",{className:"text-sm font-medium truncate",children:m})})]},h.id)})}),s.jsx("div",{ref:a,className:"h-6"}),l.isFetchingNextPage&&s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Carregando mais..."})]})]})]})}):null}const CH={API_BASE_URL:"https://api.veepag.com/v1",DEFAULT_COMPANY_ID:"689ba2287d1aefb263b1cdc6",ENDPOINTS:{TRANSACTION:"/transaction/",TRANSACTION_STATUS:e=>`/transaction/${e}`,TRANSACTION_CANCEL:e=>`/transaction/${e}/cancel`},DEFAULTS:{PAYMENT_EXPIRY:3600,POLLING_INTERVAL:3e4,QR_CODE_SIZE:200},PAYMENT_STATUS:{PENDING:"pending",PAID:"paid",EXPIRED:"expired",CANCELLED:"cancelled",FAILED:"failed"},PAYMENT_METHODS:{PIX:"pix"},VALIDATIONS:{MIN_AMOUNT:1,MAX_AMOUNT:1e6,MAX_DESCRIPTION_LENGTH:255,MAX_CUSTOMER_NAME_LENGTH:100,MAX_CUSTOMER_EMAIL_LENGTH:100,MAX_CUSTOMER_DOCUMENT_LENGTH:20,MAX_CUSTOMER_PHONE_LENGTH:20},ERROR_MESSAGES:{INVALID_API_KEY:"Chave da API Veepag não configurada",INVALID_AMOUNT:"Valor inválido para o pagamento",INVALID_DESCRIPTION:"Descrição inválida para o pagamento",INVALID_CUSTOMER_NAME:"Nome do cliente é obrigatório",INVALID_EXTERNAL_ID:"ID externo é obrigatório",TRANSACTION_NOT_FOUND:"Transação não encontrada",TRANSACTION_ALREADY_PAID:"Transação já foi paga",TRANSACTION_EXPIRED:"Transação expirada",TRANSACTION_CANCELLED:"Transação cancelada",TRANSACTION_FAILED:"Transação falhou",NETWORK_ERROR:"Erro de conexão com a API",UNKNOWN_ERROR:"Erro desconhecido"},DEFAULT_HEADERS:{"Content-Type":"application/json",Accept:"application/json"},TIMEOUTS:{REQUEST:3e4,POLLING:3e4},RETRY:{MAX_ATTEMPTS:3,DELAY:1e3,BACKOFF_MULTIPLIER:2}};class kH{constructor(){Ch(this,"apiKey");Ch(this,"baseURL");Ch(this,"companyId");if(this.apiKey="8LPLznUsyRwxIlo5SH5wG0HDBxDTD7awgieoZVoSwjmHJcL32MlUuLwXnvCUjZjF",this.companyId="689ba2287d1aefb263b1cdc6",this.baseURL="https://api.veepag.com/v1",!this.apiKey)throw new Error("VEEPAG_API_KEY não configurada nas variáveis de ambiente");this.companyId||(console.warn("VEEPAG_COMPANY_ID não configurado, usando valor padrão"),this.companyId=CH.DEFAULT_COMPANY_ID)}async createTransaction(t){try{const r={companyId:this.companyId,amount:t.amount,paymentMethod:t.paymentMethod},n=`${this.baseURL}/transaction/`,a={"Content-Type":"application/json",Authorization:`key ${this.apiKey}`,apikey:this.apiKey},i=await fetch(n,{method:"POST",headers:a,body:JSON.stringify(r)}),o=await i.text();let l=null;try{l=o?JSON.parse(o):null}catch{}if(!i.ok){const c=l&&(l.message||l.error)||i.statusText||"Erro desconhecido";throw new Error(`Erro na API Veepag: ${i.status} - ${c}`)}return l}catch(r){throw console.error("Erro ao criar transação Veepag:",r),r}}async getTransactionStatus(t){try{const r=`${this.baseURL}/transaction/${t}`,n={Authorization:`key ${this.apiKey}`,apikey:this.apiKey},a=await fetch(r,{method:"GET",headers:n}),i=await a.text();let o=null;try{o=i?JSON.parse(i):null}catch{}if(!a.ok){const l=o&&(o.message||o.error)||a.statusText||"Erro desconhecido";throw new Error(`Erro na API Veepag: ${a.status} - ${l}`)}return o}catch(r){throw console.error("Erro ao consultar transação Veepag:",r),r}}async cancelTransaction(t){try{const r=`${this.baseURL}/transaction/cancel/`,n={"Content-Type":"application/json",apikey:this.apiKey,Authorization:`key ${this.apiKey}`},a={companyId:this.companyId,cancelSubscription:!1,transactionId:t},i=await fetch(r,{method:"PUT",headers:n,body:JSON.stringify(a)}),o=await i.text();let l=null;try{l=o?JSON.parse(o):null}catch{}if(!i.ok){const c=l&&(l.message||l.error)||i.statusText||"Erro desconhecido";throw new Error(`Erro na API Veepag: ${i.status} - ${c}`)}return l}catch(r){throw console.error("Erro ao cancelar transação Veepag:",r),r}}generateQRCode(t){return`https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=${encodeURIComponent(t)}`}validateWebhookPayload(t){try{return!t.id||!t.companyId||!t.status||!t.amount?(console.error("Payload do webhook inválido:",t),null):t}catch(r){return console.error("Erro ao validar payload do webhook:",r),null}}}const OM=new kH,EH=()=>{const[e,t]=f.useState(!1),[r,n]=f.useState(null);return{createPayment:async i=>{t(!0),n(null);try{return await OM.createTransaction({amount:i,paymentMethod:"PIX"})}catch(o){const l=o instanceof Error?o.message:"Erro desconhecido";throw n(l),o}finally{t(!1)}},loading:e,error:r}},tS=e=>typeof e=="number"&&!Number.isNaN(e)?e.toLocaleString("pt-BR",{style:"currency",currency:"BRL"}):"",PH=({current:e,onStep:t,canGoTo:r})=>{const n=[{id:1,label:"Música"},{id:2,label:"Dedicatória"},{id:3,label:"Contribuição"}];return s.jsx("div",{className:"mb-3",children:s.jsx("div",{className:"flex items-center justify-center gap-8",children:n.map(a=>s.jsx("button",{type:"button",onClick:()=>r(a.id)&&t(a.id),className:"group","aria-current":e===a.id?"step":void 0,children:s.jsx("div",{className:`w-16 h-0.5 rounded-full transition-all duration-300 ${e>=a.id?"bg-gray-500":"bg-muted-foreground/20"}`})},a.id))})})},DM=({mid:e,initialView:t}={})=>{var o1,l1,c1,d1,u1;const r=bb(),n=e||r.mid,a=r==null?void 0:r.section,i=Or(),o=ml(),{resolvedTheme:l}=as(),[c,d]=f.useState(1),[u,h]=f.useState(null),[m,p]=f.useState(""),[w,v]=f.useState(""),[g,y]=f.useState(""),[x,b]=f.useState(""),[_,N]=f.useState(""),[k,S]=f.useState(0),[R,U]=f.useState(!1),[B,re]=f.useState(!1),[G,H]=f.useState(null),[V,se]=f.useState(!0),[te,J]=f.useState(!1),[I,D]=f.useState(2),[C,T]=f.useState(!1),[A,Y]=f.useState(!1);f.useState(!1);const[E,$]=f.useState(!1),[Z,Q]=f.useState(null),[P,F]=f.useState(!1),[X,de]=f.useState(!1),[Ne,me]=f.useState(""),[xe,Ye]=f.useState("");f.useState(!1);const[Nt,kt]=f.useState(null),[Ut,Et]=f.useState(!1),[q,ne]=f.useState(null),[ue,be]=f.useState(null),[we,pe]=f.useState("");f.useEffect(()=>{if(!we)return;const j=L.channel(`pi-${we}`).on("postgres_changes",{event:"UPDATE",schema:"public",table:"payment_intents",filter:`provider_tx_id=eq.${we}`},M=>{const W=M.new,ge=String((W==null?void 0:W.status)||"").toUpperCase();(ge.includes("PAID")||ge.includes("APPROV"))&&(re(!0),cr().catch(()=>{}),Et(!1))}).subscribe();return()=>{try{L.removeChannel(j)}catch{}}},[we]);const[Ee,We]=f.useState(!1),fe=f.useRef(null),De=f.useRef(null),gt="ava_requester_name",rt=j=>{p(j);try{localStorage.setItem(gt,j)}catch{}},pt=f.useRef(!1),Pt=f.useRef(null),cr=()=>Pt.current?Pt.current:pt.current?Promise.resolve():(pt.current=!0,Pt.current=dO().catch(j=>{throw pt.current=!1,Pt.current=null,j}).then(()=>{}),Pt.current),{createPayment:z,loading:ae,error:ye}=EH();f.useEffect(()=>{c===2&&(N(""),S(0),re(!1),U(!1),pt.current=!1,Pt.current=null,se(!0),me(""),Ye(""),kt(null),Et(!1),ne(null))},[c]);const Pe=async()=>{if(!x){oe({title:"Valor obrigatório",description:"Digite um valor para a contribuição.",variant:"destructive"});return}try{const j=Math.round(Number(x.replace(/[^0-9,.-]/g,"").replace(",","."))*100),M=j/100;if(j<=0){oe({title:"Valor inválido",description:"Digite um valor válido para a contribuição.",variant:"destructive"});return}try{const ve=localStorage.getItem("anon_free_requests_count"),_e=ve?Number(ve):0;if(!ee&&_e>=3&&!(M>=5)){Q("Você atingiu o limite de 3 pedidos gratuitos. Para continuar, contribua com valor de R$ 5,00 ou mais."),de(!0);return}}catch{}const W=await z(j),ge=W&&(W.pixCode||W.pix_code||W.emv||W.payload)||W&&W.qrCode&&(W.qrCode.text||W.qrCode.payload);if(ge){me(ge),Ye(W._id),pe(W._id),kt(null),Et(!1),be((W==null?void 0:W.companyId)||"689ba2287d1aefb263b1cdc6");try{const _e=(await L.auth.getUser()).data.user;await L.from("payment_intents").insert({provider:"veepag",provider_tx_id:W._id,musician_id:n||null,user_id:(_e==null?void 0:_e.id)||null,request_id:G||null,amount_cents:j,status:"pending"})}catch{}N(ge),D(3),S(420),se(!1)}else throw new Error("Resposta da Veepag não contém QR Code válido")}catch(j){const M=j instanceof Error?j.message:"Erro ao gerar PIX";kt(M)}};f.useEffect(()=>{c===2&&fe.current&&fe.current.focus()},[c]),f.useEffect(()=>{c===3&&De.current&&De.current.focus()},[c]),f.useEffect(()=>{if(!_||k<=0)return;const j=setInterval(()=>{S(M=>M>0?M-1:0)},1e3);return()=>clearInterval(j)},[_,k]),f.useEffect(()=>{_&&k===0&&!B&&!R&&(async()=>{try{U(!0),re(!1),Et(!0),o&&te?(N(""),se(!0),D(3),Q("O tempo do PIX expirou. Gere um novo PIX."),de(!0),setTimeout(()=>{var j;return(j=De.current)==null?void 0:j.focus()},0)):o||(N(""),se(!0),d(3),Q("O tempo do PIX expirou. Gere um novo PIX."),de(!0),setTimeout(()=>{var j;return(j=De.current)==null?void 0:j.focus()},0))}catch{}finally{U(!1)}})()},[k,_,B,R]),f.useEffect(()=>{if(te&&B&&I===3){if(!pt.current)return;fa({particleCount:140,spread:70,origin:{y:.6},colors:["#10B981","#34D399","#86EFAC"]}),N(""),D(4)}},[B,te,I]),f.useEffect(()=>{if(!te&&B&&c===3){if(!pt.current)return;fa({particleCount:140,spread:70,origin:{y:.6},colors:["#10B981","#34D399","#86EFAC"]}),N(""),d(4)}},[B,te,c]),f.useEffect(()=>{var j;if(te&&I===2){if(!m){const M=((j=ee==null?void 0:ee.user_metadata)==null?void 0:j.full_name)||(()=>{try{return localStorage.getItem(gt)||""}catch{return""}})(),W=M?String(M).split(" ")[0]:"";W&&p(W)}fe.current&&fe.current.focus()}},[te,I]),f.useEffect(()=>{te&&I===3&&De.current&&De.current.focus()},[te,I]);const[nt,st]=f.useState(!0),[Ge,vr]=f.useState(""),[Dr,Me]=f.useState(!1),Ce=j=>{const M=String(j||"").toLowerCase();if(["pedir-musica","musicas"].includes(M))return"music";if(M==="agenda")return"schedule";if(["fotos","galeria"].includes(M))return"photos";if(["contratar","contrato"].includes(M))return"contract";if(["contribuir","contribuicao"].includes(M))return"contribute"},qe=Ce(a),[Re,ot]=f.useState(qe||t||"music");f.useEffect(()=>{const j=Ce(a);j&&j!==Re&&ot(j)},[a]),f.useEffect(()=>{t&&t!==Re&&ot(t)},[t]);const wt=j=>{switch(j){case"music":return"pedir-musica";case"schedule":return"agenda";case"photos":return"fotos";case"contract":return"contratar";case"contribute":return"contribuir"}},ht=j=>{ot(j),Me(j==="schedule");const M=r==null?void 0:r.username;M&&i(`/${M}/${wt(j)}`)},[ie,He]=f.useState(!1),[Ue,vt]=f.useState(80),[xt,St]=f.useState(!1),[dr,Hr]=f.useState(!1),Ir=f.useRef(null),hn=f.useRef(null);f.useEffect(()=>{o&&(Ge.trim()?We(!0):We(!1))},[o,Ge]);const[Fr,ur]=f.useState(""),[Po,ka]=f.useState(!1),[Js,ea]=f.useState(1),fh=10,[Bn,ev]=f.useState(null),{user:ee}=ar(),[_A,To]=f.useState(!1),tv=((o1=ee==null?void 0:ee.user_metadata)==null?void 0:o1.full_name)||(ee==null?void 0:ee.email)||"Usuário",NA=((l1=ee==null?void 0:ee.user_metadata)==null?void 0:l1.avatar_url)||void 0,[Dl,hh]=f.useState({}),[er,$d]=f.useState({}),{data:qn,isLoading:SA}=Ze({queryKey:["public-musician-photos",n],enabled:!!n,queryFn:async()=>{const{data:j,error:M}=await L.from("musician_photos").select("id, grid_url, full_url, description, created_at").eq("musician_id",n).eq("is_public",!0).order("created_at",{ascending:!1});if(M)throw M;return j||[]}});f.useEffect(()=>{(async()=>{if(!qn||qn.length===0){yj({}),wj({});return}const M=qn.map(W=>W.id);try{const[W,ge]=await Promise.all([L.from("photo_likes").select("photo_id").in("photo_id",M),L.from("photo_comments").select("photo_id").in("photo_id",M)]),ve={};(W.data||[]).forEach(Tt=>{ve[Tt.photo_id]=(ve[Tt.photo_id]||0)+1});const _e={};(ge.data||[]).forEach(Tt=>{_e[Tt.photo_id]=(_e[Tt.photo_id]||0)+1}),yj(ve),wj(_e)}catch{}})()},[qn]);const[Be,mh]=f.useState(null),[ph,gh]=f.useState(0),[Ea,rv]=f.useState(!1),[vh,yj]=f.useState({}),[Il,wj]=f.useState({}),[CA,bj]=f.useState(!1),[kA,jj]=f.useState(!1),[_j,Nj]=f.useState([]),[Sj,Cj]=f.useState([]),[nv,zd]=f.useState({}),[EA,kj]=f.useState(!1),[os,sv]=f.useState([]),[Ej,av]=f.useState(null),[PA,Ud]=f.useState(null),[iv,TA]=f.useState({}),Pj=10,[Tj,Rj]=f.useState(0),[xh,yh]=f.useState(!1),Mj=f.useMemo(()=>{var j;return((j=os.find(M=>M.user_id===(ee==null?void 0:ee.id)))==null?void 0:j.id)||null},[os,ee==null?void 0:ee.id]),[wh,Bd]=f.useState(""),[ov,Ro]=f.useState(""),[lv,bh]=f.useState({}),[RA,Aj]=f.useState({}),[MA,qd]=f.useState(!1),[Vd,cv]=f.useState(null),[Oj,jh]=f.useState(""),[AA,dv]=f.useState(!1),Wd=f.useRef(null),uv=f.useRef(null),OA=()=>{if(dv(!0),We(!0),!!o)try{const j=()=>{var M,W,ge,ve;try{(M=Wd.current)==null||M.focus();const _e=(((W=Wd.current)==null?void 0:W.value)||"").length;(ve=(ge=Wd.current)==null?void 0:ge.setSelectionRange)==null||ve.call(ge,_e,_e)}catch{}};requestAnimationFrame(j),setTimeout(j,120),setTimeout(j,300)}catch{}};f.useEffect(()=>{if(!o)return;const j=()=>{try{const W=uv.current;if(!W)return;const ge=W.getBoundingClientRect();vt(Math.max(0,Math.round(ge.top+window.scrollY)))}catch{}};j(),window.addEventListener("resize",j);const M=setTimeout(j,200);return()=>{window.removeEventListener("resize",j),clearTimeout(M)}},[o,Re]);const Mo=o&&Re==="music"&&(!!(Ge!=null&&Ge.trim())||Ee);f.useState(null);function _h(j){if(!j)return"";const M=Date.now(),W=new Date(j).getTime(),ge=Math.max(0,M-W),ve=Math.floor(ge/1e3);if(ve<60)return`${ve}s`;const _e=Math.floor(ve/60);if(_e<60)return`${_e}m`;const Tt=Math.floor(_e/60);if(Tt<24)return`${Tt}h`;const It=Math.floor(Tt/24);if(It<7)return`${It}d`;const Bt=Math.floor(It/7);if(Bt<4)return`${Bt}sem`;const xr=Math.floor(It/30);return xr<12?`${xr}m`:`${Math.floor(It/365)}a`}function DA({description:j}){const[M,W]=f.useState(!1);if(!ml())return s.jsx("p",{className:"text-sm text-foreground",children:j});const ve=j.length>100;return s.jsx("div",{className:"text-sm text-foreground",children:!M&&ve?s.jsxs(s.Fragment,{children:[j.slice(0,100),"..."," ",s.jsx("button",{onClick:()=>W(!M),className:"text-xs text-primary hover:text-primary/80",children:"Ver mais"})]}):s.jsxs(s.Fragment,{children:[j,ve&&s.jsxs(s.Fragment,{children:[" ",s.jsx("button",{onClick:()=>W(!M),className:"text-xs text-primary hover:text-primary/80",children:"Ver menos"})]})]})})}f.useEffect(()=>{var j;if(c===2&&!m){const M=((j=ee==null?void 0:ee.user_metadata)==null?void 0:j.full_name)||(()=>{try{return localStorage.getItem(gt)||""}catch{return""}})(),W=M?String(M).split(" ")[0]:"";W&&p(W)}},[c,m,(c1=ee==null?void 0:ee.user_metadata)==null?void 0:c1.full_name]),f.useEffect(()=>{var M;if(!m&&((M=ee==null?void 0:ee.user_metadata)!=null&&M.full_name)){const W=String(ee.user_metadata.full_name).split(" ")[0]||"";W&&p(W)}(async()=>{if(Be!=null&&Be.id)try{const[{count:W},ge]=await Promise.all([L.from("photo_likes").select("*",{count:"exact",head:!0}).eq("photo_id",Be.id),ee!=null&&ee.id?L.from("photo_likes").select("id").eq("photo_id",Be.id).eq("user_id",ee.id).maybeSingle():Promise.resolve({data:null,error:null})]);gh(W||0),rv(!!(ge!=null&&ge.data)),await Promise.all([Dj(),fv()])}catch{}})()},[Be==null?void 0:Be.id,ee==null?void 0:ee.id]);const Dj=async()=>{if(Be!=null&&Be.id){yh(!0);try{const{data:j,error:M,count:W}=await L.from("photo_comments").select("id, user_id, content, reply_text, replied_by, created_at",{count:"exact"}).eq("photo_id",Be.id).order("created_at",{ascending:!0}).range(0,Pj-1);if(M)throw M;sv(j||[]),Rj(W||0);const ge=(j||[]).find(_e=>_e.user_id===(ee==null?void 0:ee.id));Bd(""),Ro(ge?ge.content:"");const ve=Array.from(new Set((j||[]).flatMap(_e=>[_e.user_id,_e.replied_by].filter(Boolean))));ve.length&&await Fj(ve)}finally{yh(!1)}}},Ij=async()=>{if(Be!=null&&Be.id&&!(os.length>=Tj)){yh(!0);try{const j=os.length,M=j+Pj-1,{data:W,error:ge}=await L.from("photo_comments").select("id, user_id, content, reply_text, replied_by, created_at").eq("photo_id",Be.id).order("created_at",{ascending:!0}).range(j,M);if(ge)throw ge;sv(_e=>[..._e,...W||[]]);const ve=Array.from(new Set((W||[]).flatMap(_e=>[_e.user_id,_e.replied_by].filter(Boolean))));ve.length&&await Fj(ve)}finally{yh(!1)}}},Fj=async j=>{const M=j.filter(_e=>!iv[_e]);if(!M.length)return;const{data:W,error:ge}=await L.from("profiles").select("id, display_name, avatar_url, username").in("id",M);if(ge)return;const ve={};(W||[]).forEach(_e=>{ve[_e.id]={display_name:_e.display_name||null,avatar_url:_e.avatar_url||null,username:_e.username||null}}),TA(_e=>({..._e,...ve}))},Hd=async()=>{if(Be!=null&&Be.id)try{const[{count:j}]=await Promise.all([L.from("photo_likes").select("*",{count:"exact",head:!0}).eq("photo_id",Be.id)]);gh(j||0),await Promise.all([Dj(),fv()])}catch{}},fv=async()=>{if(Be!=null&&Be.id)try{const{data:j}=await L.from("photo_likes").select("user_id, created_at").eq("photo_id",Be.id).order("created_at",{ascending:!1}).limit(4),M=Array.from(new Set((j||[]).map(_e=>_e.user_id)));if(M.length===0){Cj([]);return}const{data:W}=await L.from("profiles").select("id, avatar_url").in("id",M).eq("is_active",!0),ge=new Map((W||[]).map(_e=>[_e.id,_e.avatar_url||null])),ve=M.map(_e=>({id:_e,avatar_url:ge.get(_e)||null}));Cj(ve)}catch{}},Lj=async()=>{if(!(Be!=null&&Be.id))return;if(!(ee!=null&&ee.id)){oe({title:"Entre para curtir",description:"Faça login para curtir fotos."});return}const j=Ea;rv(!j),gh(M=>M+(j?-1:1));try{if(j){const{error:M}=await L.from("photo_likes").delete().eq("photo_id",Be.id).eq("user_id",ee.id);if(M)throw M}else{const{error:M}=await L.from("photo_likes").insert({photo_id:Be.id,user_id:ee.id});if(M)throw M}await fv()}catch(M){rv(j),gh(W=>W+(j?1:-1)),oe({title:"Erro ao curtir",description:M.message,variant:"destructive"})}},IA=async()=>{if(Be!=null&&Be.id){bj(!0),jj(!0);try{const{data:j,error:M}=await L.from("photo_likes").select("user_id").eq("photo_id",Be.id);if(M)throw M;const W=Array.from(new Set((j||[]).map(Tt=>Tt.user_id)));if(W.length===0){Nj([]),zd({});return}const{data:ge,error:ve}=await L.from("profiles").select("id, display_name, avatar_url").in("id",W).eq("is_active",!0);if(ve)throw ve;const _e=W.map(Tt=>(ge||[]).find(It=>It.id===Tt)).filter(Boolean);if(Nj(_e),ee!=null&&ee.id){const{data:Tt}=await L.from("follows").select("followee_id").eq("follower_id",ee.id).in("followee_id",W),It={};(Tt||[]).forEach(Bt=>It[Bt.followee_id]=!0),zd(It)}else zd({})}catch{}finally{jj(!1)}}},FA=async j=>{if(!(ee!=null&&ee.id)){oe({title:"Entre para seguir",description:"Faça login para seguir usuários."});return}const M=!!nv[j];zd(W=>({...W,[j]:!M}));try{if(M){const{error:W}=await L.from("follows").delete().eq("follower_id",ee.id).eq("followee_id",j);if(W)throw W}else{const{error:W}=await L.from("follows").insert({follower_id:ee.id,followee_id:j});if(W)throw W}}catch(W){zd(ge=>({...ge,[j]:M})),oe({title:"Erro ao atualizar seguimento",description:W.message,variant:"destructive"})}},hv=async()=>{if(!(Be!=null&&Be.id))return;if(!(ee!=null&&ee.id)){oe({title:"Entre para comentar",description:"Faça login para comentar fotos."});return}const j=wh.trim().slice(0,120);if(!j){oe({title:"Escreva um comentário"});return}try{const M=os.find(W=>W.user_id===ee.id);if(M){const{error:W}=await L.from("photo_comments").update({content:j}).eq("id",M.id);if(W)throw W;oe({title:"Comentário atualizado"}),Ro(j),Bd("")}else{const{error:W}=await L.from("photo_comments").insert({photo_id:Be.id,user_id:ee.id,content:j});if(W)throw W;oe({title:"Comentário enviado"}),Bd("")}await Hd()}catch(M){oe({title:"Erro ao comentar",description:M.message,variant:"destructive"})}},$j=async()=>{if(!(Be!=null&&Be.id)||!(ee!=null&&ee.id))return;const j=os.find(W=>W.user_id===ee.id);if(!j)return;const M=ov.trim().slice(0,120);if(!M){oe({title:"Escreva um comentário"});return}try{const{error:W}=await L.from("photo_comments").update({content:M}).eq("id",j.id);if(W)throw W;oe({title:"Comentário atualizado"}),await Hd(),av(null)}catch(W){oe({title:"Erro ao atualizar",description:W.message,variant:"destructive"})}},zj=async()=>{if(!(Be!=null&&Be.id)||!(ee!=null&&ee.id))return;const j=os.find(M=>M.user_id===ee.id);if(j)try{const{error:M}=await L.from("photo_comments").delete().eq("id",j.id);if(M)throw M;oe({title:"Comentário removido"}),Ro(""),await Hd()}catch(M){oe({title:"Erro ao remover",description:M.message,variant:"destructive"})}},Uj=async j=>{if(Be!=null&&Be.id)try{const{error:M}=await L.from("photo_comments").delete().eq("id",j);if(M)throw M;oe({title:"Comentário removido"}),sv(W=>W.filter(ge=>ge.id!==j)),Rj(W=>Math.max(0,W-1))}catch(M){oe({title:"Não foi possível remover",description:M.message,variant:"destructive"})}},mv=async j=>{if(!ls||!(ee!=null&&ee.id))return;const M=(lv[j]||"").trim().slice(0,120);if(!M){oe({title:"Escreva uma resposta"});return}try{const{error:W}=await L.from("photo_comments").update({reply_text:M,replied_by:ee.id}).eq("id",j);if(W)throw W;oe({title:"Resposta publicada"}),bh(ge=>({...ge,[j]:""})),await Hd()}catch(W){oe({title:"Erro ao responder",description:W.message,variant:"destructive"})}},LA=async j=>{if(!(!ls||!(ee!=null&&ee.id)))try{const{error:M}=await L.from("photo_comments").update({reply_text:null,replied_by:null}).eq("id",j);if(M)throw M;oe({title:"Resposta removida"}),await Hd(),Ud(null)}catch(M){oe({title:"Erro ao remover resposta",description:M.message,variant:"destructive"})}},Bj=async()=>{if(Be!=null&&Be.id){if(!(ee!=null&&ee.id)){oe({title:"Entre para denunciar",description:"Faça login para denunciar."});return}cv({type:"photo",id:Be.id}),jh(""),qd(!0)}},$A=async j=>{if(!(ee!=null&&ee.id)){oe({title:"Entre para denunciar",description:"Faça login para denunciar."});return}cv({type:"comment",id:j}),jh(""),qd(!0)},zA=async()=>{if(!Vd||!(ee!=null&&ee.id))return;const j=Oj.trim();if(!j){oe({title:"Informe um motivo"});return}try{const M={photo_id:Vd.type==="photo"?Vd.id:null,comment_id:Vd.type==="comment"?Vd.id:null,user_id:ee.id,reason:j},{error:W}=await L.from("photo_reports").insert(M);if(W)throw W;oe({title:"Denúncia enviada"}),qd(!1),cv(null),jh("")}catch(M){oe({title:"Erro ao denunciar",description:M.message,variant:"destructive"})}},UA=20,[Fl,qj]=f.useState(1),[_r,Vj]=f.useState(!1),Kd=f.useMemo(()=>_r?30:UA,[_r]),pv=10,[Gd,Wj]=f.useState(1),gv=f.useMemo(()=>(Gd-1)*pv,[Gd]),BA=f.useMemo(()=>gv+pv-1,[gv]),{data:ce,refetch:Ao,isLoading:Hj}=XT(n);if(f.useEffect(()=>{ZT(n).catch(()=>{})},[n]),n&&!Hj&&!ce)return s.jsx(oi,{children:s.jsx("div",{className:"min-h-screen flex w-full bg-background",children:s.jsxs("main",{className:"flex-1",children:[s.jsx(Zt,{title:"Perfil indisponível",description:"Este usuário não está disponível no momento."}),s.jsx("section",{className:"max-w-5xl mx-auto px-4 py-12",children:s.jsx(et,{className:"border-0 shadow-none",children:s.jsxs(tt,{className:"p-6 text-center space-y-4",children:[s.jsx("h1",{className:"text-2xl font-semibold",children:"Usuário indisponível"}),s.jsx("p",{className:"text-muted-foreground",children:"No momento, este usuário não está disponível. Ele pode estar concluindo o cadastro ou ter desativado o perfil."}),s.jsx(O,{asChild:!0,children:s.jsx(Qt,{to:"/",children:"Voltar para a página inicial"})})]})})})]})})});const{data:qA}=Ze({queryKey:["followers-count",n],enabled:!!n,queryFn:async()=>{const{count:j,error:M}=await L.from("follows").select("*",{count:"exact",head:!0}).eq("followee_id",n).in("followee_id",((await L.from("profiles").select("id").eq("is_active",!0).eq("is_blocked",!1)).data||[]).map(W=>W.id));if(M)throw M;return j||0}}),{data:VA}=Ze({queryKey:["public-requests-count",n],enabled:!!n,queryFn:async()=>{const{count:j,error:M}=await L.from("requests").select("*",{count:"exact",head:!0}).eq("musician_id",n);if(M)throw M;return j||0}}),{data:Ss,isLoading:ZY}=Ze({queryKey:["public-following",n,Gd],enabled:!!n,queryFn:async()=>{const{data:j,error:M,count:W}=await L.from("follows").select("followee_id",{count:"exact"}).eq("follower_id",n).order("created_at",{ascending:!1}).range(gv,BA);if(M)throw M;const ge=(j||[]).map(Bt=>Bt.followee_id);if(ge.length===0)return{rows:[],count:W||0};const{data:ve,error:_e}=await L.from("profiles").select("id, display_name, avatar_url").in("id",ge).eq("is_active",!0);if(_e)throw _e;const Tt=new Map((ve||[]).map(Bt=>[Bt.id,Bt]));return{rows:ge.map(Bt=>Tt.get(Bt)).filter(Boolean),count:W||0}}});f.useMemo(()=>Math.max(1,Math.ceil(((Ss==null?void 0:Ss.count)||0)/pv)),[Ss==null?void 0:Ss.count]);const[Yd,Kj]=f.useState([]),[vv,Gj]=f.useState(0);f.useEffect(()=>{Ss&&(Gj(Ss.count||0),Kj(j=>Gd===1?Ss.rows:[...j,...Ss.rows.filter(M=>!j.some(W=>W.id===M.id))]))},[Ss,Gd]),f.useEffect(()=>{Wj(1),Kj([]),Gj(0)},[n]);const WA=Yd.length<vv,[Yj,JY]=f.useState({}),xv=10,[Qd,Qj]=f.useState(1),yv=f.useMemo(()=>(Qd-1)*xv,[Qd]),HA=f.useMemo(()=>yv+xv-1,[yv]),{data:Cs,isLoading:eQ}=Ze({queryKey:["public-followers",n,Qd],enabled:!!n,queryFn:async()=>{const{data:j,error:M,count:W}=await L.from("follows").select("follower_id",{count:"exact"}).eq("followee_id",n).order("created_at",{ascending:!1}).range(yv,HA);if(M)throw M;const ge=(j||[]).map(Bt=>Bt.follower_id);if(ge.length===0)return{rows:[],count:W||0};const{data:ve,error:_e}=await L.from("profiles").select("id, display_name, avatar_url").in("id",ge);if(_e)throw _e;const Tt=new Map((ve||[]).map(Bt=>[Bt.id,Bt]));return{rows:ge.map(Bt=>Tt.get(Bt)).filter(Boolean),count:W||0}}});f.useMemo(()=>Math.max(1,Math.ceil(((Cs==null?void 0:Cs.count)||0)/xv)),[Cs==null?void 0:Cs.count]);const[Xd,Xj]=f.useState([]),[wv,Zj]=f.useState(0);f.useEffect(()=>{Cs&&(Zj(Cs.count||0),Xj(j=>Qd===1?Cs.rows:[...j,...Cs.rows.filter(M=>!j.some(W=>W.id===M.id))]))},[Cs,Qd]),f.useEffect(()=>{Qj(1),Xj([]),Zj(0)},[n]);const KA=Xd.length<wv,{data:Oo,refetch:GA,isLoading:Jj}=Ze({queryKey:["following-musician",ee==null?void 0:ee.id,n],enabled:!!(ee!=null&&ee.id)&&!!n,queryFn:async()=>{const{data:j,error:M}=await L.from("follows").select("id").eq("follower_id",ee.id).eq("followee_id",n).maybeSingle();if(M)throw M;return!!j}}),{data:Ll}=Ze({queryKey:["genres"],queryFn:async()=>{const{data:j,error:M}=await L.from("genres").select("id, name").order("name");if(M)throw M;return j}}),{data:$l}=Ze({queryKey:["public-genre-visibility",n],enabled:!!n,queryFn:async()=>{const{data:j,error:M}=await L.from("genre_visibility").select("genre_id, is_public").eq("musician_id",n);if(M)throw M;const W=new Set;return(j||[]).forEach(ge=>{ge.is_public===!1&&W.add(ge.genre_id)}),W}}),{data:Vn,isLoading:Nh}=Ze({queryKey:["songs-by-owner",n],enabled:!!n,queryFn:async()=>{try{const{data:j}=await L.from("catalog_visibility").select("is_public").eq("musician_id",n).maybeSingle();if(j&&j.is_public===!1)return[];const{data:M,error:W}=await L.from("songs").select("*").eq("owner_id",n).eq("is_public",!0);if(W)throw W;return M||[]}catch(j){if(String((j==null?void 0:j.message)||"").includes("is_public")){const{data:M}=await L.from("songs").select("*").eq("owner_id",n);return M||[]}throw j}}}),{data:Zd,isLoading:YA}=Ze({queryKey:["public-schedule",n],enabled:!!n,queryFn:async()=>{const{data:j,error:M}=await L.from("schedules").select("id, title, location, start_time").eq("musician_id",n).eq("is_public",!0).order("start_time",{ascending:!0});if(M)throw M;return j}}),e1=f.useMemo(()=>{const j=Zd||[],M=Fr.trim().toLowerCase(),W=M?j.filter(Tt=>(Tt.title||"").toLowerCase().includes(M)||(Tt.location||"").toLowerCase().includes(M)):j;if(!Bn)return W;const ge=Bn.getFullYear(),ve=Bn.getMonth(),_e=Bn.getDate();return W.filter(Tt=>{const It=new Date(Tt.start_time);return It.getFullYear()===ge&&It.getMonth()===ve&&It.getDate()===_e})},[Zd,Fr,Bn]);f.useEffect(()=>{ea(1)},[Fr]),f.useEffect(()=>{if(!(Vn!=null&&Vn.length)){hh({}),$d({});return}const j=(Vn||[]).map(M=>M.id);(async()=>{try{const{data:M}=await L.from("song_likes").select("song_id").in("song_id",j),W={};if((M||[]).forEach(ge=>{W[ge.song_id]=(W[ge.song_id]||0)+1}),hh(W),ee!=null&&ee.id){const{data:ge}=await L.from("song_likes").select("song_id").eq("user_id",ee.id).in("song_id",j),ve={};(ge||[]).forEach(_e=>{ve[_e.song_id]=!0}),$d(ve)}else $d({})}catch{}})()},[Vn,ee==null?void 0:ee.id]);const QA=f.useMemo(()=>{var j;return(j=(Vn||[]).find(M=>!!M.cover_url))==null?void 0:j.cover_url},[Vn]),XA=(ce==null?void 0:ce.cover_url)||(ce==null?void 0:ce.avatar_url)||QA||"/placeholder.svg",ZA=ce==null?void 0:ce.cover_position_mobile,JA=ce==null?void 0:ce.cover_position_desktop;f.useEffect(()=>{Ao()},[n]);const ls=f.useMemo(()=>!!(ee!=null&&ee.id&&n&&ee.id===n),[ee==null?void 0:ee.id,n]),{data:t1}=Ze({queryKey:["roles",ee==null?void 0:ee.id],enabled:!!(ee!=null&&ee.id),queryFn:async()=>{const{data:j,error:M}=await L.from("user_roles").select("role").eq("user_id",ee.id);if(M)throw M;return j}}),bv=f.useMemo(()=>(t1||[]).some(j=>j.role==="musician"),[t1]),Sh=f.useMemo(()=>{const j=[],M=xr=>(xr||"").trim(),W=M(ce==null?void 0:ce.whatsapp),ge=M(ce==null?void 0:ce.instagram),ve=M(ce==null?void 0:ce.facebook),_e=M(ce==null?void 0:ce.youtube),Tt=M(ce==null?void 0:ce.spotify),It=xr=>xr.replace(/^@/,""),Bt=(xr,ta)=>xr.startsWith("http")?xr:`${ta}${It(xr)}`;if(W){const xr=W.replace(/\D/g,""),ta=W.startsWith("http")?W:xr?`https://wa.me/${xr}`:"";ta&&j.push({key:"whatsapp",href:ta,label:"WhatsApp",icon:ql})}return ge&&j.push({key:"instagram",href:Bt(ge,"https://instagram.com/"),label:"Instagram",icon:G3}),ve&&j.push({key:"facebook",href:Bt(ve,"https://facebook.com/"),label:"Facebook",icon:H3}),_e&&j.push({key:"youtube",href:Bt(_e,"https://youtube.com/"),label:"YouTube",icon:rF}),Tt&&j.push({key:"spotify",href:Bt(Tt,"https://open.spotify.com/"),label:"Spotify",icon:X7}),j},[ce==null?void 0:ce.whatsapp,ce==null?void 0:ce.instagram,ce==null?void 0:ce.facebook,ce==null?void 0:ce.youtube,ce==null?void 0:ce.spotify]),jv=f.useMemo(()=>{const j={};return(Vn||[]).forEach(M=>{const W=M.genre_id||"sem-genero";M.genre_id&&$l&&$l.has(M.genre_id)||(j[W]=j[W]||[],j[W].push(M))}),j},[Vn,$l]),Wn=f.useMemo(()=>$l?(Vn||[]).filter(j=>!j.genre_id||!$l.has(j.genre_id)):Vn||[],[Vn,$l]),_v=f.useMemo(()=>{const j=Ge.trim().toLowerCase();return j?(Wn||[]).filter(M=>M.title.toLowerCase().includes(j)||(M.artist||"").toLowerCase().includes(j)):Wn||[]},[Wn,Ge]);function eO({musicianId:j}){const{data:M}=Ze({queryKey:["public-show-types",j],enabled:!!j,queryFn:async()=>{try{const{data:W,error:ge}=await L.from("show_types").select("id, name, description, duration_hours, duration_minutes, cache_fee, is_public, show_cache, stage_map_url, technical_rider_url, promo_image_1_url, promo_image_2_url, show_type_genres(genre_id)").eq("musician_id",j).eq("is_public",!0).order("created_at",{ascending:!0});if(ge)throw ge;return W||[]}catch(W){const ge=String((W==null?void 0:W.message)||"").toLowerCase();if(ge.includes("is_public")||ge.includes("cache_fee")||ge.includes("show_cache")){const{data:ve}=await L.from("show_types").select("id, name, description, duration_hours, duration_minutes, stage_map_url, technical_rider_url, promo_image_1_url, promo_image_2_url, show_type_genres(genre_id)").eq("musician_id",j).order("created_at",{ascending:!0});return ve||[]}throw W}}});return!M||M.length===0?null:s.jsxs("section",{className:"mt-4 mb-14",children:[((ce==null?void 0:ce.responsible_name)||(ce==null?void 0:ce.responsible_whatsapp)||(ce==null?void 0:ce.whatsapp)||(ce==null?void 0:ce.description))&&s.jsxs("div",{className:"mb-3",children:[(ce==null?void 0:ce.responsible_name)&&s.jsxs("div",{className:"text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Responsável:"})," ",ce.responsible_name]}),((ce==null?void 0:ce.responsible_whatsapp)||(ce==null?void 0:ce.whatsapp))&&s.jsx("div",{className:"mt-2",children:s.jsxs(O,{size:"sm",className:"bg-emerald-600 hover:bg-emerald-700 text-white",onClick:()=>{const W=((ce==null?void 0:ce.responsible_whatsapp)||(ce==null?void 0:ce.whatsapp)||"").replace(/\D/g,"");W&&window.open(`https://wa.me/${W}`,"_blank")},children:[s.jsx(ql,{className:"h-4 w-4 mr-2"})," Abrir conversa"]})})]}),s.jsx("div",{className:"space-y-3 mt-10",children:M.map(W=>s.jsxs("div",{className:"p-0",children:[s.jsx("div",{className:"flex items-start gap-3",children:s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-medium text-lg",children:W.name}),typeof(W==null?void 0:W.cache_fee)=="number"&&((W==null?void 0:W.show_cache)??!0)?s.jsx("div",{className:"text-muted-foreground mt-1",children:(()=>{try{return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(W.cache_fee)}catch{return`R$ ${Number(W.cache_fee||0).toFixed(2)}`.replace(".",",")}})()}):null,W.description&&s.jsx("div",{className:"text-sm text-muted-foreground mt-1",children:W.description}),s.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:["Duração: ",W.duration_hours,"h",W.duration_minutes?` ${W.duration_minutes}min`:""]}),Array.isArray(W==null?void 0:W.show_type_genres)&&W.show_type_genres.length>0&&s.jsx("div",{className:"mt-2 flex flex-wrap gap-1",children:W.show_type_genres.map(ge=>{var ve;return(ve=(Ll||[]).find(_e=>_e.id===ge.genre_id))==null?void 0:ve.name}).filter(Boolean).map(ge=>s.jsx(Gr,{variant:"secondary",children:ge},`${W.id}-${ge}`))})]})}),s.jsxs("div",{className:"mt-3 grid grid-cols-1 sm:grid-cols-2 gap-3",children:[W.stage_map_url&&s.jsx(n1,{label:"Mapa de Palco",url:W.stage_map_url}),W.technical_rider_url&&s.jsx(n1,{label:"Rider Técnico",url:W.technical_rider_url}),W.promo_image_1_url&&s.jsx(s1,{label:"Imagem de Divulgação 1",url:W.promo_image_1_url}),W.promo_image_2_url&&s.jsx(s1,{label:"Imagem de Divulgação 2",url:W.promo_image_2_url})]}),s.jsx(al,{className:"my-4"})]},W.id))})]})}function r1({musicianId:j}){var m1,p1;const[M,W]=f.useState(""),[ge,ve]=f.useState(null),[_e,Tt]=f.useState(((m1=ee==null?void 0:ee.user_metadata)==null?void 0:m1.display_name)||""),[It,Bt]=f.useState(""),[xr,ta]=f.useState(0),[f1,eu]=f.useState(!1),[ks,kv]=f.useState(!1);f.useRef(null);const tu=!ee,[fi,Ev]=f.useState(""),Pv=f.useRef(!1),ru=f.useRef(null),[h1,Tv]=f.useState(!1),Ul="contrib_qr_active_payload",Do="contrib_qr_active_countdown",nu="contrib_qr_tx_id";f.useEffect(()=>{if(!ks)try{if(!It){const Kt=localStorage.getItem(Ul);Kt&&Bt(Kt)}const Rt=localStorage.getItem(Do);if(Rt){const Kt=Number(Rt);Number.isFinite(Kt)&&Kt>0&&ta(Kt)}if(!fi){const Kt=localStorage.getItem(nu);Kt&&Ev(Kt)}}catch{}},[]),f.useEffect(()=>{try{!ks&&It&&localStorage.setItem(Ul,It)}catch{}},[It,ks]),f.useEffect(()=>{try{!ks&&xr>0?localStorage.setItem(Do,String(xr)):localStorage.removeItem(Do)}catch{}},[xr,ks]),f.useEffect(()=>{try{fi&&localStorage.setItem(nu,fi)}catch{}},[fi]),f.useEffect(()=>{if(!It||ks||xr<=0)return;const Rt=setInterval(()=>{ta(Kt=>Kt>0?Kt-1:0)},1e3);return()=>clearInterval(Rt)},[It,ks,xr]);const fO=()=>ru.current?ru.current:Pv.current?Promise.resolve():(Pv.current=!0,ru.current=mO().catch(Rt=>{throw Pv.current=!1,ru.current=null,Rt}).then(()=>{}),ru.current);f.useEffect(()=>{if(tu&&!_e)try{const Rt=localStorage.getItem(gt);Rt&&Tt(Rt)}catch{}},[tu,_e]);const hO=async()=>{if(!(ce!=null&&ce.pix_key)){oe({title:"Pix indisponível",description:"Este músico não cadastrou uma chave Pix."});return}const Rt=parseFloat((M||"0").replace(",",".")),Kt=tu?_e.trim().length>0:!0;if(!(!Rt||Rt<=0)&&!(Rt<Jd)){if(!Kt){oe({title:"Informe seu nome"});return}try{Tv(!0);const ra=Math.round(Rt*100),ir=await OM.createTransaction({amount:ra,paymentMethod:"PIX"}),Rv=ir&&(ir.pixCode||ir.pix_code||ir.emv||ir.payload)||(ir==null?void 0:ir.qrCode)&&(ir.qrCode.text||ir.qrCode.payload);if(!Rv)throw new Error("Falha ao gerar PIX (payload ausente)");Bt(Rv),Ev((ir==null?void 0:ir._id)||"");try{const Mv=(await L.auth.getUser()).data.user;await L.from("payment_intents").insert({provider:"veepag",provider_tx_id:ir==null?void 0:ir._id,musician_id:j||null,user_id:(Mv==null?void 0:Mv.id)||null,request_id:null,amount_cents:ra,status:"pending"})}catch{}}catch{Bt("");try{localStorage.removeItem(Ul),localStorage.removeItem(Do),localStorage.removeItem(nu)}catch{}Tv(!1);return}kv(!1),eu(!1),ta(420),Tv(!1)}};async function mO(){var ir;if(f1||ks)return;const Rt=parseFloat(M.replace(",","."));if(!Rt||Rt<=0){oe({title:"Informe um valor válido"});return}if(Rt<Jd){oe({title:"Valor mínimo",description:`A contribuição mínima é R$ ${Jd.toFixed(2).replace(".",",")}.`});return}const Kt={musician_id:j,user_id:(ee==null?void 0:ee.id)||null,request_id:null,type:"contribution",amount:Rt,status:"approved",payment:"pix",requester_name:ee?((ir=ee==null?void 0:ee.user_metadata)==null?void 0:ir.display_name)||null:_e||null,message:null};eu(!0);const{error:ra}=await L.from("transactions").insert(Kt);if(ra){eu(!1);return}ve(Rt),kv(!0),Bt("");try{localStorage.removeItem(Ul),localStorage.removeItem(Do),localStorage.removeItem(nu)}catch{}eu(!1),getComputedStyle(document.documentElement).getPropertyValue("--primary").trim(),fa({particleCount:120,spread:60,origin:{y:.6},colors:["#10B981","#34D399","#86EFAC"]}),W(""),tu&&Tt("")}return f.useEffect(()=>{if(!fi)return;const Rt=L.channel(`pi-contrib-${fi}`).on("postgres_changes",{event:"UPDATE",schema:"public",table:"payment_intents",filter:`provider_tx_id=eq.${fi}`},async Kt=>{var ir;const ra=String(((ir=Kt.new)==null?void 0:ir.status)||"").toUpperCase();if(ra.includes("PAID")||ra.includes("APPROV"))try{await fO()}finally{try{L.removeChannel(Rt)}catch{}}}).subscribe();return()=>{try{L.removeChannel(Rt)}catch{}}},[fi]),f.useEffect(()=>{const Rt=()=>{Bt(""),ta(0),kv(!1),eu(!1),W(""),ve(null),Ev("");try{localStorage.removeItem(Ul),localStorage.removeItem(Do),localStorage.removeItem(nu)}catch{}};return window.addEventListener("contrib-clear",Rt),()=>window.removeEventListener("contrib-clear",Rt)},[]),s.jsx(et,{className:"border-none shadow-none",children:s.jsx(tt,{className:"p-3 space-y-4",children:ks?s.jsx(s.Fragment,{children:s.jsxs("div",{className:"flex flex-col items-center justify-center text-center gap-4 py-6",children:[s.jsx("h3",{className:"text-green-600 font-semibold text-2xl",children:"Contribuição enviada com sucesso!"}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("p",{className:"text-sm font-medium",children:"Resumo da contribuição:"}),s.jsxs("ul",{className:"text-sm list-disc pl-5 space-y-1 text-left",children:[s.jsxs("li",{children:["Contribuinte: ",s.jsx("strong",{children:_e||((p1=ee==null?void 0:ee.user_metadata)==null?void 0:p1.display_name)||"Você"})]}),s.jsxs("li",{children:["Valor: ","",s.jsx("strong",{children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format((ge??parseFloat(M.replace(/[^0-9,.-]/g,"").replace(",",".")))||0)})]})]})]}),s.jsx("div",{className:"w-full max-w-xs",children:s.jsx(O,{variant:"default",className:"w-full",onClick:()=>{try{localStorage.removeItem(Ul),localStorage.removeItem(Do)}catch{}Y(!1);try{const Rt=new CustomEvent("contrib-clear");window.dispatchEvent(Rt)}catch{}},"aria-label":"Fechar",children:"Fechar"})})]})}):It?s.jsx(s.Fragment,{children:s.jsxs("div",{className:"flex flex-col items-center justify-center text-center gap-4 py-6",children:[xr>0&&s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Confirmando transação em ",Math.floor(xr/60),":",String(xr%60).padStart(2,"0"),"..."]}),It?s.jsx("img",{"data-contrib-qr":!0,src:`https://quickchart.io/qr?text=${encodeURIComponent(It)}&size=260&margin=1&ecLevel=M`,alt:"QR Code Pix",className:"rounded border",loading:"lazy"}):null,s.jsx("div",{className:"w-full max-w-xl mx-auto flex items-center justify-center",children:s.jsx(O,{variant:"outline",onClick:()=>{navigator.clipboard.writeText(It),oe({title:"Código copiado"})},"aria-label":"Copiar código Pix",children:"Copiar código PIX"})})]})}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx(ze,{children:"Valor"}),s.jsx(Ie,{value:M,onChange:Rt=>{const Kt=Rt.target.value.replace(/\D/g,"");if(!Kt){W("");return}if(Kt.length===1){W(`0,0${Kt}`);return}if(Kt.length===2){W(`0,${Kt}`);return}const ra=Kt.slice(0,-2),ir=Kt.slice(-2),g1=ra.replace(/^0+(?=\d)/,"").replace(/\B(?=(\d{3})+(?!\d))/g,".");W(`${g1},${ir}`)},inputMode:"numeric",placeholder:"Ex.: 20,00",className:"placeholder:text-muted-foreground/40"})]}),tu&&s.jsxs("div",{children:[s.jsx(ze,{children:"Seu nome"}),s.jsx(Ie,{value:_e,onChange:Rt=>{Tt(Rt.target.value);try{localStorage.setItem(gt,Rt.target.value)}catch{}},placeholder:"Seu nome",className:"placeholder:text-muted-foreground/40"})]}),ce!=null&&ce.pix_key?s.jsx("div",{className:"pt-2",children:s.jsx(O,{className:"w-full",onClick:hO,disabled:f1||ks||h1||!!It,children:h1||It==="loading"?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent mr-2"}),"Gerar QRCode"]}):ks?s.jsxs(s.Fragment,{children:[s.jsx(ju,{className:"h-4 w-4 mr-2"}),"Confirmado"]}):s.jsxs(s.Fragment,{children:[s.jsx(ju,{className:"h-4 w-4 mr-2"}),"Gerar QRCode"]})})}):s.jsx("p",{className:"text-sm text-muted-foreground",children:"Este músico ainda não cadastrou dados de Pix."})]})})})}function tO(j){return[".jpg",".jpeg",".png",".webp",".gif"].some(M=>j.toLowerCase().includes(M))}function n1({label:j,url:M}){const[W,ge]=f.useState(!1),ve=()=>ge(!0),_e=()=>window.open(M+(M.includes("?")?"&download=1":"?download=1"),"_blank"),Tt=tO(M);return s.jsx("div",{className:"rounded-md border p-3 bg-accent/30",children:s.jsxs("div",{className:"flex items-center justify-between gap-3",children:[s.jsx("div",{className:"text-sm font-medium truncate",children:j}),s.jsxs("div",{className:"flex items-center gap-1",children:[Tt&&s.jsxs(s.Fragment,{children:[s.jsx(O,{size:"icon",variant:"ghost",onClick:ve,"aria-label":`Visualizar ${j}`,children:s.jsx(Ur,{className:"h-4 w-4"})}),s.jsx(qr,{open:W,onOpenChange:ge,children:s.jsxs(Pr,{className:"max-w-3xl",children:[s.jsx(Tr,{children:s.jsx(Rr,{children:j})}),s.jsx("img",{src:M,alt:j,className:"w-full h-auto rounded-md"})]})})]}),s.jsx(O,{size:"icon",variant:"ghost",onClick:_e,"aria-label":`Baixar ${j}`,children:s.jsx(ap,{className:"h-4 w-4"})})]})]})})}function s1({label:j,url:M}){const[W,ge]=f.useState(!1),ve=()=>window.open(M+(M.includes("?")?"&download=1":"?download=1"),"_blank");return s.jsxs("div",{className:"rounded-md border p-3",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("div",{className:"text-sm font-medium",children:j}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(O,{size:"icon",variant:"ghost",onClick:()=>ge(!0),"aria-label":`Visualizar ${j}`,children:s.jsx(Ur,{className:"h-4 w-4"})}),s.jsx(O,{size:"icon",variant:"ghost",onClick:ve,"aria-label":`Baixar ${j}`,children:s.jsx(ap,{className:"h-4 w-4"})})]})]}),s.jsx("img",{src:M,alt:j,className:"w-full h-40 object-cover rounded-md border"}),s.jsx(qr,{open:W,onOpenChange:ge,children:s.jsxs(Pr,{className:"max-w-3xl",children:[s.jsx(Tr,{children:s.jsx(Rr,{children:j})}),s.jsx("img",{src:M,alt:j,className:"w-full h-auto rounded-md"})]})})]})}const rO=_v.length,Nv=f.useMemo(()=>_v.slice(0,Fl*Kd),[_v,Fl,Kd]),nO=Nv.length<rO,sO=(Wn||[]).length,aO=f.useMemo(()=>{const j=[];let M=Fl*Kd;const W=(Ll||[]).map(ve=>({title:ve.name,items:jv[ve.id]||[]})),ge=jv["sem-genero"]||[];for(const ve of W){if(M<=0)break;if(ve.items.length){const _e=ve.items.slice(0,M);M-=_e.length,j.push({title:ve.title,items:_e})}}if(M>0&&ge.length){const ve=ge.slice(0,M);M-=ve.length,j.push({title:"Outras",items:ve})}return j},[Ll,jv,Fl]),iO=Fl*Kd<sO,zl=async j=>{if(!ee){oe({title:"Entre para curtir",description:"Crie sua conta ou faça login para curtir músicas."});return}const M=!!er[j];$d(W=>({...W,[j]:!M})),hh(W=>({...W,[j]:(W[j]||0)+(M?-1:1)}));try{if(M){const{error:W}=await L.from("song_likes").delete().eq("song_id",j).eq("user_id",ee.id);if(W)throw W}else{const{error:W}=await L.from("song_likes").insert({song_id:j,user_id:ee.id});if(W)throw W}}catch(W){$d(ge=>({...ge,[j]:M})),hh(ge=>({...ge,[j]:(ge[j]||0)+(M?1:-1)})),oe({title:"Erro ao curtir",description:W.message})}},Sv=async()=>{if(n){if(!(ee!=null&&ee.id)){oe({title:"Entre para seguir",description:"Faça login para seguir este músico."});return}try{if(Oo){const{error:j}=await L.from("follows").delete().eq("follower_id",ee.id).eq("followee_id",n);if(j)throw j;oe({title:"Deixou de seguir"})}else{const{error:j}=await L.from("follows").insert({follower_id:ee.id,followee_id:n});if(j)throw j;oe({title:"Agora você segue este músico"})}await GA()}catch(j){oe({title:"Erro",description:(j==null?void 0:j.message)||"Não foi possível atualizar o seguimento."})}}},Cv=async()=>{try{const j=window.location.href,M=navigator;if(M.share?await M.share({title:(ce==null?void 0:ce.display_name)||"Músico",url:j}):(await navigator.clipboard.writeText(j),oe({title:"Link copiado"})),n)try{await L.from("profile_shares").insert({profile_id:n,user_id:(ee==null?void 0:ee.id)??null}),await(Ao==null?void 0:Ao())}catch{}}catch{}},oO=async()=>{await L.auth.signOut(),i("/")},a1="anon_free_requests_count",lO=3,Jd=5,i1=()=>{try{const j=localStorage.getItem(a1),M=j?Number(j):0;return Number.isFinite(M)&&M>0?M:0}catch{return 0}},cO=()=>{try{const j=i1()+1;localStorage.setItem(a1,String(j))}catch{}},dO=async()=>{if(!u){oe({title:"Selecione uma música"});return}const j=x?Number(x.replace(/[^0-9,.-]/g,"").replace(",",".")):null;try{const W=(await L.auth.getUser()).data.user;if(!W&&i1()>=lO&&(!j||j<Jd)){Q("Você atingiu o limite de 3 pedidos gratuitos. Para continuar, contribua com valor de R$ 5,00 ou mais."),F(!0),D(4);return}const ge={song_id:u.id,requester_name:m||null,dedication:w||null,extra_description:g||null,amount:j,user_id:W?W.id:null,musician_id:n||null};if(console.log("🔍 [MusicianPublic] Inserting request with payload:",ge),console.log("🔍 [MusicianPublic] mid (musician_id):",n),console.log("🔍 [MusicianPublic] selectedSong.id:",u.id),W){const{data:ve,error:_e}=await L.from("requests").insert(ge).select("id").single();if(_e)throw console.error("🚨 [MusicianPublic] Error inserting request (authenticated):",_e),_e;console.log("✅ [MusicianPublic] Request inserted successfully (authenticated):",ve),H(ve.id)}else{const{error:ve}=await L.from("requests").insert(ge);if(ve)throw console.error("🚨 [MusicianPublic] Error inserting request (anonymous):",ve),ve;console.log("✅ [MusicianPublic] Request inserted successfully (anonymous)"),j!=null&&j>=Jd||cO(),H(null)}try{await L.from("profiles").update({requests_count:(Number(ce==null?void 0:ce.requests_count)||0)+1}).eq("id",n)}catch{}try{Ao==null||Ao()}catch{}d(4);try{fa({particleCount:120,spread:60,origin:{y:.6},colors:["#10B981","#34D399","#86EFAC"]})}catch{}}catch(M){oe({title:"Erro ao enviar pedido",description:M.message})}},uO=ce!=null&&ce.display_name?`Pedir música para ${ce.display_name}`:"Pedir música";return s.jsx(oi,{children:s.jsxs("div",{className:"min-h-screen flex w-full bg-background",children:[bv?s.jsx(Jf,{}):null,s.jsxs("main",{className:"flex-1 flex flex-col",children:[s.jsx(Zt,{title:uO,description:"Escolha uma música, escreva sua dedicatória e contribua via Pix."}),s.jsxs("header",{className:"sticky top-0 z-30 bg-background/80 supports-[backdrop-filter]:bg-background/60 backdrop-blur border-b",children:[s.jsxs("nav",{className:"max-w-5xl mx-auto flex items-center justify-between px-4 py-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[bv?s.jsx(Dd,{className:"mr-1"}):ee?s.jsx(O,{variant:"ghost",size:"icon",onClick:()=>To(!0),"aria-label":"Abrir menu",children:s.jsx(Vf,{className:"h-5 w-5"})}):null,s.jsx(O,{variant:"ghost",size:"icon",onClick:()=>i(-1),"aria-label":"Voltar",children:s.jsx(ag,{className:"h-5 w-5"})}),s.jsx(Qt,{to:"/",className:"font-semibold",children:s.jsx("img",{src:l==="dark"?"/logo_avaplay.png":"/logo_avaplay_amarelo.png",alt:"AVAPlay",className:"h-6"})})]}),s.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[s.jsx(jb,{}),ee?s.jsx(s.Fragment,{}):s.jsx(O,{variant:"ghost",className:"h-8 px-3 text-sm hover:text-primary hover:bg-transparent",onClick:()=>i("/auth"),children:"Entrar"})]})]}),o&&Re==="music"&&s.jsx("div",{className:`max-w-5xl mx-auto px-4 overflow-hidden transition-[max-height,opacity] duration-200 ${Ee?"max-h-24 opacity-100 pb-2":"max-h-0 opacity-0 pb-0 pointer-events-none"}`,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx($s,{className:"absolute left-2 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(Ie,{placeholder:"Pesquisar músicas",value:Ge,onChange:j=>vr(j.target.value),ref:Wd,type:"search",inputMode:"search",enterKeyHint:"search",autoComplete:"off",className:"pl-7 pr-7 h-9 text-base sm:text-sm bg-transparent appearance-none border-transparent border-0 shadow-none ring-0 ring-offset-0 focus:outline-none focus:ring-0 focus:ring-offset-0 focus-visible:ring-0 focus-visible:ring-offset-0 focus:border-transparent focus-visible:border-transparent aria-[invalid=true]:ring-0 placeholder:text-muted-foreground/40","aria-label":"Pesquisar músicas do repertório"}),s.jsx("button",{type:"button","aria-label":"Limpar busca",className:"absolute right-1.5 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground h-9 w-9 rounded-full flex items-center justify-center hover:bg-muted/40",onMouseDown:j=>j.preventDefault(),onTouchStart:j=>j.preventDefault(),onClick:()=>{var M;vr(""),window.scrollY<=80&&We(!1);try{(M=Wd.current)==null||M.blur()}catch{}},children:s.jsx(Mr,{className:"h-5 w-5"})})]}),s.jsx(O,{variant:"ghost",size:"sm",onClick:()=>st(j=>!j),className:"flex-shrink-0",children:nt?s.jsx(nr,{className:"h-4 w-4"}):s.jsx(Kh,{className:"h-4 w-4"})}),s.jsx(O,{variant:"ghost",size:"sm",onClick:()=>Vj(j=>!j),className:"flex-shrink-0",children:_r?s.jsx(I_,{className:"h-4 w-4"}):s.jsx(Kh,{className:"h-4 w-4"})})]})})]}),!Mo&&ee&&s.jsx(zs,{open:_A,onOpenChange:To,children:s.jsx(ms,{side:"left",className:"w-[16rem] p-0",children:s.jsxs("nav",{className:"p-2",children:[s.jsxs("div",{className:"flex items-center gap-3 p-3 border-b mb-2",children:[s.jsxs(Ft,{className:"h-10 w-10",isPro:!!(ce!=null&&ce.is_pro),children:[s.jsx(Lt,{src:NA,alt:tv??"Usuário"}),s.jsx($t,{children:(tv||"U").charAt(0).toUpperCase()})]}),s.jsx("div",{className:"min-w-0",children:s.jsx("p",{className:"text-sm font-medium truncate",children:tv})})]}),bv&&s.jsx(O,{variant:"ghost",className:"w-full justify-start",onClick:()=>{To(!1),i("/musician")},children:"Painel"}),s.jsx(O,{variant:"ghost",className:"w-full justify-start",onClick:()=>{To(!1),i("/requests")},children:"Meus Pedidos"}),s.jsx(O,{variant:"ghost",className:"w-full justify-start",onClick:()=>{To(!1),i("/conexoes")},children:"Conexões"}),s.jsx(O,{variant:"ghost",className:"w-full justify-start",onClick:()=>{To(!1),i("/musician/profile")},children:"Editar perfil"}),s.jsx(O,{variant:"ghost",className:"w-full justify-start",onClick:()=>{To(!1),oO()},children:"Sair"}),s.jsx(AM,{})]})})}),s.jsxs("section",{className:"max-w-5xl mx-auto px-4 py-1",children:[!Mo&&s.jsx("div",{className:"relative h-40 sm:h-56 md:h-64 w-full rounded-lg overflow-hidden mb-6",children:Hj?s.jsx(Xe,{className:"absolute inset-0 w-full h-full"}):s.jsxs(s.Fragment,{children:[s.jsx("img",{src:XA,alt:`Foto do músico ${(ce==null?void 0:ce.display_name)||""} ou capa de música`,className:"absolute inset-0 w-full h-full object-cover",style:{objectPosition:ce!=null&&ce.cover_url?`center ${(o?ZA??ce.cover_position:JA??ce.cover_position)??50}%`:"center center"},loading:"eager"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-black/40 to-transparent"}),ls&&s.jsx("div",{className:"absolute top-2 right-2 sm:top-3 sm:right-3 z-10",children:s.jsx(O,{variant:"outline",size:"icon",onClick:()=>i("/musician/profile"),"aria-label":"Editar perfil",className:"h-9 w-9 bg-background/70 supports-[backdrop-filter]:backdrop-blur-sm",children:s.jsx(Qa,{className:"h-4 w-4"})})}),s.jsxs("div",{className:"absolute bottom-0 sm:bottom-3 left-4 right-4 flex items-center gap-3",children:[s.jsx("div",{className:"relative p-1 rounded-full bg-transparent",children:s.jsxs(Ft,{className:"h-16 w-16 sm:h-20 sm:w-20 border-4 border-white/20 shadow-lg",children:[s.jsx(Lt,{src:(ce==null?void 0:ce.avatar_url)||void 0,alt:`Avatar de ${(ce==null?void 0:ce.display_name)||"Músico"}`}),s.jsx($t,{className:"text-lg sm:text-xl font-semibold bg-primary/20 text-primary-foreground",children:((u1=(d1=ce==null?void 0:ce.display_name)==null?void 0:d1.charAt(0))==null?void 0:u1.toUpperCase())||"M"})]})}),s.jsxs("div",{className:"inline-block rounded-md bg-background/60 backdrop-blur supports-[backdrop-filter]:backdrop-blur-sm px-1.5 py-0.5 sm:px-2 sm:py-1",children:[s.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2",children:[s.jsx("h1",{className:"text-lg sm:text-2xl font-semibold text-foreground",children:(ce==null?void 0:ce.display_name)||"Músico"}),(ce==null?void 0:ce.is_pro)&&s.jsx(uo,{size:o?22:28})]}),s.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 mt-0.5 sm:mt-1 text-xs sm:text-sm text-muted-foreground",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Jc,{className:"w-3 h-3 sm:w-4 sm:h-4"})," ",Number(qA)||0]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(nr,{className:"w-3 h-3 sm:w-4 sm:h-4"})," ",Math.max(Number((ce==null?void 0:ce.requests_count)||0),Number(VA||0))]})]})]})]})]})}),!Mo&&s.jsxs("div",{className:`mb-4 flex items-center gap-2 ${o?"flex-wrap":""}`,children:[s.jsxs("div",{className:`${o?"flex w-full":"inline-flex"} rounded-md border p-1 bg-muted/40`,children:[s.jsxs(O,{variant:Re==="music"?"secondary":"ghost",size:"sm",className:`${Re==="music"?"text-primary":void 0} ${o?"flex-1":""} text-[13px]`,onClick:()=>{ht("music")},"aria-label":"Pedir música",children:[s.jsx(nr,{className:"mr-2 h-4 w-4"})," Pedir música"]}),o&&null,s.jsxs(O,{variant:Re==="schedule"?"secondary":"ghost",size:"sm",className:`${Re==="schedule"?"text-primary":void 0} ${o?"flex-1":""}`,onClick:()=>{ht("schedule")},"aria-label":"Ver agenda",children:[s.jsx(wn,{className:`h-4 w-4 ${o?"":"mr-2"}`}),!o&&" Agenda"]}),s.jsxs(O,{variant:Re==="photos"?"secondary":"ghost",size:"sm",className:`${Re==="photos"?"text-primary":void 0} ${o?"flex-1":""}`,onClick:()=>{ht("photos")},"aria-label":"Ver fotos",children:[s.jsx(bc,{className:`h-4 w-4 ${o?"":"mr-2"}`}),!o&&" Fotos"]}),!ls&&s.jsxs(O,{variant:Re==="contract"?"secondary":"ghost",size:"sm",className:`${Re==="contract"?"text-primary":void 0} ${o?"flex-1":""}`,onClick:()=>{ht("contract")},"aria-label":"Contratar",children:[s.jsx(K3,{className:`h-4 w-4 ${o?"":"mr-2"}`}),!o&&" Contratar"]}),!ls&&s.jsxs(O,{variant:Re==="contribute"?"secondary":"ghost",size:"sm",className:`${Re==="contribute"?"text-primary":"text-green-600 hover:text-green-700 hover:bg-green-100 dark:text-green-400 dark:hover:text-green-300 dark:hover:bg-green-950/30"} ${o?"flex-1":""}`,onClick:()=>{o?Y(!0):ht("contribute")},"aria-label":"Contribuir",children:[s.jsx(Nm,{className:`h-4 w-4 ${o?"":"mr-2"}`}),!o&&" Contribuir"]}),o&&s.jsx(O,{variant:"ghost",size:"sm",className:"px-2",onClick:Cv,"aria-label":"Compartilhar página",children:s.jsx(Cm,{className:"h-4 w-4 text-muted-foreground"})})]}),!o&&s.jsxs(s.Fragment,{children:[!ls&&s.jsx(O,{className:"bg-transparent border-transparent text-primary hover:text-primary active:text-primary/90",variant:"outline",onClick:Sv,disabled:Jj,"aria-label":Oo?"Deixar de seguir":"Seguir músico",children:Oo?s.jsxs(s.Fragment,{children:[s.jsx(fx,{className:"mr-2 h-4 w-4 text-primary"})," ",s.jsx("span",{className:"text-primary",children:"Seguindo"})]}):s.jsxs(s.Fragment,{children:[s.jsx(hx,{className:"mr-2 h-4 w-4 text-primary"})," ",s.jsx("span",{className:"text-primary",children:"Seguir"})]})}),s.jsx(O,{variant:"outline",className:"border-none",onClick:Cv,"aria-label":"Compartilhar página",children:s.jsx(Cm,{className:"mr-2 h-4 w-4 text-gray-500"})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 lg:grid-cols-5 gap-6 items-start",children:[s.jsxs("div",{className:"order-2 md:col-span-1 md:order-2",children:[!Mo&&(Sh.length>0||o)&&s.jsxs("div",{className:`mb-3 flex items-center gap-2 ${o?"":"mt-5"}`,children:[!o&&Sh.map(j=>s.jsx("a",{href:j.href,target:"_blank",rel:"noopener noreferrer","aria-label":j.label,className:"inline-flex h-8 w-8 items-center justify-center rounded-md border border-transparent text-muted-foreground hover:text-foreground hover:bg-muted transition-colors",children:s.jsx(j.icon,{className:"h-4 w-4"})},j.key)),o&&s.jsxs("div",{className:"flex items-center justify-center gap-2 w-full",children:[!ls&&s.jsx(O,{className:"bg-transparent border-transparent text-primary hover:text-primary active:text-primary/90 h-8 w-8 p-0",variant:"outline",onClick:Sv,disabled:Jj,"aria-label":Oo?"Deixar de seguir":"Seguir músico",children:Oo?s.jsx(fx,{className:"h-4 w-4 text-primary"}):s.jsx(hx,{className:"h-4 w-4 text-primary"})}),s.jsx(O,{variant:"outline",className:"border-transparent h-8 w-8 p-0",onClick:Cv,"aria-label":"Compartilhar página",children:s.jsx(Cm,{className:"h-4 w-4 text-gray-500"})})]})]}),!o&&!Mo&&(ce==null?void 0:ce.description)&&s.jsxs("div",{className:"text-sm text-muted-foreground",children:[ie?s.jsxs("p",{children:[ce.description,ce.description.length>(o?80:220)&&s.jsx(O,{variant:"ghost",size:"sm",className:"px-0 h-7 text-primary hover:text-primary/60 ml-2 hover:bg-transparent",onClick:()=>He(j=>!j),children:"Ver menos"})]}):s.jsxs("p",{children:[ce.description.length>(o?80:220)?`${ce.description.slice(0,o?80:220)}...`:ce.description,ce.description.length>(o?80:220)&&s.jsx(O,{variant:"ghost",size:"sm",className:"px-0 h-7 text-primary hover:text-primary/60 ml-2 hover:bg-transparent",onClick:()=>He(j=>!j),children:ie?"Ver menos":"Ver mais"})]}),!!(qn!=null&&qn.length)&&!o&&s.jsx("div",{className:"mt-2",children:qn.length<=8?s.jsx("div",{className:"grid grid-cols-3 gap-1",children:qn.slice(0,6).map(j=>s.jsxs("button",{className:"relative overflow-hidden aspect-square w-full",onClick:()=>mh({id:j.id,url:j.full_url,description:j.description,created_at:j.created_at}),"aria-label":"Abrir foto",children:[s.jsx("img",{src:j.grid_url,alt:j.description||"Foto",className:"absolute inset-0 w-full h-full object-cover"}),s.jsx("div",{className:"absolute inset-0 flex items-end justify-end p-1 bg-black/0 hover:bg-black/20 transition-colors",children:s.jsxs("div",{className:`px-1 py-0.5 rounded ${o?"text-[10px]":"text-[9px]"} text-white/90 bg-black/40 flex items-center ${o?"gap-2":"gap-1"}`,children:[s.jsxs("span",{className:`inline-flex items-center ${o?"gap-1":"gap-0.5"}`,children:[s.jsx(cn,{className:`${o?"h-3 w-3":"h-2.5 w-2.5"}`}),o?vh[j.id]||0:(vh[j.id]||0).toLocaleString("pt-BR")]}),s.jsxs("span",{className:`inline-flex items-center ${o?"gap-1":"gap-0.5"}`,children:[s.jsx(ql,{className:`${o?"h-3 w-3":"h-2.5 w-2.5"}`}),o?Il[j.id]||0:(Il[j.id]||0).toLocaleString("pt-BR")]})]})})]},`thumb-${j.id}`))}):s.jsx(s.Fragment,{})})]}),!Mo&&s.jsx("div",{className:"mt-4",children:s.jsxs("div",{className:"grid grid-cols-2 gap-3 w-full",children:[s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:"flex items-center justify-center mb-2",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-base font-semibold text-foreground",children:wv||Xd.length||0}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Seguidores"})]})}),s.jsx("div",{className:"flex justify-center -space-x-2",children:(Xd||[]).slice(0,o?6:3).map(j=>{const M=j.display_name||"Usuário";return s.jsx("button",{className:"inline-block ring-1 ring-background rounded-full overflow-hidden",onClick:()=>St(!0),"aria-label":"Abrir seguidores",children:s.jsxs(Ft,{className:"h-8 w-8",children:[j.avatar_url?s.jsx(Lt,{src:j.avatar_url,alt:M}):null,s.jsx($t,{className:"bg-muted text-foreground/70 text-[10px]",children:M.charAt(0).toUpperCase()})]})},`foll-${j.id}`)})})]}),s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:"flex items-center justify-center mb-2",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-base font-semibold text-foreground",children:vv||Yd.length||0}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Seguindo"})]})}),s.jsx("div",{className:"flex justify-center -space-x-2",children:(Yd||[]).slice(0,o?6:3).map(j=>{const M=j.display_name||"Usuário";return s.jsx("button",{className:"inline-block ring-1 ring-background rounded-full overflow-hidden",onClick:()=>Hr(!0),"aria-label":"Abrir seguindo",children:s.jsxs(Ft,{className:"h-8 w-8",children:[j.avatar_url?s.jsx(Lt,{src:j.avatar_url,alt:M}):null,s.jsx($t,{className:"bg-muted text-foreground/70 text-[10px]",children:M.charAt(0).toUpperCase()})]})},`ing-${j.id}`)})})]})]})})]}),s.jsxs("div",{className:"order-1 md:col-span-3 lg:col-span-4 md:order-1",children:[Re==="contract"&&s.jsx(eO,{musicianId:n}),Re==="contribute"&&s.jsx(r1,{musicianId:n}),Re==="schedule"&&s.jsx(et,{className:"border-none shadow-none",children:s.jsx(tt,{className:"p-0",children:YA?s.jsx("p",{className:"text-sm text-muted-foreground",children:"Carregando agenda..."}):Zd!=null&&Zd.length?s.jsxs("div",{children:[s.jsxs("div",{className:"mb-3 flex flex-col sm:flex-row gap-2 sm:items-center sm:justify-between",children:[s.jsxs("div",{className:`flex gap-2 items-center ${o?"w-full":""}`,children:[s.jsxs("div",{className:`relative transition-all duration-200 ${Po||Fr?"sm:max-w-sm":"sm:max-w-[10rem]"} ${o?"flex-1":"w-full sm:w-auto"}`,children:[s.jsx($s,{className:"absolute left-2 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(Ie,{placeholder:o?"":"Pesquisar",value:Fr,onChange:j=>ur(j.target.value),onFocus:()=>ka(!0),onBlur:()=>ka(!1),className:"pl-7 pr-7 h-8 text-sm placeholder:text-muted-foreground/40","aria-label":"Pesquisar eventos da agenda"}),Fr&&s.jsx("button",{type:"button","aria-label":"Limpar busca",className:"absolute right-2 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",onClick:()=>ur(""),children:s.jsx(Mr,{className:"h-4 w-4"})})]}),o&&s.jsxs(bn,{children:[s.jsx(jn,{asChild:!0,children:s.jsx(O,{variant:"outline",size:"sm",className:"flex-shrink-0",children:s.jsx(wn,{className:"h-4 w-4"})})}),s.jsx(un,{className:"w-auto p-0",align:"end",children:s.jsx(vs,{mode:"single",selected:Bn,onSelect:ev,initialFocus:!0})})]})]}),!o&&s.jsx("div",{children:s.jsxs(bn,{children:[s.jsx(jn,{asChild:!0,children:s.jsxs(O,{variant:"outline",size:"sm",children:[s.jsx(wn,{className:"h-4 w-4 mr-2"}),Bn?`${String(Bn.getDate()).padStart(2,"0")}/${String(Bn.getMonth()+1).padStart(2,"0")}/${String(Bn.getFullYear()%100).padStart(2,"0")}`:"Filtrar por data"]})}),s.jsxs(un,{className:"w-auto p-0",align:"end",children:[s.jsx(vs,{mode:"single",selected:Bn,onSelect:j=>ev(j)}),s.jsx("div",{className:"p-2 flex justify-end",children:s.jsx(O,{variant:"ghost",size:"sm",onClick:()=>ev(null),children:"Limpar"})})]})]})})]}),s.jsx("ul",{className:"divide-y divide-border",children:e1.slice().sort((j,M)=>new Date(j.start_time).getTime()-new Date(M.start_time).getTime()).slice(0,Js*fh).map(j=>{const M=new Date(j.start_time),W=M.getDate(),ge=String(M.getMonth()+1).padStart(2,"0"),ve=String(M.getFullYear()%100).padStart(2,"0");return s.jsx("li",{className:"py-3",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"w-12 text-center leading-none",children:[s.jsx("div",{className:"text-lg font-semibold leading-none",children:W}),s.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:[ge,"/",ve]})]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"font-medium truncate",children:j.title}),j.location&&s.jsxs("div",{className:"text-sm text-muted-foreground flex items-center gap-1 mt-0.5",children:[s.jsx(q2,{className:"h-4 w-4 shrink-0"}),s.jsx("span",{className:"truncate",children:j.location})]})]})]})},j.id)})}),s.jsx("div",{className:"mt-3 flex justify-center",children:e1.length>Js*fh?s.jsx(O,{variant:"outline",size:"sm",onClick:()=>ea(j=>j+1),children:"Ver mais"}):s.jsx(s.Fragment,{})})]}):s.jsx("p",{className:"text-sm text-muted-foreground",children:"Nenhum evento público encontrado."})})}),Re==="music"&&Nh?s.jsx("div",{className:_r?"space-y-1":"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:Array.from({length:6}).map((j,M)=>s.jsx("div",{className:_r?"flex items-center gap-3 p-2":"border rounded-lg p-3",children:_r?s.jsxs(s.Fragment,{children:[s.jsx(Xe,{className:"h-10 w-10 rounded-md flex-shrink-0"}),s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsx(Xe,{className:"h-4 w-32"}),s.jsx(Xe,{className:"h-3 w-24"})]}),s.jsx(Xe,{className:"h-6 w-16"})]}):s.jsxs(s.Fragment,{children:[s.jsx(Xe,{className:"h-32 w-full rounded-md mb-3"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Xe,{className:"h-4 w-3/4"}),s.jsx(Xe,{className:"h-3 w-1/2"})]}),s.jsxs("div",{className:"mt-3 flex justify-between items-center",children:[s.jsx(Xe,{className:"h-6 w-16"}),s.jsx(Xe,{className:"h-6 w-20"})]})]})},M))}):Re==="music"&&!(Wn!=null&&Wn.length)?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(nr,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Nenhuma música cadastrada"}),s.jsx("p",{className:"text-muted-foreground",children:"O músico ainda não cadastrou nenhuma música em seu repertório."})]}):Re==="music"?s.jsxs(s.Fragment,{children:[!Mo&&c<=3&&((Wn==null?void 0:Wn.length)??0)>0&&s.jsx(s.Fragment,{children:!o&&s.jsx(PH,{current:c,canGoTo:j=>j===1?!0:j===2||j===3?!!u:!0,onStep:j=>{if((j===2||j===3)&&!u){oe({title:"Selecione uma música"});return}d(j)}})}),c===1&&((Wn==null?void 0:Wn.length)??0)>0&&s.jsxs("div",{className:"space-y-6",children:[s.jsx(et,{className:"border-none shadow-none",children:s.jsxs(tt,{className:"p-3 pt-0",children:[!(o&&Ee)&&s.jsx("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center justify-between gap-3 mb-5",children:s.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto",children:[o?s.jsx("button",{ref:uv,type:"button",onClick:OA,"aria-label":"Abrir busca",className:"inline-flex h-8 w-8 items-center justify-center rounded-md border border-transparent text-muted-foreground hover:text-foreground hover:bg-muted",children:s.jsx($s,{className:"h-4 w-4"})}):s.jsxs("div",{ref:uv,className:`relative transition-all duration-200 ${AA||Ge?"sm:max-w-sm":"sm:max-w-[10rem]"} sm:basis-auto flex-1 sm:flex-none`,children:[s.jsx($s,{className:"absolute left-2 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(Ie,{placeholder:"Pesquisar",value:Ge,onChange:j=>vr(j.target.value),onFocus:()=>dv(!0),onBlur:()=>dv(!1),className:"pl-7 pr-7 h-8 text-sm placeholder:text-muted-foreground/40","aria-label":"Pesquisar músicas do repertório"}),Ge&&s.jsx("button",{type:"button","aria-label":"Limpar busca",className:"absolute right-2 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",onClick:()=>vr(""),children:s.jsx(Mr,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"flex items-center gap-2 text-gray-400 flex-shrink-0",children:[s.jsx(O,{variant:"ghost",onClick:()=>st(j=>!j),children:nt?s.jsx(nr,{className:"h-4 w-4"}):s.jsx(Kh,{className:"h-4 w-4"})}),s.jsx(O,{variant:"ghost",onClick:()=>Vj(j=>!j),children:_r?s.jsx(I_,{className:"h-4 w-4"}):s.jsx(Kh,{className:"h-4 w-4"})}),o&&s.jsxs(s.Fragment,{children:[s.jsx(al,{orientation:"vertical",className:"h-6 mx-1"}),s.jsxs(zs,{children:[s.jsx(kB,{asChild:!0,children:s.jsx(O,{variant:"ghost","aria-label":"Sobre",className:"px-2",children:s.jsxs("span",{className:"inline-flex items-center gap-1 text-xs text-muted-foreground",children:[s.jsx(tb,{className:"h-4 w-4"}),s.jsx("span",{children:"Sobre"})]})})}),s.jsx(ms,{side:"bottom",className:"h-[55vh] p-4",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex flex-col items-center justify-center text-center py-2",children:[s.jsxs(Ft,{className:"h-16 w-16",children:[s.jsx(Lt,{src:(ce==null?void 0:ce.avatar_url)||void 0,alt:(ce==null?void 0:ce.display_name)||"Músico"}),s.jsx($t,{children:((ce==null?void 0:ce.display_name)||"M").charAt(0).toUpperCase()})]}),s.jsxs("div",{className:"mt-2 flex items-center justify-center gap-2",children:[s.jsx("span",{className:"text-base font-semibold",children:(ce==null?void 0:ce.display_name)||"Músico"}),(ce==null?void 0:ce.is_pro)&&s.jsx(uo,{size:16})]})]}),Sh.length>0&&s.jsx("div",{className:"flex items-center gap-2 flex-wrap",children:Sh.map(j=>s.jsx("a",{href:j.href,target:"_blank",rel:"noopener noreferrer","aria-label":j.label,className:"inline-flex h-9 w-9 items-center justify-center rounded-md border border-transparent text-muted-foreground hover:text-foreground hover:bg-muted transition-colors",children:s.jsx(j.icon,{className:"h-4 w-4"})},`tabbar-info-${j.key}`))}),ce!=null&&ce.description?s.jsx("p",{className:"text-sm text-muted-foreground whitespace-pre-line",children:ce.description}):null]})})]}),!ls&&s.jsx(O,{variant:"ghost",onClick:Sv,"aria-label":Oo?"Deixar de seguir":"Seguir músico",className:"gap-1",children:Oo?s.jsxs(s.Fragment,{children:[s.jsx(fx,{className:"h-4 w-4 text-primary"}),s.jsx("span",{className:"text-xs",children:"Seguindo"})]}):s.jsxs(s.Fragment,{children:[s.jsx(hx,{className:"h-4 w-4 text-yellow-500"}),s.jsx("span",{className:"text-xs text-yellow-500",children:"Seguir"})]})})]})]})]})}),Nh?s.jsx("div",{className:`grid ${_r?"grid-cols-1 gap-0":"grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3"} mt-5`,children:Array.from({length:8}).map((j,M)=>s.jsxs("div",{className:"space-y-2",children:[s.jsx(Xe,{className:"w-full aspect-[4/3] rounded"}),s.jsx(Xe,{className:"h-4 w-3/4"}),s.jsx(Xe,{className:"h-3 w-1/2"})]},M))}):nt||Ge.trim()?s.jsxs("div",{children:[Nv.length===0?s.jsx("p",{className:"text-sm text-muted-foreground",children:"Nenhum resultado para a busca."}):s.jsx("div",{className:`grid ${_r?"grid-cols-1 gap-2":"grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3"}`,children:Nv.map(j=>{var M,W,ge,ve;return s.jsx("button",{onClick:()=>h((u==null?void 0:u.id)===j.id?null:j),className:`text-left rounded-md ${_r?"":"border"} ${_r?"p-1":"p-3"} transition-colors hover:bg-accent ${(u==null?void 0:u.id)===j.id?"ring-2 ring-primary":""}`,"aria-label":`Selecionar ${j.title}${j.artist?` por ${j.artist}`:""}`,children:_r?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"h-10 w-10 rounded overflow-hidden bg-muted shrink-0",children:j.cover_url?s.jsx("img",{src:j.cover_url,alt:`Capa de ${j.title} por ${j.artist||"Artista"}`,loading:"lazy",className:"h-full w-full object-cover"}):null}),s.jsxs("div",{className:"min-w-0 flex-1 flex flex-col justify-center",children:[s.jsxs("p",{className:"truncate",children:[s.jsx("span",{className:"text-xs font-medium",children:j.title}),j.artist&&s.jsxs("span",{className:"text-[10px] text-muted-foreground font-normal",children:[" ","(",j.artist,")"]})]}),s.jsxs("div",{className:"mt-0 flex items-center gap-2",children:[s.jsxs("button",{onClick:_e=>{_e.stopPropagation(),zl(j.id)},className:`inline-flex items-center gap-1 text-xs ${er[j.id]?"text-primary":"text-muted-foreground"} hover:text-primary`,"aria-label":er[j.id]?"Remover curtida":"Curtir","aria-pressed":er[j.id]?"true":"false",type:"button",children:[s.jsx(cn,{className:`h-3 w-3 ${er[j.id]?"fill-current":""}`}),s.jsx("span",{children:(j==null?void 0:j.like_count)??Dl[j.id]??0}),s.jsx("span",{className:"text-muted-foreground",children:"·"}),s.jsx(nr,{className:"h-3 w-3"}),s.jsx("span",{className:"text-xs",title:"Pedidos desta música",children:(j==null?void 0:j.request_count)??((W=(M=j==null?void 0:j.requests)==null?void 0:M[0])==null?void 0:W.count)??Yj[j.id]??0})]}),s.jsx("button",{onClick:_e=>{_e.stopPropagation(),h(j),o?J(!0):d(2)},className:"ml-auto inline-flex items-center rounded border px-2 h-6 text-[10px] text-muted-foreground hover:text-foreground","aria-label":`Pedir ${j.title}`,type:"button",children:"Pedir"})]})]})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"aspect-[4/3] mb-2 overflow-hidden rounded",children:j.cover_url?s.jsx("img",{src:j.cover_url,alt:`Capa de ${j.title} por ${j.artist||"Artista"}`,loading:"lazy",className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full bg-muted"})}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-xs sm:text-base font-medium truncate",children:j.title}),j.artist&&s.jsx("p",{className:"text-[10px] sm:text-sm text-muted-foreground truncate",children:j.artist})]}),s.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[s.jsxs("button",{onClick:_e=>{_e.stopPropagation(),zl(j.id)},className:`inline-flex items-center gap-1 text-sm ${er[j.id]?"text-primary":"text-muted-foreground"} hover:text-primary`,"aria-label":er[j.id]?"Remover curtida":"Curtir","aria-pressed":er[j.id]?"true":"false",type:"button",children:[s.jsx(cn,{className:`h-4 w-4 ${er[j.id]?"fill-current":""}`}),s.jsx("span",{children:(j==null?void 0:j.like_count)??Dl[j.id]??0}),s.jsx("span",{className:"text-muted-foreground",children:"·"}),s.jsx(nr,{className:"h-4 w-4"}),s.jsx("span",{className:"text-sm",title:"Pedidos desta música",children:(j==null?void 0:j.request_count)??((ve=(ge=j==null?void 0:j.requests)==null?void 0:ge[0])==null?void 0:ve.count)??Yj[j.id]??0})]}),s.jsx(O,{variant:"outline",size:"sm",className:"h-7 px-2 text-[10px]",onClick:_e=>{_e.stopPropagation(),h(j),o?J(!0):d(2)},"aria-label":`Pedir ${j.title}`,children:"Pedir"})]})]})},j.id)})}),nO&&s.jsx("div",{className:"mt-4 flex justify-center",children:s.jsx(O,{variant:"outline",onClick:()=>qj(j=>j+1),children:"Ver mais"})})]}):s.jsx("div",{className:"space-y-8",children:Ll!=null&&Ll.length?s.jsxs(s.Fragment,{children:[aO.map(j=>s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium mb-3",children:j.title}),s.jsx("div",{className:`${_r?"grid grid-cols-1 gap-0":"flex overflow-x-auto gap-3 pb-2 scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-gray-100 dark:scrollbar-thumb-gray-600 dark:scrollbar-track-gray-800"}`,children:Nh?Array.from({length:8}).map((M,W)=>s.jsxs("div",{className:"space-y-2",children:[s.jsx(Xe,{className:"w-full aspect-[4/3] rounded"}),s.jsx(Xe,{className:"h-4 w-3/4"}),s.jsx(Xe,{className:"h-3 w-1/2"})]},W)):j.items.map(M=>s.jsx("button",{onClick:()=>h(M),className:`text-left rounded-md ${_r?"":"border"} ${_r?"p-1":"p-3"} transition-colors hover:bg-accent ${(u==null?void 0:u.id)===M.id?"ring-2 ring-primary":""} ${_r?"":"w-48 flex-shrink-0"}`,children:_r?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"h-10 w-10 rounded overflow-hidden bg-muted shrink-0",children:M.cover_url?s.jsx("img",{src:M.cover_url,alt:`Capa de ${M.title} por ${M.artist||"Artista"}`,loading:"lazy",className:"h-full w-full object-cover"}):null}),s.jsxs("div",{className:"min-w-0 flex-1 flex flex-col justify-center",children:[s.jsxs("p",{className:"truncate",children:[s.jsx("span",{className:"text-xs font-medium",children:M.title}),M.artist&&s.jsxs("span",{className:"text-[10px] text-muted-foreground font-normal",children:[" ","(",M.artist,")"]})]}),s.jsx("div",{className:"mt-0",children:s.jsxs("button",{onClick:W=>{W.stopPropagation(),zl(M.id)},className:`inline-flex items-center gap-1 text-xs ${er[M.id]?"text-primary":"text-muted-foreground"} hover:text-primary`,"aria-label":er[M.id]?"Remover curtida":"Curtir","aria-pressed":er[M.id]?"true":"false",type:"button",children:[s.jsx(cn,{className:`h-3 w-3 ${er[M.id]?"fill-current":""}`}),s.jsx("span",{children:Dl[M.id]||0})]})})]})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"aspect-[4/3] mb-2 overflow-hidden rounded",children:M.cover_url?s.jsx("img",{src:M.cover_url,alt:`Capa de ${M.title} por ${M.artist||"Artista"}`,loading:"lazy",className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full bg-muted"})}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-xs sm:text-base font-medium truncate",children:M.title}),M.artist&&s.jsx("p",{className:"text-[10px] sm:text-sm text-muted-foreground truncate",children:M.artist})]}),s.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[s.jsxs("button",{onClick:W=>{W.stopPropagation(),zl(M.id)},className:`inline-flex items-center gap-1 text-sm ${er[M.id]?"text-primary":"text-muted-foreground"} hover:text-primary`,"aria-label":er[M.id]?"Remover curtida":"Curtir","aria-pressed":er[M.id]?"true":"false",type:"button",children:[s.jsx(cn,{className:`h-4 w-4 ${er[M.id]?"fill-current":""}`}),s.jsx("span",{children:Dl[M.id]||0})]}),s.jsx(O,{variant:"outline",size:"sm",className:"h-7 px-2 text-[10px]",onClick:W=>{W.stopPropagation(),h(M),o?J(!0):d(2)},"aria-label":`Pedir ${M.title}`,children:"Pedir"})]})]})},M.id))})]},j.title)),iO&&s.jsx("div",{className:"mt-4 flex justify-center",children:s.jsx(O,{variant:"outline",onClick:()=>qj(j=>j+1),children:"Ver mais"})})]}):s.jsx("div",{className:`grid ${_r?"grid-cols-1 gap-2":"grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3"}`,children:Nh?Array.from({length:8}).map((j,M)=>s.jsxs("div",{className:"space-y-2",children:[s.jsx(Xe,{className:"w-full aspect-[4/3] rounded"}),s.jsx(Xe,{className:"h-4 w-3/4"}),s.jsx(Xe,{className:"h-3 w-1/2"})]},M)):(Vn||[]).slice(0,Fl*Kd).map(j=>s.jsx("button",{onClick:()=>h(j),className:`text-left rounded-md ${_r?"":"border"} ${_r?"p-1":"p-3"} transition-colors hover:bg-accent ${(u==null?void 0:u.id)===j.id?"ring-2 ring-primary":""}`,children:_r?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"h-10 w-10 rounded overflow-hidden bg-muted shrink-0",children:j.cover_url?s.jsx("img",{src:j.cover_url,alt:`Capa de ${j.title} por ${j.artist||"Artista"}`,loading:"lazy",className:"h-full w-full object-cover"}):null}),s.jsxs("div",{className:"min-w-0 flex-1 flex flex-col justify-center",children:[s.jsxs("p",{className:"truncate",children:[s.jsx("span",{className:"text-xs font-medium",children:j.title}),j.artist&&s.jsxs("span",{className:"text-[10px] text-muted-foreground font-normal",children:[" ","(",j.artist,")"]})]}),s.jsx("div",{className:"mt-0",children:s.jsxs("button",{onClick:M=>{M.stopPropagation(),zl(j.id)},className:`inline-flex items-center gap-1 text-xs ${er[j.id]?"text-primary":"text-muted-foreground"} hover:text-primary`,"aria-label":er[j.id]?"Remover curtida":"Curtir","aria-pressed":er[j.id]?"true":"false",type:"button",children:[s.jsx(cn,{className:`h-3 w-3 ${er[j.id]?"fill-current":""}`}),s.jsx("span",{children:Dl[j.id]||0})]})})]})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"aspect-[4/3] mb-2 overflow-hidden rounded",children:j.cover_url?s.jsx("img",{src:j.cover_url,alt:`Capa de ${j.title} por ${j.artist||"Artista"}`,loading:"lazy",className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full bg-muted"})}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-xs sm:text-base font-medium truncate",children:j.title}),j.artist&&s.jsx("p",{className:"text-[10px] sm:text-sm text-muted-foreground truncate",children:j.artist})]}),s.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[s.jsxs("button",{onClick:M=>{M.stopPropagation(),zl(j.id)},className:`inline-flex items-center gap-1 text-sm ${er[j.id]?"text-primary":"text-muted-foreground"} hover:text-primary`,"aria-label":er[j.id]?"Remover curtida":"Curtir","aria-pressed":er[j.id]?"true":"false",type:"button",children:[s.jsx(cn,{className:`h-4 w-4 ${er[j.id]?"fill-current":""}`}),s.jsx("span",{children:Dl[j.id]||0})]}),s.jsx(O,{variant:"outline",size:"sm",className:"h-7 px-2 text-[10px]",onClick:M=>{M.stopPropagation(),h(j),o?J(!0):d(2)},"aria-label":`Pedir ${j.title}`,children:"Pedir"})]})]})},j.id))})})]})}),u&&c===1&&s.jsx("div",{className:"sticky bottom-0 z-40 mt-6",children:s.jsx("div",{className:"bg-background/80 supports-[backdrop-filter]:backdrop-blur  p-8",children:s.jsx("div",{className:"max-w-5xl mx-auto",children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx(O,{variant:"outline",className:"flex-1 h-10",size:"lg",onClick:()=>h(null),"aria-label":"Cancelar seleção de música",children:"Cancelar"}),s.jsx(O,{className:"flex-1 h-10",size:"lg",onClick:()=>{o?J(!0):d(2)},"aria-label":"Continuar para dedicatória",children:"Continuar"})]})})})})]}),c===2&&s.jsxs("div",{className:"",children:[s.jsxs("div",{className:"p-3 space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:"Seu nome"}),s.jsx(Ie,{ref:fe,value:m,onChange:j=>p(j.target.value),placeholder:"Ex.: Ana",className:"placeholder:text-muted-foreground/40"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:"Mensagem/Dedicatória"}),s.jsx(Bi,{value:w,onChange:j=>v(j.target.value),placeholder:"Para quem vai essa música?",className:"placeholder:text-muted-foreground/40",maxLength:200}),s.jsx("div",{className:"flex justify-end mt-1",children:s.jsxs("span",{className:"text-xs text-muted-foreground",children:[w.length,"/200"]})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:"Descrição adicional (opcional)"}),s.jsx(Bi,{value:g,onChange:j=>y(j.target.value),placeholder:"Detalhes extras",className:"placeholder:text-muted-foreground/40",maxLength:200}),s.jsx("div",{className:"flex justify-end mt-1",children:s.jsxs("span",{className:"text-xs text-muted-foreground",children:[g.length,"/200"]})})]})]}),s.jsx("div",{className:"sticky bottom-0 z-40",children:s.jsx("div",{className:"bg-background/80 supports-[backdrop-filter]:backdrop-blur  p-3",children:s.jsxs("div",{className:"max-w-5xl mx-auto flex gap-2",children:[s.jsx(O,{variant:"outline",className:"flex-1 h-10",onClick:()=>d(1),"aria-label":"Voltar",children:"Voltar"}),s.jsx(O,{className:"flex-1 h-10",onClick:()=>d(3),children:"Continuar"})]})})})]}),c===3&&s.jsxs("div",{className:"",children:[s.jsx("div",{className:"p-3 space-y-4",children:_?s.jsx("div",{className:"flex flex-col items-center justify-center text-center gap-4 py-6",children:Ut?s.jsxs("div",{className:"w-full max-w-sm mx-auto p-4 rounded-md border bg-muted/30",children:[s.jsx("p",{className:"text-sm",children:"PIX cancelado por tempo esgotado."}),q==="failed"&&s.jsx("p",{className:"text-xs text-red-600 mt-1",children:"Aviso: não foi possível confirmar o cancelamento na Veepag."}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Volte e informe o valor para gerar um novo PIX."}),s.jsx("div",{className:"mt-3 flex gap-2 justify-center",children:s.jsx(O,{variant:"outline",onClick:()=>{Et(!1),ne(null),N(""),se(!0)},children:"Voltar para valor"})})]}):s.jsxs(s.Fragment,{children:[k>0&&s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Expira em ",Math.floor(k/60),":",String(k%60).padStart(2,"0")]}),B&&s.jsx("p",{className:"text-xs text-green-600",children:"Transação confirmada!"}),s.jsx("img",{src:`https://quickchart.io/qr?text=${encodeURIComponent(_)}&size=260&margin=1&ecLevel=M`,alt:"QR Code Pix",className:"rounded border",loading:"lazy"}),s.jsx("div",{className:"w-full max-w-xl mx-auto flex items-center justify-center",children:s.jsx(O,{variant:"outline",onClick:()=>{navigator.clipboard.writeText(_),oe({title:"Código copiado"})},"aria-label":"Copiar código Pix",children:"Copiar código PIX"})}),we&&s.jsxs("div",{className:"text-[11px] text-muted-foreground mt-2 select-all break-all",children:["ID Veepag: ",we]})]})}):s.jsx(s.Fragment,{children:s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:"Valor da contribuição (opcional)"}),s.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"PIX gerado via Veepag - Pagamento seguro e instantâneo"}),s.jsx(Ie,{ref:De,type:"text",inputMode:"numeric",placeholder:"Ex.: 10,00",value:x,className:"placeholder:text-muted-foreground/40",onChange:j=>{const M=j.target.value.replace(/\D/g,"");if(!M){b("");return}if(M.length===1){b(`0,0${M}`);return}if(M.length===2){b(`0,${M}`);return}const W=M.slice(0,-2),ge=M.slice(-2),_e=W.replace(/^0+(?=\d)/,"").replace(/\B(?=(\d{3})+(?!\d))/g,".");b(`${_e},${ge}`)}}),s.jsx("div",{className:"flex flex-wrap gap-2 mt-3",children:[15,30,50,100].map(j=>s.jsxs(O,{type:"button",variant:"secondary",size:"sm",className:"h-8 px-3 text-xs border-none bg-muted hover:bg-muted/80",onClick:()=>{const M=`${j},00`;b(M)},children:["R$ ",j.toLocaleString("pt-BR")]},j))}),X&&Z&&s.jsxs("div",{className:"mt-2 p-3 rounded-md border-none bg-red-50 dark:bg-red-950/20",children:[s.jsx("p",{className:"text-sm text-red-700 dark:text-red-300 font-medium",children:Z}),Z!=null&&Z.toLowerCase().includes("expirou")?null:s.jsx("p",{className:"text-xs text-red-600 dark:text-red-400 mt-1",children:"Contribua com R$ 5,00 ou mais, ou crie uma conta para pedidos ilimitados."})]}),ye&&s.jsxs("div",{className:"mt-2 p-3 rounded-md border-none bg-red-50 dark:bg-red-950/20",children:[s.jsxs("p",{className:"text-sm text-red-700 dark:text-red-300 font-medium",children:["Erro ao gerar PIX: ",ye]}),s.jsx("p",{className:"text-xs text-red-600 dark:text-red-400 mt-1",children:"Tente novamente ou entre em contato com o suporte."})]})]})})}),s.jsx("div",{className:"sticky bottom-0 z-40",children:V&&s.jsx("div",{className:"bg-background/80 supports-[backdrop-filter]:backdrop-blur  p-3",children:s.jsxs("div",{className:"max-w-5xl mx-auto flex gap-2",children:[s.jsx(O,{variant:"outline",className:"flex-1 h-10",onClick:()=>d(2),"aria-label":"Voltar",children:"Voltar"}),s.jsx(O,{className:"flex-1 h-10",disabled:ae||!x||R||B,onClick:async()=>{if(!x){oe({title:"Informe um valor válido"});return}Pe()},children:ae?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent mr-2"}),"Gerando PIX..."]}):s.jsxs(s.Fragment,{children:[s.jsx(ju,{className:"h-4 w-4 mr-2"}),"Gerar PIX"]})})]})})})]}),c===4&&u&&s.jsxs("div",{className:"p-6",children:[s.jsx("div",{className:"flex flex-col items-center text-center",children:s.jsx("h3",{className:"text-green-600 font-semibold",children:"Pedido enviado com sucesso!"})}),s.jsxs("div",{className:"space-y-3 mt-4",children:[s.jsx("p",{className:"text-sm",children:"Resumo do pedido:"}),s.jsxs("ul",{className:"text-sm list-disc pl-5 space-y-1",children:[s.jsxs("li",{children:["Música: ",s.jsx("strong",{children:u.title}),u.artist?` — ${u.artist}`:""]}),m&&s.jsxs("li",{children:["Solicitante: ",s.jsx("strong",{children:m})]}),w&&s.jsxs("li",{children:["Dedicatória: ",w]}),g&&s.jsxs("li",{children:["Descrição adicional: ",g]}),x&&s.jsxs("li",{children:["Contribuição: ",tS(Number(x.replace(/[^0-9,.-]/g,"").replace(",",".")))," ","(opcional)"]})]}),!ee&&s.jsxs("div",{className:"p-6 rounded-md border bg-accent/30 text-foreground",children:[s.jsx("p",{className:"text-sm",children:"Crie sua conta para acompanhar seus pedidos, curtidas e comentários."}),s.jsx("div",{className:"mt-4",children:s.jsx(O,{onClick:()=>i("/auth"),children:"Criar conta"})})]}),s.jsx("div",{className:"sticky bottom-0 z-40 mt-6",children:s.jsx("div",{className:"bg-background/80 supports-[backdrop-filter]:backdrop-blur  p-0 mt-10",children:s.jsx("div",{className:"max-w-5xl mx-auto flex gap-2",children:s.jsx(O,{className:"flex-1 h-10",onClick:()=>{d(1),h(null),p(""),v(""),y(""),b(""),H(null)},children:"Fazer outro pedido"})})})})]})]})]}):null,te&&o&&s.jsx(zs,{open:te,onOpenChange:j=>{if(!j&&I===3&&_&&k>0){T(!0);return}J(j),j||(d(1),h(null),p(""),v(""),y(""),b(""),N(""),S(0),re(!1),U(!1),H(null),Q(null),F(!1),de(!1),D(2))},children:s.jsx(ms,{side:"bottom",className:"h-full w-full rounded-t-none p-0",children:s.jsxs("div",{className:"flex flex-col h-full",children:[s.jsx("div",{className:"flex items-center justify-center p-4 border-b",children:s.jsx("h3",{className:"text-lg font-bold bg-gradient-to-r from-yellow-200 via-yellow-400 via-amber-400 to-orange-500 bg-clip-text text-transparent",children:"Pedir música"})}),s.jsx("div",{className:"p-4 border-none",children:s.jsxs("div",{className:"flex items-center justify-center gap-8",children:[s.jsx("div",{className:"group",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:`w-16 h-0.5 rounded-full transition-all duration-300 ${I>=1?"bg-gray-500":"bg-muted-foreground/20"}`}),s.jsx("p",{className:"text-xs text-muted-foreground/70 mt-2",children:"Música"})]})}),s.jsx("div",{className:"group",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:`w-16 h-0.5 rounded-full transition-all duration-300 ${I>=2?"bg-gray-500":"bg-muted-foreground/20"}`}),s.jsx("p",{className:"text-xs text-muted-foreground/70 mt-2",children:"Identificação"})]})}),s.jsx("div",{className:"group",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:`w-16 h-0.5 rounded-full transition-all duration-300 ${I>=3?"bg-gray-500":"bg-muted-foreground/20"}`}),s.jsx("p",{className:"text-xs text-muted-foreground/70 mt-2",children:"Contribuição"})]})})]})}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-4",children:[I===2&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Seu nome"}),s.jsx(Ie,{ref:fe,value:m,onChange:j=>rt(j.target.value),placeholder:"Ex.: Ana",className:"h-11 placeholder:text-muted-foreground/40"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Mensagem/Dedicatória"}),s.jsx(Bi,{value:w,onChange:j=>v(j.target.value),placeholder:"Para quem vai essa música?",className:"min-h-[80px] placeholder:text-muted-foreground/40",maxLength:200}),s.jsx("div",{className:"flex justify-end mt-1",children:s.jsxs("span",{className:"text-xs text-muted-foreground",children:[w.length,"/200"]})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Descrição adicional (opcional)"}),s.jsx(Bi,{value:g,onChange:j=>y(j.target.value),placeholder:"Detalhes extras",className:"min-h-[80px] placeholder:text-muted-foreground/40",maxLength:200}),s.jsx("div",{className:"flex justify-end mt-1",children:s.jsxs("span",{className:"text-xs text-muted-foreground",children:[g.length,"/200"]})})]})]}),I===3&&!_&&s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Valor da contribuição (opcional)"}),s.jsx(Ie,{ref:De,type:"text",inputMode:"numeric",placeholder:"Ex.: 10,00",value:x,onChange:j=>{X&&de(!1);const M=j.target.value.replace(/\D/g,"");if(!M){b("");return}if(M.length===1){b(`0,0${M}`);return}if(M.length===2){b(`0,${M}`);return}const W=M.slice(0,-2),ge=M.slice(-2),_e=W.replace(/^0+(?=\d)/,"").replace(/\B(?=(\d{3})+(?!\d))/g,".");b(`${_e},${ge}`)},className:"h-11 placeholder:text-muted-foreground/40"}),s.jsx("div",{className:"flex flex-wrap gap-2 mt-3",children:[15,30,50,100].map(j=>s.jsxs(O,{type:"button",variant:"secondary",size:"sm",className:"h-8 px-3 text-xs border-none bg-muted hover:bg-muted/80",onClick:()=>{const M=`${j},00`;b(M),X&&de(!1)},children:["R$ ",j.toLocaleString("pt-BR")]},j))}),s.jsx("div",{className:"mt-4",children:s.jsx(O,{className:"w-full h-10",disabled:ae||!x||R||B,onClick:async()=>{x&&await Pe()},children:ae?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent mr-2"}),"Gerando PIX..."]}):s.jsxs(s.Fragment,{children:[s.jsx(ju,{className:"h-4 w-4 mr-2"}),"Gerar PIX"]})})}),X&&Z&&s.jsxs("div",{className:"mt-2 p-3 rounded-md border-none bg-red-50 dark:bg-red-950/20",children:[s.jsx("p",{className:"text-sm text-red-700 dark:text-red-300 font-medium",children:Z}),Z!=null&&Z.toLowerCase().includes("expirou")?null:s.jsx("p",{className:"text-xs text-red-600 dark:text-red-400 mt-1",children:"Ajuste o valor acima para continuar ou crie uma conta para pedidos ilimitados."})]})]})}),I===3&&_&&s.jsxs("div",{className:"text-center space-y-4",children:[k>0&&s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Expira em ",Math.floor(k/60),":",String(k%60).padStart(2,"0")]}),B&&s.jsx("p",{className:"text-xs text-green-600",children:"Transação confirmada!"}),s.jsx("img",{src:`https://quickchart.io/qr?text=${encodeURIComponent(_)}&size=260&margin=1&ecLevel=M`,alt:"QR Code Pix",className:"rounded border mx-auto",loading:"lazy"}),s.jsx("div",{className:"flex items-center gap-2 justify-center",children:s.jsx(O,{variant:"outline",onClick:()=>{navigator.clipboard.writeText(_),oe({title:"Código copiado"})},children:"Copiar código PIX"})})]}),I===4&&!P&&s.jsx("div",{className:"flex-1 flex items-center justify-center",children:s.jsx("div",{className:"text-center space-y-6 max-w-md",children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-green-600 font-semibold text-2xl",children:"Pedido enviado com sucesso!"}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("p",{className:"text-sm font-medium",children:"Resumo do pedido:"}),s.jsxs("ul",{className:"text-sm list-disc pl-5 space-y-1 text-left",children:[s.jsxs("li",{children:["Música: ",s.jsx("strong",{children:u==null?void 0:u.title}),u!=null&&u.artist?` — ${u.artist}`:""]}),m&&s.jsxs("li",{children:["Solicitante: ",s.jsx("strong",{children:m})]}),w&&s.jsxs("li",{children:["Dedicatória: ",w]}),g&&s.jsxs("li",{children:["Descrição adicional: ",g]}),x&&s.jsxs("li",{children:["Contribuição:"," ",tS(Number(x.replace(/[^0-9,.-]/g,"").replace(",",".")))," ","(opcional)"]})]})]})]})})}),I===4&&P&&s.jsx("div",{className:"flex-1 flex items-center justify-center",children:s.jsx("div",{className:"text-center space-y-6 max-w-md",children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-red-600 font-semibold text-2xl",children:"Pedido não enviado"}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:Z}),s.jsxs("div",{className:"p-4 rounded-md border bg-red-50 dark:bg-red-950/20",children:[s.jsx("p",{className:"text-sm font-medium text-red-700 dark:text-red-300",children:"Para enviar este pedido, você precisa:"}),s.jsx("ul",{className:"text-sm text-red-600 dark:text-red-400 mt-2 list-disc pl-5 space-y-1",children:s.jsx("li",{children:"Contribuir com valor de R$ 5,00 ou mais"})})]})]})]})})})]}),s.jsxs("div",{className:"p-4 border-t",children:[I===2&&s.jsx(O,{className:"w-full h-12",onClick:()=>D(3),disabled:!m.trim(),children:"Continuar"}),I===3&&!_&&s.jsx("div",{className:"flex gap-3",children:s.jsx(O,{variant:"outline",className:"flex-1 h-12",onClick:()=>{de(!1),D(2)},children:"Voltar"})}),I===4&&s.jsx(O,{className:"w-full h-12",onClick:()=>{J(!1),d(1),h(null),p(""),v(""),y(""),b(""),N(""),S(0),re(!1),U(!1),pt.current=!1,Pt.current=null,H(null),Q(null),F(!1),de(!1),D(2)},children:"Fazer outro pedido"})]})]})})}),o&&s.jsx(zs,{open:A,onOpenChange:j=>{if(!j&&document.querySelector("[data-contrib-qr]")!=null){$(!0);return}Y(j)},children:s.jsx(ms,{side:"bottom",className:"h-screen p-0 rounded-t-none",hideClose:!0,onInteractOutside:j=>{const M=document.querySelector("[data-contrib-qr]")!=null,W=document.querySelector("[data-contrib-generating]")!=null;(M||W)&&j.preventDefault()},onEscapeKeyDown:j=>{const M=document.querySelector("[data-contrib-qr]")!=null,W=document.querySelector("[data-contrib-generating]")!=null;(M||W)&&j.preventDefault()},children:s.jsxs("div",{className:"flex flex-col h-full",children:[s.jsx("div",{className:"flex items-center justify-center p-4 border-b",children:s.jsx("h3",{className:"text-lg font-bold",children:"Contribuir"})}),s.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:n?s.jsx(r1,{musicianId:n}):null}),s.jsx("div",{className:"p-4 border-t",children:s.jsx(O,{variant:"outline",className:"w-full bg-muted hover:bg-transparent",disabled:(()=>{try{return!!document.querySelector("[data-contrib-generating]")}catch{return!1}})(),onClick:()=>{try{if(document.querySelector("[data-contrib-generating]"))return}catch{}$(!0)},"aria-label":"Fechar contribuição",children:"Fechar"})})]})})}),s.jsx(Ef,{open:C,onOpenChange:T,children:s.jsxs(ld,{children:[s.jsxs(cd,{children:[s.jsx(ud,{children:"Cancelar este pedido?"}),s.jsx(fd,{children:"Um QR Code já foi gerado e o tempo está correndo. Deseja cancelar e voltar, ou continuar?"})]}),s.jsxs(dd,{children:[s.jsx(md,{className:"bg-yellow-500 hover:bg-yellow-600 text-black",onClick:()=>T(!1),children:"Continuar"}),s.jsx(hd,{className:"bg-muted hover:bg-transparent border border-input text-foreground ",onClick:()=>{T(!1),J(!1),d(1),h(null),p(""),v(""),y(""),b(""),N(""),S(0),re(!1),U(!1),pt.current=!1,Pt.current=null,H(null),Q(null),F(!1),de(!1),D(2)},children:"Cancelar pedido"})]})]})}),s.jsx(Ef,{open:E,onOpenChange:$,children:s.jsxs(ld,{children:[s.jsxs(cd,{children:[s.jsx(ud,{children:"Cancelar contribuição?"}),s.jsx(fd,{children:"Um QR Code de contribuição está ativo. Deseja cancelar e voltar, ou continuar?"})]}),s.jsxs(dd,{children:[s.jsx(md,{className:"bg-yellow-500 hover:bg-yellow-600 text-black",onClick:()=>{$(!1)},children:"Continuar"}),s.jsx(hd,{className:"bg-muted hover:bg-transparent border border-input text-foreground hover:bg-muted",onClick:()=>{try{localStorage.removeItem("contrib_qr_active_payload")}catch{}try{const j=new CustomEvent("contrib-clear");window.dispatchEvent(j)}catch{}Y(!1),$(!1)},children:"Cancelar"})]})]})}),Re==="photos"&&s.jsx(et,{className:"border-none shadow-none",children:s.jsx(tt,{className:"p-0 m-0",children:SA?s.jsx("div",{className:"grid gap-1 grid-cols-3",children:Array.from({length:9}).map((j,M)=>s.jsx("div",{className:"aspect-square relative overflow-hidden",children:s.jsx(Xe,{className:"absolute inset-0 w-full h-full"})},M))}):qn!=null&&qn.length?s.jsx("div",{className:"grid gap-1 grid-cols-3",children:qn.map(j=>s.jsxs("button",{className:"relative overflow-hidden aspect-square group",onClick:()=>mh({id:j.id,url:j.full_url,description:j.description,created_at:j.created_at}),"aria-label":"Abrir foto",children:[s.jsx("img",{src:j.grid_url,alt:j.description||"Foto",className:"absolute inset-0 w-full h-full object-cover"}),s.jsx("div",{className:"absolute inset-0 flex items-end justify-end p-1 bg-black/0 group-hover:bg-black/20 transition-colors",children:s.jsxs("div",{className:`px-1 py-0.5 rounded ${o?"text-[10px]":"text-[9px]"} text-white/90 bg-black/40 flex items-center ${o?"gap-2":"gap-1"}`,children:[s.jsxs("span",{className:`inline-flex items-center ${o?"gap-1":"gap-0.5"}`,children:[s.jsx(cn,{className:`${o?"h-3 w-3":"h-2.5 w-2.5"}`}),o?vh[j.id]||0:(vh[j.id]||0).toLocaleString("pt-BR")]}),s.jsxs("span",{className:`inline-flex items-center ${o?"gap-1":"gap-0.5"}`,children:[s.jsx(ql,{className:`${o?"h-3 w-3":"h-2.5 w-2.5"}`}),o?Il[j.id]||0:(Il[j.id]||0).toLocaleString("pt-BR")]})]})})]},j.id))}):s.jsx("p",{className:"text-sm text-muted-foreground",children:"Nenhuma foto disponível."})})})]})]}),s.jsx(qr,{open:xt,onOpenChange:St,children:s.jsxs(Pr,{className:"max-w-xl p-0",children:[s.jsx("div",{className:"p-4 border-b",children:s.jsx(Tr,{children:s.jsx(Rr,{children:`Seguidores - ${wv||Xd.length||0}`})})}),s.jsxs("div",{className:"p-4 max-h-[70vh] overflow-y-auto",children:[s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:Xd.map(j=>{const M=j.display_name||"Usuário";return s.jsxs(Qt,{to:`/m/${j.id}`,className:"flex items-center gap-3",children:[s.jsxs(Ft,{className:"h-10 w-10",isPro:!!(j!=null&&j.is_pro),children:[s.jsx(Lt,{src:j.avatar_url||void 0,alt:M}),s.jsx($t,{children:M.charAt(0).toUpperCase()})]}),s.jsx("span",{className:"truncate text-sm",children:M})]},`follm-${j.id}`)})}),KA&&s.jsx("div",{className:"mt-4 flex justify-center",children:s.jsx(O,{variant:"outline",onClick:()=>Qj(j=>j+1),children:"Carregar mais"})}),s.jsx("div",{ref:Ir})]})]})}),s.jsx(qr,{open:dr,onOpenChange:Hr,children:s.jsxs(Pr,{className:"max-w-xl p-0",children:[s.jsx("div",{className:"p-4 border-b",children:s.jsx(Tr,{children:s.jsx(Rr,{children:`Seguindo - ${vv||Yd.length||0}`})})}),s.jsxs("div",{className:"p-4 max-h-[70vh] overflow-y-auto",children:[s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:Yd.map(j=>{const M=j.display_name||"Usuário";return s.jsxs(Qt,{to:`/m/${j.id}`,className:"flex items-center gap-3",children:[s.jsxs(Ft,{className:"h-10 w-10",isPro:!!(j!=null&&j.is_pro),children:[s.jsx(Lt,{src:j.avatar_url||void 0,alt:M}),s.jsx($t,{children:M.charAt(0).toUpperCase()})]}),s.jsx("span",{className:"truncate text-sm",children:M})]},`folim-${j.id}`)})}),WA&&s.jsx("div",{className:"mt-4 flex justify-center",children:s.jsx(O,{variant:"outline",onClick:()=>Wj(j=>j+1),children:"Carregar mais"})}),s.jsx("div",{ref:hn})]})]})}),Be&&s.jsx(qr,{open:!!Be,onOpenChange:()=>mh(null),children:s.jsxs(Pr,{className:"max-w-4xl w-full h-full md:h-auto p-0",hideClose:!0,children:[s.jsx(Tr,{children:s.jsx(Rr,{children:"Visualizar foto"})}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-0",children:[s.jsxs("div",{className:"bg-black relative h-[50vh] md:h-auto",children:[s.jsx("img",{src:Be.url,alt:"Foto",className:"w-full h-full object-cover md:object-contain md:max-h-[80vh] mx-auto"}),s.jsx("button",{className:"absolute top-3 right-3 z-50 bg-black/80 hover:bg-black text-white rounded-full p-2 transition-colors shadow-lg md:hidden",onClick:()=>mh(null),"aria-label":"Fechar foto",type:"button",children:s.jsx(Mr,{className:"h-5 w-5"})}),o&&s.jsxs("div",{className:"absolute bottom-3 left-3 flex items-center gap-2 bg-white/20 backdrop-blur-md rounded-lg p-2",children:[s.jsxs(O,{variant:Ea?"secondary":"outline",size:"sm",onClick:Lj,"aria-pressed":Ea?"true":"false","aria-label":Ea?"Remover curtida":"Curtir foto",className:"bg-transparent border-white/40 hover:bg-white/20 text-white",children:[s.jsx(cn,{className:`h-4 w-4 mr-2 ${Ea?"fill-current":""}`}),ph]}),s.jsxs(O,{variant:"outline",size:"sm",onClick:()=>kj(!0),"aria-label":"Ver comentários",className:"bg-transparent border-white/40 hover:bg-white/20 text-white",children:[s.jsx(ql,{className:"h-4 w-4 mr-2"}),Il[Be.id]||0]}),ph>0&&s.jsx("button",{className:"flex -space-x-2",onClick:IA,"aria-label":"Ver curtidas",children:Sj.map((j,M)=>s.jsxs(Ft,{className:`h-6 w-6 ring-2 ring-background ${M===0?"":"-ml-2"}`,children:[s.jsx(Lt,{src:j.avatar_url||void 0,alt:"avatar"}),s.jsx($t,{className:"bg-muted text-foreground/70 text-[10px]",children:"U"})]},j.id))}),s.jsx(O,{variant:"ghost",size:"icon",onClick:Bj,"aria-label":"Denunciar foto",className:"bg-transparent hover:bg-white/20 text-white",children:s.jsx(dx,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{className:"p-4 flex flex-col min-h-[50vh] md:min-h-[60vh] max-h-[50vh] md:max-h-[80vh] overflow-y-auto",children:[s.jsx(DA,{description:Be.description||"Sem descrição"}),!o&&s.jsx("div",{className:"mt-3 space-y-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"text-xs text-muted-foreground",children:Be!=null&&Be.created_at?_h(Be.created_at):null}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{onClick:Lj,className:`flex items-center gap-2 text-sm transition-colors ${Ea?"text-primary":"text-muted-foreground hover:text-foreground"}`,"aria-pressed":Ea?"true":"false","aria-label":Ea?"Remover curtida":"Curtir foto",children:[s.jsx(cn,{className:`h-5 w-5 ${Ea?"fill-current":""}`}),s.jsx("span",{className:"font-medium",children:ph})]}),ph>0&&s.jsx("div",{className:"flex -space-x-2",children:Sj.slice(0,3).map((j,M)=>s.jsxs(Ft,{className:`h-5 w-5 ring-2 ring-background ${M===0?"":"-ml-2"}`,children:[s.jsx(Lt,{src:j.avatar_url||void 0,alt:"avatar"}),s.jsx($t,{className:"bg-muted text-foreground/70 text-[10px]",children:"U"})]},j.id))})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(ql,{className:"h-5 w-5"}),s.jsx("span",{className:"font-medium",children:Il[Be.id]||0})]})]}),s.jsx("button",{onClick:Bj,className:"text-muted-foreground hover:text-foreground transition-colors p-1 rounded","aria-label":"Denunciar foto",children:s.jsx(dx,{className:"h-4 w-4"})})]})}),o&&s.jsx("div",{className:"mt-2 text-xs text-muted-foreground",children:Be!=null&&Be.created_at?_h(Be.created_at):null}),s.jsx(al,{className:"my-4"}),s.jsx("h4",{id:"photo-comments",className:"font-medium mb-2",children:"Comentários"}),s.jsxs("div",{className:"space-y-3 flex-1 overflow-y-auto pr-1 max-h-[50vh]",children:[os.length===0?s.jsx("p",{className:"text-sm text-muted-foreground",children:"Seja o primeiro a comentar."}):os.map(j=>{const M=iv[j.user_id]||{},ge=(M.username||M.display_name||"Usuário").split(" ")[0];return s.jsxs("div",{className:"py-2 flex gap-2",children:[s.jsxs(Ft,{className:"h-6 w-6 mt-0.5",children:[s.jsx(Lt,{src:M.avatar_url||void 0,alt:ge}),s.jsx($t,{children:(ge||"U").charAt(0).toUpperCase()})]}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"text-sm",children:[s.jsx("span",{children:ge}),s.jsxs("span",{className:"text-foreground/90",children:["— ",j.content.slice(0,120)]})]}),s.jsxs("div",{className:"mt-1 flex items-center gap-2 text-xs text-muted-foreground",children:[s.jsx("span",{children:_h(j.created_at)}),j.user_id===(ee==null?void 0:ee.id)&&s.jsx("span",{children:"· Você"}),(ee==null?void 0:ee.id)&&ee.id!==j.user_id&&s.jsx("button",{className:"inline-flex items-center justify-center h-6 w-6 rounded hover:bg-muted",onClick:()=>$A(j.id),"aria-label":"Denunciar comentário",title:"Denunciar",children:s.jsx(dx,{className:"h-3.5 w-3.5"})}),(j.user_id===(ee==null?void 0:ee.id)||ls)&&s.jsx("div",{className:"ml-auto",children:s.jsxs(to,{children:[s.jsx(ro,{asChild:!0,children:s.jsx("button",{className:"inline-flex items-center justify-center h-6 w-6 rounded hover:bg-muted","aria-label":"Mais opções",children:s.jsx(Zi,{className:"h-4 w-4"})})}),s.jsxs(Xa,{align:"end",className:"w-28",children:[j.user_id===(ee==null?void 0:ee.id)&&s.jsx(fr,{onClick:()=>{av(j.id),Ro(j.content)},children:"Editar"}),s.jsx(Mm,{}),s.jsx(fr,{className:"text-destructive focus:text-destructive",onClick:()=>j.user_id===(ee==null?void 0:ee.id)?zj():Uj(j.id),children:"Excluir"})]})]})})]}),j.reply_text?RA[j.id]?s.jsxs("div",{className:"mt-2 text-xs text-foreground bg-muted/40 rounded p-2",children:[s.jsx("div",{className:"font-medium mb-1",children:"Resposta do músico"}),s.jsx("div",{children:j.reply_text}),s.jsx("button",{className:"mt-1 text-xs underline underline-offset-2 text-muted-foreground",onClick:()=>Aj(ve=>({...ve,[j.id]:!1})),children:"Ocultar resposta"})]}):s.jsx("button",{className:"mt-2 text-xs underline underline-offset-2 text-muted-foreground",onClick:()=>Aj(ve=>({...ve,[j.id]:!0})),children:"Ver resposta"}):null,Ej===j.id&&j.user_id===(ee==null?void 0:ee.id)?s.jsx("div",{className:"mt-2",children:s.jsx(Ie,{value:ov,onChange:ve=>Ro(ve.target.value),onKeyDown:ve=>{ve.key==="Enter"&&!ve.shiftKey&&(ve.preventDefault(),$j())},className:"h-8 px-2 py-1 text-sm"})}):null]})]},j.id)}),os.length<Tj&&s.jsx("div",{className:"pt-1 flex justify-center",children:s.jsx(O,{variant:"outline",size:"sm",onClick:Ij,disabled:xh,children:xh?"Carregando...":"Mais"})})]}),!o&&s.jsx("div",{className:"pt-2 bg-background",children:ee?Mj?null:s.jsx("div",{className:"flex items-center gap-2",children:s.jsx(Ie,{value:wh,onChange:j=>Bd(j.target.value),onKeyDown:j=>{j.key==="Enter"&&!j.shiftKey&&(j.preventDefault(),hv())},placeholder:"Adicione um comentário...",className:"h-8 px-2 py-1 text-sm placeholder:text-muted-foreground/40"})}):s.jsx("p",{className:"text-xs text-muted-foreground",children:"Entre para comentar."})})]})]})]})}),o&&s.jsx(zs,{open:EA,onOpenChange:kj,children:s.jsxs(ms,{side:"bottom",className:"h-[70vh] p-3 flex flex-col",children:[s.jsx("div",{className:"mb-2",children:s.jsx("h4",{className:"font-medium",children:"Comentários"})}),s.jsxs("div",{className:"flex-1 overflow-y-auto pr-1 space-y-3",onScroll:j=>{const M=j.currentTarget;M.scrollTop+M.clientHeight>=M.scrollHeight-16&&!xh&&Ij()},children:[os.length===0?s.jsx("p",{className:"text-sm text-muted-foreground",children:"Seja o primeiro a comentar."}):os.map(j=>{const M=iv[j.user_id]||{},ge=(M.username||M.display_name||"Usuário").split(" ")[0];return s.jsxs("div",{className:"py-2 flex gap-2",children:[s.jsxs(Ft,{className:"h-6 w-6 mt-0.5",children:[s.jsx(Lt,{src:M.avatar_url||void 0,alt:ge}),s.jsx($t,{children:(ge||"U").charAt(0).toUpperCase()})]}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"text-sm",children:[s.jsx("span",{children:ge}),s.jsxs("span",{className:"text-foreground/90",children:["— ",j.content.slice(0,120)]})]}),s.jsxs("div",{className:"mt-1 flex items-center gap-2 text-xs text-muted-foreground",children:[s.jsx("span",{children:_h(j.created_at)}),(j.user_id===(ee==null?void 0:ee.id)||ls)&&s.jsx("div",{className:"ml-auto",children:s.jsxs(to,{children:[s.jsx(ro,{asChild:!0,children:s.jsx("button",{className:"inline-flex items-center justify-center h-6 w-6 rounded hover:bg-muted","aria-label":"Mais opções",children:s.jsx(Zi,{className:"h-4 w-4"})})}),s.jsxs(Xa,{align:"end",className:"w-28",children:[j.user_id===(ee==null?void 0:ee.id)&&s.jsx(fr,{onClick:()=>{av(j.id),Ro(j.content)},children:"Editar"}),s.jsx(Mm,{}),s.jsx(fr,{className:"text-destructive focus:text-destructive",onClick:()=>j.user_id===(ee==null?void 0:ee.id)?zj():Uj(j.id),children:"Excluir"})]})]})})]}),j.reply_text?s.jsxs("div",{className:"mt-2 text-xs text-foreground bg-muted/40 rounded p-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"font-medium",children:"Resposta do músico"}),ls&&s.jsx("div",{className:"ml-auto",children:s.jsxs(to,{children:[s.jsx(ro,{asChild:!0,children:s.jsx("button",{className:"inline-flex items-center justify-center h-6 w-6 rounded hover:bg-muted","aria-label":"Opções da resposta",children:s.jsx(Zi,{className:"h-4 w-4"})})}),s.jsxs(Xa,{align:"end",className:"w-36",children:[s.jsx(fr,{onClick:()=>{bh(ve=>({...ve,[j.id]:j.reply_text||""})),Ud(j.id)},children:"Editar"}),s.jsx(Mm,{}),s.jsx(fr,{className:"text-destructive focus:text-destructive",onClick:()=>LA(j.id),children:"Excluir"})]})]})})]}),PA===j.id?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ie,{autoFocus:!0,value:lv[j.id]||j.reply_text||"",onChange:ve=>bh(_e=>({..._e,[j.id]:ve.target.value})),onBlur:()=>Ud(null),onKeyDown:ve=>{ve.key==="Enter"&&!ve.shiftKey&&(ve.preventDefault(),mv(j.id),Ud(null))},className:"h-8 px-2 py-1 text-xs"}),s.jsx(O,{className:"m-0 p-1",size:"sm",onClick:()=>{mv(j.id),Ud(null)},children:"Enviar"})]}):s.jsx("div",{children:j.reply_text})]}):ls?s.jsxs("div",{className:"mt-2",children:[s.jsx("label",{className:"block text-xs mb-1",children:"Responder"}),s.jsx(Ie,{value:lv[j.id]||"",onChange:ve=>bh(_e=>({..._e,[j.id]:ve.target.value})),onKeyDown:ve=>{ve.key==="Enter"&&!ve.shiftKey&&(ve.preventDefault(),mv(j.id))},placeholder:"Responder...",className:"h-9 px-3 placeholder:text-muted-foreground/40"})]}):null,Ej===j.id&&j.user_id===(ee==null?void 0:ee.id)?s.jsx("div",{className:"mt-2",children:s.jsx(Ie,{value:ov,onChange:ve=>Ro(ve.target.value),onKeyDown:ve=>{ve.key==="Enter"&&!ve.shiftKey&&(ve.preventDefault(),$j())},className:"h-8 px-2 py-1 text-sm placeholder:text-muted-foreground/40"})}):null]})]},j.id)}),xh&&s.jsx("div",{className:"pt-1 pb-2 text-center text-xs text-muted-foreground",children:"Carregando..."})]}),s.jsx("div",{className:"mt-2 pt-2 m-0 p-1 border-t",children:ee?Mj?null:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ie,{value:wh,onChange:j=>Bd(j.target.value),onKeyDown:j=>{j.key==="Enter"&&!j.shiftKey&&(j.preventDefault(),hv())},placeholder:"Adicione um comentário...",className:"h-10 px-3 placeholder:text-muted-foreground/40"}),s.jsx(O,{className:"m-0 p-1",size:"sm",onClick:hv,disabled:wh.trim().length===0,"aria-label":"Enviar comentário",children:"Comentar"})]}):s.jsx("p",{className:"text-xs text-muted-foreground",children:"Entre para comentar."})})]})}),s.jsx(qr,{open:MA,onOpenChange:qd,children:s.jsxs(Pr,{className:"max-w-md",children:[s.jsx(Tr,{children:s.jsx(Rr,{children:"Denunciar"})}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Descreva brevemente o motivo da denúncia. Nossa equipe avaliará o conteúdo."}),s.jsx(Ie,{value:Oj,onChange:j=>jh(j.target.value),placeholder:"Motivo da denúncia",className:"placeholder:text-muted-foreground/40"}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(O,{variant:"outline",onClick:()=>qd(!1),children:"Cancelar"}),s.jsx(O,{onClick:zA,children:"Enviar"})]})]})]})}),s.jsx(qr,{open:CA,onOpenChange:bj,children:s.jsxs(Pr,{className:"max-w-md",children:[s.jsx(Tr,{children:s.jsx(Rr,{children:"Curtiram"})}),kA?s.jsx("p",{className:"text-sm text-muted-foreground",children:"Carregando..."}):_j.length===0?s.jsx("p",{className:"text-sm text-muted-foreground",children:"Ninguém curtiu ainda."}):s.jsx("div",{className:"max-h-[60vh] overflow-y-auto divide-y",children:_j.map(j=>s.jsxs("div",{className:"flex items-center justify-between gap-3 py-2",children:[s.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[s.jsxs(Ft,{className:"h-8 w-8",children:[s.jsx(Lt,{src:j.avatar_url||void 0,alt:j.display_name||"Usuário"}),s.jsx($t,{children:(j.display_name||"U").charAt(0).toUpperCase()})]}),s.jsx("span",{className:"text-sm truncate",children:j.display_name||"Usuário"})]}),j.id!==(ee==null?void 0:ee.id)&&s.jsx(O,{size:"sm",variant:nv[j.id]?"secondary":"outline",onClick:()=>FA(j.id),children:nv[j.id]?"Seguindo":"Seguir"})]},j.id))})]})})]}),s.jsx("footer",{className:"mt-auto py-6 text-center text-xs text-muted-foreground",children:"© 2025 - AVAplay"})]})]})})},Lo=()=>{const{username:e,section:t}=bb(),r=Xs(),{data:n,isLoading:a}=Ze({queryKey:["profile-by-username",e],enabled:!!e,queryFn:async()=>{const{data:c,error:d}=await L.from("profiles").select("id, is_active").eq("username",(e||"").toLowerCase()).eq("is_active",!0).maybeSingle();if(d)throw d;if(!c)return null;const{data:u,error:h}=await L.from("user_roles").select("role").eq("user_id",c.id).in("role",["public","musician"]);if(h)throw h;if(u&&u.length>0)return c;const{data:m,error:p}=await L.from("songs").select("id").eq("owner_id",c.id).limit(1);if(p)throw p;return m&&m.length>0?c:null}});if(f.useEffect(()=>{document.title=e?`${e} — Perfil`:document.title},[e]),a)return null;if(!(n!=null&&n.id))return s.jsx(v0,{to:"/na",replace:!0});const i=c=>{const d=String(c||"").toLowerCase();return["pedir-musica","musicas","musicas"].includes(d)?"music":["agenda"].includes(d)?"schedule":["fotos","galeria"].includes(d)?"photos":["contratar","contrato"].includes(d)?"contract":["contribuir","contribuicao"].includes(d)?"contribute":"music"},o=(()=>{try{return(r.pathname||"").split("/").filter(Boolean)[1]}catch{return}})(),l=t||o;return s.jsx(DM,{mid:n.id,initialView:i(l)})};function TH(){return s.jsxs("main",{className:"container mx-auto px-4 py-12",children:[s.jsx(Zt,{title:"Perfil indisponível",description:"Este usuário não está disponível no momento."}),s.jsx("div",{className:"max-w-xl mx-auto",children:s.jsx(et,{className:"border-0 shadow-none",children:s.jsxs(tt,{className:"p-6 text-center space-y-4",children:[s.jsx("h1",{className:"text-2xl font-semibold",children:"Usuário indisponível"}),s.jsx("p",{className:"text-muted-foreground",children:"No momento, este usuário não está disponível. Ele pode estar concluindo o cadastro ou ter desativado o perfil."}),s.jsx(O,{asChild:!0,children:s.jsx(Qt,{to:"/",children:"Voltar para a página inicial"})})]})})})]})}function RH(){return f.useEffect(()=>{L.auth.signOut().catch(()=>{})},[]),s.jsxs("main",{className:"container mx-auto px-4 py-12",children:[s.jsx(Zt,{title:"Conta bloqueada",description:"Este usuário está com a conta bloqueada."}),s.jsx("div",{className:"max-w-xl mx-auto",children:s.jsx(et,{className:"border-0 shadow-none",children:s.jsxs(tt,{className:"p-6 text-center space-y-4",children:[s.jsx("h1",{className:"text-2xl font-semibold",children:"Conta bloqueada"}),s.jsx("p",{className:"text-muted-foreground",children:"Sua conta foi bloqueada. Se acredita tratar-se de um engano, entre em contato com o suporte."}),s.jsx("div",{className:"flex justify-center gap-2",children:s.jsx(O,{asChild:!0,children:s.jsx(Qt,{to:"/",children:"Ir para a página inicial"})})})]})})})]})}function I0(e,[t,r]){return Math.min(r,Math.max(t,e))}function MH(e,t){return f.useReducer((r,n)=>t[r][n]??r,e)}var sj="ScrollArea",[IM,jQ]=Cn(sj),[AH,_s]=IM(sj),FM=f.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:a,scrollHideDelay:i=600,...o}=e,[l,c]=f.useState(null),[d,u]=f.useState(null),[h,m]=f.useState(null),[p,w]=f.useState(null),[v,g]=f.useState(null),[y,x]=f.useState(0),[b,_]=f.useState(0),[N,k]=f.useState(!1),[S,R]=f.useState(!1),U=ct(t,re=>c(re)),B=ih(a);return s.jsx(AH,{scope:r,type:n,dir:B,scrollHideDelay:i,scrollArea:l,viewport:d,onViewportChange:u,content:h,onContentChange:m,scrollbarX:p,onScrollbarXChange:w,scrollbarXEnabled:N,onScrollbarXEnabledChange:k,scrollbarY:v,onScrollbarYChange:g,scrollbarYEnabled:S,onScrollbarYEnabledChange:R,onCornerWidthChange:x,onCornerHeightChange:_,children:s.jsx(Le.div,{dir:B,...o,ref:U,style:{position:"relative","--radix-scroll-area-corner-width":y+"px","--radix-scroll-area-corner-height":b+"px",...e.style}})})});FM.displayName=sj;var LM="ScrollAreaViewport",$M=f.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:a,...i}=e,o=_s(LM,r),l=f.useRef(null),c=ct(t,l,o.onViewportChange);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),s.jsx(Le.div,{"data-radix-scroll-area-viewport":"",...i,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:s.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});$M.displayName=LM;var Ca="ScrollAreaScrollbar",aj=f.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=_s(Ca,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=a,l=e.orientation==="horizontal";return f.useEffect(()=>(l?i(!0):o(!0),()=>{l?i(!1):o(!1)}),[l,i,o]),a.type==="hover"?s.jsx(OH,{...n,ref:t,forceMount:r}):a.type==="scroll"?s.jsx(DH,{...n,ref:t,forceMount:r}):a.type==="auto"?s.jsx(zM,{...n,ref:t,forceMount:r}):a.type==="always"?s.jsx(ij,{...n,ref:t}):null});aj.displayName=Ca;var OH=f.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=_s(Ca,e.__scopeScrollArea),[i,o]=f.useState(!1);return f.useEffect(()=>{const l=a.scrollArea;let c=0;if(l){const d=()=>{window.clearTimeout(c),o(!0)},u=()=>{c=window.setTimeout(()=>o(!1),a.scrollHideDelay)};return l.addEventListener("pointerenter",d),l.addEventListener("pointerleave",u),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",d),l.removeEventListener("pointerleave",u)}}},[a.scrollArea,a.scrollHideDelay]),s.jsx(sn,{present:r||i,children:s.jsx(zM,{"data-state":i?"visible":"hidden",...n,ref:t})})}),DH=f.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=_s(Ca,e.__scopeScrollArea),i=e.orientation==="horizontal",o=qg(()=>c("SCROLL_END"),100),[l,c]=MH("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return f.useEffect(()=>{if(l==="idle"){const d=window.setTimeout(()=>c("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(d)}},[l,a.scrollHideDelay,c]),f.useEffect(()=>{const d=a.viewport,u=i?"scrollLeft":"scrollTop";if(d){let h=d[u];const m=()=>{const p=d[u];h!==p&&(c("SCROLL"),o()),h=p};return d.addEventListener("scroll",m),()=>d.removeEventListener("scroll",m)}},[a.viewport,i,c,o]),s.jsx(sn,{present:r||l!=="hidden",children:s.jsx(ij,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:Se(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:Se(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),zM=f.forwardRef((e,t)=>{const r=_s(Ca,e.__scopeScrollArea),{forceMount:n,...a}=e,[i,o]=f.useState(!1),l=e.orientation==="horizontal",c=qg(()=>{if(r.viewport){const d=r.viewport.offsetWidth<r.viewport.scrollWidth,u=r.viewport.offsetHeight<r.viewport.scrollHeight;o(l?d:u)}},10);return pd(r.viewport,c),pd(r.content,c),s.jsx(sn,{present:n||i,children:s.jsx(ij,{"data-state":i?"visible":"hidden",...a,ref:t})})}),ij=f.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,a=_s(Ca,e.__scopeScrollArea),i=f.useRef(null),o=f.useRef(0),[l,c]=f.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=WM(l.viewport,l.content),u={...n,sizes:l,onSizesChange:c,hasThumb:d>0&&d<1,onThumbChange:m=>i.current=m,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:m=>o.current=m};function h(m,p){return UH(m,o.current,l,p)}return r==="horizontal"?s.jsx(IH,{...u,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const m=a.viewport.scrollLeft,p=rS(m,l,a.dir);i.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:m=>{a.viewport&&(a.viewport.scrollLeft=m)},onDragScroll:m=>{a.viewport&&(a.viewport.scrollLeft=h(m,a.dir))}}):r==="vertical"?s.jsx(FH,{...u,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const m=a.viewport.scrollTop,p=rS(m,l);i.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:m=>{a.viewport&&(a.viewport.scrollTop=m)},onDragScroll:m=>{a.viewport&&(a.viewport.scrollTop=h(m))}}):null}),IH=f.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,i=_s(Ca,e.__scopeScrollArea),[o,l]=f.useState(),c=f.useRef(null),d=ct(t,c,i.onScrollbarXChange);return f.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(BM,{"data-orientation":"horizontal",...a,ref:d,sizes:r,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Bg(r)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.x),onDragScroll:u=>e.onDragScroll(u.x),onWheelScroll:(u,h)=>{if(i.viewport){const m=i.viewport.scrollLeft+u.deltaX;e.onWheelScroll(m),KM(m,h)&&u.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&n({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:kp(o.paddingLeft),paddingEnd:kp(o.paddingRight)}})}})}),FH=f.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,i=_s(Ca,e.__scopeScrollArea),[o,l]=f.useState(),c=f.useRef(null),d=ct(t,c,i.onScrollbarYChange);return f.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(BM,{"data-orientation":"vertical",...a,ref:d,sizes:r,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Bg(r)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.y),onDragScroll:u=>e.onDragScroll(u.y),onWheelScroll:(u,h)=>{if(i.viewport){const m=i.viewport.scrollTop+u.deltaY;e.onWheelScroll(m),KM(m,h)&&u.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&n({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:kp(o.paddingTop),paddingEnd:kp(o.paddingBottom)}})}})}),[LH,UM]=IM(Ca),BM=f.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:a,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:d,onWheelScroll:u,onResize:h,...m}=e,p=_s(Ca,r),[w,v]=f.useState(null),g=ct(t,U=>v(U)),y=f.useRef(null),x=f.useRef(""),b=p.viewport,_=n.content-n.viewport,N=jr(u),k=jr(c),S=qg(h,10);function R(U){if(y.current){const B=U.clientX-y.current.left,re=U.clientY-y.current.top;d({x:B,y:re})}}return f.useEffect(()=>{const U=B=>{const re=B.target;(w==null?void 0:w.contains(re))&&N(B,_)};return document.addEventListener("wheel",U,{passive:!1}),()=>document.removeEventListener("wheel",U,{passive:!1})},[b,w,_,N]),f.useEffect(k,[n,k]),pd(w,S),pd(p.content,S),s.jsx(LH,{scope:r,scrollbar:w,hasThumb:a,onThumbChange:jr(i),onThumbPointerUp:jr(o),onThumbPositionChange:k,onThumbPointerDown:jr(l),children:s.jsx(Le.div,{...m,ref:g,style:{position:"absolute",...m.style},onPointerDown:Se(e.onPointerDown,U=>{U.button===0&&(U.target.setPointerCapture(U.pointerId),y.current=w.getBoundingClientRect(),x.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),R(U))}),onPointerMove:Se(e.onPointerMove,R),onPointerUp:Se(e.onPointerUp,U=>{const B=U.target;B.hasPointerCapture(U.pointerId)&&B.releasePointerCapture(U.pointerId),document.body.style.webkitUserSelect=x.current,p.viewport&&(p.viewport.style.scrollBehavior=""),y.current=null})})})}),Cp="ScrollAreaThumb",qM=f.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=UM(Cp,e.__scopeScrollArea);return s.jsx(sn,{present:r||a.hasThumb,children:s.jsx($H,{ref:t,...n})})}),$H=f.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...a}=e,i=_s(Cp,r),o=UM(Cp,r),{onThumbPositionChange:l}=o,c=ct(t,h=>o.onThumbChange(h)),d=f.useRef(void 0),u=qg(()=>{d.current&&(d.current(),d.current=void 0)},100);return f.useEffect(()=>{const h=i.viewport;if(h){const m=()=>{if(u(),!d.current){const p=BH(h,l);d.current=p,l()}};return l(),h.addEventListener("scroll",m),()=>h.removeEventListener("scroll",m)}},[i.viewport,u,l]),s.jsx(Le.div,{"data-state":o.hasThumb?"visible":"hidden",...a,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:Se(e.onPointerDownCapture,h=>{const p=h.target.getBoundingClientRect(),w=h.clientX-p.left,v=h.clientY-p.top;o.onThumbPointerDown({x:w,y:v})}),onPointerUp:Se(e.onPointerUp,o.onThumbPointerUp)})});qM.displayName=Cp;var oj="ScrollAreaCorner",VM=f.forwardRef((e,t)=>{const r=_s(oj,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?s.jsx(zH,{...e,ref:t}):null});VM.displayName=oj;var zH=f.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,a=_s(oj,r),[i,o]=f.useState(0),[l,c]=f.useState(0),d=!!(i&&l);return pd(a.scrollbarX,()=>{var h;const u=((h=a.scrollbarX)==null?void 0:h.offsetHeight)||0;a.onCornerHeightChange(u),c(u)}),pd(a.scrollbarY,()=>{var h;const u=((h=a.scrollbarY)==null?void 0:h.offsetWidth)||0;a.onCornerWidthChange(u),o(u)}),d?s.jsx(Le.div,{...n,ref:t,style:{width:i,height:l,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function kp(e){return e?parseInt(e,10):0}function WM(e,t){const r=e/t;return isNaN(r)?0:r}function Bg(e){const t=WM(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function UH(e,t,r,n="ltr"){const a=Bg(r),i=a/2,o=t||i,l=a-o,c=r.scrollbar.paddingStart+o,d=r.scrollbar.size-r.scrollbar.paddingEnd-l,u=r.content-r.viewport,h=n==="ltr"?[0,u]:[u*-1,0];return HM([c,d],h)(e)}function rS(e,t,r="ltr"){const n=Bg(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-a,o=t.content-t.viewport,l=i-n,c=r==="ltr"?[0,o]:[o*-1,0],d=I0(e,c);return HM([0,o],[0,l])(d)}function HM(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function KM(e,t){return e>0&&e<t}var BH=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function a(){const i={left:e.scrollLeft,top:e.scrollTop},o=r.left!==i.left,l=r.top!==i.top;(o||l)&&t(),r=i,n=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(n)};function qg(e,t){const r=jr(e),n=f.useRef(0);return f.useEffect(()=>()=>window.clearTimeout(n.current),[]),f.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function pd(e,t){const r=jr(t);kr(()=>{let n=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return a.observe(e),()=>{window.cancelAnimationFrame(n),a.unobserve(e)}}},[e,r])}var GM=FM,qH=$M,VH=VM;const YM=f.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(GM,{ref:n,className:le("relative overflow-hidden",e),...r,children:[s.jsx(qH,{className:"h-full w-full rounded-[inherit]",children:t}),s.jsx(QM,{}),s.jsx(VH,{})]}));YM.displayName=GM.displayName;const QM=f.forwardRef(({className:e,orientation:t="vertical",...r},n)=>s.jsx(aj,{ref:n,orientation:t,className:le("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:s.jsx(qM,{className:"relative flex-1 rounded-full bg-border"})}));QM.displayName=aj.displayName;function WH(){const[e,t]=f.useState(!1),[r,n]=f.useState(""),[a,i]=f.useState([{id:"hello",role:"assistant",content:"Olá! Sou seu assistente. Como posso ajudar?"}]),o=f.useRef(null),{user:l}=ar(),c=Xs(),{data:d}=Ze({queryKey:["roles",l==null?void 0:l.id],enabled:!!(l!=null&&l.id),queryFn:async()=>{const{data:p,error:w}=await L.from("user_roles").select("role").eq("user_id",l.id);if(w)throw w;return p}}),u=(d||[]).some(p=>p.role==="musician"),h=c.pathname.startsWith("/musician");f.useEffect(()=>{var p;(p=o.current)==null||p.scrollIntoView({behavior:"smooth"})},[a.length,e]);const m=()=>{const p=r.trim();p&&(i(w=>[...w,{id:crypto.randomUUID(),role:"user",content:p},{id:crypto.randomUUID(),role:"assistant",content:"Obrigado! Em breve responderei com mais recursos."}]),n(""))};return!l||!u||!h?null:s.jsxs("div",{className:"fixed bottom-8 right-4 z-50",children:[!e&&s.jsx(O,{"aria-label":"Abrir assistente",className:"h-12 w-12 rounded-full shadow-lg",onClick:()=>t(!0),children:s.jsx(X3,{className:"h-5 w-5"})}),e&&s.jsxs(et,{className:"w-[320px] sm:w-[360px] h-[440px] shadow-2xl flex flex-col",children:[s.jsxs(Xt,{className:"py-3 px-4 border-b flex flex-row items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(U3,{className:"h-5 w-5 text-emerald-600 dark:text-emerald-400"}),s.jsx(lr,{className:"text-base text-emerald-600 dark:text-emerald-400",children:"Assistente AVAPlay"})]}),s.jsx(O,{variant:"ghost",size:"icon","aria-label":"Fechar",onClick:()=>t(!1),children:s.jsx(Mr,{className:"h-4 w-4"})})]}),s.jsxs(tt,{className:"p-0 flex-1 min-h-0 flex flex-col",children:[s.jsx(YM,{className:"flex-1 min-h-0 p-3",children:s.jsxs("div",{className:"space-y-3",children:[a.map(p=>s.jsx("div",{className:p.role==="user"?"text-right":"text-left",children:s.jsx("span",{className:"inline-block px-3 py-2 rounded-md text-sm "+(p.role==="user"?"bg-primary text-primary-foreground":"bg-muted text-foreground"),children:p.content})},p.id)),s.jsx("div",{ref:o})]})}),s.jsxs("div",{className:"p-3 border-t flex items-center gap-2",children:[s.jsx(Ie,{placeholder:"Digite sua mensagem...",value:r,onChange:p=>n(p.target.value),onKeyDown:p=>{p.key==="Enter"&&m()}}),s.jsx(O,{type:"button",onClick:m,"aria-label":"Enviar",children:s.jsx(eF,{className:"h-4 w-4"})})]})]})]})]})}function HH(){var w,v,g;const{mid:e}=bb(),t=Or(),{user:r}=ar(),[n,a]=f.useState(!1),i=((w=r==null?void 0:r.user_metadata)==null?void 0:w.full_name)||(r==null?void 0:r.email)||"Usuário",o=((v=r==null?void 0:r.user_metadata)==null?void 0:v.avatar_url)||void 0,l=async()=>{await L.auth.signOut(),t("/")},{data:c}=XT(e);f.useEffect(()=>{ZT(e).catch(()=>{})},[e]);const d=c!=null&&c.display_name?`Agenda de ${c.display_name}`:"Agenda do músico";if(e&&!c)return s.jsx(oi,{children:s.jsx("div",{className:"min-h-screen flex w-full bg-background",children:s.jsxs("main",{className:"flex-1",children:[s.jsx(Zt,{title:"Perfil indisponível",description:"Este usuário não está disponível no momento."}),s.jsx("section",{className:"max-w-5xl mx-auto px-4 py-12",children:s.jsx(et,{className:"border-0 shadow-none",children:s.jsxs(tt,{className:"p-6 text-center space-y-4",children:[s.jsx("h1",{className:"text-2xl font-semibold",children:"Usuário indisponível"}),s.jsx("p",{className:"text-muted-foreground",children:"No momento, este usuário não está disponível. Ele pode estar concluindo o cadastro ou ter desativado o perfil."}),s.jsx(O,{asChild:!0,children:s.jsx(Qt,{to:"/",children:"Voltar para a página inicial"})})]})})})]})})});const{data:u}=Ze({queryKey:["roles",r==null?void 0:r.id],enabled:!!(r!=null&&r.id),queryFn:async()=>{const{data:y,error:x}=await L.from("user_roles").select("role").eq("user_id",r.id);if(x)throw x;return y}}),h=(u||[]).some(y=>y.role==="musician"),{data:m,isLoading:p}=Ze({queryKey:["public-schedules",e],enabled:!!e,queryFn:async()=>{const{data:y}=await L.from("profiles").select("id").eq("id",e).eq("is_active",!0).maybeSingle();if(!y)return[];const{data:x,error:b}=await L.from("schedules").select("id, title, location, start_time").eq("musician_id",e).eq("is_public",!0).order("start_time",{ascending:!0});if(b)throw b;return x}});return s.jsx(oi,{children:s.jsxs("div",{className:"min-h-screen flex w-full bg-background",children:[h?s.jsx(Jf,{}):null,s.jsxs("main",{className:"flex-1",children:[s.jsx(Zt,{title:d,description:"Acompanhe a agenda pública do músico."}),s.jsx("header",{children:s.jsx("nav",{className:"max-w-5xl mx-auto flex items-center justify-between p-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[(h||!!r)&&s.jsx(Dd,{className:"mr-1"}),s.jsx(Qt,{to:"/",className:"font-semibold",children:s.jsx("img",{src:"/logo_avaplay.png",alt:"AVAPlay",className:"h-6"})})]})})}),r&&s.jsx(zs,{open:n,onOpenChange:a,children:s.jsx(ms,{side:"left",className:"w-[16rem] p-0",children:s.jsxs("nav",{className:"p-2",children:[s.jsxs("div",{className:"flex items-center gap-3 p-3 border-b mb-2",children:[s.jsxs(Ft,{className:"h-10 w-10",isPro:!!((g=r==null?void 0:r.user_metadata)!=null&&g.is_pro),children:[s.jsx(Lt,{src:o,alt:i??"Usuário"}),s.jsx($t,{children:(i||"U").charAt(0).toUpperCase()})]}),s.jsx("div",{className:"min-w-0",children:s.jsx("p",{className:"text-sm font-medium truncate",children:i})})]}),h&&s.jsx(O,{variant:"ghost",className:"w-full justify-start",onClick:()=>{a(!1),t("/musician")},children:"Painel"}),s.jsx(O,{variant:"ghost",className:"w-full justify-start",onClick:()=>{a(!1),t("/requests")},children:"Meus Pedidos"}),s.jsx(O,{variant:"ghost",className:"w-full justify-start",onClick:()=>{a(!1),t("/conexoes")},children:"Conexões"}),s.jsx(O,{variant:"ghost",className:"w-full justify-start",onClick:()=>{a(!1),t("/musician/profile")},children:"Editar perfil"}),s.jsx(O,{variant:"ghost",className:"w-full justify-start",onClick:()=>{a(!1),l()},children:"Sair"}),s.jsx(AM,{})]})})}),s.jsxs("section",{className:"max-w-5xl mx-auto px-4 py-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h1",{className:"text-2xl font-semibold",children:d}),s.jsxs("div",{className:"flex gap-2",children:[e&&s.jsx(O,{variant:"outline",asChild:!0,children:s.jsx(Qt,{to:`/m/${e}`,children:"Página do músico"})}),s.jsx(O,{variant:"secondary",onClick:()=>t("/"),children:"Início"})]})]}),s.jsxs(et,{children:[s.jsx(Xt,{children:s.jsx(lr,{children:"Próximos eventos"})}),s.jsx(tt,{children:p?s.jsx("p",{className:"text-muted-foreground",children:"Carregando agenda..."}):m!=null&&m.length?s.jsx("ul",{className:"space-y-3",children:m.map(y=>s.jsxs("li",{className:"flex items-center justify-between border rounded-md p-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:new Date(y.start_time).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"})}),s.jsx("p",{className:"text-sm text-muted-foreground",children:y.location||"Local a definir"})]}),s.jsx("span",{className:"text-sm",children:y.title||"Evento"})]},y.id))}):s.jsx("p",{className:"text-muted-foreground",children:"Nenhum evento público cadastrado."})})]})]})]})]})})}const KH=()=>{const e=Xs();return f.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),s.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),s.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})};function GH({userId:e,isMusician:t,profileData:r,exists:n}){const a=is(),i=f.useMemo(()=>{if(!t)return!0;const o=r.whatsapp.replace(/\D/g,"");return!!((r.displayName||"").trim()&&(r.avatarUrl||"").trim()&&(r.coverUrl||"").trim()&&(r.description||"").trim()&&(r.username||"").trim()&&o)},[t,r]);return f.useEffect(()=>{i&&(async()=>{if(!(!e||!t||!n||!i))try{const{data:l,error:c}=await L.from("profiles").select("is_active").eq("id",e).maybeSingle();if(c)throw c;if(l!=null&&l.is_active)return;const{error:d}=await L.from("profiles").update({is_active:!0}).eq("id",e);if(d)throw d;a.invalidateQueries({queryKey:["profiles",e]}),a.invalidateQueries({queryKey:["profile-status",e]}),oe({title:"Conta ativada!",description:"Seu perfil agora está ativo e será exibido publicamente."})}catch(l){console.error("Erro ao ativar perfil:",l)}})()},[e,t,n,i,a]),{isActiveComputed:i,checkAndActivate:async()=>{if(!e||!t||!n)return!1;try{const{error:o}=await L.from("profiles").update({is_active:i}).eq("id",e);if(o)throw o;return a.invalidateQueries({queryKey:["profiles",e]}),a.invalidateQueries({queryKey:["profile-status",e]}),!0}catch(o){return console.error("Erro ao verificar/ativar perfil:",o),!1}}}}const YH=e=>{const[t,r]=f.useState(!1),[n,a]=f.useState(null),{toast:i}=Qs();return{uploadFile:async(l,c,d="")=>{var u;if(!e)throw new Error("Usuário não autenticado");r(!0),a(null);try{if(!["image/jpeg","image/png","image/webp","application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document"].includes(l.type))throw new Error("Tipo de arquivo não suportado. Use JPEG, PNG, WebP, PDF, DOC ou DOCX.");const m=5*1024*1024;if(l.size>m)throw new Error("Arquivo muito grande. Máximo de 5MB permitido.");const p=(u=l.name.split(".").pop())==null?void 0:u.toLowerCase(),w=Date.now(),v=Math.random().toString(36).substring(2,15),g=d?`${d}/`:"",y=`${e}/${g}${w}_${v}.${p}`,{data:x,error:b}=await L.storage.from(c).upload(y,l,{cacheControl:"3600",upsert:!1});if(b)throw b;const{data:_}=L.storage.from(c).getPublicUrl(x.path);return i({title:"Arquivo enviado com sucesso!",description:`${l.name} foi carregado.`}),_.publicUrl}catch(h){const m=h.message||"Erro desconhecido no upload";throw a(m),i({title:"Erro no upload",description:m,variant:"destructive"}),h}finally{r(!1)}},uploading:t,error:n}};var QH=Object.defineProperty,Ep=Object.getOwnPropertySymbols,XM=Object.prototype.hasOwnProperty,ZM=Object.prototype.propertyIsEnumerable,nS=(e,t,r)=>t in e?QH(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,XH=(e,t)=>{for(var r in t||(t={}))XM.call(t,r)&&nS(e,r,t[r]);if(Ep)for(var r of Ep(t))ZM.call(t,r)&&nS(e,r,t[r]);return e},ZH=(e,t)=>{var r={};for(var n in e)XM.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&Ep)for(var n of Ep(e))t.indexOf(n)<0&&ZM.call(e,n)&&(r[n]=e[n]);return r};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var xl;(e=>{const t=class{constructor(c,d,u,h){if(this.version=c,this.errorCorrectionLevel=d,this.modules=[],this.isFunction=[],c<t.MIN_VERSION||c>t.MAX_VERSION)throw new RangeError("Version value out of range");if(h<-1||h>7)throw new RangeError("Mask value out of range");this.size=c*4+17;let m=[];for(let w=0;w<this.size;w++)m.push(!1);for(let w=0;w<this.size;w++)this.modules.push(m.slice()),this.isFunction.push(m.slice());this.drawFunctionPatterns();const p=this.addEccAndInterleave(u);if(this.drawCodewords(p),h==-1){let w=1e9;for(let v=0;v<8;v++){this.applyMask(v),this.drawFormatBits(v);const g=this.getPenaltyScore();g<w&&(h=v,w=g),this.applyMask(v)}}i(0<=h&&h<=7),this.mask=h,this.applyMask(h),this.drawFormatBits(h),this.isFunction=[]}static encodeText(c,d){const u=e.QrSegment.makeSegments(c);return t.encodeSegments(u,d)}static encodeBinary(c,d){const u=e.QrSegment.makeBytes(c);return t.encodeSegments([u],d)}static encodeSegments(c,d,u=1,h=40,m=-1,p=!0){if(!(t.MIN_VERSION<=u&&u<=h&&h<=t.MAX_VERSION)||m<-1||m>7)throw new RangeError("Invalid value");let w,v;for(w=u;;w++){const b=t.getNumDataCodewords(w,d)*8,_=l.getTotalBits(c,w);if(_<=b){v=_;break}if(w>=h)throw new RangeError("Data too long")}for(const b of[t.Ecc.MEDIUM,t.Ecc.QUARTILE,t.Ecc.HIGH])p&&v<=t.getNumDataCodewords(w,b)*8&&(d=b);let g=[];for(const b of c){n(b.mode.modeBits,4,g),n(b.numChars,b.mode.numCharCountBits(w),g);for(const _ of b.getData())g.push(_)}i(g.length==v);const y=t.getNumDataCodewords(w,d)*8;i(g.length<=y),n(0,Math.min(4,y-g.length),g),n(0,(8-g.length%8)%8,g),i(g.length%8==0);for(let b=236;g.length<y;b^=253)n(b,8,g);let x=[];for(;x.length*8<g.length;)x.push(0);return g.forEach((b,_)=>x[_>>>3]|=b<<7-(_&7)),new t(w,d,x,m)}getModule(c,d){return 0<=c&&c<this.size&&0<=d&&d<this.size&&this.modules[d][c]}getModules(){return this.modules}drawFunctionPatterns(){for(let u=0;u<this.size;u++)this.setFunctionModule(6,u,u%2==0),this.setFunctionModule(u,6,u%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const c=this.getAlignmentPatternPositions(),d=c.length;for(let u=0;u<d;u++)for(let h=0;h<d;h++)u==0&&h==0||u==0&&h==d-1||u==d-1&&h==0||this.drawAlignmentPattern(c[u],c[h]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(c){const d=this.errorCorrectionLevel.formatBits<<3|c;let u=d;for(let m=0;m<10;m++)u=u<<1^(u>>>9)*1335;const h=(d<<10|u)^21522;i(h>>>15==0);for(let m=0;m<=5;m++)this.setFunctionModule(8,m,a(h,m));this.setFunctionModule(8,7,a(h,6)),this.setFunctionModule(8,8,a(h,7)),this.setFunctionModule(7,8,a(h,8));for(let m=9;m<15;m++)this.setFunctionModule(14-m,8,a(h,m));for(let m=0;m<8;m++)this.setFunctionModule(this.size-1-m,8,a(h,m));for(let m=8;m<15;m++)this.setFunctionModule(8,this.size-15+m,a(h,m));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let c=this.version;for(let u=0;u<12;u++)c=c<<1^(c>>>11)*7973;const d=this.version<<12|c;i(d>>>18==0);for(let u=0;u<18;u++){const h=a(d,u),m=this.size-11+u%3,p=Math.floor(u/3);this.setFunctionModule(m,p,h),this.setFunctionModule(p,m,h)}}drawFinderPattern(c,d){for(let u=-4;u<=4;u++)for(let h=-4;h<=4;h++){const m=Math.max(Math.abs(h),Math.abs(u)),p=c+h,w=d+u;0<=p&&p<this.size&&0<=w&&w<this.size&&this.setFunctionModule(p,w,m!=2&&m!=4)}}drawAlignmentPattern(c,d){for(let u=-2;u<=2;u++)for(let h=-2;h<=2;h++)this.setFunctionModule(c+h,d+u,Math.max(Math.abs(h),Math.abs(u))!=1)}setFunctionModule(c,d,u){this.modules[d][c]=u,this.isFunction[d][c]=!0}addEccAndInterleave(c){const d=this.version,u=this.errorCorrectionLevel;if(c.length!=t.getNumDataCodewords(d,u))throw new RangeError("Invalid argument");const h=t.NUM_ERROR_CORRECTION_BLOCKS[u.ordinal][d],m=t.ECC_CODEWORDS_PER_BLOCK[u.ordinal][d],p=Math.floor(t.getNumRawDataModules(d)/8),w=h-p%h,v=Math.floor(p/h);let g=[];const y=t.reedSolomonComputeDivisor(m);for(let b=0,_=0;b<h;b++){let N=c.slice(_,_+v-m+(b<w?0:1));_+=N.length;const k=t.reedSolomonComputeRemainder(N,y);b<w&&N.push(0),g.push(N.concat(k))}let x=[];for(let b=0;b<g[0].length;b++)g.forEach((_,N)=>{(b!=v-m||N>=w)&&x.push(_[b])});return i(x.length==p),x}drawCodewords(c){if(c.length!=Math.floor(t.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let d=0;for(let u=this.size-1;u>=1;u-=2){u==6&&(u=5);for(let h=0;h<this.size;h++)for(let m=0;m<2;m++){const p=u-m,v=(u+1&2)==0?this.size-1-h:h;!this.isFunction[v][p]&&d<c.length*8&&(this.modules[v][p]=a(c[d>>>3],7-(d&7)),d++)}}i(d==c.length*8)}applyMask(c){if(c<0||c>7)throw new RangeError("Mask value out of range");for(let d=0;d<this.size;d++)for(let u=0;u<this.size;u++){let h;switch(c){case 0:h=(u+d)%2==0;break;case 1:h=d%2==0;break;case 2:h=u%3==0;break;case 3:h=(u+d)%3==0;break;case 4:h=(Math.floor(u/3)+Math.floor(d/2))%2==0;break;case 5:h=u*d%2+u*d%3==0;break;case 6:h=(u*d%2+u*d%3)%2==0;break;case 7:h=((u+d)%2+u*d%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[d][u]&&h&&(this.modules[d][u]=!this.modules[d][u])}}getPenaltyScore(){let c=0;for(let m=0;m<this.size;m++){let p=!1,w=0,v=[0,0,0,0,0,0,0];for(let g=0;g<this.size;g++)this.modules[m][g]==p?(w++,w==5?c+=t.PENALTY_N1:w>5&&c++):(this.finderPenaltyAddHistory(w,v),p||(c+=this.finderPenaltyCountPatterns(v)*t.PENALTY_N3),p=this.modules[m][g],w=1);c+=this.finderPenaltyTerminateAndCount(p,w,v)*t.PENALTY_N3}for(let m=0;m<this.size;m++){let p=!1,w=0,v=[0,0,0,0,0,0,0];for(let g=0;g<this.size;g++)this.modules[g][m]==p?(w++,w==5?c+=t.PENALTY_N1:w>5&&c++):(this.finderPenaltyAddHistory(w,v),p||(c+=this.finderPenaltyCountPatterns(v)*t.PENALTY_N3),p=this.modules[g][m],w=1);c+=this.finderPenaltyTerminateAndCount(p,w,v)*t.PENALTY_N3}for(let m=0;m<this.size-1;m++)for(let p=0;p<this.size-1;p++){const w=this.modules[m][p];w==this.modules[m][p+1]&&w==this.modules[m+1][p]&&w==this.modules[m+1][p+1]&&(c+=t.PENALTY_N2)}let d=0;for(const m of this.modules)d=m.reduce((p,w)=>p+(w?1:0),d);const u=this.size*this.size,h=Math.ceil(Math.abs(d*20-u*10)/u)-1;return i(0<=h&&h<=9),c+=h*t.PENALTY_N4,i(0<=c&&c<=2568888),c}getAlignmentPatternPositions(){if(this.version==1)return[];{const c=Math.floor(this.version/7)+2,d=this.version==32?26:Math.ceil((this.version*4+4)/(c*2-2))*2;let u=[6];for(let h=this.size-7;u.length<c;h-=d)u.splice(1,0,h);return u}}static getNumRawDataModules(c){if(c<t.MIN_VERSION||c>t.MAX_VERSION)throw new RangeError("Version number out of range");let d=(16*c+128)*c+64;if(c>=2){const u=Math.floor(c/7)+2;d-=(25*u-10)*u-55,c>=7&&(d-=36)}return i(208<=d&&d<=29648),d}static getNumDataCodewords(c,d){return Math.floor(t.getNumRawDataModules(c)/8)-t.ECC_CODEWORDS_PER_BLOCK[d.ordinal][c]*t.NUM_ERROR_CORRECTION_BLOCKS[d.ordinal][c]}static reedSolomonComputeDivisor(c){if(c<1||c>255)throw new RangeError("Degree out of range");let d=[];for(let h=0;h<c-1;h++)d.push(0);d.push(1);let u=1;for(let h=0;h<c;h++){for(let m=0;m<d.length;m++)d[m]=t.reedSolomonMultiply(d[m],u),m+1<d.length&&(d[m]^=d[m+1]);u=t.reedSolomonMultiply(u,2)}return d}static reedSolomonComputeRemainder(c,d){let u=d.map(h=>0);for(const h of c){const m=h^u.shift();u.push(0),d.forEach((p,w)=>u[w]^=t.reedSolomonMultiply(p,m))}return u}static reedSolomonMultiply(c,d){if(c>>>8||d>>>8)throw new RangeError("Byte out of range");let u=0;for(let h=7;h>=0;h--)u=u<<1^(u>>>7)*285,u^=(d>>>h&1)*c;return i(u>>>8==0),u}finderPenaltyCountPatterns(c){const d=c[1];i(d<=this.size*3);const u=d>0&&c[2]==d&&c[3]==d*3&&c[4]==d&&c[5]==d;return(u&&c[0]>=d*4&&c[6]>=d?1:0)+(u&&c[6]>=d*4&&c[0]>=d?1:0)}finderPenaltyTerminateAndCount(c,d,u){return c&&(this.finderPenaltyAddHistory(d,u),d=0),d+=this.size,this.finderPenaltyAddHistory(d,u),this.finderPenaltyCountPatterns(u)}finderPenaltyAddHistory(c,d){d[0]==0&&(c+=this.size),d.pop(),d.unshift(c)}};let r=t;r.MIN_VERSION=1,r.MAX_VERSION=40,r.PENALTY_N1=3,r.PENALTY_N2=3,r.PENALTY_N3=40,r.PENALTY_N4=10,r.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],r.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=r;function n(c,d,u){if(d<0||d>31||c>>>d)throw new RangeError("Value out of range");for(let h=d-1;h>=0;h--)u.push(c>>>h&1)}function a(c,d){return(c>>>d&1)!=0}function i(c){if(!c)throw new Error("Assertion error")}const o=class{constructor(c,d,u){if(this.mode=c,this.numChars=d,this.bitData=u,d<0)throw new RangeError("Invalid argument");this.bitData=u.slice()}static makeBytes(c){let d=[];for(const u of c)n(u,8,d);return new o(o.Mode.BYTE,c.length,d)}static makeNumeric(c){if(!o.isNumeric(c))throw new RangeError("String contains non-numeric characters");let d=[];for(let u=0;u<c.length;){const h=Math.min(c.length-u,3);n(parseInt(c.substr(u,h),10),h*3+1,d),u+=h}return new o(o.Mode.NUMERIC,c.length,d)}static makeAlphanumeric(c){if(!o.isAlphanumeric(c))throw new RangeError("String contains unencodable characters in alphanumeric mode");let d=[],u;for(u=0;u+2<=c.length;u+=2){let h=o.ALPHANUMERIC_CHARSET.indexOf(c.charAt(u))*45;h+=o.ALPHANUMERIC_CHARSET.indexOf(c.charAt(u+1)),n(h,11,d)}return u<c.length&&n(o.ALPHANUMERIC_CHARSET.indexOf(c.charAt(u)),6,d),new o(o.Mode.ALPHANUMERIC,c.length,d)}static makeSegments(c){return c==""?[]:o.isNumeric(c)?[o.makeNumeric(c)]:o.isAlphanumeric(c)?[o.makeAlphanumeric(c)]:[o.makeBytes(o.toUtf8ByteArray(c))]}static makeEci(c){let d=[];if(c<0)throw new RangeError("ECI assignment value out of range");if(c<128)n(c,8,d);else if(c<16384)n(2,2,d),n(c,14,d);else if(c<1e6)n(6,3,d),n(c,21,d);else throw new RangeError("ECI assignment value out of range");return new o(o.Mode.ECI,0,d)}static isNumeric(c){return o.NUMERIC_REGEX.test(c)}static isAlphanumeric(c){return o.ALPHANUMERIC_REGEX.test(c)}getData(){return this.bitData.slice()}static getTotalBits(c,d){let u=0;for(const h of c){const m=h.mode.numCharCountBits(d);if(h.numChars>=1<<m)return 1/0;u+=4+m+h.bitData.length}return u}static toUtf8ByteArray(c){c=encodeURI(c);let d=[];for(let u=0;u<c.length;u++)c.charAt(u)!="%"?d.push(c.charCodeAt(u)):(d.push(parseInt(c.substr(u+1,2),16)),u+=2);return d}};let l=o;l.NUMERIC_REGEX=/^[0-9]*$/,l.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,l.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",e.QrSegment=l})(xl||(xl={}));(e=>{(t=>{const r=class{constructor(a,i){this.ordinal=a,this.formatBits=i}};let n=r;n.LOW=new r(0,1),n.MEDIUM=new r(1,0),n.QUARTILE=new r(2,3),n.HIGH=new r(3,2),t.Ecc=n})(e.QrCode||(e.QrCode={}))})(xl||(xl={}));(e=>{(t=>{const r=class{constructor(a,i){this.modeBits=a,this.numBitsCharCount=i}numCharCountBits(a){return this.numBitsCharCount[Math.floor((a+7)/17)]}};let n=r;n.NUMERIC=new r(1,[10,12,14]),n.ALPHANUMERIC=new r(2,[9,11,13]),n.BYTE=new r(4,[8,16,16]),n.KANJI=new r(8,[8,10,12]),n.ECI=new r(7,[0,0,0]),t.Mode=n})(e.QrSegment||(e.QrSegment={}))})(xl||(xl={}));var ku=xl;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var JH={L:ku.QrCode.Ecc.LOW,M:ku.QrCode.Ecc.MEDIUM,Q:ku.QrCode.Ecc.QUARTILE,H:ku.QrCode.Ecc.HIGH},eK=128,tK="L",rK="#FFFFFF",nK="#000000",sK=!1,JM=4,aK=.1;function iK(e,t=0){const r=[];return e.forEach(function(n,a){let i=null;n.forEach(function(o,l){if(!o&&i!==null){r.push(`M${i+t} ${a+t}h${l-i}v1H${i+t}z`),i=null;return}if(l===n.length-1){if(!o)return;i===null?r.push(`M${l+t},${a+t} h1v1H${l+t}z`):r.push(`M${i+t},${a+t} h${l+1-i}v1H${i+t}z`);return}o&&i===null&&(i=l)})}),r.join("")}function oK(e,t){return e.slice().map((r,n)=>n<t.y||n>=t.y+t.h?r:r.map((a,i)=>i<t.x||i>=t.x+t.w?a:!1))}function lK(e,t,r,n){if(n==null)return null;const a=r?JM:0,i=e.length+a*2,o=Math.floor(t*aK),l=i/t,c=(n.width||o)*l,d=(n.height||o)*l,u=n.x==null?e.length/2-c/2:n.x*l,h=n.y==null?e.length/2-d/2:n.y*l;let m=null;if(n.excavate){let p=Math.floor(u),w=Math.floor(h),v=Math.ceil(c+u-p),g=Math.ceil(d+h-w);m={x:p,y:w,w:v,h:g}}return{x:u,y:h,h:d,w:c,excavation:m}}(function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0})();function e4(e){const t=e,{value:r,size:n=eK,level:a=tK,bgColor:i=rK,fgColor:o=nK,includeMargin:l=sK,imageSettings:c}=t,d=ZH(t,["value","size","level","bgColor","fgColor","includeMargin","imageSettings"]);let u=ku.QrCode.encodeText(r,JH[a]).getModules();const h=l?JM:0,m=u.length+h*2,p=lK(u,n,l,c);let w=null;c!=null&&p!=null&&(p.excavation!=null&&(u=oK(u,p.excavation)),w=he.createElement("image",{xlinkHref:c.src,height:p.h,width:p.w,x:p.x+h,y:p.y+h,preserveAspectRatio:"none"}));const v=iK(u,h);return he.createElement("svg",XH({height:n,width:n,viewBox:`0 0 ${m} ${m}`},d),he.createElement("path",{fill:i,d:`M0,0 h${m}v${m}H0z`,shapeRendering:"crispEdges"}),he.createElement("path",{fill:o,d:v,shapeRendering:"crispEdges"}),w)}const cK=Tl("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Vg=f.forwardRef(({className:e,variant:t,...r},n)=>s.jsx("div",{ref:n,role:"alert",className:le(cK({variant:t}),e),...r}));Vg.displayName="Alert";const t4=f.forwardRef(({className:e,...t},r)=>s.jsx("h5",{ref:r,className:le("mb-1 font-medium leading-none tracking-tight",e),...t}));t4.displayName="AlertTitle";const Wg=f.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:le("text-sm [&_p]:leading-relaxed",e),...t}));Wg.displayName="AlertDescription";function r4(e){const t=f.useRef({value:e,previous:e});return f.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var dK=[" ","Enter","ArrowUp","ArrowDown"],uK=[" ","Enter"],yl="Select",[Hg,Kg,fK]=rg(yl),[Ld,_Q]=Cn(yl,[fK,No]),Gg=No(),[hK,ko]=Ld(yl),[mK,pK]=Ld(yl),n4=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:a,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:d,name:u,autoComplete:h,disabled:m,required:p,form:w}=e,v=Gg(t),[g,y]=f.useState(null),[x,b]=f.useState(null),[_,N]=f.useState(!1),k=ih(d),[S,R]=ba({prop:n,defaultProp:a??!1,onChange:i,caller:yl}),[U,B]=ba({prop:o,defaultProp:l,onChange:c,caller:yl}),re=f.useRef(null),G=g?w||!!g.closest("form"):!0,[H,V]=f.useState(new Set),se=Array.from(H).map(te=>te.props.value).join(";");return s.jsx(fg,{...v,children:s.jsxs(hK,{required:p,scope:t,trigger:g,onTriggerChange:y,valueNode:x,onValueNodeChange:b,valueNodeHasChildren:_,onValueNodeHasChildrenChange:N,contentId:en(),value:U,onValueChange:B,open:S,onOpenChange:R,dir:k,triggerPointerDownPosRef:re,disabled:m,children:[s.jsx(Hg.Provider,{scope:t,children:s.jsx(mK,{scope:e.__scopeSelect,onNativeOptionAdd:f.useCallback(te=>{V(J=>new Set(J).add(te))},[]),onNativeOptionRemove:f.useCallback(te=>{V(J=>{const I=new Set(J);return I.delete(te),I})},[]),children:r})}),G?s.jsxs(k4,{"aria-hidden":!0,required:p,tabIndex:-1,name:u,autoComplete:h,value:U,onChange:te=>B(te.target.value),disabled:m,form:w,children:[U===void 0?s.jsx("option",{value:""}):null,Array.from(H)]},se):null]})})};n4.displayName=yl;var s4="SelectTrigger",a4=f.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...a}=e,i=Gg(r),o=ko(s4,r),l=o.disabled||n,c=ct(t,o.onTriggerChange),d=Kg(r),u=f.useRef("touch"),[h,m,p]=P4(v=>{const g=d().filter(b=>!b.disabled),y=g.find(b=>b.value===o.value),x=T4(g,v,y);x!==void 0&&o.onValueChange(x.value)}),w=v=>{l||(o.onOpenChange(!0),p()),v&&(o.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return s.jsx(Hf,{asChild:!0,...i,children:s.jsx(Le.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":E4(o.value)?"":void 0,...a,ref:c,onClick:Se(a.onClick,v=>{v.currentTarget.focus(),u.current!=="mouse"&&w(v)}),onPointerDown:Se(a.onPointerDown,v=>{u.current=v.pointerType;const g=v.target;g.hasPointerCapture(v.pointerId)&&g.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(w(v),v.preventDefault())}),onKeyDown:Se(a.onKeyDown,v=>{const g=h.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&m(v.key),!(g&&v.key===" ")&&dK.includes(v.key)&&(w(),v.preventDefault())})})})});a4.displayName=s4;var i4="SelectValue",o4=f.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,children:i,placeholder:o="",...l}=e,c=ko(i4,r),{onValueNodeHasChildrenChange:d}=c,u=i!==void 0,h=ct(t,c.onValueNodeChange);return kr(()=>{d(u)},[d,u]),s.jsx(Le.span,{...l,ref:h,style:{pointerEvents:"none"},children:E4(c.value)?s.jsx(s.Fragment,{children:o}):i})});o4.displayName=i4;var gK="SelectIcon",l4=f.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...a}=e;return s.jsx(Le.span,{"aria-hidden":!0,...a,ref:t,children:n||"▼"})});l4.displayName=gK;var vK="SelectPortal",c4=e=>s.jsx(_d,{asChild:!0,...e});c4.displayName=vK;var wl="SelectContent",d4=f.forwardRef((e,t)=>{const r=ko(wl,e.__scopeSelect),[n,a]=f.useState();if(kr(()=>{a(new DocumentFragment)},[]),!r.open){const i=n;return i?kl.createPortal(s.jsx(u4,{scope:e.__scopeSelect,children:s.jsx(Hg.Slot,{scope:e.__scopeSelect,children:s.jsx("div",{children:e.children})})}),i):null}return s.jsx(f4,{...e,ref:t})});d4.displayName=wl;var Ms=10,[u4,Eo]=Ld(wl),xK="SelectContentImpl",yK=oo("SelectContent.RemoveScroll"),f4=f.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:h,collisionBoundary:m,collisionPadding:p,sticky:w,hideWhenDetached:v,avoidCollisions:g,...y}=e,x=ko(wl,r),[b,_]=f.useState(null),[N,k]=f.useState(null),S=ct(t,Q=>_(Q)),[R,U]=f.useState(null),[B,re]=f.useState(null),G=Kg(r),[H,V]=f.useState(!1),se=f.useRef(!1);f.useEffect(()=>{if(b)return Tg(b)},[b]),Eg();const te=f.useCallback(Q=>{const[P,...F]=G().map(Ne=>Ne.ref.current),[X]=F.slice(-1),de=document.activeElement;for(const Ne of Q)if(Ne===de||(Ne==null||Ne.scrollIntoView({block:"nearest"}),Ne===P&&N&&(N.scrollTop=0),Ne===X&&N&&(N.scrollTop=N.scrollHeight),Ne==null||Ne.focus(),document.activeElement!==de))return},[G,N]),J=f.useCallback(()=>te([R,b]),[te,R,b]);f.useEffect(()=>{H&&J()},[H,J]);const{onOpenChange:I,triggerPointerDownPosRef:D}=x;f.useEffect(()=>{if(b){let Q={x:0,y:0};const P=X=>{var de,Ne;Q={x:Math.abs(Math.round(X.pageX)-(((de=D.current)==null?void 0:de.x)??0)),y:Math.abs(Math.round(X.pageY)-(((Ne=D.current)==null?void 0:Ne.y)??0))}},F=X=>{Q.x<=10&&Q.y<=10?X.preventDefault():b.contains(X.target)||I(!1),document.removeEventListener("pointermove",P),D.current=null};return D.current!==null&&(document.addEventListener("pointermove",P),document.addEventListener("pointerup",F,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",P),document.removeEventListener("pointerup",F,{capture:!0})}}},[b,I,D]),f.useEffect(()=>{const Q=()=>I(!1);return window.addEventListener("blur",Q),window.addEventListener("resize",Q),()=>{window.removeEventListener("blur",Q),window.removeEventListener("resize",Q)}},[I]);const[C,T]=P4(Q=>{const P=G().filter(de=>!de.disabled),F=P.find(de=>de.ref.current===document.activeElement),X=T4(P,Q,F);X&&setTimeout(()=>X.ref.current.focus())}),A=f.useCallback((Q,P,F)=>{const X=!se.current&&!F;(x.value!==void 0&&x.value===P||X)&&(U(Q),X&&(se.current=!0))},[x.value]),Y=f.useCallback(()=>b==null?void 0:b.focus(),[b]),E=f.useCallback((Q,P,F)=>{const X=!se.current&&!F;(x.value!==void 0&&x.value===P||X)&&re(Q)},[x.value]),$=n==="popper"?F0:h4,Z=$===F0?{side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:h,collisionBoundary:m,collisionPadding:p,sticky:w,hideWhenDetached:v,avoidCollisions:g}:{};return s.jsx(u4,{scope:r,content:b,viewport:N,onViewportChange:k,itemRefCallback:A,selectedItem:R,onItemLeave:Y,itemTextRefCallback:E,focusSelectedItem:J,selectedItemText:B,position:n,isPositioned:H,searchRef:C,children:s.jsx(Qf,{as:yK,allowPinchZoom:!0,children:s.jsx(Yf,{asChild:!0,trapped:x.open,onMountAutoFocus:Q=>{Q.preventDefault()},onUnmountAutoFocus:Se(a,Q=>{var P;(P=x.trigger)==null||P.focus({preventScroll:!0}),Q.preventDefault()}),children:s.jsx(Pl,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:Q=>Q.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:s.jsx($,{role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:Q=>Q.preventDefault(),...y,...Z,onPlaced:()=>V(!0),ref:S,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:Se(y.onKeyDown,Q=>{const P=Q.ctrlKey||Q.altKey||Q.metaKey;if(Q.key==="Tab"&&Q.preventDefault(),!P&&Q.key.length===1&&T(Q.key),["ArrowUp","ArrowDown","Home","End"].includes(Q.key)){let X=G().filter(de=>!de.disabled).map(de=>de.ref.current);if(["ArrowUp","End"].includes(Q.key)&&(X=X.slice().reverse()),["ArrowUp","ArrowDown"].includes(Q.key)){const de=Q.target,Ne=X.indexOf(de);X=X.slice(Ne+1)}setTimeout(()=>te(X)),Q.preventDefault()}})})})})})})});f4.displayName=xK;var wK="SelectItemAlignedPosition",h4=f.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...a}=e,i=ko(wl,r),o=Eo(wl,r),[l,c]=f.useState(null),[d,u]=f.useState(null),h=ct(t,S=>u(S)),m=Kg(r),p=f.useRef(!1),w=f.useRef(!0),{viewport:v,selectedItem:g,selectedItemText:y,focusSelectedItem:x}=o,b=f.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&d&&v&&g&&y){const S=i.trigger.getBoundingClientRect(),R=d.getBoundingClientRect(),U=i.valueNode.getBoundingClientRect(),B=y.getBoundingClientRect();if(i.dir!=="rtl"){const de=B.left-R.left,Ne=U.left-de,me=S.left-Ne,xe=S.width+me,Ye=Math.max(xe,R.width),Nt=window.innerWidth-Ms,kt=I0(Ne,[Ms,Math.max(Ms,Nt-Ye)]);l.style.minWidth=xe+"px",l.style.left=kt+"px"}else{const de=R.right-B.right,Ne=window.innerWidth-U.right-de,me=window.innerWidth-S.right-Ne,xe=S.width+me,Ye=Math.max(xe,R.width),Nt=window.innerWidth-Ms,kt=I0(Ne,[Ms,Math.max(Ms,Nt-Ye)]);l.style.minWidth=xe+"px",l.style.right=kt+"px"}const re=m(),G=window.innerHeight-Ms*2,H=v.scrollHeight,V=window.getComputedStyle(d),se=parseInt(V.borderTopWidth,10),te=parseInt(V.paddingTop,10),J=parseInt(V.borderBottomWidth,10),I=parseInt(V.paddingBottom,10),D=se+te+H+I+J,C=Math.min(g.offsetHeight*5,D),T=window.getComputedStyle(v),A=parseInt(T.paddingTop,10),Y=parseInt(T.paddingBottom,10),E=S.top+S.height/2-Ms,$=G-E,Z=g.offsetHeight/2,Q=g.offsetTop+Z,P=se+te+Q,F=D-P;if(P<=E){const de=re.length>0&&g===re[re.length-1].ref.current;l.style.bottom="0px";const Ne=d.clientHeight-v.offsetTop-v.offsetHeight,me=Math.max($,Z+(de?Y:0)+Ne+J),xe=P+me;l.style.height=xe+"px"}else{const de=re.length>0&&g===re[0].ref.current;l.style.top="0px";const me=Math.max(E,se+v.offsetTop+(de?A:0)+Z)+F;l.style.height=me+"px",v.scrollTop=P-E+v.offsetTop}l.style.margin=`${Ms}px 0`,l.style.minHeight=C+"px",l.style.maxHeight=G+"px",n==null||n(),requestAnimationFrame(()=>p.current=!0)}},[m,i.trigger,i.valueNode,l,d,v,g,y,i.dir,n]);kr(()=>b(),[b]);const[_,N]=f.useState();kr(()=>{d&&N(window.getComputedStyle(d).zIndex)},[d]);const k=f.useCallback(S=>{S&&w.current===!0&&(b(),x==null||x(),w.current=!1)},[b,x]);return s.jsx(jK,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:k,children:s.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:s.jsx(Le.div,{...a,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});h4.displayName=wK;var bK="SelectPopperPosition",F0=f.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=Ms,...i}=e,o=Gg(r);return s.jsx(hg,{...o,...i,ref:t,align:n,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});F0.displayName=bK;var[jK,lj]=Ld(wl,{}),L0="SelectViewport",m4=f.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...a}=e,i=Eo(L0,r),o=lj(L0,r),l=ct(t,i.onViewportChange),c=f.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),s.jsx(Hg.Slot,{scope:r,children:s.jsx(Le.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:Se(a.onScroll,d=>{const u=d.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:m}=o;if(m!=null&&m.current&&h){const p=Math.abs(c.current-u.scrollTop);if(p>0){const w=window.innerHeight-Ms*2,v=parseFloat(h.style.minHeight),g=parseFloat(h.style.height),y=Math.max(v,g);if(y<w){const x=y+p,b=Math.min(w,x),_=x-b;h.style.height=b+"px",h.style.bottom==="0px"&&(u.scrollTop=_>0?_:0,h.style.justifyContent="flex-end")}}}c.current=u.scrollTop})})})]})});m4.displayName=L0;var p4="SelectGroup",[_K,NK]=Ld(p4),SK=f.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=en();return s.jsx(_K,{scope:r,id:a,children:s.jsx(Le.div,{role:"group","aria-labelledby":a,...n,ref:t})})});SK.displayName=p4;var g4="SelectLabel",v4=f.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=NK(g4,r);return s.jsx(Le.div,{id:a.id,...n,ref:t})});v4.displayName=g4;var Pp="SelectItem",[CK,x4]=Ld(Pp),y4=f.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:i,...o}=e,l=ko(Pp,r),c=Eo(Pp,r),d=l.value===n,[u,h]=f.useState(i??""),[m,p]=f.useState(!1),w=ct(t,x=>{var b;return(b=c.itemRefCallback)==null?void 0:b.call(c,x,n,a)}),v=en(),g=f.useRef("touch"),y=()=>{a||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(CK,{scope:r,value:n,disabled:a,textId:v,isSelected:d,onItemTextChange:f.useCallback(x=>{h(b=>b||((x==null?void 0:x.textContent)??"").trim())},[]),children:s.jsx(Hg.ItemSlot,{scope:r,value:n,disabled:a,textValue:u,children:s.jsx(Le.div,{role:"option","aria-labelledby":v,"data-highlighted":m?"":void 0,"aria-selected":d&&m,"data-state":d?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:w,onFocus:Se(o.onFocus,()=>p(!0)),onBlur:Se(o.onBlur,()=>p(!1)),onClick:Se(o.onClick,()=>{g.current!=="mouse"&&y()}),onPointerUp:Se(o.onPointerUp,()=>{g.current==="mouse"&&y()}),onPointerDown:Se(o.onPointerDown,x=>{g.current=x.pointerType}),onPointerMove:Se(o.onPointerMove,x=>{var b;g.current=x.pointerType,a?(b=c.onItemLeave)==null||b.call(c):g.current==="mouse"&&x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Se(o.onPointerLeave,x=>{var b;x.currentTarget===document.activeElement&&((b=c.onItemLeave)==null||b.call(c))}),onKeyDown:Se(o.onKeyDown,x=>{var _;((_=c.searchRef)==null?void 0:_.current)!==""&&x.key===" "||(uK.includes(x.key)&&y(),x.key===" "&&x.preventDefault())})})})})});y4.displayName=Pp;var Eu="SelectItemText",w4=f.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,...i}=e,o=ko(Eu,r),l=Eo(Eu,r),c=x4(Eu,r),d=pK(Eu,r),[u,h]=f.useState(null),m=ct(t,y=>h(y),c.onItemTextChange,y=>{var x;return(x=l.itemTextRefCallback)==null?void 0:x.call(l,y,c.value,c.disabled)}),p=u==null?void 0:u.textContent,w=f.useMemo(()=>s.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:v,onNativeOptionRemove:g}=d;return kr(()=>(v(w),()=>g(w)),[v,g,w]),s.jsxs(s.Fragment,{children:[s.jsx(Le.span,{id:c.textId,...i,ref:m}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?kl.createPortal(i.children,o.valueNode):null]})});w4.displayName=Eu;var b4="SelectItemIndicator",j4=f.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return x4(b4,r).isSelected?s.jsx(Le.span,{"aria-hidden":!0,...n,ref:t}):null});j4.displayName=b4;var $0="SelectScrollUpButton",_4=f.forwardRef((e,t)=>{const r=Eo($0,e.__scopeSelect),n=lj($0,e.__scopeSelect),[a,i]=f.useState(!1),o=ct(t,n.onScrollButtonChange);return kr(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=c.scrollTop>0;i(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?s.jsx(S4,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});_4.displayName=$0;var z0="SelectScrollDownButton",N4=f.forwardRef((e,t)=>{const r=Eo(z0,e.__scopeSelect),n=lj(z0,e.__scopeSelect),[a,i]=f.useState(!1),o=ct(t,n.onScrollButtonChange);return kr(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,u=Math.ceil(c.scrollTop)<d;i(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?s.jsx(S4,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});N4.displayName=z0;var S4=f.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=e,i=Eo("SelectScrollButton",r),o=f.useRef(null),l=Kg(r),c=f.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return f.useEffect(()=>()=>c(),[c]),kr(()=>{var u;const d=l().find(h=>h.ref.current===document.activeElement);(u=d==null?void 0:d.ref.current)==null||u.scrollIntoView({block:"nearest"})},[l]),s.jsx(Le.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:Se(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:Se(a.onPointerMove,()=>{var d;(d=i.onItemLeave)==null||d.call(i),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:Se(a.onPointerLeave,()=>{c()})})}),kK="SelectSeparator",C4=f.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return s.jsx(Le.div,{"aria-hidden":!0,...n,ref:t})});C4.displayName=kK;var U0="SelectArrow",EK=f.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=Gg(r),i=ko(U0,r),o=Eo(U0,r);return i.open&&o.position==="popper"?s.jsx(mg,{...a,...n,ref:t}):null});EK.displayName=U0;var PK="SelectBubbleInput",k4=f.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const a=f.useRef(null),i=ct(n,a),o=r4(t);return f.useEffect(()=>{const l=a.current;if(!l)return;const c=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&u){const h=new Event("change",{bubbles:!0});u.call(l,t),l.dispatchEvent(h)}},[o,t]),s.jsx(Le.select,{...r,style:{...m2,...r.style},ref:i,defaultValue:t})});k4.displayName=PK;function E4(e){return e===""||e===void 0}function P4(e){const t=jr(e),r=f.useRef(""),n=f.useRef(0),a=f.useCallback(o=>{const l=r.current+o;t(l),function c(d){r.current=d,window.clearTimeout(n.current),d!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=f.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return f.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,i]}function T4(e,t,r){const a=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=TK(e,Math.max(i,0));a.length===1&&(o=o.filter(d=>d!==r));const c=o.find(d=>d.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function TK(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var RK=n4,R4=a4,MK=o4,AK=l4,OK=c4,M4=d4,DK=m4,A4=v4,O4=y4,IK=w4,FK=j4,D4=_4,I4=N4,F4=C4;const bl=RK,jl=MK,ho=f.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(R4,{ref:n,className:le("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-0 focus:ring-offset-0 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,s.jsx(AK,{asChild:!0,children:s.jsx(F2,{className:"h-4 w-4 opacity-50"})})]}));ho.displayName=R4.displayName;const L4=f.forwardRef(({className:e,...t},r)=>s.jsx(D4,{ref:r,className:le("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx($2,{className:"h-4 w-4"})}));L4.displayName=D4.displayName;const $4=f.forwardRef(({className:e,...t},r)=>s.jsx(I4,{ref:r,className:le("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(F2,{className:"h-4 w-4"})}));$4.displayName=I4.displayName;const mo=f.forwardRef(({className:e,children:t,position:r="popper",...n},a)=>s.jsx(OK,{children:s.jsxs(M4,{ref:a,className:le("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[s.jsx(L4,{}),s.jsx(DK,{className:le("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),s.jsx($4,{})]})}));mo.displayName=M4.displayName;const LK=f.forwardRef(({className:e,...t},r)=>s.jsx(A4,{ref:r,className:le("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));LK.displayName=A4.displayName;const Qr=f.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(O4,{ref:n,className:le("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(FK,{children:s.jsx(cs,{className:"h-4 w-4"})})}),s.jsx(IK,{children:t})]}));Qr.displayName=O4.displayName;const $K=f.forwardRef(({className:e,...t},r)=>s.jsx(F4,{ref:r,className:le("-mx-1 my-1 h-px bg-muted",e),...t}));$K.displayName=F4.displayName;var Yg="Switch",[zK,NQ]=Cn(Yg),[UK,BK]=zK(Yg),z4=f.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:a,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:d,form:u,...h}=e,[m,p]=f.useState(null),w=ct(t,b=>p(b)),v=f.useRef(!1),g=m?u||!!m.closest("form"):!0,[y,x]=ba({prop:a,defaultProp:i??!1,onChange:d,caller:Yg});return s.jsxs(UK,{scope:r,checked:y,disabled:l,children:[s.jsx(Le.button,{type:"button",role:"switch","aria-checked":y,"aria-required":o,"data-state":V4(y),"data-disabled":l?"":void 0,disabled:l,value:c,...h,ref:w,onClick:Se(e.onClick,b=>{x(_=>!_),g&&(v.current=b.isPropagationStopped(),v.current||b.stopPropagation())})}),g&&s.jsx(q4,{control:m,bubbles:!v.current,name:n,value:c,checked:y,required:o,disabled:l,form:u,style:{transform:"translateX(-100%)"}})]})});z4.displayName=Yg;var U4="SwitchThumb",B4=f.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,a=BK(U4,r);return s.jsx(Le.span,{"data-state":V4(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:t})});B4.displayName=U4;var qK="SwitchBubbleInput",q4=f.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...a},i)=>{const o=f.useRef(null),l=ct(o,i),c=r4(r),d=fE(t);return f.useEffect(()=>{const u=o.current;if(!u)return;const h=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(h,"checked").set;if(c!==r&&p){const w=new Event("click",{bubbles:n});p.call(u,r),u.dispatchEvent(w)}},[c,r,n]),s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:l,style:{...a.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});q4.displayName=qK;function V4(e){return e?"checked":"unchecked"}var W4=z4,VK=B4;const no=f.forwardRef(({className:e,...t},r)=>s.jsx(W4,{className:le("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:s.jsx(VK,{className:le("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));no.displayName=W4.displayName;function WK({userId:e}){const[t,r]=f.useState([]),[n,a]=f.useState(!1),[i,o]=f.useState(null),[l,c]=f.useState(""),[d,u]=f.useState(!1),[h,m]=f.useState(!1),[p,w]=f.useState(!1),[v,g]=f.useState(null),y=async()=>{if(e){a(!0);try{const{data:R,error:U}=await L.from("musician_photos").select("id, grid_url, full_url, description, is_public").eq("musician_id",e).order("created_at",{ascending:!1});if(!U){r(R||[]);return}const B=async re=>{const{data:G,error:H}=await L.storage.from(re).list(`${e}`,{limit:100,offset:0});if(H)throw H;const V=new Map,se=new Map;for(const I of G||[]){const D=I.name||"";if(D.startsWith("grid_")){const C=D.substring(5);V.set(C,L.storage.from(re).getPublicUrl(`${e}/${D}`).data.publicUrl)}if(D.startsWith("full_")){const C=D.substring(5);se.set(C,L.storage.from(re).getPublicUrl(`${e}/${D}`).data.publicUrl)}}const te=[],J=new Set([...V.keys(),...se.keys()]);for(const I of J){const D=V.get(I)||"",C=se.get(I)||D;D&&te.push({id:`${e}-${I}`,grid_url:D,full_url:C,description:null,is_public:!0})}te.sort((I,D)=>I.id>D.id?-1:1),r(te)};try{await B("musician-photos")}catch{await B("covers")}}finally{a(!1)}}};f.useEffect(()=>{y()},[e]);const x=async(R,U,B=.8)=>{if(R.size>2097152)throw new Error("Arquivo muito grande. Tamanho máximo: 2MB");const se=document.createElement("img"),te=URL.createObjectURL(R);try{await new Promise((Y,E)=>{se.onload=()=>Y(),se.onerror=E,se.src=te});const J=Math.min(1,U/se.naturalWidth),I=document.createElement("canvas");let D=B,C,T=0;const A=5;do{I.width=Math.round(se.naturalWidth*J),I.height=Math.round(se.naturalHeight*J);const Y=I.getContext("2d");if(!Y)throw new Error("Canvas context not available");Y.imageSmoothingEnabled=!0,Y.imageSmoothingQuality="high",Y.drawImage(se,0,0,I.width,I.height),C=await new Promise(E=>I.toBlob($=>E($),"image/webp",D)),C.size>332800*1.1?D=Math.max(.3,D-.1):C.size<332800*.7&&(D=Math.min(.95,D+.05)),T++}while(T<A&&(C.size>332800*1.2||C.size<332800*.6));if(C.size>2097152)throw new Error("Imagem otimizada ainda muito grande. Tente uma imagem menor.");return C}finally{URL.revokeObjectURL(te)}},b=async R=>{var G;const U=(G=R.target.files)==null?void 0:G[0];if(R.target.value="",!U||!e)return;if(!U.type.startsWith("image/")){oe({title:"Tipo de arquivo inválido",description:"Selecione apenas arquivos de imagem.",variant:"destructive"});return}const B=2,re=B*1024*1024;if(U.size>re){oe({title:"Arquivo muito grande",description:`Tamanho máximo permitido: ${B}MB. Seu arquivo: ${(U.size/(1024*1024)).toFixed(1)}MB`,variant:"destructive"});return}if(t.length>=6){oe({title:"Limite atingido",description:"Você pode adicionar até 6 fotos."});return}u(!0);try{const H=await x(U,400,.75),V=await x(U,1e3,.8),se=Date.now(),te=Math.random().toString(36).slice(2,8),J=`${e}/grid_${se}_${te}.webp`,I=`${e}/full_${se}_${te}.webp`,D="musician-photos",C="covers";async function T(E){const $=await L.storage.from(E).upload(J,H,{contentType:"image/webp",upsert:!0});if($.error)throw $.error;const Z=await L.storage.from(E).upload(I,V,{contentType:"image/webp",upsert:!0});if(Z.error)throw Z.error;const Q=L.storage.from(E).getPublicUrl(J).data.publicUrl,P=L.storage.from(E).getPublicUrl(I).data.publicUrl;return{gridUrl:Q,fullUrl:P}}let A=null;try{A=await T(D)}catch(E){const $=String((E==null?void 0:E.message)||"").toLowerCase();if($.includes("bucket not found")||$.includes("not found")||$.includes("does not exist"))A=await T(C);else throw E}let Y=!0;try{(await L.from("musician_photos").select("id").limit(1)).error&&(Y=!1)}catch{Y=!1}if(Y){const{error:E}=await L.from("musician_photos").insert({musician_id:e,grid_url:A.gridUrl,full_url:A.fullUrl});if(E)throw E}else{r(E=>[{id:`${se}-${te}`,grid_url:A.gridUrl,full_url:A.fullUrl,description:null,is_public:!0},...E]),oe({title:"Foto enviada",description:"Tabela não encontrada. Exibindo somente nesta sessão."}),u(!1);return}oe({title:"Foto adicionada"}),await y()}catch(H){oe({title:"Erro ao enviar foto",description:(H==null?void 0:H.message)||String(H),variant:"destructive"})}finally{u(!1)}},_=async(R,U)=>{try{const{error:B}=await L.from("musician_photos").update({description:U}).eq("id",R);if(B)throw B;r(re=>re.map(G=>G.id===R?{...G,description:U}:G)),o(null),oe({title:"Descrição atualizada"})}catch(B){oe({title:"Erro ao salvar descrição",description:B.message,variant:"destructive"})}},N=async(R,U)=>{try{const{error:B}=await L.from("musician_photos").update({is_public:!U}).eq("id",R);if(B)throw B;r(re=>re.map(G=>G.id===R?{...G,is_public:!U}:G))}catch{r(re=>re.map(G=>G.id===R?{...G,is_public:!U}:G)),oe({title:"Visibilidade atualizada localmente",description:"Tabela indisponível no momento."})}},k=async R=>{g(R),w(!0)},S=async()=>{if(!v)return;const R=v;w(!1),g(null);try{const{error:U}=await L.from("musician_photos").delete().eq("id",R);if(U)throw U;r(B=>B.filter(re=>re.id!==R)),oe({title:"Foto removida"})}catch{try{const B=t.find(H=>H.id===R);if(!B)throw new Error("Foto não encontrada em memória");const re=(H,V)=>{const se=`/storage/v1/object/public/${V}/`,te=H.indexOf(se);return te===-1?null:H.substring(te+se.length)},G=["musician-photos","covers"];for(const H of G){const V=re(B.grid_url,H),se=re(B.full_url,H),te=[V,se].filter(Boolean);te.length&&await L.storage.from(H).remove(te)}r(H=>H.filter(V=>V.id!==R)),oe({title:"Foto removida do Storage"})}catch(B){oe({title:"Erro ao remover",description:B.message,variant:"destructive"})}}};return s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Fotos"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{id:"photoInput",type:"file",accept:"image/*",className:"hidden",onChange:b}),s.jsx(O,{variant:"outline",onClick:()=>{var R;return(R=document.getElementById("photoInput"))==null?void 0:R.click()},disabled:d||t.length>=6,children:d?"Enviando...":t.length>=6?"Limite atingido":s.jsxs(s.Fragment,{children:[s.jsx(_u,{className:"h-4 w-4 mr-2"})," Adicionar foto"]})})]})]}),s.jsx("p",{className:"text-xs text-muted-foreground mb-3",children:"Tamanho máximo: 2MB. Formatos aceitos: JPG, PNG, GIF. As imagens serão otimizadas automaticamente."}),n?s.jsx("div",{className:"grid grid-cols-3 gap-px",children:Array.from({length:9}).map((R,U)=>s.jsx("div",{className:"aspect-square relative overflow-hidden",children:s.jsx(Xe,{className:"absolute inset-0 w-full h-full"})},U))}):t.length===0?s.jsx("div",{className:"text-sm text-muted-foreground",children:"Nenhuma foto adicionada."}):s.jsxs("div",{className:"grid grid-cols-3 gap-px",children:[t.map(R=>s.jsxs("div",{className:"relative group overflow-hidden aspect-square",children:[s.jsx("img",{src:R.grid_url,alt:"Foto",className:"absolute inset-0 w-full h-full object-cover",loading:"lazy"}),!R.is_public&&s.jsx("div",{className:"absolute inset-0 bg-black/60 flex items-center justify-center z-10",children:s.jsxs("div",{className:"text-center text-white",children:[s.jsx(Xn,{className:"h-8 w-8 mx-auto mb-2 opacity-70"}),s.jsx("p",{className:"text-xs font-medium",children:"Foto oculta"})]})}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"}),s.jsxs("div",{className:"absolute top-2 right-2 flex items-center gap-1 z-20",children:[s.jsx(O,{variant:"ghost",size:"icon",onClick:()=>N(R.id,R.is_public),className:"text-white hover:text-white/90 hover:bg-white/10",style:{color:"white"},children:R.is_public?s.jsx(Ur,{className:"h-4 w-4",style:{color:"white"}}):s.jsx(Xn,{className:"h-4 w-4",style:{color:"white"}})}),s.jsx(O,{variant:"ghost",size:"icon",onClick:()=>k(R.id),className:"text-white hover:text-white/90 hover:bg-white/10",style:{color:"white"},children:s.jsx(Gn,{className:"h-4 w-4",style:{color:"white"}})})]}),s.jsx("div",{className:"absolute bottom-0 left-0 right-0",children:s.jsx("div",{className:"bg-gradient-to-t from-black/80 to-transparent p-2",children:s.jsxs("div",{className:"flex items-end justify-between gap-2",children:[s.jsx("div",{className:"text-xs text-white line-clamp-2",style:{color:"white"},children:R.description||"Sem descrição"}),s.jsx(O,{variant:"ghost",size:"icon",className:"text-white hover:text-white/90 hover:bg-white/10",style:{color:"white"},onClick:()=>{o(R.id),c(R.description||""),m(!0)},children:s.jsx(Qa,{className:"h-4 w-4",style:{color:"white"}})})]})})})]},R.id)),d&&s.jsx("div",{className:"aspect-square relative overflow-hidden bg-muted/20 rounded",children:s.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-2"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Processando..."})]})})})]}),s.jsx(qr,{open:h,onOpenChange:R=>{m(R),R||o(null)},children:s.jsxs(Pr,{children:[s.jsx(Tr,{children:s.jsx(Rr,{children:"Editar descrição da foto"})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Bi,{value:l,onChange:R=>c(R.target.value.slice(0,200)),rows:3,maxLength:200,placeholder:"Escreva uma descrição (até 200 caracteres)"}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:[l.length,"/200"]})]}),s.jsxs(ya,{children:[s.jsx(O,{variant:"outline",onClick:()=>{m(!1),o(null)},children:"Cancelar"}),s.jsx(O,{onClick:async()=>{i&&(await _(i,l),m(!1))},children:"Salvar"})]})]})}),s.jsx(qr,{open:p,onOpenChange:R=>{w(R),R||g(null)},children:s.jsxs(Pr,{children:[s.jsx(Tr,{children:s.jsx(Rr,{children:"Confirmar exclusão"})}),s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"flex items-center gap-3 p-3 bg-muted/30 rounded-lg",children:[s.jsx("div",{className:"w-12 h-12 bg-destructive/10 rounded-lg flex items-center justify-center",children:s.jsx(Gn,{className:"h-6 w-6 text-destructive"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Excluir foto"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Esta ação não pode ser desfeita. A foto será removida permanentemente."})]})]})}),s.jsxs(ya,{children:[s.jsx(O,{variant:"outline",onClick:()=>{w(!1),g(null)},children:"Cancelar"}),s.jsx(O,{variant:"destructive",onClick:S,children:"Excluir foto"})]})]})})]})}function H4(e){return e.toLowerCase().trim().replace(/[^a-z0-9-\s]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").replace(/^-|-$|_/g,"")}function HK(e){return e.toLowerCase().replace(/[^a-z0-9-\s]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-")}function KK(e){return e.replace(/[^0-9A-Za-zÀ-ÿ\s]/g,"").replace(/\s+/g," ").replace(/^\s+/,"")}async function B0(e,t){if(!e)return!1;const{count:r,error:n}=await L.from("profiles").select("id",{count:"exact",head:!0}).ilike("username",e).neq("id",t);if(n)throw n;return(r||0)===0}async function sS(e,t,r=5){const n=[],a=[e,`${e}-${new Date().getFullYear()}`,`${e}-${Math.floor(Math.random()*90+10)}`,`${e}-oficial`,`${e}-music`];let i=0;for(;n.length<r&&i<120;){const o=i<a.length?a[i]:`${e}-${Math.floor(Math.random()*9999)}`,l=H4(o);l&&await B0(l,t)&&!n.includes(l)&&n.push(l),i++}return n}const Tp=e=>{const t=e.replace(/\D/g,"");return t.length<=2?t:t.length<=7?`(${t.slice(0,2)}) ${t.slice(2)}`:t.length<=11?`(${t.slice(0,2)}) ${t.slice(2,7)}-${t.slice(7)}`:`(${t.slice(0,2)}) ${t.slice(2,7)}-${t.slice(7,11)}`},GK=({userId:e,isMobile:t})=>{var Q;const[r,n]=f.useState([]),[a,i]=f.useState(""),[o,l]=f.useState(""),[c,d]=f.useState(null),[u,h]=f.useState(!1),[m,p]=f.useState(null),[w,v]=f.useState(null),[g,y]=f.useState([]),[x,b]=f.useState(""),{uploadFile:_}=YH(e),[N,k]=f.useState(""),S=P=>{if(P==null||isNaN(P))return"R$ 0,00";try{return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(P)}catch{return`R$ ${P.toFixed(2)}`.replace(".",",")}},R=P=>{const F=(P||"").replace(/\D/g,"");if(!F)return"";const X=F.padStart(3,"0"),de=X.slice(0,-2),Ne=X.slice(-2);return`${de.replace(/\B(?=(\d{3})+(?!\d))/g,".")},${Ne}`},{data:U}=Ze({queryKey:["genres"],queryFn:async()=>{const{data:P,error:F}=await L.from("genres").select("id, name").order("name");if(F)throw F;return P}}),{data:B}=Ze({queryKey:["profile-responsible",e],enabled:!!e,queryFn:async()=>{const{data:P,error:F}=await L.from("profiles").select("responsible_name, responsible_whatsapp").eq("id",e).maybeSingle();return F&&console.log("Perfil ainda não tem campos do responsável:",F.message),P}}),{data:re,refetch:G}=Ze({queryKey:["show-types",e],enabled:!!e,queryFn:async()=>{const{data:P,error:F}=await L.from("show_types").select(`
          *,
          show_type_genres(
            genre_id,
            genres(id, name)
          )
        `).eq("musician_id",e).order("created_at",{ascending:!0});return F&&console.log("Tabela show_types ainda não existe:",F.message),(P==null?void 0:P.map(de=>{var Ne;return{...de,genres:((Ne=de.show_type_genres)==null?void 0:Ne.map(me=>me.genres))||[],cacheFee:typeof de.cache_fee=="number"?de.cache_fee:void 0,isPublic:typeof de.is_public=="boolean"?de.is_public:!0,showCache:typeof de.show_cache=="boolean"?de.show_cache:!0}}))||[]}});f.useEffect(()=>{if(B){i(B.responsible_name||"");const P=B.responsible_whatsapp||"";l(P?Tp(P):"")}},[B]),f.useEffect(()=>{if(re){const P=re.map(F=>({id:F.id,name:F.name,description:F.description||"",durationHours:F.duration_hours,durationMinutes:F.duration_minutes,stageMapUrl:F.stage_map_url,technicalRiderUrl:F.technical_rider_url,promoImage1Url:F.promo_image_1_url,promoImage2Url:F.promo_image_2_url,genres:F.genres||[],cacheFee:typeof F.cache_fee=="number"?F.cache_fee:void 0,isPublic:typeof F.is_public=="boolean"?F.is_public:!0,showCache:typeof F.show_cache=="boolean"?F.show_cache:!0}));n(P)}},[re]),f.useEffect(()=>{if(c){const P=c.cacheFee!=null?R(Math.round((c.cacheFee||0)*100).toString()):"";k(P)}else k("")},[c]),f.useEffect(()=>{U&&y(U)},[U]);const H=async()=>{try{const P=o.replace(/\D/g,""),{error:F}=await L.from("profiles").update({responsible_name:a||null,responsible_whatsapp:P||null}).eq("id",e);F&&(localStorage.setItem(`responsible_name_${e}`,a),localStorage.setItem(`responsible_whatsapp_${e}`,P),console.log("Salvando no localStorage como fallback:",F.message)),oe({title:"Informações do responsável salvas com sucesso!"})}catch(P){oe({title:"Erro ao salvar",description:P.message,variant:"destructive"})}},V=async(P,F)=>await _(P,"show-files",F),se=async P=>{c&&(d({...c,[P]:void 0}),oe({title:"Arquivo removido!"}))},te=P=>[".jpg",".jpeg",".png",".gif",".webp"].some(X=>P.toLowerCase().includes(X)),J=(P,F)=>{const X=document.createElement("a");X.href=P,X.download=F,X.target="_blank",document.body.appendChild(X),X.click(),document.body.removeChild(X)},I=P=>{const F=Tp(P);l(F)},D=async(P,F)=>{if(c){p(F);try{const X=await V(P,F);d({...c,[F]:X})}catch(X){oe({title:"Erro ao processar arquivo",description:X.message,variant:"destructive"})}finally{p(null)}}},C=P=>{if(!c)return;const F=c.genres||[];F.find(X=>X.id===P.id)||(d({...c,genres:[...F,P]}),b(""))},T=P=>{c&&d({...c,genres:(c.genres||[]).filter(F=>F.id!==P)})},A=()=>{if(!x.trim())return[];const P=((c==null?void 0:c.genres)||[]).map(F=>F.id);return g.filter(F=>F.name.toLowerCase().includes(x.toLowerCase())&&!P.includes(F.id)).slice(0,5)},Y=async()=>{if(c)try{let P=c.id;if(c.id){const{error:F}=await L.from("show_types").update({name:c.name,description:c.description||null,duration_hours:c.durationHours,duration_minutes:c.durationMinutes,stage_map_url:c.stageMapUrl||null,technical_rider_url:c.technicalRiderUrl||null,promo_image_1_url:c.promoImage1Url||null,promo_image_2_url:c.promoImage2Url||null,cache_fee:typeof c.cacheFee=="number"?c.cacheFee:null,is_public:typeof c.isPublic=="boolean"?c.isPublic:!0,show_cache:typeof c.showCache=="boolean"?c.showCache:!0}).eq("id",c.id);if(F)throw F}else{const{data:F,error:X}=await L.from("show_types").insert({musician_id:e,name:c.name,description:c.description||null,duration_hours:c.durationHours,duration_minutes:c.durationMinutes,stage_map_url:c.stageMapUrl||null,technical_rider_url:c.technicalRiderUrl||null,promo_image_1_url:c.promoImage1Url||null,promo_image_2_url:c.promoImage2Url||null,cache_fee:typeof c.cacheFee=="number"?c.cacheFee:null,is_public:typeof c.isPublic=="boolean"?c.isPublic:!0,show_cache:typeof c.showCache=="boolean"?c.showCache:!0}).select();if(X)throw X;P=F[0].id}if(P&&c.genres&&c.genres.length>0){await L.from("show_type_genres").delete().eq("show_type_id",P);const F=c.genres.map(de=>({show_type_id:P,genre_id:de.id})),{error:X}=await L.from("show_type_genres").insert(F);if(X)throw X}else P&&await L.from("show_type_genres").delete().eq("show_type_id",P);await G(),d(null),h(!1),oe({title:"Tipo de show salvo com sucesso!"})}catch(P){let F;if(c.id)F=r.map(X=>X.id===c.id?c:X);else{const X={...c,id:Date.now().toString()};F=[...r,X]}n(F),localStorage.setItem(`show_types_${e}`,JSON.stringify(F)),d(null),h(!1),oe({title:"Tipo de show salvo (modo offline)!"}),console.log("Salvando no localStorage como fallback:",P.message)}},E=async P=>{const F=!(P.isPublic??!0);try{if(P.id){const{error:X}=await L.from("show_types").update({is_public:F}).eq("id",P.id);if(X)throw X}n(X=>X.map(de=>de.id===P.id?{...de,isPublic:F}:de)),oe({title:F?"Show visível":"Show oculto"})}catch(X){n(de=>de.map(Ne=>Ne.id===P.id?{...Ne,isPublic:F}:Ne)),oe({title:"Visibilidade atualizada localmente",description:X==null?void 0:X.message})}},$=async P=>{try{const{error:F}=await L.from("show_types").delete().eq("id",P);if(F)throw F;await G(),oe({title:"Tipo de show removido!"})}catch(F){const X=r.filter(de=>de.id!==P);n(X),localStorage.setItem(`show_types_${e}`,JSON.stringify(X)),oe({title:"Tipo de show removido (modo offline)!"}),console.log("Removendo do localStorage como fallback:",F.message)}},Z=r.length<5;return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"p-0",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ze,{htmlFor:"responsibleName",className:"text-gray-400 font-normal",children:"Nome do Responsável"}),s.jsx(Ie,{id:"responsibleName",value:a,onChange:P=>i(P.target.value),placeholder:"Nome completo"})]}),s.jsxs("div",{children:[s.jsx(ze,{htmlFor:"responsibleWhatsapp",children:"WhatsApp"}),s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx(Ie,{id:"responsibleWhatsapp",value:o,onChange:P=>I(P.target.value),placeholder:"(00) 00000-0000",maxLength:15}),s.jsx(O,{onClick:H,className:"w-full md:w-auto mt-4",children:"Salvar"})]})]})]})}),s.jsxs("div",{children:[s.jsx("div",{className:"flex justify-end items-center mb-4",children:Z&&s.jsxs(O,{variant:"outline",onClick:()=>{d({name:"",description:"",durationHours:1,durationMinutes:0,genres:[]}),h(!0)},children:[s.jsx(Ec,{className:"h-4 w-4 mr-2"}),"Adicionar Show"]})}),r.length===0?s.jsxs("div",{className:"text-center py-8 border rounded-lg",children:[s.jsx("p",{className:"text-muted-foreground",children:"Nenhum tipo de show cadastrado"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Adicione até 5 tipos de shows diferentes"})]}):s.jsx("div",{className:"space-y-0",children:r.map((P,F)=>s.jsxs("div",{children:[s.jsxs("div",{className:"py-4",children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsx("h4",{className:"font-medium truncate flex-1 mr-2",children:P.name}),t?s.jsxs(to,{children:[s.jsx(ro,{asChild:!0,children:s.jsx(O,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 flex-shrink-0",children:s.jsx(Zi,{className:"h-4 w-4"})})}),s.jsxs(Xa,{align:"end",className:"w-48",children:[s.jsxs(fr,{onClick:()=>E(P),children:[P.isPublic?s.jsx(Ur,{className:"h-4 w-4 mr-2"}):s.jsx(Xn,{className:"h-4 w-4 mr-2"}),P.isPublic?"Ocultar":"Exibir"]}),s.jsxs(fr,{onClick:()=>{d(P),h(!0)},children:[s.jsx(Qa,{className:"h-4 w-4 mr-2"}),"Editar"]}),s.jsxs(fr,{onClick:()=>$(P.id),children:[s.jsx(Gn,{className:"h-4 w-4 mr-2"}),"Remover"]})]})]}):s.jsxs("div",{className:"flex gap-1 flex-shrink-0",children:[s.jsx(O,{variant:"ghost",size:"sm",onClick:()=>E(P),className:"text-muted-foreground hover:text-foreground",title:P.isPublic?"Ocultar este show":"Exibir este show","aria-label":P.isPublic?"Ocultar este show":"Exibir este show",children:P.isPublic?s.jsx(Ur,{className:"h-4 w-4"}):s.jsx(Xn,{className:"h-4 w-4"})}),s.jsx(O,{variant:"ghost",size:"sm",onClick:()=>{d(P),h(!0)},className:"text-muted-foreground hover:text-foreground",title:"Editar este show","aria-label":"Editar este show",children:s.jsx(Qa,{className:"h-4 w-4"})}),s.jsx(O,{variant:"ghost",size:"sm",onClick:()=>$(P.id),className:"text-muted-foreground hover:text-foreground",title:"Remover este show","aria-label":"Remover este show",children:s.jsx(Gn,{className:"h-4 w-4"})})]})]}),s.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:P.description}),s.jsxs("div",{className:"flex items-center gap-3 text-sm mb-2",children:[typeof P.cacheFee=="number"&&(P.showCache??!0)&&s.jsx("span",{className:"px-2 py-1 rounded border bg-secondary/30",children:S(P.cacheFee)}),s.jsxs("div",{className:"flex items-center gap-1 text-muted-foreground",children:[P.isPublic?s.jsx(Ur,{className:"h-3 w-3"}):s.jsx(Xn,{className:"h-3 w-3"}),s.jsx("span",{className:"text-xs",children:P.isPublic?"Visível":"Oculto"})]})]}),s.jsxs("p",{className:"text-sm mb-2",children:["Duração: ",P.durationHours,"h ",P.durationMinutes>0&&`${P.durationMinutes}min`]}),P.genres&&P.genres.length>0&&s.jsxs("div",{className:"mt-3",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(nr,{className:"h-3 w-3 text-muted-foreground"}),s.jsx("span",{className:"text-xs text-muted-foreground font-medium",children:"Estilos Musicais"})]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:P.genres.map(X=>s.jsx("span",{className:"inline-flex items-center bg-primary/10 text-primary px-3 py-1 rounded-full text-xs font-medium border border-primary/20",children:X.name},X.id))})]})]}),F<r.length-1&&s.jsx("hr",{className:"border-gray"})]},P.id))})]}),s.jsx(qr,{open:u,onOpenChange:h,children:s.jsxs(Pr,{className:"max-w-3xl max-h-[85vh] p-0 flex flex-col",children:[s.jsx(Tr,{className:"p-6 pb-2",children:s.jsx(Rr,{children:c!=null&&c.id?"Editar Show":"Novo Show"})}),c&&s.jsx("div",{className:"flex-1 overflow-y-auto px-6 pb-4",children:s.jsxs(Fd,{defaultValue:"informacoes",className:"w-full",children:[s.jsxs(fo,{className:"grid w-full grid-cols-2 mb-6",children:[s.jsx(Br,{value:"informacoes",children:"Informações"}),s.jsx(Br,{value:"arquivos",children:"Arquivos"})]}),s.jsx(Xr,{value:"informacoes",className:"space-y-4",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(ze,{htmlFor:"showName",children:"Nome do Show"}),s.jsx(Ie,{id:"showName",value:c.name,onChange:P=>d({...c,name:P.target.value}),placeholder:"Ex: Show Acústico, Festa Completa..."})]}),s.jsxs("div",{children:[s.jsx(ze,{htmlFor:"showDescription",children:"Descrição Breve"}),s.jsx(Bi,{id:"showDescription",value:c.description,onChange:P=>d({...c,description:P.target.value.slice(0,300)}),placeholder:"Descreva o tipo de show, repertório, equipamentos...",rows:3,maxLength:300}),s.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:[((Q=c.description)==null?void 0:Q.length)||0,"/300"]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ze,{htmlFor:"durationHours",children:"Horas"}),s.jsxs(bl,{value:c.durationHours.toString(),onValueChange:P=>d({...c,durationHours:parseInt(P)}),children:[s.jsx(ho,{children:s.jsx(jl,{placeholder:"Selecione as horas"})}),s.jsx(mo,{children:Array.from({length:24},(P,F)=>s.jsxs(Qr,{value:F.toString(),children:[F,"h"]},F))})]})]}),s.jsxs("div",{children:[s.jsx(ze,{htmlFor:"durationMinutes",children:"Minutos"}),s.jsxs(bl,{value:c.durationMinutes.toString(),onValueChange:P=>d({...c,durationMinutes:parseInt(P)}),children:[s.jsx(ho,{children:s.jsx(jl,{placeholder:"Selecione os minutos"})}),s.jsx(mo,{children:Array.from({length:12},(P,F)=>F*5).map(P=>s.jsx(Qr,{value:P.toString(),children:P===0?"0min":`${P}min`},P))})]})]})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx(ze,{htmlFor:"cacheFee",children:"Cachê"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx(Ie,{id:"cacheFee",inputMode:"numeric",placeholder:"0,00",value:N,onChange:P=>{const F=R(P.target.value);k(F);const X=Number(F.replace(/\./g,"").replace(",","."));d({...c,cacheFee:isNaN(X)?void 0:Number(X.toFixed(2))})},className:"w-full"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:S(c.cacheFee)})]}),s.jsxs("div",{className:"flex flex-col items-center gap-1 flex-shrink-0",children:[s.jsx(no,{checked:c.showCache??!0,onCheckedChange:P=>d({...c,showCache:P}),"aria-label":"Exibir cachê publicamente"}),s.jsx("span",{className:"text-xs text-muted-foreground text-center",children:c.showCache?"Visível":"Oculto"})]})]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Informe quais estilos tem esse show"}),s.jsxs("div",{className:"relative",children:[s.jsxs("div",{className:"min-h-[40px] border border-input rounded-md bg-background px-3 py-2 flex flex-wrap items-center gap-2",children:[c.genres&&c.genres.length>0&&s.jsx(s.Fragment,{children:c.genres.map(P=>s.jsxs("div",{className:"flex items-center gap-1 bg-primary/10 text-primary px-2 py-1 rounded-full text-sm",children:[s.jsx("span",{children:P.name}),s.jsx("button",{type:"button",onClick:()=>T(P.id),className:"ml-1 hover:bg-primary/20 rounded-full p-0.5 transition-colors text-primary",children:"✕"})]},P.id))}),s.jsx(Ie,{value:x,onChange:P=>b(P.target.value),placeholder:c.genres&&c.genres.length>0?"Adicionar mais estilos...":"Digite um estilo musical...",className:"border-0 p-0 h-auto min-w-[200px] flex-1 focus-visible:ring-0 focus-visible:ring-offset-0"})]}),A().length>0&&s.jsx("div",{className:"absolute bottom-full left-0 right-0 z-50 bg-background border rounded-md shadow-lg max-h-40 overflow-y-auto mb-1",children:A().map(P=>s.jsx("button",{type:"button",className:"w-full px-3 py-2 text-left hover:bg-muted transition-colors",onClick:()=>C(P),children:P.name},P.id))})]})]})]})}),s.jsx(Xr,{value:"arquivos",className:"space-y-4",children:s.jsxs("div",{className:"space-y-6",children:[s.jsx("h4",{className:"text-sm font-medium text-foreground",children:"Arquivos do Show"}),s.jsxs("div",{className:"border rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx(wc,{className:"h-4 w-4 text-muted-foreground"}),s.jsx(ze,{className:"text-sm font-medium",children:"Mapa de Palco"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"(PDF, JPG, PNG - até 5MB)"})]}),c.stageMapUrl?s.jsx("div",{className:"space-y-3",children:s.jsxs("div",{className:"flex items-center justify-between p-3 bg-accent/50 border border-border rounded-md",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[te(c.stageMapUrl)?s.jsx(bc,{className:"h-4 w-4 text-primary"}):s.jsx(wc,{className:"h-4 w-4 text-primary"}),s.jsx("span",{className:"text-sm text-foreground",children:"Arquivo enviado"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[te(c.stageMapUrl)?s.jsx(O,{variant:"ghost",size:"sm",onClick:()=>v(c.stageMapUrl),className:"text-primary hover:text-primary hover:bg-primary/10",children:s.jsx(Ur,{className:"h-4 w-4"})}):s.jsx(O,{variant:"ghost",size:"sm",onClick:()=>J(c.stageMapUrl,"mapa-de-palco"),className:"text-primary hover:text-primary hover:bg-primary/10",children:s.jsx(ap,{className:"h-4 w-4"})}),s.jsx(O,{variant:"ghost",size:"sm",onClick:()=>se("stageMapUrl"),className:"text-destructive hover:text-destructive hover:bg-destructive/10",children:s.jsx(Gn,{className:"h-4 w-4"})})]})]})}):s.jsxs("div",{children:[s.jsx("input",{type:"file",accept:".pdf,.jpg,.jpeg,.png",onChange:P=>{var X;const F=(X=P.target.files)==null?void 0:X[0];F&&D(F,"stageMapUrl")},className:"hidden",id:"stageMap"}),s.jsxs(O,{variant:"outline",onClick:()=>{var P;return(P=document.getElementById("stageMap"))==null?void 0:P.click()},disabled:m==="stageMapUrl",className:"w-full",children:[s.jsx(_u,{className:"h-4 w-4 mr-2"}),m==="stageMapUrl"?"Enviando...":"Escolher Arquivo"]})]})]}),s.jsxs("div",{className:"border rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx(wc,{className:"h-4 w-4 text-muted-foreground"}),s.jsx(ze,{className:"text-sm font-medium",children:"Rider Técnico"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"(PDF, DOC, DOCX - até 5MB)"})]}),c.technicalRiderUrl?s.jsx("div",{className:"space-y-3",children:s.jsxs("div",{className:"flex items-center justify-between p-3 bg-accent/50 border border-border rounded-md",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[te(c.technicalRiderUrl)?s.jsx(bc,{className:"h-4 w-4 text-primary"}):s.jsx(wc,{className:"h-4 w-4 text-primary"}),s.jsx("span",{className:"text-sm text-foreground",children:"Arquivo enviado"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[te(c.technicalRiderUrl)?s.jsx(O,{variant:"ghost",size:"sm",onClick:()=>v(c.technicalRiderUrl),className:"text-primary hover:text-primary hover:bg-primary/10",children:s.jsx(Ur,{className:"h-4 w-4"})}):s.jsx(O,{variant:"ghost",size:"sm",onClick:()=>J(c.technicalRiderUrl,"rider-tecnico"),className:"text-primary hover:text-primary hover:bg-primary/10",children:s.jsx(ap,{className:"h-4 w-4"})}),s.jsx(O,{variant:"ghost",size:"sm",onClick:()=>se("technicalRiderUrl"),className:"text-destructive hover:text-destructive hover:bg-destructive/10",children:s.jsx(Gn,{className:"h-4 w-4"})})]})]})}):s.jsxs("div",{children:[s.jsx("input",{type:"file",accept:".pdf,.doc,.docx",onChange:P=>{var X;const F=(X=P.target.files)==null?void 0:X[0];F&&D(F,"technicalRiderUrl")},className:"hidden",id:"technicalRider"}),s.jsxs(O,{variant:"outline",onClick:()=>{var P;return(P=document.getElementById("technicalRider"))==null?void 0:P.click()},disabled:m==="technicalRiderUrl",className:"w-full",children:[s.jsx(_u,{className:"h-4 w-4 mr-2"}),m==="technicalRiderUrl"?"Enviando...":"Escolher Arquivo"]})]})]}),s.jsxs("div",{className:"border rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx(bc,{className:"h-4 w-4 text-muted-foreground"}),s.jsx(ze,{className:"text-sm font-medium",children:"Imagem de Divulgação"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"(JPG, PNG - até 5MB)"})]}),c.promoImage1Url?s.jsx("div",{className:"space-y-3",children:s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:c.promoImage1Url,alt:"Imagem de divulgação 1",className:"w-full h-32 object-cover rounded-md border"}),s.jsxs("div",{className:"absolute top-2 right-2 flex gap-1",children:[s.jsx(O,{variant:"ghost",size:"sm",onClick:()=>v(c.promoImage1Url),className:"bg-white/80 text-primary hover:text-primary hover:bg-white",children:s.jsx(Ur,{className:"h-4 w-4"})}),s.jsx(O,{variant:"ghost",size:"sm",onClick:()=>se("promoImage1Url"),className:"bg-white/80 text-destructive hover:text-destructive hover:bg-white",children:s.jsx(Gn,{className:"h-4 w-4"})})]})]})}):s.jsxs("div",{children:[s.jsx("input",{type:"file",accept:".jpg,.jpeg,.png",onChange:P=>{var X;const F=(X=P.target.files)==null?void 0:X[0];F&&D(F,"promoImage1Url")},className:"hidden",id:"promoImage1"}),s.jsxs(O,{variant:"outline",onClick:()=>{var P;return(P=document.getElementById("promoImage1"))==null?void 0:P.click()},disabled:m==="promoImage1Url",className:"w-full",children:[s.jsx(_u,{className:"h-4 w-4 mr-2"}),m==="promoImage1Url"?"Enviando...":"Escolher Imagem"]})]})]}),s.jsxs("div",{className:"border rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx(bc,{className:"h-4 w-4 text-muted-foreground"}),s.jsx(ze,{className:"text-sm font-medium",children:"Imagem de Divulgação"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"(JPG, PNG - até 5MB)"})]}),c.promoImage2Url?s.jsx("div",{className:"space-y-3",children:s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:c.promoImage2Url,alt:"Imagem de divulgação 2",className:"w-full h-32 object-cover rounded-md border"}),s.jsxs("div",{className:"absolute top-2 right-2 flex gap-1",children:[s.jsx(O,{variant:"ghost",size:"sm",onClick:()=>v(c.promoImage2Url),className:"bg-white/80 text-primary hover:text-primary hover:bg-white",children:s.jsx(Ur,{className:"h-4 w-4"})}),s.jsx(O,{variant:"ghost",size:"sm",onClick:()=>se("promoImage2Url"),className:"bg-white/80 text-destructive hover:text-destructive hover:bg-white",children:s.jsx(Gn,{className:"h-4 w-4"})})]})]})}):s.jsxs("div",{children:[s.jsx("input",{type:"file",accept:".jpg,.jpeg,.png",onChange:P=>{var X;const F=(X=P.target.files)==null?void 0:X[0];F&&D(F,"promoImage2Url")},className:"hidden",id:"promoImage2"}),s.jsxs(O,{variant:"outline",onClick:()=>{var P;return(P=document.getElementById("promoImage2"))==null?void 0:P.click()},disabled:m==="promoImage2Url",className:"w-full",children:[s.jsx(_u,{className:"h-4 w-4 mr-2"}),m==="promoImage2Url"?"Enviando...":"Escolher Imagem"]})]})]})]})})]})}),s.jsx(ya,{className:"p-4 border-t",children:s.jsxs("div",{className:"flex items-center justify-between gap-3 w-full",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(no,{checked:(c==null?void 0:c.isPublic)??!0,onCheckedChange:P=>c&&d({...c,isPublic:P}),"aria-label":"Visibilidade do tipo de show"}),s.jsxs("span",{className:"flex items-center gap-1 text-muted-foreground",children:[c!=null&&c.isPublic?s.jsx(Ur,{className:"h-4 w-4"}):s.jsx(Xn,{className:"h-4 w-4"}),c!=null&&c.isPublic?"Visível":"Oculto"]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(O,{variant:"outline",onClick:()=>{h(!1),d(null)},children:"Cancelar"}),s.jsx(O,{onClick:Y,children:"Salvar"})]})]})})]})}),s.jsx(qr,{open:!!w,onOpenChange:()=>v(null),children:s.jsxs(Pr,{className:"max-w-4xl max-h-[90vh] p-0",children:[s.jsx(Tr,{className:"p-6 pb-2",children:s.jsx(Rr,{children:"Visualizar Imagem"})}),w&&s.jsx("div",{className:"px-6 pb-6",children:s.jsx("img",{src:w,alt:"Visualização completa",className:"w-full h-auto max-h-[70vh] object-contain rounded-md"})})]})})]})},YK=()=>{var ht;const{user:e,loading:t}=ar(),r=Or(),n=ml(),{resolvedTheme:a}=as(),[i,o]=f.useState("dados"),[l,c]=f.useState(""),[d,u]=f.useState(""),[h,m]=f.useState(""),[p,w]=f.useState(50),[v,g]=f.useState(null),[y,x]=f.useState(null),[b,_]=f.useState("desktop"),[N,k]=f.useState(""),[S,R]=f.useState(!1),[U,B]=f.useState(!1),[re,G]=f.useState(""),[H,V]=f.useState(""),[se,te]=f.useState(""),[J,I]=f.useState(""),[D,C]=f.useState(""),[T,A]=f.useState(!1),[Y,E]=f.useState(!1),[$,Z]=f.useState(!1),[Q,P]=f.useState(!1),[F,X]=f.useState(!1),[de,Ne]=f.useState(""),[me,xe]=f.useState(""),Ye=f.useMemo(()=>H4(me),[me]),[Nt,kt]=f.useState(!1),[Ut,Et]=f.useState(null),[q,ne]=f.useState([]),[ue,be]=f.useState(!1),[we,pe]=f.useState(!1),[Ee,We]=f.useState(""),[fe,De]=f.useState(""),[gt,rt]=f.useState(""),pt=l||(e==null?void 0:e.email)||"Usuário",Pt=d||void 0;async function cr(ie,He=150*1024){const Ue=await new Promise((ka,Js)=>{const ea=new Image;ea.onload=()=>ka(ea),ea.onerror=Js,ea.src=URL.createObjectURL(ie)}),vt=600;let xt=Ue.width,St=Ue.height;const dr=Math.min(1,vt/Math.max(xt,St));xt=Math.max(1,Math.round(xt*dr)),St=Math.max(1,Math.round(St*dr));const Hr=document.createElement("canvas");Hr.width=xt,Hr.height=St;const Ir=Hr.getContext("2d");if(!Ir)throw new Error("Canvas context not available");Ir.drawImage(Ue,0,0,xt,St);let hn=.4,Fr=.9,ur=null;for(let ka=0;ka<7;ka++){const Js=(hn+Fr)/2,ea=await new Promise(fh=>Hr.toBlob(Bn=>fh(Bn||new Blob),"image/jpeg",Js));ea.size<=He?(ur=ea,hn=Js):Fr=Js}const Po=ur||await new Promise(ka=>Hr.toBlob(Js=>ka(Js||new Blob),"image/jpeg",.75));return URL.revokeObjectURL(Ue.src),{blob:Po,ext:"jpg"}}const z=S||!!((ht=e==null?void 0:e.user_metadata)!=null&&ht.is_pro),ae=async(ie,He,Ue=.8)=>{if(ie.size>2097152)throw new Error("Arquivo muito grande. Tamanho máximo: 2MB");const St=document.createElement("img"),dr=URL.createObjectURL(ie);try{await new Promise((ur,Po)=>{St.onload=()=>ur(),St.onerror=Po,St.src=dr});const Hr=Math.min(1,He/St.naturalWidth),Ir=document.createElement("canvas");Ir.width=Math.round(St.naturalWidth*Hr),Ir.height=Math.round(St.naturalHeight*Hr);const hn=Ir.getContext("2d");if(!hn)throw new Error("Canvas context not available");hn.imageSmoothingEnabled=!0,hn.imageSmoothingQuality="high",hn.drawImage(St,0,0,Ir.width,Ir.height);const Fr=await new Promise(ur=>Ir.toBlob(Po=>ur(Po),"image/webp",Ue));if(Fr.size>2097152)throw new Error("Imagem otimizada ainda muito grande. Tente uma imagem menor.");return Fr}finally{URL.revokeObjectURL(dr)}},ye=async()=>{await L.auth.signOut(),r("/")},{data:Pe,refetch:nt}=Ze({queryKey:["roles",e==null?void 0:e.id],enabled:!!(e!=null&&e.id),queryFn:async()=>{const{data:ie,error:He}=await L.from("user_roles").select("role").eq("user_id",e.id);if(He)throw He;return ie}}),st=(Pe||[]).some(ie=>ie.role==="musician"),{shouldShowIndicator:Ge,isActiveComputed:vr,isLoading:Dr}=eh({userId:e==null?void 0:e.id,isMusician:st}),{checkAndActivate:Me}=GH({userId:e==null?void 0:e.id,isMusician:st,profileData:{displayName:l,avatarUrl:d,coverUrl:h,description:N,username:me||de,whatsapp:re},exists:Q}),Ce=async()=>{if(e)try{const{data:ie,error:He}=await L.from("profiles").select("*").eq("id",e.id).maybeSingle();if(He){oe({title:"Erro ao carregar perfil",description:He.message});return}if(ie){P(!0),c(ie.display_name||""),u(ie.avatar_url||""),m(ie.cover_url||""),R(!!(ie!=null&&ie.is_pro)),B(!!(ie!=null&&ie.is_active)),k(ie.description||""),We(ie.description||"");const Ue=ie.whatsapp||"";G(Ue?Tp(Ue):""),V(ie.instagram||""),te(ie.facebook||""),I(ie.youtube||""),C(ie.spotify||""),Ne(ie.username||""),xe(ie.username||""),w(ie.cover_position??50),g(ie.cover_position_mobile??null),x(ie.cover_position_desktop??null);const vt=ie.responsible_name,xt=ie.pix_key;rt(vt&&vt.trim()!==""?vt:""),De(xt&&xt.trim()!==""?xt:"")}}catch(ie){console.error("Erro ao carregar perfil:",ie)}};f.useEffect(()=>{Ce()},[e]),f.useEffect(()=>{if(!e)return;if(!st){Et(null),ne([]);return}if(!Ye){Et(null),ne([]);return}let ie=!1;kt(!0);const He=setTimeout(async()=>{try{const Ue=await B0(Ye,e.id);if(ie)return;if(Et(Ue),Ue)ne([]);else{const vt=await sS(Ye,e.id,5);ie||ne(vt)}}catch(Ue){ie||oe({title:"Erro ao validar usuário",description:Ue.message})}finally{ie||kt(!1)}},400);return()=>{ie=!0,clearTimeout(He)}},[Ye,e,st]);const qe=f.useMemo(()=>{if(!e)return"";const ie=window.location.origin;return de?`${ie}/${de}`:`${ie}/m/${e.id}`},[e,de]),Re=ie=>{const He=Tp(ie);G(He)},ot=async()=>{if(e){Z(!0);try{const{error:ie}=await L.from("profiles").update({responsible_name:gt||null,pix_key:fe||null}).eq("id",e.id);if(ie)throw ie;oe({title:"Dados bancários salvos"})}catch(ie){oe({title:"Erro ao salvar dados bancários",description:ie.message})}finally{Z(!1)}}},wt=async()=>{if(e){Z(!0);try{if(st&&me){if(!/^[a-z0-9](?:[a-z0-9-]{1,28}[a-z0-9])?$/.test(Ye)){oe({title:"Nome de usuário inválido",description:"Use 3-30 caracteres, letras minúsculas, números e hífens. Não inicie/termine com hífen."});return}if(!await B0(Ye,e.id)&&Ye!==de){if(oe({title:"Nome indisponível",description:"Escolha uma das sugestões ou tente outro."}),q.length===0){const xt=await sS(Ye,e.id,5);ne(xt)}return}}const ie=re.replace(/\D/g,""),He=!1;if(Q){let Ue={display_name:l||null,avatar_url:d||null,cover_url:h||null,cover_position:p,cover_position_mobile:v,cover_position_desktop:y,whatsapp:ie||null,instagram:H||null,facebook:se||null,youtube:J||null,spotify:D||null,description:N||null,username:st?me?Ye:null:void 0,is_active:He},{error:vt}=await L.from("profiles").update(Ue).eq("id",e.id);if(vt&&String(vt.message).includes("cover_position_")){delete Ue.cover_position_mobile,delete Ue.cover_position_desktop;const xt=await L.from("profiles").update(Ue).eq("id",e.id);if(xt.error)throw xt.error}else if(vt)throw vt}else{let Ue={id:e.id,display_name:l||null,avatar_url:d||null,cover_url:h||null,cover_position:p,cover_position_mobile:v,cover_position_desktop:y,whatsapp:ie||null,instagram:H||null,facebook:se||null,youtube:J||null,spotify:D||null,description:N||null,username:st?me?Ye:null:void 0,is_active:He},{error:vt}=await L.from("profiles").insert(Ue);if(vt&&String(vt.message).includes("cover_position_")){delete Ue.cover_position_mobile,delete Ue.cover_position_desktop;const xt=await L.from("profiles").insert(Ue);if(xt.error)throw xt.error}else if(vt)throw vt;P(!0)}st&&Ne(me?Ye:""),oe({title:"Perfil salvo"}),st&&await Me()}catch(ie){oe({title:"Erro ao salvar",description:ie.message})}finally{Z(!1)}}};return s.jsxs("main",{className:"min-h-screen bg-background flex flex-col",children:[s.jsx(Zt,{title:"Perfil do Músico e QR Code",description:"Cadastre dados e gere seu QR Code para pedidos."}),s.jsxs("header",{className:"sticky top-0 z-40 h-12 flex items-center bg-background/80 supports-[backdrop-filter]:bg-background/60 backdrop-blur border-b px-4",children:[e&&s.jsx(O,{variant:"ghost",size:"icon",className:"mr-2","aria-label":"Abrir menu",onClick:()=>X(!0),children:s.jsx(Vf,{className:"h-5 w-5"})}),s.jsxs("nav",{className:"flex w-full items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Qt,{to:"/",className:"font-semibold",children:s.jsx("img",{src:a==="dark"?"/logo_avaplay.png":"/logo_avaplay_amarelo.png",alt:"AVAPlay",className:"h-6"})}),s.jsx(Id,{isVisible:Ge})]}),s.jsx("div",{className:"hidden md:flex items-center gap-2",children:e?null:s.jsx(O,{onClick:()=>r("/auth"),children:"Entrar"})})]})]}),s.jsxs("section",{className:"max-w-4xl mx-auto px-4 py-6",children:[e&&s.jsx(zs,{open:F,onOpenChange:X,children:s.jsx(ms,{side:"left",className:"w-[16rem] p-0",children:s.jsxs("nav",{className:"p-2",children:[s.jsxs("div",{className:" items-center gap-3 p-3 border-b mb-2",children:[s.jsxs(Ft,{className:"h-10 w-10",isPro:z,children:[s.jsx(Lt,{src:Pt,alt:pt??"Usuário"}),s.jsx($t,{children:(pt||"U").charAt(0).toUpperCase()})]}),s.jsx("div",{className:"min-w-0",children:s.jsx("p",{className:"text-sm truncate font-normal",children:pt})})]}),st&&s.jsx(O,{variant:"ghost",className:"w-full justify-start",onClick:()=>{X(!1),r("/musician")},children:"Painel"}),s.jsx(O,{variant:"ghost",className:"w-full justify-start",onClick:()=>{X(!1),r("/requests")},children:"Meus Pedidos"}),s.jsx(O,{variant:"ghost",className:"w-full justify-start",onClick:()=>{X(!1),r("/conexoes")},children:"Conexões"}),s.jsx(O,{variant:"ghost",className:"w-full justify-start",onClick:()=>{X(!1),r("/musician/profile")},children:"Editar perfil"}),s.jsx(O,{variant:"ghost",className:"w-full justify-start",onClick:()=>{X(!1),ye()},children:"Sair"})]})})}),!e&&!t&&s.jsxs(et,{className:"border-0 shadow-none",children:[s.jsx(Xt,{children:s.jsx(lr,{children:"Entre para configurar seu perfil"})}),s.jsx(tt,{children:s.jsx(O,{onClick:()=>r("/auth"),children:"Entrar"})})]}),e&&(st?s.jsx("div",{className:"space-y-6",children:s.jsxs(Fd,{value:i,onValueChange:o,className:"w-full",children:[n?s.jsxs("div",{className:"flex items-center gap-2 w-full",children:[s.jsxs(fo,{className:"flex-1",children:[s.jsx(Br,{value:"dados",className:"flex-1",children:"Meus dados"}),s.jsx(Br,{value:"contato",className:"flex-1",children:"Contato"})]}),s.jsxs(to,{children:[s.jsx(ro,{asChild:!0,children:s.jsx(O,{variant:"outline",size:"sm",className:"h-9 px-2",children:s.jsx(Zi,{className:"h-4 w-4"})})}),s.jsxs(Xa,{align:"end",className:"w-48",children:[s.jsx(fr,{onClick:()=>o("contratantes"),children:"Contratantes"}),s.jsx(fr,{onClick:()=>o("fotos"),children:"Fotos"}),s.jsx(fr,{onClick:()=>o("qrcode"),children:"QrCode"}),s.jsx(fr,{onClick:()=>o("bancarios"),children:"Dados bancários"})]})]})]}):s.jsxs(fo,{className:"grid w-full grid-cols-6",children:[s.jsx(Br,{value:"dados",children:"Meus dados"}),s.jsx(Br,{value:"contato",children:"Contato"}),s.jsx(Br,{value:"contratantes",children:"Contratantes"}),s.jsx(Br,{value:"fotos",children:"Fotos"}),s.jsx(Br,{value:"qrcode",children:"QrCode"}),s.jsx(Br,{value:"bancarios",children:"Dados bancários"})]}),s.jsxs(Xr,{value:"dados",children:[!Dr&&!vr&&s.jsx(Vg,{className:"mt-4 border-orange-200 bg-orange-50 dark:border-orange-800 dark:bg-orange-950",variant:"default",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"flex-shrink-0 mt-0.5",children:s.jsx("svg",{className:"w-4 h-4 text-orange-500",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx(t4,{className:"text-orange-800 dark:text-orange-200 font-medium text-sm",children:"Conta inativa - Complete os campos obrigatórios"}),s.jsx(Wg,{className:"text-orange-700 dark:text-orange-300 text-xs mt-1",children:"Avatar, foto de capa, nome público, nome de usuário, descrição e WhatsApp. Seu perfil não será exibido publicamente até que todos os campos sejam preenchidos."})]})]})}),s.jsx(et,{className:"border-0 shadow-none mt-5",children:s.jsxs(tt,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("input",{id:"avatarFile",type:"file",accept:"image/*",className:"hidden",onChange:async ie=>{var vt,xt;const He=ie.target,Ue=(vt=He==null?void 0:He.files)==null?void 0:vt[0];if(!(!Ue||!e)){E(!0);try{let St=Ue,dr=((xt=Ue.name.split(".").pop())==null?void 0:xt.toLowerCase())||"jpg",Hr=Ue.type||"image/jpeg";try{const ur=await cr(Ue,153600);St=ur.blob,dr=ur.ext,Hr="image/jpeg"}catch(ur){console.warn("Compressão do avatar falhou, enviando original:",ur)}const Ir=`${e.id}/avatar-${Date.now()}.${dr}`,{error:hn}=await L.storage.from("avatars").upload(Ir,St,{upsert:!0,contentType:Hr});if(hn)throw hn;const{data:Fr}=L.storage.from("avatars").getPublicUrl(Ir);u(Fr.publicUrl);try{const{error:ur}=await L.from("profiles").update({avatar_url:Fr.publicUrl}).eq("id",e.id);ur&&await L.from("profiles").insert({id:e.id,avatar_url:Fr.publicUrl})}catch(ur){console.warn("Falha ao persistir avatar no perfil:",ur)}oe({title:"Avatar enviado",description:"Imagem atualizada com sucesso."})}catch(St){oe({title:"Erro ao enviar avatar",description:St.message})}finally{E(!1),He&&(He.value="")}}}}),Y&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground mt-2",children:[s.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-primary border-t-transparent rounded-full"}),"Enviando imagem..."]})]}),s.jsxs("div",{children:[s.jsx(ze,{htmlFor:"displayName",children:"Nome público"}),s.jsx(Ie,{id:"displayName",value:l,onChange:ie=>c(KK(ie.target.value))})]}),s.jsxs("div",{children:[s.jsx(ze,{htmlFor:"username",children:"Nome público (link)"}),s.jsxs("div",{className:"relative",children:[s.jsx(Ie,{id:"username",placeholder:"ex.: joao-silva",value:me,onChange:ie=>xe(HK(ie.target.value)),className:"pr-8"}),s.jsx("div",{className:"absolute right-2 top-1/2 -translate-y-1/2",children:Nt?s.jsx(ig,{className:"h-4 w-4 animate-spin text-muted-foreground"}):Ut===!0&&Ye?s.jsx(Jw,{className:"h-4 w-4 text-green-600"}):Ut===!1&&Ye?s.jsx(eb,{className:"h-4 w-4 text-destructive"}):null})]}),Nt?s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Verificando disponibilidade..."}):Ut===!0?s.jsxs("p",{className:"text-xs text-green-600 mt-1",children:["Disponível! Seu perfil: ",`/${Ye}`]}):Ut===!1?s.jsxs("div",{className:"text-xs mt-1",children:[s.jsx("p",{className:"text-destructive mb-2",children:"Nome em uso. Sugestões:"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:q.map(ie=>s.jsx(O,{size:"sm",variant:"secondary",onClick:()=>xe(ie),children:ie},ie))})]}):s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:'Use apenas letras minúsculas, números e "-".'})]}),s.jsxs("div",{children:[s.jsx(ze,{htmlFor:"description",children:"Descrição"}),N?s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"p-3 border rounded-lg bg-muted/30 min-h-[80px]",children:s.jsx("p",{className:"text-sm text-foreground whitespace-pre-wrap",children:N})}),s.jsx(O,{variant:"ghost",size:"sm",className:"absolute top-2 right-2 h-8 w-8 p-0 bg-background/80 hover:bg-background text-primary hover:text-primary/80",onClick:()=>{We(N),pe(!0)},"aria-label":"Editar descrição",children:s.jsx(Qa,{className:"h-4 w-4"})})]}):s.jsx("div",{className:"p-3 border-2 border-dashed border-muted-foreground/30 rounded-lg bg-muted/20 min-h-[80px] flex items-center justify-center cursor-pointer hover:border-primary/50 hover:bg-muted/30 transition-colors",onClick:()=>pe(!0),children:s.jsxs("div",{className:"text-center text-muted-foreground",children:[s.jsx("p",{className:"text-sm font-medium",children:"Adicionar descrição"}),s.jsx("p",{className:"text-xs",children:"Clique para contar um pouco sobre você"})]})})]}),s.jsxs("div",{children:[s.jsx(ze,{htmlFor:"coverFile",children:"Foto de capa"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Esta será a imagem de destaque no seu perfil público."}),s.jsxs("div",{className:"space-y-4",children:[h?s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:`relative ${b==="mobile"?"h-40":"h-64"} w-full rounded-lg overflow-hidden border`,children:[s.jsx("img",{src:h,alt:"Capa do músico",className:"absolute inset-0 w-full h-full object-cover",style:{objectPosition:`center ${b==="mobile"?v??p:y??p}%`},loading:"lazy"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-black/40 to-transparent"}),s.jsx("div",{className:"absolute bottom-3 left-4 right-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative p-1 rounded-full bg-transparent",children:[s.jsxs(Ft,{className:"h-16 w-16 sm:h-20 sm:w-20 border-4 border-white/20 shadow-lg cursor-pointer",onClick:()=>{var ie;return(ie=document.getElementById("avatarFile"))==null?void 0:ie.click()},children:[s.jsx(Lt,{src:Pt,alt:pt??"Usuário"}),s.jsx($t,{className:"text-lg sm:text-xl font-semibold bg-primary/20 text-primary-foreground",children:(pt||"U").charAt(0).toUpperCase()})]}),Y&&s.jsx("div",{className:"absolute inset-0 rounded-full bg-black/40 backdrop-blur-sm flex items-center justify-center z-10",children:s.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-2 border-primary border-t-transparent"})}),s.jsx("button",{type:"button",className:"absolute -top-1 -right-1 h-6 w-6 rounded-full bg-background/80 border shadow-sm text-muted-foreground hover:text-foreground",onClick:()=>{var ie;return(ie=document.getElementById("avatarFile"))==null?void 0:ie.click()},"aria-label":"Editar avatar",children:s.jsx(Qa,{className:"h-3 w-3 mx-auto"})})]}),s.jsxs("div",{className:"inline-block rounded-md bg-background/60 backdrop-blur supports-[backdrop-filter]:backdrop-blur-sm px-1.5 py-1 sm:px-2 sm:py-1.5",children:[s.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2",children:[s.jsx("h1",{className:"text-lg sm:text-2xl font-semibold text-foreground",children:l||"Seu Nome"}),S&&s.jsx(uo,{size:n?22:28})]}),s.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 mt-0.5 text-xs sm:text-sm text-muted-foreground",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Jc,{className:"w-3 h-3 sm:w-4 sm:h-4"})," 0"]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(nr,{className:"w-3 h-3 sm:w-4 sm:h-4"})," 0"]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Cm,{className:"w-3 h-3 sm:w-4 sm:h-4"})," 0"]})]})]})]})}),T?s.jsx("div",{className:"absolute inset-0 bg-black/30 backdrop-blur-sm flex items-center justify-center z-10 rounded-lg",children:s.jsx("div",{className:"flex flex-col items-center gap-4 p-6 bg-background/80 backdrop-blur-sm rounded-2xl shadow-xl border border-border/30",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-primary border-t-transparent"}),s.jsx("span",{className:"text-sm font-medium text-foreground",children:"Enviando..."})]})})}):null,s.jsxs("div",{className:"absolute top-3 right-3 flex gap-2",children:[s.jsx(O,{type:"button",variant:"ghost",size:"sm",className:"h-8 w-8 rounded-full bg-background/80 backdrop-blur text-muted-foreground hover:text-foreground shadow-sm",onClick:()=>{var ie;return(ie=document.getElementById("coverFile"))==null?void 0:ie.click()},children:s.jsx(Qa,{className:"h-4 w-4"})}),s.jsx(O,{type:"button",variant:"ghost",size:"sm",className:"h-8 w-8 rounded-full bg-background/80 backdrop-blur text-muted-foreground hover:text-foreground shadow-sm",onClick:()=>{m(""),w(50)},children:s.jsx(Gn,{className:"h-4 w-4"})})]})]}),s.jsx("div",{className:"pt-2",children:b==="desktop"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(ze,{className:"text-sm",children:"Desktop (vertical)"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"text-xs text-muted-foreground",children:"Topo"}),s.jsx("input",{type:"range",min:"0",max:"100",value:y??p,onChange:ie=>x(Number(ie.target.value)),className:"w-full h-2 bg-muted/30 rounded-lg appearance-none cursor-pointer slider-primary [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:w-4 [&::-webkit-slider-thumb]:h-4 [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:bg-gray-500 [&::-webkit-slider-thumb]:cursor-pointer [&::-moz-range-thumb]:w-4 [&::-moz-range-thumb]:h-4 [&::-moz-range-thumb]:rounded-full [&::-moz-range-thumb]:bg-gray-500 [&::-moz-range-thumb]:cursor-pointer",style:{background:`linear-gradient(to right, hsl(0 0% 50% / 0.7) 0%, hsl(0 0% 50% / 0.7) ${y??p}%, hsl(var(--muted) / 0.3) ${y??p}%, hsl(var(--muted) / 0.3) 100%)`}}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"Base"})]})]})}),s.jsxs("div",{className:"hidden sm:block pt-4",children:[s.jsx(ze,{className:"text-xs text-muted-foreground",children:"Prévia mobile"}),s.jsxs("div",{className:"w-[360px] max-w-full",children:[s.jsxs("div",{className:"relative h-40 w-full rounded-lg overflow-hidden border mt-1",children:[s.jsx("img",{src:h,alt:"Prévia mobile da capa",className:"absolute inset-0 w-full h-full object-cover",style:{objectPosition:`center ${v??p}%`}}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-black/40 to-transparent"})]}),s.jsxs("div",{className:"space-y-2 mt-2",children:[s.jsx(ze,{className:"text-sm",children:"Mobile (vertical)"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"text-xs text-muted-foreground",children:"Topo"}),s.jsx("input",{type:"range",min:"0",max:"100",value:v??p,onChange:ie=>g(Number(ie.target.value)),className:"w-full h-2 bg-muted/30 rounded-lg appearance-none cursor-pointer slider-primary [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:w-4 [&::-webkit-slider-thumb]:h-4 [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:bg-gray-500 [&::-webkit-slider-thumb]:cursor-pointer [&::-moz-range-thumb]:w-4 [&::-moz-range-thumb]:h-4 [&::-moz-range-thumb]:rounded-full [&::-moz-range-thumb]:bg-gray-500 [&::-moz-range-thumb]:cursor-pointer",style:{background:`linear-gradient(to right, hsl(0 0% 50% / 0.7) 0%, hsl(0 0% 50% / 0.7) ${v??p}%, hsl(var(--muted) / 0.3) ${v??p}%, hsl(var(--muted) / 0.3) 100%)`}}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"Base"})]})]})]})]})]}):s.jsx("div",{className:"relative h-40 sm:h-56 md:h-64 w-full rounded-lg overflow-hidden border-2 border-dashed border-muted-foreground/30 hover:border-primary transition-colors cursor-pointer flex items-center justify-center bg-muted/50",onClick:()=>{var ie;return(ie=document.getElementById("coverFile"))==null?void 0:ie.click()},children:s.jsxs("div",{className:"flex flex-col items-center justify-center text-muted-foreground",children:[s.jsx(bc,{className:"h-12 w-12 mb-2"}),s.jsx("span",{className:"text-sm font-medium",children:"Adicionar foto de capa"}),s.jsx("span",{className:"text-xs",children:"Clique para selecionar uma imagem"})]})}),s.jsx("input",{id:"coverFile",type:"file",accept:"image/*",className:"hidden",onChange:async ie=>{var St;const He=ie.target,Ue=(St=He==null?void 0:He.files)==null?void 0:St[0];if(!Ue||!e)return;if(!Ue.type.startsWith("image/")){oe({title:"Tipo de arquivo inválido",description:"Selecione apenas arquivos de imagem.",variant:"destructive"});return}const vt=2,xt=vt*1024*1024;if(Ue.size>xt){oe({title:"Arquivo muito grande",description:`Tamanho máximo permitido: ${vt}MB. Seu arquivo: ${(Ue.size/(1024*1024)).toFixed(1)}MB`,variant:"destructive"});return}console.log("Iniciando upload do banner..."),A(!0),console.log("Estado uploadingCover definido como true");try{const dr=await ae(Ue,1200,.8),Ir=`${e.id}/cover-${Date.now()}.webp`,{error:hn}=await L.storage.from("covers").upload(Ir,dr,{upsert:!0,contentType:"image/webp"});if(hn)throw hn;const{data:Fr}=L.storage.from("covers").getPublicUrl(Ir);if(m(Fr.publicUrl),w(50),e)try{const{error:ur}=await L.from("profiles").update({cover_url:Fr.publicUrl,cover_position:50}).eq("id",e.id);ur?(console.error("Erro ao atualizar perfil:",ur),oe({title:"Capa enviada, mas erro ao salvar no perfil",description:"Clique em 'Salvar' para persistir as mudanças.",variant:"destructive"})):(P(!0),await Ce())}catch(ur){console.error("Erro ao atualizar perfil:",ur)}}catch(dr){oe({title:"Erro ao enviar capa",description:dr.message})}finally{console.log("Finalizando upload, resetando uploadingCover para false"),A(!1),He&&(He.value="")}}})]})]}),s.jsxs("div",{children:[s.jsx(ze,{htmlFor:"email",children:"Email de cadastro"}),s.jsx(Ie,{className:"border-none px-0 text-gray-400",id:"email",value:(e==null?void 0:e.email)||"",readOnly:!0})]}),s.jsxs("div",{className:"pt-2 space-y-4",children:[!st&&s.jsx("div",{className:"rounded-md border p-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",children:"Tornar-se músico"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Operação irreversível. Ao ativar, você passará a receber pedidos."})]}),s.jsx(no,{checked:!1,onCheckedChange:ie=>{ie&&be(!0)},disabled:st,"aria-label":"Ativar perfil de músico"})]})}),s.jsx(Ef,{open:ue,onOpenChange:be,children:s.jsxs(ld,{children:[s.jsxs(cd,{children:[s.jsx(ud,{children:"Confirmar mudança para perfil de músico"}),s.jsx(fd,{children:"Esta ação é irreversível. Deseja realmente ativar o perfil de músico? Você não poderá retornar ao perfil apenas público."})]}),s.jsxs(dd,{children:[s.jsx(md,{children:"Cancelar"}),s.jsx(hd,{onClick:async()=>{if(e)try{const{error:ie}=await L.from("user_roles").insert({user_id:e.id,role:"musician"});if(ie&&!String(ie.message).toLowerCase().includes("duplicate"))throw ie;oe({title:"Perfil de músico ativado"}),be(!1),await nt()}catch(ie){oe({title:"Erro ao mudar perfil",description:ie.message})}},children:"Ativar"})]})]})}),s.jsx(qr,{open:we,onOpenChange:pe,children:s.jsxs(Pr,{className:"sm:max-w-2xl",children:[s.jsx(Tr,{children:s.jsx(Rr,{children:"Editar Descrição"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ze,{htmlFor:"description-modal",children:"Descrição"}),s.jsx(Bi,{id:"description-modal",placeholder:"Conte um pouco sobre você, estilos, repertório, experiência...",value:Ee,onChange:ie=>We(ie.target.value.slice(0,400)),maxLength:400,className:"min-h-[200px] resize-none"}),s.jsxs("div",{className:"text-xs text-muted-foreground text-right",children:[(Ee==null?void 0:Ee.length)||0,"/400"]})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(O,{variant:"outline",onClick:()=>pe(!1),children:"Cancelar"}),s.jsx(O,{onClick:async()=>{try{if(!e)return;const{error:ie}=await L.from("profiles").update({description:Ee}).eq("id",e.id);if(ie)throw ie;k(Ee),pe(!1),oe({title:"Descrição salva",description:"Sua descrição foi atualizada com sucesso."})}catch(ie){oe({title:"Erro ao salvar",description:ie.message})}},disabled:!Ee.trim(),children:"Salvar"})]})]})]})}),s.jsx(O,{onClick:wt,disabled:$,children:$?"Salvando...":"Salvar"})]})]})})]}),s.jsx(Xr,{value:"contato",children:s.jsx(et,{className:"border-0 shadow-none mt-5",children:s.jsxs(tt,{children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ze,{htmlFor:"whatsapp",children:"WhatsApp"}),s.jsx(Ie,{id:"whatsapp",value:re,onChange:ie=>Re(ie.target.value),placeholder:"(00) 00000-0000",maxLength:15})]}),s.jsxs("div",{children:[s.jsx(ze,{htmlFor:"instagram",children:"Instagram"}),s.jsx(Ie,{id:"instagram",value:H,onChange:ie=>V(ie.target.value),placeholder:"@usuario ou URL"})]}),s.jsxs("div",{children:[s.jsx(ze,{htmlFor:"facebook",children:"Facebook"}),s.jsx(Ie,{id:"facebook",value:se,onChange:ie=>te(ie.target.value),placeholder:"URL do perfil/página"})]}),s.jsxs("div",{children:[s.jsx(ze,{htmlFor:"youtube",children:"YouTube"}),s.jsx(Ie,{id:"youtube",value:J,onChange:ie=>I(ie.target.value),placeholder:"URL do canal"})]}),s.jsxs("div",{children:[s.jsx(ze,{htmlFor:"spotify",children:"Spotify"}),s.jsx(Ie,{id:"spotify",value:D||"",onChange:ie=>C(ie.target.value),placeholder:"URL do perfil/artist"})]})]}),s.jsx("div",{className:"pt-4",children:s.jsx(O,{onClick:wt,disabled:$,children:$?"Salvando...":"Salvar"})})]})})}),s.jsx(Xr,{value:"contratantes",children:s.jsxs(et,{className:"border-0 shadow-none mt-5",children:[s.jsx(Xt,{children:s.jsx(lr,{children:"Tipos de Shows"})}),s.jsx(tt,{children:s.jsx(GK,{userId:e.id,isMobile:n})})]})}),s.jsx(Xr,{value:"fotos",children:s.jsx(et,{className:"border-0 shadow-none mt-0",children:s.jsx(tt,{className:"mt-10",children:s.jsx(WK,{userId:e.id})})})}),s.jsx(Xr,{value:"qrcode",children:s.jsx(et,{className:"border-0 shadow-none",children:s.jsxs(tt,{className:"space-y-3",children:[s.jsx("div",{className:"flex items-center justify-center p-2",children:qe&&s.jsx("div",{className:"bg-card rounded-md p-2 inline-block",children:s.jsx(e4,{value:qe,size:192,includeMargin:!0})})}),s.jsx("div",{className:"flex justify-center",children:s.jsx(O,{variant:"outline",onClick:()=>{navigator.clipboard.writeText(qe),oe({title:"Link copiado"})},children:"Copiar link"})})]})})}),s.jsx(Xr,{value:"bancarios",children:s.jsxs(et,{className:"border-0 shadow-none mt-5",children:[s.jsx(Xt,{children:s.jsx(lr,{children:"Dados bancários"})}),s.jsxs(tt,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(ze,{htmlFor:"bankResponsibleName",children:"Nome completo"}),s.jsx(Ie,{id:"bankResponsibleName",value:gt,onChange:ie=>rt(ie.target.value),placeholder:"Digite seu nome completo"})]}),s.jsxs("div",{children:[s.jsx(ze,{htmlFor:"pixKey",children:"Chave PIX"}),s.jsx(Ie,{id:"pixKey",value:fe,onChange:ie=>De(ie.target.value),placeholder:"Digite sua chave PIX"})]}),s.jsx("div",{className:"flex justify-start pt-2",children:s.jsx(O,{onClick:ot,disabled:$,children:$?"Salvando...":"Salvar"})})]})]})})]})}):s.jsx("div",{className:"grid grid-cols-1 gap-6",children:s.jsxs(et,{className:"border-0 shadow-none",children:[s.jsx(Xt,{children:s.jsx(lr,{children:"Seus dados"})}),s.jsxs(tt,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(ze,{htmlFor:"email",children:"Email de cadastro"}),s.jsx(Ie,{id:"email",value:(e==null?void 0:e.email)||"",readOnly:!0})]}),s.jsxs("div",{children:[s.jsx(ze,{htmlFor:"displayName",children:"Nome público"}),s.jsx(Ie,{id:"displayName",value:l,onChange:ie=>c(ie.target.value)})]}),s.jsxs("div",{children:[s.jsx(ze,{htmlFor:"avatarFile",children:"Avatar"}),s.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[s.jsx("input",{id:"avatarFile",type:"file",accept:"image/*",className:"hidden",onChange:async ie=>{var vt,xt;const He=ie.target,Ue=(vt=He==null?void 0:He.files)==null?void 0:vt[0];if(!(!Ue||!e)){E(!0);try{const St=((xt=Ue.name.split(".").pop())==null?void 0:xt.toLowerCase())||"jpg",dr=`${e.id}/avatar-${Date.now()}.${St}`,{error:Hr}=await L.storage.from("avatars").upload(dr,Ue,{upsert:!0,contentType:Ue.type});if(Hr)throw Hr;const{data:Ir}=L.storage.from("avatars").getPublicUrl(dr);u(Ir.publicUrl),oe({title:"Avatar enviado",description:"Pré-visualização atualizada."})}catch(St){oe({title:"Erro ao enviar avatar",description:St.message})}finally{E(!1),He&&(He.value="")}}}}),s.jsx(O,{type:"button",variant:"outline",onClick:()=>{var ie;return(ie=document.getElementById("avatarFile"))==null?void 0:ie.click()},disabled:Y,children:Y?"Enviando...":"Enviar avatar"}),d&&s.jsx(O,{type:"button",variant:"ghost",onClick:()=>u(""),children:"Remover"})]}),d&&s.jsx("div",{className:"mt-3",children:s.jsxs(Ft,{className:"h-16 w-16",isPro:S,children:[s.jsx(Lt,{src:d,alt:"Avatar do músico"}),s.jsx($t,{children:(l||"U").charAt(0).toUpperCase()})]})})]}),s.jsxs("div",{className:"pt-2 space-y-4",children:[!st&&s.jsx("div",{className:"rounded-md border p-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",children:"Tornar-se músico"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Operação irreversível. Ao ativar, você passará a receber pedidos."})]}),s.jsx(no,{checked:!1,onCheckedChange:ie=>{ie&&be(!0)},disabled:st,"aria-label":"Ativar perfil de músico"})]})}),s.jsx(Ef,{open:ue,onOpenChange:be,children:s.jsxs(ld,{children:[s.jsxs(cd,{children:[s.jsx(ud,{children:"Confirmar mudança para perfil de músico"}),s.jsx(fd,{children:"Esta ação é irreversível. Deseja realmente ativar o perfil de músico? Você não poderá retornar ao perfil apenas público."})]}),s.jsxs(dd,{children:[s.jsx(md,{children:"Cancelar"}),s.jsx(hd,{onClick:async()=>{if(e)try{const{error:ie}=await L.from("user_roles").insert({user_id:e.id,role:"musician"});if(ie&&!String(ie.message).toLowerCase().includes("duplicate"))throw ie;oe({title:"Perfil de músico ativado"}),be(!1),await nt()}catch(ie){oe({title:"Erro ao mudar perfil",description:ie.message})}},children:"Ativar"})]})]})}),s.jsx(O,{onClick:wt,disabled:$,children:$?"Salvando...":"Salvar"})]})]})]})}))]}),s.jsx("footer",{className:"mt-auto py-6 text-center text-xs text-muted-foreground",children:"© 2025 - AVAPlay"})]})};function QK(){const{user:e}=ar(),t=f.useRef(null);f.useEffect(()=>{if(!e)return;console.log("🔔 [NewRequestNotification] Setting up notification system for user:",e.id);const r=L.channel(`new-requests-notification-${e.id}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"requests"},async n=>{const a=n.new;if(!a)return;let i=a.musician_id===e.id;if(!i&&a.song_id)try{const{data:l}=await L.from("songs").select("owner_id").eq("id",a.song_id).limit(1).maybeSingle();i=!!l&&l.owner_id===e.id}catch{}if(!i)return;console.log("🔔 [NewRequestNotification] New request received:",a),(()=>{fa({particleCount:150,spread:70,origin:{y:.6},colors:["#10B981","#059669","#065F46","#34D399","#6EE7B7"]}),setTimeout(()=>{fa({particleCount:100,spread:60,origin:{x:.2,y:.4},colors:["#F59E0B","#D97706","#FBBF24","#FCD34D"]})},200),setTimeout(()=>{fa({particleCount:100,spread:60,origin:{x:.8,y:.4},colors:["#EF4444","#DC2626","#F87171","#FCA5A5"]})},400),setTimeout(()=>{fa({particleCount:50,spread:90,origin:{y:.1},colors:["#8B5CF6","#7C3AED","#A78BFA","#C4B5FD"]})},600)})(),oe({title:"🎵 Novo Pedido de Música!",description:`${a.requester_name||"Alguém"} acabou de solicitar uma música. Que emoção! 🎸`,duration:1e4}),"Notification"in window&&Notification.permission==="granted"&&new Notification("🎵 Novo Pedido de Música!",{body:`${a.requester_name||"Alguém"} acabou de solicitar uma música!`,icon:"/favicon.ico",tag:"new-request"})}).subscribe(n=>{console.log("🔔 [NewRequestNotification] Subscription status:",n)});return()=>{console.log("🔔 [NewRequestNotification] Cleaning up notification system"),L.removeChannel(r)}},[e]),f.useEffect(()=>{if(!(e!=null&&e.id))return;let r=!1;const n=async()=>{var i;try{const{data:o,error:l}=await L.from("requests").select("created_at").eq("musician_id",e.id).order("created_at",{ascending:!1}).limit(1);if(l)return;const c=(i=o==null?void 0:o[0])==null?void 0:i.created_at;if(!c)return;if(!t.current){t.current=c;return}c>t.current&&(t.current=c,fa({particleCount:120,spread:60,origin:{y:.6},colors:["#10B981","#34D399"]}),oe({title:"🎵 Novo Pedido de Música!",description:"Você recebeu um novo pedido.",duration:8e3}))}catch{}};n();const a=setInterval(()=>{r||n()},8e3);return()=>{r=!0,clearInterval(a)}},[e==null?void 0:e.id]),f.useEffect(()=>{"Notification"in window&&Notification.permission==="default"&&Notification.requestPermission().then(r=>{console.log("🔔 [NewRequestNotification] Notification permission:",r)})},[])}const XK=()=>{const{user:e,loading:t}=ar(),r=Or(),{resolvedTheme:n,setTheme:a}=as(),i=()=>a(n==="dark"?"light":"dark");QK();const{shouldShowIndicator:o}=eh({userId:e==null?void 0:e.id,isMusician:!0});return f.useEffect(()=>{if(!t){if(!e){r("/auth",{replace:!0});return}(async()=>{const{data:l}=await L.from("user_roles").select("role").eq("user_id",e.id);(l||[]).some(d=>d.role==="musician")||r("/",{replace:!0})})()}},[e,t,r]),s.jsx(oi,{children:s.jsxs("div",{className:"min-h-screen flex w-full bg-background",children:[s.jsx(Jf,{}),s.jsxs("main",{className:"flex-1",children:[s.jsx(Zt,{title:"Painel do Músico",description:"Gerencie QR Code, catálogo e pedidos."}),s.jsxs("header",{className:"sticky top-0 z-40 h-12 flex items-center bg-background/80 supports-[backdrop-filter]:bg-background/60 backdrop-blur border-b px-2 gap-2",children:[s.jsx(Dd,{className:"mr-1"}),s.jsxs("nav",{className:"flex w-full items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Qt,{to:"/",className:"font-semibold",children:s.jsx("img",{src:n==="dark"?"/logo_avaplay.png":"/logo_avaplay_amarelo.png",alt:"AVAPlay",className:"h-6"})}),s.jsx(Id,{isVisible:o})]}),s.jsx(O,{variant:"ghost",size:"icon","aria-label":"Alternar tema",onClick:i,children:n==="dark"?s.jsx(lg,{className:"h-5 w-5"}):s.jsx(og,{className:"h-5 w-5"})})]})]}),s.jsx("div",{className:"p-1",children:s.jsx(nP,{})})]})]})})},ZK=()=>{const{user:e}=ar(),t=Or(),r=f.useMemo(()=>e?`${window.location.origin}/m/${e.id}`:"",[e]);return s.jsxs("section",{className:"max-w-5xl mx-auto",children:[s.jsx(Zt,{title:"QR Code do Músico",description:"Gere e compartilhe seu QR Code público."}),e?s.jsxs("div",{className:"space-y-6",children:[s.jsx(et,{className:"border-none shadow-none",children:s.jsx(tt,{className:"pt-6",children:s.jsx("div",{className:"flex justify-center",children:s.jsx("div",{className:"bg-white p-8 rounded-lg shadow-sm border",children:s.jsx(e4,{value:r,size:280,level:"M",includeMargin:!0,bgColor:"#ffffff",fgColor:"#000000"})})})})}),s.jsxs(et,{className:"border-none shadow-none",children:[s.jsx(Xt,{children:s.jsx(lr,{children:"Compartilhe seu perfil"})}),s.jsxs(tt,{className:"space-y-4",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Compartilhe este QR Code para que as pessoas possam acessar seu perfil público e fazer pedidos de música."}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ie,{readOnly:!0,value:r,className:"flex-1"}),s.jsx(O,{variant:"outline",onClick:()=>{navigator.clipboard.writeText(r).then(()=>oe({title:"Link copiado!"})).catch(()=>oe({title:"Erro ao copiar",variant:"destructive"}))},children:"Copiar Link"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(O,{variant:"secondary",onClick:()=>t(`/m/${e.id}`),className:"flex-1",children:"Visualizar Perfil Público"}),s.jsx(O,{variant:"outline",onClick:()=>{window.print()},children:"Imprimir QR"})]})]})]})]})]}):s.jsxs(et,{children:[s.jsx(Xt,{children:s.jsx(lr,{children:"Entre para gerar seu QR"})}),s.jsx(tt,{children:s.jsx(O,{onClick:()=>t("/auth"),children:"Entrar"})})]})]})};var dh=e=>e.type==="checkbox",Ko=e=>e instanceof Date,yn=e=>e==null;const K4=e=>typeof e=="object";var Cr=e=>!yn(e)&&!Array.isArray(e)&&K4(e)&&!Ko(e),G4=e=>Cr(e)&&e.target?dh(e.target)?e.target.checked:e.target.value:e,JK=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,Y4=(e,t)=>e.has(JK(t)),eG=e=>{const t=e.constructor&&e.constructor.prototype;return Cr(t)&&t.hasOwnProperty("isPrototypeOf")},cj=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function $r(e){let t;const r=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(cj&&(e instanceof Blob||n))&&(r||Cr(e)))if(t=r?[]:{},!r&&!eG(e))t=e;else for(const a in e)e.hasOwnProperty(a)&&(t[a]=$r(e[a]));else return e;return t}var Qg=e=>/^\w*$/.test(e),Nr=e=>e===void 0,dj=e=>Array.isArray(e)?e.filter(Boolean):[],uj=e=>dj(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Te=(e,t,r)=>{if(!t||!Cr(e))return r;const n=(Qg(t)?[t]:uj(t)).reduce((a,i)=>yn(a)?a:a[i],e);return Nr(n)||n===e?Nr(e[t])?r:e[t]:n},Kn=e=>typeof e=="boolean",qt=(e,t,r)=>{let n=-1;const a=Qg(t)?[t]:uj(t),i=a.length,o=i-1;for(;++n<i;){const l=a[n];let c=r;if(n!==o){const d=e[l];c=Cr(d)||Array.isArray(d)?d:isNaN(+a[n+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const Rp={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Us={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Ra={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},fj=he.createContext(null);fj.displayName="HookFormContext";const Xg=()=>he.useContext(fj),tG=e=>{const{children:t,...r}=e;return he.createElement(fj.Provider,{value:r},t)};var Q4=(e,t,r,n=!0)=>{const a={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(a,i,{get:()=>{const o=i;return t._proxyFormState[o]!==Us.all&&(t._proxyFormState[o]=!n||Us.all),r&&(r[o]=!0),e[o]}});return a};const hj=typeof window<"u"?he.useLayoutEffect:he.useEffect;function rG(e){const t=Xg(),{control:r=t.control,disabled:n,name:a,exact:i}=e||{},[o,l]=he.useState(r._formState),c=he.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return hj(()=>r._subscribe({name:a,formState:c.current,exact:i,callback:d=>{!n&&l({...r._formState,...d})}}),[a,n,i]),he.useEffect(()=>{c.current.isValid&&r._setValid(!0)},[r]),he.useMemo(()=>Q4(o,r,c.current,!1),[o,r])}var pa=e=>typeof e=="string",X4=(e,t,r,n,a)=>pa(e)?(n&&t.watch.add(e),Te(r,e,a)):Array.isArray(e)?e.map(i=>(n&&t.watch.add(i),Te(r,i))):(n&&(t.watchAll=!0),r),q0=e=>yn(e)||!K4(e);function Va(e,t,r=new WeakSet){if(q0(e)||q0(t))return e===t;if(Ko(e)&&Ko(t))return e.getTime()===t.getTime();const n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const i of n){const o=e[i];if(!a.includes(i))return!1;if(i!=="ref"){const l=t[i];if(Ko(o)&&Ko(l)||Cr(o)&&Cr(l)||Array.isArray(o)&&Array.isArray(l)?!Va(o,l,r):o!==l)return!1}}return!0}function nG(e){const t=Xg(),{control:r=t.control,name:n,defaultValue:a,disabled:i,exact:o,compute:l}=e||{},c=he.useRef(a),d=he.useRef(l),u=he.useRef(void 0);d.current=l;const h=he.useMemo(()=>r._getWatch(n,c.current),[r,n]),[m,p]=he.useState(d.current?d.current(h):h);return hj(()=>r._subscribe({name:n,formState:{values:!0},exact:o,callback:w=>{if(!i){const v=X4(n,r._names,w.values||r._formValues,!1,c.current);if(d.current){const g=d.current(v);Va(g,u.current)||(p(g),u.current=g)}else p(v)}}}),[r,i,n,o]),he.useEffect(()=>r._removeUnmounted()),m}function sG(e){const t=Xg(),{name:r,disabled:n,control:a=t.control,shouldUnregister:i,defaultValue:o}=e,l=Y4(a._names.array,r),c=he.useMemo(()=>Te(a._formValues,r,Te(a._defaultValues,r,o)),[a,r,o]),d=nG({control:a,name:r,defaultValue:c,exact:!0}),u=rG({control:a,name:r,exact:!0}),h=he.useRef(e),m=he.useRef(a.register(r,{...e.rules,value:d,...Kn(e.disabled)?{disabled:e.disabled}:{}}));h.current=e;const p=he.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Te(u.errors,r)},isDirty:{enumerable:!0,get:()=>!!Te(u.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!Te(u.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!Te(u.validatingFields,r)},error:{enumerable:!0,get:()=>Te(u.errors,r)}}),[u,r]),w=he.useCallback(x=>m.current.onChange({target:{value:G4(x),name:r},type:Rp.CHANGE}),[r]),v=he.useCallback(()=>m.current.onBlur({target:{value:Te(a._formValues,r),name:r},type:Rp.BLUR}),[r,a._formValues]),g=he.useCallback(x=>{const b=Te(a._fields,r);b&&x&&(b._f.ref={focus:()=>x.focus&&x.focus(),select:()=>x.select&&x.select(),setCustomValidity:_=>x.setCustomValidity(_),reportValidity:()=>x.reportValidity()})},[a._fields,r]),y=he.useMemo(()=>({name:r,value:d,...Kn(n)||u.disabled?{disabled:u.disabled||n}:{},onChange:w,onBlur:v,ref:g}),[r,n,u.disabled,w,v,g,d]);return he.useEffect(()=>{const x=a._options.shouldUnregister||i;a.register(r,{...h.current.rules,...Kn(h.current.disabled)?{disabled:h.current.disabled}:{}});const b=(_,N)=>{const k=Te(a._fields,_);k&&k._f&&(k._f.mount=N)};if(b(r,!0),x){const _=$r(Te(a._options.defaultValues,r));qt(a._defaultValues,r,_),Nr(Te(a._formValues,r))&&qt(a._formValues,r,_)}return!l&&a.register(r),()=>{(l?x&&!a._state.action:x)?a.unregister(r):b(r,!1)}},[r,a,l,i]),he.useEffect(()=>{a._setDisabledField({disabled:n,name:r})},[n,r,a]),he.useMemo(()=>({field:y,formState:u,fieldState:p}),[y,u,p])}const aG=e=>e.render(sG(e));var Z4=(e,t,r,n,a)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:a||!0}}:{},Gu=e=>Array.isArray(e)?e:[e],aS=()=>{let e=[];return{get observers(){return e},next:a=>{for(const i of e)i.next&&i.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(i=>i!==a)}}),unsubscribe:()=>{e=[]}}},Rn=e=>Cr(e)&&!Object.keys(e).length,mj=e=>e.type==="file",Bs=e=>typeof e=="function",Mp=e=>{if(!cj)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},J4=e=>e.type==="select-multiple",pj=e=>e.type==="radio",iG=e=>pj(e)||dh(e),Ux=e=>Mp(e)&&e.isConnected;function oG(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=Nr(e)?n++:e[t[n++]];return e}function lG(e){for(const t in e)if(e.hasOwnProperty(t)&&!Nr(e[t]))return!1;return!0}function Er(e,t){const r=Array.isArray(t)?t:Qg(t)?[t]:uj(t),n=r.length===1?e:oG(e,r),a=r.length-1,i=r[a];return n&&delete n[i],a!==0&&(Cr(n)&&Rn(n)||Array.isArray(n)&&lG(n))&&Er(e,r.slice(0,-1)),e}var eA=e=>{for(const t in e)if(Bs(e[t]))return!0;return!1};function Ap(e,t={}){const r=Array.isArray(e);if(Cr(e)||r)for(const n in e)Array.isArray(e[n])||Cr(e[n])&&!eA(e[n])?(t[n]=Array.isArray(e[n])?[]:{},Ap(e[n],t[n])):yn(e[n])||(t[n]=!0);return t}function tA(e,t,r){const n=Array.isArray(e);if(Cr(e)||n)for(const a in e)Array.isArray(e[a])||Cr(e[a])&&!eA(e[a])?Nr(t)||q0(r[a])?r[a]=Array.isArray(e[a])?Ap(e[a],[]):{...Ap(e[a])}:tA(e[a],yn(t)?{}:t[a],r[a]):r[a]=!Va(e[a],t[a]);return r}var pu=(e,t)=>tA(e,t,Ap(t));const iS={value:!1,isValid:!1},oS={value:!0,isValid:!0};var rA=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Nr(e[0].attributes.value)?Nr(e[0].value)||e[0].value===""?oS:{value:e[0].value,isValid:!0}:oS:iS}return iS},nA=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>Nr(e)?e:t?e===""?NaN:e&&+e:r&&pa(e)?new Date(e):n?n(e):e;const lS={isValid:!1,value:null};var sA=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,lS):lS;function cS(e){const t=e.ref;return mj(t)?t.files:pj(t)?sA(e.refs).value:J4(t)?[...t.selectedOptions].map(({value:r})=>r):dh(t)?rA(e.refs).value:nA(Nr(t.value)?e.ref.value:t.value,e)}var cG=(e,t,r,n)=>{const a={};for(const i of e){const o=Te(t,i);o&&qt(a,i,o._f)}return{criteriaMode:r,names:[...e],fields:a,shouldUseNativeValidation:n}},Op=e=>e instanceof RegExp,gu=e=>Nr(e)?e:Op(e)?e.source:Cr(e)?Op(e.value)?e.value.source:e.value:e,dS=e=>({isOnSubmit:!e||e===Us.onSubmit,isOnBlur:e===Us.onBlur,isOnChange:e===Us.onChange,isOnAll:e===Us.all,isOnTouch:e===Us.onTouched});const uS="AsyncFunction";var dG=e=>!!e&&!!e.validate&&!!(Bs(e.validate)&&e.validate.constructor.name===uS||Cr(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===uS)),uG=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),fS=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const Yu=(e,t,r,n)=>{for(const a of r||Object.keys(e)){const i=Te(e,a);if(i){const{_f:o,...l}=i;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],a)&&!n)return!0;if(o.ref&&t(o.ref,o.name)&&!n)return!0;if(Yu(l,t))break}else if(Cr(l)&&Yu(l,t))break}}};function hS(e,t,r){const n=Te(e,r);if(n||Qg(r))return{error:n,name:r};const a=r.split(".");for(;a.length;){const i=a.join("."),o=Te(t,i),l=Te(e,i);if(o&&!Array.isArray(o)&&r!==i)return{name:r};if(l&&l.type)return{name:i,error:l};if(l&&l.root&&l.root.type)return{name:`${i}.root`,error:l.root};a.pop()}return{name:r}}var fG=(e,t,r,n)=>{r(e);const{name:a,...i}=e;return Rn(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(o=>t[o]===(!n||Us.all))},hG=(e,t,r)=>!e||!t||e===t||Gu(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),mG=(e,t,r,n,a)=>a.isOnAll?!1:!r&&a.isOnTouch?!(t||e):(r?n.isOnBlur:a.isOnBlur)?!e:(r?n.isOnChange:a.isOnChange)?e:!0,pG=(e,t)=>!dj(Te(e,t)).length&&Er(e,t),gG=(e,t,r)=>{const n=Gu(Te(e,r));return qt(n,"root",t[r]),qt(e,r,n),e},Am=e=>pa(e);function mS(e,t,r="validate"){if(Am(e)||Array.isArray(e)&&e.every(Am)||Kn(e)&&!e)return{type:r,message:Am(e)?e:"",ref:t}}var ec=e=>Cr(e)&&!Op(e)?e:{value:e,message:""},pS=async(e,t,r,n,a,i)=>{const{ref:o,refs:l,required:c,maxLength:d,minLength:u,min:h,max:m,pattern:p,validate:w,name:v,valueAsNumber:g,mount:y}=e._f,x=Te(r,v);if(!y||t.has(v))return{};const b=l?l[0]:o,_=G=>{a&&b.reportValidity&&(b.setCustomValidity(Kn(G)?"":G||""),b.reportValidity())},N={},k=pj(o),S=dh(o),R=k||S,U=(g||mj(o))&&Nr(o.value)&&Nr(x)||Mp(o)&&o.value===""||x===""||Array.isArray(x)&&!x.length,B=Z4.bind(null,v,n,N),re=(G,H,V,se=Ra.maxLength,te=Ra.minLength)=>{const J=G?H:V;N[v]={type:G?se:te,message:J,ref:o,...B(G?se:te,J)}};if(i?!Array.isArray(x)||!x.length:c&&(!R&&(U||yn(x))||Kn(x)&&!x||S&&!rA(l).isValid||k&&!sA(l).isValid)){const{value:G,message:H}=Am(c)?{value:!!c,message:c}:ec(c);if(G&&(N[v]={type:Ra.required,message:H,ref:b,...B(Ra.required,H)},!n))return _(H),N}if(!U&&(!yn(h)||!yn(m))){let G,H;const V=ec(m),se=ec(h);if(!yn(x)&&!isNaN(x)){const te=o.valueAsNumber||x&&+x;yn(V.value)||(G=te>V.value),yn(se.value)||(H=te<se.value)}else{const te=o.valueAsDate||new Date(x),J=C=>new Date(new Date().toDateString()+" "+C),I=o.type=="time",D=o.type=="week";pa(V.value)&&x&&(G=I?J(x)>J(V.value):D?x>V.value:te>new Date(V.value)),pa(se.value)&&x&&(H=I?J(x)<J(se.value):D?x<se.value:te<new Date(se.value))}if((G||H)&&(re(!!G,V.message,se.message,Ra.max,Ra.min),!n))return _(N[v].message),N}if((d||u)&&!U&&(pa(x)||i&&Array.isArray(x))){const G=ec(d),H=ec(u),V=!yn(G.value)&&x.length>+G.value,se=!yn(H.value)&&x.length<+H.value;if((V||se)&&(re(V,G.message,H.message),!n))return _(N[v].message),N}if(p&&!U&&pa(x)){const{value:G,message:H}=ec(p);if(Op(G)&&!x.match(G)&&(N[v]={type:Ra.pattern,message:H,ref:o,...B(Ra.pattern,H)},!n))return _(H),N}if(w){if(Bs(w)){const G=await w(x,r),H=mS(G,b);if(H&&(N[v]={...H,...B(Ra.validate,H.message)},!n))return _(H.message),N}else if(Cr(w)){let G={};for(const H in w){if(!Rn(G)&&!n)break;const V=mS(await w[H](x,r),b,H);V&&(G={...V,...B(H,V.message)},_(V.message),n&&(N[v]=G))}if(!Rn(G)&&(N[v]={ref:b,...G},!n))return N}}return _(!0),N};const vG={mode:Us.onSubmit,reValidateMode:Us.onChange,shouldFocusError:!0};function xG(e={}){let t={...vG,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Bs(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},a=Cr(t.defaultValues)||Cr(t.values)?$r(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:$r(a),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,d=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let h={...u};const m={array:aS(),state:aS()},p=t.criteriaMode===Us.all,w=q=>ne=>{clearTimeout(d),d=setTimeout(q,ne)},v=async q=>{if(!t.disabled&&(u.isValid||h.isValid||q)){const ne=t.resolver?Rn((await S()).errors):await U(n,!0);ne!==r.isValid&&m.state.next({isValid:ne})}},g=(q,ne)=>{!t.disabled&&(u.isValidating||u.validatingFields||h.isValidating||h.validatingFields)&&((q||Array.from(l.mount)).forEach(ue=>{ue&&(ne?qt(r.validatingFields,ue,ne):Er(r.validatingFields,ue))}),m.state.next({validatingFields:r.validatingFields,isValidating:!Rn(r.validatingFields)}))},y=(q,ne=[],ue,be,we=!0,pe=!0)=>{if(be&&ue&&!t.disabled){if(o.action=!0,pe&&Array.isArray(Te(n,q))){const Ee=ue(Te(n,q),be.argA,be.argB);we&&qt(n,q,Ee)}if(pe&&Array.isArray(Te(r.errors,q))){const Ee=ue(Te(r.errors,q),be.argA,be.argB);we&&qt(r.errors,q,Ee),pG(r.errors,q)}if((u.touchedFields||h.touchedFields)&&pe&&Array.isArray(Te(r.touchedFields,q))){const Ee=ue(Te(r.touchedFields,q),be.argA,be.argB);we&&qt(r.touchedFields,q,Ee)}(u.dirtyFields||h.dirtyFields)&&(r.dirtyFields=pu(a,i)),m.state.next({name:q,isDirty:re(q,ne),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else qt(i,q,ne)},x=(q,ne)=>{qt(r.errors,q,ne),m.state.next({errors:r.errors})},b=q=>{r.errors=q,m.state.next({errors:r.errors,isValid:!1})},_=(q,ne,ue,be)=>{const we=Te(n,q);if(we){const pe=Te(i,q,Nr(ue)?Te(a,q):ue);Nr(pe)||be&&be.defaultChecked||ne?qt(i,q,ne?pe:cS(we._f)):V(q,pe),o.mount&&v()}},N=(q,ne,ue,be,we)=>{let pe=!1,Ee=!1;const We={name:q};if(!t.disabled){if(!ue||be){(u.isDirty||h.isDirty)&&(Ee=r.isDirty,r.isDirty=We.isDirty=re(),pe=Ee!==We.isDirty);const fe=Va(Te(a,q),ne);Ee=!!Te(r.dirtyFields,q),fe?Er(r.dirtyFields,q):qt(r.dirtyFields,q,!0),We.dirtyFields=r.dirtyFields,pe=pe||(u.dirtyFields||h.dirtyFields)&&Ee!==!fe}if(ue){const fe=Te(r.touchedFields,q);fe||(qt(r.touchedFields,q,ue),We.touchedFields=r.touchedFields,pe=pe||(u.touchedFields||h.touchedFields)&&fe!==ue)}pe&&we&&m.state.next(We)}return pe?We:{}},k=(q,ne,ue,be)=>{const we=Te(r.errors,q),pe=(u.isValid||h.isValid)&&Kn(ne)&&r.isValid!==ne;if(t.delayError&&ue?(c=w(()=>x(q,ue)),c(t.delayError)):(clearTimeout(d),c=null,ue?qt(r.errors,q,ue):Er(r.errors,q)),(ue?!Va(we,ue):we)||!Rn(be)||pe){const Ee={...be,...pe&&Kn(ne)?{isValid:ne}:{},errors:r.errors,name:q};r={...r,...Ee},m.state.next(Ee)}},S=async q=>{g(q,!0);const ne=await t.resolver(i,t.context,cG(q||l.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return g(q),ne},R=async q=>{const{errors:ne}=await S(q);if(q)for(const ue of q){const be=Te(ne,ue);be?qt(r.errors,ue,be):Er(r.errors,ue)}else r.errors=ne;return ne},U=async(q,ne,ue={valid:!0})=>{for(const be in q){const we=q[be];if(we){const{_f:pe,...Ee}=we;if(pe){const We=l.array.has(pe.name),fe=we._f&&dG(we._f);fe&&u.validatingFields&&g([be],!0);const De=await pS(we,l.disabled,i,p,t.shouldUseNativeValidation&&!ne,We);if(fe&&u.validatingFields&&g([be]),De[pe.name]&&(ue.valid=!1,ne))break;!ne&&(Te(De,pe.name)?We?gG(r.errors,De,pe.name):qt(r.errors,pe.name,De[pe.name]):Er(r.errors,pe.name))}!Rn(Ee)&&await U(Ee,ne,ue)}}return ue.valid},B=()=>{for(const q of l.unMount){const ne=Te(n,q);ne&&(ne._f.refs?ne._f.refs.every(ue=>!Ux(ue)):!Ux(ne._f.ref))&&Q(q)}l.unMount=new Set},re=(q,ne)=>!t.disabled&&(q&&ne&&qt(i,q,ne),!Va(C(),a)),G=(q,ne,ue)=>X4(q,l,{...o.mount?i:Nr(ne)?a:pa(q)?{[q]:ne}:ne},ue,ne),H=q=>dj(Te(o.mount?i:a,q,t.shouldUnregister?Te(a,q,[]):[])),V=(q,ne,ue={})=>{const be=Te(n,q);let we=ne;if(be){const pe=be._f;pe&&(!pe.disabled&&qt(i,q,nA(ne,pe)),we=Mp(pe.ref)&&yn(ne)?"":ne,J4(pe.ref)?[...pe.ref.options].forEach(Ee=>Ee.selected=we.includes(Ee.value)):pe.refs?dh(pe.ref)?pe.refs.forEach(Ee=>{(!Ee.defaultChecked||!Ee.disabled)&&(Array.isArray(we)?Ee.checked=!!we.find(We=>We===Ee.value):Ee.checked=we===Ee.value||!!we)}):pe.refs.forEach(Ee=>Ee.checked=Ee.value===we):mj(pe.ref)?pe.ref.value="":(pe.ref.value=we,pe.ref.type||m.state.next({name:q,values:$r(i)})))}(ue.shouldDirty||ue.shouldTouch)&&N(q,we,ue.shouldTouch,ue.shouldDirty,!0),ue.shouldValidate&&D(q)},se=(q,ne,ue)=>{for(const be in ne){if(!ne.hasOwnProperty(be))return;const we=ne[be],pe=q+"."+be,Ee=Te(n,pe);(l.array.has(q)||Cr(we)||Ee&&!Ee._f)&&!Ko(we)?se(pe,we,ue):V(pe,we,ue)}},te=(q,ne,ue={})=>{const be=Te(n,q),we=l.array.has(q),pe=$r(ne);qt(i,q,pe),we?(m.array.next({name:q,values:$r(i)}),(u.isDirty||u.dirtyFields||h.isDirty||h.dirtyFields)&&ue.shouldDirty&&m.state.next({name:q,dirtyFields:pu(a,i),isDirty:re(q,pe)})):be&&!be._f&&!yn(pe)?se(q,pe,ue):V(q,pe,ue),fS(q,l)&&m.state.next({...r,name:q}),m.state.next({name:o.mount?q:void 0,values:$r(i)})},J=async q=>{o.mount=!0;const ne=q.target;let ue=ne.name,be=!0;const we=Te(n,ue),pe=fe=>{be=Number.isNaN(fe)||Ko(fe)&&isNaN(fe.getTime())||Va(fe,Te(i,ue,fe))},Ee=dS(t.mode),We=dS(t.reValidateMode);if(we){let fe,De;const gt=ne.type?cS(we._f):G4(q),rt=q.type===Rp.BLUR||q.type===Rp.FOCUS_OUT,pt=!uG(we._f)&&!t.resolver&&!Te(r.errors,ue)&&!we._f.deps||mG(rt,Te(r.touchedFields,ue),r.isSubmitted,We,Ee),Pt=fS(ue,l,rt);qt(i,ue,gt),rt?(we._f.onBlur&&we._f.onBlur(q),c&&c(0)):we._f.onChange&&we._f.onChange(q);const cr=N(ue,gt,rt),z=!Rn(cr)||Pt;if(!rt&&m.state.next({name:ue,type:q.type,values:$r(i)}),pt)return(u.isValid||h.isValid)&&(t.mode==="onBlur"?rt&&v():rt||v()),z&&m.state.next({name:ue,...Pt?{}:cr});if(!rt&&Pt&&m.state.next({...r}),t.resolver){const{errors:ae}=await S([ue]);if(pe(gt),be){const ye=hS(r.errors,n,ue),Pe=hS(ae,n,ye.name||ue);fe=Pe.error,ue=Pe.name,De=Rn(ae)}}else g([ue],!0),fe=(await pS(we,l.disabled,i,p,t.shouldUseNativeValidation))[ue],g([ue]),pe(gt),be&&(fe?De=!1:(u.isValid||h.isValid)&&(De=await U(n,!0)));be&&(we._f.deps&&D(we._f.deps),k(ue,De,fe,cr))}},I=(q,ne)=>{if(Te(r.errors,ne)&&q.focus)return q.focus(),1},D=async(q,ne={})=>{let ue,be;const we=Gu(q);if(t.resolver){const pe=await R(Nr(q)?q:we);ue=Rn(pe),be=q?!we.some(Ee=>Te(pe,Ee)):ue}else q?(be=(await Promise.all(we.map(async pe=>{const Ee=Te(n,pe);return await U(Ee&&Ee._f?{[pe]:Ee}:Ee)}))).every(Boolean),!(!be&&!r.isValid)&&v()):be=ue=await U(n);return m.state.next({...!pa(q)||(u.isValid||h.isValid)&&ue!==r.isValid?{}:{name:q},...t.resolver||!q?{isValid:ue}:{},errors:r.errors}),ne.shouldFocus&&!be&&Yu(n,I,q?we:l.mount),be},C=q=>{const ne={...o.mount?i:a};return Nr(q)?ne:pa(q)?Te(ne,q):q.map(ue=>Te(ne,ue))},T=(q,ne)=>({invalid:!!Te((ne||r).errors,q),isDirty:!!Te((ne||r).dirtyFields,q),error:Te((ne||r).errors,q),isValidating:!!Te(r.validatingFields,q),isTouched:!!Te((ne||r).touchedFields,q)}),A=q=>{q&&Gu(q).forEach(ne=>Er(r.errors,ne)),m.state.next({errors:q?r.errors:{}})},Y=(q,ne,ue)=>{const be=(Te(n,q,{_f:{}})._f||{}).ref,we=Te(r.errors,q)||{},{ref:pe,message:Ee,type:We,...fe}=we;qt(r.errors,q,{...fe,...ne,ref:be}),m.state.next({name:q,errors:r.errors,isValid:!1}),ue&&ue.shouldFocus&&be&&be.focus&&be.focus()},E=(q,ne)=>Bs(q)?m.state.subscribe({next:ue=>"values"in ue&&q(G(void 0,ne),ue)}):G(q,ne,!0),$=q=>m.state.subscribe({next:ne=>{hG(q.name,ne.name,q.exact)&&fG(ne,q.formState||u,kt,q.reRenderRoot)&&q.callback({values:{...i},...r,...ne,defaultValues:a})}}).unsubscribe,Z=q=>(o.mount=!0,h={...h,...q.formState},$({...q,formState:h})),Q=(q,ne={})=>{for(const ue of q?Gu(q):l.mount)l.mount.delete(ue),l.array.delete(ue),ne.keepValue||(Er(n,ue),Er(i,ue)),!ne.keepError&&Er(r.errors,ue),!ne.keepDirty&&Er(r.dirtyFields,ue),!ne.keepTouched&&Er(r.touchedFields,ue),!ne.keepIsValidating&&Er(r.validatingFields,ue),!t.shouldUnregister&&!ne.keepDefaultValue&&Er(a,ue);m.state.next({values:$r(i)}),m.state.next({...r,...ne.keepDirty?{isDirty:re()}:{}}),!ne.keepIsValid&&v()},P=({disabled:q,name:ne})=>{(Kn(q)&&o.mount||q||l.disabled.has(ne))&&(q?l.disabled.add(ne):l.disabled.delete(ne))},F=(q,ne={})=>{let ue=Te(n,q);const be=Kn(ne.disabled)||Kn(t.disabled);return qt(n,q,{...ue||{},_f:{...ue&&ue._f?ue._f:{ref:{name:q}},name:q,mount:!0,...ne}}),l.mount.add(q),ue?P({disabled:Kn(ne.disabled)?ne.disabled:t.disabled,name:q}):_(q,!0,ne.value),{...be?{disabled:ne.disabled||t.disabled}:{},...t.progressive?{required:!!ne.required,min:gu(ne.min),max:gu(ne.max),minLength:gu(ne.minLength),maxLength:gu(ne.maxLength),pattern:gu(ne.pattern)}:{},name:q,onChange:J,onBlur:J,ref:we=>{if(we){F(q,ne),ue=Te(n,q);const pe=Nr(we.value)&&we.querySelectorAll&&we.querySelectorAll("input,select,textarea")[0]||we,Ee=iG(pe),We=ue._f.refs||[];if(Ee?We.find(fe=>fe===pe):pe===ue._f.ref)return;qt(n,q,{_f:{...ue._f,...Ee?{refs:[...We.filter(Ux),pe,...Array.isArray(Te(a,q))?[{}]:[]],ref:{type:pe.type,name:q}}:{ref:pe}}}),_(q,!1,void 0,pe)}else ue=Te(n,q,{}),ue._f&&(ue._f.mount=!1),(t.shouldUnregister||ne.shouldUnregister)&&!(Y4(l.array,q)&&o.action)&&l.unMount.add(q)}}},X=()=>t.shouldFocusError&&Yu(n,I,l.mount),de=q=>{Kn(q)&&(m.state.next({disabled:q}),Yu(n,(ne,ue)=>{const be=Te(n,ue);be&&(ne.disabled=be._f.disabled||q,Array.isArray(be._f.refs)&&be._f.refs.forEach(we=>{we.disabled=be._f.disabled||q}))},0,!1))},Ne=(q,ne)=>async ue=>{let be;ue&&(ue.preventDefault&&ue.preventDefault(),ue.persist&&ue.persist());let we=$r(i);if(m.state.next({isSubmitting:!0}),t.resolver){const{errors:pe,values:Ee}=await S();r.errors=pe,we=$r(Ee)}else await U(n);if(l.disabled.size)for(const pe of l.disabled)Er(we,pe);if(Er(r.errors,"root"),Rn(r.errors)){m.state.next({errors:{}});try{await q(we,ue)}catch(pe){be=pe}}else ne&&await ne({...r.errors},ue),X(),setTimeout(X);if(m.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Rn(r.errors)&&!be,submitCount:r.submitCount+1,errors:r.errors}),be)throw be},me=(q,ne={})=>{Te(n,q)&&(Nr(ne.defaultValue)?te(q,$r(Te(a,q))):(te(q,ne.defaultValue),qt(a,q,$r(ne.defaultValue))),ne.keepTouched||Er(r.touchedFields,q),ne.keepDirty||(Er(r.dirtyFields,q),r.isDirty=ne.defaultValue?re(q,$r(Te(a,q))):re()),ne.keepError||(Er(r.errors,q),u.isValid&&v()),m.state.next({...r}))},xe=(q,ne={})=>{const ue=q?$r(q):a,be=$r(ue),we=Rn(q),pe=we?a:be;if(ne.keepDefaultValues||(a=ue),!ne.keepValues){if(ne.keepDirtyValues){const Ee=new Set([...l.mount,...Object.keys(pu(a,i))]);for(const We of Array.from(Ee))Te(r.dirtyFields,We)?qt(pe,We,Te(i,We)):te(We,Te(pe,We))}else{if(cj&&Nr(q))for(const Ee of l.mount){const We=Te(n,Ee);if(We&&We._f){const fe=Array.isArray(We._f.refs)?We._f.refs[0]:We._f.ref;if(Mp(fe)){const De=fe.closest("form");if(De){De.reset();break}}}}if(ne.keepFieldsRef)for(const Ee of l.mount)te(Ee,Te(pe,Ee));else n={}}i=t.shouldUnregister?ne.keepDefaultValues?$r(a):{}:$r(pe),m.array.next({values:{...pe}}),m.state.next({values:{...pe}})}l={mount:ne.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!u.isValid||!!ne.keepIsValid||!!ne.keepDirtyValues,o.watch=!!t.shouldUnregister,m.state.next({submitCount:ne.keepSubmitCount?r.submitCount:0,isDirty:we?!1:ne.keepDirty?r.isDirty:!!(ne.keepDefaultValues&&!Va(q,a)),isSubmitted:ne.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:we?{}:ne.keepDirtyValues?ne.keepDefaultValues&&i?pu(a,i):r.dirtyFields:ne.keepDefaultValues&&q?pu(a,q):ne.keepDirty?r.dirtyFields:{},touchedFields:ne.keepTouched?r.touchedFields:{},errors:ne.keepErrors?r.errors:{},isSubmitSuccessful:ne.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},Ye=(q,ne)=>xe(Bs(q)?q(i):q,ne),Nt=(q,ne={})=>{const ue=Te(n,q),be=ue&&ue._f;if(be){const we=be.refs?be.refs[0]:be.ref;we.focus&&(we.focus(),ne.shouldSelect&&Bs(we.select)&&we.select())}},kt=q=>{r={...r,...q}},Et={control:{register:F,unregister:Q,getFieldState:T,handleSubmit:Ne,setError:Y,_subscribe:$,_runSchema:S,_focusError:X,_getWatch:G,_getDirty:re,_setValid:v,_setFieldArray:y,_setDisabledField:P,_setErrors:b,_getFieldArray:H,_reset:xe,_resetDefaultValues:()=>Bs(t.defaultValues)&&t.defaultValues().then(q=>{Ye(q,t.resetOptions),m.state.next({isLoading:!1})}),_removeUnmounted:B,_disableForm:de,_subjects:m,_proxyFormState:u,get _fields(){return n},get _formValues(){return i},get _state(){return o},set _state(q){o=q},get _defaultValues(){return a},get _names(){return l},set _names(q){l=q},get _formState(){return r},get _options(){return t},set _options(q){t={...t,...q}}},subscribe:Z,trigger:D,register:F,handleSubmit:Ne,watch:E,setValue:te,getValues:C,reset:Ye,resetField:me,clearErrors:A,unregister:Q,setError:Y,setFocus:Nt,getFieldState:T};return{...Et,formControl:Et}}function yG(e={}){const t=he.useRef(void 0),r=he.useRef(void 0),[n,a]=he.useState({isDirty:!1,isValidating:!1,isLoading:Bs(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Bs(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:n},e.defaultValues&&!Bs(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:o,...l}=xG(e);t.current={...l,formState:n}}const i=t.current.control;return i._options=e,hj(()=>{const o=i._subscribe({formState:i._proxyFormState,callback:()=>a({...i._formState}),reRenderRoot:!0});return a(l=>({...l,isReady:!0})),i._formState.isReady=!0,o},[i]),he.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),he.useEffect(()=>{e.mode&&(i._options.mode=e.mode),e.reValidateMode&&(i._options.reValidateMode=e.reValidateMode)},[i,e.mode,e.reValidateMode]),he.useEffect(()=>{e.errors&&(i._setErrors(e.errors),i._focusError())},[i,e.errors]),he.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,e.shouldUnregister]),he.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==n.isDirty&&i._subjects.state.next({isDirty:o})}},[i,n.isDirty]),he.useEffect(()=>{e.values&&!Va(e.values,r.current)?(i._reset(e.values,{keepFieldsRef:!0,...i._options.resetOptions}),r.current=e.values,a(o=>({...o}))):i._resetDefaultValues()},[i,e.values]),he.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),t.current.formState=Q4(n,i),t.current}const gS=tG,aA=f.createContext({}),im=({...e})=>s.jsx(aA.Provider,{value:{name:e.name},children:s.jsx(aG,{...e})}),Zg=()=>{const e=f.useContext(aA),t=f.useContext(iA),{getFieldState:r,formState:n}=Xg(),a=r(e.name,n);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:i}=t;return{id:i,name:e.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...a}},iA=f.createContext({}),Oa=f.forwardRef(({className:e,...t},r)=>{const n=f.useId();return s.jsx(iA.Provider,{value:{id:n},children:s.jsx("div",{ref:r,className:le("space-y-2",e),...t})})});Oa.displayName="FormItem";const Da=f.forwardRef(({className:e,...t},r)=>{const{error:n,formItemId:a}=Zg();return s.jsx(ze,{ref:r,className:le(n&&"text-destructive",e),htmlFor:a,...t})});Da.displayName="FormLabel";const Ia=f.forwardRef(({...e},t)=>{const{error:r,formItemId:n,formDescriptionId:a,formMessageId:i}=Zg();return s.jsx(El,{ref:t,id:n,"aria-describedby":r?`${a} ${i}`:`${a}`,"aria-invalid":!!r,...e})});Ia.displayName="FormControl";const wG=f.forwardRef(({className:e,...t},r)=>{const{formDescriptionId:n}=Zg();return s.jsx("p",{ref:r,id:n,className:le("text-sm text-muted-foreground",e),...t})});wG.displayName="FormDescription";const Fa=f.forwardRef(({className:e,children:t,...r},n)=>{const{error:a,formMessageId:i}=Zg(),o=a?String(a==null?void 0:a.message):t;return o?s.jsx("p",{ref:n,id:i,className:le("text-sm font-medium text-destructive",e),...r,children:o}):null});Fa.displayName="FormMessage";var Dt;(function(e){e.assertEqual=a=>{};function t(a){}e.assertIs=t;function r(a){throw new Error}e.assertNever=r,e.arrayToEnum=a=>{const i={};for(const o of a)i[o]=o;return i},e.getValidEnumValues=a=>{const i=e.objectKeys(a).filter(l=>typeof a[a[l]]!="number"),o={};for(const l of i)o[l]=a[l];return e.objectValues(o)},e.objectValues=a=>e.objectKeys(a).map(function(i){return a[i]}),e.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const i=[];for(const o in a)Object.prototype.hasOwnProperty.call(a,o)&&i.push(o);return i},e.find=(a,i)=>{for(const o of a)if(i(o))return o},e.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&Number.isFinite(a)&&Math.floor(a)===a;function n(a,i=" | "){return a.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}e.joinValues=n,e.jsonStringifyReplacer=(a,i)=>typeof i=="bigint"?i.toString():i})(Dt||(Dt={}));var vS;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(vS||(vS={}));const Ve=Dt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Si=e=>{switch(typeof e){case"undefined":return Ve.undefined;case"string":return Ve.string;case"number":return Number.isNaN(e)?Ve.nan:Ve.number;case"boolean":return Ve.boolean;case"function":return Ve.function;case"bigint":return Ve.bigint;case"symbol":return Ve.symbol;case"object":return Array.isArray(e)?Ve.array:e===null?Ve.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?Ve.promise:typeof Map<"u"&&e instanceof Map?Ve.map:typeof Set<"u"&&e instanceof Set?Ve.set:typeof Date<"u"&&e instanceof Date?Ve.date:Ve.object;default:return Ve.unknown}},ke=Dt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class li extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(i){return i.message},n={_errors:[]},a=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(a);else if(o.code==="invalid_return_type")a(o.returnTypeError);else if(o.code==="invalid_arguments")a(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let l=n,c=0;for(;c<o.path.length;){const d=o.path[c];c===o.path.length-1?(l[d]=l[d]||{_errors:[]},l[d]._errors.push(r(o))):l[d]=l[d]||{_errors:[]},l=l[d],c++}}};return a(this),n}static assert(t){if(!(t instanceof li))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Dt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const a of this.issues)if(a.path.length>0){const i=a.path[0];r[i]=r[i]||[],r[i].push(t(a))}else n.push(t(a));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}li.create=e=>new li(e);const V0=(e,t)=>{let r;switch(e.code){case ke.invalid_type:e.received===Ve.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case ke.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,Dt.jsonStringifyReplacer)}`;break;case ke.unrecognized_keys:r=`Unrecognized key(s) in object: ${Dt.joinValues(e.keys,", ")}`;break;case ke.invalid_union:r="Invalid input";break;case ke.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Dt.joinValues(e.options)}`;break;case ke.invalid_enum_value:r=`Invalid enum value. Expected ${Dt.joinValues(e.options)}, received '${e.received}'`;break;case ke.invalid_arguments:r="Invalid function arguments";break;case ke.invalid_return_type:r="Invalid function return type";break;case ke.invalid_date:r="Invalid date";break;case ke.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:Dt.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case ke.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case ke.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case ke.custom:r="Invalid input";break;case ke.invalid_intersection_types:r="Intersection results could not be merged";break;case ke.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case ke.not_finite:r="Number must be finite";break;default:r=t.defaultError,Dt.assertNever(e)}return{message:r}};let bG=V0;function jG(){return bG}const _G=e=>{const{data:t,path:r,errorMaps:n,issueData:a}=e,i=[...r,...a.path||[]],o={...a,path:i};if(a.message!==void 0)return{...a,path:i,message:a.message};let l="";const c=n.filter(d=>!!d).slice().reverse();for(const d of c)l=d(o,{data:t,defaultError:l}).message;return{...a,path:i,message:l}};function Oe(e,t){const r=jG(),n=_G({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===V0?void 0:V0].filter(a=>!!a)});e.common.issues.push(n)}class rs{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const a of r){if(a.status==="aborted")return at;a.status==="dirty"&&t.dirty(),n.push(a.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const a of r){const i=await a.key,o=await a.value;n.push({key:i,value:o})}return rs.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const a of r){const{key:i,value:o}=a;if(i.status==="aborted"||o.status==="aborted")return at;i.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||a.alwaysSet)&&(n[i.value]=o.value)}return{status:t.value,value:n}}}const at=Object.freeze({status:"aborted"}),Pu=e=>({status:"dirty",value:e}),Ns=e=>({status:"valid",value:e}),xS=e=>e.status==="aborted",yS=e=>e.status==="dirty",gd=e=>e.status==="valid",Dp=e=>typeof Promise<"u"&&e instanceof Promise;var Ke;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(Ke||(Ke={}));class po{constructor(t,r,n,a){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=a}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const wS=(e,t)=>{if(gd(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new li(e.common.issues);return this._error=r,this._error}}};function yt(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:a}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:a}:{errorMap:(o,l)=>{const{message:c}=e;return o.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??n??l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:c??r??l.defaultError}},description:a}}class Ot{get description(){return this._def.description}_getType(t){return Si(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:Si(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new rs,ctx:{common:t.parent.common,data:t.data,parsedType:Si(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(Dp(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){const n={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Si(t)},a=this._parseSync({data:t,path:n.path,parent:n});return wS(n,a)}"~validate"(t){var n,a;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Si(t)};if(!this["~standard"].async)try{const i=this._parseSync({data:t,path:[],parent:r});return gd(i)?{value:i.value}:{issues:r.common.issues}}catch(i){(a=(n=i==null?void 0:i.message)==null?void 0:n.toLowerCase())!=null&&a.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:r}).then(i=>gd(i)?{value:i.value}:{issues:r.common.issues})}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Si(t)},a=this._parse({data:t,path:n.path,parent:n}),i=await(Dp(a)?a:Promise.resolve(a));return wS(n,i)}refine(t,r){const n=a=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(a):r;return this._refinement((a,i)=>{const o=t(a),l=()=>i.addIssue({code:ke.custom,...n(a)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,r){return this._refinement((n,a)=>t(n)?!0:(a.addIssue(typeof r=="function"?r(n,a):r),!1))}_refinement(t){return new xd({schema:this,typeName:it.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return so.create(this,this._def)}nullable(){return yd.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return wa.create(this)}promise(){return $p.create(this,this._def)}or(t){return Fp.create([this,t],this._def)}and(t){return Lp.create(this,t,this._def)}transform(t){return new xd({...yt(this._def),schema:this,typeName:it.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new H0({...yt(this._def),innerType:this,defaultValue:r,typeName:it.ZodDefault})}brand(){return new HG({typeName:it.ZodBranded,type:this,...yt(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new K0({...yt(this._def),innerType:this,catchValue:r,typeName:it.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return gj.create(this,t)}readonly(){return G0.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const NG=/^c[^\s-]{8,}$/i,SG=/^[0-9a-z]+$/,CG=/^[0-9A-HJKMNP-TV-Z]{26}$/i,kG=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,EG=/^[a-z0-9_-]{21}$/i,PG=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,TG=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,RG=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,MG="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Bx;const AG=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,OG=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,DG=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,IG=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,FG=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,LG=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,oA="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",$G=new RegExp(`^${oA}$`);function lA(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function zG(e){return new RegExp(`^${lA(e)}$`)}function UG(e){let t=`${oA}T${lA(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function BG(e,t){return!!((t==="v4"||!t)&&AG.test(e)||(t==="v6"||!t)&&DG.test(e))}function qG(e,t){if(!PG.test(e))return!1;try{const[r]=e.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),a=JSON.parse(atob(n));return!(typeof a!="object"||a===null||"typ"in a&&(a==null?void 0:a.typ)!=="JWT"||!a.alg||t&&a.alg!==t)}catch{return!1}}function VG(e,t){return!!((t==="v4"||!t)&&OG.test(e)||(t==="v6"||!t)&&IG.test(e))}class qi extends Ot{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==Ve.string){const i=this._getOrReturnCtx(t);return Oe(i,{code:ke.invalid_type,expected:Ve.string,received:i.parsedType}),at}const n=new rs;let a;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(a=this._getOrReturnCtx(t,a),Oe(a,{code:ke.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")t.data.length>i.value&&(a=this._getOrReturnCtx(t,a),Oe(a,{code:ke.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){const o=t.data.length>i.value,l=t.data.length<i.value;(o||l)&&(a=this._getOrReturnCtx(t,a),o?Oe(a,{code:ke.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&Oe(a,{code:ke.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")RG.test(t.data)||(a=this._getOrReturnCtx(t,a),Oe(a,{validation:"email",code:ke.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")Bx||(Bx=new RegExp(MG,"u")),Bx.test(t.data)||(a=this._getOrReturnCtx(t,a),Oe(a,{validation:"emoji",code:ke.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")kG.test(t.data)||(a=this._getOrReturnCtx(t,a),Oe(a,{validation:"uuid",code:ke.invalid_string,message:i.message}),n.dirty());else if(i.kind==="nanoid")EG.test(t.data)||(a=this._getOrReturnCtx(t,a),Oe(a,{validation:"nanoid",code:ke.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")NG.test(t.data)||(a=this._getOrReturnCtx(t,a),Oe(a,{validation:"cuid",code:ke.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")SG.test(t.data)||(a=this._getOrReturnCtx(t,a),Oe(a,{validation:"cuid2",code:ke.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")CG.test(t.data)||(a=this._getOrReturnCtx(t,a),Oe(a,{validation:"ulid",code:ke.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{a=this._getOrReturnCtx(t,a),Oe(a,{validation:"url",code:ke.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(a=this._getOrReturnCtx(t,a),Oe(a,{validation:"regex",code:ke.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(a=this._getOrReturnCtx(t,a),Oe(a,{code:ke.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(a=this._getOrReturnCtx(t,a),Oe(a,{code:ke.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(a=this._getOrReturnCtx(t,a),Oe(a,{code:ke.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?UG(i).test(t.data)||(a=this._getOrReturnCtx(t,a),Oe(a,{code:ke.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="date"?$G.test(t.data)||(a=this._getOrReturnCtx(t,a),Oe(a,{code:ke.invalid_string,validation:"date",message:i.message}),n.dirty()):i.kind==="time"?zG(i).test(t.data)||(a=this._getOrReturnCtx(t,a),Oe(a,{code:ke.invalid_string,validation:"time",message:i.message}),n.dirty()):i.kind==="duration"?TG.test(t.data)||(a=this._getOrReturnCtx(t,a),Oe(a,{validation:"duration",code:ke.invalid_string,message:i.message}),n.dirty()):i.kind==="ip"?BG(t.data,i.version)||(a=this._getOrReturnCtx(t,a),Oe(a,{validation:"ip",code:ke.invalid_string,message:i.message}),n.dirty()):i.kind==="jwt"?qG(t.data,i.alg)||(a=this._getOrReturnCtx(t,a),Oe(a,{validation:"jwt",code:ke.invalid_string,message:i.message}),n.dirty()):i.kind==="cidr"?VG(t.data,i.version)||(a=this._getOrReturnCtx(t,a),Oe(a,{validation:"cidr",code:ke.invalid_string,message:i.message}),n.dirty()):i.kind==="base64"?FG.test(t.data)||(a=this._getOrReturnCtx(t,a),Oe(a,{validation:"base64",code:ke.invalid_string,message:i.message}),n.dirty()):i.kind==="base64url"?LG.test(t.data)||(a=this._getOrReturnCtx(t,a),Oe(a,{validation:"base64url",code:ke.invalid_string,message:i.message}),n.dirty()):Dt.assertNever(i);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(a=>t.test(a),{validation:r,code:ke.invalid_string,...Ke.errToObj(n)})}_addCheck(t){return new qi({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Ke.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Ke.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Ke.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Ke.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...Ke.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Ke.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Ke.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Ke.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...Ke.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...Ke.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...Ke.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Ke.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...Ke.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...Ke.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...Ke.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...Ke.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...Ke.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...Ke.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...Ke.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...Ke.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...Ke.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...Ke.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...Ke.errToObj(r)})}nonempty(t){return this.min(1,Ke.errToObj(t))}trim(){return new qi({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new qi({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new qi({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}qi.create=e=>new qi({checks:[],typeName:it.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...yt(e)});function WG(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,a=r>n?r:n,i=Number.parseInt(e.toFixed(a).replace(".","")),o=Number.parseInt(t.toFixed(a).replace(".",""));return i%o/10**a}class Rf extends Ot{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==Ve.number){const i=this._getOrReturnCtx(t);return Oe(i,{code:ke.invalid_type,expected:Ve.number,received:i.parsedType}),at}let n;const a=new rs;for(const i of this._def.checks)i.kind==="int"?Dt.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),Oe(n,{code:ke.invalid_type,expected:"integer",received:"float",message:i.message}),a.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),Oe(n,{code:ke.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),Oe(n,{code:ke.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="multipleOf"?WG(t.data,i.value)!==0&&(n=this._getOrReturnCtx(t,n),Oe(n,{code:ke.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),Oe(n,{code:ke.not_finite,message:i.message}),a.dirty()):Dt.assertNever(i);return{status:a.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,Ke.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Ke.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Ke.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Ke.toString(r))}setLimit(t,r,n,a){return new Rf({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Ke.toString(a)}]})}_addCheck(t){return new Rf({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Ke.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Ke.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Ke.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Ke.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Ke.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Ke.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:Ke.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Ke.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Ke.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&Dt.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}Rf.create=e=>new Rf({checks:[],typeName:it.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...yt(e)});class Mf extends Ot{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==Ve.bigint)return this._getInvalidInput(t);let n;const a=new rs;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),Oe(n,{code:ke.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),Oe(n,{code:ke.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),Oe(n,{code:ke.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):Dt.assertNever(i);return{status:a.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return Oe(r,{code:ke.invalid_type,expected:Ve.bigint,received:r.parsedType}),at}gte(t,r){return this.setLimit("min",t,!0,Ke.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Ke.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Ke.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Ke.toString(r))}setLimit(t,r,n,a){return new Mf({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Ke.toString(a)}]})}_addCheck(t){return new Mf({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Ke.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Ke.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Ke.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Ke.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Ke.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Mf.create=e=>new Mf({checks:[],typeName:it.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...yt(e)});class bS extends Ot{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==Ve.boolean){const n=this._getOrReturnCtx(t);return Oe(n,{code:ke.invalid_type,expected:Ve.boolean,received:n.parsedType}),at}return Ns(t.data)}}bS.create=e=>new bS({typeName:it.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...yt(e)});class Ip extends Ot{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==Ve.date){const i=this._getOrReturnCtx(t);return Oe(i,{code:ke.invalid_type,expected:Ve.date,received:i.parsedType}),at}if(Number.isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return Oe(i,{code:ke.invalid_date}),at}const n=new rs;let a;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(a=this._getOrReturnCtx(t,a),Oe(a,{code:ke.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(a=this._getOrReturnCtx(t,a),Oe(a,{code:ke.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):Dt.assertNever(i);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Ip({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:Ke.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:Ke.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}Ip.create=e=>new Ip({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:it.ZodDate,...yt(e)});class jS extends Ot{_parse(t){if(this._getType(t)!==Ve.symbol){const n=this._getOrReturnCtx(t);return Oe(n,{code:ke.invalid_type,expected:Ve.symbol,received:n.parsedType}),at}return Ns(t.data)}}jS.create=e=>new jS({typeName:it.ZodSymbol,...yt(e)});class _S extends Ot{_parse(t){if(this._getType(t)!==Ve.undefined){const n=this._getOrReturnCtx(t);return Oe(n,{code:ke.invalid_type,expected:Ve.undefined,received:n.parsedType}),at}return Ns(t.data)}}_S.create=e=>new _S({typeName:it.ZodUndefined,...yt(e)});class NS extends Ot{_parse(t){if(this._getType(t)!==Ve.null){const n=this._getOrReturnCtx(t);return Oe(n,{code:ke.invalid_type,expected:Ve.null,received:n.parsedType}),at}return Ns(t.data)}}NS.create=e=>new NS({typeName:it.ZodNull,...yt(e)});class SS extends Ot{constructor(){super(...arguments),this._any=!0}_parse(t){return Ns(t.data)}}SS.create=e=>new SS({typeName:it.ZodAny,...yt(e)});class CS extends Ot{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Ns(t.data)}}CS.create=e=>new CS({typeName:it.ZodUnknown,...yt(e)});class go extends Ot{_parse(t){const r=this._getOrReturnCtx(t);return Oe(r,{code:ke.invalid_type,expected:Ve.never,received:r.parsedType}),at}}go.create=e=>new go({typeName:it.ZodNever,...yt(e)});class kS extends Ot{_parse(t){if(this._getType(t)!==Ve.undefined){const n=this._getOrReturnCtx(t);return Oe(n,{code:ke.invalid_type,expected:Ve.void,received:n.parsedType}),at}return Ns(t.data)}}kS.create=e=>new kS({typeName:it.ZodVoid,...yt(e)});class wa extends Ot{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),a=this._def;if(r.parsedType!==Ve.array)return Oe(r,{code:ke.invalid_type,expected:Ve.array,received:r.parsedType}),at;if(a.exactLength!==null){const o=r.data.length>a.exactLength.value,l=r.data.length<a.exactLength.value;(o||l)&&(Oe(r,{code:o?ke.too_big:ke.too_small,minimum:l?a.exactLength.value:void 0,maximum:o?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),n.dirty())}if(a.minLength!==null&&r.data.length<a.minLength.value&&(Oe(r,{code:ke.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),n.dirty()),a.maxLength!==null&&r.data.length>a.maxLength.value&&(Oe(r,{code:ke.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,l)=>a.type._parseAsync(new po(r,o,r.path,l)))).then(o=>rs.mergeArray(n,o));const i=[...r.data].map((o,l)=>a.type._parseSync(new po(r,o,r.path,l)));return rs.mergeArray(n,i)}get element(){return this._def.type}min(t,r){return new wa({...this._def,minLength:{value:t,message:Ke.toString(r)}})}max(t,r){return new wa({...this._def,maxLength:{value:t,message:Ke.toString(r)}})}length(t,r){return new wa({...this._def,exactLength:{value:t,message:Ke.toString(r)}})}nonempty(t){return this.min(1,t)}}wa.create=(e,t)=>new wa({type:e,minLength:null,maxLength:null,exactLength:null,typeName:it.ZodArray,...yt(t)});function ac(e){if(e instanceof wr){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=so.create(ac(n))}return new wr({...e._def,shape:()=>t})}else return e instanceof wa?new wa({...e._def,type:ac(e.element)}):e instanceof so?so.create(ac(e.unwrap())):e instanceof yd?yd.create(ac(e.unwrap())):e instanceof _l?_l.create(e.items.map(t=>ac(t))):e}class wr extends Ot{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=Dt.objectKeys(t);return this._cached={shape:t,keys:r},this._cached}_parse(t){if(this._getType(t)!==Ve.object){const d=this._getOrReturnCtx(t);return Oe(d,{code:ke.invalid_type,expected:Ve.object,received:d.parsedType}),at}const{status:n,ctx:a}=this._processInputParams(t),{shape:i,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof go&&this._def.unknownKeys==="strip"))for(const d in a.data)o.includes(d)||l.push(d);const c=[];for(const d of o){const u=i[d],h=a.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new po(a,h,a.path,d)),alwaysSet:d in a.data})}if(this._def.catchall instanceof go){const d=this._def.unknownKeys;if(d==="passthrough")for(const u of l)c.push({key:{status:"valid",value:u},value:{status:"valid",value:a.data[u]}});else if(d==="strict")l.length>0&&(Oe(a,{code:ke.unrecognized_keys,keys:l}),n.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const u of l){const h=a.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new po(a,h,a.path,u)),alwaysSet:u in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const d=[];for(const u of c){const h=await u.key,m=await u.value;d.push({key:h,value:m,alwaysSet:u.alwaysSet})}return d}).then(d=>rs.mergeObjectSync(n,d)):rs.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(t){return Ke.errToObj,new wr({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var i,o;const a=((o=(i=this._def).errorMap)==null?void 0:o.call(i,r,n).message)??n.defaultError;return r.code==="unrecognized_keys"?{message:Ke.errToObj(t).message??a}:{message:a}}}:{}})}strip(){return new wr({...this._def,unknownKeys:"strip"})}passthrough(){return new wr({...this._def,unknownKeys:"passthrough"})}extend(t){return new wr({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new wr({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:it.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new wr({...this._def,catchall:t})}pick(t){const r={};for(const n of Dt.objectKeys(t))t[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new wr({...this._def,shape:()=>r})}omit(t){const r={};for(const n of Dt.objectKeys(this.shape))t[n]||(r[n]=this.shape[n]);return new wr({...this._def,shape:()=>r})}deepPartial(){return ac(this)}partial(t){const r={};for(const n of Dt.objectKeys(this.shape)){const a=this.shape[n];t&&!t[n]?r[n]=a:r[n]=a.optional()}return new wr({...this._def,shape:()=>r})}required(t){const r={};for(const n of Dt.objectKeys(this.shape))if(t&&!t[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof so;)i=i._def.innerType;r[n]=i}return new wr({...this._def,shape:()=>r})}keyof(){return cA(Dt.objectKeys(this.shape))}}wr.create=(e,t)=>new wr({shape:()=>e,unknownKeys:"strip",catchall:go.create(),typeName:it.ZodObject,...yt(t)});wr.strictCreate=(e,t)=>new wr({shape:()=>e,unknownKeys:"strict",catchall:go.create(),typeName:it.ZodObject,...yt(t)});wr.lazycreate=(e,t)=>new wr({shape:e,unknownKeys:"strip",catchall:go.create(),typeName:it.ZodObject,...yt(t)});class Fp extends Ot{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function a(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const o=i.map(l=>new li(l.ctx.common.issues));return Oe(r,{code:ke.invalid_union,unionErrors:o}),at}if(r.common.async)return Promise.all(n.map(async i=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(a);{let i;const o=[];for(const c of n){const d={...r,common:{...r.common,issues:[]},parent:null},u=c._parseSync({data:r.data,path:r.path,parent:d});if(u.status==="valid")return u;u.status==="dirty"&&!i&&(i={result:u,ctx:d}),d.common.issues.length&&o.push(d.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const l=o.map(c=>new li(c));return Oe(r,{code:ke.invalid_union,unionErrors:l}),at}}get options(){return this._def.options}}Fp.create=(e,t)=>new Fp({options:e,typeName:it.ZodUnion,...yt(t)});function W0(e,t){const r=Si(e),n=Si(t);if(e===t)return{valid:!0,data:e};if(r===Ve.object&&n===Ve.object){const a=Dt.objectKeys(t),i=Dt.objectKeys(e).filter(l=>a.indexOf(l)!==-1),o={...e,...t};for(const l of i){const c=W0(e[l],t[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(r===Ve.array&&n===Ve.array){if(e.length!==t.length)return{valid:!1};const a=[];for(let i=0;i<e.length;i++){const o=e[i],l=t[i],c=W0(o,l);if(!c.valid)return{valid:!1};a.push(c.data)}return{valid:!0,data:a}}else return r===Ve.date&&n===Ve.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Lp extends Ot{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),a=(i,o)=>{if(xS(i)||xS(o))return at;const l=W0(i.value,o.value);return l.valid?((yS(i)||yS(o))&&r.dirty(),{status:r.value,value:l.data}):(Oe(n,{code:ke.invalid_intersection_types}),at)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,o])=>a(i,o)):a(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Lp.create=(e,t,r)=>new Lp({left:e,right:t,typeName:it.ZodIntersection,...yt(r)});class _l extends Ot{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Ve.array)return Oe(n,{code:ke.invalid_type,expected:Ve.array,received:n.parsedType}),at;if(n.data.length<this._def.items.length)return Oe(n,{code:ke.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),at;!this._def.rest&&n.data.length>this._def.items.length&&(Oe(n,{code:ke.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...n.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new po(n,o,n.path,l)):null}).filter(o=>!!o);return n.common.async?Promise.all(i).then(o=>rs.mergeArray(r,o)):rs.mergeArray(r,i)}get items(){return this._def.items}rest(t){return new _l({...this._def,rest:t})}}_l.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new _l({items:e,typeName:it.ZodTuple,rest:null,...yt(t)})};class ES extends Ot{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Ve.map)return Oe(n,{code:ke.invalid_type,expected:Ve.map,received:n.parsedType}),at;const a=this._def.keyType,i=this._def.valueType,o=[...n.data.entries()].map(([l,c],d)=>({key:a._parse(new po(n,l,n.path,[d,"key"])),value:i._parse(new po(n,c,n.path,[d,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const d=await c.key,u=await c.value;if(d.status==="aborted"||u.status==="aborted")return at;(d.status==="dirty"||u.status==="dirty")&&r.dirty(),l.set(d.value,u.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of o){const d=c.key,u=c.value;if(d.status==="aborted"||u.status==="aborted")return at;(d.status==="dirty"||u.status==="dirty")&&r.dirty(),l.set(d.value,u.value)}return{status:r.value,value:l}}}}ES.create=(e,t,r)=>new ES({valueType:t,keyType:e,typeName:it.ZodMap,...yt(r)});class Af extends Ot{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Ve.set)return Oe(n,{code:ke.invalid_type,expected:Ve.set,received:n.parsedType}),at;const a=this._def;a.minSize!==null&&n.data.size<a.minSize.value&&(Oe(n,{code:ke.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),r.dirty()),a.maxSize!==null&&n.data.size>a.maxSize.value&&(Oe(n,{code:ke.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),r.dirty());const i=this._def.valueType;function o(c){const d=new Set;for(const u of c){if(u.status==="aborted")return at;u.status==="dirty"&&r.dirty(),d.add(u.value)}return{status:r.value,value:d}}const l=[...n.data.values()].map((c,d)=>i._parse(new po(n,c,n.path,d)));return n.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(t,r){return new Af({...this._def,minSize:{value:t,message:Ke.toString(r)}})}max(t,r){return new Af({...this._def,maxSize:{value:t,message:Ke.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}Af.create=(e,t)=>new Af({valueType:e,minSize:null,maxSize:null,typeName:it.ZodSet,...yt(t)});class PS extends Ot{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}PS.create=(e,t)=>new PS({getter:e,typeName:it.ZodLazy,...yt(t)});class TS extends Ot{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return Oe(r,{received:r.data,code:ke.invalid_literal,expected:this._def.value}),at}return{status:"valid",value:t.data}}get value(){return this._def.value}}TS.create=(e,t)=>new TS({value:e,typeName:it.ZodLiteral,...yt(t)});function cA(e,t){return new vd({values:e,typeName:it.ZodEnum,...yt(t)})}class vd extends Ot{_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return Oe(r,{expected:Dt.joinValues(n),received:r.parsedType,code:ke.invalid_type}),at}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return Oe(r,{received:r.data,code:ke.invalid_enum_value,options:n}),at}return Ns(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return vd.create(t,{...this._def,...r})}exclude(t,r=this._def){return vd.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}vd.create=cA;class RS extends Ot{_parse(t){const r=Dt.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==Ve.string&&n.parsedType!==Ve.number){const a=Dt.objectValues(r);return Oe(n,{expected:Dt.joinValues(a),received:n.parsedType,code:ke.invalid_type}),at}if(this._cache||(this._cache=new Set(Dt.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const a=Dt.objectValues(r);return Oe(n,{received:n.data,code:ke.invalid_enum_value,options:a}),at}return Ns(t.data)}get enum(){return this._def.values}}RS.create=(e,t)=>new RS({values:e,typeName:it.ZodNativeEnum,...yt(t)});class $p extends Ot{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==Ve.promise&&r.common.async===!1)return Oe(r,{code:ke.invalid_type,expected:Ve.promise,received:r.parsedType}),at;const n=r.parsedType===Ve.promise?r.data:Promise.resolve(r.data);return Ns(n.then(a=>this._def.type.parseAsync(a,{path:r.path,errorMap:r.common.contextualErrorMap})))}}$p.create=(e,t)=>new $p({type:e,typeName:it.ZodPromise,...yt(t)});class xd extends Ot{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===it.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),a=this._def.effect||null,i={addIssue:o=>{Oe(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),a.type==="preprocess"){const o=a.transform(n.data,i);if(n.common.async)return Promise.resolve(o).then(async l=>{if(r.value==="aborted")return at;const c=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return c.status==="aborted"?at:c.status==="dirty"||r.value==="dirty"?Pu(c.value):c});{if(r.value==="aborted")return at;const l=this._def.schema._parseSync({data:o,path:n.path,parent:n});return l.status==="aborted"?at:l.status==="dirty"||r.value==="dirty"?Pu(l.value):l}}if(a.type==="refinement"){const o=l=>{const c=a.refinement(l,i);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?at:(l.status==="dirty"&&r.dirty(),o(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?at:(l.status==="dirty"&&r.dirty(),o(l.value).then(()=>({status:r.value,value:l.value}))))}if(a.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!gd(o))return at;const l=a.transform(o.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>gd(o)?Promise.resolve(a.transform(o.value,i)).then(l=>({status:r.value,value:l})):at);Dt.assertNever(a)}}xd.create=(e,t,r)=>new xd({schema:e,typeName:it.ZodEffects,effect:t,...yt(r)});xd.createWithPreprocess=(e,t,r)=>new xd({schema:t,effect:{type:"preprocess",transform:e},typeName:it.ZodEffects,...yt(r)});class so extends Ot{_parse(t){return this._getType(t)===Ve.undefined?Ns(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}so.create=(e,t)=>new so({innerType:e,typeName:it.ZodOptional,...yt(t)});class yd extends Ot{_parse(t){return this._getType(t)===Ve.null?Ns(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}yd.create=(e,t)=>new yd({innerType:e,typeName:it.ZodNullable,...yt(t)});class H0 extends Ot{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===Ve.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}H0.create=(e,t)=>new H0({innerType:e,typeName:it.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...yt(t)});class K0 extends Ot{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},a=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Dp(a)?a.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new li(n.common.issues)},input:n.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new li(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}K0.create=(e,t)=>new K0({innerType:e,typeName:it.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...yt(t)});class MS extends Ot{_parse(t){if(this._getType(t)!==Ve.nan){const n=this._getOrReturnCtx(t);return Oe(n,{code:ke.invalid_type,expected:Ve.nan,received:n.parsedType}),at}return{status:"valid",value:t.data}}}MS.create=e=>new MS({typeName:it.ZodNaN,...yt(e)});class HG extends Ot{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class gj extends Ot{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?at:i.status==="dirty"?(r.dirty(),Pu(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{const a=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?at:a.status==="dirty"?(r.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:n.path,parent:n})}}static create(t,r){return new gj({in:t,out:r,typeName:it.ZodPipeline})}}class G0 extends Ot{_parse(t){const r=this._def.innerType._parse(t),n=a=>(gd(a)&&(a.value=Object.freeze(a.value)),a);return Dp(r)?r.then(a=>n(a)):n(r)}unwrap(){return this._def.innerType}}G0.create=(e,t)=>new G0({innerType:e,typeName:it.ZodReadonly,...yt(t)});wr.lazycreate;var it;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(it||(it={}));const AS=qi.create;go.create;wa.create;const KG=wr.create;wr.strictCreate;Fp.create;Lp.create;_l.create;vd.create;$p.create;so.create;yd.create;const OS=(e,t,r)=>{if(e&&"reportValidity"in e){const n=Te(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},dA=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?OS(n.ref,r,e):n.refs&&n.refs.forEach(a=>OS(a,r,e))}},GG=(e,t)=>{t.shouldUseNativeValidation&&dA(e,t);const r={};for(const n in e){const a=Te(t.fields,n),i=Object.assign(e[n]||{},{ref:a&&a.ref});if(YG(t.names||Object.keys(e),n)){const o=Object.assign({},Te(r,n));qt(o,"root",i),qt(r,n,o)}else qt(r,n,i)}return r},YG=(e,t)=>e.some(r=>r.startsWith(t+"."));var QG=function(e,t){for(var r={};e.length;){var n=e[0],a=n.code,i=n.message,o=n.path.join(".");if(!r[o])if("unionErrors"in n){var l=n.unionErrors[0].errors[0];r[o]={message:l.message,type:l.code}}else r[o]={message:i,type:a};if("unionErrors"in n&&n.unionErrors.forEach(function(u){return u.errors.forEach(function(h){return e.push(h)})}),t){var c=r[o].types,d=c&&c[n.code];r[o]=Z4(o,t,r,a,d?[].concat(d,n.message):n.message)}e.shift()}return r},XG=function(e,t,r){return r===void 0&&(r={}),function(n,a,i){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(d){return i.shouldUseNativeValidation&&dA({},i),{errors:{},values:r.raw?n:d}})}catch(d){return l(d)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:GG(QG(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}},DS=1,ZG=.9,JG=.8,eY=.17,qx=.1,Vx=.999,tY=.9999,rY=.99,nY=/[\\\/_+.#"@\[\(\{&]/,sY=/[\\\/_+.#"@\[\(\{&]/g,aY=/[\s-]/,uA=/[\s-]/g;function Y0(e,t,r,n,a,i,o){if(i===t.length)return a===e.length?DS:rY;var l=`${a},${i}`;if(o[l]!==void 0)return o[l];for(var c=n.charAt(i),d=r.indexOf(c,a),u=0,h,m,p,w;d>=0;)h=Y0(e,t,r,n,d+1,i+1,o),h>u&&(d===a?h*=DS:nY.test(e.charAt(d-1))?(h*=JG,p=e.slice(a,d-1).match(sY),p&&a>0&&(h*=Math.pow(Vx,p.length))):aY.test(e.charAt(d-1))?(h*=ZG,w=e.slice(a,d-1).match(uA),w&&a>0&&(h*=Math.pow(Vx,w.length))):(h*=eY,a>0&&(h*=Math.pow(Vx,d-a))),e.charAt(d)!==t.charAt(i)&&(h*=tY)),(h<qx&&r.charAt(d-1)===n.charAt(i+1)||n.charAt(i+1)===n.charAt(i)&&r.charAt(d-1)!==n.charAt(i))&&(m=Y0(e,t,r,n,d+1,i+2,o),m*qx>h&&(h=m*qx)),h>u&&(u=h),d=r.indexOf(c,d+1);return o[l]=u,u}function IS(e){return e.toLowerCase().replace(uA," ")}function iY(e,t,r){return e=r&&r.length>0?`${e+" "+r.join(" ")}`:e,Y0(e,t,IS(e),IS(t),0,0,{})}var vu='[cmdk-group=""]',Wx='[cmdk-group-items=""]',oY='[cmdk-group-heading=""]',fA='[cmdk-item=""]',FS=`${fA}:not([aria-disabled="true"])`,Q0="cmdk-item-select",ic="data-value",lY=(e,t,r)=>iY(e,t,r),hA=f.createContext(void 0),uh=()=>f.useContext(hA),mA=f.createContext(void 0),vj=()=>f.useContext(mA),pA=f.createContext(void 0),gA=f.forwardRef((e,t)=>{let r=oc(()=>{var A,Y;return{search:"",value:(Y=(A=e.value)!=null?A:e.defaultValue)!=null?Y:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),n=oc(()=>new Set),a=oc(()=>new Map),i=oc(()=>new Map),o=oc(()=>new Set),l=vA(e),{label:c,children:d,value:u,onValueChange:h,filter:m,shouldFilter:p,loop:w,disablePointerSelection:v=!1,vimBindings:g=!0,...y}=e,x=en(),b=en(),_=en(),N=f.useRef(null),k=yY();Nl(()=>{if(u!==void 0){let A=u.trim();r.current.value=A,S.emit()}},[u]),Nl(()=>{k(6,H)},[]);let S=f.useMemo(()=>({subscribe:A=>(o.current.add(A),()=>o.current.delete(A)),snapshot:()=>r.current,setState:(A,Y,E)=>{var $,Z,Q,P;if(!Object.is(r.current[A],Y)){if(r.current[A]=Y,A==="search")G(),B(),k(1,re);else if(A==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let F=document.getElementById(_);F?F.focus():($=document.getElementById(x))==null||$.focus()}if(k(7,()=>{var F;r.current.selectedItemId=(F=V())==null?void 0:F.id,S.emit()}),E||k(5,H),((Z=l.current)==null?void 0:Z.value)!==void 0){let F=Y??"";(P=(Q=l.current).onValueChange)==null||P.call(Q,F);return}}S.emit()}},emit:()=>{o.current.forEach(A=>A())}}),[]),R=f.useMemo(()=>({value:(A,Y,E)=>{var $;Y!==(($=i.current.get(A))==null?void 0:$.value)&&(i.current.set(A,{value:Y,keywords:E}),r.current.filtered.items.set(A,U(Y,E)),k(2,()=>{B(),S.emit()}))},item:(A,Y)=>(n.current.add(A),Y&&(a.current.has(Y)?a.current.get(Y).add(A):a.current.set(Y,new Set([A]))),k(3,()=>{G(),B(),r.current.value||re(),S.emit()}),()=>{i.current.delete(A),n.current.delete(A),r.current.filtered.items.delete(A);let E=V();k(4,()=>{G(),(E==null?void 0:E.getAttribute("id"))===A&&re(),S.emit()})}),group:A=>(a.current.has(A)||a.current.set(A,new Set),()=>{i.current.delete(A),a.current.delete(A)}),filter:()=>l.current.shouldFilter,label:c||e["aria-label"],getDisablePointerSelection:()=>l.current.disablePointerSelection,listId:x,inputId:_,labelId:b,listInnerRef:N}),[]);function U(A,Y){var E,$;let Z=($=(E=l.current)==null?void 0:E.filter)!=null?$:lY;return A?Z(A,r.current.search,Y):0}function B(){if(!r.current.search||l.current.shouldFilter===!1)return;let A=r.current.filtered.items,Y=[];r.current.filtered.groups.forEach($=>{let Z=a.current.get($),Q=0;Z.forEach(P=>{let F=A.get(P);Q=Math.max(F,Q)}),Y.push([$,Q])});let E=N.current;se().sort(($,Z)=>{var Q,P;let F=$.getAttribute("id"),X=Z.getAttribute("id");return((Q=A.get(X))!=null?Q:0)-((P=A.get(F))!=null?P:0)}).forEach($=>{let Z=$.closest(Wx);Z?Z.appendChild($.parentElement===Z?$:$.closest(`${Wx} > *`)):E.appendChild($.parentElement===E?$:$.closest(`${Wx} > *`))}),Y.sort(($,Z)=>Z[1]-$[1]).forEach($=>{var Z;let Q=(Z=N.current)==null?void 0:Z.querySelector(`${vu}[${ic}="${encodeURIComponent($[0])}"]`);Q==null||Q.parentElement.appendChild(Q)})}function re(){let A=se().find(E=>E.getAttribute("aria-disabled")!=="true"),Y=A==null?void 0:A.getAttribute(ic);S.setState("value",Y||void 0)}function G(){var A,Y,E,$;if(!r.current.search||l.current.shouldFilter===!1){r.current.filtered.count=n.current.size;return}r.current.filtered.groups=new Set;let Z=0;for(let Q of n.current){let P=(Y=(A=i.current.get(Q))==null?void 0:A.value)!=null?Y:"",F=($=(E=i.current.get(Q))==null?void 0:E.keywords)!=null?$:[],X=U(P,F);r.current.filtered.items.set(Q,X),X>0&&Z++}for(let[Q,P]of a.current)for(let F of P)if(r.current.filtered.items.get(F)>0){r.current.filtered.groups.add(Q);break}r.current.filtered.count=Z}function H(){var A,Y,E;let $=V();$&&(((A=$.parentElement)==null?void 0:A.firstChild)===$&&((E=(Y=$.closest(vu))==null?void 0:Y.querySelector(oY))==null||E.scrollIntoView({block:"nearest"})),$.scrollIntoView({block:"nearest"}))}function V(){var A;return(A=N.current)==null?void 0:A.querySelector(`${fA}[aria-selected="true"]`)}function se(){var A;return Array.from(((A=N.current)==null?void 0:A.querySelectorAll(FS))||[])}function te(A){let Y=se()[A];Y&&S.setState("value",Y.getAttribute(ic))}function J(A){var Y;let E=V(),$=se(),Z=$.findIndex(P=>P===E),Q=$[Z+A];(Y=l.current)!=null&&Y.loop&&(Q=Z+A<0?$[$.length-1]:Z+A===$.length?$[0]:$[Z+A]),Q&&S.setState("value",Q.getAttribute(ic))}function I(A){let Y=V(),E=Y==null?void 0:Y.closest(vu),$;for(;E&&!$;)E=A>0?vY(E,vu):xY(E,vu),$=E==null?void 0:E.querySelector(FS);$?S.setState("value",$.getAttribute(ic)):J(A)}let D=()=>te(se().length-1),C=A=>{A.preventDefault(),A.metaKey?D():A.altKey?I(1):J(1)},T=A=>{A.preventDefault(),A.metaKey?te(0):A.altKey?I(-1):J(-1)};return f.createElement(Le.div,{ref:t,tabIndex:-1,...y,"cmdk-root":"",onKeyDown:A=>{var Y;(Y=y.onKeyDown)==null||Y.call(y,A);let E=A.nativeEvent.isComposing||A.keyCode===229;if(!(A.defaultPrevented||E))switch(A.key){case"n":case"j":{g&&A.ctrlKey&&C(A);break}case"ArrowDown":{C(A);break}case"p":case"k":{g&&A.ctrlKey&&T(A);break}case"ArrowUp":{T(A);break}case"Home":{A.preventDefault(),te(0);break}case"End":{A.preventDefault(),D();break}case"Enter":{A.preventDefault();let $=V();if($){let Z=new Event(Q0);$.dispatchEvent(Z)}}}}},f.createElement("label",{"cmdk-label":"",htmlFor:R.inputId,id:R.labelId,style:bY},c),Jg(e,A=>f.createElement(mA.Provider,{value:S},f.createElement(hA.Provider,{value:R},A))))}),cY=f.forwardRef((e,t)=>{var r,n;let a=en(),i=f.useRef(null),o=f.useContext(pA),l=uh(),c=vA(e),d=(n=(r=c.current)==null?void 0:r.forceMount)!=null?n:o==null?void 0:o.forceMount;Nl(()=>{if(!d)return l.item(a,o==null?void 0:o.id)},[d]);let u=xA(a,i,[e.value,e.children,i],e.keywords),h=vj(),m=vo(k=>k.value&&k.value===u.current),p=vo(k=>d||l.filter()===!1?!0:k.search?k.filtered.items.get(a)>0:!0);f.useEffect(()=>{let k=i.current;if(!(!k||e.disabled))return k.addEventListener(Q0,w),()=>k.removeEventListener(Q0,w)},[p,e.onSelect,e.disabled]);function w(){var k,S;v(),(S=(k=c.current).onSelect)==null||S.call(k,u.current)}function v(){h.setState("value",u.current,!0)}if(!p)return null;let{disabled:g,value:y,onSelect:x,forceMount:b,keywords:_,...N}=e;return f.createElement(Le.div,{ref:ni(i,t),...N,id:a,"cmdk-item":"",role:"option","aria-disabled":!!g,"aria-selected":!!m,"data-disabled":!!g,"data-selected":!!m,onPointerMove:g||l.getDisablePointerSelection()?void 0:v,onClick:g?void 0:w},e.children)}),dY=f.forwardRef((e,t)=>{let{heading:r,children:n,forceMount:a,...i}=e,o=en(),l=f.useRef(null),c=f.useRef(null),d=en(),u=uh(),h=vo(p=>a||u.filter()===!1?!0:p.search?p.filtered.groups.has(o):!0);Nl(()=>u.group(o),[]),xA(o,l,[e.value,e.heading,c]);let m=f.useMemo(()=>({id:o,forceMount:a}),[a]);return f.createElement(Le.div,{ref:ni(l,t),...i,"cmdk-group":"",role:"presentation",hidden:h?void 0:!0},r&&f.createElement("div",{ref:c,"cmdk-group-heading":"","aria-hidden":!0,id:d},r),Jg(e,p=>f.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?d:void 0},f.createElement(pA.Provider,{value:m},p))))}),uY=f.forwardRef((e,t)=>{let{alwaysRender:r,...n}=e,a=f.useRef(null),i=vo(o=>!o.search);return!r&&!i?null:f.createElement(Le.div,{ref:ni(a,t),...n,"cmdk-separator":"",role:"separator"})}),fY=f.forwardRef((e,t)=>{let{onValueChange:r,...n}=e,a=e.value!=null,i=vj(),o=vo(d=>d.search),l=vo(d=>d.selectedItemId),c=uh();return f.useEffect(()=>{e.value!=null&&i.setState("search",e.value)},[e.value]),f.createElement(Le.input,{ref:t,...n,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":c.listId,"aria-labelledby":c.labelId,"aria-activedescendant":l,id:c.inputId,type:"text",value:a?e.value:o,onChange:d=>{a||i.setState("search",d.target.value),r==null||r(d.target.value)}})}),hY=f.forwardRef((e,t)=>{let{children:r,label:n="Suggestions",...a}=e,i=f.useRef(null),o=f.useRef(null),l=vo(d=>d.selectedItemId),c=uh();return f.useEffect(()=>{if(o.current&&i.current){let d=o.current,u=i.current,h,m=new ResizeObserver(()=>{h=requestAnimationFrame(()=>{let p=d.offsetHeight;u.style.setProperty("--cmdk-list-height",p.toFixed(1)+"px")})});return m.observe(d),()=>{cancelAnimationFrame(h),m.unobserve(d)}}},[]),f.createElement(Le.div,{ref:ni(i,t),...a,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":l,"aria-label":n,id:c.listId},Jg(e,d=>f.createElement("div",{ref:ni(o,c.listInnerRef),"cmdk-list-sizer":""},d)))}),mY=f.forwardRef((e,t)=>{let{open:r,onOpenChange:n,overlayClassName:a,contentClassName:i,container:o,...l}=e;return f.createElement(Mg,{open:r,onOpenChange:n},f.createElement(Ag,{container:o},f.createElement(Md,{"cmdk-overlay":"",className:a}),f.createElement(Ad,{"aria-label":e.label,"cmdk-dialog":"",className:i},f.createElement(gA,{ref:t,...l}))))}),pY=f.forwardRef((e,t)=>vo(r=>r.filtered.count===0)?f.createElement(Le.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),gY=f.forwardRef((e,t)=>{let{progress:r,children:n,label:a="Loading...",...i}=e;return f.createElement(Le.div,{ref:t,...i,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":a},Jg(e,o=>f.createElement("div",{"aria-hidden":!0},o)))}),Un=Object.assign(gA,{List:hY,Item:cY,Input:fY,Group:dY,Separator:uY,Dialog:mY,Empty:pY,Loading:gY});function vY(e,t){let r=e.nextElementSibling;for(;r;){if(r.matches(t))return r;r=r.nextElementSibling}}function xY(e,t){let r=e.previousElementSibling;for(;r;){if(r.matches(t))return r;r=r.previousElementSibling}}function vA(e){let t=f.useRef(e);return Nl(()=>{t.current=e}),t}var Nl=typeof window>"u"?f.useEffect:f.useLayoutEffect;function oc(e){let t=f.useRef();return t.current===void 0&&(t.current=e()),t}function vo(e){let t=vj(),r=()=>e(t.snapshot());return f.useSyncExternalStore(t.subscribe,r,r)}function xA(e,t,r,n=[]){let a=f.useRef(),i=uh();return Nl(()=>{var o;let l=(()=>{var d;for(let u of r){if(typeof u=="string")return u.trim();if(typeof u=="object"&&"current"in u)return u.current?(d=u.current.textContent)==null?void 0:d.trim():a.current}})(),c=n.map(d=>d.trim());i.value(e,l,c),(o=t.current)==null||o.setAttribute(ic,l),a.current=l}),a}var yY=()=>{let[e,t]=f.useState(),r=oc(()=>new Map);return Nl(()=>{r.current.forEach(n=>n()),r.current=new Map},[e]),(n,a)=>{r.current.set(n,a),t({})}};function wY(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function Jg({asChild:e,children:t},r){return e&&f.isValidElement(t)?f.cloneElement(wY(t),{ref:t.ref},r(t.props.children)):r(t)}var bY={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const Tu=f.forwardRef(({className:e,...t},r)=>s.jsx(Un,{ref:r,className:le("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...t}));Tu.displayName=Un.displayName;const Om=f.forwardRef(({className:e,...t},r)=>s.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[s.jsx($s,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),s.jsx(Un.Input,{ref:r,className:le("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...t})]}));Om.displayName=Un.Input.displayName;const Ru=f.forwardRef(({className:e,...t},r)=>s.jsx(Un.List,{ref:r,className:le("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...t}));Ru.displayName=Un.List.displayName;const X0=f.forwardRef((e,t)=>s.jsx(Un.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));X0.displayName=Un.Empty.displayName;const Mu=f.forwardRef(({className:e,...t},r)=>s.jsx(Un.Group,{ref:r,className:le("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...t}));Mu.displayName=Un.Group.displayName;const jY=f.forwardRef(({className:e,...t},r)=>s.jsx(Un.Separator,{ref:r,className:le("-mx-1 h-px bg-border",e),...t}));jY.displayName=Un.Separator.displayName;const Rs=f.forwardRef(({className:e,...t},r)=>s.jsx(Un.Item,{ref:r,className:le("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50",e),...t}));Rs.displayName=Un.Item.displayName;const _Y=KG({title:AS().min(1,"Título é obrigatório"),artist:AS().min(1,"Artista é obrigatório")}),NY=()=>{var cr;const{user:e}=ar(),t=Or(),r=ml(),n=yG({resolver:XG(_Y),defaultValues:{title:"",artist:""}}),a=async(z,ae)=>{try{const{jsPDF:ye}=await Rl(async()=>{const{jsPDF:ot}=await import("./jspdf.es.min-1MCiGf6o.js").then(wt=>wt.j);return{jsPDF:ot}},[]),Pe=new ye("p","mm","a4"),nt=Pe.internal.pageSize.getWidth(),st=Pe.internal.pageSize.getHeight(),Ge=20,vr=nt-2*Ge,Dr=18,Me=16,Ce=15;let qe=Ge,Re=1;z.forEach((ot,wt)=>{qe+Ce>st-Ge&&(Pe.addPage(),qe=Ge,Re++),Pe.setFontSize(Me),Pe.setFont("helvetica","bold");const ht=`${wt+1}.`,ie=Pe.getTextWidth(ht);Pe.text(ht,Ge,qe),Pe.setFontSize(Dr),Pe.setFont("helvetica","bold");const He=ot.title.toUpperCase(),Ue=Ge+ie+10,vt=vr-ie-10,xt=Pe.splitTextToSize(He,vt);Pe.text(xt,Ue,qe);const St=Array.isArray(xt)?xt.length*(Dr*.353):Dr*.353;qe+=Math.max(Ce,St+5)}),Pe.save(ae),oe({title:"PDF gerado com sucesso!",description:`Repertório salvo como ${ae}`})}catch(ye){console.error("Erro ao gerar PDF:",ye),oe({title:"Erro ao gerar PDF",description:"Não foi possível gerar o PDF. Tente novamente.",variant:"destructive"})}},{data:i,refetch:o}=Ze({queryKey:["my-songs",e==null?void 0:e.id],enabled:!!(e!=null&&e.id),queryFn:async()=>{const{data:z,error:ae}=await L.from("songs").select("*").eq("owner_id",e.id).order("sort_index",{ascending:!0,nullsFirst:!1}).order("created_at",{ascending:!0});if(ae)throw ae;return z||[]}}),[l,c]=f.useState(!0);f.useEffect(()=>{const z=(i||[])[0];z&&typeof z.is_public=="boolean"?c(!0):i&&i.length>0&&c(!1)},[i]);const{data:d}=Ze({queryKey:["genres"],queryFn:async()=>{const{data:z,error:ae}=await L.from("genres").select("id, name");if(ae)throw ae;return z||[]}}),{data:u,refetch:h}=Ze({queryKey:["genre-visibility",e==null?void 0:e.id],enabled:!!(e!=null&&e.id),queryFn:async()=>{const{data:z,error:ae}=await L.from("genre_visibility").select("genre_id, is_public").eq("musician_id",e.id);if(ae)throw ae;return z||[]}}),m=f.useMemo(()=>{const z=new Map;return(u||[]).forEach(ae=>z.set(ae.genre_id,ae.is_public)),z},[u]),p=async(z,ae)=>{if(e)try{const{error:ye}=await L.from("genre_visibility").upsert({musician_id:e.id,genre_id:z,is_public:!ae},{onConflict:"musician_id,genre_id"});if(ye)throw ye;if(l){const{error:Pe}=await L.from("songs").update({is_public:!ae}).eq("owner_id",e.id).eq("genre_id",z);if(Pe)throw Pe}oe({title:ae?"Gênero ocultado":"Gênero tornado visível"}),await Promise.all([h(),o()])}catch(ye){oe({title:"Erro ao alterar visibilidade do gênero",description:ye.message,variant:"destructive"})}},{data:w,refetch:v}=Ze({queryKey:["my-songs-likes",e==null?void 0:e.id,(i||[]).length],enabled:!!(e!=null&&e.id)&&!!(i!=null&&i.length),queryFn:async()=>{const z=(i||[]).map(nt=>nt.id),{data:ae,error:ye}=await L.from("song_likes").select("song_id").in("song_id",z);if(ye)throw ye;const Pe={};return(ae||[]).forEach(nt=>{Pe[nt.song_id]=(Pe[nt.song_id]||0)+1}),Pe}}),g=async(z,ae)=>{try{if(!l)return;const{error:ye}=await L.from("songs").update({is_public:!ae}).eq("id",z);if(ye)throw ye;oe({title:ae?"Música ocultada":"Música exibida",description:"Atualização de visibilidade aplicada."}),await o()}catch(ye){oe({title:"Erro ao alterar visibilidade",description:ye.message,variant:"destructive"})}},{data:y,refetch:x}=Ze({queryKey:["my-songs-requests",e==null?void 0:e.id,(i||[]).length],enabled:!!(e!=null&&e.id)&&!!(i!=null&&i.length),queryFn:async()=>{const z=(i||[]).map(nt=>nt.id),{data:ae,error:ye}=await L.from("requests").select("song_id").in("song_id",z);if(ye)throw ye;const Pe={};return(ae||[]).forEach(nt=>{Pe[nt.song_id]=(Pe[nt.song_id]||0)+1}),Pe}}),[b,_]=f.useState(""),[N,k]=f.useState(""),[S,R]=f.useState(!1),[U,B]=f.useState([]),re=f.useRef(null),[G,H]=f.useState(null),[V,se]=f.useState(null),[te,J]=f.useState(!1),I=()=>{var ae;if(!i||i.length===0)return;const z=i.filter(ye=>{if(l)return ye.is_public!==!1;const Pe=ye.genre_id;return m.get(Pe)!==!1});if(z.length===0){oe({title:"Nenhuma música visível",description:"Não há músicas visíveis para gerar o PDF.",variant:"destructive"});return}a(z,`repertorio-${((ae=e==null?void 0:e.email)==null?void 0:ae.split("@")[0])||"musico"}.pdf`)},[D,C]=f.useState(""),[T,A]=f.useState("todos"),[Y,E]=f.useState(1),$=30,[Z,Q]=f.useState(!1),[P,F]=f.useState(!1),[X,de]=f.useState([]),[Ne,me]=f.useState(null),[xe,Ye]=f.useState("all");f.useEffect(()=>{if(!(e!=null&&e.id)||!(i!=null&&i.length))return;const z=i.map(ye=>ye.id),ae=L.channel(`catalog-likes-${e.id}`).on("postgres_changes",{event:"*",schema:"public",table:"song_likes"},ye=>{var st,Ge;console.log("❤️ [Catalog] Likes realtime update received:",ye),console.log("❤️ [Catalog] Event type:",ye.eventType),console.log("❤️ [Catalog] New record:",ye.new),console.log("❤️ [Catalog] Old record:",ye.old);const Pe=((st=ye.new)==null?void 0:st.song_id)||((Ge=ye.old)==null?void 0:Ge.song_id);Pe&&z.includes(Pe)?(console.log("❤️ [Catalog] Relevant like update - refetching data"),v()):console.log("❤️ [Catalog] Like update not relevant for this musician")}).subscribe(ye=>{console.log("Likes realtime subscription status:",ye)});return()=>{console.log("Removing likes realtime channel"),L.removeChannel(ae)}},[e==null?void 0:e.id,i,v]),f.useEffect(()=>{if(!(e!=null&&e.id)||!(i!=null&&i.length))return;const z=i.map(ye=>ye.id),ae=L.channel(`catalog-requests-${e.id}`).on("postgres_changes",{event:"*",schema:"public",table:"requests"},ye=>{var st,Ge;console.log("🎼 [Catalog] Requests realtime update received:",ye),console.log("🎼 [Catalog] Event type:",ye.eventType),console.log("🎼 [Catalog] New record:",ye.new),console.log("🎼 [Catalog] Old record:",ye.old);const Pe=((st=ye.new)==null?void 0:st.song_id)||((Ge=ye.old)==null?void 0:Ge.song_id);Pe&&z.includes(Pe)?(console.log("🎼 [Catalog] Relevant request update - refetching data"),x()):console.log("🎼 [Catalog] Request update not relevant for this musician")}).subscribe(ye=>{console.log("Requests realtime subscription status:",ye)});return()=>{console.log("Removing requests realtime channel"),L.removeChannel(ae)}},[e==null?void 0:e.id,i,x]);const Nt=f.useMemo(()=>{const z=new Map;(i||[]).forEach(Pe=>{Pe.genre_id&&z.set(Pe.genre_id,(z.get(Pe.genre_id)||0)+1)});let ae=null,ye=0;return z.forEach((Pe,nt)=>{Pe>ye&&(ye=Pe,ae=nt)}),ae||""},[i]);f.useEffect(()=>{!D&&Nt&&C(Nt)},[Nt,D]),f.useEffect(()=>{if(V&&d&&d.length){const z=d.find(ae=>ae.name.toLowerCase()===V.toLowerCase());z&&C(z.id)}},[V,d]),f.useEffect(()=>{E(1)},[T,N,xe]);const kt=async z=>{if(!z||z.length<2){B([]);return}R(!0);try{const{data:ae,error:ye}=await L.functions.invoke("search-songs",{body:{q:z}});if(ye)throw ye;B((ae==null?void 0:ae.results)||[])}catch(ae){console.error("Erro buscando catálogo:",ae),B([])}finally{R(!1)}};f.useEffect(()=>{const z=ae=>{re.current&&(re.current.contains(ae.target)||B([]))};return document.addEventListener("mousedown",z),()=>document.removeEventListener("mousedown",z)},[]),f.useEffect(()=>{i&&de(z=>{const ae=i.map(st=>st.id);if(!z.length)return ae;const ye=new Set(ae),Pe=z.filter(st=>ye.has(st)),nt=ae.filter(st=>!Pe.includes(st));return[...Pe,...nt]})},[i]);const Ut=z=>{let ae=[...z||[]];if(l&&(xe==="visible"?ae=ae.filter(ye=>((ye==null?void 0:ye.is_public)??!0)===!0):xe==="hidden"&&(ae=ae.filter(ye=>((ye==null?void 0:ye.is_public)??!0)===!1))),xe==="likes")ae.sort((ye,Pe)=>((w==null?void 0:w[Pe.id])??0)-((w==null?void 0:w[ye.id])??0));else if(xe==="requests")ae.sort((ye,Pe)=>((y==null?void 0:y[Pe.id])??0)-((y==null?void 0:y[ye.id])??0));else if(X.length>0){const ye=new Map(X.map((Pe,nt)=>[Pe,nt]));ae.sort((Pe,nt)=>(ye.get(Pe.id)??Number.MAX_SAFE_INTEGER)-(ye.get(nt.id)??Number.MAX_SAFE_INTEGER))}return ae},Et=(z,ae)=>{me(ae),z.dataTransfer.effectAllowed="move",z.dataTransfer.setData("text/plain",ae)},q=async(z,ae)=>{z.preventDefault();const ye=Ne||z.dataTransfer.getData("text/plain");if(!ye||ye===ae)return;const Pe=[...X],nt=Pe.indexOf(ye),st=Pe.indexOf(ae);if(!(nt===-1||st===-1)&&(Pe.splice(nt,1),Pe.splice(st,0,ye),de(Pe),me(null),!!e))try{await Promise.all(Pe.map((Ge,vr)=>L.from("songs").update({sort_index:vr+1}).eq("id",Ge).eq("owner_id",e.id))),oe({title:"Ordem salva"})}catch(Ge){console.error("Erro ao salvar ordem:",Ge),oe({title:"Erro ao salvar ordem",description:(Ge==null?void 0:Ge.message)||"Tente novamente."})}},ne=z=>{n.setValue("title",z.title||""),n.setValue("artist",z.artist||""),H(z.cover_url||null),se(z.genre_name||null),B([]),_(`${z.title} — ${z.artist}`)},ue=async z=>{if(!e)return;const ae=Ge=>Ge.trim().toLowerCase().replace(/\s+/g," ");if((i||[]).some(Ge=>ae(Ge.title)===ae(z.title)&&ae(Ge.artist||"")===ae(z.artist||""))){oe({title:"Música já cadastrada",description:"Essa música já está no seu catálogo."});return}let Pe=D||null;if(!Pe&&V){const{data:Ge,error:vr}=await L.from("genres").select("id, name").ilike("name",V).limit(1);!vr&&Ge&&Ge.length>0&&(Pe=Ge[0].id)}const nt={title:z.title.trim(),artist:z.artist.trim(),owner_id:e.id,cover_url:G,genre_id:Pe};l&&(nt.is_public=!0);const{error:st}=await L.from("songs").insert(nt);if(st){oe({title:"Erro ao cadastrar música",description:st.message});return}oe({title:"Música adicionada ao catálogo"}),n.reset(),H(null),se(null),_(""),o()},be=async z=>{if(!e||!window.confirm("Tem certeza que deseja excluir esta música?"))return;const{error:ye}=await L.from("songs").delete().eq("id",z);if(ye){oe({title:"Erro ao excluir música",description:ye.message});return}oe({title:"Música excluída"}),o()},we=Object.fromEntries((d||[]).map(z=>[z.id,z.name])),pe=(i||[]).filter(z=>{const ae=N.toLowerCase().trim();return ae?z.title.toLowerCase().includes(ae)||(z.artist||"").toLowerCase().includes(ae):!0}),Ee=Array.from(new Set(pe.map(z=>z.genre_id).filter(Boolean))),We=pe.some(z=>!z.genre_id),fe=Ee.map(z=>({value:z,label:we[z]||"Sem gênero"}));We&&fe.push({value:"sem",label:"Sem gênero"});const De=r?1:6,gt=fe.slice(0,De),rt=fe.slice(De),pt=rt.some(z=>z.value===T),Pt=pt&&((cr=rt.find(z=>z.value===T))==null?void 0:cr.label)||"Mais...";return s.jsxs(s.Fragment,{children:[te&&s.jsxs("div",{className:"fixed inset-0 z-50 flex items-start justify-center pt-16 px-4",onClick:()=>J(!1),children:[s.jsx("div",{className:"absolute inset-0 bg-black/50","aria-hidden":"true"}),s.jsxs("div",{className:"relative w-full max-w-sm bg-background border rounded-lg shadow-lg p-4",onClick:z=>z.stopPropagation(),children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h3",{className:"text-sm font-medium",children:"Pesquisar músicas"}),s.jsx(O,{variant:"ghost",size:"sm",onClick:()=>J(!1),children:s.jsx(Mr,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground",children:s.jsx($s,{className:"h-4 w-4"})}),s.jsx(Ie,{placeholder:"Pesquisar no seu catálogo...",value:N,onChange:z=>k(z.target.value),className:"pl-10 pr-10",autoFocus:!0}),N&&s.jsx("div",{className:"absolute right-2 top-1/2 transform -translate-y-1/2",children:s.jsx(O,{type:"button",variant:"ghost",size:"sm",className:"h-6 w-6 p-0 hover:bg-muted",onClick:()=>k(""),children:s.jsx(Mr,{className:"h-3 w-3"})})})]})]})]}),s.jsxs("section",{className:"max-w-5xl mx-auto px-4 overflow-x-hidden",children:[s.jsx(Zt,{title:"Catálogo do Músico",description:"Adicione músicas e gerencie seu catálogo."}),e?s.jsxs(et,{className:"border-0 shadow-none",children:[s.jsx(Xt,{className:"p-0 m-0",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(lr,{children:"Catálogo"}),s.jsx("div",{className:"flex items-center gap-2",children:r?s.jsxs(qr,{open:P,onOpenChange:F,children:[s.jsx(D7,{asChild:!0,children:s.jsx(O,{children:s.jsx(Ec,{className:"h-4 w-4"})})}),s.jsxs(Pr,{className:"sm:max-w-[425px]",children:[s.jsx(Tr,{children:s.jsx(Rr,{children:"Adicionar Música"})}),s.jsx("div",{className:"py-4",children:s.jsx(gS,{...n,children:s.jsxs("form",{onSubmit:n.handleSubmit(ue),className:"space-y-4",children:[s.jsxs(Oa,{children:[s.jsx(Da,{children:"Buscar música"}),s.jsx(Ia,{children:s.jsxs("div",{className:"relative",ref:re,children:[s.jsxs("div",{className:"relative w-full",children:[s.jsx("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:s.jsx($s,{className:"h-4 w-4"})}),s.jsx(Ie,{placeholder:"Digite título ou artista (ex.: Meu Erro)",value:b,onChange:z=>{const ae=z.target.value;_(ae),kt(ae)},onKeyDown:z=>{z.key==="Escape"&&B([])},className:"pl-10 pr-10"}),b&&s.jsx("div",{className:"absolute right-2 top-1/2 transform -translate-y-1/2",children:s.jsx(O,{type:"button",variant:"ghost",size:"sm",className:"h-6 w-6 p-0 hover:bg-muted",onClick:()=>{_(""),B([])},children:s.jsx(Mr,{className:"h-3 w-3"})})})]}),U.length>0&&s.jsx("div",{className:"absolute z-10 mt-1 w-full rounded-md border bg-popover text-popover-foreground shadow",children:s.jsx("ul",{className:"max-h-64 overflow-auto",children:U.map((z,ae)=>s.jsx("li",{className:"px-3 py-2 hover:bg-accent cursor-pointer",onClick:()=>ne(z),children:s.jsxs("div",{className:"flex items-center gap-3",children:[z.cover_url&&s.jsx("img",{src:z.cover_url,alt:`Capa de ${z.title} - ${z.artist}`,className:"h-10 w-10 rounded object-cover",loading:"lazy"}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("p",{className:"text-sm font-medium truncate",children:z.title}),s.jsxs("p",{className:"text-xs text-muted-foreground truncate",children:[z.artist,z.genre_name?` • ${z.genre_name}`:""]})]})]})},`${z.title}-${z.artist}-${ae}`))})})]})}),s.jsx(Fa,{})]}),s.jsx(im,{control:n.control,name:"title",render:({field:z})=>s.jsxs(Oa,{children:[s.jsx(Da,{children:"Título"}),s.jsx(Ia,{children:s.jsx(Ie,{placeholder:"Ex.: Meu erro",...z})}),s.jsx(Fa,{})]})}),s.jsx(im,{control:n.control,name:"artist",render:({field:z})=>s.jsxs(Oa,{children:[s.jsx(Da,{children:"Artista"}),s.jsx(Ia,{children:s.jsx(Ie,{placeholder:"Ex.: Paralamas do sucesso",...z})}),s.jsx(Fa,{})]})}),s.jsxs(Oa,{children:[s.jsx(Da,{children:"Gênero"}),s.jsxs(bn,{children:[s.jsx(jn,{asChild:!0,children:s.jsx(Ia,{children:s.jsxs(O,{variant:"outline",role:"combobox",className:"w-full justify-between","aria-label":"Selecionar gênero",children:[D?we[D]||"Sem gênero":Nt?`Sugerido: ${we[Nt]||""}`:"Selecione um gênero",s.jsx(cx,{className:"ml-2 h-4 w-4 opacity-50"})]})})}),s.jsx(un,{className:"w-[--radix-popover-trigger-width] p-0 z-50",children:s.jsxs(Tu,{children:[s.jsx(Om,{placeholder:"Filtrar gêneros..."}),s.jsxs(Ru,{children:[s.jsx(X0,{children:"Nenhum gênero encontrado."}),s.jsxs(Mu,{children:[s.jsxs(Rs,{value:"none",onSelect:()=>{C(""),E(1)},children:[s.jsx(cs,{className:le("mr-2 h-4 w-4",D===""?"opacity-100":"opacity-0")}),"Sem gênero"]},"none"),(d||[]).map(z=>s.jsxs(Rs,{value:z.name,onSelect:()=>{C(z.id),E(1)},children:[s.jsx(cs,{className:le("mr-2 h-4 w-4",D===z.id?"opacity-100":"opacity-0")}),z.name]},z.id))]})]})]})})]}),s.jsx(Fa,{})]}),(G||V)&&s.jsxs("div",{className:"flex items-center gap-3",children:[G?s.jsx("img",{src:G,alt:"Prévia da capa",className:"h-14 w-14 rounded object-cover border",loading:"lazy"}):s.jsx("div",{className:"h-14 w-14 rounded border bg-muted/30 flex items-center justify-center",children:s.jsx(nr,{className:"h-5 w-5 text-muted-foreground"})}),V&&s.jsx("span",{className:"text-xs px-2 py-1 rounded-full border bg-secondary/30",children:V})]}),s.jsxs("div",{className:"flex gap-2 pt-4",children:[s.jsx(O,{type:"button",variant:"outline",onClick:()=>F(!1),className:"flex-1",children:"Fechar"}),s.jsx(O,{type:"submit",className:"flex-1",children:"Adicionar"})]})]})})})]})]}):s.jsxs(s.Fragment,{children:[!Z&&s.jsxs(O,{onClick:()=>Q(!0),children:[s.jsx(Ec,{className:"h-4 w-4"}),s.jsx("span",{className:"ml-2",children:"Adicionar músicas"})]}),Z&&s.jsxs(O,{variant:"ghost",size:"sm",onClick:()=>Q(!1),"aria-label":"Minimizar formulário",title:"Minimizar formulário",children:[s.jsx($2,{className:"h-4 w-4"}),s.jsx("span",{className:"ml-2",children:"Minimizar"})]})]})})]})}),s.jsx(tt,{className:"p-0 m-0",children:s.jsxs("div",{className:"flex flex-col gap-4",children:[(!i||i.length===0)&&!Z&&s.jsxs("div",{className:"rounded-md border p-3 bg-muted/30",children:[s.jsx("h3",{className:"font-medium text-gray-500",children:"Você ainda não adicionou músicas"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:'Clique no botão "Adicionar músicas" no topo e pesquise pelo título ou artista para incluir no seu catálogo.'})]}),s.jsx("div",{className:Z?"":"hidden",children:s.jsx(gS,{...n,children:s.jsx("form",{onSubmit:n.handleSubmit(ue),children:s.jsxs("div",{className:"grid md:grid-cols-[360px,1fr] gap-4 items-start",children:[s.jsxs("div",{className:"hidden md:block",children:[s.jsx("div",{className:"rounded-md border overflow-hidden bg-muted/30 aspect-square",children:G?s.jsx("img",{src:G,alt:"Prévia da capa",className:"w-full h-full object-cover",loading:"lazy"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center",children:s.jsx("div",{className:"flex flex-col items-center justify-center text-muted-foreground",children:s.jsx(nr,{className:"h-10 w-10 opacity-70"})})})}),V&&s.jsx("div",{className:"mt-2 text-xs px-2 py-1 inline-block rounded-full border bg-secondary/30",children:V})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Oa,{children:[s.jsx(Da,{children:"Buscar música"}),s.jsx(Ia,{children:s.jsxs("div",{className:"relative",ref:re,children:[s.jsxs("div",{className:"relative w-full",children:[s.jsx("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:s.jsx($s,{className:"h-4 w-4"})}),s.jsx(Ie,{placeholder:"Digite título ou artista (ex.: Meu Erro)",value:b,onChange:z=>{const ae=z.target.value;_(ae),kt(ae)},onKeyDown:z=>{z.key==="Escape"&&B([])},className:"pl-10 pr-10"}),b&&s.jsx("div",{className:"absolute right-2 top-1/2 transform -translate-y-1/2",children:s.jsx(O,{type:"button",variant:"ghost",size:"sm",className:"h-6 w-6 p-0 hover:bg-muted",onClick:()=>{_(""),B([])},children:s.jsx(Mr,{className:"h-3 w-3"})})})]}),U.length>0&&s.jsx("div",{className:"absolute z-10 mt-1 w-full rounded-md border bg-popover text-popover-foreground shadow",children:s.jsx("ul",{className:"max-h-64 overflow-auto",children:U.map((z,ae)=>s.jsx("li",{className:"px-3 py-2 hover:bg-accent cursor-pointer",onClick:()=>ne(z),children:s.jsxs("div",{className:"flex items-center gap-3",children:[z.cover_url&&s.jsx("img",{src:z.cover_url,alt:`Capa de ${z.title} - ${z.artist}`,className:"h-10 w-10 rounded object-cover",loading:"lazy"}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("p",{className:"text-sm font-medium truncate",children:z.title}),s.jsxs("p",{className:"text-xs text-muted-foreground truncate",children:[z.artist,z.genre_name?` • ${z.genre_name}`:""]})]})]})},`${z.title}-${z.artist}-${ae}`))})})]})}),s.jsx(Fa,{})]}),s.jsx(im,{control:n.control,name:"title",render:({field:z})=>s.jsxs(Oa,{children:[s.jsx(Da,{children:"Título"}),s.jsx(Ia,{children:s.jsx(Ie,{placeholder:"Ex.: Meu erro",...z})}),s.jsx(Fa,{})]})}),s.jsx(im,{control:n.control,name:"artist",render:({field:z})=>s.jsxs(Oa,{children:[s.jsx(Da,{children:"Artista"}),s.jsx(Ia,{children:s.jsx(Ie,{placeholder:"Ex.: Paralamas do sucesso",...z})}),s.jsx(Fa,{})]})}),s.jsxs(Oa,{children:[s.jsx(Da,{children:"Gênero"}),s.jsxs(bn,{children:[s.jsx(jn,{asChild:!0,children:s.jsx(Ia,{children:s.jsxs(O,{variant:"outline",role:"combobox",className:"w-full justify-between","aria-label":"Selecionar gênero",children:[D?we[D]||"Sem gênero":Nt?`Sugerido: ${we[Nt]||""}`:"Selecione um gênero",s.jsx(cx,{className:"ml-2 h-4 w-4 opacity-50"})]})})}),s.jsx(un,{className:"w-[--radix-popover-trigger-width] p-0 z-50",children:s.jsxs(Tu,{children:[s.jsx(Om,{placeholder:"Filtrar gêneros..."}),s.jsxs(Ru,{children:[s.jsx(X0,{children:"Nenhum gênero encontrado."}),s.jsxs(Mu,{children:[s.jsxs(Rs,{value:"none",onSelect:()=>{C(""),E(1)},children:[s.jsx(cs,{className:le("mr-2 h-4 w-4",D===""?"opacity-100":"opacity-0")}),"Sem gênero"]},"none"),(d||[]).map(z=>s.jsxs(Rs,{value:z.name,onSelect:()=>{C(z.id),E(1)},children:[s.jsx(cs,{className:le("mr-2 h-4 w-4",D===z.id?"opacity-100":"opacity-0")}),z.name]},z.id))]})]})]})})]}),s.jsx(Fa,{})]}),(G||V)&&s.jsxs("div",{className:"flex items-center gap-2 md:hidden",children:[G?s.jsx("img",{src:G,alt:"Prévia da capa",className:"h-14 w-14 rounded object-cover border",loading:"lazy"}):s.jsx("div",{className:"h-14 w-14 rounded border bg-muted/30 flex items-center justify-center",children:s.jsx(nr,{className:"h-5 w-5 text-muted-foreground"})}),V&&s.jsx("span",{className:"text-xs px-2 py-1 rounded-full border bg-secondary/30",children:V})]}),s.jsx(O,{type:"submit",children:"Salvar"})]})]})})})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Suas músicas:"}),s.jsx("div",{className:"mb-2",children:s.jsxs("div",{className:"flex gap-2",children:[r?s.jsx(O,{variant:"outline",size:"sm",onClick:()=>J(!0),className:"flex-shrink-0",children:s.jsx($s,{className:"h-4 w-4"})}):s.jsxs("div",{className:"relative flex-1",children:[s.jsx("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:s.jsx($s,{className:"h-4 w-4"})}),s.jsx(Ie,{placeholder:"Pesquisar no seu catálogo...",value:N,onChange:z=>k(z.target.value),className:"pl-10 pr-10"}),N&&s.jsx("div",{className:"absolute right-2 top-1/2 transform -translate-y-1/2",children:s.jsx(O,{type:"button",variant:"ghost",size:"sm",className:"h-6 w-6 p-0 hover:bg-muted",onClick:()=>k(""),children:s.jsx(Mr,{className:"h-3 w-3"})})})]}),s.jsx(SY,{userId:e==null?void 0:e.id,onAfterChange:()=>o(),isMobile:r}),s.jsxs(O,{variant:"outline",size:"sm",onClick:I,disabled:!i||i.length===0,title:"Gerar repertório de palco em PDF",children:[s.jsx(wc,{className:"h-4 w-4"}),!r&&s.jsx("span",{className:"ml-2",children:"Repertório PDF"})]}),r?s.jsxs(bn,{children:[s.jsx(jn,{asChild:!0,children:s.jsx(O,{variant:"outline",size:"sm",children:s.jsx(cx,{className:"h-4 w-4"})})}),s.jsx(un,{align:"end",className:"w-48",children:s.jsxs(Tu,{children:[s.jsx(Om,{placeholder:"Ordenar por..."}),s.jsx(Ru,{children:s.jsxs(Mu,{children:[s.jsxs(Rs,{onSelect:()=>Ye("all"),children:[s.jsx(cs,{className:le("mr-2 h-4 w-4",xe==="all"?"opacity-100":"opacity-0")}),"Todas (ordem manual)"]}),s.jsxs(Rs,{onSelect:()=>Ye("likes"),children:[s.jsx(cs,{className:le("mr-2 h-4 w-4",xe==="likes"?"opacity-100":"opacity-0")}),"Mais curtidas"]}),s.jsxs(Rs,{onSelect:()=>Ye("requests"),children:[s.jsx(cs,{className:le("mr-2 h-4 w-4",xe==="requests"?"opacity-100":"opacity-0")}),"Mais solicitadas"]}),l?s.jsxs(s.Fragment,{children:[s.jsxs(Rs,{onSelect:()=>Ye("visible"),children:[s.jsx(cs,{className:le("mr-2 h-4 w-4",xe==="visible"?"opacity-100":"opacity-0")}),"Visíveis"]}),s.jsxs(Rs,{onSelect:()=>Ye("hidden"),children:[s.jsx(cs,{className:le("mr-2 h-4 w-4",xe==="hidden"?"opacity-100":"opacity-0")}),"Ocultas"]})]}):null]})})]})})]}):s.jsxs(bl,{value:xe,onValueChange:z=>Ye(z),children:[s.jsx(ho,{className:"w-48",children:s.jsx(jl,{placeholder:"Ordenar por"})}),s.jsxs(mo,{children:[s.jsx(Qr,{value:"all",children:"Todas (ordem manual)"}),s.jsx(Qr,{value:"likes",children:"Mais curtidas"}),s.jsx(Qr,{value:"requests",children:"Mais solicitadas"}),l?s.jsxs(s.Fragment,{children:[s.jsx(Qr,{value:"visible",children:"Visíveis"}),s.jsx(Qr,{value:"hidden",children:"Ocultas"})]}):null]})]})]})}),xe==="all"&&s.jsx("p",{className:"text-xs text-muted-foreground mb-2 text-gray-700",children:"Dica: arraste para reordenar os itens."}),pe.length?s.jsxs(Fd,{value:T,onValueChange:z=>A(z),className:"w-full",children:[s.jsxs(fo,{className:"flex flex-wrap gap-1",children:[s.jsxs(Br,{value:"todos",children:["Todas (",pe.length,")"]}),gt.map(z=>s.jsx(Br,{value:z.value,children:z.label},z.value)),rt.length>0&&s.jsxs(bn,{children:[s.jsx(jn,{asChild:!0,children:s.jsx(O,{variant:"ghost",size:"sm",className:le("px-3 py-1.5 text-sm font-medium rounded-sm",pt?"bg-background text-foreground shadow-sm":""),"aria-label":"Mais gêneros",children:Pt})}),s.jsx(un,{align:"start",className:"z-50 bg-popover text-popover-foreground border p-1",children:s.jsx(Tu,{children:s.jsx(Ru,{children:s.jsx(Mu,{children:rt.map(z=>s.jsx(Rs,{onSelect:()=>A(z.value),children:z.label},z.value))})})})})]})]}),s.jsxs(Xr,{value:"todos",children:[s.jsx("ul",{className:"space-y-1.5",children:Ut(pe).slice(0,Y*$).map(z=>s.jsxs("li",{className:"border rounded-md p-2 flex items-start justify-between gap-2",draggable:xe==="all",onDragStart:xe==="all"?ae=>Et(ae,z.id):void 0,onDragOver:xe==="all"?ae=>ae.preventDefault():void 0,onDrop:xe==="all"?ae=>q(ae,z.id):void 0,onDragEnd:xe==="all"?()=>me(null):void 0,children:[s.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-1",children:[s.jsx(ux,{className:`h-4 w-4 ${xe==="all"?"text-muted-foreground cursor-grab":"text-muted-foreground/30 cursor-not-allowed"}`,"aria-hidden":"true"}),s.jsx("img",{src:z.cover_url||"/placeholder.svg",alt:`Capa de ${z.title}${z.artist?` — ${z.artist}`:""}`,className:"h-10 w-10 rounded object-cover border flex-shrink-0",loading:"lazy"}),s.jsxs("div",{className:"hidden md:flex md:flex-1 md:gap-4 md:min-w-0",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"text-xs text-muted-foreground uppercase tracking-wide mb-1",children:"Título"}),s.jsx("div",{className:"font-medium text-sm truncate",children:z.title})]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"text-xs text-muted-foreground uppercase tracking-wide mb-1",children:"Artista"}),s.jsx("div",{className:"text-sm truncate",children:z.artist||"—"})]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"text-xs text-muted-foreground uppercase tracking-wide mb-1",children:"Gênero"}),s.jsx("div",{className:"text-sm truncate",children:z.genre_id&&we[z.genre_id]||"Sem gênero"})]})]}),s.jsxs("div",{className:"md:hidden min-w-0 flex-1 max-w-[160px]",children:[s.jsx("p",{className:"font-medium text-sm truncate",title:z.title,children:z.title}),z.artist&&s.jsx("p",{className:"text-xs text-muted-foreground truncate",title:z.artist,children:z.artist})]})]}),s.jsxs("div",{className:"flex items-center gap-1.5",children:[!r&&s.jsxs(s.Fragment,{children:[s.jsxs("span",{className:"inline-flex items-center gap-1 text-xs text-muted-foreground",children:[s.jsx(cn,{className:"h-3 w-3"}),s.jsx("span",{children:(w==null?void 0:w[z.id])??0})]}),s.jsxs("span",{className:"inline-flex items-center gap-1 text-xs text-muted-foreground",children:[s.jsx(nr,{className:"h-3 w-3"}),s.jsx("span",{children:(y==null?void 0:y[z.id])??0})]})]}),(()=>{const ae=(z==null?void 0:z.is_public)??!0;return s.jsx(O,{variant:"ghost",size:"icon",onClick:()=>{if(!l){oe({title:"Visibilidade indisponível",description:"Atualize o banco para habilitar o controle de visibilidade (coluna is_public)."});return}g(z.id,ae)},"aria-label":ae?"Ocultar música":"Exibir música",title:ae?"Ocultar música na página pública":"Exibir música na página pública",children:ae?s.jsx(Ur,{className:"h-4 w-4"}):s.jsx(Xn,{className:"h-4 w-4"})})})(),s.jsxs(to,{children:[s.jsx(ro,{asChild:!0,children:s.jsx(O,{variant:"ghost",size:"icon",children:s.jsx(Zi,{className:"h-4 w-4"})})}),s.jsxs(Xa,{align:"end",children:[r&&s.jsxs(s.Fragment,{children:[s.jsxs(fr,{children:[s.jsx(cn,{className:"h-4 w-4 mr-2"}),(w==null?void 0:w[z.id])??0," curtidas"]}),s.jsxs(fr,{children:[s.jsx(nr,{className:"h-4 w-4 mr-2"}),(y==null?void 0:y[z.id])??0," solicitações"]})]}),s.jsxs(fr,{onClick:()=>be(z.id),className:"text-destructive focus:text-destructive",children:[s.jsx(Gn,{className:"h-4 w-4 mr-2"}),"Excluir música"]})]})]})]})]},z.id))}),s.jsx("div",{className:"mt-3 flex justify-center",children:pe.length>Y*$?s.jsx(O,{variant:"outline",size:"sm",onClick:()=>E(z=>z+1),children:"Ver mais"}):s.jsxs("span",{className:"text-xs text-muted-foreground",children:["Exibindo ",Math.min(pe.length,Y*$)," de ",pe.length]})})]}),Ee.map(z=>s.jsxs(Xr,{value:z,children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h4",{className:"text-sm font-medium",children:we[z]||"Sem gênero"}),!!we[z]&&(()=>{const ae=m.get(z),ye=typeof ae=="boolean"?ae:!0;return s.jsx(O,{variant:"ghost",size:"icon",onClick:()=>p(z,ye),"aria-label":ye?"Ocultar gênero":"Exibir gênero",title:ye?"Ocultar gênero na página pública":"Exibir gênero na página pública",children:ye?s.jsx(Ur,{className:"h-4 w-4"}):s.jsx(Xn,{className:"h-4 w-4"})})})()]}),s.jsx("ul",{className:"space-y-1.5",children:Ut(pe.filter(ae=>ae.genre_id===z)).slice(0,Y*$).map(ae=>s.jsxs("li",{className:"border rounded-md p-1.5 flex items-center justify-between",draggable:xe==="all",onDragStart:xe==="all"?ye=>Et(ye,ae.id):void 0,onDragOver:xe==="all"?ye=>ye.preventDefault():void 0,onDrop:xe==="all"?ye=>q(ye,ae.id):void 0,onDragEnd:xe==="all"?()=>me(null):void 0,children:[s.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-1",children:[s.jsx(ux,{className:`h-4 w-4 ${xe==="all"?"text-muted-foreground cursor-grab":"text-muted-foreground/30 cursor-not-allowed"}`,"aria-hidden":"true"}),ae.cover_url?s.jsx("img",{src:ae.cover_url,alt:`Capa de ${ae.title}${ae.artist?` — ${ae.artist}`:""}`,className:"h-10 w-10 rounded object-cover border flex-shrink-0",loading:"lazy"}):s.jsx("div",{className:"h-10 w-10 rounded border bg-muted/30 flex items-center justify-center flex-shrink-0",children:s.jsx(nr,{className:"h-4 w-4 text-muted-foreground"})}),s.jsxs("div",{className:"hidden md:grid md:grid-cols-3 md:gap-4 md:flex-1 md:min-w-0",children:[s.jsxs("div",{className:"min-w-0",children:[s.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wide mb-1",children:"Título"}),s.jsx("p",{className:"font-medium truncate",children:ae.title})]}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wide mb-1",children:"Artista"}),s.jsx("p",{className:"text-sm truncate",children:ae.artist||"—"})]}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wide mb-1",children:"Gênero"}),s.jsx("p",{className:"text-sm truncate",children:ae.genre_id&&we[ae.genre_id]||"Sem gênero"})]})]}),s.jsxs("div",{className:"md:hidden min-w-0 max-w-[120px]",children:[s.jsx("p",{className:"font-medium text-sm truncate",title:ae.title,children:ae.title}),ae.artist&&s.jsx("p",{className:"text-xs text-muted-foreground truncate",title:ae.artist,children:ae.artist})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[!r&&s.jsxs(s.Fragment,{children:[s.jsxs("span",{className:"inline-flex items-center gap-1 text-xs text-muted-foreground",children:[s.jsx(cn,{className:"h-3 w-3"}),s.jsx("span",{children:(w==null?void 0:w[ae.id])??0})]}),s.jsxs("span",{className:"inline-flex items-center gap-1 text-xs text-muted-foreground",children:[s.jsx(nr,{className:"h-3 w-3"}),s.jsx("span",{children:(y==null?void 0:y[ae.id])??0})]})]}),(()=>{const ye=(ae==null?void 0:ae.is_public)??!0;return s.jsx(O,{variant:"ghost",size:"icon",onClick:()=>{if(!l){oe({title:"Visibilidade indisponível",description:"Atualize o banco para habilitar o controle de visibilidade (coluna is_public)."});return}g(ae.id,ye)},"aria-label":ye?"Ocultar música":"Exibir música",title:ye?"Ocultar música na página pública":"Exibir música na página pública",children:ye?s.jsx(Ur,{className:"h-4 w-4"}):s.jsx(Xn,{className:"h-4 w-4"})})})(),s.jsxs(to,{children:[s.jsx(ro,{asChild:!0,children:s.jsx(O,{variant:"ghost",size:"icon",children:s.jsx(Zi,{className:"h-4 w-4"})})}),s.jsxs(Xa,{align:"end",children:[r&&s.jsxs(s.Fragment,{children:[s.jsxs(fr,{children:[s.jsx(cn,{className:"h-4 w-4 mr-2"}),(w==null?void 0:w[ae.id])??0," curtidas"]}),s.jsxs(fr,{children:[s.jsx(nr,{className:"h-4 w-4 mr-2"}),(y==null?void 0:y[ae.id])??0," solicitações"]})]}),s.jsxs(fr,{onClick:()=>be(ae.id),className:"text-destructive focus:text-destructive",children:[s.jsx(Gn,{className:"h-4 w-4 mr-2"}),"Excluir música"]})]})]})]})]},ae.id))}),s.jsx("div",{className:"mt-3 flex justify-center",children:pe.filter(ae=>ae.genre_id===z).length>Y*$?s.jsx(O,{variant:"outline",size:"sm",onClick:()=>E(ae=>ae+1),children:"Ver mais"}):s.jsxs("span",{className:"text-xs text-muted-foreground",children:["Exibindo ",Math.min(pe.filter(ae=>ae.genre_id===z).length,Y*$)," ","de ",pe.filter(ae=>ae.genre_id===z).length]})})]},z)),We&&s.jsxs(Xr,{value:"sem",children:[s.jsx("ul",{className:"space-y-1.5",children:Ut(pe.filter(z=>!z.genre_id)).slice(0,Y*$).map(z=>s.jsxs("li",{className:"border rounded-md p-1.5 flex items-center justify-between",draggable:xe==="all",onDragStart:xe==="all"?ae=>Et(ae,z.id):void 0,onDragOver:xe==="all"?ae=>ae.preventDefault():void 0,onDrop:xe==="all"?ae=>q(ae,z.id):void 0,onDragEnd:xe==="all"?()=>me(null):void 0,children:[s.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-1",children:[s.jsx(ux,{className:`h-4 w-4 ${xe==="all"?"text-muted-foreground cursor-grab":"text-muted-foreground/30 cursor-not-allowed"}`,"aria-hidden":"true"}),z.cover_url?s.jsx("img",{src:z.cover_url,alt:`Capa de ${z.title}${z.artist?` — ${z.artist}`:""}`,className:"h-10 w-10 rounded object-cover border flex-shrink-0",loading:"lazy"}):s.jsx("div",{className:"h-10 w-10 rounded border bg-muted/30 flex items-center justify-center flex-shrink-0",children:s.jsx(nr,{className:"h-4 w-4 text-muted-foreground"})}),s.jsxs("div",{className:"hidden md:grid md:grid-cols-3 md:gap-4 md:flex-1 md:min-w-0",children:[s.jsxs("div",{className:"min-w-0",children:[s.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wide mb-1",children:"Título"}),s.jsx("p",{className:"font-medium truncate",children:z.title})]}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wide mb-1",children:"Artista"}),s.jsx("p",{className:"text-sm truncate",children:z.artist||"—"})]}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wide mb-1",children:"Gênero"}),s.jsx("p",{className:"text-sm truncate",children:z.genre_id&&we[z.genre_id]||"Sem gênero"})]})]}),s.jsxs("div",{className:"md:hidden min-w-0 max-w-[120px]",children:[s.jsx("p",{className:"font-medium text-sm truncate",title:z.title,children:z.title}),z.artist&&s.jsx("p",{className:"text-xs text-muted-foreground truncate",title:z.artist,children:z.artist})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[!r&&s.jsxs(s.Fragment,{children:[s.jsxs("span",{className:"inline-flex items-center gap-1 text-xs text-muted-foreground",children:[s.jsx(cn,{className:"h-3 w-3"}),s.jsx("span",{children:(w==null?void 0:w[z.id])??0})]}),s.jsxs("span",{className:"inline-flex items-center gap-1 text-xs text-muted-foreground",children:[s.jsx(nr,{className:"h-3 w-3"}),s.jsx("span",{children:(y==null?void 0:y[z.id])??0})]})]}),(()=>{const ae=(z==null?void 0:z.is_public)??!0;return s.jsx(O,{variant:"ghost",size:"icon",onClick:()=>{if(!l){oe({title:"Visibilidade indisponível",description:"Atualize o banco para habilitar o controle de visibilidade (coluna is_public)."});return}g(z.id,ae)},"aria-label":ae?"Ocultar música":"Exibir música",title:ae?"Ocultar música na página pública":"Exibir música na página pública",children:ae?s.jsx(Ur,{className:"h-4 w-4"}):s.jsx(Xn,{className:"h-4 w-4"})})})(),s.jsxs(to,{children:[s.jsx(ro,{asChild:!0,children:s.jsx(O,{variant:"ghost",size:"icon",children:s.jsx(Zi,{className:"h-4 w-4"})})}),s.jsxs(Xa,{align:"end",children:[r&&s.jsxs(s.Fragment,{children:[s.jsxs(fr,{children:[s.jsx(cn,{className:"h-4 w-4 mr-2"}),(w==null?void 0:w[z.id])??0," curtidas"]}),s.jsxs(fr,{children:[s.jsx(nr,{className:"h-4 w-4 mr-2"}),(y==null?void 0:y[z.id])??0," solicitações"]})]}),s.jsxs(fr,{onClick:()=>be(z.id),className:"text-destructive focus:text-destructive",children:[s.jsx(Gn,{className:"h-4 w-4 mr-2"}),"Excluir música"]})]})]})]})]},z.id))}),s.jsx("div",{className:"mt-3 flex justify-center",children:pe.filter(z=>!z.genre_id).length>Y*$?s.jsx(O,{variant:"outline",size:"sm",onClick:()=>E(z=>z+1),children:"Ver mais"}):s.jsxs("span",{className:"text-xs text-muted-foreground",children:["Exibindo ",Math.min(pe.filter(z=>!z.genre_id).length,Y*$)," de"," ",pe.filter(z=>!z.genre_id).length]})})]})]}):s.jsx("p",{className:"text-sm text-muted-foreground",children:"Nenhuma música encontrada."})]})]})})]}):s.jsxs(et,{className:"border-0 shadow-none",children:[s.jsx(Xt,{className:"p-0 m-0",children:s.jsx(lr,{children:"Entre para gerenciar seu catálogo"})}),s.jsx(tt,{className:"p-0 m-0",children:s.jsx(O,{onClick:()=>t("/auth"),children:"Entrar"})})]})]})]})},SY=({userId:e,onAfterChange:t,isMobile:r})=>{const n=is(),[a,i]=f.useState(!1),{data:o,refetch:l}=Ze({queryKey:["catalog-visibility",e],enabled:!!e,queryFn:async()=>{const{data:u,error:h}=await L.from("catalog_visibility").select("is_public").eq("musician_id",e).maybeSingle();if(h)throw h;return(u==null?void 0:u.is_public)??!0}}),c=async()=>{if(!e)return;const u=!(o??!0);try{i(!0);const{error:h}=await L.from("catalog_visibility").upsert({musician_id:e,is_public:u});if(h)throw h;const{error:m}=await L.from("songs").update({is_public:u}).eq("owner_id",e);if(m)throw m;n.setQueryData(["catalog-visibility",e],u),await l(),oe({title:u?"Catálogo visível":"Catálogo oculto"}),t==null||t()}catch(h){oe({title:"Erro ao atualizar catálogo",description:h.message,variant:"destructive"})}finally{i(!1)}},d=o??!0;return s.jsxs(O,{variant:"outline",size:"sm",onClick:c,disabled:a,"aria-label":d?"Ocultar catálogo":"Exibir catálogo",title:d?"Ocultar catálogo inteiro na página pública":"Exibir catálogo inteiro na página pública",children:[d?s.jsx(Ur,{className:"h-4 w-4"}):s.jsx(Xn,{className:"h-4 w-4"}),!r&&s.jsx("span",{className:"ml-2",children:d?"Catálogo visível":"Catálogo oculto"})]})},CY=()=>{const{user:e}=ar(),t=Or();f.useEffect(()=>{!(e!=null&&e.id)||!("geolocation"in navigator)||navigator.geolocation.getCurrentPosition(async N=>{const{latitude:k,longitude:S}=N.coords;try{await L.from("profiles").update({lat:k,lng:S}).eq("id",e.id)}catch{}},()=>{})},[e==null?void 0:e.id]);const[r,n]=f.useState(new Date),[a,i]=f.useState(null),o=new Date(r);o.setHours(0,0,0,0);const l=new Date(o);l.setDate(l.getDate()+1);const c=30,{data:d}=Ze({queryKey:["my-songs",e==null?void 0:e.id],enabled:!!(e!=null&&e.id),queryFn:async()=>{const{data:N,error:k}=await L.from("songs").select("id, title, artist, cover_url").eq("owner_id",e.id);if(k)throw k;return N||[]}}),{data:u,fetchNextPage:h,hasNextPage:m,isFetchingNextPage:p,refetch:w}=js({queryKey:["my-requests",e==null?void 0:e.id,o.toISOString()],enabled:!!e,initialPageParam:0,getNextPageParam:N=>N.nextCursor,queryFn:async({pageParam:N})=>{const k=Number(N)||0,S=k+c-1,{data:R,error:U}=await L.from("requests").select("id, created_at, requester_name, dedication, extra_description, amount, song_id, status").eq("musician_id",e.id).gte("created_at",o.toISOString()).lt("created_at",l.toISOString()).order("created_at",{ascending:!1}).range(k,S);if(U)throw U;const B=R||[];return{items:B,nextCursor:B.length===c?k+c:void 0}}}),v=f.useMemo(()=>(u==null?void 0:u.pages.flatMap(N=>N.items))??[],[u]),g=f.useMemo(()=>v.reduce((N,k)=>{const S=Number(k.amount??0);return N+(k.status==="approved"?S:0)},0),[v]);f.useEffect(()=>{if(!e)return;console.log("🎵 [Orders] Setting up Realtime for user:",e.id);const N=setInterval(()=>{console.log("🔄 [Orders] Polling for updates (fallback)"),w()},1e4),k=L.channel("requests-simple").on("postgres_changes",{event:"INSERT",schema:"public",table:"requests"},S=>{console.log("🎵 [Orders] NEW REQUEST INSERTED:",S);const R=S.new;R&&R.musician_id===e.id&&(console.log("🎵 [Orders] ✅ NEW REQUEST FOR THIS MUSICIAN - REFETCHING"),w())}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"requests"},S=>{console.log("🎵 [Orders] REQUEST UPDATED:",S);const R=S.new,U=S.old;(R&&R.musician_id===e.id||U&&U.musician_id===e.id)&&(console.log("🎵 [Orders] ✅ REQUEST UPDATE FOR THIS MUSICIAN - REFETCHING"),w())}).subscribe(S=>{console.log("🎵 [Orders] Realtime subscription status:",S),S==="SUBSCRIBED"?console.log("🎵 [Orders] ✅ Successfully subscribed to realtime"):S==="CHANNEL_ERROR"&&console.log("🎵 [Orders] ❌ Realtime subscription failed, relying on polling")});return()=>{console.log("🎵 [Orders] Cleaning up realtime and polling"),clearInterval(N),L.removeChannel(k)}},[e,w]);const y=N=>{const k=(d||[]).find(S=>S.id===N);return k?`${k.title}${k.artist?` — ${k.artist}`:""}`:N},x=N=>{const k=(d||[]).find(S=>S.id===N);return(k==null?void 0:k.cover_url)??null},b=N=>{switch(N){case"pending":return"pendente";case"approved":return"aprovado";case"rejected":return"rejeitado";default:return N}},_=async N=>{i(N);try{const{error:k}=await L.from("requests").update({status:"approved"}).eq("id",N);k?oe({title:"Erro ao atender",description:k.message,variant:"destructive"}):(oe({title:"Pedido atendido",description:"Você marcou o pedido como atendido."}),w())}catch{oe({title:"Erro ao atender",description:"Ocorreu um erro inesperado.",variant:"destructive"})}finally{i(null)}};return s.jsxs("section",{className:"w-full",children:[s.jsx(Zt,{title:"Pedidos do Músico",description:"Acompanhe pedidos em tempo real."}),e?s.jsxs(et,{className:"border-0 shadow-none",children:[s.jsx(Xt,{children:s.jsx(lr,{children:"Pedidos de música"})}),s.jsxs(tt,{children:[s.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2 mb-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(bn,{children:[s.jsx(jn,{asChild:!0,children:s.jsxs(O,{variant:"outline",size:"sm",className:"justify-start gap-2",children:[s.jsx(wn,{className:"h-4 w-4"}),"Data: ",Ht(r,"dd/MM/yyyy")]})}),s.jsx(un,{className:"w-auto p-0",align:"start",children:s.jsx(vs,{mode:"single",selected:r,onSelect:N=>N&&n(N),initialFocus:!0,className:"p-3 pointer-events-auto"})})]}),s.jsx(O,{variant:"ghost",size:"sm",onClick:()=>n(new Date),children:"Limpar filtro"})]}),s.jsxs("div",{className:"w-full mt-2 text-sm text-muted-foreground",children:["Total do dia: R$ ",g.toFixed(2)]})]}),v.length?s.jsxs(s.Fragment,{children:[s.jsx("ul",{className:"divide-y",children:v.map(N=>s.jsxs("li",{className:"py-3",children:[s.jsx("p",{className:"font-semibold mb-2",children:y(N.song_id)}),s.jsxs("div",{className:"flex items-start gap-4",children:[x(N.song_id)?s.jsx("img",{src:x(N.song_id),alt:`Capa de ${y(N.song_id)}`,className:"h-12 w-12 rounded-md object-cover border",loading:"lazy"}):s.jsx("div",{className:"h-12 w-12 rounded-md bg-muted","aria-hidden":!0}),s.jsxs("div",{className:"flex-1",children:[N.requester_name&&s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Solicitante: ",N.requester_name]}),N.dedication&&s.jsxs("p",{className:"text-sm",children:["Dedicatória: ",N.dedication]}),N.extra_description&&s.jsxs("p",{className:"text-sm",children:["Descrição: ",N.extra_description]}),N.amount!==null&&N.amount!==void 0&&s.jsxs("p",{className:"text-sm",children:["Contribuição: R$ ",Number(N.amount).toFixed(2)]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Status: ",b(N.status)]}),N.status==="pending"&&Date.now()-new Date(N.created_at).getTime()<=4*60*60*1e3&&s.jsx("div",{className:"mt-3",children:s.jsxs(O,{variant:"success",size:"sm",onClick:()=>_(N.id),disabled:a===N.id,children:[a===N.id?s.jsx(ig,{className:"mr-2 h-4 w-4 animate-spin"}):s.jsx(Jw,{className:"mr-2 h-4 w-4"}),a===N.id?"Atendendo...":"Atender pedido"]})})]})]})]},N.id))}),m&&s.jsx("div",{className:"mt-4",children:s.jsx(O,{variant:"secondary",onClick:()=>h(),disabled:p,children:p?"Carregando...":"Ver mais"})})]}):s.jsx("p",{className:"text-sm text-muted-foreground",children:"Nenhum pedido recebido ainda."})]})]}):s.jsxs(et,{className:"border-0 shadow-none",children:[s.jsx(Xt,{children:s.jsx(lr,{children:"Entre para ver seus pedidos"})}),s.jsx(tt,{children:s.jsx(O,{onClick:()=>t("/auth"),children:"Entrar"})})]})]})},xo=f.forwardRef(({className:e,...t},r)=>s.jsx("div",{className:"relative w-full overflow-auto",children:s.jsx("table",{ref:r,className:le("w-full caption-bottom text-sm",e),...t})}));xo.displayName="Table";const yo=f.forwardRef(({className:e,...t},r)=>s.jsx("thead",{ref:r,className:le("[&_tr]:border-b",e),...t}));yo.displayName="TableHeader";const wo=f.forwardRef(({className:e,...t},r)=>s.jsx("tbody",{ref:r,className:le("[&_tr:last-child]:border-0",e),...t}));wo.displayName="TableBody";const kY=f.forwardRef(({className:e,...t},r)=>s.jsx("tfoot",{ref:r,className:le("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));kY.displayName="TableFooter";const Zr=f.forwardRef(({className:e,...t},r)=>s.jsx("tr",{ref:r,className:le("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));Zr.displayName="TableRow";const ft=f.forwardRef(({className:e,...t},r)=>s.jsx("th",{ref:r,className:le("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));ft.displayName="TableHead";const lt=f.forwardRef(({className:e,...t},r)=>s.jsx("td",{ref:r,className:le("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));lt.displayName="TableCell";const EY=f.forwardRef(({className:e,...t},r)=>s.jsx("caption",{ref:r,className:le("mt-4 text-sm text-muted-foreground",e),...t}));EY.displayName="TableCaption";function xi(e){return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e||0)}function PY(){const{user:e,loading:t}=ar(),r=ml(),[n,a]=f.useState(void 0),[i,o]=f.useState(!1),[l,c]=f.useState(null),[d,u]=f.useState("normal"),[h,m]=f.useState(!1),[p,w]=f.useState(null),[v,g]=f.useState(!1),[y,x]=f.useState(null),b=is(),{toast:_}=Qs(),{data:N,isLoading:k}=Ze({queryKey:["musician-statement",e==null?void 0:e.id],enabled:!!(e!=null&&e.id),queryFn:async()=>{const{data:E,error:$}=await L.from("transactions").select("id, musician_amount, status, created_at").eq("musician_id",e.id).order("created_at",{ascending:!1});if($)throw $;return(E||[]).map(Z=>({id:Z.id,amount:typeof Z.musician_amount=="string"?parseFloat(Z.musician_amount):Z.musician_amount||0,status:Z.status,created_at:Z.created_at}))}}),{data:S=[],isFetching:R}=Ze({queryKey:["batch-transactions",e==null?void 0:e.id,p==null?void 0:p.day],enabled:!!(e!=null&&e.id)&&!!(p!=null&&p.day),queryFn:async()=>{const{data:E,error:$}=await L.from("transactions").select("id, amount, musician_amount, status, created_at").eq("musician_id",e.id).gte("created_at",`${p.day}T00:00:00`).lte("created_at",`${p.day}T23:59:59.999`).order("created_at",{ascending:!1});if($)throw $;return(E||[]).map(Z=>({id:Z.id,amount:Number(Z.amount)||0,musician_amount:Number(Z.musician_amount)||0,status:Z.status,created_at:Z.created_at}))}}),{data:U,fetchNextPage:B,hasNextPage:re,isFetchingNextPage:G,isFetching:H}=js({queryKey:["musician-batches",e==null?void 0:e.id],enabled:!!(e!=null&&e.id),queryFn:async({pageParam:E=0})=>{try{const{data:$,error:Z}=await L.from("transaction_batches").select("id, day, total_musician_amount, total_musician_payout, early_discount_amount, total_ava_payout, status, requested_at, is_early, early_discount_percent, payout_at").eq("musician_id",e.id).order("day",{ascending:!1}).range(E*10,E*10+9);if(Z)throw Z;return $||[]}catch($){return _({title:"Erro ao carregar lotes",description:String(($==null?void 0:$.message)||$),variant:"destructive"}),[]}},getNextPageParam:(E,$)=>{if(!(E.length<10))return $.length},initialPageParam:0}),V=(U==null?void 0:U.pages.flat())||[],{data:se={percent:0,days:5},isFetching:te,refetch:J}=Ze({queryKey:["early-info"],staleTime:0,queryFn:async()=>{const{data:E,error:$}=await L.rpc("current_early_withdrawal_info");if($||!E)return{percent:0,days:5};const Z=Array.isArray(E)?E[0]:E;return{percent:Number((Z==null?void 0:Z.percent)||0),days:Number((Z==null?void 0:Z.days_to_normal)||5)}}}),{data:I={percent:0,days:5}}=Ze({queryKey:["platform-info"],queryFn:async()=>{const{data:E,error:$}=await L.rpc("current_platform_fee_info");return $||!E?{percent:0,days:5}:{percent:Number((E==null?void 0:E.percent)||0),days:Number((E==null?void 0:E.days_to_payout)||5)}}}),D=ii({mutationFn:async E=>{const{error:$}=await L.rpc("request_batch_payout",{_batch_id:E.batchId,_force_early:E.isEarly});if($)throw $},onSuccess:async()=>{await b.invalidateQueries({queryKey:["musician-batches"]}),_({title:"Solicitação enviada"})},onError:E=>_({title:"Erro ao solicitar saque",description:String((E==null?void 0:E.message)||E),variant:"destructive"})}),{totalReceived:C,totalRequested:T,totalPendingBatches:A,filtered:Y}=f.useMemo(()=>{const E=n!=null&&n.from?new Date(n.from):void 0,$=n!=null&&n.to?new Date(n.to):void 0;E&&E.setHours(0,0,0,0),$&&$.setHours(23,59,59,999);const Z=(N||[]).filter(X=>{const de=new Date(X.created_at);return(!E||de>=E)&&(!$||de<=$)});let Q=0,P=0,F=0;return(V||[]).forEach(X=>{const de=Number(X.total_musician_amount)||0,Ne=Number(X.total_musician_payout)||0;X.status==="pending"?Q+=de:X.status==="requested"?P+=Ne:X.status==="paid"&&(F+=Ne)}),{totalReceived:F,totalRequested:P,totalPendingBatches:Q,filtered:Z}},[N,n,V]);return t||k?s.jsxs("main",{className:"container mx-auto p-4",children:[s.jsx(Zt,{title:"Extrato do músico",description:"Veja o valor recebido e a receber com extrato diário",canonical:"/musician/extrato"}),s.jsx("h1",{className:"text-2xl font-semibold mb-4",children:"Seu extrato"}),s.jsx("p",{className:"text-muted-foreground",children:"Carregando extrato..."})]}):e?s.jsxs("main",{className:"container mx-auto p-4",children:[s.jsx(Zt,{title:"Extrato do músico | Recebimentos",description:"Extrato do músico: valor recebido e a receber, com extrato diário paginado.",canonical:"/musician/extrato"}),s.jsx("h1",{className:"text-2xl font-semibold mb-4",children:"Seu extrato"}),s.jsx("section",{className:"mb-6",children:s.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[s.jsxs("div",{className:"bg-green-50 dark:bg-green-950/20 border border-green-200 dark:border-green-800 rounded-lg p-3",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(mf,{className:"h-4 w-4 text-green-600 dark:text-green-400"}),s.jsx("span",{className:"text-xs text-green-600 dark:text-green-400 font-medium",children:"Recebido"})]}),s.jsx("p",{className:"text-base font-normal text-green-700 dark:text-green-300",children:xi(C||0)})]}),s.jsxs("div",{className:"bg-blue-50 dark:bg-blue-950/20 border border-blue-200 dark:border-blue-800 rounded-lg p-3",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(z2,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"}),s.jsx("span",{className:"text-xs text-blue-600 dark:text-blue-400 font-medium",children:"À receber"})]}),s.jsx("p",{className:"text-base font-normal text-blue-700 dark:text-blue-300",children:xi(A||0)})]}),s.jsxs("div",{className:"bg-orange-50 dark:bg-orange-950/20 border border-orange-200 dark:border-orange-800 rounded-lg p-3",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(O_,{className:"h-4 w-4 text-orange-600 dark:text-orange-400"}),s.jsx("span",{className:"text-xs text-orange-600 dark:text-orange-400 font-medium",children:"Solicitado"})]}),s.jsx("p",{className:"text-base font-normal text-orange-700 dark:text-orange-300",children:xi(T||0)})]})]})}),s.jsxs("section",{className:"mt-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-semibold",children:"Lotes diários"}),s.jsx("div",{className:"text-sm text-muted-foreground",children:V.length>0?`${V.length} lotes`:"Nenhum lote"})]}),s.jsx(et,{className:"border border-border/50 shadow-sm",children:s.jsx(tt,{className:"p-0",children:s.jsxs("div",{className:"w-full overflow-x-auto",children:[s.jsxs(xo,{children:[s.jsx(yo,{children:s.jsxs(Zr,{children:[s.jsx(ft,{children:"Dia"}),s.jsx(ft,{className:"text-right",children:"Total"}),s.jsx(ft,{className:"text-right",children:"Status"}),!r&&s.jsx(ft,{className:"text-right",children:"Solicitado em"}),!r&&s.jsx(ft,{className:"text-right",children:"Repasse"}),!r&&s.jsx(ft,{className:"text-right",children:"Ações"})]})}),s.jsx(wo,{children:H?s.jsx(Zr,{children:s.jsx(lt,{colSpan:r?3:6,className:"text-center py-8",children:s.jsx("p",{className:"text-muted-foreground",children:"Carregando lotes..."})})}):V.length===0?s.jsx(Zr,{children:s.jsx(lt,{colSpan:r?3:6,className:"text-center py-8",children:s.jsx("p",{className:"text-muted-foreground",children:"Nenhum lote encontrado"})})}):V.map(E=>{const $=new Date(E.day+"T00:00:00"),Z=new Date,Q=`${Z.getFullYear()}-${String(Z.getMonth()+1).padStart(2,"0")}-${String(Z.getDate()).padStart(2,"0")}`,F=!(E.day===Q)&&E.status==="pending"&&Number(E.total_musician_amount)>0,X=E.requested_at?Number(E.total_musician_payout)||0:Number(E.total_musician_amount)||0;return s.jsxs(Zr,{className:r?"cursor-pointer hover:bg-muted/50":"",onClick:r?()=>{x(E),g(!0)}:void 0,children:[s.jsx(lt,{children:r?`${$.getDate().toString().padStart(2,"0")}/${($.getMonth()+1).toString().padStart(2,"0")}`:$.toLocaleDateString("pt-BR")}),s.jsx(lt,{className:"text-right",children:xi(X)}),s.jsx(lt,{className:"text-right",children:E.status==="paid"?s.jsxs("span",{className:"inline-flex items-center gap-1 text-green-600",children:[s.jsx(z3,{className:"h-4 w-4"})," Pago"]}):E.status==="requested"?s.jsxs("span",{className:"inline-flex items-center gap-1 text-blue-600",children:[s.jsx(O_,{className:"h-4 w-4"})," Solicitado"]}):s.jsx("span",{className:"inline-flex items-center gap-1 text-muted-foreground",children:"Pendente"})}),!r&&s.jsx(lt,{className:"text-right",children:E.payout_at?new Date(E.payout_at).toLocaleDateString("pt-BR"):"—"}),!r&&s.jsx(lt,{className:"text-right",children:s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsx(O,{size:"sm",variant:"ghost",onClick:()=>{w({id:E.id,day:E.day}),m(!0)},children:"Ver contribuições"}),F&&s.jsx(s.Fragment,{children:s.jsx(O,{size:"sm",variant:"outline",onClick:()=>{const de=Number(E.total_musician_amount)||0;u("normal"),c({id:E.id,day:E.day,total:de}),o(!0)},children:"Solicitar saque"})})]})})]},E.id)})})]}),re&&s.jsx("div",{className:"p-4 border-t",children:s.jsx(O,{onClick:()=>B(),disabled:G,variant:"outline",className:"w-full",children:G?"Carregando...":"Carregar mais lotes"})})]})})})]}),p&&h&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:s.jsxs("div",{className:"w-full max-w-md max-h-[60vh] rounded-md bg-background border shadow-lg flex flex-col mx-auto",children:[s.jsx("div",{className:"p-4 border-b",children:s.jsxs("h3",{className:"text-lg font-semibold",children:["Contribuições do dia ",new Date(p.day+"T00:00:00").toLocaleDateString("pt-BR")]})}),s.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:R?s.jsx("p",{className:"text-muted-foreground",children:"Carregando..."}):S.length?s.jsx("div",{className:"w-full overflow-x-auto",children:s.jsxs(xo,{children:[s.jsx(yo,{children:s.jsxs(Zr,{children:[s.jsx(ft,{children:"Data/Hora"}),s.jsx(ft,{className:"text-right",children:"Valor do músico"})]})}),s.jsx(wo,{children:S.map(E=>s.jsxs(Zr,{children:[s.jsx(lt,{children:new Date(E.created_at).toLocaleString("pt-BR")}),s.jsx(lt,{className:"text-right",children:xi(Number(E.musician_amount)||0)})]},E.id))})]})}):s.jsx("p",{className:"text-muted-foreground",children:"Nenhuma contribuição encontrada para este dia."})}),s.jsx("div",{className:"p-4 border-t",children:s.jsx("div",{className:"flex justify-end gap-2",children:s.jsx(O,{variant:"outline",onClick:()=>m(!1),children:"Fechar"})})})]})}),l&&i&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:s.jsxs("div",{className:"w-full max-w-md rounded-md bg-background border shadow-lg p-4 space-y-3 mx-auto",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Confirmar solicitação de saque"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Lote do dia ",new Date(l.day+"T00:00:00").toLocaleDateString("pt-BR")]}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{children:"Total do músico"}),s.jsx("span",{className:"font-medium",children:xi(l.total)})]}),s.jsx("div",{className:"flex items-center justify-between text-sm",children:d==="early"?s.jsxs(s.Fragment,{children:[s.jsx("span",{children:te?"Carregando taxa vigente...":`Total com desconto (${se.percent}% antecipado)`}),s.jsx("span",{className:"font-medium",children:(()=>{const E=te?0:se.percent||0,$=Math.round(l.total*E/100*100)/100,Z=Math.max(Math.round((l.total-$)*100)/100,0);return xi(Z)})()})]}):s.jsxs(s.Fragment,{children:[s.jsxs("span",{children:["Agendamento (D+",I.days,")"]}),s.jsx("span",{className:"font-medium",children:(()=>{const E=new Date(l.day+"T00:00:00");E.setDate(E.getDate()+(I.days||5));const $=new Date,Z=new Date(E.getFullYear(),E.getMonth(),E.getDate()),Q=new Date($.getFullYear(),$.getMonth(),$.getDate()),P=Math.ceil((Z.getTime()-Q.getTime())/(1e3*60*60*24));return P>0?`D+${P}`:"Hoje"})()})]})})]}),s.jsxs("div",{className:"flex gap-2 pt-2",children:[s.jsx(O,{variant:"outline",onClick:()=>o(!1),className:"flex-1",children:"Cancelar"}),s.jsx(O,{onClick:()=>{D.mutate({batchId:l.id,isEarly:d==="early"}),o(!1)},disabled:D.isPending,className:"flex-1",children:D.isPending?"Enviando...":"Confirmar"})]})]})}),y&&v&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:s.jsxs("div",{className:"w-full max-w-md rounded-md bg-background border shadow-lg p-4 space-y-3 mx-auto",children:[s.jsxs("h3",{className:"text-lg font-semibold",children:["Lote do dia ",new Date(y.day+"T00:00:00").toLocaleDateString("pt-BR")]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{children:"Total"}),s.jsx("span",{className:"font-medium",children:xi(y.requested_at?Number(y.total_musician_payout)||0:Number(y.total_musician_amount)||0)})]}),s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{children:"Status"}),s.jsx("span",{className:"font-medium",children:y.status==="paid"?"Pago":y.status==="requested"?"Solicitado":"Pendente"})]}),y.requested_at&&s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{children:"Solicitado em"}),s.jsx("span",{className:"font-medium",children:new Date(y.requested_at).toLocaleString("pt-BR")})]}),y.payout_at&&s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{children:"Repasse"}),s.jsx("span",{className:"font-medium",children:new Date(y.payout_at).toLocaleDateString("pt-BR")})]})]}),s.jsxs("div",{className:"flex gap-2 pt-2",children:[s.jsx(O,{variant:"outline",onClick:()=>{w({id:y.id,day:y.day}),m(!0),g(!1)},className:"flex-1",children:"Ver contribuições"}),s.jsx(O,{variant:"outline",onClick:()=>g(!1),className:"flex-1",children:"Fechar"})]})]})})]}):s.jsxs("main",{className:"container mx-auto p-4",children:[s.jsx(Zt,{title:"Extrato do músico",description:"Veja o valor recebido e a receber com extrato diário",canonical:"/musician/extrato"}),s.jsxs(et,{children:[s.jsx(Xt,{children:s.jsx(lr,{children:"Faça login"})}),s.jsx(tt,{children:s.jsx("p",{className:"text-muted-foreground",children:"Você precisa estar logado para ver seu extrato."})})]})]})}function om(e){return e.toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"})}const Hx=20;function TY(){const{user:e}=ar(),t=is(),r=ml(),[n,a]=f.useState(),[i,o]=f.useState(""),[l,c]=f.useState(""),[d,u]=f.useState(!1),[h,m]=f.useState([]),[p,w]=f.useState(!1),v=f.useRef(null),g=f.useRef(!1),[y,x]=f.useState(1),[b,_]=f.useState("desc"),[N,k]=f.useState(),[S,R]=f.useState(""),[U,B]=f.useState(!1),[re,G]=f.useState(null),[H,V]=f.useState(),[se,te]=f.useState(""),[J,I]=f.useState(""),[D,C]=f.useState(!1),[T,A]=f.useState([]),[Y,E]=f.useState(!1),$=f.useRef(null),Z=f.useRef(!1),[Q,P]=f.useState(!1),[F,X]=f.useState(!1),{data:de,isLoading:Ne}=Ze({queryKey:["my-schedules",e==null?void 0:e.id,y,b,N,S],enabled:!!(e!=null&&e.id),queryFn:async()=>{let fe=L.from("schedules").select("id, title, location, start_time, link_url",{count:"exact"}).eq("musician_id",e.id);if(N){const pt=new Date(N);pt.setHours(0,0,0,0);const Pt=new Date(N);Pt.setHours(23,59,59,999),fe=fe.gte("start_time",pt.toISOString()).lte("start_time",Pt.toISOString())}if(S){const[pt,Pt]=S.split("-"),cr=new Date(parseInt(pt),parseInt(Pt)-1,1),z=new Date(parseInt(pt),parseInt(Pt),0,23,59,59,999);fe=fe.gte("start_time",cr.toISOString()).lte("start_time",z.toISOString())}fe=fe.order("start_time",{ascending:b==="asc"}).range((y-1)*Hx,y*Hx-1);const{data:De,error:gt,count:rt}=await fe;if(gt)throw gt;return{schedules:De,count:rt||0}}}),{data:me}=Ze({queryKey:["my-profile-loc",e==null?void 0:e.id],enabled:!!(e!=null&&e.id),queryFn:async()=>{const{data:fe,error:De}=await L.from("profiles").select("lat, lng").eq("id",e.id).single();if(De)throw De;return fe||{lat:null,lng:null}}}),xe=(de==null?void 0:de.schedules)||[],Ye=(de==null?void 0:de.count)||0,Nt=y*Hx<Ye,kt=async()=>{if(!e){oe({title:"Faça login",description:"Entre para cadastrar um evento."});return}if(!n){oe({title:"Selecione a data",description:"Escolha o dia do evento no calendário."});return}if(!i.trim()){oe({title:"Informe o local",description:"Preencha o local do evento."});return}u(!0);try{const fe=new Date(n.getFullYear(),n.getMonth(),n.getDate(),0,0,0),De={musician_id:e.id,start_time:fe.toISOString(),title:"Evento",location:i.trim(),link_url:l.trim()||null},{error:gt}=await L.from("schedules").insert(De);if(gt)throw gt;oe({title:"Evento cadastrado",description:`${om(fe)} - ${i}`}),o(""),c(""),a(void 0),P(!1),x(1),t.invalidateQueries({queryKey:["my-schedules",e.id]})}catch(fe){oe({title:"Erro ao cadastrar",description:(fe==null?void 0:fe.message)||"Tente novamente."})}finally{u(!1)}},Ut=async fe=>{if(!e){oe({title:"Faça login",description:"Entre para gerenciar seus eventos."});return}try{const{error:De}=await L.from("schedules").delete().eq("id",fe);if(De)throw De;oe({title:"Evento removido"}),x(1),t.invalidateQueries({queryKey:["my-schedules",e.id]})}catch(De){oe({title:"Erro ao remover",description:(De==null?void 0:De.message)||"Tente novamente."})}},Et=()=>{x(fe=>fe+1)},q=fe=>{G(fe.id);const De=new Date(fe.start_time);V(new Date(De.getFullYear(),De.getMonth(),De.getDate())),Z.current=!0,te(fe.location||""),I(fe.link_url||""),B(!0)},ne=async()=>{if(!(!e||!re)){if(!H){oe({title:"Selecione a data",description:"Escolha a nova data do evento."});return}if(!se.trim()){oe({title:"Informe o local",description:"Preencha o local do evento."});return}C(!0);try{const fe=new Date(H.getFullYear(),H.getMonth(),H.getDate(),0,0,0),{error:De}=await L.from("schedules").update({start_time:fe.toISOString(),location:se.trim(),link_url:J.trim()||null}).eq("id",re);if(De)throw De;oe({title:"Evento atualizado"}),B(!1),G(null),t.invalidateQueries({queryKey:["my-schedules",e.id]})}catch(fe){oe({title:"Erro ao atualizar",description:(fe==null?void 0:fe.message)||"Tente novamente."})}finally{C(!1)}}},ue=()=>{k(void 0),R(""),x(1)},be=fe=>{_(fe),x(1)},we=fe=>{k(fe),R(""),x(1)},pe=fe=>{R(fe),k(void 0),x(1)},Ee=f.useMemo(()=>{const fe=new Date().getFullYear(),De=[];for(let gt=fe-1;gt<=fe+1;gt++)for(let rt=1;rt<=12;rt++){const pt=new Date(gt,rt-1).toLocaleDateString("pt-BR",{month:"long",year:"numeric"});De.push({value:`${gt}-${rt.toString().padStart(2,"0")}`,label:pt.charAt(0).toUpperCase()+pt.slice(1)})}return De},[]),We=(N?1:0)+(S?1:0);return f.useEffect(()=>{const fe=new AbortController,De=i.trim();if(g.current){g.current=!1;return}if(De.length<3){m([]);return}const gt=setTimeout(async()=>{try{w(!0);const rt=new URLSearchParams({format:"json",q:De,addressdetails:"1",limit:"8",countrycodes:"br"});if((me==null?void 0:me.lat)!=null&&(me==null?void 0:me.lng)!=null){const Me=me.lat,Ce=me.lng,qe=.54,Re=qe/Math.max(.1,Math.cos(Math.PI/180*Me)),ot=(Me-qe).toFixed(6),wt=(Me+qe).toFixed(6),ht=(Ce-Re).toFixed(6),ie=(Ce+Re).toFixed(6);rt.set("viewbox",`${ht},${ot},${ie},${wt}`),rt.set("bounded","1")}const pt=await fetch(`https://nominatim.openstreetmap.org/search?${rt.toString()}`,{signal:fe.signal,headers:{"Accept-Language":"pt-BR"}});if(!pt.ok)throw new Error("Falha ao buscar locais");const Pt=await pt.json(),cr={amenity:new Set(["bar","pub","nightclub","theatre","arts_centre","community_centre","restaurant","cafe","biergarten","cinema","concert_hall","music_venue","events_venue"]),leisure:new Set(["stadium"]),tourism:new Set(["attraction"])},z=Me=>Me.normalize("NFD").replace(/[\u0300-\u036f]/g,""),ae=z(De.toLowerCase()),ye=Pt.filter(Me=>{const Ce=cr[Me.class],qe=Ce?Ce.has(Me.type):!1,Re=(Me.display_name.split(",")[0]||Me.display_name).trim(),ot=z(Re.toLowerCase()).includes(ae);return qe||ot}),Pe=(me==null?void 0:me.lat)??void 0,nt=(me==null?void 0:me.lng)??void 0,st=typeof Pe=="number"&&typeof nt=="number",Ge=Me=>Me*Math.PI/180,vr=(Me,Ce)=>{const Re=Ge(Ce.lat-Me.lat),ot=Ge(Ce.lng-Me.lng),wt=Ge(Me.lat),ht=Ge(Ce.lat),ie=Math.sin(Re/2)**2+Math.cos(wt)*Math.cos(ht)*Math.sin(ot/2)**2;return 2*6371*Math.asin(Math.sqrt(ie))},Dr=[...ye].sort((Me,Ce)=>{if(!st)return 0;const qe=Me.lat?parseFloat(Me.lat):NaN,Re=Me.lon?parseFloat(Me.lon):NaN,ot=Ce.lat?parseFloat(Ce.lat):NaN,wt=Ce.lon?parseFloat(Ce.lon):NaN,ht=Number.isFinite(qe)&&Number.isFinite(Re),ie=Number.isFinite(ot)&&Number.isFinite(wt);if(ht&&ie){const He=vr({lat:Pe,lng:nt},{lat:qe,lng:Re}),Ue=vr({lat:Pe,lng:nt},{lat:ot,lng:wt});return He-Ue}return ht?-1:ie?1:0});m(Dr.map(Me=>{var ht,ie,He,Ue,vt,xt,St;const Ce=(Me.display_name.split(",")[0]||Me.display_name).trim(),Re=[(ht=Me.address)==null?void 0:ht.road,(ie=Me.address)==null?void 0:ie.house_number].filter(Boolean).join(", "),ot=(((He=Me.address)==null?void 0:He.city)||((Ue=Me.address)==null?void 0:Ue.town)||((vt=Me.address)==null?void 0:vt.village)||((xt=Me.address)==null?void 0:xt.municipality)||((St=Me.address)==null?void 0:St.county)||"").toString();return{label:[Ce,Re,ot].filter(dr=>dr&&dr.trim().length>0).join(" — "),value:Ce}}))}catch(rt){rt instanceof DOMException&&rt.name==="AbortError"||m([])}finally{w(!1)}},400);return()=>{fe.abort(),clearTimeout(gt)}},[i,me==null?void 0:me.lat,me==null?void 0:me.lng]),f.useEffect(()=>{const fe=De=>{v.current&&(v.current.contains(De.target)||m([]))};return document.addEventListener("mousedown",fe),()=>document.removeEventListener("mousedown",fe)},[]),f.useEffect(()=>{const fe=new AbortController,De=se.trim();if(Z.current){Z.current=!1;return}if(De.length<3){A([]);return}const gt=setTimeout(async()=>{try{E(!0);const rt=new URLSearchParams({format:"json",q:De,addressdetails:"1",limit:"8",countrycodes:"br"});if((me==null?void 0:me.lat)!=null&&(me==null?void 0:me.lng)!=null){const Me=me.lat,Ce=me.lng,qe=.54,Re=qe/Math.max(.1,Math.cos(Math.PI/180*Me)),ot=(Me-qe).toFixed(6),wt=(Me+qe).toFixed(6),ht=(Ce-Re).toFixed(6),ie=(Ce+Re).toFixed(6);rt.set("viewbox",`${ht},${ot},${ie},${wt}`),rt.set("bounded","1")}const pt=await fetch(`https://nominatim.openstreetmap.org/search?${rt.toString()}`,{signal:fe.signal,headers:{"Accept-Language":"pt-BR"}});if(!pt.ok)throw new Error("Falha ao buscar locais");const Pt=await pt.json(),cr={amenity:new Set(["bar","pub","nightclub","theatre","arts_centre","community_centre","restaurant","cafe","biergarten","cinema","concert_hall","music_venue","events_venue"]),leisure:new Set(["stadium"]),tourism:new Set(["attraction"])},z=Me=>Me.normalize("NFD").replace(/[\u0300-\u036f]/g,""),ae=z(De.toLowerCase()),ye=Pt.filter(Me=>{const Ce=cr[Me.class],qe=Ce?Ce.has(Me.type):!1,Re=(Me.display_name.split(",")[0]||Me.display_name).trim(),ot=z(Re.toLowerCase()).includes(ae);return qe||ot}),Pe=(me==null?void 0:me.lat)??void 0,nt=(me==null?void 0:me.lng)??void 0,st=typeof Pe=="number"&&typeof nt=="number",Ge=Me=>Me*Math.PI/180,vr=(Me,Ce)=>{const Re=Ge(Ce.lat-Me.lat),ot=Ge(Ce.lng-Me.lng),wt=Ge(Me.lat),ht=Ge(Ce.lat),ie=Math.sin(Re/2)**2+Math.cos(wt)*Math.cos(ht)*Math.sin(ot/2)**2;return 2*6371*Math.asin(Math.sqrt(ie))},Dr=[...ye].sort((Me,Ce)=>{if(!st)return 0;const qe=Me.lat?parseFloat(Me.lat):NaN,Re=Me.lon?parseFloat(Me.lon):NaN,ot=Ce.lat?parseFloat(Ce.lat):NaN,wt=Ce.lon?parseFloat(Ce.lon):NaN,ht=Number.isFinite(qe)&&Number.isFinite(Re),ie=Number.isFinite(ot)&&Number.isFinite(wt);if(ht&&ie){const He=vr({lat:Pe,lng:nt},{lat:qe,lng:Re}),Ue=vr({lat:Pe,lng:nt},{lat:ot,lng:wt});return He-Ue}return ht?-1:ie?1:0});A(Dr.map(Me=>{var ht,ie,He,Ue,vt,xt,St;const Ce=(Me.display_name.split(",")[0]||Me.display_name).trim(),Re=[(ht=Me.address)==null?void 0:ht.road,(ie=Me.address)==null?void 0:ie.house_number].filter(Boolean).join(", "),ot=(((He=Me.address)==null?void 0:He.city)||((Ue=Me.address)==null?void 0:Ue.town)||((vt=Me.address)==null?void 0:vt.village)||((xt=Me.address)==null?void 0:xt.municipality)||((St=Me.address)==null?void 0:St.county)||"").toString();return{label:[Ce,Re,ot].filter(dr=>dr&&dr.trim().length>0).join(" — "),value:Ce}}))}catch(rt){rt instanceof DOMException&&rt.name==="AbortError"||A([])}finally{E(!1)}},400);return()=>{fe.abort(),clearTimeout(gt)}},[se,me==null?void 0:me.lat,me==null?void 0:me.lng]),f.useEffect(()=>{const fe=De=>{$.current&&($.current.contains(De.target)||A([]))};return document.addEventListener("mousedown",fe),()=>document.removeEventListener("mousedown",fe)},[]),s.jsxs("main",{className:"container mx-auto p-4 space-y-6",children:[s.jsx(Zt,{title:"Agenda",description:"Cadastre datas e locais de eventos na sua agenda.",canonical:"/musician/agenda"}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-2xl font-semibold",children:"Agenda"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(O,{onClick:()=>X(!0),variant:"outline",size:"sm",children:[s.jsx(Sm,{className:"h-4 w-4"}),!r&&s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"ml-2",children:"Filtros"}),We>0&&s.jsx("span",{className:"bg-primary text-primary-foreground text-xs px-2 py-1 rounded-full ml-2",children:We})]}),r&&We>0&&s.jsx("span",{className:"bg-primary text-primary-foreground text-xs px-1.5 py-0.5 rounded-full ml-1.5",children:We})]}),s.jsxs(O,{onClick:()=>P(!0),children:[s.jsx(Ec,{className:"h-4 w-4"}),!r&&s.jsx("span",{className:"ml-2",children:"Novo evento"})]})]})]}),s.jsxs(et,{className:"border-0 shadow-none",children:[s.jsx(Xt,{children:s.jsx(lr,{children:"Meus eventos"})}),s.jsx(tt,{children:Ne&&y===1?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"animate-spin h-6 w-6 border-2 border-primary border-t-transparent rounded-full mx-auto"}),s.jsx("p",{className:"text-muted-foreground mt-2",children:"Carregando eventos..."})]}):xe.length>0?s.jsxs("div",{className:"space-y-4",children:[s.jsx("ul",{className:"divide-y",children:xe.map(fe=>s.jsxs("li",{className:"flex items-center justify-between p-4 hover:bg-muted/50 rounded-lg transition-colors",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"font-medium",children:new Date(fe.start_time).toLocaleDateString("pt-BR")}),s.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[s.jsx(q2,{className:"h-3.5 w-3.5"}),fe.location||"Local não informado"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-xs text-muted-foreground hidden sm:block",children:fe.title||"Evento"}),s.jsx(O,{variant:"ghost",size:"sm","aria-label":"Editar evento",onClick:()=>q(fe),children:s.jsx(Qa,{className:"h-4 w-4"})}),fe.link_url&&s.jsx("a",{href:fe.link_url,target:"_blank",rel:"noopener noreferrer","aria-label":"Abrir link do evento",className:"inline-flex items-center justify-center h-8 w-8 rounded-md hover:bg-muted",title:"Abrir link do evento",children:s.jsx(W3,{className:"h-4 w-4"})}),s.jsxs(Ef,{children:[s.jsx(Y7,{asChild:!0,children:s.jsx(O,{variant:"ghost",size:"sm","aria-label":"Remover evento",children:s.jsx(Gn,{className:"h-4 w-4"})})}),s.jsxs(ld,{children:[s.jsxs(cd,{children:[s.jsx(ud,{children:"Remover evento?"}),s.jsx(fd,{children:"Esta ação não pode ser desfeita. Confirme para remover da sua agenda."})]}),s.jsxs(dd,{children:[s.jsx(md,{children:"Cancelar"}),s.jsx(hd,{onClick:()=>Ut(fe.id),children:"Remover"})]})]})]})]})]},fe.id))}),Nt&&s.jsx("div",{className:"flex justify-center pt-4",children:s.jsx(O,{variant:"outline",onClick:Et,disabled:Ne,children:Ne?"Carregando...":"Carregar mais eventos"})}),s.jsxs("div",{className:"text-center text-sm text-muted-foreground",children:["Mostrando ",xe.length," de ",Ye," eventos"]})]}):s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"mx-auto w-16 h-16 bg-muted/30 rounded-full flex items-center justify-center mb-4",children:s.jsx(wn,{className:"h-8 w-8 text-muted-foreground"})}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:We>0?"Nenhum evento encontrado":"Sua agenda está vazia"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:We>0?"Tente ajustar os filtros ou limpar todos para ver todos os eventos.":"Comece cadastrando seu primeiro evento para organizar sua agenda."}),We>0?s.jsxs(O,{variant:"outline",size:"sm",onClick:ue,children:[s.jsx(Mr,{className:"h-4 w-4"}),!r&&s.jsx("span",{className:"ml-2",children:"Limpar filtros"})]}):s.jsxs(O,{onClick:()=>P(!0),children:[s.jsx(Ec,{className:"h-4 w-4"}),!r&&s.jsx("span",{className:"ml-2",children:"Cadastrar primeiro evento"})]})]})})]}),s.jsx(qr,{open:Q,onOpenChange:P,children:s.jsxs(Pr,{className:"sm:max-w-md",children:[s.jsxs(Tr,{children:[s.jsx(Rr,{children:"Cadastrar novo evento"}),s.jsx(Ku,{children:"Adicione uma nova data à sua agenda"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx(ze,{children:"Data do evento"}),s.jsxs(bn,{children:[s.jsx(jn,{asChild:!0,children:s.jsxs(O,{variant:"outline",className:le("w-full justify-start text-left font-normal",!n&&"text-muted-foreground"),children:[s.jsx(wn,{className:"mr-2 h-4 w-4"}),n?om(n):s.jsx("span",{children:"Escolha a data"})]})}),s.jsx(un,{className:"w-auto p-0",align:"start",children:s.jsx(vs,{mode:"single",selected:n,onSelect:a,initialFocus:!0,className:"p-3"})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ze,{htmlFor:"location-modal",children:"Local"}),s.jsxs("div",{className:"relative",ref:v,children:[s.jsx(Ie,{id:"location-modal",placeholder:"Ex.: Rooftop Center",value:i,onChange:fe=>o(fe.target.value),autoComplete:"off",className:le(p?"pl-8":void 0)}),i&&s.jsx("button",{type:"button","aria-label":"Limpar local",title:"Limpar",onMouseDown:fe=>fe.preventDefault(),onClick:()=>{o(""),m([])},className:"absolute right-2 top-1/2 -translate-y-1/2 inline-flex h-6 w-6 items-center justify-center rounded hover:bg-muted",children:s.jsx(Mr,{className:"h-4 w-4 text-muted-foreground"})}),p&&s.jsxs("div",{className:"absolute left-2 top-1/2 -translate-y-1/2 flex items-center gap-0.5",children:[s.jsx("span",{className:"inline-block h-1 w-1 rounded-full bg-muted-foreground animate-bounce [animation-delay:-0.2s]"}),s.jsx("span",{className:"inline-block h-1 w-1 rounded-full bg-muted-foreground animate-bounce [animation-delay:-0.1s]"}),s.jsx("span",{className:"inline-block h-1 w-1 rounded-full bg-muted-foreground animate-bounce"})]}),h.length>0&&s.jsx("ul",{className:"absolute left-0 right-0 z-20 border rounded-md divide-y max-h-56 overflow-auto bg-background mt-1 shadow-md",children:h.map(fe=>s.jsx("li",{className:"p-2 text-sm hover:bg-muted cursor-pointer",onClick:()=>{g.current=!0,o(fe.value),m([])},children:fe.label},`${fe.label}-${fe.value}`))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ze,{htmlFor:"link-modal",children:"Link do evento (opcional)"}),s.jsx(Ie,{id:"link-modal",type:"url",placeholder:"https://exemplo.com/meu-evento",value:l,onChange:fe=>c(fe.target.value)})]})]}),s.jsxs(ya,{className:"gap-3",children:[s.jsxs(O,{variant:"outline",onClick:()=>P(!1),children:[s.jsx(Mr,{className:"h-4 w-4 mr-2"}),"Cancelar"]}),s.jsx(O,{onClick:kt,disabled:d,children:d?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-current border-t-transparent rounded-full mr-2"}),"Cadastrando..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Ec,{className:"h-4 w-4 mr-2"}),"Aplicar"]})})]})]})}),s.jsx(qr,{open:F,onOpenChange:X,children:s.jsxs(Pr,{className:"sm:max-w-lg",children:[s.jsxs(Tr,{children:[s.jsxs(Rr,{className:"flex items-center gap-2",children:[s.jsx(Sm,{className:"h-5 w-5"}),"Filtros e Ordenação",We>0&&s.jsx("span",{className:"bg-primary text-primary-foreground text-xs px-2 py-1 rounded-full",children:We})]}),s.jsx(Ku,{children:"Organize e encontre seus eventos"})]}),s.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ze,{children:"Ordenar por data"}),s.jsxs(bl,{value:b,onValueChange:be,children:[s.jsx(ho,{children:s.jsx(jl,{placeholder:"Ordenação"})}),s.jsxs(mo,{children:[s.jsx(Qr,{value:"desc",children:"Mais recente primeiro"}),s.jsx(Qr,{value:"asc",children:"Mais antigo primeiro"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ze,{children:"Filtrar por data"}),s.jsxs(bn,{children:[s.jsx(jn,{asChild:!0,children:s.jsxs(O,{variant:"outline",className:le("w-full justify-start text-left font-normal",!N&&"text-muted-foreground"),children:[s.jsx(wn,{className:"mr-2 h-4 w-4"}),N?om(N):s.jsx("span",{children:"Selecione uma data"})]})}),s.jsx(un,{className:"w-auto p-0",align:"start",children:s.jsx(vs,{mode:"single",selected:N,onSelect:we,initialFocus:!0})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ze,{children:"Filtrar por mês"}),s.jsxs(bl,{value:S,onValueChange:pe,children:[s.jsx(ho,{children:s.jsx(jl,{placeholder:"Selecione um mês"})}),s.jsx(mo,{children:Ee.map(fe=>s.jsx(Qr,{value:fe.value,children:fe.label},fe.value))})]})]})]}),s.jsxs(ya,{children:[We>0&&s.jsxs(O,{variant:"outline",onClick:ue,children:[s.jsx(Mr,{className:"h-4 w-4 mr-2"}),"Limpar"]}),s.jsxs(O,{onClick:()=>X(!1),children:[s.jsx(Sm,{className:"h-4 w-4 mr-2"}),"Aplicar"]})]})]})}),s.jsx(qr,{open:U,onOpenChange:B,children:s.jsxs(Pr,{children:[s.jsxs(Tr,{children:[s.jsx(Rr,{children:"Editar evento"}),s.jsx(Ku,{children:"Atualize a data, o local e o link do evento."})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx(ze,{children:"Data do evento"}),s.jsxs(bn,{children:[s.jsx(jn,{asChild:!0,children:s.jsxs(O,{variant:"outline",className:le("w-full justify-start text-left font-normal",!H&&"text-muted-foreground"),children:[s.jsx(wn,{className:"mr-2 h-4 w-4"}),H?om(H):s.jsx("span",{children:"Escolha a data"})]})}),s.jsx(un,{className:"w-auto p-0",align:"start",children:s.jsx(vs,{mode:"single",selected:H,onSelect:V,initialFocus:!0})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ze,{htmlFor:"edit-location",children:"Local"}),s.jsxs("div",{className:"relative",ref:$,children:[s.jsx(Ie,{id:"edit-location",placeholder:"Ex.: Rooftop Center",value:se,onChange:fe=>te(fe.target.value),autoComplete:"off",className:le(Y?"pl-8":void 0)}),se&&s.jsx("button",{type:"button","aria-label":"Limpar local",title:"Limpar",onMouseDown:fe=>fe.preventDefault(),onClick:()=>{te(""),A([])},className:"absolute right-2 top-1/2 -translate-y-1/2 inline-flex h-6 w-6 items-center justify-center rounded hover:bg-muted",children:s.jsx(Mr,{className:"h-4 w-4 text-muted-foreground"})}),Y&&s.jsxs("div",{className:"absolute left-2 top-1/2 -translate-y-1/2 flex items-center gap-0.5",children:[s.jsx("span",{className:"inline-block h-1 w-1 rounded-full bg-muted-foreground animate-bounce [animation-delay:-0.2s]"}),s.jsx("span",{className:"inline-block h-1 w-1 rounded-full bg-muted-foreground animate-bounce [animation-delay:-0.1s]"}),s.jsx("span",{className:"inline-block h-1 w-1 rounded-full bg-muted-foreground animate-bounce"})]}),T.length>0&&s.jsx("ul",{className:"absolute left-0 right-0 z-20 border rounded-md divide-y max-h-56 overflow-auto bg-background mt-1 shadow-md",children:T.map(fe=>s.jsx("li",{className:"p-2 text-sm hover:bg-muted cursor-pointer",onClick:()=>{Z.current=!0,te(fe.value),A([])},children:fe.label},`${fe.label}-${fe.value}`))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ze,{htmlFor:"edit-link",children:"Link do evento (opcional)"}),s.jsx(Ie,{id:"edit-link",type:"url",placeholder:"https://exemplo.com/meu-evento",value:J,onChange:fe=>I(fe.target.value)})]})]}),s.jsxs(ya,{children:[s.jsxs(O,{variant:"outline",onClick:()=>B(!1),disabled:D,children:[s.jsx(Mr,{className:"h-4 w-4 mr-2"}),"Cancelar"]}),s.jsx(O,{onClick:ne,disabled:D,children:D?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-current border-t-transparent rounded-full mr-2"}),"Salvando..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Qa,{className:"h-4 w-4 mr-2"}),"Aplicar"]})})]})]})})]})}const RY=()=>{const e=Or(),{user:t,loading:r}=ar(),[n,a]=f.useState(""),[i,o]=f.useState(""),[l,c]=f.useState(!1);f.useEffect(()=>{},[]);const d=async()=>{if(!n||n.length<6){oe({title:"Senha muito curta",description:"Use ao menos 6 caracteres."});return}if(n!==i){oe({title:"Senhas não conferem",description:"Digite a mesma senha nos dois campos."});return}c(!0);try{const{error:u}=await L.auth.updateUser({password:n});if(u)throw u;oe({title:"Senha atualizada",description:"Faça login com sua nova senha."}),e("/auth")}catch(u){oe({title:"Erro ao atualizar senha",description:u.message})}finally{c(!1)}};return s.jsxs("main",{className:"min-h-screen flex items-center justify-center bg-background p-4",children:[s.jsx(Zt,{title:"Redefinir senha - Pedidos de Música",description:"Defina uma nova senha para sua conta."}),s.jsxs("section",{className:"w-full max-w-md border rounded-lg p-6 bg-card text-card-foreground shadow-sm",children:[s.jsxs("header",{className:"mb-6 text-center",children:[s.jsx("h1",{className:"text-2xl font-semibold",children:"Redefinir senha"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:t?"Defina sua nova senha abaixo.":"Abra o link recebido por e-mail neste dispositivo para redefinir sua senha."})]}),t?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ze,{htmlFor:"new-password",children:"Nova senha"}),s.jsx(Ie,{id:"new-password",type:"password",value:n,onChange:u=>a(u.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ze,{htmlFor:"confirm-password",children:"Confirmar nova senha"}),s.jsx(Ie,{id:"confirm-password",type:"password",value:i,onChange:u=>o(u.target.value)})]}),s.jsx(O,{className:"w-full",onClick:d,disabled:l,children:l?"Atualizando...":"Atualizar senha"})]}):s.jsx("div",{className:"space-y-4 text-center",children:s.jsx(O,{variant:"ghost",size:"icon",onClick:()=>e("/auth"),"aria-label":"Voltar",children:s.jsx(ag,{className:"h-5 w-5"})})})]})]})},Kx=20;function MY(){const{user:e}=ar(),{toast:t}=Qs(),[r,n]=f.useState(""),a=f.useRef(null),{data:i,fetchNextPage:o,hasNextPage:l,isFetchingNextPage:c,isLoading:d,refetch:u}=js({queryKey:["profiles-list-infinite",r,e==null?void 0:e.id],enabled:!!(e!=null&&e.id),initialPageParam:0,getNextPageParam:(g,y)=>g.hasMore?y.length:void 0,queryFn:async({pageParam:g})=>{const x=(Number(g)||0)*Kx,b=x+Kx-1;let _=L.from("profiles").select("id, display_name, avatar_url, username, is_pro").eq("is_active",!0).eq("is_blocked",!1).order("display_name",{ascending:!0,nullsFirst:!1}).range(x,b);r.trim()&&(_=_.ilike("display_name",`%${r.trim()}%`));const{data:N,error:k}=await _;if(k)throw k;return{rows:N||[],hasMore:(N||[]).length===Kx}}}),h=f.useMemo(()=>((i==null?void 0:i.pages)||[]).flatMap(g=>g.rows),[i==null?void 0:i.pages]);f.useEffect(()=>{const g=a.current;if(!g)return;const y=new IntersectionObserver(x=>{x[0].isIntersecting&&l&&!c&&o()});return y.observe(g),()=>y.disconnect()},[o,l,c]);const{data:m,refetch:p,isLoading:w}=Ze({queryKey:["my-following",e==null?void 0:e.id],enabled:!!(e!=null&&e.id),queryFn:async()=>{const{data:g,error:y}=await L.from("follows").select("followee_id").eq("follower_id",e.id);if(y)throw y;return new Set((g||[]).map(b=>b.followee_id))}}),v=async g=>{if(!(e!=null&&e.id)){t({title:"Entre para seguir",description:"Faça login para seguir perfis.",variant:"default"});return}try{if(m!=null&&m.has(g)){const{error:y}=await L.from("follows").delete().eq("follower_id",e.id).eq("followee_id",g);if(y)throw y;t({title:"Deixou de seguir"})}else{const{error:y}=await L.from("follows").insert({follower_id:e.id,followee_id:g});if(y)throw y;t({title:"Agora você está seguindo"})}await Promise.all([p(),u()])}catch(y){t({title:"Erro",description:(y==null?void 0:y.message)||"Não foi possível atualizar o seguimento.",variant:"destructive"})}};return s.jsxs("main",{className:"container mx-auto px-4 py-6",children:[s.jsx(Zt,{title:"Perfis públicos — seguir usuários",description:"Descubra perfis públicos e siga usuários. Busque por nome e gerencie quem você segue.",canonical:"/musician/perfis"}),s.jsx("h1",{className:"text-2xl font-semibold tracking-tight mb-4",children:"Músicos"}),s.jsx(et,{className:"border-0 shadow-none",children:s.jsx(tt,{className:"px-1",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Ie,{placeholder:"buscar músico",value:r,onChange:g=>{n(g.target.value)},"aria-label":"Buscar perfis"}),s.jsx(O,{onClick:()=>u(),disabled:d,children:"Buscar"})]})})}),s.jsx(al,{className:"my-4"}),d?s.jsx("div",{className:"mt-6 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:Array.from({length:8}).map((g,y)=>s.jsx(et,{className:"border-0 shadow-none",children:s.jsxs(tt,{className:"p-4 flex flex-col items-center gap-3",children:[s.jsx(Xe,{className:"h-4 w-32"}),s.jsx(Xe,{className:"h-12 w-12 rounded-full"}),s.jsx(Xe,{className:"h-8 w-24 rounded-md"})]})},y))}):s.jsx("div",{className:"mt-6 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:(h||[]).filter(g=>g.id!==(e==null?void 0:e.id)).map(g=>{const y=g.display_name||"Usuário";return s.jsx(et,{className:"border-0 shadow-none",children:s.jsxs(tt,{className:"p-4 flex items-start gap-3",children:[s.jsx(Qt,{to:`${g.username?`/${g.username}`:`/m/${g.id}`}`,children:s.jsxs(Ft,{className:"h-16 w-16 flex-shrink-0",isPro:!!g.is_pro,children:[s.jsx(Lt,{src:g.avatar_url||void 0,alt:y}),s.jsx($t,{children:y.charAt(0).toUpperCase()})]})}),s.jsxs("div",{className:"flex flex-col items-start justify-center flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Qt,{to:`${g.username?`/${g.username}`:`/m/${g.id}`}`,className:"no-underline",children:s.jsx("p",{className:"text-sm font-medium break-words",children:y})}),g.is_pro&&s.jsx(uo,{size:14})]}),s.jsx(O,{variant:m!=null&&m.has(g.id)?"secondary":"default",onClick:()=>v(g.id),disabled:w,className:"h-7 px-2 text-xs",children:m!=null&&m.has(g.id)?"Seguindo":"Seguir"})]})]},g.id)},g.id)})}),s.jsx("div",{ref:a,className:"h-8"}),c&&s.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Carregando mais..."})]})}const tc=20;function AY(){const{user:e}=ar(),{toast:t}=Qs(),r=is(),[n,a]=f.useState("seguindo"),i=f.useRef(null),o=f.useRef(null),{data:l,fetchNextPage:c,hasNextPage:d,isFetchingNextPage:u,isLoading:h}=js({queryKey:["my-following-infinite",e==null?void 0:e.id],enabled:!!(e!=null&&e.id),initialPageParam:0,getNextPageParam:(S,R)=>S.hasMore?R.length:void 0,queryFn:async({pageParam:S})=>{const U=(Number(S)||0)*tc,B=U+tc-1,{data:re,error:G}=await L.from("follows").select("followee_id").eq("follower_id",e.id).order("created_at",{ascending:!1}).range(U,B);if(G)throw G;const H=(re||[]).map(D=>D.followee_id);if(H.length===0)return{rows:[],hasMore:!1};const{data:V,error:se}=await L.from("profiles").select("id, display_name, avatar_url, username, is_pro").in("id",H);if(se)throw se;const te=new Map((V||[]).map(D=>[D.id,D])),J=H.map(D=>te.get(D)).filter(Boolean),I=(re||[]).length===tc;return{rows:J,hasMore:I}}}),m=f.useMemo(()=>((l==null?void 0:l.pages)||[]).flatMap(S=>S.rows),[l==null?void 0:l.pages]),p=f.useMemo(()=>new Set(m.map(S=>S.id)),[m]),{data:w,fetchNextPage:v,hasNextPage:g,isFetchingNextPage:y,isLoading:x}=js({queryKey:["my-followers-infinite",e==null?void 0:e.id],enabled:!!(e!=null&&e.id),initialPageParam:0,getNextPageParam:(S,R)=>S.hasMore?R.length:void 0,queryFn:async({pageParam:S})=>{const U=(Number(S)||0)*tc,B=U+tc-1,{data:re,error:G}=await L.from("follows").select("follower_id").eq("followee_id",e.id).order("created_at",{ascending:!1}).range(U,B);if(G)throw G;const H=(re||[]).map(D=>D.follower_id);if(H.length===0)return{rows:[],hasMore:!1};const{data:V,error:se}=await L.from("profiles").select("id, display_name, avatar_url, username").in("id",H);if(se)throw se;const te=new Map((V||[]).map(D=>[D.id,D])),J=H.map(D=>te.get(D)).filter(Boolean),I=(re||[]).length===tc;return{rows:J,hasMore:I}}}),b=f.useMemo(()=>((w==null?void 0:w.pages)||[]).flatMap(S=>S.rows),[w==null?void 0:w.pages]);f.useEffect(()=>{const S=i.current;if(!S||n!=="seguindo")return;const R=new IntersectionObserver(U=>{U[0].isIntersecting&&d&&!u&&c()});return R.observe(S),()=>R.disconnect()},[n,c,d,u]),f.useEffect(()=>{const S=o.current;if(!S||n!=="seguidores")return;const R=new IntersectionObserver(U=>{U[0].isIntersecting&&g&&!y&&v()});return R.observe(S),()=>R.disconnect()},[n,v,g,y]);const _=S=>{r.setQueryData(["my-following-infinite",e==null?void 0:e.id],R=>{if(!R)return R;const U=R.pages.map(B=>({...B,rows:B.rows.filter(re=>re.id!==S)}));return{...R,pages:U}})},N=async S=>{if(e!=null&&e.id)try{const{error:R}=await L.from("follows").insert({follower_id:e.id,followee_id:S});if(R)throw R;t({title:"Agora você segue"}),await r.invalidateQueries({queryKey:["my-following-infinite",e==null?void 0:e.id]})}catch(R){t({title:"Erro",description:(R==null?void 0:R.message)||"Não foi possível seguir.",variant:"destructive"})}},k=async S=>{if(e!=null&&e.id)try{const{error:R}=await L.from("follows").delete().eq("follower_id",e.id).eq("followee_id",S);if(R)throw R;_(S),t({title:"Deixou de seguir"})}catch(R){t({title:"Erro",description:(R==null?void 0:R.message)||"Não foi possível atualizar.",variant:"destructive"})}};return s.jsxs("main",{className:"container mx-auto px-4 py-6",children:[s.jsx(Zt,{title:"Seguindo e seguidores — músicos",description:"Gerencie quem você segue e seus seguidores.",canonical:"/musician/seguindo"}),s.jsx("h1",{className:"text-2xl font-semibold tracking-tight mb-4",children:"Conexões"}),s.jsx(et,{className:"border-0 shadow-none",children:s.jsx(tt,{className:"p-0",children:s.jsxs(Fd,{value:n,onValueChange:S=>a(S),className:"w-full",children:[s.jsxs(fo,{className:"grid w-full grid-cols-2",children:[s.jsx(Br,{value:"seguindo",children:"Seguindo"}),s.jsx(Br,{value:"seguidores",children:"Seguidores"})]}),s.jsxs("div",{className:"p-4",children:[s.jsxs(Xr,{value:"seguindo",className:"mt-0",children:[h?s.jsx("p",{className:"text-sm text-muted-foreground",children:"Carregando..."}):m.length===0?s.jsx("p",{className:"text-sm text-muted-foreground",children:"Você ainda não segue ninguém."}):s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:m.map(S=>{const R=S.display_name||"Usuário";return s.jsxs("div",{className:"flex items-center justify-between gap-3 rounded-md p-3",children:[s.jsxs(Qt,{to:`/${S.username||S.id}`,className:"flex items-center gap-3 min-w-0",children:[s.jsxs(Ft,{className:"h-10 w-10 shrink-0",children:[s.jsx(Lt,{src:S.avatar_url||void 0,alt:R}),s.jsx($t,{children:R.charAt(0).toUpperCase()})]}),s.jsx("div",{className:"min-w-0",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("p",{className:"text-sm font-medium truncate",children:R}),S.is_pro&&s.jsx(uo,{size:12})]})})]}),s.jsx(O,{variant:"secondary",size:"sm",onClick:()=>k(S.id),children:"Seguindo"})]},S.id)})}),s.jsx("div",{ref:i,className:"h-8"}),u&&s.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Carregando mais..."})]}),s.jsxs(Xr,{value:"seguidores",className:"mt-0",children:[x?s.jsx("p",{className:"text-sm text-muted-foreground",children:"Carregando..."}):b.length===0?s.jsx("p",{className:"text-sm text-muted-foreground",children:"Nenhum seguidor ainda."}):s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:b.map(S=>{const R=S.display_name||"Usuário",U=p.has(S.id);return s.jsxs("div",{className:"flex items-center justify-between gap-3 rounded-md p-3",children:[s.jsxs(Qt,{to:`/${S.username||S.id}`,className:"flex items-center gap-3 min-w-0",children:[s.jsxs(Ft,{className:"h-10 w-10 shrink-0",children:[s.jsx(Lt,{src:S.avatar_url||void 0,alt:R}),s.jsx($t,{children:R.charAt(0).toUpperCase()})]}),s.jsx("div",{className:"min-w-0",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("p",{className:"text-sm font-medium truncate",children:R}),S.is_pro&&s.jsx(uo,{size:12})]})})]}),U?s.jsx(O,{variant:"secondary",size:"sm",disabled:!0,children:"Seguindo"}):s.jsx(O,{size:"sm",onClick:()=>N(S.id),children:"Seguir"})]},S.id)})}),s.jsx("div",{ref:o,className:"h-8"}),y&&s.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Carregando mais..."})]})]})]})})})]})}const rc=24;function OY(){var R,U,B,re,G;const{user:e}=ar(),t=Or(),[r,n]=f.useState(!1),{resolvedTheme:a}=as(),i=((R=e==null?void 0:e.user_metadata)==null?void 0:R.full_name)||(e==null?void 0:e.email)||"Usuário",o=((U=e==null?void 0:e.user_metadata)==null?void 0:U.avatar_url)||void 0,l=async()=>{await L.auth.signOut(),t("/")},{toast:c}=Qs(),d=is(),{data:u}=Ze({queryKey:["roles",e==null?void 0:e.id],enabled:!!(e!=null&&e.id),queryFn:async()=>{const{data:H,error:V}=await L.from("user_roles").select("role").eq("user_id",e.id);if(V)throw V;return H}}),h=(u||[]).some(H=>H.role==="musician"),{shouldShowIndicator:m}=eh({userId:e==null?void 0:e.id,isMusician:h}),[p,w]=f.useState("seguindo"),v=f.useRef(null),g=f.useRef(null),{data:y}=Ze({queryKey:["viewer-following-set",e==null?void 0:e.id],enabled:!!(e!=null&&e.id),queryFn:async()=>{const{data:H,error:V}=await L.from("follows").select("followee_id").eq("follower_id",e.id);if(V)throw V;return new Set((H||[]).map(se=>se.followee_id))}}),x=js({queryKey:["self-following-infinite",e==null?void 0:e.id],enabled:!!(e!=null&&e.id),initialPageParam:0,getNextPageParam:(H,V)=>H.hasMore?V.length:void 0,queryFn:async({pageParam:H})=>{const se=(Number(H)||0)*rc,te=se+rc-1,{data:J,error:I}=await L.from("follows").select("followee_id").eq("follower_id",e.id).order("created_at",{ascending:!1}).range(se,te);if(I)throw I;const D=(J||[]).map($=>$.followee_id);if(D.length===0)return{rows:[],hasMore:!1};const{data:C,error:T}=await L.from("profiles").select("id, display_name, avatar_url").in("id",D).eq("is_active",!0).eq("is_blocked",!1);if(T)throw T;const A=new Map((C||[]).map($=>[$.id,$])),Y=D.map($=>A.get($)).filter(Boolean),E=(J||[]).length===rc;return{rows:Y,hasMore:E}}}),b=f.useMemo(()=>{var H;return(((H=x.data)==null?void 0:H.pages)||[]).flatMap(V=>V.rows)},[(B=x.data)==null?void 0:B.pages]),_=js({queryKey:["self-followers-infinite",e==null?void 0:e.id],enabled:!!(e!=null&&e.id),initialPageParam:0,getNextPageParam:(H,V)=>H.hasMore?V.length:void 0,queryFn:async({pageParam:H})=>{const se=(Number(H)||0)*rc,te=se+rc-1,{data:J,error:I}=await L.from("follows").select("follower_id").eq("followee_id",e.id).order("created_at",{ascending:!1}).range(se,te);if(I)throw I;const D=(J||[]).map($=>$.follower_id);if(D.length===0)return{rows:[],hasMore:!1};const{data:C,error:T}=await L.from("profiles").select("id, display_name, avatar_url").in("id",D).eq("is_active",!0).eq("is_blocked",!1);if(T)throw T;const A=new Map((C||[]).map($=>[$.id,$])),Y=D.map($=>A.get($)).filter(Boolean),E=(J||[]).length===rc;return{rows:Y,hasMore:E}}}),N=f.useMemo(()=>{var H;return(((H=_.data)==null?void 0:H.pages)||[]).flatMap(V=>V.rows)},[(re=_.data)==null?void 0:re.pages]);f.useEffect(()=>{const H=v.current;if(!H||p!=="seguindo")return;const V=new IntersectionObserver(se=>{se[0].isIntersecting&&x.hasNextPage&&!x.isFetchingNextPage&&x.fetchNextPage()});return V.observe(H),()=>V.disconnect()},[p,x.hasNextPage,x.isFetchingNextPage]),f.useEffect(()=>{const H=g.current;if(!H||p!=="seguidores")return;const V=new IntersectionObserver(se=>{se[0].isIntersecting&&_.hasNextPage&&!_.isFetchingNextPage&&_.fetchNextPage()});return V.observe(H),()=>V.disconnect()},[p,_.hasNextPage,_.isFetchingNextPage]);const k=async H=>{if(!(e!=null&&e.id)){c({title:"Entre para seguir",description:"Faça login para seguir perfis."});return}try{const{error:V}=await L.from("follows").insert({follower_id:e.id,followee_id:H});if(V)throw V;c({title:"Agora você segue"}),await d.invalidateQueries({queryKey:["viewer-following-set",e.id]})}catch(V){c({title:"Erro",description:(V==null?void 0:V.message)||"Não foi possível seguir.",variant:"destructive"})}},S=async H=>{if(e!=null&&e.id)try{const{error:V}=await L.from("follows").delete().eq("follower_id",e.id).eq("followee_id",H);if(V)throw V;c({title:"Deixou de seguir"}),await d.invalidateQueries({queryKey:["viewer-following-set",e.id]})}catch(V){c({title:"Erro",description:(V==null?void 0:V.message)||"Não foi possível atualizar.",variant:"destructive"})}};return s.jsx(oi,{children:s.jsxs("div",{className:"min-h-screen flex w-full bg-background",children:[h?s.jsx(Jf,{}):null,s.jsxs("main",{className:"flex-1",children:[s.jsx(Zt,{title:"Conexões",description:"Veja quem você segue e seus seguidores."}),s.jsxs("header",{className:"sticky top-0 z-40 h-12 flex items-center bg-background/80 supports-[backdrop-filter]:bg-background/60 backdrop-blur border-b px-4",children:[e&&s.jsx(O,{variant:"ghost",size:"icon",className:"mr-2","aria-label":"Abrir menu",onClick:()=>n(!0),children:s.jsx(Vf,{className:"h-5 w-5"})}),s.jsxs("nav",{className:"flex w-full items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Qt,{to:"/",className:"font-semibold",children:s.jsx("img",{src:a==="dark"?"/logo_avaplay.png":"/logo_avaplay_amarelo.png",alt:"AVAPlay",className:"h-6"})}),s.jsx(Id,{isVisible:m})]}),s.jsx("div",{className:"hidden md:flex items-center gap-2",children:e?null:s.jsx(O,{onClick:()=>t("/auth"),children:"Entrar"})})]})]}),e&&s.jsx(zs,{open:r,onOpenChange:n,children:s.jsx(ms,{side:"left",className:"w-[16rem] p-0",children:s.jsxs("nav",{className:"p-2",children:[s.jsxs("div",{className:"flex items-center gap-3 p-3 border-b mb-2",children:[s.jsxs(Ft,{className:"h-10 w-10",isPro:!!((G=e==null?void 0:e.user_metadata)!=null&&G.is_pro),children:[s.jsx(Lt,{src:o,alt:i??"Usuário"}),s.jsx($t,{children:(i||"U").charAt(0).toUpperCase()})]}),s.jsx("div",{className:"min-w-0",children:s.jsx("p",{className:"text-sm font-medium truncate",children:i})})]}),h&&s.jsx(O,{variant:"ghost",className:"w-full justify-start",onClick:()=>{n(!1),t("/musician")},children:"Painel"}),s.jsx(O,{variant:"ghost",className:"w-full justify-start",onClick:()=>{n(!1),t("/requests")},children:"Meus Pedidos"}),s.jsx(O,{variant:"ghost",className:"w-full justify-start",onClick:()=>{n(!1),t("/conexoes")},children:"Conexões"}),s.jsx(O,{variant:"ghost",className:"w-full justify-start",onClick:()=>{n(!1),t("/musician/profile")},children:"Editar perfil"}),s.jsx(O,{variant:"ghost",className:"w-full justify-start",onClick:()=>{n(!1),l()},children:"Sair"})]})})}),s.jsxs("section",{className:"max-w-5xl mx-auto px-4 py-6",children:[s.jsx("h1",{className:"text-2xl font-semibold tracking-tight mb-4",children:"Conexões"}),s.jsx(et,{className:"border-0 shadow-none",children:s.jsx(tt,{className:"p-0",children:s.jsxs(Fd,{value:p,onValueChange:H=>w(H),className:"w-full",children:[s.jsxs(fo,{className:"grid w-full grid-cols-2",children:[s.jsx(Br,{value:"seguindo",children:"Seguindo"}),s.jsx(Br,{value:"seguidores",children:"Seguidores"})]}),s.jsxs("div",{className:"p-4",children:[s.jsxs(Xr,{value:"seguindo",className:"mt-0",children:[x.isLoading?s.jsx("p",{className:"text-sm text-muted-foreground",children:"Carregando..."}):b.length===0?s.jsx("p",{className:"text-sm text-muted-foreground",children:"Você ainda não segue ninguém."}):s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:b.map(H=>{var te;const V=H.display_name||"Usuário",se=(te=y==null?void 0:y.has)==null?void 0:te.call(y,H.id);return s.jsxs("div",{className:"flex items-center justify-between gap-3 rounded-md p-3",children:[s.jsxs(Qt,{to:`/m/${H.id}`,className:"flex items-center gap-3 min-w-0",children:[s.jsxs(Ft,{className:"h-10 w-10 shrink-0",isPro:!!H.is_pro,children:[s.jsx(Lt,{src:H.avatar_url||void 0,alt:V}),s.jsx($t,{children:V.charAt(0).toUpperCase()})]}),s.jsx("div",{className:"min-w-0",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("p",{className:"text-sm font-medium truncate",children:V}),H.is_pro&&s.jsx(uo,{size:12})]})})]}),(e==null?void 0:e.id)&&e.id!==H.id&&(se?s.jsx(O,{variant:"secondary",size:"sm",onClick:()=>S(H.id),children:"Seguindo"}):s.jsx(O,{size:"sm",onClick:()=>k(H.id),children:"Seguir"}))]},H.id)})}),s.jsx("div",{ref:v,className:"h-8"}),x.isFetchingNextPage&&s.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Carregando mais..."})]}),s.jsxs(Xr,{value:"seguidores",className:"mt-0",children:[_.isLoading?s.jsx("p",{className:"text-sm text-muted-foreground",children:"Carregando..."}):N.length===0?s.jsx("p",{className:"text-sm text-muted-foreground",children:"Nenhum seguidor ainda."}):s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:N.map(H=>{var te;const V=H.display_name||"Usuário",se=(te=y==null?void 0:y.has)==null?void 0:te.call(y,H.id);return s.jsxs("div",{className:"flex items-center justify-between gap-3 rounded-md p-3",children:[s.jsxs(Qt,{to:`/m/${H.id}`,className:"flex items-center gap-3 min-w-0",children:[s.jsxs(Ft,{className:"h-10 w-10 shrink-0",isPro:!!H.is_pro,children:[s.jsx(Lt,{src:H.avatar_url||void 0,alt:V}),s.jsx($t,{children:V.charAt(0).toUpperCase()})]}),s.jsx("div",{className:"min-w-0",children:s.jsx("p",{className:"text-sm font-medium truncate",children:V})})]}),(e==null?void 0:e.id)&&e.id!==H.id&&(se?s.jsx(O,{variant:"secondary",size:"sm",disabled:!0,children:"Seguindo"}):s.jsx(O,{size:"sm",onClick:()=>k(H.id),children:"Seguir"}))]},H.id)})}),s.jsx("div",{ref:g,className:"h-8"}),_.isFetchingNextPage&&s.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Carregando mais..."})]})]})]})})})]})]})]})})}function DY(){const[e,t]=f.useState(""),[r,n]=f.useState(""),[a,i]=f.useState(!1),[o,l]=f.useState(""),c=Or(),{resolvedTheme:d}=as(),u=async h=>{h.preventDefault(),i(!0),l("");try{const{data:m,error:p}=await L.auth.signInWithPassword({email:e,password:r});if(p){l(p.message);return}if(m.user){const{data:w,error:v}=await L.rpc("has_admin_role",{_user_id:m.user.id});if(v||!w){l("Acesso negado. Você não tem permissões de administrador."),await L.auth.signOut();return}c("/admin/dashboard")}}catch{l("Erro inesperado. Tente novamente.")}finally{i(!1)}};return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx(Zt,{title:"Admin Login - AVAPlay",description:"Acesso administrativo ao sistema AVAPlay"}),s.jsx("header",{className:"sticky top-0 z-40 h-12 flex items-center bg-background/80 supports-[backdrop-filter]:bg-background/60 backdrop-blur border-b px-4",children:s.jsxs("div",{className:"flex w-full items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Qt,{to:"/",className:"font-semibold",children:s.jsx("img",{src:d==="dark"?"/logo_avaplay.png":"/logo_avaplay_amarelo.png",alt:"AVAPlay",className:"h-6"})}),s.jsx("span",{className:"text-sm text-muted-foreground px-2 py-1 bg-muted rounded-md",children:"Admin"})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsx(jb,{})})]})}),s.jsx("div",{className:"flex items-center justify-center min-h-[calc(100vh-3rem)] p-4",children:s.jsxs(et,{className:"w-full max-w-md",children:[s.jsxs(Xt,{className:"text-center space-y-2",children:[s.jsx("div",{className:"mx-auto w-12 h-12 bg-primary/10 rounded-full flex items-center justify-center",children:s.jsx("svg",{className:"w-6 h-6 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})}),s.jsx(lr,{className:"text-2xl font-bold",children:"AVAPlay"}),s.jsx(yT,{children:"Entre com suas credenciais administrativas"})]}),s.jsx(tt,{children:s.jsxs("form",{onSubmit:u,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ze,{htmlFor:"email",children:"Email"}),s.jsx(Ie,{id:"email",type:"email",placeholder:"admin@exemplo.com",value:e,onChange:h=>t(h.target.value),required:!0,disabled:a,className:"h-10"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ze,{htmlFor:"password",children:"Senha"}),s.jsx(Ie,{id:"password",type:"password",placeholder:"••••••••",value:r,onChange:h=>n(h.target.value),required:!0,disabled:a,className:"h-10"})]}),o&&s.jsx(Vg,{variant:"destructive",children:s.jsx(Wg,{children:o})}),s.jsx(O,{type:"submit",className:"w-full h-10",disabled:a,children:a?s.jsxs(s.Fragment,{children:[s.jsx(ig,{className:"mr-2 h-4 w-4 animate-spin"}),"Entrando..."]}):"Entrar"}),s.jsx("div",{className:"text-center",children:s.jsx(Qt,{to:"/",className:"text-sm text-muted-foreground hover:text-foreground transition-colors",children:"← Voltar para o site principal"})})]})})]})})]})}function IY(){const{user:e,loading:t}=ar(),[r,n]=f.useState(!1),[a,i]=f.useState(!0);return f.useEffect(()=>{async function o(){if(console.log("🔍 Verificando permissões admin...",{user:e==null?void 0:e.id,authLoading:t}),!e){console.log("❌ Usuário não autenticado"),n(!1),i(!1);return}try{console.log("🔐 Verificando role admin para usuário:",e.id);const{data:l,error:c}=await L.rpc("has_admin_role",{_user_id:e.id});c?(console.error("❌ Erro ao verificar admin:",c),n(!1)):n(!!l)}catch(l){console.error("❌ Erro inesperado ao verificar admin:",l),n(!1)}finally{i(!1),console.log("🏁 Verificação admin concluída:",{isAdmin:r,isLoading:!1})}}t||o()},[e,t]),f.useEffect(()=>{console.log("🔄 Estado do useAdmin atualizado:",{isAdmin:r,isLoading:a,authLoading:t,userId:e==null?void 0:e.id})},[r,a,t,e==null?void 0:e.id]),{isAdmin:r,isLoading:a||t}}const FY=[{title:"Dashboard",url:"/admin/dashboard",icon:Q3},{title:"Usuários",url:"/admin/users",icon:Jc},{title:"Taxas",url:"/admin/fees",icon:$_},{title:"Saque antecipado",url:"/admin/early-fees",icon:$_},{title:"Saques",url:"/admin/withdrawals",icon:mf},{title:"Relatórios",url:"/admin/reports",icon:B3}];function LY(){const{state:e,isMobile:t,setOpenMobile:r}=Od(),n=e==="collapsed",i=Xs().pathname,o=g=>i===g,l=Or(),{user:c}=ar(),{data:d}=Ze({queryKey:["admin-sidebar-profile",c==null?void 0:c.id],enabled:!!(c!=null&&c.id),queryFn:async()=>{const{data:g,error:y}=await L.from("profiles").select("display_name, avatar_url").eq("id",c.id).maybeSingle();if(y)throw y;return g}}),u=(d==null?void 0:d.display_name)||(c==null?void 0:c.email)||"Administrador",h=(d==null?void 0:d.avatar_url)||void 0,{resolvedTheme:m,setTheme:p}=as(),w=async()=>{await L.auth.signOut(),l("/admin/login")},v=()=>p(m==="dark"?"light":"dark");return s.jsx(Ab,{collapsible:"offcanvas",variant:"floating",children:s.jsxs(Db,{children:[s.jsx(Ob,{children:s.jsx("div",{className:"flex items-center justify-between px-2",children:s.jsxs("div",{className:n?"flex items-center gap-2":"flex flex-col items-center gap-1",children:[s.jsxs(Ft,{className:"h-10 w-10",children:[s.jsx(Lt,{src:h,alt:u}),s.jsx($t,{children:(u||"A").charAt(0).toUpperCase()})]}),!n&&s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"text-xs text-muted-foreground truncate max-w-[10rem]",children:u}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Administrador"})]})]})})}),s.jsx(jf,{}),s.jsxs(_f,{children:[s.jsx(Nf,{children:"Painel"}),s.jsx(Sf,{children:s.jsx(Cf,{children:FY.map(g=>s.jsx(Ka,{children:s.jsx(Ga,{asChild:!0,isActive:o(g.url),children:s.jsxs(xp,{to:g.url,end:!0,onClick:()=>{t&&r(!1)},children:[s.jsx(g.icon,{className:"mr-2 h-4 w-4"}),!n&&s.jsx("span",{children:g.title})]})})},g.title))})})]}),s.jsx(jf,{}),s.jsxs(_f,{children:[s.jsx(Nf,{children:"Conta"}),s.jsx(Sf,{children:s.jsxs(Cf,{children:[s.jsx(Ka,{children:s.jsxs(Ga,{onClick:v,children:[m==="dark"?s.jsx(lg,{className:"mr-2 h-4 w-4"}):s.jsx(og,{className:"mr-2 h-4 w-4"}),!n&&s.jsx("span",{children:m==="dark"?"Tema claro":"Tema escuro"})]})}),s.jsx(Ka,{children:s.jsx(Ga,{asChild:!0,isActive:o("/"),children:s.jsxs(xp,{to:"/",end:!0,onClick:()=>{t&&r(!1)},children:[s.jsx(U2,{className:"mr-2 h-4 w-4"}),!n&&s.jsx("span",{children:"Início"})]})})}),s.jsx(Ka,{children:s.jsxs(Ga,{onClick:w,children:[s.jsx(B2,{className:"mr-2 h-4 w-4"}),!n&&s.jsx("span",{children:"Sair"})]})})]})})]})]})})}function $Y(){const{isAdmin:e,isLoading:t}=IY(),r=Or(),{resolvedTheme:n}=as();return f.useEffect(()=>{!t&&!e&&r("/admin/login")},[e,t,r]),t?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:s.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary"})}):e?s.jsx(oi,{children:s.jsxs("div",{className:"min-h-screen flex w-full bg-background",children:[s.jsx(LY,{}),s.jsxs("main",{className:"flex-1",children:[s.jsx(Zt,{title:"Painel Administrativo",description:"Gerencie usuários, músicos e configurações do sistema."}),s.jsxs("header",{className:"sticky top-0 z-40 h-12 flex items-center bg-background/80 supports-[backdrop-filter]:bg-background/60 backdrop-blur border-b px-2 gap-2",children:[s.jsx(Dd,{className:"mr-1"}),s.jsx("nav",{className:"flex w-full items-center justify-between",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Qt,{to:"/",className:"font-semibold",children:s.jsx("img",{src:n==="dark"?"/logo_avaplay.png":"/logo_avaplay_amarelo.png",alt:"AVAPlay",className:"h-6"})}),s.jsx("span",{className:"text-sm text-muted-foreground px-2 py-1 bg-muted rounded-md",children:"Admin"}),s.jsx(Id,{isVisible:!1})]})})]}),s.jsx("div",{className:"p-1",children:s.jsx(nP,{})})]})]})}):null}function yi({title:e,value:t,subtitle:r,icon:n,loading:a=!1,trend:i,className:o}){return a?s.jsxs(et,{className:le("",o),children:[s.jsxs(Xt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Xe,{className:"h-4 w-24"}),s.jsx(Xe,{className:"h-4 w-4"})]}),s.jsxs(tt,{children:[s.jsx(Xe,{className:"h-8 w-16 mb-2"}),s.jsx(Xe,{className:"h-3 w-32"})]})]}):s.jsxs(et,{className:le("",o),children:[s.jsxs(Xt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(lr,{className:"text-sm font-medium text-muted-foreground",children:e}),n&&s.jsx("div",{className:"text-muted-foreground",children:n})]}),s.jsxs(tt,{children:[s.jsx("div",{className:"text-2xl font-bold",children:t}),r&&s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:r}),i&&s.jsxs("div",{className:"flex items-center mt-2",children:[s.jsxs("span",{className:le("text-xs font-medium",i.isPositive?"text-green-600":"text-red-600"),children:[i.isPositive?"+":"",i.value,"%"]}),s.jsx("span",{className:"text-xs text-muted-foreground ml-1",children:"vs. período anterior"})]})]})]})}function lm({title:e,data:t,loading:r=!1,metric:n,className:a}){if(r)return s.jsxs(et,{className:le("",a),children:[s.jsx(Xt,{children:s.jsx(Xe,{className:"h-5 w-32"})}),s.jsx(tt,{children:s.jsx(Xe,{className:"h-64 w-full"})})]});if(!t||t.length===0)return s.jsxs(et,{className:le("",a),children:[s.jsx(Xt,{children:s.jsx(lr,{className:"text-lg font-semibold",children:e})}),s.jsx(tt,{children:s.jsx("div",{className:"flex items-center justify-center h-64 text-muted-foreground",children:"Nenhum dado disponível"})})]});const i=t.slice().reverse().map(u=>({date:new Date(u.day).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit"}),value:u[n]})),o=i.map(u=>u.value),l=Math.min(...o),c=Math.max(...o),d=c-l;return s.jsxs(et,{className:le("",a),children:[s.jsx(Xt,{children:s.jsx(lr,{className:"text-lg font-semibold",children:e})}),s.jsxs(tt,{children:[s.jsx("div",{className:"h-64 flex items-end justify-between gap-1",children:i.map((u,h)=>{const m=d>0?(u.value-l)/d*100:0;return s.jsxs("div",{className:"flex-1 flex flex-col items-center",title:`${u.date}: ${u.value.toLocaleString("pt-BR")}`,children:[s.jsx("div",{className:"w-full bg-primary/20 hover:bg-primary/30 transition-colors rounded-t",style:{height:`${Math.max(m,2)}%`,minHeight:"4px"}}),s.jsx("span",{className:"text-xs text-muted-foreground mt-1 text-center",children:u.date})]},h)})}),s.jsxs("div",{className:"mt-4 flex justify-between text-sm text-muted-foreground",children:[s.jsxs("span",{children:["Mín: ",l.toLocaleString("pt-BR")]}),s.jsxs("span",{children:["Máx: ",c.toLocaleString("pt-BR")]})]})]})]})}function zY(e){const{user:t}=ar(),[r,n]=f.useState(null),[a,i]=f.useState(!0),[o,l]=f.useState(null),[c,d]=f.useState(new Date),u=f.useRef(null),h=f.useRef(!0),m=f.useCallback(async g=>{try{i(!0),l(null);const x=(g||new Date).toISOString().split("T")[0];console.log("🔄 Buscando dados para:",x);const{data:b,error:_}=await L.rpc("get_dashboard_summary",{_day:x});if(_)throw _;if(b&&b.length>0)console.log("✅ Dados obtidos via RPC:",b[0]),n(b[0]);else{const N={day:x,users_total:0,musicians_total:0,songs_total:0,requests_total:0,requests_pending_total:0,musicians_today:0,gross_today:0,ava_today:0,musicians_net_today:0};console.log("📊 Dados padrão criados:",N),n(N)}d(new Date)}catch(y){console.error("❌ Erro ao buscar dados do dashboard:",y),l(y instanceof Error?y.message:"Erro desconhecido")}finally{i(!1)}},[]),p=f.useCallback(()=>{u.current&&clearInterval(u.current),h.current=!0,u.current=setInterval(()=>{h.current&&t&&(console.log("🔄 Polling automático - atualizando dados..."),m(e))},3e4),console.log("⏰ Polling iniciado (30s)")},[m,e,t]),w=f.useCallback(()=>{h.current=!1,u.current&&(clearInterval(u.current),u.current=null),console.log("⏰ Polling parado")},[]);return f.useEffect(()=>{t&&m(e)},[t,e,m]),f.useEffect(()=>{if(t)return console.log("👤 Usuário autenticado, configurando sistema de polling..."),p(),()=>{console.log("⏰ Parando polling..."),w()}},[t,e,p,w]),{data:r,loading:a,error:o,refresh:()=>{console.log("🔄 Refresh manual solicitado"),m(e)},lastUpdate:c}}function UY(){const{user:e}=ar(),[t,r]=f.useState([]),[n,a]=f.useState(!0),[i,o]=f.useState(null),l=f.useCallback(async()=>{try{a(!0),o(null);const d=new Date,u=new Date;u.setDate(u.getDate()-30),console.log("📊 Buscando histórico de",u.toISOString().split("T")[0],"até",d.toISOString().split("T")[0]);const{data:h,error:m}=await L.from("dashboard_daily_summary").select("*").gte("day",u.toISOString().split("T")[0]).lte("day",d.toISOString().split("T")[0]).order("day",{ascending:!1});if(m)throw m;console.log("✅ Histórico obtido:",(h==null?void 0:h.length)||0,"registros"),r(h||[])}catch(d){console.error("❌ Erro ao buscar histórico do dashboard:",d),o(d instanceof Error?d.message:"Erro desconhecido")}finally{a(!1)}},[]);return f.useEffect(()=>{e&&l()},[e,l]),{data:t,loading:n,error:i,refresh:()=>{console.log("🔄 Refresh manual do histórico solicitado"),l()}}}function BY(){const[e,t]=f.useState(new Date),[r,n]=f.useState(!1),{data:a,loading:i,refresh:o,lastUpdate:l}=zY(e),{data:c,loading:d,refresh:u}=UY(),h=g=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(g),m=(g,y)=>{if(y===0)return{value:0,isPositive:!0};const x=(g-y)/y*100;return{value:Math.abs(Math.round(x)),isPositive:x>=0}},w=!c||c.length<2?null:c[1],v=g=>{g&&(console.log("📅 Data alterada para:",g.toISOString().split("T")[0]),t(g),n(!1))};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Dashboard"}),s.jsxs("p",{className:"text-muted-foreground",children:["Visão geral do sistema AVAPlay - ",Ht(e,"PPP",{locale:vl})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(bn,{open:r,onOpenChange:n,children:[s.jsx(jn,{asChild:!0,children:s.jsxs(O,{variant:"outline",className:le("w-[240px] justify-start text-left font-normal",!e&&"text-muted-foreground"),children:[s.jsx(wn,{className:"mr-2 h-4 w-4"}),e?Ht(e,"PPP",{locale:vl}):s.jsx("span",{children:"Selecionar data"})]})}),s.jsx(un,{className:"w-auto p-0",align:"end",children:s.jsx(vs,{mode:"single",selected:e,onSelect:v,initialFocus:!0})})]}),s.jsx(O,{variant:"outline",size:"icon",onClick:()=>{o(),u()},children:s.jsx(L_,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5",children:[s.jsx(yi,{title:"Músicos Totais",value:(a==null?void 0:a.musicians_total.toLocaleString("pt-BR"))||"0",subtitle:"Total de músicos cadastrados",icon:s.jsx(nr,{className:"h-4 w-4"}),loading:i}),s.jsx(yi,{title:"Músicas Totais",value:(a==null?void 0:a.songs_total.toLocaleString("pt-BR"))||"0",subtitle:"Total de músicas cadastradas",icon:s.jsx(wc,{className:"h-4 w-4"}),loading:i}),s.jsx(yi,{title:"Pedidos Totais",value:(a==null?void 0:a.requests_total.toLocaleString("pt-BR"))||"0",subtitle:"Total de pedidos realizados",icon:s.jsx(tF,{className:"h-4 w-4"}),loading:i}),s.jsx(yi,{title:"Pedidos Pendentes",value:(a==null?void 0:a.requests_pending_total.toLocaleString("pt-BR"))||"0",subtitle:"Pedidos aguardando aprovação",icon:s.jsx(z2,{className:"h-4 w-4"}),loading:i}),s.jsx(yi,{title:"Novos Músicos",value:(a==null?void 0:a.musicians_today.toLocaleString("pt-BR"))||"0",subtitle:`Novos músicos em ${Ht(e,"dd/MM/yyyy")}`,icon:s.jsx(nr,{className:"h-4 w-4"}),loading:i,trend:w?m((a==null?void 0:a.musicians_today)||0,w.musicians_today):void 0})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[s.jsx(yi,{title:"Taxa AVA do Dia",value:h((a==null?void 0:a.ava_today)||0),subtitle:`Taxa da plataforma em ${Ht(e,"dd/MM/yyyy")}`,icon:s.jsx(Nm,{className:"h-4 w-4"}),loading:i,trend:w?m((a==null?void 0:a.ava_today)||0,w.ava_today):void 0}),s.jsx(yi,{title:"Receita Músicos",value:h((a==null?void 0:a.musicians_net_today)||0),subtitle:`Receita líquida dos músicos em ${Ht(e,"dd/MM/yyyy")}`,icon:s.jsx(Nm,{className:"h-4 w-4"}),loading:i,trend:w?m((a==null?void 0:a.musicians_net_today)||0,w.musicians_net_today):void 0}),s.jsx(yi,{title:"Faturamento do Dia",value:h((a==null?void 0:a.gross_today)||0),subtitle:`Faturamento bruto em ${Ht(e,"dd/MM/yyyy")}`,icon:s.jsx(Nm,{className:"h-4 w-4"}),loading:i,trend:w?m((a==null?void 0:a.gross_today)||0,w.gross_today):void 0})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsx(lm,{title:"Evolução de Usuários",data:c,loading:d,metric:"users_total"}),s.jsx(lm,{title:"Evolução de Músicos",data:c,loading:d,metric:"musicians_total"}),s.jsx(lm,{title:"Evolução de Pedidos",data:c,loading:d,metric:"requests_total"}),s.jsx(lm,{title:"Faturamento Diário",data:c,loading:d,metric:"gross_today"})]}),s.jsxs("div",{className:"text-center text-sm text-muted-foreground",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[s.jsx(L_,{className:"h-3 w-3 animate-spin"}),s.jsxs("span",{children:["Atualização automática a cada 30 segundos • Dados para ",Ht(e,"dd/MM/yyyy")]})]}),s.jsxs("div",{className:"text-xs",children:["Última atualização: ",Ht(l,"HH:mm:ss")]})]})]})}function qY(){return s.jsx("div",{className:"p-4",children:s.jsx(BY,{})})}const yA=({className:e,...t})=>s.jsx("nav",{role:"navigation","aria-label":"pagination",className:le("mx-auto flex w-full justify-center",e),...t});yA.displayName="Pagination";const wA=f.forwardRef(({className:e,...t},r)=>s.jsx("ul",{ref:r,className:le("flex flex-row items-center gap-1",e),...t}));wA.displayName="PaginationContent";const Z0=f.forwardRef(({className:e,...t},r)=>s.jsx("li",{ref:r,className:le("",e),...t}));Z0.displayName="PaginationItem";const xj=({className:e,isActive:t,size:r="icon",...n})=>s.jsx("a",{"aria-current":t?"page":void 0,className:le(nd({variant:t?"outline":"ghost",size:r}),e),...n});xj.displayName="PaginationLink";const bA=({className:e,...t})=>s.jsxs(xj,{"aria-label":"Go to previous page",size:"default",className:le("gap-1 pl-2.5",e),...t,children:[s.jsx(L2,{className:"h-4 w-4"}),s.jsx("span",{children:"Previous"})]});bA.displayName="PaginationPrevious";const jA=({className:e,...t})=>s.jsxs(xj,{"aria-label":"Go to next page",size:"default",className:le("gap-1 pr-2.5",e),...t,children:[s.jsx("span",{children:"Next"}),s.jsx(Zw,{className:"h-4 w-4"})]});jA.displayName="PaginationNext";const cm=20;function Gx(e){return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e||0)}function Yx(e){return Ht(new Date(e),"dd/MM/yyyy",{locale:vl})}function VY(){const[e,t]=f.useState(1),[r,n]=f.useState(""),[a,i]=f.useState(""),[o,l]=f.useState("all"),[c,d]=f.useState(null),[u,h]=f.useState({email:"",display_name:"",username:"",is_pro:!1,is_active:!1,is_blocked:!1,role:""}),{toast:m}=Qs(),p=is(),[w,v]=f.useState(!1),[g,y]=f.useState(null),[x,b]=f.useState([]),[_,N]=f.useState(!1),k=f.useMemo(()=>o==="all"?null:o,[o]),{data:S,isLoading:R,refetch:U,isFetching:B,isError:re,error:G}=Ze({queryKey:["admin-users",{page:e,nameFilter:r,emailFilter:a,roleParam:k}],queryFn:async()=>{try{const{data:C,error:T}=await L.rpc("admin_list_users",{p_search_name:r||null,p_search_email:a||null,p_role:k,p_page:e,p_page_size:cm});if(T)throw T;return console.log("admin_list_users result",C),C||[]}catch(C){console.error("admin_list_users RPC error",C),m({title:"Erro ao listar usuários (RPC)",description:String((C==null?void 0:C.message)||C)}),a&&m({title:"Filtro por email indisponível",description:"Aplicando fallback sem email. Execute as migrações para habilitar a busca por email."});let T=L.from("profiles").select("id, display_name, username, is_pro, is_active, is_blocked, user_roles(role)",{count:"exact"}).order("display_name",{ascending:!0,nullsFirst:!1});if(r&&(T=T.or(`display_name.ilike.%${r}%,username.ilike.%${r}%`)),k)try{T=T.eq("user_roles.role",k)}catch(P){console.warn("Nested role filter failed; continuing without role filter",P)}const A=(e-1)*cm,Y=e*cm-1,{data:E,count:$,error:Z}=await T.range(A,Y);if(Z)throw console.error("profiles fallback error",Z),m({title:"Erro ao listar usuários (fallback)",description:String(Z.message||Z),variant:"destructive"}),Z;return(E||[]).map(P=>({id:P.id,display_name:P.display_name,email:null,username:P.username,is_pro:!!P.is_pro,is_active:!!P.is_active,is_blocked:!!P.is_blocked,roles:(P.user_roles||[]).map(F=>F.role),total_count:$??0}))}},keepPreviousData:!0}),H=S&&S.length>0?S[0].total_count??0:0,V=Math.max(1,Math.ceil(H/cm));f.useEffect(()=>{t(1)},[r,a,k]);const se=C=>{d(C),h({email:C.email||"",display_name:C.display_name||"",username:C.username||"",is_pro:!!C.is_pro,is_active:!!C.is_active,is_blocked:!!C.is_blocked,role:(C.roles||[]).includes("admin")?"admin":(C.roles||[]).includes("musician")?"musician":(C.roles||[]).includes("public")?"public":""})},te=()=>d(null),J=async C=>{if(!C.roles.includes("musician")){m({title:"Usuário não é músico",description:"Apenas usuários com perfil de músico têm repasses para visualizar.",variant:"destructive"});return}y(C),v(!0),N(!0);try{const{data:T,error:A}=await L.from("transaction_batches").select("*").eq("musician_id",C.id).order("day",{ascending:!1});if(A)throw A;b(T||[])}catch(T){console.error("Erro ao buscar repasses:",T),m({title:"Erro ao buscar repasses",description:"Não foi possível carregar os repasses deste músico.",variant:"destructive"}),b([])}finally{N(!1)}},I=()=>{v(!1),y(null),b([])},D=ii({mutationFn:async()=>{if(!c)return;const C=new Set(c.roles||[]),T=u.role||"public",A=Array.from(C).filter($=>$!==T);if(!C.has(T)){const{error:$}=await L.from("user_roles").insert([{user_id:c.id,role:T}]);if($)throw $}if(A.length>0){const{error:$}=await L.from("user_roles").delete().eq("user_id",c.id).in("role",A);if($)throw $}const Y={display_name:u.display_name,username:u.username,is_pro:u.is_pro,is_active:u.is_active,is_blocked:u.is_blocked},{error:E}=await L.from("profiles").update(Y).eq("id",c.id);if(E)throw E},onSuccess:async()=>{m({title:"Usuário atualizado"}),await p.invalidateQueries({queryKey:["admin-users"]}),te()},onError:C=>{m({title:"Erro ao atualizar",description:String((C==null?void 0:C.message)||C),variant:"destructive"})}});return s.jsxs("div",{className:"p-2 md:p-4",children:[s.jsxs(et,{children:[s.jsxs(Xt,{className:"flex flex-col gap-2",children:[s.jsx(lr,{children:"Usuários"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-2",children:[s.jsxs("div",{children:[s.jsx(ze,{htmlFor:"f-name",children:"Nome/Usuário"}),s.jsx(Ie,{id:"f-name",placeholder:"Buscar por nome ou usuário",value:r,onChange:C=>n(C.target.value)})]}),s.jsxs("div",{children:[s.jsx(ze,{htmlFor:"f-email",children:"Email"}),s.jsx(Ie,{id:"f-email",placeholder:"Buscar por email",value:a,onChange:C=>i(C.target.value)})]}),s.jsxs("div",{children:[s.jsx(ze,{children:"Tipo"}),s.jsxs(bl,{value:o,onValueChange:C=>l(C),children:[s.jsx(ho,{children:s.jsx(jl,{placeholder:"Tipo de usuário"})}),s.jsxs(mo,{children:[s.jsx(Qr,{value:"all",children:"Todos"}),s.jsx(Qr,{value:"musician",children:"Músico"}),s.jsx(Qr,{value:"public",children:"Público"}),s.jsx(Qr,{value:"admin",children:"Admin"})]})]})]}),s.jsxs("div",{className:"flex items-end gap-2",children:[s.jsx(O,{onClick:()=>U(),disabled:B,children:"Filtrar"}),s.jsx(O,{variant:"outline",onClick:()=>{n(""),i(""),l("all")},children:"Limpar"})]})]})]}),s.jsxs(tt,{children:[re&&s.jsx(Vg,{variant:"destructive",className:"mb-3",children:s.jsx(Wg,{children:"Ocorreu um erro ao carregar a lista de usuários. Tente novamente ou verifique as migrações."})}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(xo,{children:[s.jsx(yo,{children:s.jsxs(Zr,{children:[s.jsx(ft,{children:"Nome público"}),s.jsx(ft,{children:"Email"}),s.jsx(ft,{children:"Usuário"}),s.jsx(ft,{children:"is_pro"}),s.jsx(ft,{children:"is_active"}),s.jsx(ft,{children:"is_blocked"}),s.jsx(ft,{children:"Tipo"}),s.jsx(ft,{children:"Repasses"}),s.jsx(ft,{className:"text-right",children:"Ações"})]})}),s.jsxs(wo,{children:[(S||[]).map(C=>s.jsxs(Zr,{className:"hover:bg-muted/50 cursor-pointer",onClick:()=>se(C),children:[s.jsx(lt,{className:"max-w-[16rem] truncate",children:C.display_name||"-"}),s.jsx(lt,{className:"max-w-[20rem] truncate",children:C.email||"-"}),s.jsx(lt,{className:"max-w-[12rem] truncate",children:C.username||"-"}),s.jsx(lt,{children:C.is_pro?s.jsx(Gr,{variant:"default",children:"PRO"}):s.jsx(Gr,{variant:"secondary",children:"—"})}),s.jsx(lt,{children:C.is_active?s.jsx(Gr,{variant:"outline",children:"Ativo"}):s.jsx(Gr,{variant:"secondary",children:"Inativo"})}),s.jsx(lt,{children:C.is_blocked?s.jsx(Gr,{variant:"destructive",children:"Bloqueado"}):s.jsx(Gr,{variant:"secondary",children:"—"})}),s.jsx(lt,{className:"space-x-1",children:(C.roles||[]).map(T=>s.jsx(Gr,{variant:"outline",children:T},T))}),s.jsx(lt,{children:C.roles.includes("musician")?s.jsxs(O,{size:"sm",variant:"outline",onClick:T=>{T.stopPropagation(),J(C)},children:[s.jsx(Ur,{className:"h-3 w-3 mr-1"}),"Ver"]}):s.jsx("span",{className:"text-muted-foreground text-sm",children:"—"})}),s.jsx(lt,{className:"text-right",children:s.jsx(O,{size:"sm",variant:"outline",onClick:T=>{T.stopPropagation(),se(C)},children:"Editar"})})]},C.id)),!R&&(S||[]).length===0&&s.jsx(Zr,{children:s.jsx(lt,{colSpan:9,className:"text-center text-sm text-muted-foreground",children:"Nenhum usuário encontrado"})})]})]})}),s.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:R?"Carregando...":`${H} resultados`}),s.jsx(yA,{children:s.jsxs(wA,{children:[s.jsx(Z0,{children:s.jsx(bA,{href:"#",onClick:C=>{C.preventDefault(),t(T=>Math.max(1,T-1))},className:e<=1?"pointer-events-none opacity-50":""})}),s.jsx(Z0,{children:s.jsx(jA,{href:"#",onClick:C=>{C.preventDefault(),t(T=>Math.min(V,T+1))},className:e>=V?"pointer-events-none opacity-50":""})})]})})]})]})]}),s.jsx(qr,{open:!!c,onOpenChange:C=>{C||te()},children:s.jsxs(Pr,{className:"max-h-[85vh] p-0 overflow-hidden",children:[s.jsx(Tr,{className:"px-6 pt-6",children:s.jsx(Rr,{children:"Editar usuário"})}),s.jsxs("div",{className:"grid gap-4 px-6 py-4 flex-1 overflow-y-auto",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2 col-span-2",children:[s.jsx(ze,{htmlFor:"edit-email",children:"Email"}),s.jsx(Ie,{id:"edit-email",type:"email",value:u.email,onChange:C=>h(T=>({...T,email:C.target.value}))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ze,{htmlFor:"edit-display-name",children:"Nome público"}),s.jsx(Ie,{id:"edit-display-name",value:u.display_name,onChange:C=>h(T=>({...T,display_name:C.target.value}))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ze,{htmlFor:"edit-username",children:"Usuário"}),s.jsx(Ie,{id:"edit-username",value:u.username,onChange:C=>h(T=>({...T,username:C.target.value}))})]}),s.jsxs("div",{className:"space-y-2 col-span-2",children:[s.jsx(ze,{children:"Tipo"}),s.jsxs(bl,{value:u.role||"public",onValueChange:C=>h(T=>({...T,role:C})),children:[s.jsx(ho,{children:s.jsx(jl,{placeholder:"Selecione o tipo"})}),s.jsxs(mo,{children:[s.jsx(Qr,{value:"public",children:"Público"}),s.jsx(Qr,{value:"musician",children:"Músico"}),s.jsx(Qr,{value:"admin",children:"Admin"})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"flex items-center justify-between rounded-lg border p-3",children:[s.jsxs("div",{children:[s.jsx(ze,{className:"mb-0",children:"Pro"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Exibe selo PRO"})]}),s.jsx(no,{checked:u.is_pro,onCheckedChange:C=>h(T=>({...T,is_pro:C}))})]}),s.jsxs("div",{className:"flex items-center justify-between rounded-lg border p-3",children:[s.jsxs("div",{children:[s.jsx(ze,{className:"mb-0",children:"Ativo"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Permite login"})]}),s.jsx(no,{checked:u.is_active,onCheckedChange:C=>h(T=>({...T,is_active:C}))})]}),s.jsxs("div",{className:"flex items-center justify-between rounded-lg border p-3",children:[s.jsxs("div",{children:[s.jsx(ze,{className:"mb-0",children:"Bloqueado"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Restringe acesso"})]}),s.jsx(no,{checked:u.is_blocked,onCheckedChange:C=>h(T=>({...T,is_blocked:C}))})]})]})]}),s.jsxs(ya,{className:"px-6 py-4 border-t bg-background sm:flex-row sm:justify-end gap-2",children:[s.jsx(O,{variant:"outline",onClick:te,children:"Cancelar"}),s.jsx(O,{onClick:()=>D.mutate(),disabled:D.isPending,children:"Salvar"})]})]})}),s.jsx(qr,{open:w,onOpenChange:v,children:s.jsxs(Pr,{className:"max-w-4xl max-h-[85vh] p-0 overflow-hidden",children:[s.jsx(Tr,{className:"px-6 pt-6",children:s.jsxs(Rr,{className:"flex items-center gap-2",children:[s.jsx(mf,{className:"h-5 w-5"}),"Repasses - ",(g==null?void 0:g.display_name)||(g==null?void 0:g.username)||"Músico"]})}),s.jsx("div",{className:"px-6 py-4 flex-1 overflow-y-auto",children:_?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Carregando repasses..."})]}):x.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(mf,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Nenhum repasse encontrado para este músico."})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Total de ",x.length," repasse(s) encontrado(s)"]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(xo,{children:[s.jsx(yo,{children:s.jsxs(Zr,{children:[s.jsx(ft,{children:"Período"}),s.jsx(ft,{children:"Valor Bruto"}),s.jsx(ft,{children:"Valor Líquido"}),s.jsx(ft,{children:"Status"}),s.jsx(ft,{children:"Solicitado em"}),s.jsx(ft,{children:"Repassado em"}),s.jsx(ft,{children:"Antecipado"})]})}),s.jsx(wo,{children:x.map(C=>s.jsxs(Zr,{children:[s.jsx(lt,{className:"font-medium",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(wn,{className:"h-4 w-4 text-muted-foreground"}),Yx(C.day)]})}),s.jsx(lt,{className:"font-mono",children:Gx(C.total_musician_amount)}),s.jsx(lt,{className:"font-mono",children:Gx(C.total_musician_payout)}),s.jsx(lt,{children:s.jsx(Gr,{variant:C.status==="paid"?"default":"secondary",className:C.status==="paid"?"bg-green-100 text-green-800":"",children:C.status==="paid"?"Pago":"Solicitado"})}),s.jsx(lt,{children:C.requested_at?Yx(C.requested_at):"—"}),s.jsx(lt,{children:C.payout_at?Yx(C.payout_at):"—"}),s.jsx(lt,{children:C.is_early?s.jsxs("div",{className:"text-sm",children:[s.jsxs(Gr,{variant:"outline",className:"text-orange-600 border-orange-600",children:[C.early_discount_percent,"% desconto"]}),s.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:Gx(C.early_discount_amount)})]}):s.jsx("span",{className:"text-muted-foreground text-sm",children:"—"})})]},C.id))})]})})]})}),s.jsx(ya,{className:"px-6 py-4 border-t bg-background",children:s.jsx(O,{variant:"outline",onClick:I,children:"Fechar"})})]})})]})}function WY(){const{toast:e}=Qs(),t=is(),[r,n]=f.useState(""),[a,i]=f.useState("5"),{data:o,isFetching:l}=Ze({queryKey:["fee-rates"],queryFn:async()=>{const u=await L.from("platform_fee_rates").select("id, percent, is_active, effective_from, days_to_payout").order("effective_from",{ascending:!1});if(!u.error)return u.data||[];if(String(u.error.message||u.error).includes("days_to_payout")){const{data:m,error:p}=await L.from("platform_fee_rates").select("id, percent, is_active, effective_from").order("effective_from",{ascending:!1});if(p)throw p;return m||[]}throw u.error}}),c=ii({mutationFn:async()=>{const u=Number(r);if(isNaN(u)||u<0||u>100)throw new Error("Percentual inválido");const h=Number(a);if(!Number.isInteger(h)||h<0||h>60)throw new Error("Dias inválidos (0-60)");const m=await L.from("platform_fee_rates").insert({percent:u,is_active:!1,days_to_payout:h});if(!m.error)return;if(String(m.error.message||m.error).includes("days_to_payout")){const{error:w}=await L.from("platform_fee_rates").insert({percent:u,is_active:!1});if(w)throw w;return}throw m.error},onSuccess:async()=>{n(""),i("5"),e({title:"Taxa criada"}),await t.invalidateQueries({queryKey:["fee-rates"]})},onError:u=>e({title:"Erro",description:String((u==null?void 0:u.message)||u),variant:"destructive"})}),d=ii({mutationFn:async u=>{const{error:h}=await L.from("platform_fee_rates").update({is_active:!1}).neq("id",u);if(h)throw h;const{error:m}=await L.from("platform_fee_rates").update({is_active:!0}).eq("id",u);if(m)throw m},onSuccess:async()=>{e({title:"Taxa ativada"}),await t.invalidateQueries({queryKey:["fee-rates"]})},onError:u=>e({title:"Erro",description:String((u==null?void 0:u.message)||u),variant:"destructive"})});return s.jsx("div",{className:"p-4 space-y-4",children:s.jsxs(et,{children:[s.jsx(Xt,{children:s.jsx(lr,{children:"Taxas da Plataforma"})}),s.jsxs(tt,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-end gap-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ze,{htmlFor:"pct",children:"Percentual (%)"}),s.jsx(Ie,{id:"pct",placeholder:"Ex: 10",value:r,onChange:u=>n(u.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ze,{htmlFor:"days",children:"D+N (dias para saque normal)"}),s.jsx(Ie,{id:"days",placeholder:"Ex: 5",value:a,onChange:u=>i(u.target.value)})]}),s.jsx(O,{onClick:()=>c.mutate(),disabled:c.isPending||l,children:"Adicionar"})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(xo,{children:[s.jsx(yo,{children:s.jsxs(Zr,{children:[s.jsx(ft,{children:"Percentual"}),s.jsx(ft,{children:"Vigente"}),s.jsx(ft,{children:"Início"}),s.jsx(ft,{children:"D+N"}),s.jsx(ft,{className:"text-right",children:"Ações"})]})}),s.jsx(wo,{children:(o||[]).map(u=>s.jsxs(Zr,{children:[s.jsxs(lt,{children:[u.percent,"%"]}),s.jsx(lt,{children:u.is_active?s.jsx(Gr,{children:"Ativa"}):s.jsx(Gr,{variant:"secondary",children:"—"})}),s.jsx(lt,{children:new Date(u.effective_from).toLocaleString("pt-BR")}),s.jsx(lt,{children:u.days_to_payout??5}),s.jsx(lt,{className:"text-right",children:!u.is_active&&s.jsx(O,{size:"sm",variant:"outline",onClick:()=>d.mutate(u.id),children:"Ativar"})})]},u.id))})]})})]})]})})}function HY(){const{toast:e}=Qs(),t=is(),[r,n]=f.useState(""),{data:a,isFetching:i}=Ze({queryKey:["early-withdrawal-rates"],queryFn:async()=>{const{data:c,error:d}=await L.from("early_withdrawal_rates").select("id, percent, is_active, effective_from").order("effective_from",{ascending:!1});if(d)throw d;return c||[]}}),o=ii({mutationFn:async()=>{const c=Number(r);if(isNaN(c)||c<0||c>100)throw new Error("Percentual inválido");const{error:d}=await L.from("early_withdrawal_rates").insert({percent:c,is_active:!1});if(d)throw d},onSuccess:async()=>{n(""),e({title:"Taxa de saque criada"}),await t.invalidateQueries({queryKey:["early-withdrawal-rates"]})},onError:c=>e({title:"Erro",description:String((c==null?void 0:c.message)||c),variant:"destructive"})}),l=ii({mutationFn:async c=>{const{error:d}=await L.from("early_withdrawal_rates").update({is_active:!1}).neq("id",c);if(d)throw d;const{error:u}=await L.from("early_withdrawal_rates").update({is_active:!0}).eq("id",c);if(u)throw u},onSuccess:async()=>{e({title:"Taxa ativada"}),await t.invalidateQueries({queryKey:["early-withdrawal-rates"]})},onError:c=>e({title:"Erro",description:String((c==null?void 0:c.message)||c),variant:"destructive"})});return s.jsx("div",{className:"p-4 space-y-4",children:s.jsxs(et,{children:[s.jsx(Xt,{children:s.jsx(lr,{children:"Taxas de Saque Antecipado"})}),s.jsxs(tt,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-end gap-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ze,{htmlFor:"pct",children:"Percentual (%)"}),s.jsx(Ie,{id:"pct",placeholder:"Ex: 5",value:r,onChange:c=>n(c.target.value)})]}),s.jsx(O,{onClick:()=>o.mutate(),disabled:o.isPending||i,children:"Adicionar"})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(xo,{children:[s.jsx(yo,{children:s.jsxs(Zr,{children:[s.jsx(ft,{children:"Percentual"}),s.jsx(ft,{children:"Vigente"}),s.jsx(ft,{children:"Início"}),s.jsx(ft,{className:"text-right",children:"Ações"})]})}),s.jsx(wo,{children:(a||[]).map(c=>s.jsxs(Zr,{children:[s.jsxs(lt,{children:[c.percent,"%"]}),s.jsx(lt,{children:c.is_active?s.jsx(Gr,{children:"Ativa"}):s.jsx(Gr,{variant:"secondary",children:"—"})}),s.jsx(lt,{children:new Date(c.effective_from).toLocaleString("pt-BR")}),s.jsx(lt,{className:"text-right",children:!c.is_active&&s.jsx(O,{size:"sm",variant:"outline",onClick:()=>l.mutate(c.id),children:"Ativar"})})]},c.id))})]})})]})]})})}function KY(){const[e,t]=f.useState(!1),{toast:r}=Qs();return{copyToClipboard:async(a,i)=>{try{await navigator.clipboard.writeText(a),t(!0),r({title:"Copiado!",description:i||"Texto copiado para a área de transferência",duration:2e3}),setTimeout(()=>t(!1),2e3)}catch(o){console.error("Failed to copy text: ",o);try{const l=document.createElement("textarea");l.value=a,l.style.position="fixed",l.style.left="-999999px",l.style.top="-999999px",document.body.appendChild(l),l.focus(),l.select(),document.execCommand("copy"),l.remove(),t(!0),r({title:"Copiado!",description:i||"Texto copiado para a área de transferência",duration:2e3}),setTimeout(()=>t(!1),2e3)}catch{r({title:"Erro",description:"Não foi possível copiar o texto",variant:"destructive",duration:3e3})}}},copied:e}}const Qx=20;function Xx(e){return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e||0)}function Zx(e){if(!e)return"-";const t=new Date(e);return isNaN(t.getTime())?"-":Ht(t,"dd/MM/yyyy",{locale:vl})}function GY(e){if(!e)return"-";const t=new Date(e);return isNaN(t.getTime())?"-":Ht(t,"dd/MM/yyyy HH:mm",{locale:vl})}function YY(){var D,C,T,A,Y;const{user:e}=ar(),{toast:t}=Qs(),{copyToClipboard:r,copied:n}=KY(),a=is(),[i,o]=f.useState(!1),[l,c]=f.useState(null),[d,u]=f.useState(new Date),[h,m]=f.useState(!1),[p,w]=f.useState({from:Hu(new Date,30),to:new Date}),[v,g]=f.useState("all");f.useState(!1);const{data:y,fetchNextPage:x,hasNextPage:b,isFetchingNextPage:_,isLoading:N,error:k,refetch:S}=js({queryKey:["admin-withdrawals",p==null?void 0:p.from,p==null?void 0:p.to,v],enabled:!!e,initialPageParam:0,getNextPageParam:E=>E.nextCursor,queryFn:async({pageParam:E})=>{const $=Number(E)||0,Z=$+Qx-1;let Q=L.from("transaction_batches").select(`
          *,
          musician_profile:profiles!transaction_batches_musician_id_fkey(
            display_name,
            username,
            pix_key,
            responsible_name,
            responsible_whatsapp
          )
        `);v==="requested"?Q=Q.eq("status","requested"):v==="paid"&&(Q=Q.eq("status","paid")),p!=null&&p.from&&(Q=Q.gte("day",p.from.toISOString().split("T")[0])),p!=null&&p.to&&(Q=Q.lte("day",p.to.toISOString().split("T")[0])),v==="paid"?Q=Q.order("payout_at",{ascending:!1}):Q=Q.order("requested_at",{ascending:!1});const{data:P,error:F}=await Q.range($,Z);if(F)throw F;const X=P||[];return{items:X,nextCursor:X.length===Qx?$+Qx:void 0}},onError:E=>{t({title:"Erro ao carregar saques",description:(E==null?void 0:E.message)||"Verifique suas permissões ou tente novamente.",variant:"destructive"}),console.error("[Admin Withdrawals] query error:",E)}}),R=(y==null?void 0:y.pages.flatMap(E=>E.items))??[],U=ii({mutationFn:async({batchId:E,payoutDate:$})=>{const{error:Z}=await L.from("transaction_batches").update({status:"paid",payout_at:$.toISOString(),updated_at:new Date().toISOString()}).eq("id",E);if(Z)throw Z;return{success:!0}},onSuccess:()=>{t({title:"Repasse confirmado!",description:"O saque foi marcado como pago com sucesso."}),o(!1),c(null),a.invalidateQueries({queryKey:["admin-withdrawals"]})},onError:E=>{t({title:"Erro ao confirmar repasse",description:E.message||"Tente novamente.",variant:"destructive"})}}),B=ii({mutationFn:async({batchId:E})=>{const{error:$}=await L.from("transaction_batches").update({status:"requested",payout_at:null,updated_at:new Date().toISOString()}).eq("id",E);if($)throw $;return{success:!0}},onSuccess:()=>{t({title:"Confirmação revertida!",description:"O saque voltou ao status de solicitado."}),a.invalidateQueries({queryKey:["admin-withdrawals"]})},onError:E=>{t({title:"Erro ao reverter confirmação",description:E.message||"Tente novamente.",variant:"destructive"})}}),re=f.useCallback(async()=>{if(!(!l||!d)){m(!0);try{await U.mutateAsync({batchId:l.id,payoutDate:d})}finally{m(!1)}}},[l,d,U]),G=f.useCallback(async E=>{confirm("Tem certeza que deseja reverter a confirmação deste repasse?")&&await B.mutateAsync({batchId:E})},[B]),H=f.useCallback(E=>{w(E),a.invalidateQueries({queryKey:["admin-withdrawals"]})},[a]),V=f.useCallback(E=>{g(E),a.invalidateQueries({queryKey:["admin-withdrawals"]})},[a]),se=f.useCallback(()=>{w({from:Hu(new Date,30),to:new Date}),g("all"),a.invalidateQueries({queryKey:["admin-withdrawals"]})},[a]),te=f.useCallback(E=>{c(E),u(new Date),o(!0)},[]),J=f.useCallback((E,$)=>{if(!E||E==="Não configurado"){t({title:"Chave PIX não disponível",description:"Este músico não configurou uma chave PIX",variant:"destructive"});return}r(E,`Chave PIX de ${$} copiada!`)},[r,t]),I=(E,$,Z)=>Z?s.jsx(Gr,{variant:"default",className:"bg-green-600",children:"Pago"}):E==="requested"?s.jsx(Gr,{variant:$?"secondary":"default",children:$?"Antecipado":"Solicitado"}):s.jsx(Gr,{variant:"outline",children:E});return e?s.jsxs(s.Fragment,{children:[s.jsx(Zt,{title:"Gerenciar Saques - Admin",description:"Gerencie todos os saques solicitados pelos músicos"}),s.jsxs("div",{className:"p-6 space-y-6",children:[k&&s.jsxs("div",{className:"p-3 rounded-md border border-destructive/30 bg-destructive/10 text-destructive text-sm",children:["Erro ao carregar dados: ",String((k==null?void 0:k.message)||k)]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Gerenciar Saques"}),s.jsx("p",{className:"text-muted-foreground",children:"Gerencie todos os saques solicitados e repasses confirmados pelos músicos"})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsx(O,{onClick:()=>S(),variant:"outline",children:"Atualizar"})})]}),s.jsxs(et,{children:[s.jsx(Xt,{children:s.jsxs(lr,{className:"flex items-center gap-2",children:[s.jsx(Sm,{className:"h-5 w-5"}),"Filtros"]})}),s.jsxs(tt,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Status"}),s.jsxs("select",{value:v,onChange:E=>V(E.target.value),className:"w-full p-2 border rounded-md",children:[s.jsx("option",{value:"all",children:"Todos os Status"}),s.jsx("option",{value:"requested",children:"Solicitados"}),s.jsx("option",{value:"paid",children:"Repasses Confirmados"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Data Início"}),s.jsxs(bn,{children:[s.jsx(jn,{asChild:!0,children:s.jsxs(O,{variant:"outline",className:le("w-full justify-start text-left font-normal",!(p!=null&&p.from)&&"text-muted-foreground"),children:[s.jsx(wn,{className:"mr-2 h-4 w-4"}),p!=null&&p.from?Ht(p.from,"dd/MM/yyyy"):s.jsx("span",{children:"Selecionar data"})]})}),s.jsx(un,{className:"w-auto p-0",align:"start",children:s.jsx(vs,{mode:"single",selected:p==null?void 0:p.from,onSelect:E=>H({from:E,to:p==null?void 0:p.to}),initialFocus:!0})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Data Fim"}),s.jsxs(bn,{children:[s.jsx(jn,{asChild:!0,children:s.jsxs(O,{variant:"outline",className:le("w-full justify-start text-left font-normal",!(p!=null&&p.to)&&"text-muted-foreground"),children:[s.jsx(wn,{className:"mr-2 h-4 w-4"}),p!=null&&p.to?Ht(p.to,"dd/MM/yyyy"):s.jsx("span",{children:"Selecionar data"})]})}),s.jsx(un,{className:"w-auto p-0",align:"start",children:s.jsx(vs,{mode:"single",selected:p==null?void 0:p.to,onSelect:E=>H({from:p==null?void 0:p.from,to:E}),initialFocus:!0})})]})]})]}),s.jsxs("div",{className:"flex items-center justify-between mt-4",children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:(p==null?void 0:p.from)&&(p==null?void 0:p.to)&&s.jsxs(s.Fragment,{children:["Período: ",Ht(p.from,"dd/MM/yyyy")," a ",Ht(p.to,"dd/MM/yyyy"),v!=="all"&&s.jsxs("span",{className:"ml-2",children:["• Status: ",v==="requested"?"Solicitados":"Repasses Confirmados"]})]})}),s.jsx(O,{onClick:se,variant:"outline",size:"sm",children:"Limpar Filtros"})]})]})]}),s.jsxs(et,{children:[s.jsx(Xt,{children:s.jsxs(lr,{className:"flex items-center gap-2",children:[s.jsx(mf,{className:"h-5 w-5"}),v==="all"?`Todos os Saques (${R.length})`:v==="requested"?`Saques Solicitados (${R.length})`:`Repasses Confirmados (${R.length})`]})}),s.jsx(tt,{children:N?s.jsx("div",{className:"text-center py-8",children:"Carregando saques..."}):R.length===0?s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:v==="all"?"Nenhum saque encontrado no período selecionado.":v==="requested"?"Nenhum saque solicitado encontrado no período selecionado.":"Nenhum repasse confirmado encontrado no período selecionado."}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs(xo,{children:[s.jsx(yo,{children:s.jsxs(Zr,{children:[s.jsx(ft,{children:"Músico"}),s.jsx(ft,{children:"Data do Lote"}),s.jsx(ft,{children:"Valor para Repasse"}),s.jsx(ft,{children:"Chave PIX"}),s.jsx(ft,{children:"Status"}),s.jsx(ft,{children:"Solicitado em"}),s.jsx(ft,{children:"Ações"})]})}),s.jsx(wo,{children:R.map(E=>{var $,Z,Q,P,F,X,de,Ne;return s.jsxs(Zr,{children:[s.jsx(lt,{children:s.jsxs("div",{className:"space-y-1",children:[s.jsx("div",{className:"font-medium",children:(($=E.musician_profile)==null?void 0:$.display_name)||"Sem nome"}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:["@",((Z=E.musician_profile)==null?void 0:Z.username)||"sem-username"]}),((Q=E.musician_profile)==null?void 0:Q.responsible_name)&&s.jsxs("div",{className:"text-xs text-muted-foreground",children:["Responsável: ",E.musician_profile.responsible_name]})]})}),s.jsx(lt,{children:s.jsxs("div",{className:"space-y-1",children:[s.jsx("div",{children:Zx(E.day)}),E.is_early&&s.jsxs(Gr,{variant:"secondary",className:"text-xs",children:["Antecipado (-",E.early_discount_percent,"%)"]})]})}),s.jsx(lt,{children:s.jsxs("div",{className:"space-y-1",children:[s.jsx("div",{className:"font-medium text-green-600",children:Xx(E.total_musician_payout)}),E.early_discount_amount>0&&s.jsxs("div",{className:"text-xs text-muted-foreground",children:["Desconto: ",Xx(E.early_discount_amount)]})]})}),s.jsx(lt,{children:s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:le("flex items-center gap-2 p-2 rounded-md transition-colors",(P=E.musician_profile)!=null&&P.pix_key&&E.musician_profile.pix_key!=="Não configurado"?"cursor-pointer hover:bg-muted/50 group":"cursor-not-allowed opacity-60"),onClick:()=>{var me,xe;return J((me=E.musician_profile)==null?void 0:me.pix_key,((xe=E.musician_profile)==null?void 0:xe.display_name)||"Músico")},title:(F=E.musician_profile)!=null&&F.pix_key&&E.musician_profile.pix_key!=="Não configurado"?"Clique para copiar a chave PIX":"Chave PIX não configurada",children:[s.jsx(Y3,{className:"h-3 w-3 flex-shrink-0"}),s.jsx("span",{className:"font-mono text-sm flex-1 min-w-0 truncate",children:((X=E.musician_profile)==null?void 0:X.pix_key)||"Não configurado"}),((de=E.musician_profile)==null?void 0:de.pix_key)&&E.musician_profile.pix_key!=="Não configurado"&&s.jsx(D_,{className:"h-3 w-3 opacity-0 group-hover:opacity-100 transition-opacity"})]}),((Ne=E.musician_profile)==null?void 0:Ne.responsible_whatsapp)&&s.jsxs("div",{className:"text-xs text-muted-foreground pl-5",children:["WhatsApp: ",E.musician_profile.responsible_whatsapp]})]})}),s.jsx(lt,{children:I(E.status,E.is_early,E.payout_at)}),s.jsx(lt,{children:s.jsxs("div",{className:"space-y-1",children:[s.jsx("div",{children:GY(E.requested_at||"")}),E.payout_scheduled_for&&s.jsxs("div",{className:"text-xs text-muted-foreground",children:["Agendado: ",Zx(E.payout_scheduled_for)]})]})}),s.jsx(lt,{children:s.jsx("div",{className:"flex items-center gap-2",children:E.payout_at?s.jsxs(O,{size:"sm",variant:"outline",onClick:()=>G(E.id),className:"text-orange-600 border-orange-600 hover:bg-orange-50",children:[s.jsx(eb,{className:"h-4 w-4 mr-1"}),"Reverter"]}):s.jsxs(O,{size:"sm",onClick:()=>te(E),className:"bg-green-600 hover:bg-green-700",children:[s.jsx(q3,{className:"h-4 w-4 mr-1"}),"Confirmar"]})})})]},E.id)})})]}),b&&s.jsx("div",{className:"flex justify-center pt-4",children:s.jsx(O,{onClick:()=>x(),disabled:_,variant:"outline",children:_?"Carregando...":"Carregar mais"})})]})})]}),s.jsx(qr,{open:i,onOpenChange:o,children:s.jsxs(Pr,{children:[s.jsxs(Tr,{children:[s.jsx(Rr,{children:"Confirmar Repasse"}),s.jsx(Ku,{children:"Confirme que o repasse foi efetuado para o músico."})]}),l&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4 p-4 bg-muted rounded-lg",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Músico"}),s.jsx("div",{className:"font-medium",children:((D=l.musician_profile)==null?void 0:D.display_name)||"Sem nome"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Valor"}),s.jsx("div",{className:"font-medium text-green-600",children:Xx(l.total_musician_payout)})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Chave PIX"}),s.jsxs("div",{className:le("font-mono text-sm p-2 rounded-md border transition-colors",(C=l.musician_profile)!=null&&C.pix_key&&l.musician_profile.pix_key!=="Não configurado"?"cursor-pointer hover:bg-muted/50 group flex items-center gap-2":"cursor-not-allowed opacity-60"),onClick:()=>{var E,$;return J((E=l.musician_profile)==null?void 0:E.pix_key,(($=l.musician_profile)==null?void 0:$.display_name)||"Músico")},title:(T=l.musician_profile)!=null&&T.pix_key&&l.musician_profile.pix_key!=="Não configurado"?"Clique para copiar a chave PIX":"Chave PIX não configurada",children:[s.jsx("span",{className:"flex-1",children:((A=l.musician_profile)==null?void 0:A.pix_key)||"Não configurado"}),((Y=l.musician_profile)==null?void 0:Y.pix_key)&&l.musician_profile.pix_key!=="Não configurado"&&s.jsx(D_,{className:"h-3 w-3 opacity-0 group-hover:opacity-100 transition-opacity"})]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Data do Lote"}),s.jsx("div",{className:"font-medium",children:Zx(l.day)})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Data da Confirmação"}),s.jsxs(bn,{children:[s.jsx(jn,{asChild:!0,children:s.jsxs(O,{variant:"outline",className:le("w-full justify-start text-left font-normal",!d&&"text-muted-foreground"),children:[s.jsx(wn,{className:"mr-2 h-4 w-4"}),d?Ht(d,"PPP",{locale:vl}):s.jsx("span",{children:"Selecionar data"})]})}),s.jsx(un,{className:"w-auto p-0",align:"start",children:s.jsx(vs,{mode:"single",selected:d,onSelect:u,initialFocus:!0})})]})]})]}),s.jsxs(ya,{children:[s.jsx(O,{variant:"outline",onClick:()=>o(!1),disabled:h,children:"Cancelar"}),s.jsx(O,{onClick:re,disabled:!d||h,className:"bg-green-600 hover:bg-green-700",children:h?"Confirmando...":"Confirmar Repasse"})]})]})})]})]}):s.jsx("div",{children:"Carregando..."})}const QY=new _5,XY=()=>s.jsx(E5,{client:QY,children:s.jsx(UF,{attribute:"class",defaultTheme:"system",enableSystem:!0,children:s.jsxs(TE,{children:[s.jsx(LF,{}),s.jsx(yL,{}),s.jsxs(I6,{children:[s.jsxs(E6,{children:[s.jsx(bt,{path:"/",element:s.jsx(XB,{})}),s.jsx(bt,{path:"/auth",element:s.jsx(nq,{})}),s.jsx(bt,{path:"/auth/reset",element:s.jsx(RY,{})}),s.jsx(bt,{path:"/requests",element:s.jsx(M7,{})}),s.jsx(bt,{path:"/scan",element:s.jsx(A7,{})}),s.jsx(bt,{path:"/m/:mid",element:s.jsx(DM,{})}),s.jsx(bt,{path:"/m/:mid/agenda",element:s.jsx(HH,{})}),s.jsx(bt,{path:"/na",element:s.jsx(TH,{})}),s.jsx(bt,{path:"/blocked",element:s.jsx(RH,{})}),s.jsxs(bt,{path:"/musician",element:s.jsx(XK,{}),children:[s.jsx(bt,{index:!0,element:s.jsx(v0,{to:"/musician/catalogo",replace:!0})}),s.jsx(bt,{path:"qr",element:s.jsx(ZK,{})}),s.jsx(bt,{path:"catalogo",element:s.jsx(NY,{})}),s.jsx(bt,{path:"pedidos",element:s.jsx(CY,{})}),s.jsx(bt,{path:"agenda",element:s.jsx(TY,{})}),s.jsx(bt,{path:"extrato",element:s.jsx(PY,{})}),s.jsx(bt,{path:"perfis",element:s.jsx(MY,{})}),s.jsx(bt,{path:"seguindo",element:s.jsx(AY,{})})]}),s.jsx(bt,{path:"/musician/profile",element:s.jsx(YK,{})}),s.jsx(bt,{path:"/conexoes",element:s.jsx(OY,{})}),s.jsx(bt,{path:":username",element:s.jsx(Lo,{})}),s.jsx(bt,{path:":username/:section",element:s.jsx(Lo,{})}),s.jsx(bt,{path:":username/pedir-musica",element:s.jsx(Lo,{})}),s.jsx(bt,{path:":username/agenda",element:s.jsx(Lo,{})}),s.jsx(bt,{path:":username/fotos",element:s.jsx(Lo,{})}),s.jsx(bt,{path:":username/contratar",element:s.jsx(Lo,{})}),s.jsx(bt,{path:":username/contribuir",element:s.jsx(Lo,{})}),s.jsx(bt,{path:"/admin/login",element:s.jsx(DY,{})}),s.jsxs(bt,{path:"/admin",element:s.jsx($Y,{}),children:[s.jsx(bt,{index:!0,element:s.jsx(v0,{to:"/admin/dashboard",replace:!0})}),s.jsx(bt,{path:"dashboard",element:s.jsx(qY,{})}),s.jsx(bt,{path:"users",element:s.jsx(VY,{})}),s.jsx(bt,{path:"fees",element:s.jsx(WY,{})}),s.jsx(bt,{path:"early-fees",element:s.jsx(HY,{})}),s.jsx(bt,{path:"withdrawals",element:s.jsx(YY,{})})]}),s.jsx(bt,{path:"*",element:s.jsx(KH,{})})]}),s.jsx(WH,{})]})]})})});l2(document.getElementById("root")).render(s.jsx(XY,{}));export{Rl as _,ys as c,GS as g};
